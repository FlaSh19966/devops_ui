{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SuperAdminTicketDashboard.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SuperAdminTicketDashboard.vue","mtime":1645594423483},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJhZGlvIGxhYmVsIHsKICAgIG1hcmdpbi1ib3R0b206IDAuM3JlbSAhaW1wb3J0YW50Owp9CmlbYXJpYS1leHBhbmRlZD0idHJ1ZSJdIHsKICBjb2xvcjogIzE5Mjc2NTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmRhc2gtbW9kYWwgLmNsb3NlIHsKICB0b3A6IDBweCAhaW1wb3J0YW50OwogIHBvc2l0aW9uOiBpbmhlcml0ICFpbXBvcnRhbnQ7Cn0KaTpob3ZlciB7CiAgY29sb3I6ICMxOTI3NjU7Cn0KLnRhYmxlIHRoZWFkIHRoIHsKICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tOwogIGJvcmRlci1ib3R0b206IDBweDsKfQouY29tbWVudC1ib3hfZGF0ZXsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbWFyZ2luLXRvcDogNnB4OwogIHRvcDogNHB4OwogIHJpZ2h0OiAycmVtOwp9Ci5pbWdfaWNvbl9jb21tZW50IHsKICBjdXJzb3I6IHBvaW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHJpZ2h0OiAzNHB4OwogIHRvcDogNXB4OwogIG1hcmdpbi1yaWdodDogLTIycHg7CiAgdHJhbnNmb3JtOiByb3RhdGUoMTM2ZGVnKTsKfQouc3RhdHVzX2luX2NvbW1lbnQgYnsKICAvKiBwYWRkaW5nOiAycHggMTBweCAycHg7ICovCiAgYm9yZGVyLXJhZGl1czogNHB4Owp9Ci5TY3JvbGxTdHlsZSB7CiAgLyogaGVpZ2h0OiAyMDBweDsgKi8KICBtaW4taGVpZ2h0OiAwcHg7CiAgbWF4LWhlaWdodDogMjUwcHg7CiAgb3ZlcmZsb3cteTogYXV0bzsKICAvKiBib3JkZXI6IDFweCBzb2xpZCAjZTNlMmU1OyAqLwp9Ci5TY3JvbGxTdHlsZSB0aGVhZCB0aCB7CiAgdG9wOiAwOwogIHBvc2l0aW9uOiBzdGlja3k7Cn0KLlNjcm9sbFN0eWxlOjotd2Via2l0LXNjcm9sbGJhciB7CiAgbWF4LWhlaWdodDogMTBweDsKICB3aWR0aDogN3B4OwogIGhlaWdodDogMTJweDsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIG92ZXJmbG93LXg6IGhpZGRlbjsKfQouU2Nyb2xsU3R5bGU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KLlNjcm9sbFN0eWxlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgYmFja2dyb3VuZDogIzI3Mzk3YjsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9Ci5TY3JvbGxTdHlsZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgewogIGJhY2tncm91bmQ6ICMxOTI5NWY7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQouY2FyZC1hY3QgLmRhcmtibHVlLWJ0bnsKICBmb250LXNpemU6IDE0cHg7CiAgICBjb2xvcjogI2ZmZjsKICAgIGJhY2tncm91bmQ6ICMyNzM2Nzk7CiAgICBib3JkZXI6IHNvbGlkIDFweCAjMjczNjc5OwogICAgcGFkZGluZzogNXB4IDE1cHg7CiAgICBmb250LXdlaWdodDogNDAwOwogICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBoZWlnaHQ6IDMycHg7CiAgICAvKiBtYXJnaW4tdG9wOiAxcHg7ICovCn0K"},{"version":3,"sources":["SuperAdminTicketDashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAygDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SuperAdminTicketDashboard.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Customer Support","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"dash-cont\">\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div class=\"card-header d-block d-sm-flex flex-wrap\">\n            <h4 class=\"mb-sm-0\">Tickets</h4>\n            <div class=\"radio\"\n            style=\"margin-left: 1.5rem;margin-top: 2px;\">\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"AllTickets\"\n                  id=\"filter_status_success\"\n                />\n                <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                All Tickets\n              </label>\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"CompanyTickets\"\n                  id=\"filter_status_failure\"\n                />\n                <span class=\"icn\"></span> Company\n              </label>\n            </div>\n            <div class=\"form-group\"\n            v-if=\"filter_status === 'AllTickets'\"\n             style=\"margin-left: auto;\">\n                <select\n                  @change=\"get_ticket_details\"\n                  v-model=\"sort_status\"\n                  class=\"form-control\"\n                  style=\"height: 34px; padding: 5px;\"\n                  id=\"select_status\"\n                >\n                  <option disabled value=''>Status</option>\n                  <option value=\"All\">All</option>\n                  <option value=\"Open\">Open</option>\n                  <option value=\"Closed\">Closed</option>\n                </select>\n              </div>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-box\">\n              <div class=\"table-responsive\" v-show=\"Boolean(tickets_list.length > 0\n              || tickets_list.length != undefined)\">\n                <table class=\"table\" v-if=\"filter_status === 'AllTickets'\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">COMPANY NAME</th>\n                      <th scope=\"col\">TICKET ISSUE</th>\n                      <th scope=\"col\">CREATED DATE</th>\n                      <th scope=\"col\">TICKET STATUS</th>\n                      <th scope=\"col\">TICKET DETAILS</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(ticket, index) in tickets_list\" :key=\"index\">\n                      <td>{{index+1}}</td>\n                      <td>{{ticket.CompanyName}}</td>\n                      <td\n                      :title=\"ticket.TicketIssue\" \n                      style=\"cursor: pointer;\">\n                        {{trim_ticket_issue(ticket.TicketIssue)}}\n                      </td>\n                      <td class=\"text-center\">{{format_date(ticket.CreatedDate)}}</td>\n                      <td\n                        class=\"text-center\"\n                        :style=\"ticket.CurrentStatus === 'Open' ? \n                        'color: #ff1a1a; font-weight: bold;':\n                        'color: #064; font-weight: bold;'\">\n                        {{ticket.CurrentStatus}}\n                      </td>\n                      <td class=\"text-center\" style=\"cursor: pointer;\">\n                        <a\n                          class=\"view-model\"\n                          href=\"#\"\n                          data-toggle=\"modal\"\n                          data-target=\"#ticketModelDetails\"\n                          @click=\"open_comment_model(index, null)\"\n                        >View\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n                <table class=\"table\" v-if=\"filter_status === 'CompanyTickets'\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">COMPANY NAME</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(item, index) in company_list\" :key=\"index\">\n                      <td>{{index+1}}</td>\n                      <td>\n                        <tr class=\"d-block text-center\">\n                          <a\n                            class=\"btn btn-primaryy border-0\"\n                            data-toggle=\"collapse\"\n                            :href=\"'#collapseExample__' + index\"\n                            role=\"button\"\n                            style=\"color: #273679;\"\n                            aria-expanded=\"false\"\n                            :aria-controls=\"'collapseExample__' + index\"\n                            @click=\"check_collapse(index), get_company_tickets(item.CompanyName, item.CompanyId)\"\n                          >\n                            {{item.CompanyName}}</a> \n                        </tr>\n                        <tr :id=\"'collapseExample__' + index\"\n                         class=\"collapse\"\n                         data-parent=\"table\">\n                          <div class=\"card-body\" style=\"margin-left: 2rem;\">\n                            <div class=\"table-box\">\n                              <select\n                                v-show=\"is_collapse\"\n                                @change=\"get_company_tickets(item.CompanyName, item.CompanyId)\"\n                                v-model=\"sort_company_status\"\n                                class=\"form-control\"\n                                style=\"height: 34px; padding: 5px;margin: 3px 0px;\n                                  width: 90px;margin-left: auto;margin-bottom: 0.5rem;\"\n                                id=\"select_status\"\n                              >\n                                <option disabled value=''>Status</option>\n                                <option value=\"All\">All</option>\n                                <option value=\"Open\">Open</option>\n                                <option value=\"Closed\">Closed</option>\n                              </select>\n                              <div class=\"table-responsive\" v-show=\"Boolean(company_tickets_list.length > 0\n                                || company_tickets_list.length != undefined)\">\n                                <table class=\"table\">\n                                  <thead>\n                                    <tr>\n                                      <th scope=\"col\">#</th>\n                                      <th scope=\"col\">TICKET NUMBER</th>\n                                      <th scope=\"col\">TICKET ISSUE</th>\n                                      <th scope=\"col\">CREATED DATE</th>\n                                      <th scope=\"col\">TICKET STATUS</th>\n                                      <th scope=\"col\">TICKET DETAILS</th>\n                                    </tr>\n                                  </thead>\n                                  <tbody>\n                                    <tr v-for=\"(ticket, index1) in company_tickets_list\" :key=\"index1\">\n                                      <td>{{index1+1}}</td>\n                                      <td>{{ticket.TicketNumber}}</td>\n                                      <td\n                                      :title=\"ticket.TicketIssue\" \n                                      style=\"cursor: pointer;\">\n                                        {{trim_ticket_issue(ticket.TicketIssue)}}\n                                      </td>\n                                      <td class=\"text-center\">{{format_date(ticket.CreatedDate)}}</td>\n                                      <td\n                                        class=\"text-center\"\n                                        :style=\"ticket.CurrentStatus === 'Open' ? \n                                        'color: #ff1a1a; font-weight: bold;':\n                                        'color: #064; font-weight: bold;'\">\n                                        {{ticket.CurrentStatus}}\n                                      </td>\n                                      <td class=\"text-center\" style=\"cursor: pointer;\">\n                                        <a\n                                          class=\"view-model\"\n                                          href=\"#\"\n                                          data-toggle=\"modal\"\n                                          data-target=\"#ticketModelDetails\"\n                                          @click=\"open_comment_model(index1, 'Company_tickets')\"\n                                        >View\n                                        </a>\n                                      </td>\n                                    </tr>\n                                  </tbody>\n                                </table>\n                              </div>\n                              <div v-show=\"Boolean(company_tickets_list.length === 0) && !spinnerOn\">\n                                <p class=\"text-center\">\n                                  <strong>\n                                    Currently no tickets to show.</strong\n                                  >\n                                </p>\n                              </div> \n                            </div>\n                            <div v-if=\"company_tickets_list.length !== 0\" class=\"pagin-table\" style=\"margin-top: 2%; margin-bottom: 4%\">\n                              <nav aria-label=\"Page navigation example\">\n                                <ul class=\"pagination justify-content-center\">\n                                  <li class=\"page-item\">\n                                    <a\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page_no - 1)\"\n                                    >\n                                      <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"8.667\"\n                                        height=\"15.204\"\n                                        viewBox=\"0 0 8.667 15.204\"\n                                      >\n                                        <g\n                                          id=\"arrow-point-to-left\"\n                                          transform=\"translate(105.806 15.204) rotate(180)\"\n                                        >\n                                          <path\n                                            id=\"Path_1136\"\n                                            data-name=\"Path 1136\"\n                                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                                            transform=\"translate(0 0)\"\n                                            fill=\"#9499ae\"\n                                          />\n                                        </g>\n                                      </svg>\n                                    </a>\n                                  </li>\n                                  <li\n                                    class=\"page-item\"\n                                    :class=\"{ active: page === page_no }\"\n                                    v-for=\"(page, index) in page_array\"\n                                    :key=\"index\"\n                                  >\n                                    <a\n                                      v-if=\"page == '...s' || page == '...l'\"\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page)\"\n                                      >...</a\n                                    >\n                                    <a\n                                      v-if=\"page != '...s' && page != '...l'\"\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page)\"\n                                      >{{ page }}</a\n                                    >\n                                    <!-- <a class=\"page-link\" href=\"#\" @click=\"page_require(page)\">{{page}}</a> -->\n                                  </li>\n\n                                  <li class=\"page-item\">\n                                    <a\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page_no + 1)\"\n                                    >\n                                      <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"8.667\"\n                                        height=\"15.204\"\n                                        viewBox=\"0 0 8.667 15.204\"\n                                      >\n                                        <g\n                                          id=\"arrow-point-to-right\"\n                                          transform=\"translate(-97.139 0)\"\n                                        >\n                                          <path\n                                            id=\"Path_1136\"\n                                            data-name=\"Path 1136\"\n                                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                                            transform=\"translate(0 0)\"\n                                            fill=\"#9499ae\"\n                                          />\n                                        </g>\n                                      </svg>\n                                    </a>\n                                  </li>\n                                </ul>\n                              </nav>\n                            </div>\n                          </div> \n                        </tr>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div v-show=\"Boolean(tickets_list.length === 0) && !spinnerOn\">\n                <p class=\"text-center\">\n                  <strong>\n                    Currently no tickets to show.</strong\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"pagin-table\" style=\"margin-top: 2%; margin-bottom: 4%\">\n          <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no - 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-left\"\n                      transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n              <li\n                class=\"page-item\"\n                :class=\"{ active: page === page_no }\"\n                v-for=\"(page, index) in page_array\"\n                :key=\"index\"\n              >\n                <a\n                  v-if=\"page == '...s' || page == '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >...</a\n                >\n                <a\n                  v-if=\"page != '...s' && page != '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >{{ page }}</a\n                >\n                <!-- <a class=\"page-link\" href=\"#\" @click=\"page_require(page)\">{{page}}</a> -->\n              </li>\n\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no + 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-right\"\n                      transform=\"translate(-97.139 0)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n        <div\n          class=\"modal fade dash-modal\"\n          id=\"ticketModelDetails\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          data-backdrop=\"static\"\n        >\n      <div\n        class=\"modal-dialog modal-lg\"\n        role=\"document\"\n      >\n        <div class=\"modal-content\" style=\"width: 135%; margin-left: -17%\">\n          <div class=\"modal-header modal-head d-flex align-items-center\"\n          style=\"margin: 0rem;\">\n              <div class=\"head-icn\">\n                <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"info-circle\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"\n                 class=\"svg-inline--fa fa-info-circle fa-w-16 fa-3x\">\n                 <path fill=\"currentColor\" d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n                class=\"\" style=\"color: #273679;\"></path></svg>\n              </div>\n            <h3 class=\"modal-title\">Ticket Details</h3>\n            <button\n              type=\"button\"\n              class=\"close\"\n              @click=\"empty_variable\"\n              data-dismiss=\"modal\"\n              style=\"padding-top: 1px;\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n          </div>\n          <div class=\"modal-body py-2 px-3\" style=\"width: 808px\">\n           <div class=\"form-group\">\n            <div class=\"row\" style=\"margin-left: 0px; margin-right: 0px;\">\n              <div class=\"col-md-4\" style=\"font-weight: bold;\">\n                Ticket Number  :\n              </div>\n              <div class=\"col-md-8\">\n                {{current_selected_ticket_number}}\n              </div>\n              <div class=\"col-md-4\" style=\"font-weight: bold;padding-top:5px;padding-bottom:5px;\">\n                Ticket issue  :\n              </div>\n              <div class=\"col-md-8\" :title=\"ticket_issue_name\" style=\"padding-top:5px;padding-bottom:5px;cursor: pointer;\">\n                {{ticket_issue_name}}\n              </div>\n              <div class=\"col-md-4\" style=\"font-weight: bold;\">\n                Ticket Description  :\n              </div>\n              <div class=\"col-md-8\"\n              :title=\"ticket_description\" style=\"cursor: pointer;\">\n                {{trim_ticket_description(ticket_description)}}\n              </div>\n              <div class=\"col-md-4\" style=\"font-weight: bold;padding-top:5px;\">\n                Status  :\n              </div>\n              <div\n                v-if=\"!isEditTicketStatus\"\n                class=\"\"\n                :style=\"ticket_status === 'Open' ? \n                'color: #ff1a1a; border-radius: 4px;padding-top:5px;margin-left: 1rem;': \n                'color: #064; border-radius: 4px;padding-top:5px;margin-left: 1rem;'\" \n              >\n                <b>{{ ticket_status }}</b>\n              </div>\n              <div v-if=\"isEditTicketStatus\">\n                <select\n                  v-model=\"current_ticket_status\"\n                  class=\"form-control\"\n                  style=\"height: 34px; padding: 5px;margin-left: 1rem;\"\n                  id=\"select_status\"\n                >\n                  <option disabled value=''>Status</option>\n                  <option value=\"Open\">Open</option>\n                  <option value=\"Closed\">Closed</option>\n                </select>\n              </div>\n              <div style=\"margin-top: 3px;margin-left: 2rem;\">\n                <span\n                  @click=\"edit_ticket_status\"\n                  v-html=\"pencil_svg\"\n                  title=\"Edit Status\"\n                  class=\"ml-auto mr-2 mt-2\"\n                  style=\"cursor: pointer;\"\n                ></span>\n              </div>\n              <button\n                v-show=\"isEditTicketStatus\"\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                style=\"margin-left: 1rem;height: 32px;padding-top: 5px;\"\n                @click=\"save_ticket_status()\"\n              >\n                Save\n              </button>\n            </div>\n            </div>\n            <!-- <p>Some text in the modal.</p> -->\n            <!-- @change=\"fileinput_csv\" -->\n            <div v-if=\"current_ticket_status === 'Closed' && isEditTicketStatus\">\n              <div class=\"form-group\" style=\"margin-bottom: 4px;\">\n                <h6 style=\"margin-left: 0.5rem;font-size: 1.2rem;\">Add Solution</h6>\n              </div>\n              <div\n              class=\"text-right card-act\"\n              style=\"display: flex; margin-top: 0px; margin-bottom: 8px;padding: 15px 0 0;\"\n              >\n                <input\n                  type=\"text\"\n                  class=\"form-control input-comment-section\"\n                  v-model.trim=\"send_solution_text\"\n                  placeholder=\"Add your solution....\"\n                />\n                  <button \n                    type=\"button\"\n                    class=\"darkblue-btn\"\n                    id=\"btn_send_id\"\n                    :disabled=\"is_send_btn_enable == false\"\n                    @click=\"send_solution\"\n                    style=\"margin-left: 10px; height: 38px;\"\n                    :style=\"\n                      is_send_btn_enable\n                        ? ''\n                        : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                    \"\n                  >Solution</button>\n               </div>\n            </div>\n            <div class=\"row\" style=\"margin-left: 0rem;\" v-if=\"!isEditTicketStatus && ticket_solution !== ''\">\n              <div class=\"col-md-4\" style=\"margin-bottom: 4px;font-weight: bold;padding-top:5px;\">\n               Solution :\n              </div>\n              <div class=\"col-md-8\" style=\"padding-top:5px;padding-bottom:5px;padding-left: 12px;\">\n                {{ticket_solution}}\n              </div>\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 4px;margin-top: 1rem;\">\n              <h6 style=\"margin-left: 0.5rem;font-size: 1.2rem;\">Comments</h6>\n              <!-- <div class=\"custom-file\">\n                      <input\n                        type=\"file\"\n                        accept=\".csv\"\n                        class=\"custom-file-input\"\n                        \n                        id=\"inputGroupFilecsv\"\n                        aria-describedby=\"inputGroupFileAddoncsv\"\n                      />\n                      <label\n                        style=\"font-weight: 400; line-height: 15px\"\n                        class=\"custom-file-label form-control\"\n                        for=\"file\"\n                        >\n                        </label\n                      >\n                    </div> -->\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 4px\">\n              <div class=\"form-group mx-0 my-0 px-0 py-0\">\n                <div\n                  v-if=\"Comments_list.length != ''\"\n                  class=\"chat-body ScrollStyle\"\n                  style=\"height: 65vh; overflow-y: auto\"\n                >\n                  <div\n                    class=\"chat-inner\"\n                    style=\"position: relative;\"\n                    v-for=\"(comment, index) in Comments_list\"\n                    :key=\"index\"\n                  >\n                    <div\n                      v-if=\"comment.IsSuperAdmin === true\"\n                    >\n                      <div class=\"d-flex\">\n                        <i\n                          class=\"fas fa-user-circle mr-3 fa-2x\"\n                          style=\"color: darkgrey !important;\"\n                        ></i>\n                        <label\n                          style=\"text-align: justify !important; margin-top: 4px !important;\"\n                        >\n                          <strong><b>Cense Team</b></strong>\n                        </label>\n                      </div>\n                      <div class=\"custom-button-box ml-5\">\n                        <p style=\"color: #404040; margin-bottom: 0px;\">\n                          {{ comment.Comment }}\n                        </p>\n                        <span\n                          class=\"img-container\"\n                          v-if=\"comment.image_url != null\"\n                        >\n                          <a\n                            href=\"#\"\n                            data-toggle=\"modal\"\n                            data-target=\"#viewImageModal\"\n                            @click=\"open_image_model(index)\"\n                          >\n                            Attached Image</a\n                          >\n                        </span>\n                        <!-- <span\n                          style=\"display: block; font-size: 12px; color:#808080;\"\n                          ><strong>admin </strong></span\n                        > -->\n                        <label class=\"form-text text-muted comment-box_date\"\n                        style=\"font-size: 12px; margin-top: 6px;\">{{ date_formating(comment.Date) }}\n                        </label>\n                      </div>\n                      <!-- <img v-if=\"comment.image_url != null\" :src=\"comment.image_url\" class=\"center-block p-0 m-0\" style=\"height:140px; width:140px;\"/> -->\n                    </div>\n                    <div v-else>\n                      <div class=\"d-flex\">\n                        <i\n                          class=\"fas fa-user-circle mr-3 fa-2x\"\n                          style=\"color: darkgrey !important;\"\n                        ></i>\n                        <label\n                          style=\"text-align: justify !important; margin-top: 4px !important;\"\n                        >\n                          <strong><b>{{comment.Email}}</b></strong>\n                        </label>\n                      </div>\n                      <div class=\"custom-button-box ml-5\">\n                        <p style=\"color: #404040; margin-bottom: 0px;\">\n                          {{ comment.Comment }}\n                        </p>\n                        <span\n                          class=\"img-container\"\n                          v-if=\"comment.image_url != null\"\n                        >\n                          <a\n                            href=\"#\"\n                            data-toggle=\"modal\"\n                            data-target=\"#viewImageModal\"\n                            style=\"font-size: 15px;\"\n                            @click=\"open_image_model(index)\"\n                          >\n                            Attached Image</a\n                          >\n                        </span>\n                        <!-- <span\n                          style=\"display: block; font-size: 12px; color:#808080;\"\n                          ><strong> {{ comment.Email }} </strong></span\n                        > -->\n                        <label class=\"form-text text-muted comment-box_date\"\n                                style=\"font-size: 12px; margin-top: 6px;\">\n                          {{ date_formating(comment.Date) }}\n                        </label>\n                      </div>\n                      <!-- <img v-if=\"comment.image_url != null\" :src=\"comment.image_url\" class=\"center-block p-0 m-0\" style=\"height:140px; width:140px;\"/> -->\n                    </div>\n                    <!-- <p>{{ Comment.IsSuperAdmin }}</p> -->\n                  </div>\n                </div>\n                <div style=\"padding-left: 10px; margin: 8px 0px;\"\n                v-else>\n                  <p>No Comments available yet ...</p>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"text-right card-act\"\n              style=\"display: flex; margin-top: 0px; margin-bottom: 8px; border-top: solid 1px #EAEAEA; padding: 15px 0 0;\"\n            >\n              <input\n                type=\"text\"\n                class=\"form-control input-comment-section\"\n                v-model.trim=\"new_ticket_comment\"\n                placeholder=\"Type your comment here ...\"\n              />\n              <label for=\"files\" class=\"btn\" style=\"padding: 0px;\">\n                <!-- src=\"/img/icons8_attachfile.png\" -->\n                <!-- class=\"img_icon_comment\" -->\n                <i\n                  id=\"image_file\"\n                  class=\"fa fa-paperclip img_icon_comment\" aria-hidden=\"true\"\n                  :title=\"new_image_name === '' ? 'Upload New Image' : new_image_name\"\n                  style=\"cursor: pointer;\"                  \n                  :style=\"new_image_name ?\n                   'color: #4000ff !important; font-size: 20px;'\n                    : ''\n                \"\n                  alt=\"attachment\"\n                  width=\"18px;\"\n                  height=\"18px;\">\n              </i></label>\n              <!-- :disabled=\"is_send_btn_enable == false\" -->\n              <!-- :style=\"new_image_name ? 'border: 0.5px solid blue; color: green;':''\" -->\n              <input\n                type=\"file\"\n                id=\"files\"\n                accept=\"image/png, image/jpg, image/jpeg\"\n                @change=\"Upload_image_file\"\n                \n                style=\"display: none;\"\n              />\n              <!-- <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-dismiss=\"modal\"\n                    >\n                      Cancel\n                    </button> -->\n              <button \n                type=\"button\"\n                class=\"darkblue-btn\"\n                id=\"btn_send_id\"\n                :disabled=\"is_send_btn_enable == false\"\n                @click=\"Send_ticket_comments\"\n                style=\"margin-left: 10px; height: 38px;\"\n                :style=\"\n                  is_send_btn_enable\n                    ? ''\n                    : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                \"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  style=\"fill: #fff; margin-top: -2px;\"\n                  width=\"40\"\n                  height=\"25\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                </svg>\n              </button>\n            </div>\n            <div\n                class=\"image_name\"\n                :disabled=\"is_send_btn_enable == false\"\n                :style=\"\n                  is_send_btn_enable\n                    ? ''\n                    : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                \"\n                v-if=\"new_image_name != ''\"\n              >\n                <!-- style=\"bottom: 0px; margin-left: 16px;\" -->\n                <!-- {{ new_image_name }} -->\n              </div>\n            <div class=\"user_img\" style=\"margin-top: 4px;\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"viewImageModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\">\n        <!-- Modal content-->\n        <div class=\"modal-content\" \n        style=\"margin-left: auto; margin-right: auto;\">\n          <div class=\"modal-header\" style=\"justify-content: center; padding: 0.5rem;\">\n            <h5 class=\"modal-title\">\n              Image\n            </h5>\n            <button\n              type=\"button\"\n              class=\"close close-img-btn\"\n              style=\"top: 11px; right: 12px;\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n          </div>\n          <div\n            class=\"modal-body\"\n          >\n            <img\n              v-if=\"Images_in_current_comment != ''\"\n              :src=\"Images_in_current_comment\"\n              class=\"center-block p-0 m-0\"\n              style=\"height:auto; width:100%;\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport { setTimeout, setInterval } from \"timers\";\nimport Swal from \"sweetalert2\";\nimport moment from \"moment\";\n\nexport default {\n  data() {\n    return {\n      pencil_svg:\n        ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n      filter_status: 'AllTickets',\n      spinnerOn: false,\n      page_no: 1,\n      per_page: 20,\n      total_pages: null,\n      number_of_rows: null,\n      tickets_list: [],\n      sort_status: 'All',\n      company_list: [],\n      page_array: [],\n      User_comments: [],\n      Comments_list: [],\n      comment_item_list: [],\n      ticket_number: \"\",\n      current_selected_ticket_number: \"\",\n      ticket_description: \"\",\n      new_ticket_comment: \"\",\n      current_image_url: \"\",\n      // current_image_name: \"\",\n      current_image_name_in_comment:\"\",\n      Images_in_current_comment: \"\",\n      new_image_name: \"\",\n      new_image_file: \"\",\n      image_file: \"\",\n      send_solution_text: \"\",\n      ticket_issue_name: \"\",\n      ticket_status: \"\",\n      ticket_solution: \"\",\n      is_status: null,\n      current_status: \"\",\n      is_status_closed: false,\n      search_key: \"\",\n      isEditTicketStatus: false,\n      current_ticket_status: \"\",\n      company_tickets_list: [],\n      sort_company_status: 'All',\n      is_collapse: false,\n      send_by_company: false,\n      req_comp_id: \"\",\n      req_comp_name: \"\",\n      ticket_company_id:\"\",\n      ticket_company_name:\"\",\n      isVisibleSearchClear: false\n    };\n  },\n  computed: {\n    is_send_btn_enable() {\n      if (Boolean(this.send_solution_text || this.new_image_name || this.new_ticket_comment)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    is_reopen_btn_enable() {\n      if (Boolean(this.new_ticket_comment || this.new_image_name)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  created() {\n    if (\n      !this.$session.has(\"CompanyId\") &&\n      this.$session.get(\"UserInformation\").role == \"SuperAdmin\"\n    ) {\n      toastr.warning(\"Please select a company name from the dropdown\");\n    } else if (this.user_role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n      }\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n    this.get_ticket_details();\n  },\n  watch: {\n    filter_status(){\n      if(this.filter_status ===  'AllTickets'){\n        this.get_ticket_details();  \n      }else{\n        this.get_company_list();\n      }\n    },\n  },\n  methods : {\n    check_collapse(index) {\n      if ($('#collapseExample__' + index).is('.collapse.show') === false) {\n        this.is_collapse = true;\n      } else {\n        this.is_collapse = false;\n        this.sort_company_status = 'All';\n      }\n    },\n    trim_ticket_issue(val1) {\n      if (val1.length > 50) {\n        let str1 = val1.substring(0, 50) + \"....\";\n        return str1;\n      }\n      return val1;\n    },\n    trim_ticket_description(des_name){\n      if(des_name.length > 60){\n        let ticket_des_name = des_name.substring(0,50) + \"...\";\n        return ticket_des_name;\n      }\n      return des_name;\n    },\n     date_formating(sub_date) {\n      return moment(sub_date).format(\"D MMM YYYY HH:mm a\");\n    },\n    format_date(date) {\n      if(date == null) {\n        return \"N/A\"\n      }\n      return moment(date).format(\"Do MMM YYYY\");\n    },\n    edit_ticket_status() {\n      if (!this.isEditTicketStatus) {\n        this.isEditTicketStatus = true;\n      } else {\n        this.isEditTicketStatus = false;\n        // this.load_intent();\n      }\n      return;\n    },\n    save_ticket_status() {\n      this.spinnerOn = true;\n      if (this.current_ticket_status === \"\") {\n        this.current_ticket_status = this.current_status;\n      }\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                update_status: this.current_ticket_status,\n                solution: null,\n                ticket_company_id: this.ticket_company_id,\n                ticket_company_name:this.ticket_company_name,\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (response.data.message === \"Ticket Updated\") {\n              Swal({\n                type: \"success\",\n                text: \"Ticket status updated Successfully.\",\n                timer: 2500\n              });\n              this.empty_variable();\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n            } else if(response.data.message == \"DB OPERATION UNSUCCESSFUL\"){\n                Swal({\n                text:\n                  \"Some error occurred. Please try again later.\",\n                type: \"error\",\n                timer: 3000,\n              });\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n              this.empty_variable();\n            } else if(response.data.status == \"Error\"){\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n              this.empty_variable();\n              $(\"#ticketModelDetails\").modal(\"hide\");\n                //$(\"#ticketModelDetails\").modal(\"hide\");\n                //this.empty_variable();\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n               this.empty_variable();\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          });\n    },\n    open_comment_model(index, key) {\n      if (key === null) {\n        this.Comments_list = [];\n        this.Comments_list = Boolean(this.tickets_list[index].Comments)\n          ? this.tickets_list[index].Comments\n          : [];\n        this.current_selected_ticket_number = this.tickets_list[\n          index\n        ].TicketNumber;\n        this.ticket_company_id = this.tickets_list[index].CompanyId;\n        this.ticket_company_name = this.tickets_list[index].CompanyName;\n        this.ticket_description = this.tickets_list[index].Description;\n        this.ticket_issue_name = this.tickets_list[index].TicketIssue;\n        this.ticket_status = this.tickets_list[index].CurrentStatus;\n        if (this.tickets_list[index].Solution !== undefined) {\n          this.ticket_solution = this.tickets_list[index].Solution;\n        } else {\n          this.ticket_solution = \"\";\n        }\n        if(this.ticket_status === \"Closed\")\n        {\n          this.is_status_closed = true;\n        }else{\n          this.is_status_closed = false;\n        }\n        this.current_status = this.tickets_list[index].CurrentStatus;\n        this.send_by_company = false;\n      }  \n      else if (key === 'Company_tickets') {\n        this.Comments_list = [];\n        this.Comments_list = Boolean(this.company_tickets_list[index].Comments)\n          ? this.company_tickets_list[index].Comments\n          : [];\n        this.current_selected_ticket_number = this.company_tickets_list[\n          index\n        ].TicketNumber;\n        this.ticket_description = this.company_tickets_list[index].Description;\n        this.ticket_issue_name = this.company_tickets_list[index].TicketIssue;\n        this.ticket_status = this.company_tickets_list[index].CurrentStatus;\n        this.req_comp_id = this.company_tickets_list[index].CompanyId;\n        this.req_comp_name = this.company_tickets_list[index].CompanyName;\n        if (this.company_tickets_list[index].Solution !== undefined) {\n          this.ticket_solution = this.company_tickets_list[index].Solution;\n        } else {\n          this.ticket_solution = \"\";\n        }\n        if(this.ticket_status === \"Closed\")\n        {\n          this.is_status_closed = true;\n        }else{\n          this.is_status_closed = false;\n        }\n        this.current_status = this.company_tickets_list[index].CurrentStatus;\n        this.send_by_company = true;\n      }\n    },\n    get_ticket_details() {\n      this.spinnerOn = true;\n      axios\n      .post(api_calls.support_ticket(), {\n        company_name: this.companyname,\n        company_id: this.companyid,\n        email: this.$session.get(\"UserInformation\").email,\n        filter_by: this.sort_status,\n        is_get: true,\n        per_page: this.per_page,\n        page_no: this.page_no\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then(response => {\n        this.spinnerOn = false;\n        if (response.data == \"Internal Server Error\") {\n          toastr.error(\n            \"There was an internal server error. Please try again.\"\n          );\n        } else if (response.data.Tickets !== undefined) {\n          this.number_of_rows = response.data.Count;\n          this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          this.tickets_list = response.data.Tickets;\n          this.setpagination(this.page_no);\n        } else if (response.data.message === \"no existing ticket found\") {\n          this.tickets_list = [];\n        }\n      })\n      .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    send_solution(){\n      if(this.send_solution_text != \"\" && this.current_ticket_status === 'Closed'){\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                solution: this.send_solution_text,\n                update_status: this.current_ticket_status,\n                ticket_company_id: this.ticket_company_id,\n                ticket_company_name:this.ticket_company_name,\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (response.data.message === \"Ticket Updated\") {\n              Swal({\n                type: \"success\",\n                text: \"Ticket status updated Successfully.\",\n                timer: 2500\n              }).then(result => {\n                if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n                $(\"#ticketModelDetails\").modal(\"hide\");\n                this.empty_variable();\n              });\n            } else if (response.data == \"Duplicate image\") {\n              Swal({\n                text:\n                  \"Image already found. Please upload another image or rename it.\",\n                type: \"error\",\n                timer: 3000,\n              });\n            } else if(response.data.message == \"DB OPERATION UNSUCCESSFUL\"){\n                Swal({\n                text:\n                  \"Some error occurred. Please try again later.\",\n                type: \"error\",\n                timer: 3000,\n              });\n                this.empty_variable();\n                $(\"#ticketModelDetails\").modal(\"hide\");\n            } else if(response.data.status == \"Error\"){\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n                //$(\"#ticketModelDetails\").modal(\"hide\");\n                //this.empty_variable();\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          });\n      }else{\n      }\n\n    },\n     open_image_model(index) {\n      if (this.Comments_list[index].image_url != null) {\n        this.Images_in_current_comment = this.Comments_list[index].image_url;\n        this.current_image_name_in_comment = this.Comments_list[index].image_name;\n      }\n    },\n    Upload_image_file(event) {\n      let files = event.target.files[0];\n      if (files.size > 2097152) {\n        Swal({\n          text: \"Upload image with size less than 2MB\",\n          toast: true,\n          position: \"top-end\",\n          type: \"error\",\n          showConfirmButton: false,\n          timer: 10000,\n        });\n        return;\n      }\n      this.new_image_name = event.target.files[0].name;\n      this.new_image_file = event.target.files[0].type;\n\n      if (this.new_image_name != this.current_image_name_in_comment) {\n      }\n      if (this.new_image_file == \"image/png\") {\n        this.createImage(files, this.new_image_file);\n      } else if (this.new_image_file == \"image/jpeg\") {\n        this.createImage(files, this.new_image_file);\n      } else if (this.new_image_file == \"image/jpg\") {\n        this.createImage(files, this.new_image_file);\n      } else {\n        Swal({\n          type: \"error\",\n          text: \"Please Select an Image of type PNG or JPEG\",\n          timer: 2500\n        });\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.image_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n\n    Send_ticket_comments() {\n      if (\n        this.new_ticket_comment != \"\" ||\n        (this.new_image_name != \"\" && this.new_image_file != \"\")\n      ) {\n        Swal({\n          text: \"Please wait while we are adding your ticket comments...\",\n          type: \"info\",\n          toast: true,\n          showConfirmButton: false\n        });\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                update_status: this.current_ticket_status ? this.current_ticket_status : null,\n                new_comment: this.new_ticket_comment\n                  ? this.new_ticket_comment\n                  : null,\n                ticket_img_name: this.new_image_name ? this.new_image_name : null,\n                ticket_img_file: this.image_file ? this.image_file : null,\n                ticket_company_id: this.ticket_company_id,\n                ticket_company_name:this.ticket_company_name,\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (response.data.message === \"Ticket Updated\") {\n              Swal({\n                type: \"success\",\n                text: \"Your Comments has been added Successfully.\",\n                timer: 2500\n              }).then(result => {\n                this.empty_variable();\n               $(\"#ticketModelDetails\").modal(\"hide\");\n              \n              // $('body').removeClass('modal-open');\n              // $('.modal-backdrop').remove();\n                if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n              });\n            } else if (response.data == \"Duplicate image\") {\n              Swal({\n                text:\n                  \"Image already found. Please upload another image or rename it.\",\n                type: \"error\",\n                timer: 3000,\n              });\n            } else if(response.data.status == \"Error\"){\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n              //$(\"#ticketModelDetails\").modal(\"hide\");\n              //this.empty_variable();\n            }\n             else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          });\n      }\n    },\n    empty_variable() {\n      this.Comments_list = [\"\"];\n      this.comment_item_list = [\"\"];\n      this.new_ticket_comment = \"\";\n      this.send_solution_text = \"\";\n      this.new_image_name = \"\";\n      this.new_image_file = \"\";\n      this.file_content2 = \"\";\n      this.isEditTicketStatus = false;\n      this.current_ticket_status = \"\";\n      this.ticket_company_id = '';\n      this.ticket_company_name = '';\n    },\n    get_company_list() {\n      this.spinnerOn = true;\n      axios\n      .post(api_calls.support_ticket(), {\n        company_name: this.companyname,\n        company_id: this.companyid,\n        email: this.$session.get(\"UserInformation\").email,\n        sort_by_company: true,\n        is_get: true,\n        per_page: this.per_page,\n        page_no: this.page_no\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then(response => {\n        this.spinnerOn = false;\n        if (response.data == \"Internal Server Error\") {\n          toastr.error(\n            \"There was an internal server error. Please try again.\"\n          );\n        } else {\n          this.number_of_rows = response.data.Count;\n          this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          this.company_list = response.data.ResponseList;\n          this.setpagination(this.page_no);\n        }\n      })\n      .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    get_company_tickets(key1, key2) {\n      this.spinnerOn = true;\n      axios\n      .post(api_calls.support_ticket(), {\n        company_name: this.companyname,\n        company_id: this.companyid,\n        email: this.$session.get(\"UserInformation\").email,\n        filter_by: this.sort_company_status,\n        req_company_name: key1,\n        req_company_id: key2,\n        is_get: true,\n        per_page: this.per_page,\n        page_no: this.page_no\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then(response => {\n        this.spinnerOn = false;\n        if (response.data == \"Internal Server Error\") {\n          toastr.error(\n            \"There was an internal server error. Please try again.\"\n          );\n        } else if (response.data.Tickets !== undefined) {\n          this.req_comp_id = \"\";\n          this.req_comp_name = \"\";\n          this.number_of_rows = response.data.Count;\n          this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          this.company_tickets_list = response.data.Tickets;\n          this.setpagination(this.page_no);\n        } else if (response.data.message === \"no existing ticket found\") {\n          this.company_tickets_list = [];\n        }\n      })\n      .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n        event.preventDefault();\n      } else {\n        if (page == \"...s\") {\n          this.page_no = Math.ceil((1 + this.page_no) / 2);\n        } else if (page == \"...l\") {\n          this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n        } else {\n          this.page_no = page;\n        }\n        this.spinnerOn = true;\n        if (this.filter_status === 'AllTickets'){\n          this.get_ticket_details();\n        } else {\n          this.get_company_list(); \n        }\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n  \n  },\n}\n</script>\n\n<style>\n.radio label {\n    margin-bottom: 0.3rem !important;\n}\ni[aria-expanded=\"true\"] {\n  color: #192765;\n  text-align: center;\n}\n.dash-modal .close {\n  top: 0px !important;\n  position: inherit !important;\n}\ni:hover {\n  color: #192765;\n}\n.table thead th {\n  vertical-align: bottom;\n  border-bottom: 0px;\n}\n.comment-box_date{\n  position: absolute;\n  margin-top: 6px;\n  top: 4px;\n  right: 2rem;\n}\n.img_icon_comment {\n  cursor: pointer;\n  position: relative;\n  right: 34px;\n  top: 5px;\n  margin-right: -22px;\n  transform: rotate(136deg);\n}\n.status_in_comment b{\n  /* padding: 2px 10px 2px; */\n  border-radius: 4px;\n}\n.ScrollStyle {\n  /* height: 200px; */\n  min-height: 0px;\n  max-height: 250px;\n  overflow-y: auto;\n  /* border: 1px solid #e3e2e5; */\n}\n.ScrollStyle thead th {\n  top: 0;\n  position: sticky;\n}\n.ScrollStyle::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 12px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.ScrollStyle::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.ScrollStyle::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.ScrollStyle::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n.card-act .darkblue-btn{\n  font-size: 14px;\n    color: #fff;\n    background: #273679;\n    border: solid 1px #273679;\n    padding: 5px 15px;\n    font-weight: 400;\n    line-height: 20px;\n    display: inline-block;\n    border-radius: 4px;\n    cursor: pointer;\n    height: 32px;\n    /* margin-top: 1px; */\n}\n</style>"]}]}