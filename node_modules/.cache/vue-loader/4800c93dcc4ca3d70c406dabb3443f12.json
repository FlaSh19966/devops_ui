{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/DefineEndpoints.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/DefineEndpoints.vue","mtime":1643027096168},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNvbmZpZy1hcGkiLAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dfb3JfYmxvY2s6IGZhbHNlLAogICAgICBpbnRlbnRsaXN0OiBbXSwKICAgICAgcXVlc3Rpb246ICIiLAogICAgICB1cmw6ICIiLAogICAgICBuYW1lOiBudWxsLAogICAgICBhcGlfbGlzdDogW10sCiAgICAgIGNvbXBhbnluYW1lOiBudWxsLAogICAgICBjb21wYW55aWQ6IG51bGwsCiAgICAgIGluZGV4OiBudWxsLAogICAgICB0b3RhbF9wYWdlczogIiIsCiAgICAgIHNob3dfanNvbl9yZXF1ZXN0X2RhdGE6ICIiLAogICAgICBzaG93X2pzb25fcmVzcG9uc2VfZGF0YTogIiIsCiAgICAgIHN1Y2Nlc3NmdWxfbWVzc2FnZTogIiIsCiAgICAgIGpzb25fcmVxdWVzdF9kYXRhOiBbXSwKICAgICAganNvbl9yZXNwb25zZV9kYXRhOiBbXSwKICAgICAgdHlwZTogbnVsbCwKICAgICAgdGFza19mcm9tOiAiIiwKICAgICAgZW50aXR5X2xpc3Q6IFtdLAogICAgICBwb3N0X21ldGhvZF9yZXF1ZXN0X2xpc3Q6IFtdLAogICAgICBwb3N0X21ldGhvZF9yZXF1ZXN0X3ZhbHVlOiAiIiwKICAgICAgYXBpX21ldGhvZDogbnVsbCwKICAgICAgcmVzcG9uc2Vfa2V5X2VkaXRfbWVzc2FnZTogIiIsCiAgICAgIGVuZHVzZXJfbXNnX3R5cGU6IG51bGwsCiAgICAgIHVuc3VjY2Vzc2Z1bF9tZXNzYWdlOiBudWxsLAogICAgICByZXF1ZXN0X2pzb25fZWRpdGFibGU6IG51bGwsCiAgICAgIHJlc3BvbnNlX2pzb25fZWRpdGFibGU6IG51bGwsCiAgICAgIGVuZF91c2VyX21lc3NhZ2U6IG51bGwsCiAgICAgIGVkaXRhYmxlX3ZhbHVlczogIiIsCiAgICAgIGNoZWNrZWRfbGlzdDogW10sCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIGludGVudHM6ICIiLAogICAgICBwYWdlX25vOiAxLAogICAgICBwZXJfcGFnZTogMTAsCiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIHVzZXJfcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgIHJlcXVlc3RfanNvbl9jYXNlXzE6IGB7CiAgICAgICAgICAiY29tcGFueWlkIjogIjxDb21wYW55X0lEPiIsCiAgICAgICAgICAiZW1haWwiOiAiPEVtYWlsPiIsCiAgICAgICAgICAicm9sZSI6ICI8Um9sZT4iLAogICAgICAgICAgInN1YmplY3QiOiAiICIsCiAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiICIKfWAsCgogICAgICBpbnB1dF9mcm9tX3VzZXJfY2FzZV8xOiAic3ViamVjdDtkZXNjcmlwdGlvbiIsCiAgICAgIHJlcXVlc3RfanNvbl9jYXNlXzI6IGB7CgkidXNlciI6IHsKCQkiY29tcGFueWlkIjogIjxDb21wYW55X0lEPiIsCiAgICAiZW1haWwiOiAiPEVtYWlsPiIsCiAgICAicm9sZSI6ICI8Um9sZT4iLAoJCSJpbmZvIjogewoJCQkibmlja25hbWUiOiAiIgoJCX0KCX0sCgkic2VhcmNocGFyYW1ldGVyIjogewoJCSJzdGF0dXMiOiAiIiwKCQkib3JkZXJieSI6ICIiLAoJCSJmcm9tZGF0ZSI6ICIwMS8wMS8yMDE4IiwKCQkiY291bnQiOiAxMCwKCQkic2VhcmNodGV4dCI6ICIiLAoJCSJ0eXBlb2Z2aXNpdCI6ICJBTEwiLAoJCSJzb3J0b3JkZXIiOiAiYXBwb2ludG1lbnQiLAoJCSJzdGFydGluZGV4IjogIjEiLAoJCSJlbmRpbmRleCI6ICIxMCIsCgkJInRvZGF0ZSI6ICIwOC8wNi8yMDE4IgoJfQoKfWAsCiAgICAgIGlucHV0X2Zyb21fdXNlcl9jYXNlXzI6CiAgICAgICAgInVzZXIsaW5mbyxuaWNrbmFtZTtzZWFyY2hwYXJhbWV0ZXIsZnJvbWRhdGU7c2VhcmNocGFyYW1ldGVyLHRvZGF0ZSIsCiAgICAgIHJlcXVlc3RfanNvbl9jYXNlXzM6IGB7IAogICAgICAgICAgImNvbXBhbnlpZCI6InNlc3Npb24uZ2V0KCdjb21wYW55aWQnKSIsCiAgICAgICAgICAiZW1haWwiOiJzZXNzaW9uLmdldCgnZW1haWwnKSIsCiAgICAgICAgICAicm9sZSI6InNlc3Npb24uZ2V0KCdyb2xlJykiIAp9YCwKICAgICAgcmVzcG9uc2VfanNvbl9jYXNlXzE6IGB7CiAgJ21lc3NhZ2UnOidZb3VyIGFwcG9pbnRtZW50IGhhcyBiZWVuIHNjaGVkdWxlZCcsCiAgJ3VzZXJuYW1lJzonQ2Vuc2UnLAogICdlbWFpbCc6J3VzZXJAY2Vuc2UuYWknCn1gLAogICAgICByZXNwb25zZV9qc29uX2Nhc2VfMTE6IGB7CiAgJ21lc3NhZ2UnOidBUEkgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5JywKICAnY291bnQnOic4JwogICd1c2VybmFtZSc6J0NlbnNlJywKICAnZW1haWwnOid1c2VyQGNlbnNlLmFpJwp9YCwKICAgICAgY3VycmVudF9zdGVwOiAxLAogICAgICB0b3RhbF9zdGVwczogMiwKICAgICAgLy8gdGFza19uYW1lOiAiIiwKICAgICAgdGFza19pbnB1dF92YWx1ZXM6IFtdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAoCiAgICAgICF0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgJiYKICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iCiAgICApIHsKICAgICAgdG9hc3RyLndhcm5pbmcoIlBsZWFzZSBzZWxlY3QgYSBjb21wYW55IG5hbWUgZnJvbSB0aGUgZHJvcGRvd24iKTsKICAgIH0gZWxzZSBpZiAodGhpcy51c2VyX3JvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlJZCIpOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlOYW1lIik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgIH0KICAgIGF4aW9zCiAgICAgIC5nZXQoYXBpX2NhbGxzLmdldF9uZXJfdGFncygpLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgfSwKICAgICAgfSkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5lbnRpdHlfbGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgdGhpcy5wb3N0X21ldGhvZF9yZXF1ZXN0X2xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICBheGlvcwogICAgICAucG9zdCgKICAgICAgICBhcGlfY2FsbHMuZ2V0X2xpc3RfbGluaygpLAogICAgICAgIHsKICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgfSwKICAgICAgICB9CiAgICAgICkKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5hcGlfbGlzdF91cGRhdGUocmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICApIHsKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIGF4aW9zCiAgICAgIC5wb3N0KAogICAgICAgIGFwaV9jYWxscy5zaG93X2ludGVudHNfdXJsKCksCiAgICAgICAgewogICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgIHNob3dpbnRlbnQ6ICJUcnVlIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIHRoaXMuaW50ZW50bGlzdC5wdXNoKAogICAgICAgICAgICByZXNwb25zZS5kYXRhW2ldLnJlcGxhY2UodGhpcy5jb21wYW55aWQgKyAiXyIsICIiKQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICApIHsKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAkKCdbZGF0YS10b29sdGlwPSJ0b29sdGlwIl0nKS50b29sdGlwKCk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCgiI3NlbGVjdGFsbCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogICAgdmFyIHZtID0gdGhpczsKICAgICQoIiNjb25maWdhcGltb2RhbDQiKS5vbigic2hvd24uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjY29uZmlnYXBpbW9kYWwiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjY29uZmlnYXBpbW9kYWw0Iikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKICAgICQoIiNjb25maWdhcGltb2RhbDIiKS5vbigic2hvd24uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjY29uZmlnYXBpbW9kYWwiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjY29uZmlnYXBpbW9kYWwyIikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKICAgICQoIiNjb25maWdhcGltb2RhbF9qc29uX2VkaXRhYmxlIikub24oInNob3duLmJzLm1vZGFsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgJCgiI2NvbmZpZ2FwaW1vZGFsIikuY3NzKCJvcGFjaXR5IiwgIi0wLjUiKTsKICAgIH0pOwogICAgJCgiI2NvbmZpZ2FwaW1vZGFsX2pzb25fZWRpdGFibGUiKS5vbigiaGlkZGVuLmJzLm1vZGFsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgJCgiI2NvbmZpZ2FwaW1vZGFsIikuY3NzKCJvcGFjaXR5IiwgIjEiKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlX3RvdGFsX3N0ZXBzKHN0ZXBfdmFsdWUpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSAiVHJ1ZSIpIHsKICAgICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMzsKICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQudmFsdWUgPT0gIkZhbHNlIikgewogICAgICAgIHRoaXMudG90YWxfc3RlcHMgPSAyOwogICAgICB9IGVsc2UgaWYgKHN0ZXBfdmFsdWUgPT0gMyAmJiB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiRmFsc2UiKSB7CiAgICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgPSAxOwogICAgICB9IGVsc2UgaWYgKHN0ZXBfdmFsdWUgPiAxICYmIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIikgewogICAgICAgIHRoaXMuY3VycmVudF9zdGVwIC09IDE7CiAgICAgIH0KICAgIH0sCiAgICByZXFfanNvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBKU09OLnBhcnNlKHRoaXMuc2hvd19qc29uX3JlcXVlc3RfZGF0YSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgdHJhaW5faW50ZW50X21vZGVsKCkgewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogIkFyZSBZb3UgU3VyZT8iLAogICAgICAgIHRleHQ6ICJZb3Ugd2FudCB0byBUcmFpbiBUaGUgTW9kZWw/IiwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9jb252ZXJzYXRpb25fbW9kZWxzKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGNvbXBhbnlfZGV0YWlsczogewogICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gNDA0NikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5NU0cpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gMTAzNCkgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHJlc3BvbnNlLmRhdGEuTVNHKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9hcGkoaW50ZW50bGlzdCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlISEiLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICBhcGlfY2FsbHMuZGVsZXRlX2FwaV91cmwoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgaW50ZW50X2xpc3Q6IGludGVudGxpc3QsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIkFQSXMgaGF2ZSBiZWVuIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9pbmRpdmlkdWFsKGluZGV4KSB7CiAgICAgIGxldCBpbnRlbnRsaXN0ID0gW107CiAgICAgIGludGVudGxpc3QucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuYXBpX2xpc3RbaW5kZXhdLmludGVudCk7CiAgICAgIHRoaXMuZGVsZXRlX2FwaShpbnRlbnRsaXN0KTsKICAgIH0sCiAgICBkZWxldGVfc2VsZWN0ZWQoKSB7CiAgICAgIGxldCBpbnRlbnRsaXN0ID0gW107CiAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZToiTm8gZW5kcG9pbnQgc2VsZWN0ZWQhIiwKICAgICAgICAgIHRleHQ6IiIsCiAgICAgICAgICB0eXBlOiJlcnJvciIsCiAgICAgICAgICB0aW1lcjoyMDAwLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jaGVja2VkX2xpc3QpIHsKICAgICAgICAgIGludGVudGxpc3QucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuY2hlY2tlZF9saXN0W2ldLmludGVudCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZGVsZXRlX2FwaShpbnRlbnRsaXN0KTsKICAgICAgfQogICAgfSwKICAgIGVkaXRfYXBpKGluZGV4KSB7CiAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsKICAgICAgdGhpcy5xdWVzdGlvbiA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnF1ZXN0aW9uOwogICAgICB0aGlzLmludGVudHMgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5pbnRlbnQ7CiAgICAgIHRoaXMuYXBpX21ldGhvZCA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLm1ldGhvZDsKICAgICAgdGhpcy5lZGl0YWJsZV92YWx1ZXMgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5lZGl0YWJsZV92YWx1ZXM7CiAgICAgIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID0gdGhpcy5hcGlfbGlzdFtpbmRleF0uZWRpdGFibGU7CiAgICAgIGlmICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIpIHsKICAgICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMzsKICAgICAgfQogICAgICB0aGlzLnVybCA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnVybDsKICAgICAgdGhpcy5zaG93X2pzb25fcmVxdWVzdF9kYXRhID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucmVxX2pzb247CiAgICAgIHRoaXMuc2hvd19qc29uX3Jlc3BvbnNlX2RhdGEgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5yZXNwX2pzb247CiAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLm1lc3NhZ2VfdHlwZTsKICAgICAgdGhpcy5lbmRfdXNlcl9tZXNzYWdlID0gdGhpcy5hcGlfbGlzdFtpbmRleF0uZW5kX3VzZXJfbWVzc2FnZTsKICAgICAgdGhpcy5zdWNjZXNzZnVsX21lc3NhZ2UgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5yZXNwb25zZV9rZXk7CiAgICAgIHRoaXMucmVzcG9uc2VfanNvbl9lZGl0YWJsZSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnJlc3BvbnNlX2tleV9lZGl0YWJsZTsKICAgICAgdGhpcy5yZXNwb25zZV9rZXlfZWRpdF9tZXNzYWdlID0gdGhpcy5hcGlfbGlzdFsKICAgICAgICBpbmRleAogICAgICBdLnJlc3BvbnNlX2tleV9tZXNzYWdlOwogICAgICB0aGlzLnVuc3VjY2Vzc2Z1bF9tZXNzYWdlID0gdGhpcy5hcGlfbGlzdFsKICAgICAgICBpbmRleAogICAgICBdLnJlc3BvbnNlX2tleV91bnN1Y2Nlc3NmdWw7CiAgICAgIC8vIHRoaXMudGFza19uYW1lID0gdGhpcy5hcGlfbGlzdFtpbmRleF0udGFza19uYW1lOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuYXBpX2xpc3RbaW5kZXhdLnRhc2tzX2xpc3QpIHsKICAgICAgICB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzLnB1c2goewogICAgICAgICAga2V5X25hbWU6IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnRhc2tzX2xpc3RbaV0uUmF3U2xvdE5hbWUsCiAgICAgICAgICBpbnB1dF90ZXh0OiB0aGlzLmFwaV9saXN0W2luZGV4XS50YXNrc19saXN0W2ldLlRleHQsCiAgICAgICAgICBkcm9wZG93bl92YWx1ZTogIiIsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZF9saXN0KGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSAiYWxsIikgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSB0cnVlKSB0aGlzLmNoZWNrZWRfbGlzdCA9IHRoaXMuYzsKICAgICAgICBlbHNlIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSBmYWxzZSkgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgbGV0IHZhbF9pbmRleCA9IHRoaXMuY2hlY2tlZF9saXN0LmluZGV4T2YodGhpcy5hcGlfbGlzdFtpbmRleF0pOwogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmFwaV9saXN0W2luZGV4XTsKICAgICAgICAgIGlmICh2YWxfaW5kZXggPT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh0ZW1wKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgc2VsZWN0YWxsLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5jaGVja2VkX2xpc3QuZmlsdGVyKChhcGlfbGlzdCkgPT4gewogICAgICAgICAgICByZXR1cm4gYXBpX2xpc3QuYXBpX2xpc3QgIT09IGluZGV4OwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkX2FwaShjdXJyZW50X3N0ZXApIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKGN1cnJlbnRfc3RlcCA9PSAxKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5xdWVzdGlvbiA9PSAiIiB8fAogICAgICAgICAgdGhpcy51cmwgPT0gIiIgfHwKICAgICAgICAgIHRoaXMuYXBpX21ldGhvZCA9PSBudWxsIHx8CiAgICAgICAgICB0aGlzLmludGVudHMgPT0gIiIgfHwKICAgICAgICAgIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09IG51bGwgfHwKICAgICAgICAgICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIgJiYgdGhpcy5lZGl0YWJsZV92YWx1ZXMgPT0gIiIpCiAgICAgICAgKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIHJlcXVpcmVkIHZhbHVlcyIpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXFfanNvbigpID09IGZhbHNlKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIllvdXIgUmVxdWVzdCBKU09OIGlzIGludmFsaWQuIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIgJiYgIXRoaXMuaXNFZGl0KSB7CiAgICAgICAgICAgIHZhciBjc3YgPSB0aGlzLmVkaXRhYmxlX3ZhbHVlcy5zcGxpdCgiOyIpOwogICAgICAgICAgICB2YXIgaW5wdXRfdmFsdWU7CiAgICAgICAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXMgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBjc3YpIHsKICAgICAgICAgICAgICBsZXQgdGVtcF9saXN0ID0gY3N2W2ldLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgaW5wdXRfdmFsdWUgPSB0ZW1wX2xpc3RbdGVtcF9saXN0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXMucHVzaCh7CiAgICAgICAgICAgICAgICBrZXlfbmFtZTogaW5wdXRfdmFsdWUsCiAgICAgICAgICAgICAgICBpbnB1dF90ZXh0OiAiIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMzsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgKz0gMTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudF9zdGVwID0gMzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoY3VycmVudF9zdGVwID09IDIpIHsKICAgICAgICBsZXQgZW1wdHlfdmFycyA9IFtdOwogICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50YXNrX2lucHV0X3ZhbHVlcykgewogICAgICAgICAgaWYgKHRoaXMudGFza19pbnB1dF92YWx1ZXNbaV0uaW5wdXRfdGV4dCA9PSAiIikgewogICAgICAgICAgICBlbXB0eV92YXJzLnB1c2godGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChlbXB0eV92YXJzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfc3RlcCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIHZhbHVlcy4iKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGN1cnJlbnRfc3RlcCA9PSAzKSB7CiAgICAgICAgdmFyIGV4aXN0aW5nX2ludGVudF9saXN0ID0gdGhpcy5hcGlfbGlzdC5maWx0ZXIoKGFwaSkgPT4gewogICAgICAgICAgcmV0dXJuIGFwaS5pbnRlbnQgPT0gdGhpcy5pbnRlbnRzOwogICAgICAgIH0pOwogICAgICAgIHZhciBwb3N0X21ldGhvZF9kYXRhLCBnZXRfbWV0aG9kX2RhdGE7CiAgICAgICAgcG9zdF9tZXRob2RfZGF0YSA9IHt9OwogICAgICAgIGlmICh0aGlzLmFwaV9tZXRob2QgPT0gIlBPU1QiICYmIHRoaXMudGFza19mcm9tID09ICJmcm9tX2VudGl0eSIpIHsKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50YXNrX2lucHV0X3ZhbHVlcykgewogICAgICAgICAgICBwb3N0X21ldGhvZF9kYXRhW3RoaXMudGFza19pbnB1dF92YWx1ZXNbaV0ua2V5X25hbWVdID0gewogICAgICAgICAgICAgIGZyb21fdGV4dDogdHJ1ZSwKICAgICAgICAgICAgICBmcm9tX2VudGl0eToKICAgICAgICAgICAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXNbaV0uZHJvcGRvd25fdmFsdWUgIT0gIiIgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgICAgICAgZW50aXR5OiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmRyb3Bkb3duX3ZhbHVlLAogICAgICAgICAgICAgIGludGVudDogdGhpcy5jb21wYW55aWQgKyAiXyIgKyB0aGlzLmFwaV9saXN0W2ldLmludGVudCwKICAgICAgICAgICAgICBub3RfaW50ZW50OiBudWxsLAogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5hcGlfbWV0aG9kID09ICJHRVQiKSB7CiAgICAgICAgICBnZXRfbWV0aG9kX2RhdGEgPSB7fTsKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50YXNrX2lucHV0X3ZhbHVlcykgewogICAgICAgICAgICBnZXRfbWV0aG9kX2RhdGFbdGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5rZXlfbmFtZV0gPSB7CiAgICAgICAgICAgICAgRW50aXR5OiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmlucHV0X3RleHQsCiAgICAgICAgICAgICAgU2xvdDogbnVsbCwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGV4aXN0aW5nX2ludGVudF9saXN0Lmxlbmd0aCA+IDAgJiYgIXRoaXMuaXNFZGl0KSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAgICAgICAgICJUaGUgaW50ZW50IGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgdHJ5IHdpdGggYW5vdGhlciBpbnRlbnQiCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAodGhpcy5lbmRfdXNlcl9tZXNzYWdlICE9ICIiIHx8CiAgICAgICAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSA9PSAiVGhyb3VnaF9BUEkiKSAmJgogICAgICAgICAgKHRoaXMucmVzcG9uc2VfanNvbl9lZGl0YWJsZSAhPSBudWxsIHx8CiAgICAgICAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSA9PSAiQ3VzdG9tIikgJiYKICAgICAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSAhPSBudWxsICYmCiAgICAgICAgICB0aGlzLnN1Y2Nlc3NmdWxfbWVzc2FnZSAhPSBudWxsICYmCiAgICAgICAgICAodGhpcy5zaG93X2pzb25fcmVzcG9uc2VfZGF0YSAhPSAiIiB8fAogICAgICAgICAgICB0aGlzLmVuZHVzZXJfbXNnX3R5cGUgPT0gIkN1c3RvbSIpCiAgICAgICAgKSB7CiAgICAgICAgICBpZiAodGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiA9PSAiU2lsdmVyIikgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICAiWW91J3JlIG5vdCBhdmFpbCB0byB1c2UgdGhpcyBzZXJ2aWNlLCBkdWUgdG8geW91ciBzdWJzY3JpcHRpb24gcGxhbi4gS2luZGx5IHVwZ3JhZGUgeW91ciBwbGFuLiIsCiAgICAgICAgICAgICAgdGltZXI6MzAwMCwgICAgICAgICAgICAKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgICAgbGV0IHRhc2tzID0ge307CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAodGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIlRydWUiICYmCiAgICAgICAgICAgICAgICB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzLmxlbmd0aCA+IDApIHx8CiAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIkZhbHNlIgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGFza19pbnB1dF92YWx1ZXMpIHsKICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gW107CiAgICAgICAgICAgICAgICB0ZW1wLnB1c2goewogICAgICAgICAgICAgICAgICBUeXBlOiAiQXNrIiwKICAgICAgICAgICAgICAgICAgVGV4dDogdGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5pbnB1dF90ZXh0LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0YXNrc1t0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmtleV9uYW1lXSA9IHRlbXA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgICAgYXBpX2NhbGxzLmFkZF9jb25maWdfYXBpX3VybCgpLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbjogdGhpcy5xdWVzdGlvbiwKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0X2pzb25fa2V5X21hcHBpbmc6IGdldF9tZXRob2RfZGF0YSwKICAgICAgICAgICAgICAgICAgICB1cmw6IHRoaXMudXJsLAogICAgICAgICAgICAgICAgICAgIGludGVudDogdGhpcy5jb21wYW55aWQgKyAiXyIgKyB0aGlzLmludGVudHMsCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGpzb246IHRoaXMuc2hvd19qc29uX3JlcXVlc3RfZGF0YSwKICAgICAgICAgICAgICAgICAgICBhcGlfbWV0aG9kOiB0aGlzLmFwaV9tZXRob2QsCiAgICAgICAgICAgICAgICAgICAgZW5kX3VzZXJfbWVzc2FnZTogdGhpcy5lbmRfdXNlcl9tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIG1zZ190eXBlOiB0aGlzLmVuZHVzZXJfbXNnX3R5cGUsCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VrZXk6IHRoaXMuc3VjY2Vzc2Z1bF9tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIGFwaV9lZGl0OiB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSwKICAgICAgICAgICAgICAgICAgICBhcGlfZWRpdGFibGVfdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIKICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVkaXRhYmxlX3ZhbHVlcwogICAgICAgICAgICAgICAgICAgICAgICA6ICIiLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlanNvbjoKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSA9PSAiVGhyb3VnaF9BUEkiCiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5zaG93X2pzb25fcmVzcG9uc2VfZGF0YQogICAgICAgICAgICAgICAgICAgICAgICA6ICIiLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX21zZ19lZGl0YWJsZTogdGhpcy5yZXNwb25zZV9qc29uX2VkaXRhYmxlLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX21zZ19lZGl0YWJsZV92YWx1ZToKICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIKICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnJlc3BvbnNlX2tleV9lZGl0X21lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgOiAiIiwKICAgICAgICAgICAgICAgICAgICBzbG90X21hcHBpbmdfZGF0YTogcG9zdF9tZXRob2RfZGF0YSwKICAgICAgICAgICAgICAgICAgICB1bnN1Y2Nlc3NmdWxfbXNnOiB0aGlzLnVuc3VjY2Vzc2Z1bF9tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikKICAgICAgICAgICAgICAgICAgICAgIC5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgICAgIHRhc2tfZGV0YWlsczogdGFza3MsCiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1zZyA9PSAiSnNvbiBhZGRlZCIpIHsKICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciBBUEkgaGFzIGJlZW4gYWRkZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1zZyA9PSAiSnNvbiB1cGRhdGVkIikgewogICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJZb3VyIEFQSSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6MjUwMCwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1zZyA9PSAiRW5kcG9pbnQgbGltaXQgZXhjZWVkIikgewogICAgICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICJZb3VyIExpbWl0IGhhcyBiZWVuIGV4Y2VlZGVkLCBLaW5kbHkgdXBncmFkZSB5b3VyIHBsYW4iLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6MjUwMCwKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgLy8gYXhpb3MKICAgICAgICAgICAgICAvLyAgIC5wb3N0KGFwaV9jYWxscy50YXNrX2xpc3RfdXJsKCksIHsKICAgICAgICAgICAgICAvLyAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAvLyAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgLy8gICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgLy8gICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgLy8gICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIC8vICAgICBpbnRlbnQ6IHRoaXMuaW50ZW50cywKICAgICAgICAgICAgICAvLyAgICAgdGFza19kZXRhaWxzOiB0YXNrcywKICAgICAgICAgICAgICAvLyAgICAgLy8gdGFza19uYW1lOiB0aGlzLnRhc2tfbmFtZQogICAgICAgICAgICAgIC8vICAgfSwgewogICAgICAgICAgICAgIC8vICAgaGVhZGVyczogewogICAgICAgICAgICAgIC8vICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIC8vICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVGFzayBBZGRlZCIpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciB0YXNrIGhhcyBiZWVuIGFkZGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgIC8vICAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgLy8gICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAvLyAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgLy8gICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAvLyAgIGlmICgKICAgICAgICAgICAgICAvLyAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIC8vICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgLy8gICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICAvLyAgICkgewogICAgICAgICAgICAgIC8vICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJGYWxzZSIgJiYKICAgICAgICAgICAgICB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzLmxlbmd0aCA+IDAKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICB2YXIgaW50ZW50cyA9IFtdOwogICAgICAgICAgICAgIGludGVudHMucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuaW50ZW50cyk7CiAgICAgICAgICAgICAgaWYgKHRoaXMudGFza19pbnB1dF92YWx1ZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgLmRlbGV0ZSgKICAgICAgICAgICAgICAgICAgICBhcGlfY2FsbHMudGFza19saXN0X3VybCgpLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50czogaW50ZW50cywKICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikKICAgICAgICAgICAgICAgICAgICAgICAgICAubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKQogICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJUYXNrKHMpIERlbGV0ZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToiRGVsZXRlZCEiLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiJZb3VyIHRhc2socykgaGF2ZSBiZWVuIGRlbGV0ZWQuIiwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZToic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgICAgICAgIH0sIDI1MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdG9hc3RyLmVycm9yKCJQbGVhc2UgZW50ZXIgYWxsIHRoZSByZXF1aXJlZCB2YWx1ZXMiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcl9maWVsZHMoKSB7CiAgICAgIHRoaXMucXVlc3Rpb24gPSAiIjsKICAgICAgdGhpcy5pbnRlbnRzID0gIiI7CiAgICAgIHRoaXMuYXBpX21ldGhvZCA9IG51bGw7CiAgICAgIHRoaXMuZWRpdGFibGVfdmFsdWVzID0gIiI7CiAgICAgIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID0gbnVsbDsKICAgICAgdGhpcy51cmwgPSAiIjsKICAgICAgdGhpcy5zaG93X2pzb25fcmVxdWVzdF9kYXRhID0gIiI7CiAgICAgIHRoaXMuc2hvd19qc29uX3Jlc3BvbnNlX2RhdGEgPSAiIjsKICAgICAgdGhpcy5lbmRfdXNlcl9tZXNzYWdlID0gIiI7CiAgICAgIHRoaXMuaXNFZGl0ID0gZmFsc2U7CiAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSA9IG51bGw7CiAgICAgIHRoaXMucmVzcG9uc2VfanNvbl9lZGl0YWJsZSA9IG51bGw7CiAgICAgIHRoaXMucmVzcG9uc2Vfa2V5X2VkaXRfbWVzc2FnZSA9IG51bGw7CiAgICAgIHRoaXMudW5zdWNjZXNzZnVsX21lc3NhZ2UgPSBudWxsOwogICAgICB0aGlzLmN1cnJlbnRfc3RlcCA9IDE7CiAgICAgIHRoaXMudG90YWxfc3RlcHMgPSAyOwogICAgICB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzID0gW107CiAgICAgIC8vIHRoaXMudGFza19uYW1lID0gIiI7CiAgICB9LAogICAgYXBpX2xpc3RfdXBkYXRlKG1lc3NhZ2UpIHsKICAgICAgZm9yICh2YXIgaSBpbiBtZXNzYWdlKSB7CiAgICAgICAgdGhpcy5hcGlfbGlzdC5wdXNoKHsKICAgICAgICAgIGludGVudDogaS5yZXBsYWNlKHRoaXMuY29tcGFueWlkICsgIl8iLCAiIiksCiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlW2ldLk1TRywKICAgICAgICAgIG1ldGhvZDogbWVzc2FnZVtpXS5NRVRIT0QsCiAgICAgICAgICByZXFfanNvbjogbWVzc2FnZVtpXS5SZXF1ZXN0SnNvbiwKICAgICAgICAgIHJlc3BfanNvbjogbWVzc2FnZVtpXS5SZXNwb25zZUpzb24sCiAgICAgICAgICB1cmw6IG1lc3NhZ2VbaV0uVVJMLAogICAgICAgICAgZWRpdGFibGVfdmFsdWVzOiBtZXNzYWdlW2ldLlZhbHVlc1RvRWRpdCwKICAgICAgICAgIHF1ZXN0aW9uOiBtZXNzYWdlW2ldLlF1ZXN0aW9uLAogICAgICAgICAgZWRpdGFibGU6IG1lc3NhZ2VbaV0uaXNFZGl0LAogICAgICAgICAgbWVzc2FnZV90eXBlOiBtZXNzYWdlW2ldLk1zZ190eXBlLAogICAgICAgICAgZW5kX3VzZXJfbWVzc2FnZTogbWVzc2FnZVtpXS5NZXNzYWdlVG9FbmRVc2VyLAogICAgICAgICAgcmVzcG9uc2Vfa2V5OiBtZXNzYWdlW2ldLlJlc3BvbnNlS2V5VG9FbmRVc2VyLAogICAgICAgICAgcmVzcG9uc2Vfa2V5X2VkaXRhYmxlOiBtZXNzYWdlW2ldLlJlc3BvbnNlS2V5RWRpdGFibGUsCiAgICAgICAgICByZXNwb25zZV9rZXlfbWVzc2FnZTogbWVzc2FnZVtpXS5SZXNwb25zZUtleU1lc3NhZ2VUb0VuZFVzZXIsCiAgICAgICAgICByZXNwb25zZV9rZXlfdW5zdWNjZXNzZnVsOiBtZXNzYWdlW2ldLlVuU3VjY2Vzc2Z1bE1lc3NhZ2UsCiAgICAgICAgICB0YXNrX25hbWU6IG1lc3NhZ2VbaV0uVGFza3MgIT0gdW5kZWZpbmVkID8gbWVzc2FnZVtpXS5UYXNrTmFtZSA6ICIiLAogICAgICAgICAgdGFza3NfbGlzdDoKICAgICAgICAgICAgbWVzc2FnZVtpXS5UYXNrcyAhPSB1bmRlZmluZWQgPyBtZXNzYWdlW2ldLlRhc2tzLlV0dGVyYW5jZXMgOiBbXSwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGpzb25fcmVxdWVzdF9jbGFzcygpIHsKICAgICAgdHJ5IHsKICAgICAgICBKU09OLnBhcnNlKHRoaXMuanNvbl9yZXF1ZXN0X2RhdGFbdGhpcy5pbmRleF0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuICJpcy1pbnZhbGlkIjsKICAgICAgfQogICAgICByZXR1cm4gImlzLXZhbGlkIjsKICAgIH0sCiAgICBqc29uX3Jlc3BvbnNlX2NsYXNzKCkgewogICAgICB0cnkgewogICAgICAgIEpTT04ucGFyc2UodGhpcy5qc29uX3Jlc3BvbnNlX2RhdGFbdGhpcy5pbmRleF0pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuICJpcy1pbnZhbGlkIjsKICAgICAgfQogICAgICByZXR1cm4gImlzLXZhbGlkIjsKICAgIH0sCiAgICBzaG93X2Jsb2NrKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSAidXAiKSB7CiAgICAgICAgdGhpcy5zaG93X29yX2Jsb2NrID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gImRvd24iKSB7CiAgICAgICAgdGhpcy5zaG93X29yX2Jsb2NrID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGRvdF9jbGFzcyhzdGVwKSB7CiAgICAgIGlmICgKICAgICAgICBzdGVwID09IHRoaXMuY3VycmVudF9zdGVwIHx8CiAgICAgICAgKHN0ZXAgPT0gdGhpcy50b3RhbF9zdGVwcyAmJgogICAgICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgPT0gMyAmJgogICAgICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIkZhbHNlIikKICAgICAgKSB7CiAgICAgICAgcmV0dXJuICJkb3Qgc3VjY2VzcyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJkb3QiOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["DefineEndpoints.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2hCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DefineEndpoints.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Data Inputs","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"dash-cont\">\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          >\n            <h4 class=\"mb-sm-0\">Define API Endpoints</h4>\n            <div class=\"card-act d-flex flex-wrap\">\n              <button class=\"darkblue-btn\" @click=\"train_intent_model\">\n                Train The Model\n              </button>\n              <a\n                href=\"#\"\n                class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n                data-target=\"#configapimodal\"\n                id=\"add_api_btn\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"14\"\n                  height=\"13.997\"\n                  viewBox=\"0 0 14 13.997\"\n                >\n                  <path\n                    id=\"Union_13\"\n                    data-name=\"Union 13\"\n                    d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                    transform=\"translate(12690.001 -2045.002)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n                Add API\n              </a>\n              <a\n                href=\"javascript:void(0)\"\n                class=\"red-btn\"\n                @click=\"delete_selected\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"14\"\n                  height=\"14\"\n                  viewBox=\"0 0 14 14\"\n                >\n                  <path\n                    d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                    transform=\"translate(-4 -3)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n                Delete\n              </a>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-box\">\n              <div class=\"table-responsive\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\" style=\"width: 1%\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label class=\"form-check-label\">\n                            <input\n                              id=\"selectall\"\n                              class=\"form-check-input\"\n                              @change=\"selected_list('all')\"\n                              type=\"checkbox\"\n                              value\n                              required\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <th scope=\"col\" style=\"width: 5%\">ACTION</th>\n                      <th scope=\"col\" style=\"width: 45%\">QUESTIONS</th>\n                      <th scope=\"col\" style=\"width: 15%\">INTENT</th>\n                      <th scope=\"col\" style=\"width: 1%\">URLS</th>\n                      <th scope=\"col\" style=\"width: 5%\">METHOD</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(api, index) in api_list\" :key=\"index\">\n                      <th scope=\"row\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label class=\"form-check-label\">\n                            <input\n                              class=\"form-check-input\"\n                              @change=\"selected_list(index)\"\n                              type=\"checkbox\"\n                              value\n                              required\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <td class=\"action\">\n                        <a\n                          href=\"#\"\n                          @click=\"edit_api(index)\"\n                          data-toggle=\"modal\"\n                          data-target=\"#configapimodal\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"15.392\"\n                            height=\"15.392\"\n                            viewBox=\"0 0 15.392 15.392\"\n                            data-toggle=\"modal\"\n                            data-target=\"#exampleModalCenter\"\n                          >\n                            <path\n                              id=\"square-edit-outline\"\n                              d=\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\"\n                              transform=\"translate(-3 -3)\"\n                              fill=\"#9499ae\"\n                            />\n                          </svg>\n                        </a>\n                        <a href=\"#\" @click=\"delete_individual(index)\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"13.682\"\n                            height=\"15.392\"\n                            viewBox=\"0 0 13.682 15.392\"\n                          >\n                            <path\n                              d=\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\"\n                              transform=\"translate(-4 -3)\"\n                              fill=\"#f23d3d\"\n                            />\n                          </svg>\n                        </a>\n                      </td>\n                      <td>{{ api.question }}</td>\n                      <td>{{ api.intent }}</td>\n\n                      <td\n                        data-tooltip=\"tooltip\"\n                        data-placement=\"bottom\"\n                        :title=\"api.url\"\n                      >\n                        <a href=\"#\">{...}</a>\n                      </td>\n                      <td>{{ api.method }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"pagin-table\">\n                <nav aria-label=\"Page navigation example\">\n                  <ul class=\"pagination justify-content-center\">\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(page_no - 1)\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"8.667\"\n                          height=\"15.204\"\n                          viewBox=\"0 0 8.667 15.204\"\n                        >\n                          <g\n                            id=\"arrow-point-to-left\"\n                            transform=\"translate(105.806 15.204) rotate(180)\"\n                          >\n                            <path\n                              id=\"Path_1136\"\n                              data-name=\"Path 1136\"\n                              d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                              transform=\"translate(0 0)\"\n                              fill=\"#9499ae\"\n                            />\n                          </g>\n                        </svg>\n                      </a>\n                    </li>\n                    <li\n                      :class=\"'page-item ' + pagination_class(page_number)\"\n                      v-for=\"page_number in total_pages\"\n                      :key=\"page_number\"\n                    >\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(page_number)\"\n                        >{{ page_number }}</a\n                      >\n                    </li>\n\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(page_no + 1)\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"8.667\"\n                          height=\"15.204\"\n                          viewBox=\"0 0 8.667 15.204\"\n                        >\n                          <g\n                            id=\"arrow-point-to-right\"\n                            transform=\"translate(-97.139 0)\"\n                          >\n                            <path\n                              id=\"Path_1136\"\n                              data-name=\"Path 1136\"\n                              d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                              transform=\"translate(0 0)\"\n                              fill=\"#9499ae\"\n                            />\n                          </g>\n                        </svg>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"modal fade dash-modal\"\n      id=\"configapimodal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"configapimodaltitle\"\n      aria-hidden=\"true\"\n      data-backdrop=\"static\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Define API Endpoints</h3>\n            </div>\n            <h6 v-show=\"current_step == 1\">Request JSON</h6>\n            <h6 v-show=\"current_step == 2\">Request JSON Parameters</h6>\n            <h6 v-show=\"current_step == 3\">Response JSON</h6>\n            <br />\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              @click=\"clear_fields\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/static/img/close-icn.png\" alt />\n            </button>\n            <div class=\"form-group\" v-if=\"current_step == 1\">\n              <label>Questions</label>\n              <input\n                id=\"add_api_question\"\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"question\"\n                placeholder=\"Enter Questions\"\n              />\n            </div>\n            <div class=\"form-group\" v-if=\"current_step == 1\">\n              <label>Select Intent</label>\n              <multiselect\n                :disabled=\"isEdit\"\n                v-model=\"intents\"\n                :searchable=\"true\"\n                :close-on-select=\"true\"\n                :show-labels=\"false\"\n                :options=\"intentlist\"\n              >\n                <span>{{ intents }}</span>\n              </multiselect>\n            </div>\n            <div class=\"form-group\" v-if=\"current_step == 1\">\n              <label>URL</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"url\"\n                id=\"add_api_url\"\n                placeholder=\"Enter URL Here\"\n              />\n            </div>\n            <div class=\"form-group\" v-if=\"current_step == 1\">\n              <label>Method</label>\n              <div class=\"radio\" style=\"margin-left: 32%\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    class=\"form-control\"\n                    id=\"configapi_post\"\n                    v-model=\"api_method\"\n                    value=\"POST\"\n                  />\n                  <span class=\"icn\" id=\"configapi_post_icn\"></span> POST\n                </label>\n                <label>\n                  <input type=\"radio\" v-model=\"api_method\" value=\"GET\" />\n                  <span class=\"icn\"></span> GET\n                </label>\n              </div>\n            </div>\n            <div class=\"form-group\" v-if=\"current_step == 1\">\n              <label>Request JSON</label>\n              <span style=\"margin-left: 8px\">\n                <svg\n                  data-tooltip=\"tooltip\"\n                  data-placement=\"bottom\"\n                  title=\"Help\"\n                  data-toggle=\"modal\"\n                  data-target=\"#configapimodal4\"\n                  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:cc=\"http://creativecommons.org/ns#\"\n                  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n                  height=\"24\"\n                  width=\"24\"\n                  version=\"1.1\"\n                >\n                  <g transform=\"translate(0 -1028.4)\">\n                    <path\n                      d=\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\"\n                      transform=\"translate(0 1029.4)\"\n                      fill=\"#2980b9\"\n                    />\n                    <path\n                      d=\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\"\n                      transform=\"translate(0 1028.4)\"\n                      fill=\"#273679\"\n                    />\n                    <path\n                      d=\"m12 1035.4c-1.727-0.1-3.4306 1.1-3.8438 2.8-0.0403 0.3-0.0546 0.4-0.1562 1.2h2c-0.0526-1.3 1.306-2.3 2.5-2 1.021 0.3 1.763 1.5 1.406 2.5-0.294 0.6-0.998 1-1.562 1.4-0.577 0.5-1.074 1.1-1.313 1.8-0.039 0.4-0.034 0.8-0.031 1.3h2v-1c0.172-0.7 0.688-1.1 1.25-1.4 0.634-0.3 1.087-0.8 1.406-1.4 0.543-1 0.454-2.2-0.125-3.1-0.705-1.3-2.067-2.2-3.531-2.1zm0 10c-0.552 0-1 0.4-1 1 0 0.5 0.448 1 1 1s1-0.5 1-1c0-0.6-0.448-1-1-1z\"\n                      fill=\"#2980b9\"\n                    />\n                    <path\n                      d=\"m12 6c-1.727-0.0274-3.4306 1.1749-3.8438 2.875-0.0403 0.2941-0.0546 0.3281-0.1562 1.125h2c-0.0526-1.2477 1.306-2.289 2.5-1.9375 1.021 0.2374 1.763 1.4281 1.406 2.4375-0.294 0.684-0.998 0.992-1.562 1.406-0.577 0.482-1.074 1.094-1.313 1.813-0.039 0.42-0.034 0.859-0.031 1.281h2v-1c0.172-0.624 0.688-1.042 1.25-1.312 0.634-0.312 1.087-0.835 1.406-1.469 0.543-0.974 0.454-2.1746-0.125-3.094-0.705-1.2699-2.067-2.1438-3.531-2.125zm0 10c-0.552 0-1 0.448-1 1s0.448 1 1 1 1-0.448 1-1-0.448-1-1-1z\"\n                      transform=\"translate(0 1028.4)\"\n                      fill=\"#ecf0f1\"\n                    />\n                  </g>\n                </svg>\n              </span>\n              <textarea\n                id=\"configapi_req_json\"\n                :class=\"'form-control ' + json_request_class\"\n                placeholder=\"Request JSON data here...\"\n                rows=\"5\"\n                v-model=\"show_json_request_data\"\n              ></textarea>\n            </div>\n            <div class=\"form-group\" v-if=\"current_step == 1\">\n              <label>Request JSON Editable</label>\n              <div class=\"radio\" style=\"margin-left: 32%\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    class=\"form-control\"\n                    v-model=\"request_json_editable\"\n                    value=\"True\"\n                    id=\"configapi_true1\"\n                    @change=\"change_total_steps\"\n                  />\n                  <span class=\"icn\" id=\"configapi_true_icn\"></span> True\n                </label>\n                <label>\n                  <input\n                    type=\"radio\"\n                    class=\"form-control\"\n                    v-model=\"request_json_editable\"\n                    value=\"False\"\n                    @change=\"change_total_steps\"\n                  />\n                  <span class=\"icn\"></span> False\n                </label>\n              </div>\n            </div>\n            <div\n              class=\"form-group\"\n              v-show=\"request_json_editable == 'True' && current_step == 1\"\n            >\n              <label>Request JSON Parameters</label>\n              <textarea\n                id=\"input_from_user_id\"\n                class=\"form-control\"\n                v-model=\"editable_values\"\n                placeholder=\"Mention all the request json parameters here, the values which will be given by the users. Multiple parameters to be separated by ';'\"\n                rows=\"5\"\n              ></textarea>\n            </div>\n            <div class=\"form-group\" v-if=\"current_step == 3\">\n              <label>End User Message</label>\n              <div class=\"radio\" style=\"margin-left: 32%\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    v-model=\"enduser_msg_type\"\n                    :disabled=\"isEdit\"\n                    value=\"Through_API\"\n                    id=\"eu_msg_radio\"\n                  />\n                  <span class=\"icn\" id=\"eu_thru_api\"></span> Through API\n                </label>\n                <label>\n                  <input\n                    type=\"radio\"\n                    v-model=\"enduser_msg_type\"\n                    value=\"Custom\"\n                  />\n                  <span class=\"icn\"></span> Custom\n                </label>\n              </div>\n            </div>\n            <div\n              class=\"form-group\"\n              v-show=\"enduser_msg_type == 'Through_API' && current_step == 3\"\n            >\n              <label>Response JSON</label>\n              <span style=\"margin-left: 8px\">\n                <svg\n                  data-tooltip=\"tooltip\"\n                  data-placement=\"bottom\"\n                  title=\"Help\"\n                  data-toggle=\"modal\"\n                  data-target=\"#configapimodal2\"\n                  fill=\"#273679\"\n                  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:cc=\"http://creativecommons.org/ns#\"\n                  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n                  height=\"24\"\n                  width=\"24\"\n                  version=\"1.1\"\n                  @click=\"show_block('up')\"\n                >\n                  <g transform=\"translate(0 -1028.4)\">\n                    <path\n                      d=\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\"\n                      transform=\"translate(0 1029.4)\"\n                      fill=\"#2980b9\"\n                    />\n                    <path\n                      d=\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\"\n                      transform=\"translate(0 1028.4)\"\n                      fill=\"#273679\"\n                    />\n                    <path\n                      d=\"m12 1035.4c-1.727-0.1-3.4306 1.1-3.8438 2.8-0.0403 0.3-0.0546 0.4-0.1562 1.2h2c-0.0526-1.3 1.306-2.3 2.5-2 1.021 0.3 1.763 1.5 1.406 2.5-0.294 0.6-0.998 1-1.562 1.4-0.577 0.5-1.074 1.1-1.313 1.8-0.039 0.4-0.034 0.8-0.031 1.3h2v-1c0.172-0.7 0.688-1.1 1.25-1.4 0.634-0.3 1.087-0.8 1.406-1.4 0.543-1 0.454-2.2-0.125-3.1-0.705-1.3-2.067-2.2-3.531-2.1zm0 10c-0.552 0-1 0.4-1 1 0 0.5 0.448 1 1 1s1-0.5 1-1c0-0.6-0.448-1-1-1z\"\n                      fill=\"#2980b9\"\n                    />\n                    <path\n                      d=\"m12 6c-1.727-0.0274-3.4306 1.1749-3.8438 2.875-0.0403 0.2941-0.0546 0.3281-0.1562 1.125h2c-0.0526-1.2477 1.306-2.289 2.5-1.9375 1.021 0.2374 1.763 1.4281 1.406 2.4375-0.294 0.684-0.998 0.992-1.562 1.406-0.577 0.482-1.074 1.094-1.313 1.813-0.039 0.42-0.034 0.859-0.031 1.281h2v-1c0.172-0.624 0.688-1.042 1.25-1.312 0.634-0.312 1.087-0.835 1.406-1.469 0.543-0.974 0.454-2.1746-0.125-3.094-0.705-1.2699-2.067-2.1438-3.531-2.125zm0 10c-0.552 0-1 0.448-1 1s0.448 1 1 1 1-0.448 1-1-0.448-1-1-1z\"\n                      transform=\"translate(0 1028.4)\"\n                      fill=\"#ecf0f1\"\n                    />\n                  </g>\n                </svg>\n              </span>\n              <textarea\n                id=\"configapi_res_json\"\n                :class=\"'form-control ' + json_response_class\"\n                placeholder=\"Response JSON data here...\"\n                rows=\"5\"\n                v-model=\"show_json_response_data\"\n              ></textarea>\n            </div>\n            <div\n              class=\"form-group\"\n              v-show=\"enduser_msg_type == 'Through_API' && current_step == 3\"\n            >\n              <label>Response JSON parameter sent to end user</label>\n              <textarea\n                class=\"form-control\"\n                v-model=\"successful_message\"\n                placeholder=\"Mention the response json parameter here, the value of which will be sent to the user...\"\n                rows=\"3\"\n                id=\"response_key_json_id\"\n              ></textarea>\n            </div>\n            <div\n              class=\"form-group\"\n              v-show=\"enduser_msg_type == 'Custom' && current_step == 3\"\n            >\n              <label>Message to end user</label>\n              <input\n                id=\"configapi_end_user_msg\"\n                class=\"form-control\"\n                placeholder=\"Message to end user...type here\"\n                v-model=\"end_user_message\"\n              />\n            </div>\n\n            <div\n              class=\"form-group\"\n              v-show=\"enduser_msg_type == 'Through_API' && current_step == 3\"\n            >\n              <label>Response JSON Editable</label>\n              <div class=\"radio\" style=\"margin-left: 32%\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    class=\"form-control\"\n                    v-model=\"response_json_editable\"\n                    value=\"True\"\n                    id=\"configapi_true2\"\n                  />\n                  <span class=\"icn\" id=\"configapi_true_icn2\"></span> True\n                </label>\n                <label>\n                  <input\n                    type=\"radio\"\n                    class=\"form-control\"\n                    v-model=\"response_json_editable\"\n                    value=\"False\"\n                  />\n                  <span class=\"icn\"></span> False\n                </label>\n              </div>\n            </div>\n            <div\n              class=\"form-group\"\n              v-show=\"\n                response_json_editable == 'True' &&\n                enduser_msg_type == 'Through_API' &&\n                current_step == 3\n              \"\n            >\n              <label>Message With Response JSON Parameter</label>\n              <span style=\"margin-left: 8px\">\n                <svg\n                  data-tooltip=\"tooltip\"\n                  data-placement=\"bottom\"\n                  title=\"Help\"\n                  data-toggle=\"modal\"\n                  data-target=\"#configapimodal_json_editable\"\n                  fill=\"#273679\"\n                  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:cc=\"http://creativecommons.org/ns#\"\n                  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n                  height=\"24\"\n                  width=\"24\"\n                  version=\"1.1\"\n                >\n                  <g transform=\"translate(0 -1028.4)\">\n                    <path\n                      d=\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\"\n                      transform=\"translate(0 1029.4)\"\n                      fill=\"#2980b9\"\n                    />\n                    <path\n                      d=\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\"\n                      transform=\"translate(0 1028.4)\"\n                      fill=\"#273679\"\n                    />\n                    <path\n                      d=\"m12 1035.4c-1.727-0.1-3.4306 1.1-3.8438 2.8-0.0403 0.3-0.0546 0.4-0.1562 1.2h2c-0.0526-1.3 1.306-2.3 2.5-2 1.021 0.3 1.763 1.5 1.406 2.5-0.294 0.6-0.998 1-1.562 1.4-0.577 0.5-1.074 1.1-1.313 1.8-0.039 0.4-0.034 0.8-0.031 1.3h2v-1c0.172-0.7 0.688-1.1 1.25-1.4 0.634-0.3 1.087-0.8 1.406-1.4 0.543-1 0.454-2.2-0.125-3.1-0.705-1.3-2.067-2.2-3.531-2.1zm0 10c-0.552 0-1 0.4-1 1 0 0.5 0.448 1 1 1s1-0.5 1-1c0-0.6-0.448-1-1-1z\"\n                      fill=\"#2980b9\"\n                    />\n                    <path\n                      d=\"m12 6c-1.727-0.0274-3.4306 1.1749-3.8438 2.875-0.0403 0.2941-0.0546 0.3281-0.1562 1.125h2c-0.0526-1.2477 1.306-2.289 2.5-1.9375 1.021 0.2374 1.763 1.4281 1.406 2.4375-0.294 0.684-0.998 0.992-1.562 1.406-0.577 0.482-1.074 1.094-1.313 1.813-0.039 0.42-0.034 0.859-0.031 1.281h2v-1c0.172-0.624 0.688-1.042 1.25-1.312 0.634-0.312 1.087-0.835 1.406-1.469 0.543-0.974 0.454-2.1746-0.125-3.094-0.705-1.2699-2.067-2.1438-3.531-2.125zm0 10c-0.552 0-1 0.448-1 1s0.448 1 1 1 1-0.448 1-1-0.448-1-1-1z\"\n                      transform=\"translate(0 1028.4)\"\n                      fill=\"#ecf0f1\"\n                    />\n                  </g>\n                </svg>\n              </span>\n              <textarea\n                class=\"form-control\"\n                v-model=\"response_key_edit_message\"\n                placeholder=\"Please enter the custom message with response json parameter which will sent to enduser\"\n                rows=\"3\"\n                id=\"msg_reponse_key\"\n              ></textarea>\n            </div>\n            <div class=\"form-group\" v-show=\"current_step == 3\">\n              <label>Message to User upon API failure</label>\n              <textarea\n                class=\"form-control\"\n                v-model=\"unsuccessful_message\"\n                placeholder=\"Message on API failure...type here\"\n                rows=\"3\"\n                id=\"api_failure\"\n              ></textarea>\n            </div>\n            <!-- <div class=\"form-group\" v-show=\"current_step==2\">\n                <label>Task Name</label>\n                <input\n                  class=\"form-control\"\n                  v-model=\"task_name\"\n                  placeholder=\"Enter the task name ...\"\n                >\n            </div>-->\n            <div class=\"row\" v-show=\"current_step == 2\">\n              <div class=\"col-md-3\">\n                <div class=\"form-group\">Input Value</div>\n              </div>\n              <div class=\"col-md-9\" v-if=\"api_method == 'POST'\">\n                Question to be asked by the chatbot\n              </div>\n              <div class=\"col-md-9\" v-else-if=\"api_method == 'GET'\">\n                Select the tags\n              </div>\n            </div>\n            <div\n              class=\"row\"\n              v-for=\"(input, index) in task_input_values\"\n              :key=\"index\"\n              v-show=\"current_step == 2\"\n            >\n              <div class=\"col-md-3\">\n                <div class=\"form-group\">{{ input.key_name }}</div>\n              </div>\n              <div class=\"col-md-9\">\n                <div class=\"row\">\n                  <div class=\"col-md-9\">\n                    <div class=\"form-group\">\n                      <input\n                        class=\"form-control\"\n                        id=\"subject_input\"\n                        v-model=\"task_input_values[index].input_text\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div class=\"form-group\" v-show=\"api_method == 'GET'\">\n                  <select class=\"form-control\" v-model=\"input.input_text\">\n                    <option value>Select A Value</option>\n                    <option\n                      v-for=\"(value, index) in post_method_request_list\"\n                      :value=\"value\"\n                      :key=\"index\"\n                    >\n                      {{ value }}\n                    </option>\n                  </select>\n                </div>\n              </div>\n              <!-- <div class=\"row\" v-show=\"current_step==2 && api_method=='POST'\">\n                <div class=\"col-md-4\">\n                  <div class=\"radio\" style=\"margin-left: 32%;\">\n                    <label>\n                      <input\n                        type=\"radio\"\n                        class=\"form-control\"\n                        value=\"from_entity\"\n                        v-model=\"task_from\"\n                      />\n                      <span class=\"icn\"></span> From Entity\n                    </label>\n                  </div>\n                </div>\n                <div class=\"col-md-4\">\n                  <div class=\"form-group\">\n                    <select class=\"form-control\" v-model=\"input.dropdown_value\">\n                      <option value>Select a value</option>\n                      <option\n                        v-for=\"(value, index) in post_method_request_list\"\n                        :value=\"value\"\n                        :key=\"index\"\n                      >{{value}}</option>\n                    </select>\n                  </div>\n                </div>\n              </div>-->\n            </div>\n            <div class=\"btn-wrap text-right\">\n              <button\n                style=\"float: left\"\n                class=\"darkblue-btn\"\n                id=\"previousAPI\"\n                v-show=\"current_step > 1\"\n                @click=\"change_total_steps(current_step)\"\n              >\n                Previous\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                id=\"cancelAPI\"\n                data-dismiss=\"modal\"\n                @click=\"clear_fields\"\n              >\n                Cancel\n              </button>\n              <button\n                class=\"darkblue-btn\"\n                id=\"nextAPI\"\n                v-show=\"\n                  current_step != total_steps &&\n                  !(current_step == 3 && request_json_editable == 'False')\n                \"\n                @click=\"add_api(current_step)\"\n              >\n                Next\n              </button>\n              <button\n                class=\"darkblue-btn\"\n                id=\"saveAPI\"\n                v-show=\"\n                  current_step == total_steps ||\n                  (current_step == 3 && request_json_editable == 'False')\n                \"\n                @click=\"add_api(current_step)\"\n              >\n                Save\n              </button>\n            </div>\n            <div class=\"text-center\">\n              <template v-for=\"dot in total_steps\">\n                <span :key=\"dot\" :class=\"dot_class(dot)\"></span>&nbsp;\n              </template>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"modal fade dash-modal\"\n      id=\"configapimodal2\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"configapimodaltitle\"\n      aria-hidden=\"true\"\n      data-backdrop=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\" style=\"width: fit-content\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Help</h3>\n            </div>\n            <div>\n              <div>\n                <h6 class=\"hclass6\">\n                  To show the message as is from the API, it can be configured\n                  as follows:\n                </h6>\n                <label>Response JSON</label>\n                <textarea\n                  disabled\n                  id=\"configapi_req_json\"\n                  :class=\"'form-control ' + json_request_class\"\n                  placeholder=\"response\"\n                  rows=\"5\"\n                  v-model=\"response_json_case_1\"\n                  style=\"color: black\"\n                ></textarea>\n              </div>\n              <br />\n              <div class=\"form-group\">\n                <label>Response JSON parameter sent to end user</label>\n                <textarea\n                  disabled\n                  class=\"form-control\"\n                  rows=\"1\"\n                  style=\"color: black\"\n                >\nmessage</textarea\n                >\n              </div>\n              <h6 class=\"hclass6\">\n                So in this case, the value of message key would be\n                <span style=\"font-weight: 450\"\n                  >'Your appointment has been scheduled'</span\n                >\n              </h6>\n              <br />\n            </div>\n            <br />\n            <br />\n\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/static/img/close-icn.png\" alt />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"modal fade dash-modal\"\n      id=\"configapimodal_json_editable\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"configapimodaltitle\"\n      aria-hidden=\"true\"\n      data-backdrop=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\" style=\"width: fit-content\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Help</h3>\n            </div>\n            <div>\n              <div>\n                <h6 class=\"hclass6\">\n                  This example show how we can use the various output parameters\n                  from the API to modify the user message\n                </h6>\n                <label>Response JSON</label>\n                <textarea\n                  disabled\n                  id=\"configapi_req_json\"\n                  :class=\"'form-control ' + json_request_class\"\n                  placeholder=\"response\"\n                  rows=\"6\"\n                  v-model=\"response_json_case_11\"\n                  style=\"color: black\"\n                ></textarea>\n              </div>\n              <br />\n              <div class=\"form-group\">\n                <label>Response JSON parameter sent to end user</label>\n                <textarea\n                  disabled\n                  class=\"form-control\"\n                  rows=\"1\"\n                  style=\"color: black\"\n                >\ncount</textarea\n                >\n              </div>\n              <div class=\"form-group\">\n                <label>Message With Response JSON Parameter</label>\n                <textarea\n                  disabled\n                  class=\"form-control\"\n                  style=\"color: black\"\n                  rows=\"1\"\n                >\nYou have {count} appointments</textarea\n                >\n              </div>\n\n              <br />\n              <h6 class=\"hclass6\">\n                <span class=\"noteclass\">Note:-</span> The Response sent to end\n                user is\n                <span style=\"font-weight: 450\">You have 8 appointments</span>\n              </h6>\n              <br />\n            </div>\n\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/static/img/close-icn.png\" alt />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"modal fade dash-modal\"\n      id=\"configapimodal4\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"configapimodal4title\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\" style=\"width: fit-content\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/static/img/msg-blue.png\" alt />\n              </div>\n              <h3>Help</h3>\n            </div>\n            <div>\n              <h6>Example 1:</h6>\n              <h6 class=\"hclass6\">\n                Below is the json, where the values for companyid, email and\n                role are set from the session. The values for subject and\n                description are obtained from the user.\n              </h6>\n              <div>\n                <label>Request JSON</label>\n                <textarea\n                  disabled\n                  id=\"configapi_req_json\"\n                  :class=\"'form-control ' + json_request_class\"\n                  placeholder=\"Request JSON data here...\"\n                  rows=\"7\"\n                  v-model=\"request_json_case_1\"\n                  style=\"color: black\"\n                ></textarea>\n              </div>\n\n              <br />\n              <div>\n                <label>Request JSON Editable</label>\n                <br />\n                <div class=\"radio\" style=\"padding-left: 15%\">\n                  <label>\n                    <input disabled type=\"radio\" checked />\n                    <span class=\"icn\" id=\"configapi_true_icn\"></span> True\n                  </label>\n                  <label>\n                    <input disabled type=\"radio\" />\n                    <span class=\"icn\"></span> False\n                  </label>\n                </div>\n              </div>\n              <div>\n                <label>Request JSON Parameters</label>\n                <input\n                  disabled\n                  class=\"form-control\"\n                  v-model=\"input_from_user_case_1\"\n                  style=\"color: black\"\n                />\n              </div>\n            </div>\n            <br />\n            <br />\n            <div>\n              <h6>Example 2 :</h6>\n              <h6 class=\"hclass6\">\n                This example shows how we map the parameters from json that we\n                need from users. In the below json, if we need the inputs from\n                the user for say parameter \"nickname\". This has to be mapped as\n                \"user,info,nickname\" in the \"Request JSON Parameters\" field.\n              </h6>\n              <div>\n                <label>Request JSON</label>\n                <textarea\n                  disabled\n                  id=\"configapi_req_json\"\n                  :class=\"'form-control ' + json_request_class\"\n                  placeholder=\"Request JSON data here...\"\n                  rows=\"23\"\n                  v-model=\"request_json_case_2\"\n                  style=\"color: black\"\n                ></textarea>\n              </div>\n              <br />\n              <div>\n                <label>Request JSON Editable</label>\n                <br />\n                <div class=\"radio\" style=\"padding-left: 15%\">\n                  <label>\n                    <input type=\"radio\" disabled checked />\n                    <span class=\"icn\" id=\"configapi_true_icn\"></span> True\n                  </label>\n                  <label>\n                    <input type=\"radio\" disabled />\n                    <span class=\"icn\"></span> False\n                  </label>\n                </div>\n              </div>\n              <div>\n                <label>Request JSON Parameters</label>\n                <input\n                  disabled\n                  class=\"form-control\"\n                  v-model=\"input_from_user_case_2\"\n                  style=\"color: black\"\n                />\n              </div>\n            </div>\n            <div>\n              <br />\n              <br />\n              <div class=\"input-group\">\n                <h6>Example 3 :</h6>\n                <h6 class=\"hclass6\">\n                  Whenever the request json parameters are set from session or\n                  cookies or some source and not from the user input, in such\n                  cases check \"False\" at Request JSON Editable\n                </h6>\n              </div>\n\n              <div>\n                <label>Request JSON</label>\n                <textarea\n                  disabled\n                  id=\"configapi_req_json\"\n                  :class=\"'form-control ' + json_request_class\"\n                  placeholder=\"Request JSON data here...\"\n                  rows=\"5\"\n                  v-model=\"request_json_case_3\"\n                  style=\"color: black\"\n                ></textarea>\n              </div>\n              <br />\n              <div>\n                <label>Request JSON Editable</label>\n                <br />\n                <div class=\"radio\" style=\"padding-left: 15%\">\n                  <label>\n                    <input type=\"radio\" disabled />\n                    <span class=\"icn\" id=\"configapi_true_icn\"></span> True\n                  </label>\n                  <label>\n                    <input type=\"radio\" disabled checked />\n                    <span class=\"icn\"></span> False\n                  </label>\n                </div>\n              </div>\n              <br />\n              <!-- <h6 class=\"hclass6\">\n                <span class=\"noteclass\">Note:-</span>Chatbot will take all the json keys from session , cookies, etc.\n              </h6>-->\n            </div>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/static/img/close-icn.png\" alt />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n  <script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { setTimeout } from \"timers\";\nimport api_calls from \"@/portal/api_calls\";\nimport Multiselect from \"vue-multiselect\";\n\nexport default {\n  name: \"config-api\",\n  components: {\n    Multiselect,\n  },\n  data() {\n    return {\n      show_or_block: false,\n      intentlist: [],\n      question: \"\",\n      url: \"\",\n      name: null,\n      api_list: [],\n      companyname: null,\n      companyid: null,\n      index: null,\n      total_pages: \"\",\n      show_json_request_data: \"\",\n      show_json_response_data: \"\",\n      successful_message: \"\",\n      json_request_data: [],\n      json_response_data: [],\n      type: null,\n      task_from: \"\",\n      entity_list: [],\n      post_method_request_list: [],\n      post_method_request_value: \"\",\n      api_method: null,\n      response_key_edit_message: \"\",\n      enduser_msg_type: null,\n      unsuccessful_message: null,\n      request_json_editable: null,\n      response_json_editable: null,\n      end_user_message: null,\n      editable_values: \"\",\n      checked_list: [],\n      isEdit: false,\n      intents: \"\",\n      page_no: 1,\n      per_page: 10,\n      spinnerOn: false,\n      user_role: this.$session.get(\"UserInformation\").role,\n      request_json_case_1: `{\n          \"companyid\": \"<Company_ID>\",\n          \"email\": \"<Email>\",\n          \"role\": \"<Role>\",\n          \"subject\": \" \",\n          \"description\": \" \"\n}`,\n\n      input_from_user_case_1: \"subject;description\",\n      request_json_case_2: `{\n\t\"user\": {\n\t\t\"companyid\": \"<Company_ID>\",\n    \"email\": \"<Email>\",\n    \"role\": \"<Role>\",\n\t\t\"info\": {\n\t\t\t\"nickname\": \"\"\n\t\t}\n\t},\n\t\"searchparameter\": {\n\t\t\"status\": \"\",\n\t\t\"orderby\": \"\",\n\t\t\"fromdate\": \"01/01/2018\",\n\t\t\"count\": 10,\n\t\t\"searchtext\": \"\",\n\t\t\"typeofvisit\": \"ALL\",\n\t\t\"sortorder\": \"appointment\",\n\t\t\"startindex\": \"1\",\n\t\t\"endindex\": \"10\",\n\t\t\"todate\": \"08/06/2018\"\n\t}\n\n}`,\n      input_from_user_case_2:\n        \"user,info,nickname;searchparameter,fromdate;searchparameter,todate\",\n      request_json_case_3: `{ \n          \"companyid\":\"session.get('companyid')\",\n          \"email\":\"session.get('email')\",\n          \"role\":\"session.get('role')\" \n}`,\n      response_json_case_1: `{\n  'message':'Your appointment has been scheduled',\n  'username':'Cense',\n  'email':'user@cense.ai'\n}`,\n      response_json_case_11: `{\n  'message':'API executed successfully',\n  'count':'8'\n  'username':'Cense',\n  'email':'user@cense.ai'\n}`,\n      current_step: 1,\n      total_steps: 2,\n      // task_name: \"\",\n      task_input_values: [],\n    };\n  },\n  created() {\n    if (\n      !this.$session.has(\"CompanyId\") &&\n      this.$session.get(\"UserInformation\").role == \"SuperAdmin\"\n    ) {\n      toastr.warning(\"Please select a company name from the dropdown\");\n    } else if (this.user_role == \"SuperAdmin\") {\n      this.companyid = this.$session.get(\"CompanyId\");\n      this.companyname = this.$session.get(\"CompanyName\");\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n    axios\n      .get(api_calls.get_ner_tags(), {\n        params: {\n          companyname: this.companyname,\n          companyid: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n        },\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then((response) => {\n        this.entity_list = response.data;\n        this.post_method_request_list = response.data;\n      })\n      .catch((e) => {\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n    axios\n      .post(\n        api_calls.get_list_link(),\n        {\n          companyname: this.companyname,\n          companyid: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        this.api_list_update(response.data);\n      })\n      .catch((e) => {\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n    axios\n      .post(\n        api_calls.show_intents_url(),\n        {\n          companyname: this.companyname,\n          companyid: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          subscription: this.$session.get(\"UserInformation\").subscription,\n          showintent: \"True\",\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        for (var i in response.data) {\n          this.intentlist.push(\n            response.data[i].replace(this.companyid + \"_\", \"\")\n          );\n        }\n      })\n      .catch((e) => {\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n  },\n  mounted() {\n    $('[data-tooltip=\"tooltip\"]').tooltip();\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    var vm = this;\n    $(\"#configapimodal4\").on(\"shown.bs.modal\", function (e) {\n      $(\"#configapimodal\").css(\"opacity\", \"-0.5\");\n    });\n    $(\"#configapimodal4\").on(\"hidden.bs.modal\", function (e) {\n      $(\"#configapimodal\").css(\"opacity\", \"1\");\n    });\n    $(\"#configapimodal2\").on(\"shown.bs.modal\", function (e) {\n      $(\"#configapimodal\").css(\"opacity\", \"-0.5\");\n    });\n    $(\"#configapimodal2\").on(\"hidden.bs.modal\", function (e) {\n      $(\"#configapimodal\").css(\"opacity\", \"1\");\n    });\n    $(\"#configapimodal_json_editable\").on(\"shown.bs.modal\", function (e) {\n      $(\"#configapimodal\").css(\"opacity\", \"-0.5\");\n    });\n    $(\"#configapimodal_json_editable\").on(\"hidden.bs.modal\", function (e) {\n      $(\"#configapimodal\").css(\"opacity\", \"1\");\n    });\n  },\n  methods: {\n    change_total_steps(step_value) {\n      if (event.target.value == \"True\") {\n        this.total_steps = 3;\n      } else if (event.target.value == \"False\") {\n        this.total_steps = 2;\n      } else if (step_value == 3 && this.request_json_editable == \"False\") {\n        this.current_step = 1;\n      } else if (step_value > 1 && this.request_json_editable == \"True\") {\n        this.current_step -= 1;\n      }\n    },\n    req_json() {\n      try {\n        JSON.parse(this.show_json_request_data);\n      } catch (e) {\n        return false;\n      }\n      return true;\n    },\n    train_intent_model() {\n      Swal({\n        title: \"Are You Sure?\",\n        text: \"You want to Train The Model?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\",\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n      }).then((result) => {\n        if (result.value) {\n          axios\n            .post(\n              api_calls.train_conversation_models(),\n              {\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: this.$session.get(\"UserInformation\").subscription,\n                company_details: {\n                  company_name: this.companyname,\n                  company_id: this.companyid,\n                },\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              if (response.data.MSG_CODE === 4046) {\n                toastr.success(response.data.MSG);\n              } else if (response.data.MSG_CODE === 1034) {\n                toastr.error(response.data.MSG);\n              } else {\n                toastr.error(\"Internal Server Error\");\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });\n    },\n    delete_api(intentlist) {\n      event.preventDefault();\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, delete!!\",\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.delete_api_url(),\n              {\n                companyid: this.companyid,\n                companyname: this.companyname,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                intent_list: intentlist,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              if (response.data == \"Query Executed Successfully\") {\n                toastr.success(\"APIs have been deleted successfully\");\n                setTimeout(() => {\n                  this.$router.go();\n                }, 2000);\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });\n    },\n    delete_individual(index) {\n      let intentlist = [];\n      intentlist.push(this.companyid + \"_\" + this.api_list[index].intent);\n      this.delete_api(intentlist);\n    },\n    delete_selected() {\n      let intentlist = [];\n      if (this.checked_list.length == 0) {\n        Swal.fire({\n          title:\"No endpoint selected!\",\n          text:\"\",\n          type:\"error\",\n          timer:2000,\n        });\n      } else {\n        for (var i in this.checked_list) {\n          intentlist.push(this.companyid + \"_\" + this.checked_list[i].intent);\n        }\n        this.delete_api(intentlist);\n      }\n    },\n    edit_api(index) {\n      this.isEdit = true;\n      this.question = this.api_list[index].question;\n      this.intents = this.api_list[index].intent;\n      this.api_method = this.api_list[index].method;\n      this.editable_values = this.api_list[index].editable_values;\n      this.request_json_editable = this.api_list[index].editable;\n      if (this.request_json_editable == \"True\") {\n        this.total_steps = 3;\n      }\n      this.url = this.api_list[index].url;\n      this.show_json_request_data = this.api_list[index].req_json;\n      this.show_json_response_data = this.api_list[index].resp_json;\n      this.enduser_msg_type = this.api_list[index].message_type;\n      this.end_user_message = this.api_list[index].end_user_message;\n      this.successful_message = this.api_list[index].response_key;\n      this.response_json_editable = this.api_list[index].response_key_editable;\n      this.response_key_edit_message = this.api_list[\n        index\n      ].response_key_message;\n      this.unsuccessful_message = this.api_list[\n        index\n      ].response_key_unsuccessful;\n      // this.task_name = this.api_list[index].task_name;\n      for (var i in this.api_list[index].tasks_list) {\n        this.task_input_values.push({\n          key_name: this.api_list[index].tasks_list[i].RawSlotName,\n          input_text: this.api_list[index].tasks_list[i].Text,\n          dropdown_value: \"\",\n        });\n      }\n    },\n    selected_list(index) {\n      if (index == \"all\") {\n        if (event.target.checked == true) this.checked_list = this.c;\n        else if (event.target.checked == false) this.checked_list = [];\n      } else {\n        if (event.target.checked == true) {\n          let val_index = this.checked_list.indexOf(this.api_list[index]);\n          var temp = this.api_list[index];\n          if (val_index == -1) {\n            this.checked_list.push(temp);\n          }\n        } else if (event.target.checked == false) {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked == true) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((api_list) => {\n            return api_list.api_list !== index;\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    add_api(current_step) {\n      event.preventDefault();\n      if (current_step == 1) {\n        if (\n          this.question == \"\" ||\n          this.url == \"\" ||\n          this.api_method == null ||\n          this.intents == \"\" ||\n          this.request_json_editable == null ||\n          (this.request_json_editable == \"True\" && this.editable_values == \"\")\n        ) {\n          toastr.error(\"Please enter all the required values\");\n        } else if (this.req_json() == false) {\n          toastr.error(\"Your Request JSON is invalid.\");\n        } else {\n          if (this.request_json_editable == \"True\" && !this.isEdit) {\n            var csv = this.editable_values.split(\";\");\n            var input_value;\n            this.task_input_values = [];\n            for (var i in csv) {\n              let temp_list = csv[i].split(\",\");\n              input_value = temp_list[temp_list.length - 1];\n              this.task_input_values.push({\n                key_name: input_value,\n                input_text: \"\",\n              });\n            }\n            this.total_steps = 3;\n          }\n          if (this.request_json_editable == \"True\") {\n            this.current_step += 1;\n          } else {\n            this.current_step = 3;\n          }\n        }\n      } else if (current_step == 2) {\n        let empty_vars = [];\n        for (var i in this.task_input_values) {\n          if (this.task_input_values[i].input_text == \"\") {\n            empty_vars.push(this.task_input_values[i]);\n          }\n        }\n        if (empty_vars.length == 0) {\n          this.current_step += 1;\n        } else {\n          toastr.error(\"Please enter all the values.\");\n        }\n      }\n      if (current_step == 3) {\n        var existing_intent_list = this.api_list.filter((api) => {\n          return api.intent == this.intents;\n        });\n        var post_method_data, get_method_data;\n        post_method_data = {};\n        if (this.api_method == \"POST\" && this.task_from == \"from_entity\") {\n          for (var i in this.task_input_values) {\n            post_method_data[this.task_input_values[i].key_name] = {\n              from_text: true,\n              from_entity:\n                this.task_input_values[i].dropdown_value != \"\" ? true : false,\n              entity: this.task_input_values[i].dropdown_value,\n              intent: this.companyid + \"_\" + this.api_list[i].intent,\n              not_intent: null,\n            };\n          }\n        }\n        if (this.api_method == \"GET\") {\n          get_method_data = {};\n          for (var i in this.task_input_values) {\n            get_method_data[this.task_input_values[i].key_name] = {\n              Entity: this.task_input_values[i].input_text,\n              Slot: null,\n            };\n          }\n        }\n        if (existing_intent_list.length > 0 && !this.isEdit) {\n          toastr.error(\n            \"The intent already exists. Please try with another intent\"\n          );\n        } else if (\n          (this.end_user_message != \"\" ||\n            this.enduser_msg_type == \"Through_API\") &&\n          (this.response_json_editable != null ||\n            this.enduser_msg_type == \"Custom\") &&\n          this.enduser_msg_type != null &&\n          this.successful_message != null &&\n          (this.show_json_response_data != \"\" ||\n            this.enduser_msg_type == \"Custom\")\n        ) {\n          if (this.$session.get(\"UserInformation\").subscription == \"Silver\") {\n            Swal({\n              type: \"error\",\n              text:\n                \"You're not avail to use this service, due to your subscription plan. Kindly upgrade your plan.\",\n              timer:3000,            \n            }).then((result) => {\n              if (result.value) {\n                this.$router.go();\n              }\n            });\n          } else {\n            this.spinnerOn = true;\n            let tasks = {};\n            if (\n              (this.request_json_editable == \"True\" &&\n                this.task_input_values.length > 0) ||\n              this.request_json_editable == \"False\"\n            ) {\n              for (var i in this.task_input_values) {\n                var temp = [];\n                temp.push({\n                  Type: \"Ask\",\n                  Text: this.task_input_values[i].input_text,\n                });\n                tasks[this.task_input_values[i].key_name] = temp;\n              }\n              axios\n                .post(\n                  api_calls.add_config_api_url(),\n                  {\n                    companyname: this.companyname,\n                    companyid: this.companyid,\n                    question: this.question,\n                    request_json_key_mapping: get_method_data,\n                    url: this.url,\n                    intent: this.companyid + \"_\" + this.intents,\n                    requestjson: this.show_json_request_data,\n                    api_method: this.api_method,\n                    end_user_message: this.end_user_message,\n                    msg_type: this.enduser_msg_type,\n                    responsekey: this.successful_message,\n                    api_edit: this.request_json_editable,\n                    api_editable_value:\n                      this.request_json_editable == \"True\"\n                        ? this.editable_values\n                        : \"\",\n                    responsejson:\n                      this.enduser_msg_type == \"Through_API\"\n                        ? this.show_json_response_data\n                        : \"\",\n                    response_msg_editable: this.response_json_editable,\n                    response_msg_editable_value:\n                      this.response_json_editable == \"True\"\n                        ? this.response_key_edit_message\n                        : \"\",\n                    slot_mapping_data: post_method_data,\n                    unsuccessful_msg: this.unsuccessful_message,\n                    license_key: this.$session.get(\"UserInformation\")\n                      .license_key,\n                    email: this.$session.get(\"UserInformation\").email,\n                    token: this.$session.get(\"UserInformation\").tokens,\n                    task_details: tasks,\n                    subscription: this.$session.get(\"UserInformation\").subscription,\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  this.spinnerOn = false;\n                  if (response.data.Msg == \"Json added\") {\n                    toastr.success(\"Your API has been added successfully\");\n                    setTimeout(() => {\n                      this.$router.go();\n                    }, 2500);\n                  } else if (response.data.Msg == \"Json updated\") {\n                    toastr.success(\"Your API has been updated successfully\");\n                    setTimeout(() => {\n                      this.$router.go();\n                    }, 2500);\n                  } else if (response.data.Msg == \"Internal Server Error\") {\n                    Swal({\n                      type: \"error\",\n                      text:\n                        \"There was an internal server error. Please try again.\",\n                      timer:2500,\n                    });\n                  } else if (response.data.Msg == \"Endpoint limit exceed\") {\n                    Swal({\n                      type: \"error\",\n                      text:\n                        \"Your Limit has been exceeded, Kindly upgrade your plan\",\n                      timer:2500,\n                    }).then((result) => {\n                      if (result.value) {\n                        this.$router.go();\n                      }\n                    });\n                  }\n                })\n                .catch((e) => {\n                  if (\n                    e.response.status === 410 ||\n                    e.response.status === 440 ||\n                    e.response.status === 409\n                  ) {\n                    this.$root.$emit(\"Session_Expired\", e.response.data);\n                  }\n                });\n\n              // axios\n              //   .post(api_calls.task_list_url(), {\n              //     companyid: this.companyid,\n              //     companyname: this.companyname,\n              //     email: this.$session.get(\"UserInformation\").email,\n              //     license_key: this.$session.get(\"UserInformation\").license_key,\n              //     token: this.$session.get(\"UserInformation\").tokens,\n              //     intent: this.intents,\n              //     task_details: tasks,\n              //     // task_name: this.task_name\n              //   }, {\n              //   headers: {\n              //     Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              //   }\n              // })\n              //   .then(response => {\n              //     this.spinnerOn = false;\n              //     if (response.data == \"Task Added\") {\n              //       toastr.success(\"Your task has been added successfully\");\n              //       $(\"#configapimodal\").modal(\"hide\");\n              //       setTimeout(() => {\n              //         this.$router.go();\n              //       }, 2500);\n              //     }\n              // })\n              //   .catch((e) => {\n              //   if (\n              //     e.response.status === 410 ||\n              //     e.response.status === 440 ||\n              //     e.response.status === 409\n              //   ) {\n              //     this.$root.$emit(\"Session_Expired\", e.response.data);\n              //   }\n              // });\n            } else if (\n              this.request_json_editable == \"False\" &&\n              this.task_input_values.length > 0\n            ) {\n              this.spinnerOn = false;\n              var intents = [];\n              intents.push(this.companyid + \"_\" + this.intents);\n              if (this.task_input_values.length > 0) {\n                axios\n                  .delete(\n                    api_calls.task_list_url(),\n                    {\n                      data: {\n                        intents: intents,\n                        companyname: this.companyname,\n                        companyid: this.companyid,\n                        email: this.$session.get(\"UserInformation\").email,\n                        license_key: this.$session.get(\"UserInformation\")\n                          .license_key,\n                        token: this.$session.get(\"UserInformation\").tokens,\n                        subscription: this.$session.get(\"UserInformation\")\n                          .subscription,\n                      },\n                    },\n                    {\n                      headers: {\n                        Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                      },\n                    }\n                  )\n                  .then((response) => {\n                    if (response.data == \"Task(s) Deleted\") {\n                      Swal.fire({\n                        title:\"Deleted!\",\n                        text:\"Your task(s) have been deleted.\",\n                        type:\"success\",\n                        timer:2000,\n                      });\n                      setTimeout(() => {\n                        this.$router.go();\n                      }, 2500);\n                    }\n                  })\n                  .catch((e) => {\n                    if (\n                      e.response.status === 410 ||\n                      e.response.status === 440 ||\n                      e.response.status === 409\n                    ) {\n                      this.$root.$emit(\"Session_Expired\", e.response.data);\n                    }\n                  });\n              }\n            } else {\n              this.spinnerOn = false;\n              setTimeout(() => {\n                this.$router.go();\n              }, 2500);\n            }\n          }\n        } else {\n          toastr.error(\"Please enter all the required values\");\n        }\n      }\n    },\n    clear_fields() {\n      this.question = \"\";\n      this.intents = \"\";\n      this.api_method = null;\n      this.editable_values = \"\";\n      this.request_json_editable = null;\n      this.url = \"\";\n      this.show_json_request_data = \"\";\n      this.show_json_response_data = \"\";\n      this.end_user_message = \"\";\n      this.isEdit = false;\n      this.enduser_msg_type = null;\n      this.response_json_editable = null;\n      this.response_key_edit_message = null;\n      this.unsuccessful_message = null;\n      this.current_step = 1;\n      this.total_steps = 2;\n      this.task_input_values = [];\n      // this.task_name = \"\";\n    },\n    api_list_update(message) {\n      for (var i in message) {\n        this.api_list.push({\n          intent: i.replace(this.companyid + \"_\", \"\"),\n          message: message[i].MSG,\n          method: message[i].METHOD,\n          req_json: message[i].RequestJson,\n          resp_json: message[i].ResponseJson,\n          url: message[i].URL,\n          editable_values: message[i].ValuesToEdit,\n          question: message[i].Question,\n          editable: message[i].isEdit,\n          message_type: message[i].Msg_type,\n          end_user_message: message[i].MessageToEndUser,\n          response_key: message[i].ResponseKeyToEndUser,\n          response_key_editable: message[i].ResponseKeyEditable,\n          response_key_message: message[i].ResponseKeyMessageToEndUser,\n          response_key_unsuccessful: message[i].UnSuccessfulMessage,\n          task_name: message[i].Tasks != undefined ? message[i].TaskName : \"\",\n          tasks_list:\n            message[i].Tasks != undefined ? message[i].Tasks.Utterances : [],\n        });\n      }\n    },\n    json_request_class() {\n      try {\n        JSON.parse(this.json_request_data[this.index]);\n      } catch (e) {\n        return \"is-invalid\";\n      }\n      return \"is-valid\";\n    },\n    json_response_class() {\n      try {\n        JSON.parse(this.json_response_data[this.index]);\n      } catch (e) {\n        return \"is-invalid\";\n      }\n      return \"is-valid\";\n    },\n    show_block(value) {\n      if (value == \"up\") {\n        this.show_or_block = false;\n      } else if (value == \"down\") {\n        this.show_or_block = true;\n      }\n    },\n    dot_class(step) {\n      if (\n        step == this.current_step ||\n        (step == this.total_steps &&\n          this.current_step == 3 &&\n          this.request_json_editable == \"False\")\n      ) {\n        return \"dot success\";\n      } else {\n        return \"dot\";\n      }\n    },\n  },\n};\n</script>\n<style  src=\"vue-multiselect/dist/vue-multiselect.min.css\">\n</style>\n  <style scoped>\n.modal {\n  overflow-y: auto;\n}\n.hclass6 {\n  font-weight: 100;\n}\n.noteclass {\n  font-weight: 600;\n}\n.dot {\n  height: 10px;\n  width: 10px;\n  background-color: #bbb;\n  border-radius: 50%;\n  display: inline-block;\n}\n.dot.success {\n  background-color: #273679;\n}\n@-webkit-keyframes rotation {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(359deg);\n  }\n}\n@-moz-keyframes rotation {\n  from {\n    -moz-transform: rotate(0deg);\n  }\n  to {\n    -moz-transform: rotate(359deg);\n  }\n}\n@-o-keyframes rotation {\n  from {\n    -o-transform: rotate(0deg);\n  }\n  to {\n    -o-transform: rotate(359deg);\n  }\n}\n@keyframes rotation {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n}\n</style>\n"]}]}