{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/analytics/components/HorizontalBarchart.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/analytics/components/HorizontalBarchart.vue","mtime":1643027096188},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgIC8qIC5iYXItcG9zaXRpdmUtaG9yaXpvbnRhbHsKICAgICAgICBmaWxsOiAjRkY5NzUwOwogICAgfSAqLwovKiAueS5heGlzIHBhdGggewogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICB9CiAgICAueS5heGlzIC50aWNrIGxpbmUgewogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICB9CiAgI3hheGlzIHBhdGggewogICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICB9CgogICAgI3hheGlzIC50aWNrIGxpbmV7CiAgICAgICAgZGlzcGxheTogbm9uZTsKICAgIH0gKi8K"},{"version":3,"sources":["HorizontalBarchart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"HorizontalBarchart.vue","sourceRoot":"src/portal/analytics/components","sourcesContent":["<template>\n    <div id=\"horizontal_barchart\">\n\n    </div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\n\nexport default {\n    name:\"HorizontalBarchart\",\n    props : {\n        xKey: String,\n        yKey: String,\n        data: Array,\n        currency_key: String,\n    },\n    mounted() {\n        var vm = this;\n        // chartData.sort(function(a, b){return -a});\n        var chartData = JSON.parse(JSON.stringify(this.data))\n\n         chartData.sort(function(a, b) {\n            return a[vm.xKey] - b[vm.xKey];\n        });\n\n        //dimensions\n        var margin = {top: 20, right: 90, bottom: 50, left: 150},\n            width = 910 - margin.left - margin.right,\n            height = 500 - margin.top - margin.bottom;\n\n        var y = d3.scaleBand()\n                .range([height, 0])\n                .padding(0.1);\n\n        var x = d3.scaleLinear()\n                .range([0, width]);\n\n        var svg = d3.select(\"#horizontal_barchart\").append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        x.domain([0, d3.max(chartData, function(d){ return d[vm.xKey]; })])\n        y.domain(chartData.map(function(d) { return d[vm.yKey]; }));\n\n        svg.selectAll(\".bar-positive-horizontal\")\n            .data(chartData)\n            .enter().append(\"rect\")\n            .attr(\"class\", \"bar-positive-horizontal\")\n            .attr(\"id\", function(d, i) {\n                return  i;\n            })\n            // .attr(\"width\", function(d) {return x(d[vm.xKey]); } )\n            // .attr(\"y\", function(d) { return y(d[vm.yKey]); })\n            .attr(\"width\", function(d) {return x(0); } )\n            .attr(\"y\", function(d) { return y(0); })\n            .attr(\"height\", y.bandwidth()/1.1);\n\n        // add the x Axis\n        svg.append(\"g\")\n          .attr(\"id\",\"xaxis\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x).ticks(10, \"s\"));\n\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .call(d3.axisLeft(y))\n\n         svg.append(\"text\")\n        .attr(\"transform\",\n                \"translate(\" + (width/2) + \" ,\" + (height + margin.top + 20) + \")\")\n        .style(\"text-anchor\", \"middle\")\n        .text(this.xKey);\n\n\n        var tooltip = d3.select(\"#horizontal_barchart\").append(\"div\").attr(\"class\", \"toolTip\");\n        d3.selectAll(\".bar-positive-horizontal\")\n        .on(\"mouseover\", function(d){\n            d3.select(this).style(\"fill\", d3.rgb(\"#FF9750\").brighter(.65));\n            var x = d3.select(this).attr('id');\n                tooltip\n                .style(\"left\", event.pageX - 315 + \"px\")\n                .style(\"top\", event.pageY - 290 + \"px\")\n                .style(\"display\", \"inline-block\")\n                .html((chartData[x][vm.yKey]) + \"<br>\" + vm.currency_key + ' ' + ((Number.isInteger(chartData[x][vm.xKey])) ? (chartData[x][vm.xKey]) : (chartData[x][vm.xKey]).toFixed(2)));\n            })\n            .on(\"mouseout\", function(d){\n                 d3.select(this).style(\"fill\", (\"#FF9750\"));\n                tooltip.style(\"display\", \"none\");\n            });\n\n        svg.selectAll(\"rect\")\n        .transition()\n        .duration(800)\n        .attr(\"y\", function(d) { return y(d[vm.yKey]); })\n        .attr(\"width\", function(d) { return x(d[vm.xKey]); })\n        .delay(function(d,i){ return(i*100)})\n\n\n    },\n}\n</script>\n<style>\n    /* .bar-positive-horizontal{\n        fill: #FF9750;\n    } */\n/* .y.axis path {\n        display: none;\n    }\n    .y.axis .tick line {\n        display: none;\n    }\n  #xaxis path {\n        display: none;\n    }\n\n    #xaxis .tick line{\n        display: none;\n    } */\n</style>\n"]}]}