{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/DefineEndpoints.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/DefineEndpoints.vue","mtime":1660042032563},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNvbmZpZy1hcGkiLAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dfb3JfYmxvY2s6IGZhbHNlLAogICAgICBpbnRlbnRsaXN0OiBbXSwKICAgICAgcXVlc3Rpb246ICIiLAogICAgICB1cmw6ICIiLAogICAgICBuYW1lOiBudWxsLAogICAgICBhcGlfbGlzdDogW10sCiAgICAgIGNvbXBhbnluYW1lOiBudWxsLAogICAgICBjb21wYW55aWQ6IG51bGwsCiAgICAgIGluZGV4OiBudWxsLAogICAgICB0b3RhbF9wYWdlczogIiIsCiAgICAgIHNob3dfanNvbl9yZXF1ZXN0X2RhdGE6ICIiLAogICAgICBzaG93X2pzb25fcmVzcG9uc2VfZGF0YTogIiIsCiAgICAgIHN1Y2Nlc3NmdWxfbWVzc2FnZTogIiIsCiAgICAgIGpzb25fcmVxdWVzdF9kYXRhOiBbXSwKICAgICAganNvbl9yZXNwb25zZV9kYXRhOiBbXSwKICAgICAgdHlwZTogbnVsbCwKICAgICAgdGFza19mcm9tOiAiIiwKICAgICAgZW50aXR5X2xpc3Q6IFtdLAogICAgICBwb3N0X21ldGhvZF9yZXF1ZXN0X2xpc3Q6IFtdLAogICAgICBwb3N0X21ldGhvZF9yZXF1ZXN0X3ZhbHVlOiAiIiwKICAgICAgYXBpX21ldGhvZDogbnVsbCwKICAgICAgcmVzcG9uc2Vfa2V5X2VkaXRfbWVzc2FnZTogIiIsCiAgICAgIGVuZHVzZXJfbXNnX3R5cGU6IG51bGwsCiAgICAgIHVuc3VjY2Vzc2Z1bF9tZXNzYWdlOiBudWxsLAogICAgICByZXF1ZXN0X2pzb25fZWRpdGFibGU6IG51bGwsCiAgICAgIHJlc3BvbnNlX2pzb25fZWRpdGFibGU6IG51bGwsCiAgICAgIGVuZF91c2VyX21lc3NhZ2U6IG51bGwsCiAgICAgIGVkaXRhYmxlX3ZhbHVlczogIiIsCiAgICAgIGNoZWNrZWRfbGlzdDogW10sCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIGludGVudHM6ICIiLAogICAgICBwYWdlX25vOiAxLAogICAgICBwZXJfcGFnZTogMTAsCiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIHVzZXJfcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgIHJlcXVlc3RfanNvbl9jYXNlXzE6IGB7CiAgICAgICAgICAiY29tcGFueWlkIjogIjxDb21wYW55X0lEPiIsCiAgICAgICAgICAiZW1haWwiOiAiPEVtYWlsPiIsCiAgICAgICAgICAicm9sZSI6ICI8Um9sZT4iLAogICAgICAgICAgInN1YmplY3QiOiAiICIsCiAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiICIKfWAsCgogICAgICBpbnB1dF9mcm9tX3VzZXJfY2FzZV8xOiAic3ViamVjdDtkZXNjcmlwdGlvbiIsCiAgICAgIHJlcXVlc3RfanNvbl9jYXNlXzI6IGB7CgkidXNlciI6IHsKCQkiY29tcGFueWlkIjogIjxDb21wYW55X0lEPiIsCiAgICAiZW1haWwiOiAiPEVtYWlsPiIsCiAgICAicm9sZSI6ICI8Um9sZT4iLAoJCSJpbmZvIjogewoJCQkibmlja25hbWUiOiAiIgoJCX0KCX0sCgkic2VhcmNocGFyYW1ldGVyIjogewoJCSJzdGF0dXMiOiAiIiwKCQkib3JkZXJieSI6ICIiLAoJCSJmcm9tZGF0ZSI6ICIwMS8wMS8yMDE4IiwKCQkiY291bnQiOiAxMCwKCQkic2VhcmNodGV4dCI6ICIiLAoJCSJ0eXBlb2Z2aXNpdCI6ICJBTEwiLAoJCSJzb3J0b3JkZXIiOiAiYXBwb2ludG1lbnQiLAoJCSJzdGFydGluZGV4IjogIjEiLAoJCSJlbmRpbmRleCI6ICIxMCIsCgkJInRvZGF0ZSI6ICIwOC8wNi8yMDE4IgoJfQoKfWAsCiAgICAgIGlucHV0X2Zyb21fdXNlcl9jYXNlXzI6CiAgICAgICAgInVzZXIsaW5mbyxuaWNrbmFtZTtzZWFyY2hwYXJhbWV0ZXIsZnJvbWRhdGU7c2VhcmNocGFyYW1ldGVyLHRvZGF0ZSIsCiAgICAgIHJlcXVlc3RfanNvbl9jYXNlXzM6IGB7IAogICAgICAgICAgImNvbXBhbnlpZCI6InNlc3Npb24uZ2V0KCdjb21wYW55aWQnKSIsCiAgICAgICAgICAiZW1haWwiOiJzZXNzaW9uLmdldCgnZW1haWwnKSIsCiAgICAgICAgICAicm9sZSI6InNlc3Npb24uZ2V0KCdyb2xlJykiIAp9YCwKICAgICAgcmVzcG9uc2VfanNvbl9jYXNlXzE6IGB7CiAgJ21lc3NhZ2UnOidZb3VyIGFwcG9pbnRtZW50IGhhcyBiZWVuIHNjaGVkdWxlZCcsCiAgJ3VzZXJuYW1lJzonQ2Vuc2UnLAogICdlbWFpbCc6J3VzZXJAY2Vuc2UuYWknCn1gLAogICAgICByZXNwb25zZV9qc29uX2Nhc2VfMTE6IGB7CiAgJ21lc3NhZ2UnOidBUEkgZXhlY3V0ZWQgc3VjY2Vzc2Z1bGx5JywKICAnY291bnQnOic4JwogICd1c2VybmFtZSc6J0NlbnNlJywKICAnZW1haWwnOid1c2VyQGNlbnNlLmFpJwp9YCwKICAgICAgY3VycmVudF9zdGVwOiAxLAogICAgICB0b3RhbF9zdGVwczogMiwKICAgICAgLy8gdGFza19uYW1lOiAiIiwKICAgICAgdGFza19pbnB1dF92YWx1ZXM6IFtdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAoCiAgICAgICF0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgJiYKICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iCiAgICApIHsKICAgICAgdG9hc3RyLndhcm5pbmcoIlBsZWFzZSBzZWxlY3QgYSBjb21wYW55IG5hbWUgZnJvbSB0aGUgZHJvcGRvd24iKTsKICAgIH0gZWxzZSBpZiAodGhpcy51c2VyX3JvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlJZCIpOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlOYW1lIik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgIH0KICAgIGF4aW9zCiAgICAgIC5nZXQoYXBpX2NhbGxzLmdldF9uZXJfdGFncygpLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgfSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICB9LAogICAgICB9KQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmVudGl0eV9saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLnBvc3RfbWV0aG9kX3JlcXVlc3RfbGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICApIHsKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIGF4aW9zCiAgICAgIC5wb3N0KAogICAgICAgIGFwaV9jYWxscy5nZXRfbGlzdF9saW5rKCksCiAgICAgICAgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuYXBpX2xpc3RfdXBkYXRlKHJlc3BvbnNlLmRhdGEpOwogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICBheGlvcwogICAgICAucG9zdCgKICAgICAgICBhcGlfY2FsbHMuc2hvd19pbnRlbnRzX3VybCgpLAogICAgICAgIHsKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgIHNob3dpbnRlbnQ6ICJUcnVlIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIHRoaXMuaW50ZW50bGlzdC5wdXNoKAogICAgICAgICAgICByZXNwb25zZS5kYXRhW2ldLnJlcGxhY2UodGhpcy5jb21wYW55aWQgKyAiXyIsICIiKQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICApIHsKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAkKCdbZGF0YS10b29sdGlwPSJ0b29sdGlwIl0nKS50b29sdGlwKCk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCgiI3NlbGVjdGFsbCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogICAgdmFyIHZtID0gdGhpczsKICAgICQoIiNjb25maWdhcGltb2RhbDQiKS5vbigic2hvd24uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjY29uZmlnYXBpbW9kYWwiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjY29uZmlnYXBpbW9kYWw0Iikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKICAgICQoIiNjb25maWdhcGltb2RhbDIiKS5vbigic2hvd24uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjY29uZmlnYXBpbW9kYWwiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjY29uZmlnYXBpbW9kYWwyIikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKICAgICQoIiNjb25maWdhcGltb2RhbF9qc29uX2VkaXRhYmxlIikub24oInNob3duLmJzLm1vZGFsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgJCgiI2NvbmZpZ2FwaW1vZGFsIikuY3NzKCJvcGFjaXR5IiwgIi0wLjUiKTsKICAgIH0pOwogICAgJCgiI2NvbmZpZ2FwaW1vZGFsX2pzb25fZWRpdGFibGUiKS5vbigiaGlkZGVuLmJzLm1vZGFsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgJCgiI2NvbmZpZ2FwaW1vZGFsIikuY3NzKCJvcGFjaXR5IiwgIjEiKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlX3RvdGFsX3N0ZXBzKHN0ZXBfdmFsdWUpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSAiVHJ1ZSIpIHsKICAgICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMzsKICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQudmFsdWUgPT0gIkZhbHNlIikgewogICAgICAgIHRoaXMudG90YWxfc3RlcHMgPSAyOwogICAgICB9IGVsc2UgaWYgKHN0ZXBfdmFsdWUgPT0gMyAmJiB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiRmFsc2UiKSB7CiAgICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgPSAxOwogICAgICB9IGVsc2UgaWYgKHN0ZXBfdmFsdWUgPiAxICYmIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIikgewogICAgICAgIHRoaXMuY3VycmVudF9zdGVwIC09IDE7CiAgICAgIH0KICAgIH0sCiAgICByZXFfanNvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBKU09OLnBhcnNlKHRoaXMuc2hvd19qc29uX3JlcXVlc3RfZGF0YSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgdHJhaW5faW50ZW50X21vZGVsKCkgewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogIkFyZSBZb3UgU3VyZT8iLAogICAgICAgIHRleHQ6ICJZb3Ugd2FudCB0byBUcmFpbiBUaGUgTW9kZWw/IiwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9jb252ZXJzYXRpb25fbW9kZWxzKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGNvbXBhbnlfZGV0YWlsczogewogICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gNDA0NikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5NU0cpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gMTAzNCkgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHJlc3BvbnNlLmRhdGEuTVNHKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9hcGkoaW50ZW50bGlzdCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlISEiLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICBhcGlfY2FsbHMuZGVsZXRlX2FwaV91cmwoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBpbnRlbnRfbGlzdDogaW50ZW50bGlzdCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiQVBJcyBoYXZlIGJlZW4gZGVsZXRlZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlX2luZGl2aWR1YWwoaW5kZXgpIHsKICAgICAgbGV0IGludGVudGxpc3QgPSBbXTsKICAgICAgaW50ZW50bGlzdC5wdXNoKHRoaXMuY29tcGFueWlkICsgIl8iICsgdGhpcy5hcGlfbGlzdFtpbmRleF0uaW50ZW50KTsKICAgICAgdGhpcy5kZWxldGVfYXBpKGludGVudGxpc3QpOwogICAgfSwKICAgIGRlbGV0ZV9zZWxlY3RlZCgpIHsKICAgICAgbGV0IGludGVudGxpc3QgPSBbXTsKICAgICAgaWYgKHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiJObyBlbmRwb2ludCBzZWxlY3RlZCEiLAogICAgICAgICAgdGV4dDoiIiwKICAgICAgICAgIHR5cGU6ImVycm9yIiwKICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNoZWNrZWRfbGlzdCkgewogICAgICAgICAgaW50ZW50bGlzdC5wdXNoKHRoaXMuY29tcGFueWlkICsgIl8iICsgdGhpcy5jaGVja2VkX2xpc3RbaV0uaW50ZW50KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5kZWxldGVfYXBpKGludGVudGxpc3QpOwogICAgICB9CiAgICB9LAogICAgZWRpdF9hcGkoaW5kZXgpIHsKICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOwogICAgICB0aGlzLnF1ZXN0aW9uID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucXVlc3Rpb247CiAgICAgIHRoaXMuaW50ZW50cyA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLmludGVudDsKICAgICAgdGhpcy5hcGlfbWV0aG9kID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ubWV0aG9kOwogICAgICB0aGlzLmVkaXRhYmxlX3ZhbHVlcyA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLmVkaXRhYmxlX3ZhbHVlczsKICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5lZGl0YWJsZTsKICAgICAgaWYgKHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIikgewogICAgICAgIHRoaXMudG90YWxfc3RlcHMgPSAzOwogICAgICB9CiAgICAgIHRoaXMudXJsID0gdGhpcy5hcGlfbGlzdFtpbmRleF0udXJsOwogICAgICB0aGlzLnNob3dfanNvbl9yZXF1ZXN0X2RhdGEgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5yZXFfanNvbjsKICAgICAgdGhpcy5zaG93X2pzb25fcmVzcG9uc2VfZGF0YSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnJlc3BfanNvbjsKICAgICAgdGhpcy5lbmR1c2VyX21zZ190eXBlID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ubWVzc2FnZV90eXBlOwogICAgICB0aGlzLmVuZF91c2VyX21lc3NhZ2UgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5lbmRfdXNlcl9tZXNzYWdlOwogICAgICB0aGlzLnN1Y2Nlc3NmdWxfbWVzc2FnZSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnJlc3BvbnNlX2tleTsKICAgICAgdGhpcy5yZXNwb25zZV9qc29uX2VkaXRhYmxlID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucmVzcG9uc2Vfa2V5X2VkaXRhYmxlOwogICAgICB0aGlzLnJlc3BvbnNlX2tleV9lZGl0X21lc3NhZ2UgPSB0aGlzLmFwaV9saXN0WwogICAgICAgIGluZGV4CiAgICAgIF0ucmVzcG9uc2Vfa2V5X21lc3NhZ2U7CiAgICAgIHRoaXMudW5zdWNjZXNzZnVsX21lc3NhZ2UgPSB0aGlzLmFwaV9saXN0WwogICAgICAgIGluZGV4CiAgICAgIF0ucmVzcG9uc2Vfa2V5X3Vuc3VjY2Vzc2Z1bDsKICAgICAgLy8gdGhpcy50YXNrX25hbWUgPSB0aGlzLmFwaV9saXN0W2luZGV4XS50YXNrX25hbWU7CiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5hcGlfbGlzdFtpbmRleF0udGFza3NfbGlzdCkgewogICAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXMucHVzaCh7CiAgICAgICAgICBrZXlfbmFtZTogdGhpcy5hcGlfbGlzdFtpbmRleF0udGFza3NfbGlzdFtpXS5SYXdTbG90TmFtZSwKICAgICAgICAgIGlucHV0X3RleHQ6IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnRhc2tzX2xpc3RbaV0uVGV4dCwKICAgICAgICAgIGRyb3Bkb3duX3ZhbHVlOiAiIiwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkX2xpc3QoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09ICJhbGwiKSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IHRydWUpIHRoaXMuY2hlY2tlZF9saXN0ID0gdGhpcy5jOwogICAgICAgIGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICBsZXQgdmFsX2luZGV4ID0gdGhpcy5jaGVja2VkX2xpc3QuaW5kZXhPZih0aGlzLmFwaV9saXN0W2luZGV4XSk7CiAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdOwogICAgICAgICAgaWYgKHZhbF9pbmRleCA9PSAtMSkgewogICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRlbXApOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gZmFsc2UpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CiAgICAgICAgICBpZiAoc2VsZWN0YWxsLmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICBzZWxlY3RhbGwuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoKGFwaV9saXN0KSA9PiB7CiAgICAgICAgICAgIHJldHVybiBhcGlfbGlzdC5hcGlfbGlzdCAhPT0gaW5kZXg7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gdGVtcDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRfYXBpKGN1cnJlbnRfc3RlcCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBpZiAoY3VycmVudF9zdGVwID09IDEpIHsKICAgICAgICBpZiAoCiAgICAgICAgICB0aGlzLnF1ZXN0aW9uID09ICIiIHx8CiAgICAgICAgICB0aGlzLnVybCA9PSAiIiB8fAogICAgICAgICAgdGhpcy5hcGlfbWV0aG9kID09IG51bGwgfHwKICAgICAgICAgIHRoaXMuaW50ZW50cyA9PSAiIiB8fAogICAgICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gbnVsbCB8fAogICAgICAgICAgKHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIiAmJiB0aGlzLmVkaXRhYmxlX3ZhbHVlcyA9PSAiIikKICAgICAgICApIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIGFsbCB0aGUgcmVxdWlyZWQgdmFsdWVzIik7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcV9qc29uKCkgPT0gZmFsc2UpIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigiWW91ciBSZXF1ZXN0IEpTT04gaXMgaW52YWxpZC4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIiAmJiAhdGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgdmFyIGNzdiA9IHRoaXMuZWRpdGFibGVfdmFsdWVzLnNwbGl0KCI7Iik7CiAgICAgICAgICAgIHZhciBpbnB1dF92YWx1ZTsKICAgICAgICAgICAgdGhpcy50YXNrX2lucHV0X3ZhbHVlcyA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIGNzdikgewogICAgICAgICAgICAgIGxldCB0ZW1wX2xpc3QgPSBjc3ZbaV0uc3BsaXQoIiwiKTsKICAgICAgICAgICAgICBpbnB1dF92YWx1ZSA9IHRlbXBfbGlzdFt0ZW1wX2xpc3QubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgdGhpcy50YXNrX2lucHV0X3ZhbHVlcy5wdXNoKHsKICAgICAgICAgICAgICAgIGtleV9uYW1lOiBpbnB1dF92YWx1ZSwKICAgICAgICAgICAgICAgIGlucHV0X3RleHQ6ICIiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMudG90YWxfc3RlcHMgPSAzOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIikgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRfc3RlcCArPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgPSAzOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChjdXJyZW50X3N0ZXAgPT0gMikgewogICAgICAgIGxldCBlbXB0eV92YXJzID0gW107CiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzKSB7CiAgICAgICAgICBpZiAodGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5pbnB1dF90ZXh0ID09ICIiKSB7CiAgICAgICAgICAgIGVtcHR5X3ZhcnMucHVzaCh0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGVtcHR5X3ZhcnMubGVuZ3RoID09IDApIHsKICAgICAgICAgIHRoaXMuY3VycmVudF9zdGVwICs9IDE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIGFsbCB0aGUgdmFsdWVzLiIpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoY3VycmVudF9zdGVwID09IDMpIHsKICAgICAgICB2YXIgZXhpc3RpbmdfaW50ZW50X2xpc3QgPSB0aGlzLmFwaV9saXN0LmZpbHRlcigoYXBpKSA9PiB7CiAgICAgICAgICByZXR1cm4gYXBpLmludGVudCA9PSB0aGlzLmludGVudHM7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHBvc3RfbWV0aG9kX2RhdGEsIGdldF9tZXRob2RfZGF0YTsKICAgICAgICBwb3N0X21ldGhvZF9kYXRhID0ge307CiAgICAgICAgaWYgKHRoaXMuYXBpX21ldGhvZCA9PSAiUE9TVCIgJiYgdGhpcy50YXNrX2Zyb20gPT0gImZyb21fZW50aXR5IikgewogICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzKSB7CiAgICAgICAgICAgIHBvc3RfbWV0aG9kX2RhdGFbdGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5rZXlfbmFtZV0gPSB7CiAgICAgICAgICAgICAgZnJvbV90ZXh0OiB0cnVlLAogICAgICAgICAgICAgIGZyb21fZW50aXR5OgogICAgICAgICAgICAgICAgdGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5kcm9wZG93bl92YWx1ZSAhPSAiIiA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgICAgICBlbnRpdHk6IHRoaXMudGFza19pbnB1dF92YWx1ZXNbaV0uZHJvcGRvd25fdmFsdWUsCiAgICAgICAgICAgICAgaW50ZW50OiB0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuYXBpX2xpc3RbaV0uaW50ZW50LAogICAgICAgICAgICAgIG5vdF9pbnRlbnQ6IG51bGwsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmFwaV9tZXRob2QgPT0gIkdFVCIpIHsKICAgICAgICAgIGdldF9tZXRob2RfZGF0YSA9IHt9OwogICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzKSB7CiAgICAgICAgICAgIGdldF9tZXRob2RfZGF0YVt0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmtleV9uYW1lXSA9IHsKICAgICAgICAgICAgICBFbnRpdHk6IHRoaXMudGFza19pbnB1dF92YWx1ZXNbaV0uaW5wdXRfdGV4dCwKICAgICAgICAgICAgICBTbG90OiBudWxsLAogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoZXhpc3RpbmdfaW50ZW50X2xpc3QubGVuZ3RoID4gMCAmJiAhdGhpcy5pc0VkaXQpIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigKICAgICAgICAgICAgIlRoZSBpbnRlbnQgYWxyZWFkeSBleGlzdHMuIFBsZWFzZSB0cnkgd2l0aCBhbm90aGVyIGludGVudCIKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICh0aGlzLmVuZF91c2VyX21lc3NhZ2UgIT0gIiIgfHwKICAgICAgICAgICAgdGhpcy5lbmR1c2VyX21zZ190eXBlID09ICJUaHJvdWdoX0FQSSIpICYmCiAgICAgICAgICAodGhpcy5yZXNwb25zZV9qc29uX2VkaXRhYmxlICE9IG51bGwgfHwKICAgICAgICAgICAgdGhpcy5lbmR1c2VyX21zZ190eXBlID09ICJDdXN0b20iKSAmJgogICAgICAgICAgdGhpcy5lbmR1c2VyX21zZ190eXBlICE9IG51bGwgJiYKICAgICAgICAgIHRoaXMuc3VjY2Vzc2Z1bF9tZXNzYWdlICE9IG51bGwgJiYKICAgICAgICAgICh0aGlzLnNob3dfanNvbl9yZXNwb25zZV9kYXRhICE9ICIiIHx8CiAgICAgICAgICAgIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSA9PSAiQ3VzdG9tIikKICAgICAgICApIHsKICAgICAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uID09ICJTaWx2ZXIiKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICJZb3UncmUgbm90IGF2YWlsIHRvIHVzZSB0aGlzIHNlcnZpY2UsIGR1ZSB0byB5b3VyIHN1YnNjcmlwdGlvbiBwbGFuLiBLaW5kbHkgdXBncmFkZSB5b3VyIHBsYW4uIiwKICAgICAgICAgICAgICB0aW1lcjozMDAwLCAgICAgICAgICAgIAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgICBsZXQgdGFza3MgPSB7fTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIgJiYKICAgICAgICAgICAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXMubGVuZ3RoID4gMCkgfHwKICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiRmFsc2UiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50YXNrX2lucHV0X3ZhbHVlcykgewogICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBbXTsKICAgICAgICAgICAgICAgIHRlbXAucHVzaCh7CiAgICAgICAgICAgICAgICAgIFR5cGU6ICJBc2siLAogICAgICAgICAgICAgICAgICBUZXh0OiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmlucHV0X3RleHQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRhc2tzW3RoaXMudGFza19pbnB1dF92YWx1ZXNbaV0ua2V5X25hbWVdID0gdGVtcDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgICAgICBhcGlfY2FsbHMuYWRkX2NvbmZpZ19hcGlfdXJsKCksCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICAgICAgcXVlc3Rpb246IHRoaXMucXVlc3Rpb24sCiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdF9qc29uX2tleV9tYXBwaW5nOiBnZXRfbWV0aG9kX2RhdGEsCiAgICAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLnVybCwKICAgICAgICAgICAgICAgICAgICBpbnRlbnQ6IHRoaXMuY29tcGFueWlkICsgIl8iICsgdGhpcy5pbnRlbnRzLAogICAgICAgICAgICAgICAgICAgIHJlcXVlc3Rqc29uOiB0aGlzLnNob3dfanNvbl9yZXF1ZXN0X2RhdGEsCiAgICAgICAgICAgICAgICAgICAgYXBpX21ldGhvZDogdGhpcy5hcGlfbWV0aG9kLAogICAgICAgICAgICAgICAgICAgIGVuZF91c2VyX21lc3NhZ2U6IHRoaXMuZW5kX3VzZXJfbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBtc2dfdHlwZTogdGhpcy5lbmR1c2VyX21zZ190eXBlLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNla2V5OiB0aGlzLnN1Y2Nlc3NmdWxfbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBhcGlfZWRpdDogdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUsCiAgICAgICAgICAgICAgICAgICAgYXBpX2VkaXRhYmxlX3ZhbHVlOgogICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIlRydWUiCiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5lZGl0YWJsZV92YWx1ZXMKICAgICAgICAgICAgICAgICAgICAgICAgOiAiIiwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZWpzb246CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZHVzZXJfbXNnX3R5cGUgPT0gIlRocm91Z2hfQVBJIgogICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuc2hvd19qc29uX3Jlc3BvbnNlX2RhdGEKICAgICAgICAgICAgICAgICAgICAgICAgOiAiIiwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZV9tc2dfZWRpdGFibGU6IHRoaXMucmVzcG9uc2VfanNvbl9lZGl0YWJsZSwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZV9tc2dfZWRpdGFibGVfdmFsdWU6CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlX2pzb25fZWRpdGFibGUgPT0gIlRydWUiCiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5yZXNwb25zZV9rZXlfZWRpdF9tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICAgIDogIiIsCiAgICAgICAgICAgICAgICAgICAgc2xvdF9tYXBwaW5nX2RhdGE6IHBvc3RfbWV0aG9kX2RhdGEsCiAgICAgICAgICAgICAgICAgICAgdW5zdWNjZXNzZnVsX21zZzogdGhpcy51bnN1Y2Nlc3NmdWxfbWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpCiAgICAgICAgICAgICAgICAgICAgICAubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgICAgICB0YXNrX2RldGFpbHM6IHRhc2tzLAogICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkpzb24gYWRkZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIllvdXIgQVBJIGhhcyBiZWVuIGFkZGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkpzb24gdXBkYXRlZCIpIHsKICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciBBUEkgaGFzIGJlZW4gdXBkYXRlZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgIH0sIDI1MDApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgICAgICAgIlRoZXJlIHdhcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uIiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOjI1MDAsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkVuZHBvaW50IGxpbWl0IGV4Y2VlZCIpIHsKICAgICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAiWW91ciBMaW1pdCBoYXMgYmVlbiBleGNlZWRlZCwgS2luZGx5IHVwZ3JhZGUgeW91ciBwbGFuIiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOjI1MDAsCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIC8vIGF4aW9zCiAgICAgICAgICAgICAgLy8gICAucG9zdChhcGlfY2FsbHMudGFza19saXN0X3VybCgpLCB7CiAgICAgICAgICAgICAgLy8gICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgIC8vICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgLy8gICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgLy8gICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgLy8gICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIC8vICAgICBpbnRlbnQ6IHRoaXMuaW50ZW50cywKICAgICAgICAgICAgICAvLyAgICAgdGFza19kZXRhaWxzOiB0YXNrcywKICAgICAgICAgICAgICAvLyAgICAgLy8gdGFza19uYW1lOiB0aGlzLnRhc2tfbmFtZQogICAgICAgICAgICAgIC8vICAgfSwgewogICAgICAgICAgICAgIC8vICAgaGVhZGVyczogewogICAgICAgICAgICAgIC8vICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIC8vICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVGFzayBBZGRlZCIpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciB0YXNrIGhhcyBiZWVuIGFkZGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgIC8vICAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgLy8gICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAvLyAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgLy8gICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAvLyAgIGlmICgKICAgICAgICAgICAgICAvLyAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIC8vICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgLy8gICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICAvLyAgICkgewogICAgICAgICAgICAgIC8vICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJGYWxzZSIgJiYKICAgICAgICAgICAgICB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzLmxlbmd0aCA+IDAKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICB2YXIgaW50ZW50cyA9IFtdOwogICAgICAgICAgICAgIGludGVudHMucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuaW50ZW50cyk7CiAgICAgICAgICAgICAgaWYgKHRoaXMudGFza19pbnB1dF92YWx1ZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgLmRlbGV0ZSgKICAgICAgICAgICAgICAgICAgICBhcGlfY2FsbHMudGFza19saXN0X3VybCgpLAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgaW50ZW50czogaW50ZW50cywKICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKQogICAgICAgICAgICAgICAgICAgICAgICAgIC5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlRhc2socykgRGVsZXRlZCIpIHsKICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiJEZWxldGVkISIsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IllvdXIgdGFzayhzKSBoYXZlIGJlZW4gZGVsZXRlZC4iLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6MjAwMCwKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIHJlcXVpcmVkIHZhbHVlcyIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyX2ZpZWxkcygpIHsKICAgICAgdGhpcy5xdWVzdGlvbiA9ICIiOwogICAgICB0aGlzLmludGVudHMgPSAiIjsKICAgICAgdGhpcy5hcGlfbWV0aG9kID0gbnVsbDsKICAgICAgdGhpcy5lZGl0YWJsZV92YWx1ZXMgPSAiIjsKICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPSBudWxsOwogICAgICB0aGlzLnVybCA9ICIiOwogICAgICB0aGlzLnNob3dfanNvbl9yZXF1ZXN0X2RhdGEgPSAiIjsKICAgICAgdGhpcy5zaG93X2pzb25fcmVzcG9uc2VfZGF0YSA9ICIiOwogICAgICB0aGlzLmVuZF91c2VyX21lc3NhZ2UgPSAiIjsKICAgICAgdGhpcy5pc0VkaXQgPSBmYWxzZTsKICAgICAgdGhpcy5lbmR1c2VyX21zZ190eXBlID0gbnVsbDsKICAgICAgdGhpcy5yZXNwb25zZV9qc29uX2VkaXRhYmxlID0gbnVsbDsKICAgICAgdGhpcy5yZXNwb25zZV9rZXlfZWRpdF9tZXNzYWdlID0gbnVsbDsKICAgICAgdGhpcy51bnN1Y2Nlc3NmdWxfbWVzc2FnZSA9IG51bGw7CiAgICAgIHRoaXMuY3VycmVudF9zdGVwID0gMTsKICAgICAgdGhpcy50b3RhbF9zdGVwcyA9IDI7CiAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXMgPSBbXTsKICAgICAgLy8gdGhpcy50YXNrX25hbWUgPSAiIjsKICAgIH0sCiAgICBhcGlfbGlzdF91cGRhdGUobWVzc2FnZSkgewogICAgICBmb3IgKHZhciBpIGluIG1lc3NhZ2UpIHsKICAgICAgICB0aGlzLmFwaV9saXN0LnB1c2goewogICAgICAgICAgaW50ZW50OiBpLnJlcGxhY2UodGhpcy5jb21wYW55aWQgKyAiXyIsICIiKSwKICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VbaV0uTVNHLAogICAgICAgICAgbWV0aG9kOiBtZXNzYWdlW2ldLk1FVEhPRCwKICAgICAgICAgIHJlcV9qc29uOiBtZXNzYWdlW2ldLlJlcXVlc3RKc29uLAogICAgICAgICAgcmVzcF9qc29uOiBtZXNzYWdlW2ldLlJlc3BvbnNlSnNvbiwKICAgICAgICAgIHVybDogbWVzc2FnZVtpXS5VUkwsCiAgICAgICAgICBlZGl0YWJsZV92YWx1ZXM6IG1lc3NhZ2VbaV0uVmFsdWVzVG9FZGl0LAogICAgICAgICAgcXVlc3Rpb246IG1lc3NhZ2VbaV0uUXVlc3Rpb24sCiAgICAgICAgICBlZGl0YWJsZTogbWVzc2FnZVtpXS5pc0VkaXQsCiAgICAgICAgICBtZXNzYWdlX3R5cGU6IG1lc3NhZ2VbaV0uTXNnX3R5cGUsCiAgICAgICAgICBlbmRfdXNlcl9tZXNzYWdlOiBtZXNzYWdlW2ldLk1lc3NhZ2VUb0VuZFVzZXIsCiAgICAgICAgICByZXNwb25zZV9rZXk6IG1lc3NhZ2VbaV0uUmVzcG9uc2VLZXlUb0VuZFVzZXIsCiAgICAgICAgICByZXNwb25zZV9rZXlfZWRpdGFibGU6IG1lc3NhZ2VbaV0uUmVzcG9uc2VLZXlFZGl0YWJsZSwKICAgICAgICAgIHJlc3BvbnNlX2tleV9tZXNzYWdlOiBtZXNzYWdlW2ldLlJlc3BvbnNlS2V5TWVzc2FnZVRvRW5kVXNlciwKICAgICAgICAgIHJlc3BvbnNlX2tleV91bnN1Y2Nlc3NmdWw6IG1lc3NhZ2VbaV0uVW5TdWNjZXNzZnVsTWVzc2FnZSwKICAgICAgICAgIHRhc2tfbmFtZTogbWVzc2FnZVtpXS5UYXNrcyAhPSB1bmRlZmluZWQgPyBtZXNzYWdlW2ldLlRhc2tOYW1lIDogIiIsCiAgICAgICAgICB0YXNrc19saXN0OgogICAgICAgICAgICBtZXNzYWdlW2ldLlRhc2tzICE9IHVuZGVmaW5lZCA/IG1lc3NhZ2VbaV0uVGFza3MuVXR0ZXJhbmNlcyA6IFtdLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAganNvbl9yZXF1ZXN0X2NsYXNzKCkgewogICAgICB0cnkgewogICAgICAgIEpTT04ucGFyc2UodGhpcy5qc29uX3JlcXVlc3RfZGF0YVt0aGlzLmluZGV4XSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gImlzLWludmFsaWQiOwogICAgICB9CiAgICAgIHJldHVybiAiaXMtdmFsaWQiOwogICAgfSwKICAgIGpzb25fcmVzcG9uc2VfY2xhc3MoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgSlNPTi5wYXJzZSh0aGlzLmpzb25fcmVzcG9uc2VfZGF0YVt0aGlzLmluZGV4XSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gImlzLWludmFsaWQiOwogICAgICB9CiAgICAgIHJldHVybiAiaXMtdmFsaWQiOwogICAgfSwKICAgIHNob3dfYmxvY2sodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09ICJ1cCIpIHsKICAgICAgICB0aGlzLnNob3dfb3JfYmxvY2sgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAiZG93biIpIHsKICAgICAgICB0aGlzLnNob3dfb3JfYmxvY2sgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZG90X2NsYXNzKHN0ZXApIHsKICAgICAgaWYgKAogICAgICAgIHN0ZXAgPT0gdGhpcy5jdXJyZW50X3N0ZXAgfHwKICAgICAgICAoc3RlcCA9PSB0aGlzLnRvdGFsX3N0ZXBzICYmCiAgICAgICAgICB0aGlzLmN1cnJlbnRfc3RlcCA9PSAzICYmCiAgICAgICAgICB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiRmFsc2UiKQogICAgICApIHsKICAgICAgICByZXR1cm4gImRvdCBzdWNjZXNzIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImRvdCI7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},null]}