{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/User Management/AddRole.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/User Management/AddRole.vue","mtime":1643027096184},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrZWRVc2VyOmZhbHNlLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICByb2xlX25hbWVzOiAiIiwKICAgICAgZGVsZXRlX2xpc3Q6IFtdLAogICAgICByb2xlX25hbWU6IFtdLAogICAgICB1c2VyX3R5cGVfbGlzdDogW10sCiAgICAgIHVzZXJfdHlwZTogIlBvcnRhbCBVc2VyIiwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICB0b3RhbF9wYWdlczogMCwKICAgICAgYWRkX2VkaXQ6ICJ0cnVlIiwKICAgICAgb2xkX3JvbGVfbmFtZTogIiIsCiAgICAgIGRlbGV0ZV9saXN0OiBbXSwKICAgICAgLy9oYXJzaAogICAgICBwYWdlX2FycmF5OiBbXSwKICAgICAgc2VhcmNoX25hbWU6ICIiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICBpc1Zpc2libGVTZWFyY2hDbGVhcjogZmFsc2UsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHZhciB2bSA9IHRoaXM7CiAgICAkKCIjc2VsZWN0YWxsIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICBpZiAoJCh0aGlzKS5pcygiOmNoZWNrZWQiKSkgewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgfQogICAgfSk7CiAgICAkKCIjdXNlcm1vZGVsIikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZtLmFkZF9lZGl0ID0gInRydWUiOwogICAgICB2bS51c2VyX3R5cGUgPSAiUG9ydGFsIFVzZXIiOwogICAgICB2bS5yb2xlX25hbWVzID0gIiI7CiAgICB9KTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgdGhpcy5sb2FkX3JvbGUoKTsKICB9LAogIHdhdGNoOnsKICAgICAgICBzZWFyY2hfbmFtZSgpewogICAgICAgICAgaWYgKHRoaXMuc2VhcmNoX25hbWUgPT09ICIiKXsKICAgICAgICAgIHRoaXMubG9hZF9yb2xlKCk7CiAgICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmICh0aGlzLnNlYXJjaF9uYW1lICE9PSAiIil7CiAgICAgICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGVhcl9zZWFyY2hfbmFtZSgpewogICAgICB0aGlzLnNlYXJjaF9uYW1lID0gIiI7CiAgICB9LAogICAgbG9hZF9yb2xlKCl7CiAgICAgIHRoaXMuc3Bpbm5lck9uPXRydWU7CiAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgIHRoaXMuZGVsZXRlX2xpc3QgPSBbXTsKICAgICAgdGhpcy5hZGRfZWRpdD0gInRydWUiOwogICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIGF4aW9zCiAgICAgIC5wb3N0KAogICAgICAgIGFwaV9jYWxscy5tYWluX3JvbGVfdXJsKCksCiAgICAgICAgewogICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgaXNTaG93OiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuc3Bpbm5lck9uPWZhbHNlOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICJ0b2tlbiBpbnZhbGlkIiAmJiByZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgIHRoaXMub3JnYW5pemVfcm9sZXMocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tfbGlzdF9hcnJheShpbmRleCkgewogICAgICBpZiAoaW5kZXggPT0gImFsbCIpIHsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIHZhciByb2xlX2xlbmd0aCA9IHRoaXMucm9sZV9uYW1lLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvbGVfbGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2goaSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tlZF9saXN0LmluY2x1ZGVzKGluZGV4KSkgewogICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKGluZGV4KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgc2VsZWN0YWxsLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5jaGVja2VkX2xpc3QuZmlsdGVyKChyb2xlKSA9PiB7CiAgICAgICAgICAgIHJldHVybiByb2xlICE9PSBpbmRleDsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSB0ZW1wOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGVkaXRfcm9sZShpbmRleCkgewogICAgICB0aGlzLm9sZF9yb2xlX25hbWUgPSB0aGlzLnJvbGVfbmFtZVtpbmRleF07CiAgICAgIHRoaXMucm9sZV9uYW1lcyA9IHRoaXMucm9sZV9uYW1lW2luZGV4XTsKICAgICAgdGhpcy51c2VyX3R5cGUgPSB0aGlzLnVzZXJfdHlwZV9saXN0W2luZGV4XTsKICAgICAgdGhpcy5hZGRfZWRpdCA9ICJmYWxzZSI7CiAgICB9LAogICAgZGVsZXRlX3JvbGUoaW5kZXgpIHsKICAgICAgdGhpcy5kZWxldGVfbGlzdCA9IFtdOwogICAgICB0aGlzLmRlbGV0ZV9saXN0LnB1c2godGhpcy5yb2xlX25hbWVbaW5kZXhdKTsKICAgICAgKHRoaXMucm9sZV9uYW1lcyA9IHRoaXMucm9sZV9uYW1lW2luZGV4XSksCiAgICAgICAgKHRoaXMudXNlcl90eXBlID0gdGhpcy51c2VyX3R5cGVfbGlzdFtpbmRleF0pOwogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlISEiLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGlmKHJlc3VsdC5kaXNtaXNzID09PSdjYW5jZWwnKXsKICAgICAgICAgICAgdGhpcy5kZWxldGVfbGlzdCA9IFtdOwogICAgICAgICAgfWVsc2UgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgICAgYXBpX2NhbGxzLm1haW5fcm9sZV91cmwoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgZGVsZXRlX3JvbGVzOiBbCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBSb2xlOiB0aGlzLnJvbGVfbmFtZXMsCiAgICAgICAgICAgICAgICAgICAgVXNlclR5cGU6IHRoaXMudXNlcl90eXBlLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGlzRGVsZXRlOiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuZGVsZXRlX2xpc3QgPSBbXTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVXNlciBSb2xlcyBEZWxldGVkIikgewogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IkRlbGV0ZWQhIiwKICAgICAgICAgICAgICAgICAgdGV4dDoiWW91ciByb2xlIGhhcyBiZWVuIGRlbGV0ZWQuIiwKICAgICAgICAgICAgICAgICAgdHlwZToic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmKCh0aGlzLnJvbGVfbmFtZS5sZW5ndGggPT09IDEgJiYgCiAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlX2xpc3QubGVuZ3RoID09PSAxKSAmJgogICAgICAgICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPiAxKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSB0aGlzLnBhZ2Vfbm8gLSAxOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5sb2FkX3JvbGUoKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlVTRVIgRVhJU1QiKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGV4dDogIkEgdXNlciBhbHJlYWR5IGV4aXN0cyB3aXRoIHRoZSBnaXZlbiByb2xlIiwKICAgICAgICAgICAgICAgICAgdGltZXI6MjUwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkX3JvbGUoKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5kZWxldGVfbGlzdCA9IFtdOwogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9tdWx0aXBsZV9yb2xlKCkgewogICAgICB0aGlzLmRlbGV0ZV9saXN0ID0gW107CiAgICAgIHZhciBsZW4gPSB0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGg7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrZWRfbGlzdFtpXTsKICAgICAgICB0aGlzLmRlbGV0ZV9saXN0LnB1c2goewogICAgICAgICAgUm9sZTogdGhpcy5yb2xlX25hbWVbaW5kZXhdLAogICAgICAgICAgVXNlclR5cGU6IHRoaXMudXNlcl90eXBlX2xpc3RbaW5kZXhdLAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRlbGV0ZV9saXN0Lmxlbmd0aCAhPSAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlISEiLAogICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgaWYocmVzdWx0LmRpc21pc3MgPT09J2NhbmNlbCcpewogICAgICAgICAgICB0aGlzLmRlbGV0ZV9saXN0ID0gW107CiAgICAgICAgICB9ZWxzZSBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgIGFwaV9jYWxscy5tYWluX3JvbGVfdXJsKCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikKICAgICAgICAgICAgICAgICAgICAuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgICAgZGVsZXRlX3JvbGVzOiB0aGlzLmRlbGV0ZV9saXN0LAogICAgICAgICAgICAgICAgICBpc0RlbGV0ZTogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlX2xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJVc2VyIFJvbGVzIERlbGV0ZWQiKSB7CiAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiJEZWxldGVkISIsCiAgICAgICAgICAgICAgICAgIHRleHQ6IllvdXIgcm9sZSBoYXMgYmVlbiBkZWxldGVkLiIsCiAgICAgICAgICAgICAgICAgIHR5cGU6InN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICB0aW1lcjoyMDAwLAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgaWYodGhpcy5kZWxldGVfbGlzdC5sZW5ndGggPT09IHRoaXMucm9sZV9uYW1lLmxlbmd0aCAmJiAKICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPjEpewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gdGhpcy5wYWdlX25vIC0gMTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcm9sZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJVU0VSIEVYSVNUIikgewogICAgICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGV4dDogIkEgdXNlciBhbHJlYWR5IGV4aXN0cyB3aXRoIHRoZSBnaXZlbiByb2xlKHMpIiwKICAgICAgICAgICAgICAgICAgdGltZXI6MjUwMCwKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZF9yb2xlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlX2xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZToiTm8gcm9sZSBzZWxlY3RlZCEiLAogICAgICAgICAgdGV4dDoiIiwKICAgICAgICAgIHR5cGU6ImVycm9yIiwKICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRfcm9sZXMoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLmFkZF9lZGl0ID09ICJ0cnVlIikgewogICAgICAgIGlmICh0aGlzLnVzZXJfdHlwZSA9PT0gbnVsbCkgewogICAgICAgICAgdG9hc3RyLmVycm9yKCJQbGVhc2Ugc2VsZWN0IGVpdGhlciBvZiB0aGUgVXNlciBUeXBlcyIpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yb2xlX25hbWVzID09ICIiKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhIHJvbGUgbmFtZSIpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yb2xlX25hbWVzLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gImFkbWluIikgewogICAgICAgICAgdG9hc3RyLmVycm9yKCJZb3UgY2FuJ3QgYWRkIHJvbGUgYXMgQWRtaW4iKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucm9sZV9uYW1lcy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICJzdXBlcmFkbWluY2Vuc2UiKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIllvdSBjYW4ndCBhZGQgcm9sZSBhcyBTdXBlciBBZG1pbiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy51c2VyX3R5cGUgPT0gIlBvcnRhbCBVc2VyIil7CiAgICAgICAgICAgIHRoaXMucm9sZV9uYW1lcz10aGlzLnJvbGVfbmFtZXMudG9Mb2NhbGVMb3dlckNhc2UoKS5pbmNsdWRlcygic3VwcG9ydCIpPyAic3VwcG9ydCBhZ2VudCI6IHRoaXMucm9sZV9uYW1lczsKICAgICAgICAgIH0KICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy5tYWluX3JvbGVfdXJsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHVzZXJfdHlwZTogdGhpcy51c2VyX3R5cGUsCiAgICAgICAgICAgICAgICByb2xlX25hbWU6IHRoaXMucm9sZV9uYW1lcywKICAgICAgICAgICAgICAgIGlzSW5zZXJ0OiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIGlmKAogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSAiVXNlciBSb2xlIEV4aXN0cyIgJiYKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgIT0iSW50ZXJuYWwgU2VydmVyIEVycm9yIiAmJgogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSBudWxsICYmCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhICE9ICJTdXBlciBBZG1pbiBjYW5ub3QgYmUgYWRkZWQiKQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJVc2VyIFJvbGUgU2V0IikgewogICAgICAgICAgICAgICAgICBTd2FsKHsgCiAgICAgICAgICAgICAgICAgICAgdGV4dDogIllvdXIgUm9sZSBhZGRlZCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICB0aW1lcjoyMDAwLCAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgJCgiI3VzZXJtb2RlbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZF9yb2xlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfWVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlVzZXIgUm9sZSBFeGlzdHMiKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsgCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJZb3VyIFJvbGUgQWxyZWFkeSBFeGlzdHMiLAogICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOjIwMDAsIAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKCIjdXNlcm1vZGVsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZF9yb2xlKCk7CiAgICAgICAgICAgICAgfWVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlN1cGVyIEFkbWluIGNhbm5vdCBiZSBhZGRlZCIpIHsKICAgICAgICAgICAgICAgIFN3YWwoeyAKICAgICAgICAgICAgICAgICAgdGV4dDogIlN1cGVyIEFkbWluIHJvbGUgY2Fubm90IGJlIGFkZGVkIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICB0aW1lcjoyMDAwLCAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJCgiI3VzZXJtb2RlbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcm9sZSgpOwogICAgICAgICAgICAgIH1lbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKXsKICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgICB0aW1lcjozMDAwLCAgICAgCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoIiN1c2VybW9kZWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkX3JvbGUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH1lbHNlIGlmICh0aGlzLmFkZF9lZGl0ID09ICJmYWxzZSIpIHsKICAgICAgICBpZiAodGhpcy5yb2xlX25hbWVzID09ICIiKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhIHJvbGUgbmFtZSIpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5yb2xlX25hbWVzLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gImFkbWluIikgewogICAgICAgICAgdG9hc3RyLmVycm9yKCJZb3UgY2FuJ3QgYWRkIHJvbGUgYXMgQWRtaW4iKTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucm9sZV9uYW1lcy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICJzdXBlcmFkbWluY2Vuc2UiKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIllvdSBjYW4ndCBhZGQgcm9sZSBhcyBTdXBlciBBZG1pbiIpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnVzZXJfdHlwZSA9PSAiUG9ydGFsIFVzZXIiKXsKICAgICAgICAgICAgdGhpcy5yb2xlX25hbWVzPXRoaXMucm9sZV9uYW1lcy50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKCJzdXBwb3J0Iik/ICJzdXBwb3J0IGFnZW50IjogdGhpcy5yb2xlX25hbWVzOwogICAgICAgICAgfQogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgICAgYXBpX2NhbGxzLm1haW5fcm9sZV91cmwoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgdXNlcl90eXBlOiB0aGlzLnVzZXJfdHlwZSwKICAgICAgICAgICAgICAgIHJvbGVfbmFtZTogdGhpcy5yb2xlX25hbWVzLAogICAgICAgICAgICAgICAgb2xkX3JvbGVfbmFtZTogdGhpcy5vbGRfcm9sZV9uYW1lLAogICAgICAgICAgICAgICAgaXNFZGl0OiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuYWRkX2VkaXQgPSAidHJ1ZSI7CiAgICAgICAgICAgICAgaWYoCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhICE9ICJVc2VyIFJvbGUgRXhpc3RzIiAmJgogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiICYmCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhICE9IG51bGwgJiYKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgIT0gIlN1cGVyIEFkbWluIGNhbm5vdCBiZSBhZGRlZCIpCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlVzZXIgUm9sZSBFZGl0ZWQiKSB7CiAgICAgICAgICAgICAgICAgIFN3YWwoeyAKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiWW91ciBSb2xlIGVkaXRlZCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICB0aW1lcjoyMDAwLCAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgJCgiI3VzZXJtb2RlbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZF9yb2xlKCk7CiAgICAgICAgICAgICAgICB9ICAKICAgICAgICAgICAgICB9ZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVXNlciBSb2xlIEV4aXN0cyIpIHsKICAgICAgICAgICAgICAgIFN3YWwoeyAKICAgICAgICAgICAgICAgICAgdGV4dDogIllvdXIgUm9sZSBBbHJlYWR5IEV4aXN0cyIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgdGltZXI6MjAwMCwgCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoIiN1c2VybW9kZWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkX3JvbGUoKTsKICAgICAgICAgICAgICB9ZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiU3VwZXIgQWRtaW4gY2Fubm90IGJlIGFkZGVkIikgewogICAgICAgICAgICAgICAgU3dhbCh7IAogICAgICAgICAgICAgICAgICB0ZXh0OiAiU3VwZXIgQWRtaW4gcm9sZSBjYW5ub3QgYmUgYWRkZWQiLAogICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOjIwMDAsIAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKCIjdXNlcm1vZGVsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZF9yb2xlKCk7CiAgICAgICAgICAgICAgfWVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOjMwMDAsICAgICAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgJCgiI3VzZXJtb2RlbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcm9sZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICB9ZWxzZSBpZiAodGhpcy51c2VyX3R5cGUgPT0gbnVsbCkgewogICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBzZWxlY3Qgb25lIG9mIHRoZSB1c2VyIHR5cGVzLiIpOwogICAgICB9CiAgICB9LAogICAgcGFnZV9jaGFuZ2UocGFnZW5vKSB7CiAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgIHRoaXMuZGVsZXRlX2xpc3QgPSBbXTsKICAgICAgdGhpcy5hZGRfZWRpdD0gInRydWUiOwogICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIGlmIChwYWdlbm8gPT0gMCB8fCBwYWdlbm8gPT0gdGhpcy50b3RhbF9wYWdlcyArIDEpIHsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5zZWFyY2hfbmFtZSA9PSAiIikgewogICAgICAgICAgaWYgKHBhZ2VubyA9PSAiLi4ucyIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIGlmIChwYWdlbm8gPT0gIi4uLmwiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2VubzsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy5tYWluX3JvbGVfdXJsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICAgICAgaXNTaG93OiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gInRva2VuIGludmFsaWQiICYmIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5vcmdhbml6ZV9yb2xlcyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHBhZ2VubyA9PSAiLi4ucyIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIGlmIChwYWdlbm8gPT0gIi4uLmwiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2VubzsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy5tYWluX3JvbGVfdXJsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICAgICAgaXNzZWFyY2g6IHRydWUsCiAgICAgICAgICAgICAgICBzZWFyY2hzdHJpbmc6IHRoaXMuc2VhcmNoX25hbWUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSAidG9rZW4gaW52YWxpZCIgJiYgcmVzcG9uc2UuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0aGlzLm9yZ2FuaXplX3JvbGVzKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9yZ2FuaXplX3JvbGVzKHJvbGVzX2xpc3QpIHsKICAgICAgLy8gdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJvbGVzX2xpc3QubnVtYmVyX29mX3Jvd3M7CiAgICAgIHRoaXMucm9sZV9uYW1lID0gW107CiAgICAgIHRoaXMudXNlcl90eXBlX2xpc3QgPSBbXTsKICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJvbGVzX2xpc3QuUGFnZUNvdW50OwogICAgICB2YXIgcG9ydGFsX2xlbiA9IHJvbGVzX2xpc3QuUG9ydGFsLmxlbmd0aDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3J0YWxfbGVuOyBpKyspIHsKICAgICAgICB0aGlzLnVzZXJfdHlwZV9saXN0LnB1c2goIlBvcnRhbCBVc2VyIik7CiAgICAgICAgdGhpcy5yb2xlX25hbWUucHVzaChyb2xlc19saXN0LlBvcnRhbFtpXSk7CiAgICAgIH0KICAgICAgdmFyIGJvdF9sZW4gPSByb2xlc19saXN0LkJvdC5sZW5ndGg7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm90X2xlbjsgaSsrKSB7CiAgICAgICAgdGhpcy51c2VyX3R5cGVfbGlzdC5wdXNoKCJCb3QgVXNlciIpOwogICAgICAgIHRoaXMucm9sZV9uYW1lLnB1c2gocm9sZXNfbGlzdC5Cb3RbaV0pOwogICAgICB9CiAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgfSwKICAgIHBhZ2luYXRpb25fY2xhc3MoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09IHRoaXMucGFnZV9ubykgewogICAgICAgIHJldHVybiAiIGFjdGl2ZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgY2FsbHNlYXJjaCgpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgdGhpcy5zZWFyY2hfcHJvZHVjdCgpOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoX3Byb2R1Y3QoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9uYW1lICE9ICIiKSB7CiAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICB0aGlzLmRlbGV0ZV9saXN0ID0gW107CiAgICAgICAgdGhpcy5hZGRfZWRpdD0gInRydWUiOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICBhcGlfY2FsbHMubWFpbl9yb2xlX3VybCgpLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgaXNzZWFyY2g6IHRydWUsCiAgICAgICAgICAgICAgc2VhcmNoc3RyaW5nOiB0aGlzLnNlYXJjaF9uYW1lLAogICAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSAidG9rZW4gaW52YWxpZCIgJiYKICAgICAgICAgICAgICByZXNwb25zZS5kYXRhICE9IG51bGwgJiYKICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLk1TRyAhPSAiTm8gUm9sZXMgQWRkZWQgWWV0IgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSAxOwogICAgICAgICAgICAgIHRoaXMub3JnYW5pemVfcm9sZXMocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT0gIk5vIFJvbGVzIEFkZGVkIFlldCIpIHsKICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIk5vIHJvbGUgZm91bmQiKTsKICAgICAgICAgICAgICB0aGlzLmxvYWRfcm9sZSgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJJbnRybmFsIFNlcnZlciBFcnJvciIpIHsKICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkludHJuYWwgU2VydmVyIEVycm9yIik7CiAgICAgICAgICAgICAgdGhpcy5sb2FkX3JvbGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICAgICBlbHNlIHsKICAgICAgICB0b2FzdHIuZXJyb3IoIkVudGVyIHByb3BlciBkYXRhIGZvciBzZWFyY2hpbmciKTsKICAgICAgfQogICAgfSwKICAgIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKICAgICAgaWYgKHRoaXMudG90YWxfcGFnZXMgPD0gNykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gMSkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzKSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b3RhbF9wYWdlcyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA8PSA0KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA+PSB0aGlzLnRvdGFsX3BhZ2VzIC0gNCkgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSAzOyBpIDw9IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AddRole.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddRole.vue","sourceRoot":"src/portal/Chatbot/Dashboard/User Management","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"dash-cont\">\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          >\n            <h4 class=\"mb-sm-0\">Role List</h4>\n\n            <div class=\"card-act d-flex flex-wrap\">\n              <!-- for search -harsh -->\n              <!-- <div> -->\n                <input\n                  class=\"form-control search-bar\"\n                  id=\"search_bar\"\n                  placeholder=\"Search here\"\n                  v-model.trim=\"search_name\"\n                  v-on:keyup=\"callsearch\"\n                />\n                <a type=\"button\" v-if=\"isVisibleSearchClear\" class=\"btn bg-transparent mt-auto mb-auto py-0\" @click=\"clear_search_name\" style=\"margin-left: -40px; z-index: 10;\">\n                  <img src=\"/img/close-icn.png\" alt />\n                </a>\n                <!-- <span id=\"clear\" class=\"fa fa-times-circle\"></span> -->\n              <!-- </div> -->\n              <a\n                href=\"#\"\n                class=\"darkblue-btn\"\n                @click=\"search_product\"\n                id=\"search_btn\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                  width=\"14\"\n                  height=\"14\"\n                >\n                  <path\n                    d=\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </a>\n\n              <a\n                href=\"#\"\n                class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n                data-target=\"#usermodel\"\n                id=\"add_role_btn\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"14\"\n                  height=\"13.997\"\n                  viewBox=\"0 0 14 13.997\"\n                >\n                  <path\n                    id=\"Union_13\"\n                    data-name=\"Union 13\"\n                    d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                    transform=\"translate(12690.001 -2045.002)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n                Add Role\n              </a>\n              <a\n                href=\"javascript:void(0)\"\n                class=\"red-btn\"\n                @click=\"delete_multiple_role\"\n                id=\"delete_role\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"14\"\n                  height=\"14\"\n                  viewBox=\"0 0 14 14\"\n                >\n                  <path\n                    id=\"trash-can-outline\"\n                    d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                    transform=\"translate(-4 -3)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n                Delete\n              </a>\n            </div>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-box\">\n              <div class=\"table-responsive\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label\n                            class=\"form-check-label checkbox checkbox-success\"\n                          >\n                            <input\n                              class=\"form-check-input\"\n                              id=\"selectall\"\n                              type=\"checkbox\"\n                              @click=\"check_list_array('all')\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <th scope=\"col\" style=\"width: 10%\">ACTION</th>\n                      <th scope=\"col\">USER TYPE</th>\n                      <th scope=\"col\">ROLE NAME</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(role, index) in role_name\" :key=\"index\">\n                      <th scope=\"col\">\n                        <div class=\"form-check checkbox-success\">\n                          <label\n                            class=\"form-check-label checkbox checkbox-success\"\n                          >\n                            <input\n                              class=\"form-check-input\"\n                              type=\"checkbox\"\n                              @change=\"check_list_array(index)\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n\n                      <td class=\"action\">\n                        <a href=\"#\" id=\"edit_role_id\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"15.392\"\n                            height=\"15.392\"\n                            viewBox=\"0 0 15.392 15.392\"\n                            data-toggle=\"modal\"\n                            style=\"cursor: pointer\"\n                            data-target=\"#usermodel\"\n                            @click=\"edit_role(index)\"\n                          >\n                            <path\n                              id=\"square-edit-outline\"\n                              d=\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\"\n                              transform=\"translate(-3 -3)\"\n                              fill=\"#9499ae\"\n                            />\n                          </svg>\n                        </a>\n                        <a\n                          href=\"#\"\n                          @click=\"delete_role(index)\"\n                          id=\"single_delete_role_id\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"13.682\"\n                            height=\"15.392\"\n                            viewBox=\"0 0 13.682 15.392\"\n                          >\n                            <path\n                              d=\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\"\n                              transform=\"translate(-4 -3)\"\n                              fill=\"#f23d3d\"\n                            />\n                          </svg>\n                        </a>\n                      </td>\n                      <td>{{ user_type_list[index] }}</td>\n                      <td>{{ role }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <!-- <div class=\"pagin-table\">\n              <nav aria-label=\"Page navigation example\">\n                <ul class=\"pagination justify-content-center\">\n                  <li class=\"page-item\">\n                    <a class=\"page-link\" href=\"#\" @click=\"page_change(page_no-1)\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"8.667\"\n                        height=\"15.204\"\n                        viewBox=\"0 0 8.667 15.204\"\n                      >\n                        <g\n                          id=\"arrow-point-to-left\"\n                          transform=\"translate(105.806 15.204) rotate(180)\"\n                        >\n                          <path\n                            id=\"Path_1136\"\n                            data-name=\"Path 1136\"\n                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                            transform=\"translate(0 0)\"\n                            fill=\"#9499ae\"\n                          />\n                        </g>\n                      </svg>\n                    </a>\n                  </li>\n                  <li\n                    :class=\"'page-item '+ pagination_class(index)\"\n                    v-for=\"(pageno, index) in total_pages\"\n                    :key=\"index\"\n                  >\n                    <a class=\"page-link\" href=\"#\" @click=\"page_change(pageno)\">{{pageno}}</a>\n                  </li>\n                  <li class=\"page-item\">\n                    <a class=\"page-link\" href=\"#\" @click=\"page_change(page_no+1)\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"8.667\"\n                        height=\"15.204\"\n                        viewBox=\"0 0 8.667 15.204\"\n                      >\n                        <g id=\"arrow-point-to-right\" transform=\"translate(-97.139 0)\">\n                          <path\n                            id=\"Path_1136\"\n                            data-name=\"Path 1136\"\n                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                            transform=\"translate(0 0)\"\n                            fill=\"#9499ae\"\n                          />\n                        </g>\n                      </svg>\n                    </a>\n                  </li>\n                </ul>\n              </nav>\n            </div>-->\n\n              <div class=\"pagin-table\" style=\"margin: 0\">\n                <nav aria-label=\"Page navigation example\">\n                  <ul class=\"pagination justify-content-center\">\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_change(page_no - 1)\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"8.667\"\n                          height=\"15.204\"\n                          viewBox=\"0 0 8.667 15.204\"\n                        >\n                          <g\n                            id=\"arrow-point-to-left\"\n                            transform=\"translate(105.806 15.204) rotate(180)\"\n                          >\n                            <path\n                              id=\"Path_1136\"\n                              data-name=\"Path 1136\"\n                              d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                              transform=\"translate(0 0)\"\n                              fill=\"#9499ae\"\n                            />\n                          </g>\n                        </svg>\n                      </a>\n                    </li>\n                    <li\n                      :class=\"'page-item ' + pagination_class(pageno)\"\n                      v-for=\"pageno in page_array\"\n                      :key=\"pageno\"\n                    >\n                      <a\n                        v-if=\"pageno == '...s' || pageno == '...l'\"\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_change(pageno)\"\n                        >...</a\n                      >\n                      <a\n                        v-if=\"pageno != '...s' && pageno != '...l'\"\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_change(pageno)\"\n                        >{{ pageno }}</a\n                      >\n                    </li>\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_change(page_no + 1)\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"8.667\"\n                          height=\"15.204\"\n                          viewBox=\"0 0 8.667 15.204\"\n                        >\n                          <g\n                            id=\"arrow-point-to-right\"\n                            transform=\"translate(-97.139 0)\"\n                          >\n                            <path\n                              id=\"Path_1136\"\n                              data-name=\"Path 1136\"\n                              d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                              transform=\"translate(0 0)\"\n                              fill=\"#9499ae\"\n                            />\n                          </g>\n                        </svg>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n\n              <div\n                class=\"modal fade dash-modal\"\n                id=\"usermodel\"\n                tabindex=\"-1\"\n                role=\"dialog\"\n                aria-labelledby=\"usermodeltitle\"\n                aria-hidden=\"true\"\n              >\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                  <div class=\"modal-content\">\n                    <div class=\"modal-body\">\n                      <div class=\"modal-head d-flex align-items-center\">\n                        <div class=\"head-icn\">\n                          <img src=\"/img/user-blue.png\" alt />\n                        </div>\n                        <h3>Add Role</h3>\n                      </div>\n                      <button\n                        type=\"button\"\n                        class=\"close\"\n                        data-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                      >\n                        <img src=\"/img/close-icn.png\" alt />\n                      </button>\n                      <form @submit=\"add_roles\">\n                        <div class=\"radio\" style=\"margin-left: 25%\">\n                          <label>\n                            <input\n                              type=\"radio\"\n                              v-model=\"user_type\"\n                              id=\"portal_user\"\n                              value=\"Portal User\"\n                              :disabled=\"this.add_edit == 'false'\"\n                            />\n                            <span class=\"icn\" id=\"portal_user_radio\"></span>\n                            Portal User\n                          </label>\n                          <label>\n                            <input\n                              type=\"radio\"\n                              v-model=\"user_type\"\n                              value=\"Bot User\"\n                              :disabled=\"this.add_edit == 'false'\"\n                            />\n                            <span class=\"icn\" id=\"bot_user_radio\"></span> Bot\n                            User\n                          </label>\n                        </div>\n                        <div class=\"form-group\" style=\"padding-top: 10px\">\n                          <input\n                            id=\"add_role_text\"\n                            type=\"text\"\n                            class=\"form-control\"\n                            placeholder=\"Enter Role\"\n                            v-model.trim=\"role_names\"\n                          />\n                        </div>\n                        <span style=\"color: #ff0000\"></span>\n                        <div class=\"btn-wrap text-right\">\n                          <button\n                            type=\"button\"\n                            class=\"btn btn-link\"\n                            data-dismiss=\"modal\"\n                          >\n                            Cancel\n                          </button>\n                          <button type=\"submit\" class=\"darkblue-btn\">\n                            Save & Close\n                          </button>\n                        </div>\n                      </form>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nexport default {\n  data() {\n    return {\n      checkedUser:false,\n      checked_list: [],\n      role_names: \"\",\n      delete_list: [],\n      role_name: [],\n      user_type_list: [],\n      user_type: \"Portal User\",\n      page_no: 1,\n      per_page: 10,\n      total_pages: 0,\n      add_edit: \"true\",\n      old_role_name: \"\",\n      delete_list: [],\n      //harsh\n      page_array: [],\n      search_name: \"\",\n      spinnerOn: false,\n      isVisibleSearchClear: false,\n    };\n  },\n  mounted() {\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    $(\"#usermodel\").on(\"hidden.bs.modal\", function (e) {\n      vm.add_edit = \"true\";\n      vm.user_type = \"Portal User\";\n      vm.role_names = \"\";\n    });\n  },\n  created() {\n  this.load_role();\n  },\n  watch:{\n        search_name(){\n          if (this.search_name === \"\"){\n          this.load_role();\n          this.isVisibleSearchClear = false;\n          }\n          else if (this.search_name !== \"\"){\n            this.isVisibleSearchClear = true;\n          }\n        },\n  },\n  methods: {\n    clear_search_name(){\n      this.search_name = \"\";\n    },\n    load_role(){\n      this.spinnerOn=true;\n      this.checked_list = [];\n      this.delete_list = [];\n      this.add_edit= \"true\";\n      $(\"input:checkbox\").prop(\"checked\", false);\n      axios\n      .post(\n        api_calls.main_role_url(),\n        {\n          companyid: this.$session.get(\"UserInformation\").company_id,\n          companyname: this.$session.get(\"UserInformation\").company_name,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          email: this.$session.get(\"UserInformation\").email,\n          token: this.$session.get(\"UserInformation\").tokens,\n          page_no: this.page_no,\n          per_page: this.per_page,\n          isShow: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        this.spinnerOn=false;\n        if (response.data != \"token invalid\" && response.data != null) {\n          this.organize_roles(response.data);\n        }\n      })\n      .catch((e) => {\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n    },\n    check_list_array(index) {\n      if (index == \"all\") {\n        this.checked_list = [];\n        var role_length = this.role_name.length;\n        for (var i = 0; i < role_length; i++) {\n          this.checked_list.push(i);\n        }\n      } else {\n        if (event.target.checked == true) {\n          if (!this.checked_list.includes(index)) {\n            this.checked_list.push(index);\n          }\n        } else if (event.target.checked == false) {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked == true) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((role) => {\n            return role !== index;\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    edit_role(index) {\n      this.old_role_name = this.role_name[index];\n      this.role_names = this.role_name[index];\n      this.user_type = this.user_type_list[index];\n      this.add_edit = \"false\";\n    },\n    delete_role(index) {\n      this.delete_list = [];\n      this.delete_list.push(this.role_name[index]);\n      (this.role_names = this.role_name[index]),\n        (this.user_type = this.user_type_list[index]);\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, delete!!\",\n      }).then((result) => {\n          if(result.dismiss ==='cancel'){\n            this.delete_list = [];\n          }else if (result.value) {\n          axios\n            .post(\n              api_calls.main_role_url(),\n              {\n                companyid: this.$session.get(\"UserInformation\").company_id,\n                companyname: this.$session.get(\"UserInformation\").company_name,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                delete_roles: [\n                  {\n                    Role: this.role_names,\n                    UserType: this.user_type,\n                  },\n                ],\n                isDelete: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.delete_list = [];\n              if (response.data == \"User Roles Deleted\") {\n                Swal.fire({\n                  title:\"Deleted!\",\n                  text:\"Your role has been deleted.\",\n                  type:\"success\",\n                  timer:2000,\n                });\n                if((this.role_name.length === 1 && \n                  this.delete_list.length === 1) &&\n                  this.page_no > 1){\n                    this.page_no = this.page_no - 1;\n                }\n                this.load_role();\n              } else if (response.data == \"USER EXIST\") {\n                Swal({\n                  type: \"error\",\n                  text: \"A user already exists with the given role\",\n                  timer:2500,\n                });\n                this.load_role()\n              }\n            })\n            .catch((e) => {\n              this.delete_list = [];\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });\n    },\n    delete_multiple_role() {\n      this.delete_list = [];\n      var len = this.checked_list.length;\n      for (var i = 0; i < len; i++) {\n        var index = this.checked_list[i];\n        this.delete_list.push({\n          Role: this.role_name[index],\n          UserType: this.user_type_list[index],\n        });\n      }\n      if (this.delete_list.length != 0) {\n        Swal.fire({\n          title: \"Are you sure?\",\n          text: \"You won't be able to revert this!\",\n          type: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Yes, delete!!\",\n        }).then((result) => {\n          if(result.dismiss ==='cancel'){\n            this.delete_list = [];\n          }else if (result.value) {\n            this.spinnerOn = true;\n            axios\n              .post(\n                api_calls.main_role_url(),\n                {\n                  companyid: this.$session.get(\"UserInformation\").company_id,\n                  companyname: this.$session.get(\"UserInformation\")\n                    .company_name,\n                  license_key: this.$session.get(\"UserInformation\").license_key,\n                  email: this.$session.get(\"UserInformation\").email,\n                  token: this.$session.get(\"UserInformation\").tokens,\n                  delete_roles: this.delete_list,\n                  isDelete: true,\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                this.spinnerOn = false;\n                this.checked_list = [];\n                this.delete_list = [];\n                if (response.data == \"User Roles Deleted\") {\n                  Swal.fire({\n                  title:\"Deleted!\",\n                  text:\"Your role has been deleted.\",\n                  type:\"success\",\n                  timer:2000,\n                  });\n                  if(this.delete_list.length === this.role_name.length && \n                    this.page_no >1){\n                      this.page_no = this.page_no - 1;\n                  }\n                  this.load_role();\n                } else if (response.data == \"USER EXIST\") {\n                  this.spinnerOn = false;\n                  this.checked_list = [];\n                  Swal({\n                  type: \"error\",\n                  text: \"A user already exists with the given role(s)\",\n                  timer:2500,\n                  });\n                  this.load_role();\n                }\n              })\n              .catch((e) => {\n                this.delete_list = [];\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n          }\n        });\n      } else {\n        Swal.fire({\n          title:\"No role selected!\",\n          text:\"\",\n          type:\"error\",\n          timer:2000,\n        });\n      }\n    },\n    add_roles() {\n      event.preventDefault();\n      if (this.add_edit == \"true\") {\n        if (this.user_type === null) {\n          toastr.error(\"Please select either of the User Types\");\n        } else if (this.role_names == \"\") {\n          toastr.error(\"Please enter a role name\");\n        } else if (this.role_names.toLocaleLowerCase() == \"admin\") {\n          toastr.error(\"You can't add role as Admin\");\n        } else if (this.role_names.toLocaleLowerCase() == \"superadmincense\") {\n          toastr.error(\"You can't add role as Super Admin\");\n        } else {\n          if (this.user_type == \"Portal User\"){\n            this.role_names=this.role_names.toLocaleLowerCase().includes(\"support\")? \"support agent\": this.role_names;\n          }\n          axios\n            .post(\n              api_calls.main_role_url(),\n              {\n                companyid: this.$session.get(\"UserInformation\").company_id,\n                companyname: this.$session.get(\"UserInformation\").company_name,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                user_type: this.user_type,\n                role_name: this.role_names,\n                isInsert: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              if(\n                response.data != \"User Role Exists\" &&\n                response.data !=\"Internal Server Error\" &&\n                response.data != null &&\n                response.data != \"Super Admin cannot be added\")\n              {\n                if (response.data == \"User Role Set\") {\n                  Swal({ \n                    text: \"Your Role added successfully\",\n                    type: \"success\",\n                    timer:2000, \n                    });\n                  $(\"#usermodel\").modal(\"hide\");\n                  this.load_role();\n                }\n              }else if (response.data == \"User Role Exists\") {\n                Swal({ \n                  text: \"Your Role Already Exists\",\n                  type: \"warning\",\n                  timer:2000, \n                });\n                $(\"#usermodel\").modal(\"hide\");\n                this.load_role();\n              }else if (response.data == \"Super Admin cannot be added\") {\n                Swal({ \n                  text: \"Super Admin role cannot be added\",\n                  type: \"warning\",\n                  timer:2000, \n                });\n                $(\"#usermodel\").modal(\"hide\");\n                this.load_role();\n              }else if (response.data == \"Internal Server Error\"){\n                Swal({\n                  type: \"error\",\n                  text: \"There was an internal server error. Please try again.\",\n                  timer:3000,     \n                });\n                $(\"#usermodel\").modal(\"hide\");\n                this.load_role();\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }else if (this.add_edit == \"false\") {\n        if (this.role_names == \"\") {\n          toastr.error(\"Please enter a role name\");\n        } else if (this.role_names.toLocaleLowerCase() == \"admin\") {\n          toastr.error(\"You can't add role as Admin\");\n        } else if (this.role_names.toLocaleLowerCase() == \"superadmincense\") {\n          toastr.error(\"You can't add role as Super Admin\");\n        }\n        else {\n          if (this.user_type == \"Portal User\"){\n            this.role_names=this.role_names.toLocaleLowerCase().includes(\"support\")? \"support agent\": this.role_names;\n          }\n          axios\n            .post(\n              api_calls.main_role_url(),\n              {\n                companyid: this.$session.get(\"UserInformation\").company_id,\n                companyname: this.$session.get(\"UserInformation\").company_name,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                user_type: this.user_type,\n                role_name: this.role_names,\n                old_role_name: this.old_role_name,\n                isEdit: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.add_edit = \"true\";\n              if(\n                response.data != \"User Role Exists\" &&\n                response.data !=\"Internal Server Error\" &&\n                response.data != null &&\n                response.data != \"Super Admin cannot be added\")\n              {\n                if (response.data == \"User Role Edited\") {\n                  Swal({ \n                    text: \"Your Role edited successfully\",\n                    type: \"success\",\n                    timer:2000, \n                    });\n                  $(\"#usermodel\").modal(\"hide\");\n                  this.load_role();\n                }  \n              }else if (response.data == \"User Role Exists\") {\n                Swal({ \n                  text: \"Your Role Already Exists\",\n                  type: \"warning\",\n                  timer:2000, \n                });\n                $(\"#usermodel\").modal(\"hide\");\n                this.load_role();\n              }else if (response.data == \"Super Admin cannot be added\") {\n                Swal({ \n                  text: \"Super Admin role cannot be added\",\n                  type: \"warning\",\n                  timer:2000, \n                });\n                $(\"#usermodel\").modal(\"hide\");\n                this.load_role();\n              }else if (response.data == \"Internal Server Error\"){\n                Swal({\n                  type: \"error\",\n                  text: \"There was an internal server error. Please try again.\",\n                  timer:3000,     \n                });\n                $(\"#usermodel\").modal(\"hide\");\n                this.load_role();\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n          }\n      }else if (this.user_type == null) {\n      toastr.error(\"Please select one of the user types.\");\n      }\n    },\n    page_change(pageno) {\n      this.checked_list = [];\n      this.delete_list = [];\n      this.add_edit= \"true\";\n      $(\"input:checkbox\").prop(\"checked\", false);\n      if (pageno == 0 || pageno == this.total_pages + 1) {\n      } else {\n        if (this.search_name == \"\") {\n          if (pageno == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (pageno == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = pageno;\n          }\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.main_role_url(),\n              {\n                companyid: this.$session.get(\"UserInformation\").company_id,\n                companyname: this.$session.get(\"UserInformation\").company_name,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                page_no: this.page_no,\n                per_page: this.per_page,\n                isShow: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              if (response.data != \"token invalid\" && response.data != null) {\n                this.organize_roles(response.data);\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        } else {\n          if (pageno == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (pageno == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = pageno;\n          }\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.main_role_url(),\n              {\n                companyid: this.$session.get(\"UserInformation\").company_id,\n                companyname: this.$session.get(\"UserInformation\").company_name,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                page_no: this.page_no,\n                per_page: this.per_page,\n                issearch: true,\n                searchstring: this.search_name,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              if (response.data != \"token invalid\" && response.data != null) {\n                this.organize_roles(response.data);\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }\n    },\n    organize_roles(roles_list) {\n      // this.number_of_rows = roles_list.number_of_rows;\n      this.role_name = [];\n      this.user_type_list = [];\n      this.total_pages = roles_list.PageCount;\n      var portal_len = roles_list.Portal.length;\n      for (var i = 0; i < portal_len; i++) {\n        this.user_type_list.push(\"Portal User\");\n        this.role_name.push(roles_list.Portal[i]);\n      }\n      var bot_len = roles_list.Bot.length;\n      for (var i = 0; i < bot_len; i++) {\n        this.user_type_list.push(\"Bot User\");\n        this.role_name.push(roles_list.Bot[i]);\n      }\n      this.setpagination(this.page_no);\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    callsearch() {\n      if (event.keyCode === 13) {\n        this.search_product();\n      }\n    },\n    search_product() {\n      if (this.search_name != \"\") {\n        this.checked_list = [];\n        this.delete_list = [];\n        this.add_edit= \"true\";\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.main_role_url(),\n            {\n              companyid: this.$session.get(\"UserInformation\").company_id,\n              companyname: this.$session.get(\"UserInformation\").company_name,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              email: this.$session.get(\"UserInformation\").email,\n              token: this.$session.get(\"UserInformation\").tokens,\n              issearch: true,\n              searchstring: this.search_name,\n              per_page: this.per_page,\n              page_no: 1,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            this.show_loader = false;\n            if (\n              response.data != \"token invalid\" &&\n              response.data != null &&\n              response.data.MSG != \"No Roles Added Yet\"\n            ) {\n              this.page_no = 1;\n              this.organize_roles(response.data);\n            } else if (response.data.MSG == \"No Roles Added Yet\") {\n              toastr.error(\"No role found\");\n              this.load_role();\n            } else if (response.data.MSG == \"Intrnal Server Error\") {\n              toastr.error(\"Intrnal Server Error\");\n              this.load_role();\n            }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n       else {\n        toastr.error(\"Enter proper data for searching\");\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n  },\n};\n</script>"]}]}