{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Campaigns/SmsCampaign.vue?vue&type=style&index=0&id=2ed29f10&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Campaigns/SmsCampaign.vue","mtime":1663910265450},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jdXJyZW50LWFjdGl2ZS10ZW1wbGF0ZSB7CiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjEpOwp9Ci5tb2RhbC14bCB7CiAgbWF4LXdpZHRoOiAxMTQwcHg7CiAgbWluLWhlaWdodDogMTE0MHB4Owp9Ci50YWJsZS1ib3ggdGJvZHkgdHI6aG92ZXIgdGQsCi50YWJsZS1ib3ggdGJvZHkgdHI6aG92ZXIgdGggewogIGJhY2tncm91bmQ6ICNlY2VjZWM7Cn0KLnRhYmxlIHRoIHsKICBib3JkZXItdG9wOiBub25lOwp9Ci50YWJsZS1yZXNwb25zaXZlIHsKICBoZWlnaHQ6IDc1dmg7CiAgb3ZlcmZsb3cteTogYXV0bzsKICBib3JkZXI6IDFweCBzb2xpZCAjZTNlMmU1Owp9Ci50YWJsZS1yZXNwb25zaXZlIHRoZWFkIHRoIHsKICB0b3A6IDA7CiAgcG9zaXRpb246IHN0aWNreTsKfQoudGFibGUtcmVzcG9uc2l2ZTo6LXdlYmtpdC1zY3JvbGxiYXIgewogIG1heC1oZWlnaHQ6IDEwcHg7CiAgd2lkdGg6IDdweDsKICBoZWlnaHQ6IDdweDsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIG92ZXJmbG93LXg6IGhpZGRlbjsKfQoudGFibGUtcmVzcG9uc2l2ZTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQoudGFibGUtcmVzcG9uc2l2ZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogIGJhY2tncm91bmQ6ICMyNzM5N2I7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQoudGFibGUtcmVzcG9uc2l2ZTo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIgewogIGJhY2tncm91bmQ6ICMxOTI5NWY7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQoudGV4dC1hcmVhIHsKICBwYWRkaW5nOiAxNXB4OwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbjogNXB4IDAgMjJweCAwOwogIGJvcmRlcjogbm9uZTsKICBiYWNrZ3JvdW5kOiAjZjFmMWYxOwogIHJlc2l6ZTogbm9uZTsKICBtaW4taGVpZ2h0OiAxNTBweDsKfQoubW9kYWwgewogIG92ZXJmbG93LXk6IGF1dG87Cn0KCg=="},{"version":3,"sources":["SmsCampaign.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+iEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SmsCampaign.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Campaigns","sourcesContent":["<template>\n    <div class=\"dash-cont\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\">\n            <h4 class=\"mb-sm-0\">{{tlt('SMS Campaign')}}</h4>\n            <div class=\"card-act d-flex flex-wrap\">\n              <input\n                class=\"form-control search-bar\"\n                style=\"padding: 0px 15px; height: 36px !important;\"\n                id=\"search_bar_id\"\n                :placeholder=\"tlt('search_template')\"\n                v-model.trim=\"search_name\"\n                v-on:keyup=\"callsearch\"\n            />\n            <a\n              type=\"button\"\n              v-if=\"isVisibleSearchClear\"\n              class=\"btn bg-transparent mt-auto mb-auto py-0\"\n              @click=\"clear_search_name\"\n              style=\"margin-left: -40px; z-index: 10\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </a>\n              <a\n              id=\"check_balance_btn\"\n              href=\"#\"\n              class=\"darkblue-btn\"\n              data-toggle=\"modal\"\n              @click=\"check_addons_balance\"\n              title=\"Check your SMS credits\"\n            >\n              {{tlt('sms_check_balance_btn')}}\n            </a>\n            <a\n              id=\"send_sms_btn1\"\n              href=\"#\"\n              class=\"darkblue-btn\"\n              title=\"Send SMS\"\n              v-show=\"disable_btn_expired\"\n              @click=\"show_subscription_expired_swal\"\n            >\n              {{tlt('send_sms_expiry_btn')}}\n            </a>\n            <a\n              id=\"send_sms_btn\"\n              href=\"#\"\n              class=\"darkblue-btn\"\n              data-toggle=\"modal\"\n              data-target=\"#sendsms\"\n              title=\"Send SMS\"\n              v-show=\"templatelist.length > 0 && is_notification_template === false && !disable_btn_expired\"\n            >\n              {{tlt('send_sms_btn')}}\n            </a>\n            <a\n              id=\"add_template_btn\"\n              href=\"#\"\n              class=\"darkblue-btn\"\n              v-if=\"disable_btn_expired\"\n              title=\"Add new Template\"\n              @click=\"empty_variable\"\n            >\n              {{tlt('sms_add_template_expiry_btn')}}\n            </a>\n            <a\n              id=\"add_template_btn\"\n              v-else\n              href=\"#\"\n              class=\"darkblue-btn\"\n              data-toggle=\"modal\"\n              data-target=\"#addtemplatemodel\"\n              title=\"Add new Template\"\n              @click=\"empty_variable\"\n            >\n              {{tlt('sms_add_template_btn')}}\n            </a>\n            <a\n              href=\"javascript:void(0)\"\n              class=\"red-btn\"\n              id=\"delete_intent\"\n              @click=\"delete_template\"\n            >\n              {{tlt('sms_delete_btn')}}\n            </a>\n            </div>\n          </div>\n        <div class=\"card-body py-0\" id=\"page\">\n          <div class=\"col-sm-12 d-flex px-0\" v-if=\"templatelist.length > 0\">\n            <div class=\"col-sm-4 pl-0\" style=\"height: 80vh; overflow-y: auto\">\n              <div class=\"table-box\">\n                <div class=\"table-responsive\">\n                  <table class=\"table\" style=\"overflow-y: auto\">\n                    <thead>\n                      <!-- <tr> -->\n                      <th scope=\"row\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label class=\"form-check-label\">\n                            <input\n                              class=\"form-check-input\"\n                              id=\"selectall\"\n                              type=\"checkbox\"\n                              @change=\"selected_templates('all')\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <th\n                        scope=\"row\"\n                        class=\"text-left\"\n                        style=\"\n                          font: normal normal normal 16px/22px Roboto;\n                          letter-spacing: 0px;\n                          color: #414141;\n                        \"\n                      >\n                        {{tlt('sms_template_header')}}\n                      </th>\n                      <!-- </tr> -->\n                    </thead>\n                    <tbody>\n                      <tr\n                        v-for=\"(template, index) in templatelist\"\n                        :key=\"index\"\n                        :class=\"check_current_template_active(index)\"\n                      >\n                        <td scope=\"row\">\n                          <div class=\"form-check checkbox checkbox-success\">\n                            <label class=\"form-check-label\">\n                              <input\n                                class=\"form-check-input\"\n                                type=\"checkbox\"\n                                :id='index'\n                                @change=\"\n                                  selected_templates(template.template_id)\n                                \"\n                              />\n                              <span class=\"icn\"></span>\n                            </label>\n                          </div>\n                        </td>\n                        <td\n                          style=\"cursor: pointer\"\n                          @click=\"show_template(index)\"\n                          :title=\"template.template_name\"\n                        >\n                          <template>\n                            <p style=\"margin-bottom: 0\">\n                              {{ template.template_name }}\n                            </p>\n                          </template>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"col-sm-8 pr-0\"\n              style=\"overflow-y: auto\"\n              v-if=\"templatelist.length > 0\"\n            >\n              <div style=\"border: 1px solid #dbe2e8\">\n                <div class=\"col-sm-12\">\n                  <div style=\"color: #414141\" class=\"\">\n                    <h5 class=\"mb-0 pt-2 d-flex\">\n                      <span class=\"mt-2 mb-0\">{{tlt('sms_template_details_header')}}</span>\n                      <a\n                        class=\"ml-auto mt-2 mb-0\"\n                        href=\"javascript:void(0)\"\n                        title=\"Click Here for Preview\"\n                        style=\"color: rgb(39, 54, 121)\"\n                        @click=\"preview_template('old')\"\n                        data-toggle=\"modal\"\n                      >\n                        <p\n                          class=\"labe1\"\n                          style=\"margin-right: 1rem; font-size: 1.25rem\"\n                        >\n                          {{tlt('sms_preview_btn')}}\n                        </p></a\n                      >\n                      <span\n                        @click=\"edit_template_details\"\n                        v-html=\"pencil_svg\"\n                        class=\"mr-2 mt-2\"\n                        style=\"cursor: pointer\"\n                      ></span>\n                    </h5>\n                  </div>\n                </div>\n                <hr style=\"margin-top: 0\" />\n                <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                      {{tlt('sms_template_name_label')}}\n                    </p>\n                  </h5>\n                  <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                    <p>{{ current_template.template_name }}</p>\n                  </div>\n                  <div v-else>\n                    <input\n                      id=\"edit_template_name_id\"\n                      type=\"text\"\n                      v-model.trim=\"current_template.template_name\"\n                      v-on:keyup=\"validate_edit_template_name\"                    \n                      class=\"form-control\"\n                      style=\"padding: 0.375rem 0.75rem\"\n                      :placeholder=\"tlt('template_name_label')\"\n                    />\n                    <span\n                      v-show=\"edit_template_name_already_exist\"\n                      style=\"color: red\"\n                      >{{tlt('template_name_exist_msg')}}</span\n                    >\n                  </div>\n                </div>\n                <div\n                  class=\"col-sm-12\"\n                  style=\"margin-bottom: 1rem\"\n                >\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_body_label')}}</p>\n                  </h5>\n                  <div style=\"padding-left: 20px\">\n                    <p>{{ current_template.template_body }}</p>\n                  </div>\n                </div>\n                <div\n                  class=\"col-sm-12\"\n                  style=\"margin-bottom: 1rem\"\n                >\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_example_label')}}</p>\n                  </h5>\n                  <div style=\"padding-left: 20px\">\n                    <p>{{ current_template.template_example }}</p>\n                  </div>\n                </div>\n                <div class=\"col-sm-12\"\n                  style=\"margin-bottom: 1rem\">\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_variable_header')}}</p>\n                  </h5>\n                    <table v-if=\"!isEditTemplate\" style=\"width: 100%;\">\n                      <tbody>\n                        <tr style=\"border: 1px solid black;\">\n                        <th class=\"col-sm-4\" style=\"text-align: center; border: 1px solid black;\">\n                          {{tlt('sms_template_variable_label')}}\n                        </th>\n                        <th class=\"col-sm-8\" style=\"text-align: center; border: 1px solid black;\">\n                          {{tlt('sms_template_values_label')}}\n                        </th>\n                        </tr>\n                        <tr\n                          v-for=\"(item, i) in current_template.variable_list\"\n                          :key=\"i\"\n                          style=\"border: 1px solid black;\"\n                        >\n                        <td v-for=\"(value, a) in item\"\n                          :key=\"a\" style=\"border: 1px solid black;\">\n                          {{a}}\n                        </td>\n                        <td v-for=\"(value, b) in item\"\n                            :key=\"b\" style=\"border: 1px solid black;\">\n                          {{current_template.variable_list[i][b]}}\n                        </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <table v-else style=\"width: 100%;\">\n                      <tbody>\n                        <tr>\n                        <th class=\"col-sm-4\" style=\"text-align: center;\">\n                          {{tlt('sms_model_variable_label')}}\n                        </th>\n                        <th class=\"col-sm-8\" style=\"text-align: center;\">\n                          {{tlt('sms_model_values_label')}}\n                        </th>\n                        </tr>\n                        <tr\n                          v-for=\"(item, j) in current_template.variable_list\"\n                          :key=\"j\"\n                        >\n                        <td v-for=\"(value, c) in item\"\n                            :key=\"c\">\n                          {{c}}\n                        </td>\n                        <td>\n                          <input class=\"form-control\" \n                            type=\"text\"\n                            v-for=\"(value, d) in item\"\n                            :key=\"d\" \n                            v-model=\"current_template.variable_list[j][d]\" \n                            style=\"\n                              width: 100%;\n                              height: 25px;\n                              margin-left: 10px;\n                              padding: 0px 10px;\n                            \"\n                            :title=\"d == 'customer_name'? 'Customers Name will be picked from customers list while sending SMS':''\"\n                            :disabled=\"d == 'customer_name'\"\n                          >\n                        </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                </div>\n                <div class=\"modal-footer\" v-if=\"isEditTemplate\">\n                  <div class=\"dash-modal\">\n                    <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-link\"\n                        style=\"border-radius: 0\"\n                        data-dismiss=\"modal\"\n                        @click=\"edit_template_details\"\n                      >\n                        {{tlt('sms_model_cancel_btn')}}\n                      </button>\n                      <button\n                        type=\"submit\"\n                        class=\"darkblue-btn\"\n                        id=\"res_n_int_save\"\n                        @click=\"edit_template()\"\n                      >\n                        {{tlt('sms_model_save_btn')}}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-12 d-flex px-0 py-5\" v-else-if=\"search_name == ''\">\n            <h4 class=\"mx-auto\">\n              {{tlt('sms_msg_no_template_present')}}\n            </h4>\n          </div>\n          <div class=\"col-sm-12 d-flex px-0 py-5\" v-else-if=\"templatelist.length == 0 && search_name != ''\">\n            <h4 class=\"mx-auto\">\n              {{tlt('sms_msg_no_template_not_found')}}\n            </h4>\n          </div>\n          <div class=\"pagin-table pb-3\" v-if=\"templatelist.length > 0\" style=\"margin-top: 2%\">\n            <nav aria-label=\"Page navigation example\">\n              <ul class=\"pagination justify-content-center\">\n                <li class=\"page-item\">\n                  <a\n                    class=\"page-link\"\n                    href=\"#\"\n                    @click=\"page_require(page_no - 1)\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"8.667\"\n                      height=\"15.204\"\n                      viewBox=\"0 0 8.667 15.204\"\n                    >\n                      <g\n                        id=\"arrow-point-to-left\"\n                        transform=\"translate(105.806 15.204) rotate(180)\"\n                      >\n                        <path\n                          id=\"Path_1136\"\n                          data-name=\"Path 1136\"\n                          d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                          transform=\"translate(0 0)\"\n                          fill=\"#9499ae\"\n                        />\n                      </g>\n                    </svg>\n                  </a>\n                </li>\n                <li\n                  :class=\"'page-item ' + pagination_class(pageno)\"\n                  v-for=\"pageno in page_array\"\n                  :key=\"pageno\"\n                >\n                  <a\n                    v-if=\"pageno == '...s' || pageno == '...l'\"\n                    class=\"page-link\"\n                    href=\"#\"\n                    @click=\"page_require(pageno)\"\n                    >...</a\n                  >\n                  <a\n                    v-if=\"pageno != '...s' && pageno != '...l'\"\n                    class=\"page-link\"\n                    href=\"#\"\n                    @click=\"page_require(pageno)\"\n                    >{{ pageno }}</a\n                  >\n                </li>\n                <li class=\"page-item\">\n                  <a\n                    class=\"page-link\"\n                    href=\"#\"\n                    @click=\"page_require(page_no + 1)\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"8.667\"\n                      height=\"15.204\"\n                      viewBox=\"0 0 8.667 15.204\"\n                    >\n                      <g\n                        id=\"arrow-point-to-right\"\n                        transform=\"translate(-97.139 0)\"\n                      >\n                        <path\n                          id=\"Path_1136\"\n                          data-name=\"Path 1136\"\n                          d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                          transform=\"translate(0 0)\"\n                          fill=\"#9499ae\"\n                        />\n                      </g>\n                    </svg>\n                  </a>\n                </li>\n              </ul>\n            </nav>\n          </div>\n        </div>\n        </div>\n      </div>\n      <div\n        id=\"addtemplatemodel\"\n        class=\"modal fade dash-modal\"\n        role=\"dialog\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"modal-head d-flex align-items-center\">\n                <div class=\"head-icn\">\n                  <img src=\"/img/msg-blue.png\" alt />\n                </div>\n                <h3>{{tlt('sms_model_add_template_header')}}</h3>\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  @click=\"empty_variable\"\n                  data-dismiss=\"modal\"\n                >\n                  <img src=\"/img/close-icn.png\" alt />\n                </button>\n              </div>\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_model_name_label')}}</p>\n                </h5>\n                <div>\n                  <input\n                    id=\"template_name_add_id\"\n                    type=\"text\"\n                    v-model.trim=\"template_name\"\n                    v-on:keyup=\"validate_template_name\"                    \n                    class=\"form-control\"\n                    style=\"padding: 0.375rem 0.75rem\"\n                    :placeholder=\"tlt('template_name_label')\"\n                  />\n                  <span\n                    v-show=\"template_name_already_exist\"\n                    style=\"color: red\"\n                    >{{tlt('template_name_exist_msg')}}</span\n                  >\n                </div>\n              </div>\n              <div class=\"form-group\">\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_model_promotional_template_header')}}</p>\n                  </h5>\n                <div class=\"container\">\n                  <div class=\"row\">\n                <div class=\"col-6\" v-for=\"(template, index) in default_templatelist\"\n                            :key=\"index\">\n                  <label style=\"cursor: pointer;\">\n                    <input\n                      v-model=\"choosen_template\"\n                      @change=\"preview_template_data = ''\"\n                      type=\"radio\"\n                      id=\"template_radio_id\"\n                      :value=\"template\"\n                      required\n                    />\n                    <span class=\"icn\" id=\"template_radio_icon_id\"></span>\n                    {{ template.template_name }}\n                  </label>\n                </div>\n                </div>\n              </div>\n              <h5>\n                <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_model_template_example_label')}}</p>\n              </h5>\n              <p v-if=\"choosen_template != null\">{{choosen_template.template_example}}</p>\n              <p v-else>{{tlt('sms_model_select_a_template_text')}}</p>\n              </div>\n              <div v-if=\"choosen_template != null\">\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">Template Body</p>\n                </h5>\n                <div style=\"padding-left: 15px\">\n                  <p>{{ choosen_template.template_body }}</p>\n                </div>\n              </div>\n              <div v-if=\"preview_template_data != ''\" class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">Template Preview</p>\n                </h5>\n                <div style=\"padding-left: 15px\">\n                  <p>{{ preview_template_data }}</p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('template_variable_label')}}</p>\n                </h5>\n                   <table>\n                     <tbody>\n                      <tr>\n                      <th style=\"text-align: center;\">\n                        {{tlt('sms_model_variable_label1')}}\n                      </th>\n                      <th style=\"text-align: center;\">\n                        {{tlt('sms_model_values_label1')}}\n                      </th>\n                      </tr>\n                      <tr\n                        v-for=\"(item, k) in choosen_template.variable_list\"\n                        :key=\"k\"\n                      >\n                     \n                      <td v-for=\"(value, e) in item\"\n                      :key=\"e\">\n                        {{e}}:\n                      </td>\n                      <td>\n                        <input class=\"form-control\" \n                           type=\"text\"\n                           @keyup=\"preview_template('new')\"\n                           v-for=\"(value, f) in item\"\n                            :key=\"f\"\n                           v-model=\"choosen_template.variable_list[k][f]\" \n                           style=\"\n                            width: 100%;\n                            height: 25px;\n                            margin-left: 10px;\n                          \"\n                          :title=\"f == 'customer_name'? 'Customers Name will be picked from customers list while sending SMS':''\"\n                          :disabled=\"f == 'customer_name'\"\n                        >\n                      </td>\n                      </tr>\n                     </tbody>\n                   </table>\n              </div>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"modal\"\n                  @click=\"empty_variable\"\n                >\n                  {{tlt('sms_model_cancel_btn')}}\n                </button>\n                <!-- <button\n                  v-show=\"current_step == 1 && Boolean(choosen_template) != false\"\n                  type=\"button\"\n                  class=\"darkblue-btn\"\n                  @click=\"change_step(2)\"\n                >\n                  Next\n                </button>\n                <button\n                  v-show=\"current_step == 2\"\n                  type=\"button\"\n                  class=\"darkblue-btn\"\n                  @click=\"change_step(1)\"\n                >\n                  Back\n                </button> -->\n                <!-- <button\n                  v-show=\"current_step == 2\"\n                  type=\"button\"\n                  class=\"darkblue-btn\"\n                  @click=\"preview_template('new')\"\n                >\n                  Preview\n                </button> -->\n                <button\n                  type=\"submit\"\n                  class=\"darkblue-btn\"\n                  id=\"res_n_int_save\"\n                  data-dismiss=\"\"\n                  @click=\"save_template()\"\n                >\n                  {{tlt('sms_model_add_btn')}}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        id=\"sendsms\"\n        class=\"modal fade dash-modal\"\n        role=\"dialog\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"modal-head d-flex align-items-center\">\n                <div class=\"head-icn\">\n                  <img src=\"/img/msg-blue.png\" alt />\n                </div>\n                <h3>{{tlt('sms_template_model_send_header')}}</h3>\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  @click=\"empty_variable\"\n                  data-dismiss=\"modal\"\n                >\n                  <img src=\"/img/close-icn.png\" alt />\n                </button>\n              </div>\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_model_name_label')}}</p>\n                </h5>\n                <div style=\"padding-left: 20px\">\n                  <p>{{ current_template.template_name }}</p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"d-flex\">\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_model_sendto_label')}}</p>\n                  </h5>\n                  <span\n                    v-if=\"!send_sms_all_customer\"\n                    style=\"\n                      margin-left: 12px;\n                      margin-top: 10px !important;\n                      color: #0645ad;\n                    \"\n                  >\n                    <i\n                      class=\"fa fa-info-circle\"\n                      aria-hidden=\"true\"\n                      style=\"font-size: 16px\"\n                      title=\"you can also specify name while adding new number in this way (+91 9999999999,John Doe), note this would only work in the case where you add new number.\"\n                    >\n                    </i>\n                  </span>\n                </div>\n                <div class=\"radio my-auto\" style=\"padding-left: 20px\">\n                  <label>\n                    <input\n                      type=\"radio\"\n                      v-model=\"send_sms_all_customer\"\n                      :value=\"true\"\n                      id=\"send_sms_all_customer_true_id\"\n                    />\n                    <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                    {{tlt('sms_template_model_all_cust_label')}}\n                  </label>\n                  <label>\n                    <input\n                      type=\"radio\"\n                      v-model=\"send_sms_all_customer\"\n                      :value=\"false\"\n                      id=\"send_sms_all_customer_false_id\"\n                    />\n                    <span class=\"icn\"></span>\n                    {{tlt('sms_template_model_specific_cust_label')}}\n                  </label>\n                </div>\n              </div>\n              <div class=\"form-group\" v-if=\"!send_sms_all_customer\">\n                <label>\n                  {{tlt('sms_template_model_add_customer_text')}}\n                </label>\n                <div class=\"d-flex mb-3\">\n                  <input \n                    class=\"form-control\"\n                    type=\"text\"\n                    :placeholder=\"tlt('customer_name')\" \n                    v-model=\"add_customer_name\"\n                    style=\"width: 12rem; margin-right: 9px;\"\n                   >\n                  <vue-phone-number-input \n                    v-model=\"add_customer_contact_number\" \n                    :no-use-browser-locale=\"true\"\n                    @update=\"phoneNumber = $event\"\n                  >\n                  </vue-phone-number-input>\n                  <button\n                    id=\"alternate_product_name_add_btn\"\n                    class=\"darkblue-btn ml-2\"\n                    @click=\"add_customer\"\n                  >\n                    {{tlt('sms_model_add_btn')}}\n                  </button>\n                </div>\n                <multiselect\n                  v-model=\"specific_customer_list\"\n                  :options=\"customers_list\"\n                  id=\"specific_customer_list_id\"\n                  :searchable=\"true\"\n                  :close-on-select=\"false\"\n                  :multiple=\"true\"\n                  :taggable=\"true\"\n                  tag-position=\"top\"\n                  tag-placeholder=\"Add this as new email\"\n                  :placeholder=\"tlt('customer_numer')\"\n                  :max-height=\"400\"\n                  label=\"customer_name\"\n                  track-by=\"phone\"\n                  open-direction=\"below\"\n                >\n                  <!-- <span>{{ selected_role }}</span> -->\n                </multiselect>\n              </div>\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_model_body_label')}}</p>\n                </h5>\n                <div style=\"padding-left: 20px\">\n                  <p>{{ current_template.template_body }}</p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('sms_template_model_variables_header')}}</p>\n                </h5>\n                <table>\n                  <tbody>\n                  <tr>\n                  <th style=\"text-align: center;\">\n                    {{tlt('sms_template_model_variable_label')}}\n                  </th>\n                  <th style=\"text-align: center;\">\n                    {{tlt('sms_template_model_values_label')}}\n                  </th>\n                  </tr>\n                  <tr\n                    v-for=\"(item, l) in current_template.variable_list\"\n                    :key=\"l\"\n                  >\n                  <td class=\"col-4\" v-for=\"(value, g) in item\"\n                      :key=\"g\">\n                    {{g}}\n                  </td>\n                  <td class=\"col-8\">\n                    <input class=\"form-control\" \n                        type=\"text\"\n                        v-for=\"(value, h) in item\"\n                        :key=\"h\" \n                        v-model=\"current_template.variable_list[l][h]\"\n                        style=\"\n                        width: 100%;\n                        height: 25px;\n                        margin-left: 10px;\n                      \"\n                      :title=\"h == 'customer_name'? 'Customers Name will be picked from customers list while sending SMS':''\"\n                      :disabled=\"h == 'customer_name'\"\n                    >\n                  </td>\n                  </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"modal\"\n                  @click=\"empty_variable\"\n                >\n                  {{tlt('sms_model_cancel_btn')}}\n                </button>\n                <button\n                  type=\"submit\"\n                  class=\"darkblue-btn\"\n                  id=\"save_sms_button\"\n                  @click=\"send_sms()\"\n                >\n                  {{tlt('sms_model_send_btn')}}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"modal fade\"\n        id=\"preview_template_visible\"\n        role=\"dialog\"\n        aria-labelledby=\"preview_template_visible\"\n        aria-hidden=\"true\"\n        style=\"z-index: 2000;\"\n      >\n        <div\n          class=\"modal-dialog modal-dialog-centered modal\"\n          role=\"document\"\n        >\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <i style='font-size:24px; padding-right: 10px; padding-top: 3px;' class='far'>&#xf27a;</i>\n              <h5 class=\"modal-title\">\n                {{tlt('sms_model_preview_header')}} \n              </h5>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <textarea class=\"text-area\" disabled name=\"msg\" v-model=\"preview_template_data\"></textarea>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"modal fade\"\n        id=\"checkbalance\"\n        role=\"dialog\"\n        aria-labelledby=\"checkbalance\"\n        aria-hidden=\"true\"\n      >\n        <div\n          class=\"modal-dialog modal-dialog-centered modal\"\n          role=\"document\"\n          style=\"max-width: 600px !important\"\n        >\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <!-- <i style='font-size:24px; padding-right: 10px; padding-top: 3px;' class='far'>&#xf27a;</i> -->\n              <h5 class=\"modal-title\">\n                {{tlt('sms_model_add_on_header')}} \n              </h5>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <div>\n              </div>\n              <p v-show=\"credits_balance != null\"\n                v-html=\"credits_balance\"> &nbsp; &nbsp;\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { VueEditor } from \"vue2-editor\";\n  import axios from \"axios\";\n  import Swal from \"sweetalert2\";\n  import api_calls from \"@/portal/api_calls\";\n  import { freeze_portal,show_subscription_expired_swal , close_modal } from \"@/portal/mixins\";\n  import Multiselect from \"vue-multiselect\";\n  import VuePhoneNumberInput from 'vue-phone-number-input';\n  import 'vue-phone-number-input/dist/vue-phone-number-input.css';\n  \n  \n  export default {\n    name: \"SmsCampaignPage\",\n    components: {\n      VueEditor,\n      Multiselect,\n      VuePhoneNumberInput,\n    },\n    mixins: [freeze_portal,show_subscription_expired_swal , close_modal],\n    data() {\n      return {\n        pencil_svg:\n          ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n        company_id: this.$session.get(\"UserInformation\").company_id,\n        company_name: this.$session.get(\"UserInformation\").company_name,\n        spinnerOn: false,\n        template_name: \"\",\n        save_sms: \"\",\n        is_sms: false,\n        is_email: true,\n        save_subject: \"\",\n        is_publish_sms: true,\n        verification_status: null,\n        default_templatelist: [],\n        templatelist: [],\n        checked_list: [],\n        current_template: [],\n        old_template_name: \"\",\n        isEditTemplate: false,\n        number_of_rows: null,\n        total_pages: null,\n        page_no: 1,\n        per_page: 10,\n        preview_template_data: \"\",\n        template_name_already_exist: false,\n        edit_template_name_already_exist: false,\n        page_array: [],\n        send_sms_all_customer: true,\n        customers_list: [],\n        specific_customer_list: [],\n        disable_btn_expired: false,\n        // current_step: 1,\n        choosen_template: null,\n        isVisibleSearchClear: false,\n        search_name: \"\",\n        add_customer_contact_number: null,\n        add_customer_name: null,\n        phoneNumber: null,\n        credits_balance: null\n      };\n    },\n    props: {\n      is_notification_template: Boolean,\n    },\n    created() {\n      if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n      }\n    },\n    watch: {\n      search_name() {\n        if (this.search_name === \"\") {\n          this.load_templates();\n          this.isVisibleSearchClear = false;\n        } else if (this.search_name !== \"\") {\n          this.isVisibleSearchClear = true;\n        }\n      },\n    },\n    mounted() {\n      setTimeout(() => {\n        this.freeze_portal();\n      }, 2000);\n       this.$root.$on(\"SmsTemplatePageDisabled\", (data) =>{\n        if(data===true){\n          this.disable_btn_expired = true;\n        }\n      })\n      this.load_templates();\n      if (this.is_notification_template === false){\n        this.load_customer_list();\n      }\n      var vm = this;\n      $(\"#selectall\").click(function () {\n        this.isEditTemplate = false;\n        this.is_sms = false;\n        this.is_email = true;\n        if ($(this).is(\":checked\")) {\n          $(\"input:checkbox\").prop(\"checked\", true);\n        } else {\n          vm.checked_list = [];\n          $(\"input:checkbox\").prop(\"checked\", false);\n        }\n      });\n    },\n    methods: {\n      add_customer() {\n        if(this.phoneNumber.isValid == true && this.add_customer_name != \"\") {\n          this.customers_list.push(\n            {\n              'phone': this.phoneNumber.formattedNumber,\n              'country': this.phoneNumber.countryCode,\n              'customer_name': this.add_customer_name\n            }\n          )\n          this.specific_customer_list.push(\n            {\n              'phone': this.phoneNumber.formattedNumber,\n              'country': this.phoneNumber.countryCode,\n              'customer_name': this.add_customer_name\n            }\n          )\n          this.add_customer_name = \"\";\n        } else {\n          Swal({\n            text: this.tlt('sms_template_valid_phone_no'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n        }\n      },\n      check_addons_balance() {\n        axios.post(\n          api_calls.check_addons_balance(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            check_balance: true\n          },\n          {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n        )\n        .then((response) =>{\n          if (this.api_status_code.CHECK_BALANCE.MSG_CODE === response.data.message.MSG_CODE) {\n              var template_count = response.data.data.credits.sms_count;\n              this.credits_balance =\n              \"Your current SMS credits are <strong> for US region :\" +\n              template_count.us +\n              \" | for Non-US region: \" +\n              template_count.non_us +\n              \"</strong>\";\n              $(\"#checkbalance\").modal(\"show\");\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      clear_search_name() {\n        this.search_name = \"\";\n      },\n      callsearch() {\n        if (this.search_name != \"\"){\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.template_promotional_sms_campaign(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                is_search: true,\n                page_no: 1,\n                per_page: this.per_page,\n                is_notification: this.is_notification_template,\n                search_key: this.search_name\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.templatelist = [];\n              if (this.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = [];\n                return;\n              } else if (this.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = response.data.data.templates;\n                if (this.templatelist.length > 0) {\n                  this.show_template(0);\n                }\n                this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n                this.setpagination(this.page_no);\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      },\n      save_template() {\n        if (this.template_name == \"\"){\n          Swal({\n            text: this.tlt('sms_template_name_blank_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } \n        if(this.choosen_template == null){\n          Swal({\n            text: \"Please select the template\",\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        }\n        if(this.choosen_template != null){\n          var check = false;\n          for(var i in this.choosen_template.variable_list) {\n            if (this.choosen_template.variable_list[i] == \"\"){\n              check = true\n            }\n          }\n          if (check) {\n            Swal({\n            text: this.tlt('sms_template_values_cannot_blank'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n          }\n        } \n        if (this.template_name_already_exist == true) {\n          return;\n        }\n          this.spinnerOn = true;\n          var template_details = {\n            template_name: this.template_name,\n            parent_template_id: this.choosen_template.template_id,\n            template_body: this.choosen_template.template_body,\n            variable_list: this.choosen_template.variable_list,\n            template_example: this.choosen_template.template_example\n          }\n          axios\n          .post(\n            api_calls.template_promotional_sms_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_save: true,\n              is_notification: this.is_notification_template,\n              template_details: template_details\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              $(\"#addtemplatemodel\").modal(\"hide\");\n              Swal({\n                type: \"success\",\n                text: this.tlt('template_data_added_msg'),\n                timer: 2500,\n              }).then((result) => {\n                this.empty_variable();\n                this.load_templates();\n              });\n              this.isEditTemplate = false;\n            } else if (this.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n              this.isEditTemplate = false;\n              return;\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n              this.isEditTemplate = false;\n              return;\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n            this.close_modal('res_n_int_save')\n      },\n      edit_template_details() {\n        if (!this.isEditTemplate) {\n          this.isEditTemplate = true;\n        } else {\n          this.isEditTemplate = false;\n          this.load_templates();\n          this.edit_template_name_already_exist = false;\n        }\n      },\n      edit_template() {\n        if (this.current_template.template_name == \"\"){\n          Swal({\n            text: this.tlt('sms_edit_template_name_blank_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } \n        if(this.current_template != null){\n          var check = false;\n          for(var i in this.current_template.variable_list) {\n            if (this.current_template.variable_list[i] == \"\"){\n              check = true\n            }\n          }\n          if (check) {\n            Swal({\n            text: this.tlt('sms_edit_template_values_cannot_blank'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n          }\n        } \n        if (this.edit_template_name_already_exist == true) {\n          return;\n        }\n          this.spinnerOn = true;\n          var template_details = {\n            template_name: this.current_template.template_name,\n            parent_template_id: this.current_template.parent_template_id,\n            template_id: this.current_template.template_id,\n            template_body: this.current_template.template_body,\n            variable_list: this.current_template.variable_list,\n            template_example: this.current_template.template_example\n          }\n          axios\n          .post(\n            api_calls.template_promotional_sms_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              template_details: template_details,\n              template_id: this.current_template.template_id,\n              is_edit: true,\n              is_notification: this.is_notification_template,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              $(\"#addtemplatemodel\").modal(\"hide\");\n              Swal({\n                type: \"success\",\n                text: this.tlt('template_data_edit_msg'),\n                timer: 2500,\n              }).then((result) => {\n                this.empty_variable();\n                this.load_templates();\n              });\n              this.isEditTemplate = false;\n            } else if (this.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n              this.isEditTemplate = false;\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n              this.isEditTemplate = false;\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      // change_step(val) {\n      //   if (val == 2 && Boolean(this.choosen_template) != false){\n      //     this.current_step = 2\n      //   }else if(val == 1) {\n      //     this.current_step = 1\n      //   } else {\n      //     Swal({\n      //       text: this.tlt('select_template_msg'),\n      //       toast: true,\n      //       position: \"top-end\",\n      //       type: \"warning\",\n      //       showConfirmButton: false,\n      //       timer: 2500,\n      //     });\n      //   }\n      // },\n      load_customer_list() {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_sms_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              get_customers_list: true,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              this.customers_list = response.data.data.customer_list;\n            } else if (this.api_status_code.NO_CUSTOMER_DATA_AVAILABLE_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              this.customers_list = [];\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      send_sms() {\n        if(!this.disable_btn_expired){\n          axios.post(\n          api_calls.template_promotional_sms_campaign(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_notification: this.is_notification_template,\n            template_id: this.current_template.template_id,\n            send_sms_all_customer: this.send_sms_all_customer, \n            specific_customers_list: this.specific_customer_list,\n            send_sms: true\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) =>{\n          if (this.api_status_code.SMS_TEMPLATE_NOT_FOUND_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n            Swal({\n                title: this.tlt('send_sms_credit1'),\n                text: this.tlt('no_credits_left_msg'),\n                type: \"warning\",\n                showConfirmButton: false,\n                timer: 2500,\n              });\n              \n          } else if (this.api_status_code.NO_CUSTOMER_DATA_AVAILABLE_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"info\",\n              toast: true\n            })\n            \n          } else if (this.api_status_code.NON_US_SMS_CREDITS_EXCEEDS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: this.tlt('send_sms_credit1'),\n                text: this.tlt('no_credits_left_msg'),\n                type: \"warning\",\n                showConfirmButton: true,\n                timer: 4000,\n              });\n              \n          } else if (this.api_status_code.SENDING_SMS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: this.tlt('sms_is_sent_msg'),\n                type: \"success\",\n                showConfirmButton: true,\n                timer: 2500,\n              });\n              this.empty_variable();\n          \n          } else if (this.api_status_code.US_SMS_CREDITS_EXCEEDS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                type: \"warning\",\n                showConfirmButton: false,\n                timer: 4000,\n              });\n              \n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: true,\n              type: \"error\"\n            })\n            \n          }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n  \n        \n        }else{\n          this.show_subscription_expired_swal();\n        }\n          this.close_modal('save_sms_button')\n      },\n      validate_template_name() {\n        axios.post(\n          api_calls.template_promotional_sms_campaign(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_template_name_exists: true,\n            is_notification: this.is_notification_template,\n            template_name: this.template_name,\n          },\n          {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n        )\n        .then((response) =>{\n          if (this.api_status_code.SMS_TEMPLATE_NAME_DOES_NOT_EXISTS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              this.template_name_already_exist = false;\n              document.getElementById(\"template_name_add_id\").style.border =null;\n              if(this.template_name != \"\"){\n                // document.getElementById(\"template_name_add_id\").style.border =\n                // \"1px solid green\";\n              }\n            } else if (this.api_status_code.SMS_TEMPLATE_NAME_EXISTS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              this.template_name_already_exist = true;\n              document.getElementById(\"template_name_add_id\").style.border =\n              \"1px solid red\";\n            } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      validate_edit_template_name() {\n        axios.post(\n          api_calls.template_promotional_sms_campaign(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_template_name_exists: true,\n            is_notification: this.is_notification_template,\n            template_name: this.current_template.template_name,\n          },\n          {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n        )\n        .then((response) =>{\n          if (this.api_status_code.SMS_TEMPLATE_NAME_DOES_NOT_EXISTS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n            this.edit_template_name_already_exist = false;\n            document.getElementById(\"edit_template_name_id\").style.border =null;\n            if(this.current_template.template_name != \"\"){\n              // document.getElementById(\"edit_template_name_id\").style.border =\n              // \"1px solid #00f000\";\n            }\n          } else if (this.api_status_code.SMS_TEMPLATE_NAME_EXISTS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n            if (this.old_template_name == this.current_template.template_name){\n              this.edit_template_name_already_exist = false;\n              document.getElementById(\"edit_template_name_id\").style.border =null;\n            }else{\n              this.edit_template_name_already_exist = true;\n              document.getElementById(\"edit_template_name_id\").style.border =\n              \"1px solid red\";\n            }\n          } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n          }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      preview_template(val) {\n        this.spinnerOn = true;\n        if (val == \"old\") {\n          var template_body = this.current_template.template_body\n          var variables_list = this.current_template.variable_list\n        } else if (val == \"new\") {\n          var template_body = this.choosen_template.template_body\n          var variables_list = this.choosen_template.variable_list\n        }\n        axios\n        .post(\n          api_calls.template_promotional_sms_campaign(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_notification: this.is_notification_template,\n            is_preview: true,\n            template_body: template_body,\n            variables_list: variables_list\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (this.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n            this.preview_template_data = response.data.data.body;\n            if(val == \"old\"){\n              $(\"#preview_template_visible\").modal(\"show\");\n            }\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n      },\n      send_email_confirm_prompt_text(all_customer) {\n        if (all_customer) {\n          return this.tlt('send_bulk_msg');\n        } else {\n          return this.tlt('email_to_specific_customer');\n        }\n      },\n      selected_templates(value) {\n        if(value == \"all\"){\n          if (event.target.checked) {\n            this.checked_list = [];\n              for (var i in this.templatelist) {\n                this.checked_list.push(this.templatelist[i].template_id);\n            }\n            $(\"input:checkbox\").prop(\"checked\", false);\n            for(let i = 0; i < this.checked_list.length; i++){\n              $(\"#\"+[i]).prop(\"checked\", true);\n              $(\"#selectall\").prop(\"checked\", true);\n            }\n          }else if (!event.target.checked){\n            this.checked_list = [];\n            $(\"input:checkbox\").prop(\"checked\", false);\n          }\n  \n        }else{\n          if (event.target.checked) {\n            this.checked_list.push(value);\n          } else if (!event.target.checked){\n            var selectall = document.querySelector(\"#selectall\");\n            if (selectall.checked) {\n              selectall.checked = false;\n            }\n            var temp = this.checked_list.filter((templates_id) => {\n              return templates_id != value;\n            });\n            this.checked_list = temp;\n          }\n        }\n      },\n      delete_template() {\n        if(this.checked_list.length < 1){\n          Swal({\n            text: this.tlt('select_one_template'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        }\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_sms_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_notification: this.is_notification_template,\n              is_delete: true,\n              template_list: this.checked_list\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            this.load_templates();\n            this.empty_variable();\n            this.checked_list = [];\n            if (this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: this.tlt('template_deleted_msg'),\n                type: \"success\",\n                showConfirmButton: false,\n                timer: 2500,\n              });\n              return;\n            } else if (this.api_status_code.UNSUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: this.tlt('sms_internal_server'),\n                type: \"error\",\n                showConfirmButton: false,\n                timer: 2500,\n              });\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n            this.isEditTemplate = false;\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      load_templates() {\n  \n        // Get default templates\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_sms_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_notification: this.is_notification_template,\n              is_get_default_templates: true\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data != null) {\n              this.default_templatelist = [];\n              if (this.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                this.default_templatelist = response.data.data.default_templates;\n                return;\n              } else if (this.api_status_code.NO_DEFAULT_SMS_TEMPLATE_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n              this.isEditTemplate = false;\n            }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n  \n        // Get Saved Templates\n        axios\n          .post(\n            api_calls.template_promotional_sms_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_get: true,\n              is_notification: this.is_notification_template,\n              page_no: this.page_no,\n              per_page: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            this.templatelist = [];\n            this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n            this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n            if (this.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              this.templatelist = [];\n              return;\n            } else if(this.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              this.templatelist = response.data.data.templates;\n              if (this.templatelist.length > 0) {\n                this.show_template(0);\n              }\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            } \n            this.isEditTemplate = false;\n            this.setpagination(this.page_no);\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      page_require(page) {\n        if (page == 0 || page == this.total_pages + 1) {\n        } else {\n          if (this.search_name == \"\") {\n            if (page == \"...s\") {\n              this.page_no = Math.ceil((1 + this.page_no) / 2);\n            } else if (page == \"...l\") {\n              this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n            } else {\n              this.page_no = page;\n            }\n            $(\"input:checkbox\").prop(\"checked\", false);\n            this.spinnerOn = true;\n            axios\n              .post(\n                api_calls.template_promotional_sms_campaign(),\n                {\n                  company_id: this.company_id,\n                  company_name: this.company_name,\n                  is_get: true,\n                  is_notification: this.is_notification_template,\n                  page_no: this.page_no,\n                  per_page: this.per_page,\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                this.spinnerOn = false;\n                this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n                if (this.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                  this.templatelist = [];\n                  return;\n                } else if(this.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                  this.templatelist = response.data.data.templates;\n                  if (this.templatelist.length > 0) {\n                    this.current_template = this.templatelist[0];\n                    this.show_template(0);\n                  }\n                } else {\n                  Swal({\n                    title: response.data.message.MSG_CODE,\n                    text: response.data.message.MSG,\n                    showCancelButton: false,\n                    showConfirmButton: false,\n                    type: \"error\"\n                  })\n                } \n                this.setpagination(this.page_no);\n              })\n              .catch((e) => {\n                this.spinnerOn = false;\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n          }else {\n            if (page == \"...s\") {\n              this.page_no = Math.ceil((1 + this.page_no) / 2);\n            } else if (page == \"...l\") {\n              this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n            } else {\n              this.page_no = page;\n            }\n            $(\"input:checkbox\").prop(\"checked\", false);\n            axios\n            .post(\n              api_calls.template_promotional_sms_campaign(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                is_search: true,\n                page_no: this.page_no,\n                per_page: this.per_page,\n                is_notification: this.is_notification_template,\n                search_key: this.search_name\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.templatelist = [];\n              if (this.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = [];\n                return;\n              } else if (this.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = response.data.data.templates;\n                if (this.templatelist.length > 0) {\n                  this.show_template(0);\n                }\n                this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n                this.setpagination(this.page_no);\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n              this.isEditTemplate = false;\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n          }\n        }\n      },\n      setpagination(page_no) {\n        this.page_array = [];\n        if (this.total_pages <= 7) {\n          for (let i = 0; i < this.total_pages; i++) {\n            this.page_array.push(i + 1);\n          }\n        } else if (page_no == 1) {\n          for (let i = 0; i < 4; i++) {\n            this.page_array.push(i + 1);\n          }\n          this.page_array.push(\"...l\");\n          this.page_array.push(this.total_pages);\n        } else if (page_no == this.total_pages) {\n          this.page_array.push(1);\n          this.page_array.push(\"...s\");\n          for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n            this.page_array.push(i + 1);\n          }\n        } else if (page_no <= 4) {\n          for (let i = 0; i < page_no + 3; i++) {\n            this.page_array.push(i + 1);\n          }\n          this.page_array.push(\"...l\");\n          this.page_array.push(this.total_pages);\n        } else if (page_no >= this.total_pages - 4) {\n          this.page_array.push(1);\n          this.page_array.push(\"...s\");\n          for (let i = page_no - 4; i < this.total_pages; i++) {\n            this.page_array.push(i + 1);\n          }\n        } else {\n          this.page_array.push(1);\n          this.page_array.push(\"...s\");\n          for (let i = page_no - 3; i <= page_no + 3; i++) {\n            this.page_array.push(i);\n          }\n          this.page_array.push(\"...l\");\n          this.page_array.push(this.total_pages);\n        }\n      },\n      pagination_class(index) {\n        if (index == this.page_no) {\n          return \" active\";\n        } else {\n          return \"\";\n        }\n      },\n      show_template(index) {\n        this.current_template = JSON.parse(JSON.stringify(this.templatelist[index]));\n        this.old_template_name = this.current_template.template_name;\n        this.current_template_index = index;\n        this.isEditTemplate = false;\n      },\n      empty_variable() {\n        if(!this.disable_btn_expired) {\n          this.choosen_template = null;\n          this.current_step = 1;\n          this.specific_customer_list = [];\n          this.save_sms = \"\";\n          this.template_name = \"\";\n          this.old_template_name = \"\";\n          this.template_name_already_exist = false;\n          document.getElementById(\"template_name_add_id\").style.border = null;\n        }else {\n          this.show_subscription_expired_swal();\n        }\n      },\n      check_current_template_active(index) {\n        // console.table(index, this.templatelist[index], this.current_template);\n        if (Boolean(this.templatelist[index]) === true) {\n          return this.templatelist[index].template_name ===\n            this.old_template_name\n            ? \"current-active-template\"\n            : null;\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .current-active-template {\n    background: rgba(0, 0, 0, 0.1);\n  }\n  .modal-xl {\n    max-width: 1140px;\n    min-height: 1140px;\n  }\n  .table-box tbody tr:hover td,\n  .table-box tbody tr:hover th {\n    background: #ececec;\n  }\n  .table th {\n    border-top: none;\n  }\n  .table-responsive {\n    height: 75vh;\n    overflow-y: auto;\n    border: 1px solid #e3e2e5;\n  }\n  .table-responsive thead th {\n    top: 0;\n    position: sticky;\n  }\n  .table-responsive::-webkit-scrollbar {\n    max-height: 10px;\n    width: 7px;\n    height: 7px;\n    border-radius: 10px;\n    overflow-x: hidden;\n  }\n  .table-responsive::-webkit-scrollbar-track {\n    background: #ffffff;\n    border-radius: 10px;\n  }\n  .table-responsive::-webkit-scrollbar-thumb {\n    background: #27397b;\n    border-radius: 10px;\n  }\n  .table-responsive::-webkit-scrollbar-thumb:hover {\n    background: #19295f;\n    border-radius: 10px;\n  }\n  .text-area {\n    padding: 15px;\n    width: 100%;\n    margin: 5px 0 22px 0;\n    border: none;\n    background: #f1f1f1;\n    resize: none;\n    min-height: 150px;\n  }\n  .modal {\n    overflow-y: auto;\n  }\n  \n  </style>"]}]}