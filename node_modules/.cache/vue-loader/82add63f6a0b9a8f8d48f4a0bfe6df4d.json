{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Apps/Tickets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Apps/Tickets.vue","mtime":1660042032551},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IHsgc2V0VGltZW91dCwgc2V0SW50ZXJ2YWwgfSBmcm9tICJ0aW1lcnMiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCAkIGZyb20gImpxdWVyeSIKaW1wb3J0ICdqcXVlcnktdWkvdWkvd2lkZ2V0cy9kYXRlcGlja2VyLmpzJzsKaW1wb3J0ICdqcXVlcnktdWkvdGhlbWVzL2Jhc2UvYWxsLmNzcycKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGlzdF9yZXNwb25zZV90aWNrZXRfbnVtOiAiIiwKICAgICAgaGlzdF9yZXNwb25zZV90aWNrZXRfaXNzdWU6ICIiLAogICAgICBoaXN0X3Jlc3BvbnNlX3RpY2tldF9kZXNjcmlwdGlvbjogW10sCiAgICAgIGhpc3RfcmVzcG9uc2VfdGlja2V0X2VtYWlsOiBbXSwKICAgICAgaGlzdF9yZXNwb25zZV90aWNrZXRfcm9sZTogW10sCiAgICAgIGhpc3RfcmVzcG9uc2VfdGlja2V0X2RhdGU6IFtdLAogICAgICBoaXN0X3Jlc3BvbnNlX3RpY2tldF9zdGF0dXM6ICIiLAogICAgICBoaXN0X3Jlc3BvbnNlX3RpY2tldF9maWxlbmFtZTogW10sCiAgICAgIGhpc3RfcmVzcG9uc2VfY3JlYXRlZF9ieTogIiIsCiAgICAgIGVkaXRfaXNzdWVfZGVzY3JpcHRpb246ICIiLAogICAgICB2YXJfdGlja2V0X251bWJlcjogIiIsCiAgICAgIHNvcnRfc3RhdHVzOiAiIiwKICAgICAgc2VsZWN0ZWRfdXNlcjogIiIsCiAgICAgIGZpbGVfbGFiZWw6ICJDaG9vc2UgZmlsZSIsCiAgICAgIGVkaXRfZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgaXNzdWU6ICIiLAogICAgICBpc3N1ZV9kZXNjcmlwdGlvbjogIiIsCiAgICAgIG9sZF9maWxlX25hbWU6ICIiLAogICAgICBlZGl0X29sZF9maWxlX25hbWU6ICIiLAogICAgICBpbWFnZV9lZGl0OiBmYWxzZSwKICAgICAgaW1nX2ZpbGU6ICIiLAogICAgICBlZGl0X2ltZ19maWxlOiAiIiwKICAgICAgY29tcGFueW5hbWU6IG51bGwsCiAgICAgIGNvbXBhbnlpZDogbnVsbCwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICB0b3RhbF9wYWdlczogbnVsbCwKICAgICAgbnVtYmVyX29mX3Jvd3M6IG51bGwsCiAgICAgIGNyZWF0ZWRfYnlfdXNlcnM6IFtdLAogICAgICB0aWNrZXRzX2xpc3Q6IFtdLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBmcm9tX2RhdGU6IHsKICAgICAgICBzdHJpbmdfdmFsdWU6ICIiLAogICAgICAgIG9iamVjdDogbnVsbAogICAgICB9LAogICAgICB0b19kYXRlOiB7CiAgICAgICAgc3RyaW5nX3ZhbHVlOiAiIiwKICAgICAgICBvYmplY3Q6IG51bGwKICAgICAgfSwKICAgICAgZmlyc3RfbmFtZTogIiIsCiAgICAgIGxhc3RfbmFtZTogIiIsCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIHVzZXJfcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKAogICAgICAhdGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpICYmCiAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIgogICAgKSB7CiAgICAgIHRvYXN0ci53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGEgY29tcGFueSBuYW1lIGZyb20gdGhlIGRyb3Bkb3duIik7CiAgICB9IGVsc2UgaWYgKHRoaXMudXNlcl9yb2xlID09ICJTdXBlckFkbWluIikgewogICAgICBpZiAodGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpKSB7CiAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55TmFtZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQogICAgYXhpb3MKICAgICAgLnBvc3QoYXBpX2NhbGxzLmdldF90aWNrZXRfc3RhdHVzX3VybCgpLCB7CiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8KICAgICAgfSwKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgIH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgICAgdG9hc3RyLmVycm9yKAogICAgICAgICAgICAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5udW1iZXJfb2Zfcm93czsKICAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3QgPSByZXNwb25zZS5kYXRhLlRpY2tldHM7CiAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGlja2V0c19saXN0KSB7CiAgICAgICAgICAgIHRoaXMudGlja2V0c19saXN0W2ldLnNob3J0X2Rlc2NyaXB0aW9uID0gdGhpcy50aWNrZXRzX2xpc3RbCiAgICAgICAgICAgICAgaQogICAgICAgICAgICBdLkRlc2NyaXB0aW9uWzBdLnNsaWNlKDAsIDEwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgYXhpb3MKICAgICAgLnBvc3QoYXBpX2NhbGxzLmdldF91c2Vyc19saXN0KCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGlzU2hvdzogdHJ1ZQogICAgICB9KQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5jcmVhdGVkX2J5X3VzZXJzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLnNlbGVjdGVkX3VzZXIgPSAiIjsKICAgICAgfSk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdmFyIHZtID0gdGhpczsKICAgICQoIiNmcm9tX2RhdGVwaWNrZXIiKS5kYXRlcGlja2VyKHsKICAgICAgZGF0ZUZvcm1hdDogImRkLW1tLXl5IiwKICAgICAgLy8gb25DbG9zZTogKGRhdGVUZXh0LCBpbnN0KSA9PiB7CiAgICAgIC8vICAgdm0uZnJvbV9kYXRlLm9iamVjdCA9IGluc3Q7CiAgICAgIC8vICAgaWYgKHZtLmRhdGVfY29uZGl0aW9uKCkgPT0gdHJ1ZSkgewogICAgICAvLyAgICAgdm0udGlja2V0X3N0YXR1cygpOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICB0b2FzdHIuZXJyb3IoIkZyb20gRGF0ZSBzaG91bGQgYmUgbGVzc2VyIHRoYW4gdGhlIFRvIERhdGUuIik7CiAgICAgIC8vICAgfQogICAgICAvLyB9LAogICAgICBvblNlbGVjdDogZnVuY3Rpb24oZGF0ZVRleHQsIGluc3QpIHsKICAgICAgICB2bS5mcm9tX2RhdGUub2JqZWN0ID0gaW5zdDsKICAgICAgICB2bS5mcm9tX2RhdGUuc3RyaW5nX3ZhbHVlID0gZGF0ZVRleHQ7CiAgICAgICAgaWYgKHZtLmRhdGVfY29uZGl0aW9uKCkgPT0gdHJ1ZSkgewogICAgICAgICAgdm0udGlja2V0X3N0YXR1cygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIkZyb20gRGF0ZSBzaG91bGQgYmUgbGVzc2VyIHRoYW4gdGhlIFRvIERhdGUuIik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgICQoIiN0b19kYXRlcGlja2VyIikuZGF0ZXBpY2tlcih7CiAgICAgIGRhdGVGb3JtYXQ6ICJkZC1tbS15eSIsCiAgICAgIC8vIG9uQ2xvc2U6IChkYXRlVGV4dCwgaW5zdCkgPT4gewogICAgICAvLyAgIHZtLnRvX2RhdGUub2JqZWN0ID0gaW5zdDsKICAgICAgLy8gICBpZiAodm0uZGF0ZV9jb25kaXRpb24oKSA9PSB0cnVlKSB7CiAgICAgIC8vICAgICB2bS50aWNrZXRfc3RhdHVzKCk7CiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIHRvYXN0ci5lcnJvcigiRnJvbSBEYXRlIHNob3VsZCBiZSBsZXNzZXIgdGhhbiB0aGUgVG8gRGF0ZS4iKTsKICAgICAgLy8gICB9CiAgICAgIC8vICAgY29uc29sZS5sb2coJ3RvJyk7CiAgICAgIC8vIH0sCiAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbihkYXRlVGV4dCwgaW5zdCkgewogICAgICAgIHZtLnRvX2RhdGUub2JqZWN0ID0gaW5zdDsKICAgICAgICB2bS50b19kYXRlLnN0cmluZ192YWx1ZSA9IGRhdGVUZXh0OwogICAgICAgIGlmICh2bS5kYXRlX2NvbmRpdGlvbigpID09IHRydWUpIHsKICAgICAgICAgIHZtLnRpY2tldF9zdGF0dXMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdG9hc3RyLmVycm9yKCJGcm9tIERhdGUgc2hvdWxkIGJlIGxlc3NlciB0aGFuIHRoZSBUbyBEYXRlLiIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICAkKCIjdGlja2V0bW9kYWwiKS5vbigiaGlkZGVuLmJzLm1vZGFsIiwgZnVuY3Rpb24oZSkgewogICAgICB2bS5jbGVhcl9maWVsZHMoKTsKICAgIH0pOwogICAgJCgiI3NlbGVjdGFsbCIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICBpZiAoJCh0aGlzKS5pcygiOmNoZWNrZWQiKSkgewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgfQogICAgfSk7CiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnJhaXNlX3RpY2tldCA9PSAiVHJ1ZSIpIHsKICAgICAgJCgiI3RpY2tldG1vZGFsIikubW9kYWwoInNob3ciKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRpY2tldF9oaXN0b3J5KGluZGV4KSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmdldF90aWNrZXRfaGlzdG9yeSgpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIHRpY2tldF9udW1iZXI6IHRoaXMudGlja2V0c19saXN0W2luZGV4XS5OdW1iZXIsCiAgICAgICAgICB1c2VyX3JvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgICAgICAkKCIjdGlja2V0aGlzdG9yeW1vZGVsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKAogICAgICAgICAgICAgICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuaGlzdF9yZXNwb25zZV90aWNrZXRfbnVtID0gcmVzcG9uc2UuZGF0YS5UaWNrZXROdW1iZXI7CiAgICAgICAgICAgIHRoaXMuaGlzdF9yZXNwb25zZV90aWNrZXRfaXNzdWUgPSByZXNwb25zZS5kYXRhLlRpY2tldElzc3VlOwogICAgICAgICAgICB0aGlzLmhpc3RfcmVzcG9uc2VfdGlja2V0X2RhdGUgPSByZXNwb25zZS5kYXRhLlVwZGF0ZWREYXRlOwogICAgICAgICAgICB0aGlzLmhpc3RfcmVzcG9uc2VfdGlja2V0X3JvbGUgPSByZXNwb25zZS5kYXRhLlJvbGU7CiAgICAgICAgICAgIHRoaXMuaGlzdF9yZXNwb25zZV90aWNrZXRfZW1haWwgPSByZXNwb25zZS5kYXRhLlVwZGF0ZWRCeTsKICAgICAgICAgICAgdGhpcy5oaXN0X3Jlc3BvbnNlX3RpY2tldF9zdGF0dXMgPSByZXNwb25zZS5kYXRhLlN0YXR1czsKICAgICAgICAgICAgdGhpcy5oaXN0X3Jlc3BvbnNlX2NyZWF0ZWRfYnkgPSByZXNwb25zZS5kYXRhLkNyZWF0ZWREYXRlOwogICAgICAgICAgICB0aGlzLmhpc3RfcmVzcG9uc2VfdGlja2V0X2Rlc2NyaXB0aW9uID0gcmVzcG9uc2UuZGF0YS5EZXNjcmlwdGlvbjsKICAgICAgICAgICAgdGhpcy5oaXN0X3Jlc3BvbnNlX3RpY2tldF9maWxlbmFtZSA9IHJlc3BvbnNlLmRhdGEuZmlsZXVybDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICB0aWNrZXRfZWRpdChpbmRleCkgewogICAgICB0aGlzLnZhcl90aWNrZXRfbnVtYmVyID0gdGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLk51bWJlcjsKICAgICAgdGhpcy5pc3N1ZV9kZXNjcmlwdGlvbiA9IHRoaXMudGlja2V0c19saXN0W2luZGV4XS5EZXNjcmlwdGlvblswXTsKICAgICAgdGhpcy5vbGRfZmlsZV9uYW1lID0gdGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLkZpbGV1cmwuc2xpY2UoLTEpWzBdLnNsaWNlKAogICAgICAgIDYyCiAgICAgICk7CiAgICAgIHRoaXMuaXNzdWUgPSB0aGlzLnRpY2tldHNfbGlzdFtpbmRleF0uSXNzdWU7CiAgICAgIHRoaXMuaXNFZGl0ID0gdHJ1ZTsKICAgIH0sCiAgICBlZGl0X3Byb2ZpbGUoKSB7CiAgICAgIGlmICh0aGlzLmZpcnN0X25hbWUgPT0gIiIgfHwgdGhpcy5sYXN0X25hbWUgPT0gIiIpIHsKICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIGZpZWxkcy4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5lZGl0X3Byb2ZpbGVfdXJsKCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGZpcnN0X25hbWU6IHRoaXMuZmlyc3RfbmFtZSwKICAgICAgICAgICAgbGFzdF9uYW1lOiB0aGlzLmxhc3RfbmFtZSwKICAgICAgICAgICAgY291bnRyeV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY291bnRyeV9uYW1lLAogICAgICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5waG9uZV9ubwogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlByb2ZpbGUgVXBkYXRlZCIpIHsKICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciBwcm9maWxlIGhhcyBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiIpOwogICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VyRmlyc3ROYW1lIiwgdGhpcy5maXJzdF9uYW1lKTsKICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckxhc3ROYW1lIiwgdGhpcy5sYXN0X25hbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICQoIiNuYW1lX2VkaXQiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAkKCIjdGlja2V0bW9kYWwiKS5tb2RhbCgic2hvdyIpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkYXRlX2NvbmRpdGlvbigpIHsKICAgICAgdmFyIGZyb21fb2JqZWN0ID0gdGhpcy5mcm9tX2RhdGUub2JqZWN0OwogICAgICB2YXIgdG9fb2JqZWN0ID0gdGhpcy50b19kYXRlLm9iamVjdDsKICAgICAgY29uc29sZS5sb2codGhpcy5mcm9tX2RhdGUpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnRvX2RhdGUpOwogICAgICBpZiAoZnJvbV9vYmplY3QgIT09IG51bGwgJiYgdG9fb2JqZWN0ICE9PSBudWxsKSB7CiAgICAgICAgaWYgKHRvX29iamVjdC5jdXJyZW50WWVhciA+IGZyb21fb2JqZWN0LmN1cnJlbnRZZWFyKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHRvX29iamVjdC5jdXJyZW50WWVhciA9PSBmcm9tX29iamVjdC5jdXJyZW50WWVhcikgewogICAgICAgICAgaWYgKHRvX29iamVjdC5jdXJyZW50TW9udGggPiBmcm9tX29iamVjdC5jdXJyZW50TW9udGgpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IGVsc2UgaWYgKHRvX29iamVjdC5jdXJyZW50TW9udGggPT0gZnJvbV9vYmplY3QuY3VycmVudE1vbnRoKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBOdW1iZXIodG9fb2JqZWN0LmN1cnJlbnREYXkpID49IE51bWJlcihmcm9tX29iamVjdC5jdXJyZW50RGF5KQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIGlmIChmcm9tX29iamVjdCA9PT0gbnVsbCAmJiB0b19vYmplY3QgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICAvLyB0aWNrZXRfc3RhdHVzKCkgewogICAgLy8gICBpZiAodGhpcy5zb3J0X3N0YXR1cyA9PSAiIiAmJiB0aGlzLnNlbGVjdGVkX3VzZXIgIT09ICIiKSB7CiAgICAvLyAgICAgY29uc29sZS5sb2coJzEnKTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoYXBpX2NhbGxzLmdldF90aWNrZXRfc3RhdHVzX3VybCgpLCB7CiAgICAvLyAgICAgICAgIGZyb21fZGF0ZTogbnVsbCwKICAgIC8vICAgICAgICAgdG9fZGF0ZTogbnVsbCwKICAgIC8vICAgICAgICAgc3RhdHVzOiBudWxsLAogICAgLy8gICAgICAgICBzb3J0OiBmYWxzZSwKICAgIC8vICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICB1c2VyX3JvbGVfZW1haWw6IHRoaXMuc2VsZWN0ZWRfdXNlcgogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3QgPSByZXNwb25zZS5kYXRhLlRpY2tldHM7CiAgICAvLyAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLm51bWJlcl9vZl9yb3dzOwogICAgLy8gICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgIC8vICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRpY2tldHNfbGlzdCkgewogICAgLy8gICAgICAgICAgIHRoaXMudGlja2V0c19saXN0W2ldLnNob3J0X2Rlc2NyaXB0aW9uID0gdGhpcy50aWNrZXRzX2xpc3RbCiAgICAvLyAgICAgICAgICAgICBpCiAgICAvLyAgICAgICAgICAgXS5EZXNjcmlwdGlvblswXS5zbGljZSgwLCAxMCk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9IGVsc2UgaWYgKHRoaXMuc29ydF9zdGF0dXMgIT09ICIiICYmIHRoaXMuc2VsZWN0ZWRfdXNlciA9PSAiIikgewogICAgLy8gICAgIGNvbnNvbGUubG9nKCcyJyk7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfdGlja2V0X3N0YXR1c191cmwoKSwgewogICAgLy8gICAgICAgICBmcm9tX2RhdGU6IG51bGwsCiAgICAvLyAgICAgICAgIHRvX2RhdGU6IG51bGwsCiAgICAvLyAgICAgICAgIHN0YXR1czogdGhpcy5zb3J0X3N0YXR1cywKICAgIC8vICAgICAgICAgc29ydDogZmFsc2UsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgLy8gICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgdXNlcl9yb2xlX2VtYWlsOiBudWxsCiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgICB0aGlzLnRpY2tldHNfbGlzdCA9IHJlc3BvbnNlLmRhdGEuVGlja2V0czsKICAgIC8vICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEubnVtYmVyX29mX3Jvd3M7CiAgICAvLyAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgLy8gICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGlja2V0c19saXN0KSB7CiAgICAvLyAgICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3RbaV0uc2hvcnRfZGVzY3JpcHRpb24gPSB0aGlzLnRpY2tldHNfbGlzdFsKICAgIC8vICAgICAgICAgICAgIGkKICAgIC8vICAgICAgICAgICBdLkRlc2NyaXB0aW9uWzBdLnNsaWNlKDAsIDEwKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0gZWxzZSBpZiAodGhpcy5zb3J0X3N0YXR1cyAhPT0gIiIgJiYgdGhpcy5zZWxlY3RlZF91c2VyICE9PSAiIikgewogICAgLy8gICAgIGNvbnNvbGUubG9nKCczJyk7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfdGlja2V0X3N0YXR1c191cmwoKSwgewogICAgLy8gICAgICAgICBmcm9tX2RhdGU6IG51bGwsCiAgICAvLyAgICAgICAgIHRvX2RhdGU6IG51bGwsCiAgICAvLyAgICAgICAgIHN0YXR1czogdGhpcy5zb3J0X3N0YXR1cywKICAgIC8vICAgICAgICAgc29ydDogZmFsc2UsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgLy8gICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgdXNlcl9yb2xlX2VtYWlsOiB0aGlzLnNlbGVjdGVkX3VzZXIKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMudGlja2V0c19saXN0ID0gcmVzcG9uc2UuZGF0YS5UaWNrZXRzOwogICAgLy8gICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5udW1iZXJfb2Zfcm93czsKICAgIC8vICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCh0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZSk7CiAgICAvLyAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50aWNrZXRzX2xpc3QpIHsKICAgIC8vICAgICAgICAgICB0aGlzLnRpY2tldHNfbGlzdFtpXS5zaG9ydF9kZXNjcmlwdGlvbiA9IHRoaXMudGlja2V0c19saXN0WwogICAgLy8gICAgICAgICAgICAgaQogICAgLy8gICAgICAgICAgIF0uRGVzY3JpcHRpb25bMF0uc2xpY2UoMCwgMTApOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgfSBlbHNlIGlmICgKICAgIC8vICAgICB0aGlzLmRhdGVfY29uZGl0aW9uKCkgPT0gZmFsc2UgJiYKICAgIC8vICAgICB0aGlzLnNvcnRfc3RhdHVzID09ICIiICYmCiAgICAvLyAgICAgdGhpcy5zZWxlY3RlZF91c2VyID09ICIiCiAgICAvLyAgICkgewogICAgLy8gICAgIGNvbnNvbGUubG9nKCc0Jyk7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfdGlja2V0X3N0YXR1c191cmwoKSwgewogICAgLy8gICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAvLyAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubwogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpIHsKICAgIC8vICAgICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAvLyAgICAgICAgICAgICAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAvLyAgICAgICAgICAgKTsKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5udW1iZXJfb2Zfcm93czsKICAgIC8vICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgIC8vICAgICAgICAgICB0aGlzLnRpY2tldHNfbGlzdCA9IHJlc3BvbnNlLmRhdGEuVGlja2V0czsKICAgIC8vICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGlja2V0c19saXN0KSB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLnRpY2tldHNfbGlzdFtpXS5zaG9ydF9kZXNjcmlwdGlvbiA9IHRoaXMudGlja2V0c19saXN0WwogICAgLy8gICAgICAgICAgICAgICBpCiAgICAvLyAgICAgICAgICAgICBdLkRlc2NyaXB0aW9uWzBdLnNsaWNlKDAsIDEwKTsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9IGVsc2UgaWYgKAogICAgLy8gICAgIHRoaXMuZGF0ZV9jb25kaXRpb24oKSA9PSB0cnVlICYmCiAgICAvLyAgICAgdGhpcy5zb3J0X3N0YXR1cyA9PSAiIiAmJgogICAgLy8gICAgIHRoaXMuc2VsZWN0ZWRfdXNlciAhPT0gIiIKICAgIC8vICAgKSB7CiAgICAvLyAgICAgY29uc29sZS5sb2coJzUnKTsKICAgIC8vICAgICB2YXIgZnJvbV9vYmplY3QgPSBuZXcgRGF0ZSgKICAgIC8vICAgICAgIHRoaXMuZnJvbV9kYXRlLm9iamVjdC5zZWxlY3RlZFllYXIsCiAgICAvLyAgICAgICB0aGlzLmZyb21fZGF0ZS5vYmplY3Quc2VsZWN0ZWRNb250aCwKICAgIC8vICAgICAgIE51bWJlcih0aGlzLmZyb21fZGF0ZS5vYmplY3Quc2VsZWN0ZWREYXkpICsgMQogICAgLy8gICAgICk7CiAgICAvLyAgICAgdmFyIHRvX29iamVjdCA9IG5ldyBEYXRlKAogICAgLy8gICAgICAgdGhpcy50b19kYXRlLm9iamVjdC5zZWxlY3RlZFllYXIsCiAgICAvLyAgICAgICB0aGlzLnRvX2RhdGUub2JqZWN0LnNlbGVjdGVkTW9udGgsCiAgICAvLyAgICAgICBOdW1iZXIodGhpcy50b19kYXRlLm9iamVjdC5zZWxlY3RlZERheSkgKyAxCiAgICAvLyAgICAgKTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoYXBpX2NhbGxzLmdldF90aWNrZXRfc3RhdHVzX3VybCgpLCB7CiAgICAvLyAgICAgICAgIGZyb21fZGF0ZTogZnJvbV9vYmplY3QsCiAgICAvLyAgICAgICAgIHRvX2RhdGU6IHRvX29iamVjdCwKICAgIC8vICAgICAgICAgc3RhdHVzOiBudWxsLAogICAgLy8gICAgICAgICBzb3J0OiB0cnVlLAogICAgLy8gICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgIC8vICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgIHVzZXJfcm9sZV9lbWFpbDogdGhpcy5zZWxlY3RlZF91c2VyCiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgICB0aGlzLnRpY2tldHNfbGlzdCA9IHJlc3BvbnNlLmRhdGEuVGlja2V0czsKICAgIC8vICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEubnVtYmVyX29mX3Jvd3M7CiAgICAvLyAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgLy8gICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGlja2V0c19saXN0KSB7CiAgICAvLyAgICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3RbaV0uc2hvcnRfZGVzY3JpcHRpb24gPSB0aGlzLnRpY2tldHNfbGlzdFsKICAgIC8vICAgICAgICAgICAgIGkKICAgIC8vICAgICAgICAgICBdLkRlc2NyaXB0aW9uWzBdLnNsaWNlKDAsIDEwKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAvLyAgICAgdGhpcy5kYXRlX2NvbmRpdGlvbigpID09IHRydWUgJiYKICAgIC8vICAgICB0aGlzLnNvcnRfc3RhdHVzICE9PSAiIiAmJgogICAgLy8gICAgIHRoaXMuc2VsZWN0ZWRfdXNlciA9PSAiIgogICAgLy8gICApIHsKICAgIC8vICAgICBjb25zb2xlLmxvZygnNicpOwogICAgLy8gICAgIHZhciBmcm9tX29iamVjdCA9IG5ldyBEYXRlKAogICAgLy8gICAgICAgdGhpcy5mcm9tX2RhdGUub2JqZWN0LnNlbGVjdGVkWWVhciwKICAgIC8vICAgICAgIHRoaXMuZnJvbV9kYXRlLm9iamVjdC5zZWxlY3RlZE1vbnRoLAogICAgLy8gICAgICAgTnVtYmVyKHRoaXMuZnJvbV9kYXRlLm9iamVjdC5zZWxlY3RlZERheSkgKyAxCiAgICAvLyAgICAgKTsKICAgIC8vICAgICB2YXIgdG9fb2JqZWN0ID0gbmV3IERhdGUoCiAgICAvLyAgICAgICB0aGlzLnRvX2RhdGUub2JqZWN0LnNlbGVjdGVkWWVhciwKICAgIC8vICAgICAgIHRoaXMudG9fZGF0ZS5vYmplY3Quc2VsZWN0ZWRNb250aCwKICAgIC8vICAgICAgIE51bWJlcih0aGlzLnRvX2RhdGUub2JqZWN0LnNlbGVjdGVkRGF5KSArIDEKICAgIC8vICAgICApOwogICAgLy8gICAgIGF4aW9zCiAgICAvLyAgICAgICAucG9zdChhcGlfY2FsbHMuZ2V0X3RpY2tldF9zdGF0dXNfdXJsKCksIHsKICAgIC8vICAgICAgICAgZnJvbV9kYXRlOiBmcm9tX29iamVjdCwKICAgIC8vICAgICAgICAgdG9fZGF0ZTogdG9fb2JqZWN0LAogICAgLy8gICAgICAgICBzdGF0dXM6IHRoaXMuc29ydF9zdGF0dXMsCiAgICAvLyAgICAgICAgIHNvcnQ6IHRydWUsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgLy8gICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgdXNlcl9yb2xlX2VtYWlsOiBudWxsCiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgICB0aGlzLnRpY2tldHNfbGlzdCA9IHJlc3BvbnNlLmRhdGEuVGlja2V0czsKICAgIC8vICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEubnVtYmVyX29mX3Jvd3M7CiAgICAvLyAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgLy8gICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGlja2V0c19saXN0KSB7CiAgICAvLyAgICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3RbaV0uc2hvcnRfZGVzY3JpcHRpb24gPSB0aGlzLnRpY2tldHNfbGlzdFsKICAgIC8vICAgICAgICAgICAgIGkKICAgIC8vICAgICAgICAgICBdLkRlc2NyaXB0aW9uWzBdLnNsaWNlKDAsIDEwKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAvLyAgICAgdGhpcy5kYXRlX2NvbmRpdGlvbigpID09IHRydWUgJiYKICAgIC8vICAgICB0aGlzLnNvcnRfc3RhdHVzID09ICIiICYmCiAgICAvLyAgICAgdGhpcy5zZWxlY3RlZF91c2VyID09ICIiCiAgICAvLyAgICkgewogICAgLy8gICAgIGNvbnNvbGUubG9nKCc3Jyk7CiAgICAvLyAgICAgdmFyIGZyb21fb2JqZWN0ID0gbmV3IERhdGUoCiAgICAvLyAgICAgICB0aGlzLmZyb21fZGF0ZS5vYmplY3Quc2VsZWN0ZWRZZWFyLAogICAgLy8gICAgICAgdGhpcy5mcm9tX2RhdGUub2JqZWN0LnNlbGVjdGVkTW9udGgsCiAgICAvLyAgICAgICBOdW1iZXIodGhpcy5mcm9tX2RhdGUub2JqZWN0LnNlbGVjdGVkRGF5KSArIDEKICAgIC8vICAgICApOwogICAgLy8gICAgIHZhciB0b19vYmplY3QgPSBuZXcgRGF0ZSgKICAgIC8vICAgICAgIHRoaXMudG9fZGF0ZS5vYmplY3Quc2VsZWN0ZWRZZWFyLAogICAgLy8gICAgICAgdGhpcy50b19kYXRlLm9iamVjdC5zZWxlY3RlZE1vbnRoLAogICAgLy8gICAgICAgTnVtYmVyKHRoaXMudG9fZGF0ZS5vYmplY3Quc2VsZWN0ZWREYXkpICsgMQogICAgLy8gICAgICk7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfdGlja2V0X3N0YXR1c191cmwoKSwgewogICAgLy8gICAgICAgICBmcm9tX2RhdGU6IGZyb21fb2JqZWN0LAogICAgLy8gICAgICAgICB0b19kYXRlOiB0b19vYmplY3QsCiAgICAvLyAgICAgICAgIHN0YXR1czogdGhpcy5zb3J0X3N0YXR1cywKICAgIC8vICAgICAgICAgc29ydDogdHJ1ZSwKICAgIC8vICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICB1c2VyX3JvbGVfZW1haWw6IHRoaXMuc2VsZWN0ZWRfdXNlcgogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3QgPSByZXNwb25zZS5kYXRhLlRpY2tldHM7CiAgICAvLyAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLm51bWJlcl9vZl9yb3dzOwogICAgLy8gICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgIC8vICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRpY2tldHNfbGlzdCkgewogICAgLy8gICAgICAgICAgIHRoaXMudGlja2V0c19saXN0W2ldLnNob3J0X2Rlc2NyaXB0aW9uID0gdGhpcy50aWNrZXRzX2xpc3RbCiAgICAvLyAgICAgICAgICAgICBpCiAgICAvLyAgICAgICAgICAgXS5EZXNjcmlwdGlvblswXS5zbGljZSgwLCAxMCk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9CiAgICAvLyB9LAoKCiAgICAvL2hhcnNoCiAgICB0aWNrZXRfc3RhdHVzKCl7CiAgICAgIHZhciBpc3NvcnQgPSBmYWxzZTsKICAgICAgdmFyIGlzc2VsZWN0ZWR1c2VyID0gbnVsbDsKICAgICAgdmFyIGlzc29ydHN0YXR1cyA9IG51bGw7CiAgICAgIHZhciBpc3RvX2RhdGUgPSBudWxsOwogICAgICB2YXIgaXNmcm9tX2RhdGUgPSBudWxsOwogICAgICBpZih0aGlzLmRhdGVfY29uZGl0aW9uKCkgPT0gdHJ1ZSAmJiB0aGlzLmZyb21fZGF0ZS5vYmplY3QhPW51bGwpewogICAgICAgIGlzc29ydCA9IHRydWU7CiAgICAgICAgaXNmcm9tX2RhdGUgPSBuZXcgRGF0ZSgKICAgICAgICAgIHRoaXMuZnJvbV9kYXRlLm9iamVjdC5zZWxlY3RlZFllYXIsCiAgICAgICAgICB0aGlzLmZyb21fZGF0ZS5vYmplY3Quc2VsZWN0ZWRNb250aCwKICAgICAgICAgIE51bWJlcih0aGlzLmZyb21fZGF0ZS5vYmplY3Quc2VsZWN0ZWREYXkpICsgMQogICAgICAgICk7CiAgICAgICAgaXN0b19kYXRlID0gbmV3IERhdGUoCiAgICAgICAgICB0aGlzLnRvX2RhdGUub2JqZWN0LnNlbGVjdGVkWWVhciwKICAgICAgICAgIHRoaXMudG9fZGF0ZS5vYmplY3Quc2VsZWN0ZWRNb250aCwKICAgICAgICAgIE51bWJlcih0aGlzLnRvX2RhdGUub2JqZWN0LnNlbGVjdGVkRGF5KSArIDEKICAgICAgICApOwogICAgICB9CiAgICAgIGlmKHRoaXMuc2VsZWN0ZWRfdXNlciE9IiIpewogICAgICAgIGlzc2VsZWN0ZWR1c2VyID0gdGhpcy5zZWxlY3RlZF91c2VyOwogICAgICB9CiAgICAgIGlmKHRoaXMuc29ydF9zdGF0dXMhPSIiKXsKICAgICAgICBpc3NvcnRzdGF0dXMgPSB0aGlzLnNvcnRfc3RhdHVzOwogICAgICB9CiAgICAgIGF4aW9zCiAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfdGlja2V0X3N0YXR1c191cmwoKSwgewogICAgICAgIGZyb21fZGF0ZTogaXNmcm9tX2RhdGUsCiAgICAgICAgdG9fZGF0ZTogaXN0b19kYXRlLAogICAgICAgIHN0YXR1czogaXNzb3J0c3RhdHVzLAogICAgICAgIHNvcnQ6IGlzc29ydCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHVzZXJfcm9sZV9lbWFpbDogaXNzZWxlY3RlZHVzZXIKICAgICAgfSwKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgIH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnRpY2tldHNfbGlzdCA9IHJlc3BvbnNlLmRhdGEuVGlja2V0czsKICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5udW1iZXJfb2Zfcm93czsKICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGlja2V0c19saXN0KSB7CiAgICAgICAgICB0aGlzLnRpY2tldHNfbGlzdFtpXS5zaG9ydF9kZXNjcmlwdGlvbiA9IHRoaXMudGlja2V0c19saXN0WwogICAgICAgICAgICBpCiAgICAgICAgICBdLkRlc2NyaXB0aW9uWzBdLnNsaWNlKDAsIDEwKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8KICAgIHNlbGVjdGVkX3RpY2tldHMoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09ICJhbGwiKSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRoaXMudGlja2V0c19saXN0OwogICAgICAgIH0gZWxzZSBpZiAoIWV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgbGV0IHZhbF9pbmRleCA9IHRoaXMuY2hlY2tlZF9saXN0LmluZGV4T2YodGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdKTsKICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdOwogICAgICAgICAgaWYgKHZhbF9pbmRleCA9PSAtMSkgewogICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRlbXApOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gZmFsc2UpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CiAgICAgICAgICBpZiAoc2VsZWN0YWxsLmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICBzZWxlY3RhbGwuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIodGlja2V0c19saXN0ID0+IHsKICAgICAgICAgICAgcmV0dXJuIHRpY2tldHNfbGlzdC50aWNrZXRzX2xpc3QgIT09IGluZGV4OwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdGlja2V0X3Byb2dyZXNzX2NoYW5nZWQoaW5kZXgpIHsKICAgICAgdmFyIHN0YXR1cyA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMudXBkYXRlX3RpY2tldF9zdGF0dXNfdXJsKCksIHsKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIHRpY2tldF9zdGF0dXM6IHN0YXR1cywKICAgICAgICAgIHRpY2tldF9udW1iZXI6IHRoaXMudGlja2V0c19saXN0W2luZGV4XS5OdW1iZXIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIlRpY2tldCBzdGF0dXMgdXBkYXRlZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgdGhpcy50aWNrZXRfc3RhdHVzID0gc3RhdHVzOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlX3NpbmdsZShpbmRleCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgdGlja2V0bGlzdCA9IFtdOwogICAgICB2YXIgaW1nbGlzdCA9IFtdOwogICAgICB0aWNrZXRsaXN0LnB1c2godGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLk51bWJlcik7CiAgICAgIGltZ2xpc3QucHVzaCh0aGlzLnRpY2tldHNfbGlzdFtpbmRleF0uRmlsZXVybCk7CiAgICAgIHRoaXMuZGVsZXRlX3RpY2tldF9hcGkodGlja2V0bGlzdCwgaW1nbGlzdCk7CiAgICB9LAogICAgZGVsZXRlX3NlbGVjdGVkKCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgdGlja2V0bGlzdCA9IFtdOwogICAgICB2YXIgaW1nbGlzdCA9IFtdOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuY2hlY2tlZF9saXN0KSB7CiAgICAgICAgdGlja2V0bGlzdC5wdXNoKHRoaXMuY2hlY2tlZF9saXN0W2ldLk51bWJlcik7CiAgICAgICAgaW1nbGlzdC5wdXNoKHRoaXMuY2hlY2tlZF9saXN0W2ldLkZpbGV1cmwpOwogICAgICB9CiAgICAgIHRoaXMuZGVsZXRlX3RpY2tldF9hcGkodGlja2V0bGlzdCwgaW1nbGlzdCk7CiAgICB9LAogICAgZGVsZXRlX3RpY2tldF9hcGkodGlja2V0bGlzdCwgaW1nbGlzdCkgewogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlISEiCiAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuZGVsZXRlX3RpY2tldF91cmwoKSwgewogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgdGlja2V0X251bWJlcjogdGlja2V0bGlzdCwKICAgICAgICAgICAgICBpbWFnZV91cmw6IGltZ2xpc3QKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIlRpY2tldCBkZWxldGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAgICAgICAgICAgICAgICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdGlja2V0X251bWJlcigpIHsKICAgICAgdmFyIHJhbmRvbV9udW0gPSBNYXRoLmZsb29yKDEwMDAwMDAgKyBNYXRoLnJhbmRvbSgpICogOTAwMDAwMCk7CiAgICAgIHZhciBjb21wYW55ID0gdGhpcy5jb21wYW55bmFtZS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpOwogICAgICByZXR1cm4gY29tcGFueSArICJfIiArIHJhbmRvbV9udW07CiAgICB9LAogICAgdGlja2V0X3N1Ym1pdCgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMuaXNzdWUgPT0gIiIgfHwgdGhpcy5pc3N1ZV9kZXNjcmlwdGlvbiA9PSAiIikgewogICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGRlc2NyaWJlIHRoZSBpc3N1ZSB5b3UgYXJlIGZhY2luZy4uLiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBpZiAoCiAgICAgICAgICAodGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmZpcnN0X25hbWUgIT0gbnVsbCAmJgogICAgICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGFzdF9uYW1lICE9IG51bGwpIHx8CiAgICAgICAgICB0aGlzLiRzZXNzaW9uLmhhcygiVXNlckZpcnN0TmFtZSIpCiAgICAgICAgKSB7CiAgICAgICAgICB2YXIgbmFtZTsKICAgICAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZmlyc3RfbmFtZSAhPSBudWxsKSB7CiAgICAgICAgICAgIG5hbWUgPQogICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5maXJzdF9uYW1lICsKICAgICAgICAgICAgICAiICIgKwogICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5sYXN0X25hbWU7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHNlc3Npb24uaGFzKCJVc2VyRmlyc3ROYW1lIikpIHsKICAgICAgICAgICAgbmFtZSA9CiAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJGaXJzdE5hbWUiKSArCiAgICAgICAgICAgICAgIiAiICsKICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckxhc3ROYW1lIik7CiAgICAgICAgICB9CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuYWRkX3RpY2tldF91cmwoKSwgewogICAgICAgICAgICAgIHVzZXJuYW1lOiBuYW1lLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICB1c2VyX3JvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICB0aWNrZXRfaXNzdWU6IHRoaXMuaXNzdWUsCiAgICAgICAgICAgICAgdGlja2V0X251bWJlcjoKICAgICAgICAgICAgICAgIHRoaXMuaXNFZGl0ID09IHRydWUKICAgICAgICAgICAgICAgICAgPyB0aGlzLnZhcl90aWNrZXRfbnVtYmVyCiAgICAgICAgICAgICAgICAgIDogdGhpcy50aWNrZXRfbnVtYmVyKCksCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuaXNzdWVfZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgZmlsZV9jb250ZW50OiB0aGlzLmltZ19maWxlLAogICAgICAgICAgICAgIGZpbGVfbmFtZToKICAgICAgICAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9PSAiQ2hvb3NlIGZpbGUiID8gbnVsbCA6IHRoaXMuZmlsZV9sYWJlbCwKICAgICAgICAgICAgICBpc0VkaXQ6IHRoaXMuaXNFZGl0CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciB0aWNrZXQgaGFzIGJlZW4gZWRpdGVkIHN1Y2Nlc3NmdWxseS4iKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNFZGl0KSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJZb3VyIHRpY2tldCBoYXMgYmVlbiBhZGRlZCBzdWNjZXNzZnVsbHkuIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyX2ZpZWxkcygpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgICAgICAkKCIjdGlja2V0bW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiRHVwbGljYXRlIGltYWdlIikgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKAogICAgICAgICAgICAgICAgICAiVGhlIGZpbGUgbmFtZSBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIHJlbmFtZSB5b3VyIGZpbGUuIgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICQoIiN0aWNrZXRtb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAgICAgICAgICAgICAgICJUaGVyZSBpcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgbGF0ZXIuIgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICQoIiN0aWNrZXRtb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJCgiI3RpY2tldG1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICQoIiNuYW1lX2VkaXQiKS5tb2RhbCgic2hvdyIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbGVpbnB1dChlKSB7CiAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICBpZiAodGhpcy5maWxlX2xhYmVsICE9ICJDaG9vc2UgZmlsZSIpIHsKICAgICAgICB0aGlzLm9sZF9maWxlX25hbWUgPSB0aGlzLmZpbGVfbGFiZWw7CiAgICAgICAgdGhpcy5pbWFnZV9lZGl0ID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuOwogICAgICB0aGlzLmZpbGVfbGFiZWwgPSBmaWxlc1swXS5uYW1lOwogICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsKICAgIH0sCiAgICBlZGl0X2ZpbGVpbnB1dChlKSB7CiAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICBpZiAodGhpcy5lZGl0X2ZpbGVfbGFiZWwgIT0gIkNob29zZSBmaWxlIikgewogICAgICAgIHRoaXMuZWRpdF9vbGRfZmlsZV9uYW1lID0gdGhpcy5lZGl0X2ZpbGVfbGFiZWw7CiAgICAgICAgYWxlcnQodGhpcy5lZGl0X29sZF9maWxlX25hbWUpOwogICAgICAgIHRoaXMuaW1hZ2VfZWRpdCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHJldHVybjsKICAgICAgdGhpcy5lZGl0X2ZpbGVfbGFiZWwgPSBmaWxlc1swXS5uYW1lOwogICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsKICAgIH0sCiAgICBjcmVhdGVJbWFnZShmaWxlLCB0eXBlKSB7CiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgdGhpcy5pbWdfZmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICAgIHRoaXMuZWRpdF9pbWdfZmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICBjbGVhcl9maWVsZHMoKSB7CiAgICAgIHRoaXMuaW1nX2ZpbGUgPSAiIjsKICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgdGhpcy5pc3N1ZSA9ICIiOwogICAgICB0aGlzLmlzc3VlX2Rlc2NyaXB0aW9uID0gIiI7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgIHRoaXMuaXNFZGl0ID0gZmFsc2U7CiAgICB9LAogICAgcGFnZV9yZXF1aXJlKHBhZ2UpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHBhZ2UgPT0gMCB8fCBwYWdlID09IHRoaXMudG90YWxfcGFnZXMgKyAxKSB7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2U7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfdGlja2V0X3N0YXR1c191cmwoKSwgewogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy50aWNrZXRzX2xpc3QgPSByZXNwb25zZS5kYXRhLlRpY2tldHM7CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50aWNrZXRzX2xpc3QpIHsKICAgICAgICAgICAgICB0aGlzLnRpY2tldHNfbGlzdFtpXS5zaG9ydF9kZXNjcmlwdGlvbiA9IHRoaXMudGlja2V0c19saXN0WwogICAgICAgICAgICAgICAgaQogICAgICAgICAgICAgIF0uRGVzY3JpcHRpb25bMF0uc2xpY2UoMCwgMTApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2luYXRpb25fY2xhc3MoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09IHRoaXMucGFnZV9ubykgewogICAgICAgIHJldHVybiAiIGFjdGl2ZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9CiAgfQp9Owo="},null]}