{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Apps/EducationBot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Apps/EducationBot.vue","mtime":1643027096148},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVkdWNhdGlvbkJvdCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIGZpbGVfbGFiZWw6ICJDaG9vc2UgZmlsZSIsCiAgICAgIGlzX2ZpbGVfdXBsb2FkZWQ6IGZhbHNlLAogICAgICBmaWxlOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpbGUoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdGhpcy5maWxlX2xhYmVsID0gZmlsZS5uYW1lOwogICAgICAvLyBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgaWYgKGZpbGUudHlwZSAhPSAiYXBwbGljYXRpb24vcGRmIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRleHQ6ICJPbmx5IFBERiBmaWxlcyBjYW4gYmUgdXBsb2FkZWQuIiwKICAgICAgICAgIHRpbWVyOiAzNTAwLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5maWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgdGhpcy5pc19maWxlX3VwbG9hZGVkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHVwbG9hZF9maWxlKCkgewogICAgICAvLyBsZXQgZmlsZW5hbWUgPSAiIjsKICAgICAgbGV0IGZpbGVkYXRhID0gIiI7CiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIGxldCBmaWxlbmFtZSA9IHRoaXMuZmlsZS5uYW1lOwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGUpOwogICAgICByZWFkZXIub25sb2Fkc3RhcnQgPSAoKSA9PiB7CiAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIH07CiAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgICBmaWxlZGF0YSA9IHJlYWRlci5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgfTsKICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIHZhciB1c2VyX2RldGFpbHMgPSB7CiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgfTsKICAgICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHVzZXJfZGV0YWlscyk7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsKICAgICAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICB9KTsKICAgICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZkLmFwcGVuZCgiZmlsZSIsIHRoaXMuZmlsZSwgZmlsZW5hbWUpOwogICAgICAgIGZkLmFwcGVuZCgianNvbiIsIGJsb2IpOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhmZCk7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5mYXFfcGRmX21ha2VyKCksIGZkKQogICAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgICBpZiAoZGF0YSA9PT0gImZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICJGaWxlIFByb2Nlc3NlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgIlBsZWFzZSBwcm9jZWVkIHRvIEludGVudHMgcGFnZSB1bmRlciBEYXRhIElucHV0cyBhbmQgY2xpY2sgb24gJ1RyYWluIE1vZGVsJyBhZnRlciB5b3UgYXJlIGRvbmUgd2l0aCB1cGxvYWRpbmcgYWxsIHRoZSBQREZzLiIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQuIFBsZWFzZSBUcnkgQWdhaW4iLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnJlc2V0X2ZpbGVfaW5wdXQoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQuIFBsZWFzZSBUcnkgQWdhaW4iLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLnJlc2V0X2ZpbGVfaW5wdXQoKTsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIHJlc2V0X2ZpbGVfaW5wdXQoKSB7CiAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgIHRoaXMuaXNfZmlsZV91cGxvYWRlZCA9IGZhbHNlOwogICAgICB0aGlzLmZpbGUgPSBudWxsOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRHcm91cEZpbGUwMSIpLnZhbHVlID0gIiI7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["EducationBot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EducationBot.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Apps","sourcesContent":["<template>\n  <div>\n    <div class=\"dash-cont\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          ></div>\n          <div class=\"card-body\">\n            <h5>Upload a PDF to get started</h5>\n            <div class=\"container\">\n              <div class=\"row\">\n                <div class=\"col-sm-12 pl-0\">\n                  <div class=\"col-sm-4 pl-0\">\n                    <form id=\"filedata\" @submit.prevent=\"upload_file\">\n                      <div>\n                        <!-- <input type=\"file\" name=\"pdf_uploaded\" id=\"pdf_uploaded\"> -->\n                        <input\n                          @change=\"getFile($event)\"\n                          accept=\".pdf\"\n                          type=\"file\"\n                          class=\"custom-file-input\"\n                          id=\"inputGroupFile01\"\n                        />\n                        <label\n                          class=\"custom-file-label\"\n                          for=\"inputGroupFile01\"\n                          placeholder=\"Choose File\"\n                          style=\"overflow: hidden; white-space: nowrap\"\n                          >{{ file_label }}</label\n                        >\n                      </div>\n                    </form>\n                    <div class=\"mt-2\">\n                      <button\n                        class=\"btn darkblue-btn\"\n                        type=\"submit\"\n                        v-show=\"is_file_uploaded\"\n                        @click=\"upload_file\"\n                      >\n                        Upload\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"EducationBot\",\n  data() {\n    return {\n      spinnerOn: false,\n      file_label: \"Choose file\",\n      is_file_uploaded: false,\n      file: null,\n    };\n  },\n  methods: {\n    getFile(e) {\n      e.preventDefault();\n      const file = e.target.files[0];\n      this.file_label = file.name;\n      // console.log(file);\n      if (file.type != \"application/pdf\") {\n        swal({\n          type: \"error\",\n          text: \"Only PDF files can be uploaded.\",\n          timer: 3500,\n        });\n        this.file_label = \"Choose file\";\n      } else {\n        this.file = e.target.files[0];\n        this.is_file_uploaded = true;\n      }\n    },\n    upload_file() {\n      // let filename = \"\";\n      let filedata = \"\";\n      const reader = new FileReader();\n      let filename = this.file.name;\n      reader.readAsDataURL(this.file);\n      reader.onloadstart = () => {\n        // this.$root.$emit('show_loader', true);\n        this.spinnerOn = true;\n      };\n      reader.onload = () => {\n        // this.$root.$emit('show_loader', true);\n        filedata = reader.result.split(\"base64,\")[1];\n      };\n      reader.onloadend = () => {\n        this.spinnerOn = false;\n        var user_details = {\n          email: this.$session.get(\"UserInformation\").email,\n          token: this.$session.get(\"UserInformation\").tokens,\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          company_id: this.$session.get(\"UserInformation\").company_id,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n        };\n        var json = JSON.stringify(user_details);\n        var blob = new Blob([json], {\n          type: \"application/json\",\n        });\n        const fd = new FormData();\n        fd.append(\"file\", this.file, filename);\n        fd.append(\"json\", blob);\n        this.spinnerOn = true;\n        // console.log(fd);\n        axios\n          .post(api_calls.faq_pdf_maker(), fd)\n          .then(({ data }) => {\n            console.log(data);\n            if (data === \"file uploaded successfully\") {\n              swal({\n                title: \"File Processed Successfully\",\n                type: \"success\",\n                text:\n                  \"Please proceed to Intents page under Data Inputs and click on 'Train Model' after you are done with uploading all the PDFs.\",\n              });\n            } else {\n              swal({\n                title: \"Some Error Occurred. Please Try Again\",\n                type: \"error\",\n              });\n            }\n            this.spinnerOn = false;\n            this.reset_file_input();\n          })\n          .catch((err) => {\n            this.spinnerOn = false;\n            swal({\n              title: \"Some Error Occurred. Please Try Again\",\n              type: \"error\",\n            });\n            this.reset_file_input();\n            console.log(err);\n          });\n      };\n    },\n    reset_file_input() {\n      this.file_label = \"Choose file\";\n      this.is_file_uploaded = false;\n      this.file = null;\n      this.spinnerOn = false;\n      document.getElementById(\"inputGroupFile01\").value = \"\";\n    },\n  },\n};\n</script>\n\n<style>\n</style>"]}]}