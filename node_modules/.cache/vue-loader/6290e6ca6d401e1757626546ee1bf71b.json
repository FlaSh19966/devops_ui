{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/analytics/components/Piechart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/analytics/components/Piechart.vue","mtime":1643027096188},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGQzID0gcmVxdWlyZSgiZDMiKTsKZXhwb3J0IGRlZmF1bHQgewogIG1vdW50ZWQgKCkgewogICAgY29uc29sZS5sb2coIkhpIik7CiAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgIGlmKE51bWJlci5pc05hTih0aGlzLmRhdGFbaV1bdGhpcy55S2V5XSkpIHsKICAgIC8vICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuc3BsaWNlKDAsdGhpcy5kYXRhW2ldKTsKICAgIC8vICAgfQogICAgLy8gfQogICAgLy8gY29uc29sZS5sb2codGhpcy5kYXRhKTsKICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNzdmciKTsKICAgIHZhciB3aWR0aCA9ICtzdmcuYXR0cigid2lkdGgiKTsKICAgIHZhciBoZWlnaHQgPSArNDAwOwogICAgdmFyIG1hcmdpbiA9IHsgdG9wOiAyMCwgbGVmdDogMCwgYm90dG9tOiAzMCwgcmlnaHQ6IDAgfTsKICAgIHZhciBjaGFydFdpZHRoID0gd2lkdGggLSAobWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpOwogICAgdmFyIGNoYXJ0SGVpZ2h0ID0gaGVpZ2h0IC0gKG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKTsKICAgIAogICAgLy8gY29uc29sZS5sb2coY2hhcnRIZWlnaHQgLyAyKQogICAgdGhpcy5jaGFydExheWVyID0gc3ZnCiAgICAgIC5hcHBlbmQoImciKQogICAgICAuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke21hcmdpbi5sZWZ0fSwgJHttYXJnaW4udG9wfSlgKQogICAgICAuc3R5bGUoInotaW5kZXgiLCItMTAwMCIgKTsKICAgIHRoaXMuYXJjID0gZDMKICAgICAgLmFyYygpCiAgICAgIC5vdXRlclJhZGl1cyhjaGFydEhlaWdodCAvIDIpCiAgICAgIC5pbm5lclJhZGl1cygwKQogICAgICAucGFkQW5nbGUoMC4wKQogICAgICAuY29ybmVyUmFkaXVzKDApCiAgICAvLyAgIC5zdGFydEFuZ2xlKCBmdW5jdGlvbiAoIGQgKSB7IHJldHVybiBpc05hTiggZC5zdGFydEFuZ2xlICkgPyAwIDogZC5zdGFydEFuZ2xlOyB9KQogICAgLy8gLmVuZEFuZ2xlKCBmdW5jdGlvbiAoIGQgKSB7IHJldHVybiBpc05hTiggZC5lbmRBbmdsZSApID8gMCA6IGQuZW5kQW5nbGU7IH0pOwogICAgdGhpcy5waWVHID0gdGhpcy5jaGFydExheWVyCiAgICAgIC5hcHBlbmQoImciKQogICAgICAuYXR0cigidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZSgke2NoYXJ0V2lkdGggLyA0fSwgJHtjaGFydEhlaWdodCAvIDJ9KWApOwoKCiAgICBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbGFiZWxOYW1lJyk7CiAgICB0aGlzLmRyYXdDaGFydCh0aGlzLmRhdGEsY2hhcnRIZWlnaHQpOwoKICB9LAogIHByb3BzOiB7CiAgICBkYXRhOiBBcnJheSwKICAgIHhLZXk6IFN0cmluZywKICAgIHlLZXk6IFN0cmluZywKICB9LAogIHdhdGNoOiB7CiAgICBkYXRhOiBmdW5jdGlvbihuZXdEYXRhKSB7CiAgICAgIHRoaXMuZHJhd0NoYXJ0KG5ld0RhdGEpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZHJhd0NoYXJ0OiBmdW5jdGlvbihkYXRhLEhlaWdodCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBjb25zdCBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpCiAgICAgIC8vIGNvbnN0IGNvbG9yID0gZDMuc2NhbGVRdWFudGl6ZSgpCiAgICAgICAuZG9tYWluKGRhdGEubWFwKGQgPT4gZFt2bS54S2V5XSkpCiAgICAgIC8vICAucmFuZ2UoZDMucXVhbnRpemUodCA9PiBkMy5pbnRlcnBvbGF0ZVNwZWN0cmFsICAodCAqIDAuOCArIDAuMSksIGRhdGEubGVuZ3RoKS5yZXZlcnNlKCkpOwogICAgICAvLyAgLnJhbmdlKGQzLnF1YW50aXplKHQgPT4gZDMuaW50ZXJwb2xhdGVTcGVjdHJhbCAgKHQgKiAwLjggKyAwLjEpLCBkYXRhLmxlbmd0aCkucmV2ZXJzZSgpKTsKICAgICAgICAgLnJhbmdlKFsiIzVkNjJiNSIsICIjMjljM2JlIiwgIiNmMTcyNmUiLCAiI2ZiYzUzZiIsICIjNjJiNThmIiwgIiNkMDc0M2MiLCIjY2EwMDIwIiwiI2Y0YTU4MiIsIiM5MmM1ZGUiLCIjMDU3MWIwIiwgIiNkM2ZlMTQiLCAiI2ZlYzdmOCIsICIjMGI3YjNlIiwgIiMwYmYwZTkiLCcjRTY2NkIzJywgJyMzMzk5MUEnLCAnI0NDOTk5OScsICcjQjNCMzFBJywgJyMwMEU2ODAnLAogICAgICAgICAgICAnI0ZGOUFBMicsICcjRkZCN0IyJywgJyNGRkRBQzEnLCAnI0I1RUFENycsICcjNjNkMmE4JywgIiMyMjVhNGIiLCAiI2U1ZGY3MyIsICcjNjY2NkZGJywnI2ZmMDAwMAknLCcjYTI3OThmJywnI2Q3YzZjZicsJyNlODg3NTgnLCcjYjEzYTE1JywnIzZkMzY1NicsJyNmZmZhOTAnLCcjYTRmZmFhJywnI2E2Y2JmZicsJyM4NTAwZjknLCcjYjA3N2JhJywnCSM3NjUyODQnLCcjOTg0YjY3JywnIzljNjI0ZScsJyNmZWI4ZmYnLCcjOWJlM2JkJywnIzc3NTkzNCcsJyMwMDgzODUnLCcjNmEyY2ExJywnI2U2MGU2OCcsJyNmZjZkMDEnLCcjZmVlOWQzJwogICAgICAgICAgICBdKTsKCiAgICAgIHZhciBhcmNzID0gZDMKICAgICAgICAucGllKCkKICAgICAgICAuc29ydChudWxsKQogICAgICAgIC52YWx1ZShmdW5jdGlvbihkKSB7CiAgICAgICAgICByZXR1cm4gZFt2bS55S2V5XTsKICAgICAgICB9KShkYXRhKTsKICAgICAgdmFyIGJsb2NrID0gdGhpcy5waWVHLnNlbGVjdEFsbCgiLmFyYyIpLmRhdGEoYXJjcyk7CiAgICAgIGJsb2NrLnNlbGVjdCgicGF0aCIpLmF0dHIoImQiLCB0aGlzLmFyYyk7CiAgICAgIHZhciBuZXdCbG9jayA9IGJsb2NrCiAgICAgICAgLmVudGVyKCkKICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAuYXR0cigiaWQiLCBmdW5jdGlvbihkLCBpKSB7CiAgICAgICAgICByZXR1cm4gIGk7CiAgICAgICAgfSkKICAgICAgICAuY2xhc3NlZCgiYXJjIiwgdHJ1ZSk7CiAgICAgICAgdmFyIGdldEFuZ2xlID0gZnVuY3Rpb24gKGQpIHsKICAgICAgICAgcmV0dXJuICgxODAgLyBNYXRoLlBJICogKGQuc3RhcnRBbmdsZSArIGQuZW5kQW5nbGUpIC8gMiAtIDkwKTsKICAgICAgICAgfTsKCiAgICAgIG5ld0Jsb2NrCiAgICAgICAgLmFwcGVuZCgicGF0aCIpCiAgICAgICAgLmF0dHIoImQiLCB0aGlzLmFyYykKICAgICAgICAuYXR0cigiaWQiLCBmdW5jdGlvbihkLCBpKSB7CiAgICAgICAgICByZXR1cm4gImFyYy0iICsgaTsKICAgICAgICB9KQogICAgICAgIC5hdHRyKCJmaWxsIiwgZCA9PiBjb2xvcihkLmRhdGFbdm0ueEtleV0pKQogICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAuZHVyYXRpb24oZnVuY3Rpb24oZCwgaSkgewogICAgICAgICAgICByZXR1cm4gaSAqIDEwMDsKICAgICAgICAgIH0pLmR1cmF0aW9uKDEyMDApCiAgICAgICAgLmF0dHJUd2VlbignZCcsIGZ1bmN0aW9uKGQpIHsKICAgICAgICB2YXIgaSA9IGQzLmludGVycG9sYXRlKGQuc3RhcnRBbmdsZSswLjEsIGQuZW5kQW5nbGUpOwogICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIGQuZW5kQW5nbGUgPSBpKHQpOwogICAgICAgICAgcmV0dXJuIHZtLmFyYyhkKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgIC8vIGQzLnNlbGVjdCgiI3N2ZyIpLnNlbGVjdEFsbCgidGV4dCIpLmRhdGEoZGF0YSkKICAgIC8vIC5lbnRlcigpCiAgICAvLyAuYXBwZW5kKCJ0ZXh0IikKICAgIC8vIC5hdHRyKCJ0ZXh0LWFuY2hvciIsICJtaWRkbGUiKQogICAgLy8gLmF0dHIoIngiLCBmdW5jdGlvbihkKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKGQuc3RhcnRBbmdsZSwgYXJjcyhkLnN0YXJ0QW5nbGUpKTsKICAgIC8vICAgICB2YXIgYSA9IGQuc3RhcnRBbmdsZSArIChkLmVuZEFuZ2xlIC0gZC5zdGFydEFuZ2xlKS8yIC0gTWF0aC5QSS8yOwogICAgLy8gICAgIGQuY3ggPSBNYXRoLmNvcyhhKSAqICgoSGVpZ2h0IC8gMikgLSA3NSk7CiAgICAvLyAgICAgcmV0dXJuIGQueCA9IE1hdGguY29zKGEpICogKChIZWlnaHQgLyAyKSAtIDIwKTsKICAgIC8vIH0pCiAgICAvLyAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHsKICAgIC8vICAgICB2YXIgYSA9IGQuc3RhcnRBbmdsZSArIChkLmVuZEFuZ2xlIC0gZC5zdGFydEFuZ2xlKS8yIC0gTWF0aC5QSS8yOwogICAgLy8gICAgIGQuY3kgPSBNYXRoLnNpbihhKSAqICgoSGVpZ2h0IC8gMikgLSA3NSk7CiAgICAvLyAgICAgcmV0dXJuIGQueSA9IE1hdGguc2luKGEpICogKChIZWlnaHQgLyAyKSAtIDIwKTsKICAgIC8vIH0pCiAgICAvLyAudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkW3ZtLnlLZXldOyB9KQogICAgLy8gLmVhY2goZnVuY3Rpb24oZCkgewogICAgLy8gICAgIHZhciBiYm94ID0gdGhpcy5nZXRCQm94KCk7CiAgICAvLyAgICAgZC5zeCA9IGQueCAtIGJib3gud2lkdGgvMiAtIDI7CiAgICAvLyAgICAgZC5veCA9IGQueCArIGJib3gud2lkdGgvMiArIDI7CiAgICAvLyAgICAgZC5zeSA9IGQub3kgPSBkLnkgKyA1OwogICAgLy8gfSk7CgogICAgLy8gdmFyIGxhYmVsID0gCiAgICAgdmFyIG91dGVyQXJjID0gZDMuYXJjKCkKICAgICAgICAgICAgICAgIC5vdXRlclJhZGl1cygoSGVpZ2h0LzIpICogMC45KQogICAgICAgICAgICAgICAgLmlubmVyUmFkaXVzKChIZWlnaHQvMikgKiAwLjkpOwogICAgICBkMy5zZWxlY3QoIiNzdmciKS5zZWxlY3QoJy5sYWJlbE5hbWUnKS5zZWxlY3RBbGwoJ3RleHQnKQogICAgICAuZGF0YShkYXRhKQogICAgLy8gbmV3QmxvY2sKICAgICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JykKICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJykKICAgICAgLmh0bWwoZnVuY3Rpb24oZCkgewogICAgICAgICAgLy8gYWRkICJrZXk6IHZhbHVlIiBmb3IgZ2l2ZW4gY2F0ZWdvcnkuIE51bWJlciBpbnNpZGUgdHNwYW4gaXMgYm9sZGVkIGluIHN0eWxlc2hlZXQuCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkKTsKICAgICAgICAgIHJldHVybiBkW3ZtLnhLZXldICsgJzogPHRzcGFuPicgKyAoZFt2bS55S2V5XSkgKyAnPC90c3Bhbj4nOwogICAgICB9KQogICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCkgewoKICAgICAgICAgIC8vIGVmZmVjdGl2ZWx5IGNvbXB1dGVzIHRoZSBjZW50cmUgb2YgdGhlIHNsaWNlLgogICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kMy9kMy1zaGFwZS9ibG9iL21hc3Rlci9SRUFETUUubWQjYXJjX2NlbnRyb2lkCiAgICAgICAgICB2YXIgcG9zID0gb3V0ZXJBcmMuY2VudHJvaWQoZCk7CiAgICAgICAgICAvLyBjaGFuZ2VzIHRoZSBwb2ludCB0byBiZSBvbiBsZWZ0IG9yIHJpZ2h0IGRlcGVuZGluZyBvbiB3aGVyZSBsYWJlbCBpcy4KICAgICAgICAgIGNvbnNvbGUubG9nKGQpOwogICAgICAgICAgcG9zWzBdID0gKEhlaWdodC8yKSAqIDAuOTUgKiAobWlkQW5nbGUoZCkgPCBNYXRoLlBJID8gMSA6IC0xKTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZtLmFyYy5jZW50cm9pZChkKSkKICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBwb3MgKyAnKSc7CiAgICAgIH0pCiAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAvLyBpZiBzbGljZSBjZW50cmUgaXMgb24gdGhlIGxlZnQsIGFuY2hvciB0ZXh0IHRvIHN0YXJ0LCBvdGhlcndpc2UgYW5jaG9yIHRvIGVuZAogICAgICAgICAgcmV0dXJuIChtaWRBbmdsZShkKSkgPCBNYXRoLlBJID8gJ3N0YXJ0JyA6ICdlbmQnOwogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIG1pZEFuZ2xlKGQpIHsgcmV0dXJuIGQuc3RhcnRBbmdsZSArIChkLmVuZEFuZ2xlIC0gZC5zdGFydEFuZ2xlKSAvIDI7IH0KCiAgICAgIHZhciB0b29sdGlwID0gCiAgICAgICAgZDMuc2VsZWN0KCIjY2hhcnQiKS5hcHBlbmQoImRpdiIpLmF0dHIoImNsYXNzIiwgInRvb2xUaXAiKQogICAgICBuZXdCbG9jay5vbigibW91c2VvdmVyIiwgZnVuY3Rpb24oZCkgewogICAgICAgICB2YXIgeCA9IGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdpZCcpOwogICAgICAgICAgIHRvb2x0aXAKICAgICAgICAgICAgICAuc3R5bGUoImxlZnQiLCBkMy5ldmVudC5wYWdlWCAtIDQwICsgInB4IikKICAgICAgICAgICAgICAuc3R5bGUoInRvcCIsIGQzLmV2ZW50LnBhZ2VZIC0gNzAgKyAicHgiKQogICAgICAgICAgICAgIC5zdHlsZSgiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQogICAgICAgICAgICAgIC5odG1sKCh2bS5kYXRhW3hdW3ZtLnhLZXldKSArICI8YnI+IiAgKyAodm0uZGF0YVt4XVt2bS55S2V5XSkudG9GaXhlZCgyKSk7CiAgICAgIH0pOwoKICAgICAgbmV3QmxvY2sub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CiAgICAgICAgdG9vbHRpcC5zdHlsZSgiZGlzcGxheSIsICJub25lIik7IC8vIGhpZGUgdG9vbHRpcCBmb3IgdGhhdCBlbGVtZW50CiAgICAgIH0pOwoKICAgICAgbmV3QmxvY2sub24oIm1vdXNlbW92ZSIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICB0b29sdGlwCiAgICAgICAgICAuc3R5bGUoInRvcCIsIGQzLmV2ZW50LmxheWVyWSArIDEwICsgInB4IikgCiAgICAgICAgICAuc3R5bGUoImxlZnQiLCBkMy5ldmVudC5sYXllclggKyAxMCArICJweCIpOyAKICAgICAgfSk7CgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAKICAgICAgCiAgICAgIGNvbnN0IGcgPSBkMy5zZWxlY3QoIiNjaGFydCIpCiAgICAgICAgICAgIC5hcHBlbmQoJ3N2ZycpOwogICAgICBjb25zdCBsID0gIGQzLnNlbGVjdCgiI3N2ZyIpLmFwcGVuZCgnZycpCiAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkLGkpewogICAgICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgyMCwiICsgKGkgKiAxNSArIDIwKSArICIpIjsgLy8gcGxhY2UgZWFjaCBsZWdlbmQgb24gdGhlIHJpZ2h0IGFuZCBidW1wIGVhY2ggb25lIGRvd24gMTUgcGl4ZWxzCiAgICAgICAgICB9KTsKICAgICAgY29uc3QgeGwgPSBkMy5zY2FsZUJhbmQoKQogICAgICAgIAkucmFuZ2UoWzAsIDUwMF0pCiAgICAgICAgCS5wYWRkaW5nKDEpCiAgICAgICAgCS5kb21haW4odGhpcy5kYXRhLm1hcChkID0+IGRbdm0ueEtleV0pKQogICAgICAgIDsKICAgICAgY29uc3QgbGVnZW5kID0gbC5zZWxlY3RBbGwoJy5jaGFydC1sZWdlbmQnKQogICAgICAgIAkuZGF0YShjb2xvci5kb21haW4oKSkKICAgICAgICAJLmVudGVyKCkKICAgICAgICAJLmFwcGVuZCgnZycpCiAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2hhcnQtbGVnZW5kJykKICAgICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmQnKQogICAgICAgICAgLmF0dHIoImR5IiwgMikKICAgICAgICAgIC5hdHRyKCJkeCIsIDIpCiAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IGB0cmFuc2xhdGUoNDAwLGAgKyAoaSAqIDE5ICsgMzApICtgKWApOwogICAgICAgICAgCiAgICAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JykKICAgICAgICAJLmF0dHIoJ3dpZHRoJywgMTMpCiAgICAgICAgCS5hdHRyKCdoZWlnaHQnLCAxMikKICAgICAgICAJLnN0eWxlKCdmaWxsJywgY29sb3IpCiAgICAgICAgOwogICAgICAgIAogICAgICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKQogICAgICAgIAkuYXR0cigneCcsIDIwKQogICAgICAgICAgLmF0dHIoJ3knLCAxMCkKICAgICAgICAgIC5zdHlsZSgnY29sb3InLCAiYmx1ZSIpCiAgICAgICAgICAudGV4dChkID0+IGQpCiAgICAgICAgOwoKICAgICAgfSwgOTAwKTsKICAgICAgICAKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Piechart.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"Piechart.vue","sourceRoot":"src/portal/analytics/components","sourcesContent":["<template>\n  <div id=\"chart\">\n  <svg width=\"700\" height=\"3000\" id=\"svg\" />\n  </div>\n</template>\n\n<script>\nconst d3 = require(\"d3\");\nexport default {\n  mounted () {\n    console.log(\"Hi\");\n    // for(let i = 0; i < this.data.length; i++) {\n    //   if(Number.isNaN(this.data[i][this.yKey])) {\n    //     this.data = this.data.splice(0,this.data[i]);\n    //   }\n    // }\n    // console.log(this.data);\n    var svg = d3.select(\"#svg\");\n    var width = +svg.attr(\"width\");\n    var height = +400;\n    var margin = { top: 20, left: 0, bottom: 30, right: 0 };\n    var chartWidth = width - (margin.left + margin.right);\n    var chartHeight = height - (margin.top + margin.bottom);\n    \n    // console.log(chartHeight / 2)\n    this.chartLayer = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\n      .style(\"z-index\",\"-1000\" );\n    this.arc = d3\n      .arc()\n      .outerRadius(chartHeight / 2)\n      .innerRadius(0)\n      .padAngle(0.0)\n      .cornerRadius(0)\n    //   .startAngle( function ( d ) { return isNaN( d.startAngle ) ? 0 : d.startAngle; })\n    // .endAngle( function ( d ) { return isNaN( d.endAngle ) ? 0 : d.endAngle; });\n    this.pieG = this.chartLayer\n      .append(\"g\")\n      .attr(\"transform\", `translate(${chartWidth / 4}, ${chartHeight / 2})`);\n\n\n    svg.append('g').attr('class', 'labelName');\n    this.drawChart(this.data,chartHeight);\n\n  },\n  props: {\n    data: Array,\n    xKey: String,\n    yKey: String,\n  },\n  watch: {\n    data: function(newData) {\n      this.drawChart(newData);\n    }\n  },\n  methods: {\n    drawChart: function(data,Height) {\n      var vm = this;\n      const color = d3.scaleOrdinal()\n      // const color = d3.scaleQuantize()\n       .domain(data.map(d => d[vm.xKey]))\n      //  .range(d3.quantize(t => d3.interpolateSpectral  (t * 0.8 + 0.1), data.length).reverse());\n      //  .range(d3.quantize(t => d3.interpolateSpectral  (t * 0.8 + 0.1), data.length).reverse());\n         .range([\"#5d62b5\", \"#29c3be\", \"#f1726e\", \"#fbc53f\", \"#62b58f\", \"#d0743c\",\"#ca0020\",\"#f4a582\",\"#92c5de\",\"#0571b0\", \"#d3fe14\", \"#fec7f8\", \"#0b7b3e\", \"#0bf0e9\",'#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680',\n            '#FF9AA2', '#FFB7B2', '#FFDAC1', '#B5EAD7', '#63d2a8', \"#225a4b\", \"#e5df73\", '#6666FF','#ff0000\t','#a2798f','#d7c6cf','#e88758','#b13a15','#6d3656','#fffa90','#a4ffaa','#a6cbff','#8500f9','#b077ba','\t#765284','#984b67','#9c624e','#feb8ff','#9be3bd','#775934','#008385','#6a2ca1','#e60e68','#ff6d01','#fee9d3'\n            ]);\n\n      var arcs = d3\n        .pie()\n        .sort(null)\n        .value(function(d) {\n          return d[vm.yKey];\n        })(data);\n      var block = this.pieG.selectAll(\".arc\").data(arcs);\n      block.select(\"path\").attr(\"d\", this.arc);\n      var newBlock = block\n        .enter()\n        .append(\"g\")\n        .attr(\"id\", function(d, i) {\n          return  i;\n        })\n        .classed(\"arc\", true);\n        var getAngle = function (d) {\n         return (180 / Math.PI * (d.startAngle + d.endAngle) / 2 - 90);\n         };\n\n      newBlock\n        .append(\"path\")\n        .attr(\"d\", this.arc)\n        .attr(\"id\", function(d, i) {\n          return \"arc-\" + i;\n        })\n        .attr(\"fill\", d => color(d.data[vm.xKey]))\n        .transition()\n        .duration(function(d, i) {\n            return i * 100;\n          }).duration(1200)\n        .attrTween('d', function(d) {\n        var i = d3.interpolate(d.startAngle+0.1, d.endAngle);\n        return function(t) {\n            d.endAngle = i(t);\n          return vm.arc(d);\n        }\n      });\n\n    // d3.select(\"#svg\").selectAll(\"text\").data(data)\n    // .enter()\n    // .append(\"text\")\n    // .attr(\"text-anchor\", \"middle\")\n    // .attr(\"x\", function(d) {\n    //   console.log(d.startAngle, arcs(d.startAngle));\n    //     var a = d.startAngle + (d.endAngle - d.startAngle)/2 - Math.PI/2;\n    //     d.cx = Math.cos(a) * ((Height / 2) - 75);\n    //     return d.x = Math.cos(a) * ((Height / 2) - 20);\n    // })\n    // .attr(\"y\", function(d) {\n    //     var a = d.startAngle + (d.endAngle - d.startAngle)/2 - Math.PI/2;\n    //     d.cy = Math.sin(a) * ((Height / 2) - 75);\n    //     return d.y = Math.sin(a) * ((Height / 2) - 20);\n    // })\n    // .text(function(d) { return d[vm.yKey]; })\n    // .each(function(d) {\n    //     var bbox = this.getBBox();\n    //     d.sx = d.x - bbox.width/2 - 2;\n    //     d.ox = d.x + bbox.width/2 + 2;\n    //     d.sy = d.oy = d.y + 5;\n    // });\n\n    // var label = \n     var outerArc = d3.arc()\n                .outerRadius((Height/2) * 0.9)\n                .innerRadius((Height/2) * 0.9);\n      d3.select(\"#svg\").select('.labelName').selectAll('text')\n      .data(data)\n    // newBlock\n      .enter().append('text')\n      .attr('dy', '.35em')\n      .html(function(d) {\n          // add \"key: value\" for given category. Number inside tspan is bolded in stylesheet.\n          // console.log(d);\n          return d[vm.xKey] + ': <tspan>' + (d[vm.yKey]) + '</tspan>';\n      })\n      .attr('transform', function(d) {\n\n          // effectively computes the centre of the slice.\n          // see https://github.com/d3/d3-shape/blob/master/README.md#arc_centroid\n          var pos = outerArc.centroid(d);\n          // changes the point to be on left or right depending on where label is.\n          console.log(d);\n          pos[0] = (Height/2) * 0.95 * (midAngle(d) < Math.PI ? 1 : -1);\n          // console.log(vm.arc.centroid(d))\n          return 'translate(' + pos + ')';\n      })\n      .style('text-anchor', function(d) {\n          // if slice centre is on the left, anchor text to start, otherwise anchor to end\n          return (midAngle(d)) < Math.PI ? 'start' : 'end';\n      });\n\n      function midAngle(d) { return d.startAngle + (d.endAngle - d.startAngle) / 2; }\n\n      var tooltip = \n        d3.select(\"#chart\").append(\"div\").attr(\"class\", \"toolTip\")\n      newBlock.on(\"mouseover\", function(d) {\n         var x = d3.select(this).attr('id');\n           tooltip\n              .style(\"left\", d3.event.pageX - 40 + \"px\")\n              .style(\"top\", d3.event.pageY - 70 + \"px\")\n              .style(\"display\", \"inline-block\")\n              .html((vm.data[x][vm.xKey]) + \"<br>\"  + (vm.data[x][vm.yKey]).toFixed(2));\n      });\n\n      newBlock.on(\"mouseout\", function() {\n        tooltip.style(\"display\", \"none\"); // hide tooltip for that element\n      });\n\n      newBlock.on(\"mousemove\", function(d) {\n        tooltip\n          .style(\"top\", d3.event.layerY + 10 + \"px\") \n          .style(\"left\", d3.event.layerX + 10 + \"px\"); \n      });\n\n      setTimeout(() => {\n        \n      \n      const g = d3.select(\"#chart\")\n            .append('svg');\n      const l =  d3.select(\"#svg\").append('g')\n            .attr(\"transform\", function(d,i){\n            return \"translate(20,\" + (i * 15 + 20) + \")\"; // place each legend on the right and bump each one down 15 pixels\n          });\n      const xl = d3.scaleBand()\n        \t.range([0, 500])\n        \t.padding(1)\n        \t.domain(this.data.map(d => d[vm.xKey]))\n        ;\n      const legend = l.selectAll('.chart-legend')\n        \t.data(color.domain())\n        \t.enter()\n        \t.append('g')\n          .attr('class', 'chart-legend')\n          .attr('id', 'legend')\n          .attr(\"dy\", 2)\n          .attr(\"dx\", 2)\n          .attr('transform', (d, i) => `translate(400,` + (i * 19 + 30) +`)`);\n          \n       legend.append('rect')\n        \t.attr('width', 13)\n        \t.attr('height', 12)\n        \t.style('fill', color)\n        ;\n        \n        legend.append('text')\n        \t.attr('x', 20)\n          .attr('y', 10)\n          .style('color', \"blue\")\n          .text(d => d)\n        ;\n\n      }, 900);\n        \n    }\n  }\n};\n</script>\n<style>\n/* .toolTip {\n  position: absolute;\n  display: none;\n  min-width: 80px;\n  height: auto;\n  background: none repeat scroll 0 0 #ffffff;\n  border: 1px solid #6F257F;\n  padding: 14px;\n  text-align: center;\n} */\n .chart-legend {\n    font-weight: 50 !important;\n    font-size: 15px;\n    font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";\n    }\n\n  \n</style>"]}]}