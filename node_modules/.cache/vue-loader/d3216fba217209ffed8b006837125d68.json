{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Settings/Miscellaneous.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Settings/Miscellaneous.vue","mtime":1643027096180},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IEpzb25FeGNlbCBmcm9tICJ2dWUtanNvbi1leGNlbCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CmltcG9ydCBWb2Vycm9UYWdzSW5wdXQgZnJvbSAiQHZvZXJyby92dWUtdGFnc2lucHV0IjsKaW1wb3J0ICJAdm9lcnJvL3Z1ZS10YWdzaW5wdXQvZGlzdC9zdHlsZS5jc3MiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBCaWxsaW5nIGZyb20gIi4uL0FjY291bnQvQmlsbGluZy52dWUiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBGZWVkYmFjayBmcm9tICIuL0ZlZWRiYWNrLnZ1ZSI7CmltcG9ydCBJbnRlZ3JhdGlvbkxheW91dCBmcm9tICIuLi9JbnRlZ3JhdGlvbnMvSW50ZWdyYXRpb25MYXlvdXQudnVlIjsKaW1wb3J0IHsgZnJlZXplX3BvcnRhbCxzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwgfSBmcm9tICJAL3BvcnRhbC9taXhpbnMiOwppbXBvcnQgVnVlUGhvbmVOdW1iZXJJbnB1dCBmcm9tICd2dWUtcGhvbmUtbnVtYmVyLWlucHV0JzsKaW1wb3J0ICd2dWUtcGhvbmUtbnVtYmVyLWlucHV0L2Rpc3QvdnVlLXBob25lLW51bWJlci1pbnB1dC5jc3MnOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKClZ1ZS5jb21wb25lbnQoImRvd25sb2FkRXhjZWwiLCBKc29uRXhjZWwpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1pc2NlbGxhbmVvdXNQYWdlIiwKICBtaXhpbnM6IFtmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWxdLAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0LAogICAgInRhZ3MtaW5wdXQiOiBWb2Vycm9UYWdzSW5wdXQsCiAgICBCaWxsaW5nLAogICAgRmVlZGJhY2ssCiAgICBJbnRlZ3JhdGlvbkxheW91dCwKICAgIFZ1ZVBob25lTnVtYmVySW5wdXQsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlld19jb21wb25lbnRfbmFtZTogIm90aGVycyIsCiAgICAgIC8vIHN0YXJ0X2dyZWV0aW5nczogIiIsCiAgICAgIC8vIGVuZF9ncmVldGluZ3M6ICIiLAogICAgICB0aXRsZTogIiIsCiAgICAgIGltYWdlX2ZpbGU6IG51bGwsCiAgICAgIGZpbGVfbGFiZWw6ICJDaG9vc2UgZmlsZSIsCiAgICAgIHNlbmRlcjogbnVsbCwKICAgICAgc3ViamVjdDogbnVsbCwKICAgICAgZW1haWxfYm9keTogbnVsbCwKICAgICAgY29tcGFueWlkOiBudWxsLAogICAgICBjb21wYW55bmFtZTogbnVsbCwKICAgICAgbXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdDogW10sCiAgICAgIHBob25lTnVtYmVyOiBudWxsLAogICAgICBjb250YWN0X3VzX3Bob25lX251bWJlcjogbnVsbCwKICAgICAgY29udGFjdF91c19lbWFpbDogIiIsCiAgICAgIGVtYWlsX3ZhbGlkaXR5OgogICAgICAgIC9eKFswLTlhLXpBLVpdKFstLlx3XSpbMC05YS16QS1aXSkqQChbMC05YS16QS1aXVstXHddKlswLTlhLXpBLVpdXC4pK1thLXpBLVpdezIsOX0pJC8sCiAgICAgIGlzX3JldGFpbDogZmFsc2UsCiAgICAgIG9sZF9pbWFnZV9uYW1lOiBudWxsLAogICAgICBzcGlubmVyT24xOiBmYWxzZSwKICAgICAgc3Bpbm5lck9uMjogZmFsc2UsCiAgICAgIGJpZ19zcGlubmVyOiBmYWxzZSwKICAgICAgdHJhaW5lZF9kaWFsb2d1ZV9tb2RlbHM6IG51bGwsCiAgICAgIHRyYWluZWRfaW50ZW50X21vZGVsczogbnVsbCwKICAgICAgY3VycmVudF9saWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICB0cmFpbmVkX25lcl9tb2RlbHM6IG51bGwsCiAgICAgIGRpc2FibGVfYnRuX2V4cGlyZWQ6ZmFsc2UsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQogICAgLy8gYXhpb3MKICAgIC8vICAgLnBvc3QoCiAgICAvLyAgICAgYXBpX2NhbGxzLnR3aWxpb19ncmVldGluZ3MoKSwKICAgIC8vICAgICB7CiAgICAvLyAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgaXNTaG93OiB0cnVlCiAgICAvLyAgICAgfSwKICAgIC8vICAgICB7CiAgICAvLyAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfQogICAgLy8gICApCiAgICAvLyAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICB0aGlzLnN0YXJ0X2dyZWV0aW5ncyA9IHJlc3BvbnNlLmRhdGEuZ3JlZXRpbmc7CiAgICAvLyAgICAgdGhpcy5lbmRfZ3JlZXRpbmdzID0gcmVzcG9uc2UuZGF0YS5idXN5OwogICAgLy8gICB9KQogICAgLy8gICAuY2F0Y2goZSA9PiB7CiAgICAvLyAgICAgaWYgKAogICAgLy8gICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICkgewogICAgLy8gICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0pOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHNlc3Npb24uc2V0KCJDdXJyZW50QWN0aXZlVGFiRm9ySGVscCIsIHRoaXMudmlld19jb21wb25lbnRfbmFtZSkKICAgIC8vY29uc29sZS5sb2codGhpcy52aWV3X2NvbXBvbmVudF9uYW1lLCJjb21wIG5hbWUiKTsKICAgICAgYnVzLiRvbigiQ3VycmVudEFjdGl2ZVRhYiIsIChkYXRhKSA9PiB7CiAgICAgICAgaWYoZGF0YSA9PT0gdGhpcy4kcm91dGUuZnVsbFBhdGgpIHsKICAgICAgICAgIC8vY29uc29sZS5sb2coIkhlbGxvIix0aGlzLiRyb3V0ZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lOwogICAgICAgICAgLy8gYnVzLiRlbWl0KCJDdXJycmVudEFjdGl2ZVRhYlJlc3BvbnNlIiwgdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lKQogICAgICAgIH0KICAgICAgfSk7CiAgICBpZih0aGlzLmlzX3JldGFpbCAhPSB0cnVlKXsKICAgICAgdGhpcy5sb2FkX3Byb2R1Y3Rfc2V0dGluZ3MoKTsKICAgIH0KICAgIGxldCBib3RfdGVtcGxhdGVzX2RhdGEgPSB0aGlzLiRzZXNzaW9uLmdldCgiQm90VGVtcGxhdGVzIik7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdF90ZW1wbGF0ZXNfZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBpZiAoCiAgICAgICAgYm90X3RlbXBsYXRlc19kYXRhW2ldLmRvbWFpbiA9PT0gIlJldGFpbCIgJiYKICAgICAgICBib3RfdGVtcGxhdGVzX2RhdGFbaV0uc3Vic2NyaWJlZCA9PT0gdHJ1ZQogICAgICApIHsKICAgICAgICB0aGlzLmlzX3JldGFpbCA9IHRydWU7CiAgICAgIH0KICAgIH0KICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgdGhpcy4kcm9vdC4kb24oIk1pc2NlbGxhbmVvdXNQYWdlRGlzYWJsZWQiLCAoZGF0YSkgPT4gewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLiRyb290LiRvbigiYWNjb3VudFBhZ2UiLCAoZGF0YSkgPT4gewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgICQoIiNhY2NvdW50cy10YWIiKS5jbGljaygpOwogICAgICAgIHRoaXMudmlld19jb21wb25lbnRfbmFtZSA9ICJhY2NvdW50cyI7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5pbml0aWFsaXplX3Rvb2x0aXBzKCk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgdGhpcy5nZXRfdHJhaW5lZF9kaWFsb2d1ZV9tb2RlbHMoKTsKICAgIHRoaXMuZ2V0X3RyYWluZWRfaW50ZW50X21vZGVscygpOwogICAgdGhpcy5nZXRfdHJhaW5lZF9uZXJfbW9kZWxzKCk7CiAgICB0aGlzLmdldF9jb21wYW55X2xvZ28oKTsKICAKICBpZiAodGhpcy4kcm91dGUucGFyYW1zLlN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkgewogICAgICAkKCIjYWNjb3VudHMtdGFiIikuY2xpY2soKTsKICAgICAgdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID0gImFjY291bnRzIjsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB2YWxpZEVtYWlsKCkgewogICAgICBpZiAodGhpcy5jb250YWN0X3VzX2VtYWlsICE9IG51bGwpIHsKICAgICAgICBpZiAodGhpcy5lbWFpbF92YWxpZGl0eS50ZXN0KHRoaXMuY29udGFjdF91c19lbWFpbCkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gIlBsZWFzZSBlbnRlciBhIHZhbGlkIEVtYWlsIEFkZHJlc3MiOwogICAgICAgIH0KICAgICAgfQogIH0KfSwKICB3YXRjaDogewogICAgdmlld19jb21wb25lbnRfbmFtZShuZXdWYWwpIHsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiQ3VycmVudEFjdGl2ZVRhYkZvckhlbHAiLCBuZXdWYWwpCiAgICAgIH0sCiAgICBib3RfYmFja2dyb3VuZF90eXBlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwgPT09ICJub25lIikgewogICAgICAgIHRoaXMuZmlsZV9sYWJlbF8zID0gIkNob29zZSBGaWxlIjsKICAgICAgICB0aGlzLmltYWdlX2ZpbGVfMyA9IG51bGw7CiAgICAgICAgdGhpcy5pc19iZ19pbWFnZV9jaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAvLyB0aGlzLm9sZF9pbWFnZV9uYW1lXzMgPSBudWxsOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEdyb3VwRmlsZTAzIikudmFsdWUgPSAiIjsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2VuZXJhdGVVVUlEKCkgewogICAgICAvLyBQdWJsaWMgRG9tYWluL01JVAogICAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAvL1RpbWVzdGFtcAogICAgICB2YXIgZDIgPQogICAgICAgIChwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgcGVyZm9ybWFuY2Uubm93KCkgKiAxMDAwKSB8fCAwOyAvL1RpbWUgaW4gbWljcm9zZWNvbmRzIHNpbmNlIHBhZ2UtbG9hZCBvciAwIGlmIHVuc3VwcG9ydGVkCiAgICAgIHJldHVybiAieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKAogICAgICAgIC9beHldL2csCiAgICAgICAgZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2OyAvL3JhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNgogICAgICAgICAgaWYgKGQgPiAwKSB7CiAgICAgICAgICAgIC8vVXNlIHRpbWVzdGFtcCB1bnRpbCBkZXBsZXRlZAogICAgICAgICAgICByID0gKGQgKyByKSAlIDE2IHwgMDsKICAgICAgICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vVXNlIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgaWYgc3VwcG9ydGVkCiAgICAgICAgICAgIHIgPSAoZDIgKyByKSAlIDE2IHwgMDsKICAgICAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyIC8gMTYpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIChjID09PSAieCIgPyByIDogKHIgJiAweDMpIHwgMHg4KS50b1N0cmluZygxNik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIHRyaW1fbW9kZWxfbmFtZSh2YWwxKSB7CiAgICAgIGlmICh2YWwxLmxlbmd0aCA+IDYpIHsKICAgICAgICBsZXQgc3RyMSA9IHZhbDEuc3Vic3RyaW5nKDAsIDMpICsgIi4uLiI7CiAgICAgICAgcmV0dXJuIHN0cjE7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbDE7CiAgICB9LAogICAgbG9hZF9wcm9kdWN0X3NldHRpbmdzKCkgewogICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgICAgIGlzX25vbl9yZXRhaWw6IHRydWUsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICByZXNwb25zZS5kYXRhICE9ICIiICYmCiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJgogICAgICAgICAgICByZXNwb25zZS5kYXRhICE9ICJJbnRlcm5hbCBzZXJ2ZXIgRXJyb3IiCiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy5jb250YWN0X3VzX2VtYWlsID0gcmVzcG9uc2UuZGF0YS5kZXRhaWxzLmNvbnRhY3RfaGVscF9lbWFpbDsKICAgICAgICAgICAgdGhpcy5jb250YWN0X3VzX3Bob25lX251bWJlciA9CiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5kZXRhaWxzLmNvbnRhY3RfdXNfcGhvbmVfbnVtYmVyOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlNvbWUgRXJyb3IgT2NjdXJyZWQuIik7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRfY29tcGFueV9sb2dvKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLnVwbG9hZF9jb21wYW55X2xvZ28oKSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGlzX2dldDogdHJ1ZSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSByZXNwb25zZS5kYXRhLmNvbXBhbnlfaW1hZ2VfdXJsCiAgICAgICAgICAgIC5zcGxpdCgiLyIpCiAgICAgICAgICAgIC5yZXZlcnNlKClbMF07CiAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSBkZWNvZGVVUkkodGhpcy5maWxlX2xhYmVsKTsKICAgICAgICAgIHRoaXMub2xkX2ltYWdlX25hbWUgPSB0aGlzLmZpbGVfbGFiZWw7CiAgICAgICAgICBpZiAodGhpcy5maWxlX2xhYmVsID09ICIiKSB7CiAgICAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dF9jb21wYW55X2ZpbGUiKS52YWx1ZSA9ICIiOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgdXBsb2FkX2NvbXBhbnlfbG9nb19maWxlKCkgewogICAgICBpZiAoCiAgICAgICAgdGhpcy5maWxlX2xhYmVsID09IHRoaXMub2xkX2ltYWdlX25hbWUgfHwKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRfY29tcGFueV9maWxlIikudmFsdWUgPT0gIiIKICAgICAgKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiAiUGxlYXNlIFNlbGVjdCBhIEZpbGUiLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLnVwbG9hZF9jb21wYW55X2xvZ28oKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgaW1hZ2VfbmFtZTogdGhpcy5maWxlX2xhYmVsLAogICAgICAgICAgICAgIGNvbXBhbnlfbG9nb19maWxlOiB0aGlzLmltYWdlX2ZpbGUsCiAgICAgICAgICAgICAgaXNfaW1hZ2VfZWRpdDoKICAgICAgICAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCAhPSB0aGlzLm9sZF9pbWFnZV9uYW1lID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgIG9sZF9pbWFnZV9uYW1lOgogICAgICAgICAgICAgICAgdGhpcy5vbGRfaW1hZ2VfbmFtZSA9PSAiQ2hvb3NlIEZpbGUiCiAgICAgICAgICAgICAgICAgID8gbnVsbAogICAgICAgICAgICAgICAgICA6IHRoaXMub2xkX2ltYWdlX25hbWUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmdldF9jb21wYW55X2xvZ28oKTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJEdXBsaWNhdGUgaW1hZ2UiKSB7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0X2NvbXBhbnlfZmlsZSIpLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgLy8gdG9hc3RyLmVycm9yKAogICAgICAgICAgICAgIC8vICAgIkltYWdlIGFscmVhZHkgZm91bmQuIFBsZWFzZSB1cGxvYWQgYW5vdGhlciBpbWFnZSBvciByZW5hbWUgaXQuIgogICAgICAgICAgICAgIC8vICk7CiAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OiAiSW1hZ2UgYWxyZWFkeSBmb3VuZC4gUGxlYXNlIHVwbG9hZCBhbm90aGVyIGltYWdlIG9yIHJlbmFtZSBpdC4iLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuTVNHID09ICJDb21wYW55IExvZ28gVXBsb2FkZWQgU3VjY2Vzc2Z1bGx5IgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6ICJDb21wYW55IExvZ28gaGF2ZSBiZWVuIFVwbG9hZGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRfY29tcGFueV9maWxlIikudmFsdWUgPSAiIjsKICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiAiU29tZSBFcnJvciBPY2N1cnJlZC4gUGxlYXNlIFRyeSBBZ2FpbiIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuZ2V0X2NvbXBhbnlfbG9nbygpOwogICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjb25maWd1cmVfcHJvZHVjdF9zZXR0aW5ncygpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMudmFsaWRFbWFpbCAhPSB0cnVlKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgRW1haWwgQWRkcmVzcyIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCFCb29sZWFuKHRoaXMucGhvbmVOdW1iZXIpKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgUGhvbmUgTnVtYmVyIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLnBob25lTnVtYmVyLmlzVmFsaWQgIT0gdHJ1ZSkgewogICAgICAgIHN3YWwoewogICAgICAgICAgdGV4dDogIlBsZWFzZSBlbnRlciBhIHZhbGlkIFBob25lIE51bWJlciIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMucHJvZHVjdF9zZXR0aW5ncygpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgaXNfZW1haWxfcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIGlzX25vbl9yZXRhaWw6IHRydWUsCiAgICAgICAgICAgIGVtYWlsX3JlcXVpcmVkOiB7CiAgICAgICAgICAgICAgY29udGFjdF9oZWxwX2VtYWlsOiB0aGlzLmNvbnRhY3RfdXNfZW1haWwsCiAgICAgICAgICAgICAgY29udGFjdF91c19waG9uZV9udW1iZXI6IHRoaXMucGhvbmVOdW1iZXIuZm9ybWF0dGVkTnVtYmVyLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgIHRleHQ6ICJZb3VyIGNoYW5nZXMgaGF2ZSBiZWVuIHNhdmVkIHN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRpbWVyOiA0MDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICB0aGlzLmxvYWRfcHJvZHVjdF9zZXR0aW5ncygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgIHRvYXN0ci5lcnJvcigiU29tZSBFcnJvciBPY2N1cnJlZC4iKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGJ1dHRvbl9jbGFzcyhpbmRleCkgewogICAgICBpZiAodGhpcy5tdWx0aXBsZV9sYW5ndWFnZV9saXN0Lmxlbmd0aCAhPSAwKSB7CiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFtpbmRleF0uRW5hYmxlZCA9PSB0cnVlKSB7CiAgICAgICAgICByZXR1cm4gImJ1dHRvbl9lbmFibGVkIjsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFtpbmRleF0uRW5hYmxlZCA9PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuICJidXR0b25fZGlzYWJsZWQiOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImJ1dHRvbl9kaXNhYmxlZCI7CiAgICAgIH0KICAgIH0sCiAgICBtdWx0aXBsZV9sYW5ndWFnZV9zdHlsZSgpIHt9LAogICAgbXVsdGlwbGVfbGFuZ3VhZ2VfYXBpKGxhbmd1YWdlLCBpbmRleCkgewogICAgICBsZXQgYnV0dG9uX2NsYXNzOwogICAgICBpZiAobGFuZ3VhZ2UgIT0gImFsbCIpIHsKICAgICAgICBidXR0b25fY2xhc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsYW5ndWFnZSArICJfYnV0dG9uIikuY2xhc3NMaXN0OwogICAgICAgIGlmIChidXR0b25fY2xhc3MuY29udGFpbnMoImJ1dHRvbl9kaXNhYmxlZCIpKSB7CiAgICAgICAgICBidXR0b25fY2xhc3MucmVtb3ZlKCJidXR0b25fZGlzYWJsZWQiKTsKICAgICAgICAgIGJ1dHRvbl9jbGFzcy5hZGQoImJ1dHRvbl9lbmFibGVkIik7CiAgICAgICAgICB0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3RbaW5kZXhdLkVuYWJsZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy5sYW5ndWFnZV9zdXBwb3J0X2FwaSgpOwogICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uX2NsYXNzLmNvbnRhaW5zKCJidXR0b25fZW5hYmxlZCIpKSB7CiAgICAgICAgICBidXR0b25fY2xhc3MucmVtb3ZlKCJidXR0b25fZW5hYmxlZCIpOwogICAgICAgICAgYnV0dG9uX2NsYXNzLmFkZCgiYnV0dG9uX2Rpc2FibGVkIik7CiAgICAgICAgICB0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3RbaW5kZXhdLkVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubGFuZ3VhZ2Vfc3VwcG9ydF9hcGkoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobGFuZ3VhZ2UgPT0gImFsbCIpIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIGRvY3VtZW50CiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiZW5nbGlzaF9idXR0b24iKQogICAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgiYnV0dG9uX2VuYWJsZWQiKTsKICAgICAgICAgIGRvY3VtZW50CiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiZW5nbGlzaF9idXR0b24iKQogICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgiYnV0dG9uX2Rpc2FibGVkIik7CiAgICAgICAgICBkb2N1bWVudAogICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImhpbmRpX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCJidXR0b25fZW5hYmxlZCIpOwogICAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJoaW5kaV9idXR0b24iKQogICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgiYnV0dG9uX2Rpc2FibGVkIik7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFswXS5FbmFibGVkICYmCiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFsxXS5FbmFibGVkCiAgICAgICAgICApIHsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5tdWx0aXBsZV9sYW5ndWFnZV9saXN0KSB7CiAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsZV9sYW5ndWFnZV9saXN0W2ldLkVuYWJsZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2Vfc3VwcG9ydF9hcGkoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJlbmdsaXNoX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKCJidXR0b25fZW5hYmxlZCIpOwogICAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJlbmdsaXNoX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCJidXR0b25fZGlzYWJsZWQiKTsKICAgICAgICAgIGRvY3VtZW50CiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiaGluZGlfYnV0dG9uIikKICAgICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoImJ1dHRvbl9lbmFibGVkIik7CiAgICAgICAgICBkb2N1bWVudAogICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImhpbmRpX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCJidXR0b25fZGlzYWJsZWQiKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgIXRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFswXS5FbmFibGVkICYmCiAgICAgICAgICAgICF0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3RbMV0uRW5hYmxlZAogICAgICAgICAgKSB7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdCkgewogICAgICAgICAgICAgIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFtpXS5FbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sYW5ndWFnZV9zdXBwb3J0X2FwaSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNlbGVjdF90cmFpbmVkX2RpYWxvZ3VlX21vZGVsKGluZGV4KSB7CiAgICAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgICAgIGxldCBjYWxsX2FwaSA9IHRydWU7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWluZWRfZGlhbG9ndWVfbW9kZWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAodGhpcy50cmFpbmVkX2RpYWxvZ3VlX21vZGVsc1tpbmRleF0uYWN0aXZlKSB7CiAgICAgICAgICAgIGNhbGxfYXBpID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoY2FsbF9hcGkpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgIkRvIHlvdSB3YW50IHRvIHNldCAiICsKICAgICAgICAgICAgICB0aGlzLmNvbXBhbnluYW1lICsKICAgICAgICAgICAgICAiIFYiICsKICAgICAgICAgICAgICAodGhpcy50cmFpbmVkX2RpYWxvZ3VlX21vZGVscy5sZW5ndGggLSBpbmRleCkgKwogICAgICAgICAgICAgICIgYXMgeW91ciBjdXJyZW50IHRyYWluZWQgbW9kZWwgPyIsCiAgICAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgICAgIC8vIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgLy8gICB0ZXh0OiAiUGxlYXNlIHdhaXQgd2hpbGUgd2Ugc3VibWl0IHlvdXIgcmVxdWVzdCIsCiAgICAgICAgICAgICAgLy8gICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAvLyAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICAvLyAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIC8vICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgICAgYXBpX2NhbGxzLnJldmVydF9tb2RlbHMoKSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfZGV0YWlsczogewogICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBtb2RlbF9maWxlOiB0aGlzLnRyYWluZWRfZGlhbG9ndWVfbW9kZWxzW2luZGV4XS5GaWxlTmFtZSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiTW9kZWwgVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0X3N1Y2Nlc3MpID0+IHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfc3VjY2Vzcy52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRfdHJhaW5lZF9kaWFsb2d1ZV9tb2RlbHMoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwodHJ1ZSk7CiAgICAgIH0KICAgIH0sICAKICAgIHNlbGVjdF90cmFpbmVkX2ludGVudF9tb2RlbChpbmRleCkgewogICAgICBpZighdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKXsKICAgICAgICBsZXQgY2FsbF9hcGkgPSB0cnVlOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFpbmVkX2ludGVudF9tb2RlbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmICh0aGlzLnRyYWluZWRfaW50ZW50X21vZGVsc1tpbmRleF0uYWN0aXZlKSB7CiAgICAgICAgICAgIGNhbGxfYXBpID0gZmFsc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoY2FsbF9hcGkpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgIkRvIHlvdSB3YW50IHRvIHNldCAiICsKICAgICAgICAgICAgICB0aGlzLmNvbXBhbnluYW1lICsKICAgICAgICAgICAgICAiIFYiICsKICAgICAgICAgICAgICAodGhpcy50cmFpbmVkX2ludGVudF9tb2RlbHMubGVuZ3RoIC0gaW5kZXgpICsKICAgICAgICAgICAgICAiIGFzIHlvdXIgY3VycmVudCB0cmFpbmVkIG1vZGVsID8iLAogICAgICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIENvbmZpcm0hIiwKICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgICAgICAgICAvLyBTd2FsLmZpcmUoewogICAgICAgICAgICAgIC8vICAgdGV4dDogIlBsZWFzZSB3YWl0IHdoaWxlIHdlIHN1Ym1pdCB5b3VyIHJlcXVlc3QiLAogICAgICAgICAgICAgIC8vICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgLy8gICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgICAgLy8gICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAvLyAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbW9kZWwoKSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICAgICAgRmlsZU5hbWU6IHRoaXMudHJhaW5lZF9pbnRlbnRfbW9kZWxzW2luZGV4XS5GaWxlTmFtZSwKICAgICAgICAgICAgICAgICAgICBpc0NoYW5nZU1vZGVsVmVyc2lvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRfdHJhaW5lZF9pbnRlbnRfbW9kZWxzKCk7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiTW9kZWwgVXBkYXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKHRydWUpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0X3RyYWluZWRfbmVyX21vZGVsKGluZGV4KSB7CiAgICAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgICAgIGxldCBjYWxsX2FwaSA9IHRydWU7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWluZWRfbmVyX21vZGVscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHRoaXMudHJhaW5lZF9uZXJfbW9kZWxzW2luZGV4XS5hY3RpdmUpIHsKICAgICAgICAgICAgY2FsbF9hcGkgPSBmYWxzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjYWxsX2FwaSkgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAiRG8geW91IHdhbnQgdG8gc2V0ICIgKwogICAgICAgICAgICAgIHRoaXMuY29tcGFueW5hbWUgKwogICAgICAgICAgICAgICIgViIgKwogICAgICAgICAgICAgICh0aGlzLnRyYWluZWRfbmVyX21vZGVscy5sZW5ndGggLSBpbmRleCkgKwogICAgICAgICAgICAgICIgYXMgeW91ciBjdXJyZW50IHRyYWluZWQgbW9kZWwgPyIsCiAgICAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgICAgIC8vIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgLy8gICB0ZXh0OiAiUGxlYXNlIHdhaXQgd2hpbGUgd2Ugc3VibWl0IHlvdXIgcmVxdWVzdCIsCiAgICAgICAgICAgICAgLy8gICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAvLyAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICAvLyAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIC8vICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgICAgYXBpX2NhbGxzLnJldmVydF9uZXJfbW9kZWxzKCksCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfZGV0YWlsczogewogICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBtb2RlbF9maWxlOiB0aGlzLnRyYWluZWRfbmVyX21vZGVsc1tpbmRleF0uRmlsZU5hbWUsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gIlJldmVydCBTdWNjZXNzZnVsIikgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIk1vZGVsIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdF9zdWNjZXNzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAocmVzdWx0X3N1Y2Nlc3MudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRfdHJhaW5lZF9uZXJfbW9kZWxzKCk7CiAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKHRydWUpOwogICAgICB9CiAgICB9LAogICAgZ2V0X3RyYWluZWRfZGlhbG9ndWVfbW9kZWxzKCkgewogICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy51c2VfbW9kZWwoKSwKICAgICAgICAgIHsKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnRyYWluZWRfZGlhbG9ndWVfbW9kZWxzID0gZGF0YS5tb2RlbHMubWFwKChtb2RlbCkgPT4gewogICAgICAgICAgICBtb2RlbC5jcmVhdGVkX2F0ID0gbW9tZW50CiAgICAgICAgICAgICAgLnVuaXgobW9kZWwuY3JlYXRlZF9hdCkKICAgICAgICAgICAgICAuZm9ybWF0KCJEbyBNTU0gWVkiKTsKICAgICAgICAgICAgcmV0dXJuIG1vZGVsOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0X3RyYWluZWRfbmVyX21vZGVscygpIHsKICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgKICAgICAgICAgIGFwaV9jYWxscy5yZXZlcnRfbmVyX21vZGVscygpLAogICAgICAgICAgewogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIHJldmVydF9jb21wYW55X2lkOgogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgcmV2ZXJ0X2NvbXBhbnlfbmFtZToKICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgaXNTaG93OiB0cnVlLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgIHRoaXMudHJhaW5lZF9uZXJfbW9kZWxzID0gZGF0YS5tb2RlbF9kYXRhLm1hcCgobW9kZWwpID0+IHsKICAgICAgICAgICAgbW9kZWwuY3JlYXRlZF9hdCA9IG1vbWVudCgKICAgICAgICAgICAgICBtb2RlbC5jcmVhdGVkX2F0LAogICAgICAgICAgICAgICJZWVlZTU1EREhIbW1zcyIKICAgICAgICAgICAgKS5mb3JtYXQoIkRvIE1NTSBZWSIpOwogICAgICAgICAgICByZXR1cm4gbW9kZWw7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRfdHJhaW5lZF9pbnRlbnRfbW9kZWxzKCkgewogICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbW9kZWwoKSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGlzR2V0TW9kZWxzOiB0cnVlLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgdGhpcy50cmFpbmVkX2ludGVudF9tb2RlbHMgPSBkYXRhLm1vZGVscy5tYXAoKG1vZGVsKSA9PiB7CiAgICAgICAgICAgIG1vZGVsLmNyZWF0ZWRfYXQgPSBtb21lbnQoCiAgICAgICAgICAgICAgbW9kZWwuY3JlYXRlZF9hdCwKICAgICAgICAgICAgICAiWVlZWU1NRERISG1tc3MiCiAgICAgICAgICAgICkuZm9ybWF0KCJEbyBNTU0gWVkiKTsKICAgICAgICAgICAgcmV0dXJuIG1vZGVsOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8gYWRkX21haWwoKSB7CiAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyAgIGF4aW9zCiAgICAvLyAgICAgLnBvc3QoCiAgICAvLyAgICAgICBhcGlfY2FsbHMubm90aWZ5X3N1cGVyYWRtaW5fdXJsKCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICBzZW5kdG86IHRoaXMuc2VuZGVyLAogICAgLy8gICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICBib2R5OiB0aGlzLmVtYWlsX2JvZHksCiAgICAvLyAgICAgICAgIHN1YmplY3Q6IHRoaXMuc3ViamVjdCwKICAgIC8vICAgICAgICAgYmluZGVtYWlsOiAiRmFsc2UiLAogICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucwogICAgLy8gICAgICAgfSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0KICAgIC8vICAgICApCiAgICAvLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICAgICAgdG9hc3RyLnN1Y2Nlc3MocmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goZSA9PiB7CiAgICAvLyAgICAgICBpZiAoCiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICApIHsKICAgIC8vICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgICBsYW5ndWFnZV9zdXBwb3J0X2FwaSgpIHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMubXVsdGlwbGVfbGFuZ3VhZ2Vfc3VwcG9ydF91cmwoKSwgewogICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIGxhbmd1YWdlX3N1cHBvcnQ6IHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdCwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGZpbGVpbnB1dChlKSB7CiAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICBpZiAoZmlsZXNbMF0uc2l6ZSA+IDIwOTcxNTIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRleHQ6ICJVcGxvYWQgY29tcGFueSBsb2dvIHdpdGggc2l6ZSBsZXNzIHRoYW4gMk1CIiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMTAwMDAsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvcG5nIiB8fCBmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvanBlZyIpIHsKICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuOwogICAgICAgIHRoaXMub2xkX2ltYWdlX25hbWUgPSB0aGlzLmZpbGVfbGFiZWw7CiAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gZmlsZXNbMF0ubmFtZTsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRleHQ6ICJQbGVhc2UgU2VsZWN0IGFuIEltYWdlIG9mIHR5cGUgUE5HIG9yIEpQRUciLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlSW1hZ2UoZmlsZSwgdHlwZSkgewogICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4gewogICAgICAgIHRoaXMuaW1hZ2VfZmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICBkb3dubG9hZF9zZGsoZGF0YV90eXBlKSB7CiAgICAgIGlmIChkYXRhX3R5cGUgPT0gImxpY2Vuc2Vfa2V5IikgewogICAgICAgIHRoaXMuc3Bpbm5lck9uMSA9IHRydWU7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICB1cmw6IGFwaV9jYWxscy5nZXRfbGljZW5zZV9rZXkoKSwKICAgICAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICB9LAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7CiAgICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGRhdGFfdHlwZSArICIudHh0Iik7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24xID0gZmFsc2U7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zcGlubmVyT24yID0gdHJ1ZTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIHVybDogYXBpX2NhbGxzLmZpbGVfZG93bmxvYWRfdXJsKCksCiAgICAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgZG93bmxvYWRfc2RrX3R5cGU6IGRhdGFfdHlwZSwKICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24yID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT0gIk5vdCBhYmxlIHRvIGRvd25sb2FkIGZpbGUiKSB7CiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKAogICAgICAgICAgICAgICAgIkR1ZSB0byBzb21lIGludGVybmFsIGVycm9yLCBub3QgYWJsZSB0byBkb3dubG9hZCB0aGUgZmlsZSIKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbcmVzcG9uc2UuZGF0YV0pKTsKICAgICAgICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgZGF0YV90eXBlICsgIl9TREsuemlwIik7CiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24yID0gZmFsc2U7CiAgICAgICAgICAgIHRvYXN0ci5lcnJvcigKICAgICAgICAgICAgICAiRHVlIHRvIHNvbWUgaW50ZXJuYWwgZXJyb3IsIG5vdCBhYmxlIHRvIGRvd25sb2FkIHRoZSBmaWxlIgogICAgICAgICAgICApOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY29weV93aWRnZXRfY29kZSgpIHsKICAgICAgdGhpcy4kcmVmcy53aWRnZXRfdGV4dGFyZWEuc2VsZWN0KCk7CiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7CiAgICAgICQoIiNjb3B5X2NvZGVfdG9vbHRpcCIpLnRvb2x0aXAoInNob3ciKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgJCgiI2NvcHlfY29kZV90b29sdGlwIikudG9vbHRpcCgiZGlzcG9zZSIpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgICB9LCA1MDAwKTsKICAgIH0sCiAgICBjb3B5X3V1aWRfY29kZSgpIHsKICAgICAgdGhpcy4kcmVmcy51dWlkX3RleHRhcmVhMS5zZWxlY3QoKTsKICAgICAgdGhpcy4kcmVmcy51dWlkX3RleHRhcmVhMi5zZWxlY3QoKTsKICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgJCgiI2NvcHlfY29kZV90b29sdGlwIikudG9vbHRpcCgiZGlzcG9zZSIpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgICB9LCA1MDAwKTsKICAgIH0sCiAgICBpbml0aWFsaXplX3Rvb2x0aXBzKCkgewogICAgICAkKCdbZGF0YS10b29sdGlwPSJ0b29sdGlwIl0nKS50b29sdGlwKHsKICAgICAgICB0cmlnZ2VyOiAibWFudWFsIiwKICAgICAgfSk7CiAgICB9LAogICAgY29weV9saWNlbnNlX2tleSgpIHsKICAgICAgdGhpcy4kcmVmcy5saWNlbnNlX2tleV90ZXh0YXJlYS5zZWxlY3QoKTsKICAgICAgdGhpcy4kcmVmcy5saWNlbnNlX2tleV90ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSgwLCA5OTk5OSk7CiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7CiAgICAgICQoIiNjb3B5X2xpY25zZV9rZXlfdG9vbHRpcCIpLnRvb2x0aXAoInNob3ciKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgJCgiI2NvcHlfbGljbnNlX2tleV90b29sdGlwIikudG9vbHRpcCgiZGlzcG9zZSIpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgICB9LCA1MDAwKTsKICAgIH0sCiAgICBlbXB0eV92YXJpYWJsZSgpIHt9LAogIH0sCn07Cg=="},{"version":3,"sources":["Miscellaneous.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Miscellaneous.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Settings","sourcesContent":["<template>\n  <div class=\"dash-cont\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"big_spinner\"></div>\n    <div class=\"container-fluid\">\n      <div class=\"card dash-card\">\n        <div\n          class=\"\n            card-header\n            d-block d-sm-flex\n            flex-wrap\n            justify-content-between\n          \"\n        ></div>\n        <div class=\"card-body\" style=\"margin-top: -2%\">\n          <ul class=\"nav nav-tabs mb-3\" id=\"myTab\" role=\"tablist\">\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4 active\"\n                id=\"others-tab\"\n                data-toggle=\"tab\"\n                href=\"#others\"\n                role=\"tab\"\n                aria-controls=\"others\"\n                aria-selected=\"true\"\n                @click=\"view_component_name = 'others'\"\n                >General</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"integrations-tab\"\n                data-toggle=\"tab\"\n                href=\"#integrations\"\n                role=\"tab\"\n                aria-controls=\"integrations\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'integrations'\"\n                >Integrations</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"models-tab\"\n                data-toggle=\"tab\"\n                href=\"#models\"\n                role=\"tab\"\n                aria-controls=\"models\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'models'\"\n                >Models</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"accounts-tab\"\n                data-toggle=\"tab\"\n                href=\"#accounts\"\n                role=\"tab\"\n                aria-controls=\"accounts\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'accounts'\"\n                >Accounts</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"suggestions-tab\"\n                data-toggle=\"tab\"\n                href=\"#suggestions\"\n                role=\"tab\"\n                aria-controls=\"suggestions\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'suggestions'\"\n                >Suggestions</a\n              >\n            </li>\n          </ul>\n          <div class=\"tab-content\" id=\"myTabContent\">\n            <div\n              class=\"tab-pane fade\"\n              id=\"accounts\"\n              role=\"tabpanel\"\n              aria-labelledby=\"accounts-tab\"\n            >\n              <template v-if=\"view_component_name === 'accounts'\">\n                <billing />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"suggestions\"\n              role=\"tabpanel\"\n              aria-labelledby=\"suggestions-tab\"\n            >\n              <template v-if=\"view_component_name === 'suggestions'\">\n                <feedback />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"integrations\"\n              role=\"tabpanel\"\n              aria-labelledby=\"integrations-tab\"\n            >\n              <template v-if=\"view_component_name === 'integrations'\">\n                <integration-layout />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade active show\"\n              id=\"others\"\n              role=\"tabpanel\"\n              aria-labelledby=\"others-tab\"\n            >\n              <div class=\"col-sm-12 d-flex mt-5\">\n                <div\n                  class=\"col-sm-6\"\n                  style=\"\n                    border-right: 1px solid rgb(234, 234, 234);\n                    margin-bottom: 1rem;\n                  \"\n                >\n                  <div style=\"width: auto\">\n                    <h5 class=\"mb-sm-0\" style=\"display: inline\">\n                      License Key\n                      <i\n                        class=\"far fa-copy\"\n                        style=\"cursor: pointer\"\n                        id=\"copy_licnse_key_tooltip\"\n                        data-toggle=\"tooltip\"\n                        data-placement=\"top\"\n                        title=\"Copied to clipboard!\"\n                        @click=\"copy_license_key\"\n                      ></i>\n                    </h5>\n                    <!-- <a\n                      href=\"#\"\n                      style=\"font-size: 16px; margin-left: 5%\"\n                      @click=\"download_sdk('license_key')\"\n                      >Download Here</a\n                    >\n                    <i class=\"fa fa-spinner fa-spin\" v-show=\"spinnerOn1\"></i> -->\n                  </div>\n                  <textarea\n                    class=\"form-control\"\n                    ref=\"license_key_textarea\"\n                    name=\"license_key\"\n                    id=\"license_key\"\n                    v-model=\"current_license_key\"\n                    readonly\n                    style=\"width: 100%; padding: 10px 15px\"\n                    rows=\"3\"\n                  ></textarea>\n                  <!-- <div contenteditable=\"true\">{{current_license_key}} </div> -->\n                </div>\n                <div class=\"col-sm-6\">\n                  <h5 class=\"mb-sm-0\">\n                    Download Bot SDKs\n                    <i class=\"fa fa-spinner fa-spin\" v-show=\"spinnerOn2\"></i>\n                  </h5>\n                  <a\n                    id=\"download_sdk_android\"\n                    href=\"#\"\n                    style=\"margin-top: 2%; margin-left: 3%\"\n                    class=\"darkblue-btn1\"\n                    @click=\"download_sdk('Android')\"\n                  >\n                    <svg\n                      style=\"fill: #fff\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path d=\"M0 0h24v24H0z\" fill=\"#273679\" />\n                      <path\n                        d=\"M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z\"\n                      />\n                    </svg>\n                    <span style=\"margin-left: 3%\">Android</span>\n                  </a>\n                  <a\n                    href=\"#\"\n                    class=\"darkblue-btn1\"\n                    @click=\"download_sdk('Ios')\"\n                    id=\"download_sdk_IOS\"\n                  >\n                    <svg\n                      style=\"fill: #fff; margin-left: -10px; margin-top: -1px\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 170 170\"\n                      width=\"24\"\n                      version=\"1.1\"\n                      height=\"24\"\n                    >\n                      <path d=\"M0 0h24v24H0z\" fill=\"#273679\" />\n                      <path\n                        d=\"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z\"\n                      />\n                    </svg>\n                    <span style=\"margin-left: 3%\">iOS</span>\n                  </a>\n\n                  <a\n                    href=\"https://cense.ai/documentation/docs_web\"\n                    class=\"darkblue-btn1\"\n                    id=\"download_sdk_web\"\n                    target=\"_blank\"\n                  >\n                    <svg\n                      style=\"fill: #fff; margin-left: -10px; margin-top: -1px\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"24\"\n                      height=\"24\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path d=\"M0 0h24v24H0z\" fill=\"#273679\" />\n                      <path\n                        d=\"M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10z\"\n                      />\n                    </svg>\n                    <span style=\"margin-left: 4%\">Web</span>\n                  </a>\n                </div>\n              </div>\n              <hr />\n              <div class=\"col-sm-12 d-flex\">\n                <div class=\"form-group col-sm-6\">\n                  <label\n                    style=\"\n                      margin-top: 1rem;\n                      font-size: 1.21rem;\n                      font-weight: 500;\n                      font-family: 'Fira Sans', sans-serif;\n                    \"\n                    >Upload Company Logo</label\n                  >\n                  <label class=\"form-text text-muted\">\n                    (Preferred size 250px x 250px)</label\n                  >\n                  <div class=\"custom-file\">\n                    <input\n                      type=\"file\"\n                      class=\"custom-file-input\"\n                      @change=\"fileinput\"\n                      id=\"input_company_file\"\n                    />\n                    <label\n                      style=\"\n                        font-weight: 400;\n                        padding-left: 15px;\n                        overflow: hidden;\n                        white-space: nowrap;\n                        line-height: 10px;\n                        width: 97%;\n                      \"\n                      class=\"custom-file-label form-control\"\n                      for=\"file\"\n                      >{{ file_label }}</label\n                    >\n                  </div>\n                  <div class=\"card-act btn-wrap mt-3 pt-3 pb-3\">\n                    <button\n                      class=\"darkblue-btn\"\n                      @click=\"upload_company_logo_file\"\n                    >\n                      Upload Logo\n                    </button>\n                  </div>\n                </div>\n                <div\n                  class=\"form-group contact-info col-sm-6\"\n                  v-show=\"!is_retail\"\n                >\n                  <label\n                    class=\"mb-sm-6 mt-4\"\n                    style=\"\n                      margin-top: 1.1rem !important;\n                      font-family: 'Fira Sans', sans-serif;\n                      font-size: 1.2rem;\n                      font-weight: 500;\n                    \"\n                    ><strong style=\"font-weight: 500\"\n                      >Contact Us Email</strong\n                    > </label\n                  ><br />\n                  <label> (Enter email-id where customers can reachout) </label>\n                  <input\n                    v-model.trim=\"contact_us_email\"\n                    type=\"email\"\n                    class=\"form-control\"\n                    placeholder=\"Enter the email-id\"\n                    style=\"padding: 5px\"\n                    required\n                  />\n                  <div\n                    class=\"is-invalid\"\n                    style=\"color: red; padding-top: 5px\"\n                    v-if=\"validEmail != true && contact_us_email != ''\"\n                  >\n                    {{ validEmail }}\n                  </div>\n                  <hr style=\"\" />\n                  <label\n                    class=\"mb-sm-6 mt-4\"\n                    style=\"\n                      margin-top: 0.3rem !important;\n                      font-family: 'Fira Sans', sans-serif;\n                      font-size: 1.2rem;\n                      font-weight: 500;\n                    \"\n                    ><strong style=\"font-weight: 500\"\n                      >Contact Us Phone Number</strong\n                    > </label\n                  ><br />\n                  <label>\n                    (Enter phone number where customers can reachout)\n                  </label>\n                  <vue-phone-number-input\n                    style=\"margin-bottom: 1.1rem\"\n                    v-model=\"contact_us_phone_number\"\n                    :no-use-browser-locale=\"true\"\n                    @update=\"phoneNumber = $event\"\n                  >\n                  </vue-phone-number-input>\n                  <hr />\n                  <div\n                    class=\"card-act btn-wrap mt-2 pt-0 pb-3 border-top-0\"\n                    style=\"margin-bottom: 0.4rem\"\n                  >\n                    <button\n                      type=\"submit\"\n                      style=\"display: text-center !important\"\n                      class=\"darkblue-btn\"\n                      @click=\"configure_product_settings\"\n                    >\n                      Save\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div\n              class=\"tab-pane fade\"\n              id=\"models\"\n              role=\"tabpanel\"\n              aria-labelledby=\"models-tab\"\n            >\n              <div\n                id=\"trained_intent_models_radio\"\n                class=\"col-sm-12 d-flex mt-4\"\n                style=\"padding-left: 0px\"\n              >\n                <div\n                  class=\"col-sm-4\"\n                  style=\"\n                    border-right: 1px solid rgb(234, 234, 234);\n                    padding-left: 0px;\n                  \"\n                >\n                  <div style=\"width: auto\">\n                    <h5 class=\"mb-sm-0 text-center\" style=\"\">\n                      Trained Intent Models\n                    </h5> \n                    <div class=\"table-box text-center\">\n                      <div\n                        class=\"table-responsive\"\n                        v-if=\"\n                          Boolean(trained_intent_models) &&\n                          trained_intent_models.length > 0\n                        \"\n                      >\n                        <table\n                          class=\"table\"\n                          style=\"border: 1px solid #dbe2e8; margin-top: 1%\"\n                        >\n                          <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\" style=\"text-align: left\">\n                              Model Name\n                            </th>\n                            <th scope=\"col\" style=\"text-align: left\">\n                              Trained On\n                            </th>\n                            <th scope=\"col\" style=\"text-align: center\">\n                              In Use\n                            </th>\n                            <!-- <th\n                            scope=\"col\"\n                            style=\"text-align: center; width: 14%\"\n                          >\n                            Use\n                          </th> -->\n                          </tr>\n                          <tr\n                            v-for=\"(model, index) in trained_intent_models\"\n                            :key=\"index\"\n                          >\n                            <td>{{ index + 1 }}</td>\n                            <td\n                              :title=\"\n                                companyname +\n                                ' V' +\n                                (trained_intent_models.length - index)\n                              \"\n                              style=\"text-align: left; cursor: pointer\"\n                            >\n                              <!-- {{ companyname }} V{{\n                                trained_intent_models.length - index\n                              }} -->\n                              {{ trim_model_name(companyname) }}V{{\n                                trained_intent_models.length - index\n                              }}\n                            </td>\n                            <td style=\"text-align: left\">\n                              {{ model.created_at }}\n                            </td>\n                            <td class=\"text-center\">\n                              <div\n                                class=\"radio\"\n                                @click=\"select_trained_intent_model(index)\"\n                              >\n                                <label style=\"vertical-align: text-top\">\n                                  <input\n                                    type=\"radio\"\n                                    :checked=\"model.active\"\n                                    :name=\"index + 'intent'\"\n                                    disabled\n                                  />\n                                  <span class=\"icn\" id=\"radio_intent\"></span>\n                                </label>\n                              </div>\n                            </td>\n                            <!-- <td>\n                            <button\n                              :disabled=\"model.active\"\n                              class=\"darkblue-btn\"\n                              @click=\"select_trained_intent_model(index)\"\n                            >\n                              Use\n                            </button>\n                          </td> -->\n                          </tr>\n                        </table>\n                      </div>\n                      <h6\n                        v-else-if=\"\n                          Boolean(trained_intent_models) &&\n                          trained_intent_models.length === 0\n                        \"\n                      >\n                        There are no trained intent models available\n                      </h6>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"col-sm-4\"\n                  style=\"border-right: 1px solid rgb(234, 234, 234)\"\n                >\n                  <div style=\"width: auto\">\n                    <h5 class=\"mb-sm-0 text-center\" style=\"\">\n                      Trained Dialogue Models\n                    </h5>\n                    <div class=\"table-box\">\n                      <div\n                        class=\"table-responsive\"\n                        v-if=\"\n                          Boolean(trained_dialogue_models) &&\n                          trained_dialogue_models.length > 0\n                        \"\n                      >\n                        <table\n                          class=\"table\"\n                          style=\"border: 1px solid #dbe2e8; margin-top: 1%\"\n                        >\n                          <tr>\n                            <th scope=\"col\" style=\"text-align: left\">#</th>\n                            <th scope=\"col\" style=\"text-align: left\">\n                              Model Name\n                            </th>\n                            <th scope=\"col\" style=\"text-align: left\">\n                              Trained On\n                            </th>\n                            <th scope=\"col\" style=\"text-align: center\">\n                              In Use\n                            </th>\n                            <!-- <th\n                            scope=\"col\"\n                            style=\"text-align: center; width: 14%\"\n                          >\n                            Use\n                          </th> -->\n                          </tr>\n                          <tr\n                            v-for=\"(model, index) in trained_dialogue_models\"\n                            :key=\"index\"\n                          >\n                            <td>{{ index + 1 }}</td>\n                            <td\n                              :title=\"\n                                companyname +\n                                ' V' +\n                                (trained_dialogue_models.length - index)\n                              \"\n                              style=\"cursor: pointer\"\n                            >\n                              {{ trim_model_name(companyname) }}V{{\n                                trained_dialogue_models.length - index\n                              }}\n                            </td>\n                            <td>{{ model.created_at }}</td>\n                            <td class=\"text-center\">\n                              <div\n                                class=\"radio\"\n                                @click=\"select_trained_dialogue_model(index)\"\n                              >\n                                <label style=\"vertical-align: text-top\">\n                                  <input\n                                    type=\"radio\"\n                                    :checked=\"model.active\"\n                                    :name=\"index + 'dialogue'\"\n                                    disabled\n                                  />\n                                  <span\n                                    class=\"icn\"\n                                    :id=\"index + 'radio'\"\n                                  ></span>\n                                </label>\n                              </div>\n                            </td>\n                            <!-- <td>\n                            <button\n                              :disabled=\"model.active\"\n                              class=\"darkblue-btn\"\n                              @click=\"select_trained_dialogue_model(index)\"\n                            >\n                              Use\n                            </button>\n                          </td> -->\n                          </tr>\n                        </table>\n                      </div>\n                      <h6\n                        v-else-if=\"\n                          Boolean(trained_dialogue_models) &&\n                          trained_dialogue_models.length === 0\n                        \"\n                      >\n                        There are no trained dialogue models available\n                      </h6>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-sm-4\">\n                  <div style=\"width: auto\">\n                    <h5 class=\"mb-sm-0 text-center\" style=\"\">\n                      Trained NER Models\n                    </h5>\n                    <div class=\"table-box\">\n                      <div\n                        class=\"table-responsive\"\n                        v-if=\"\n                          Boolean(trained_ner_models) &&\n                          trained_ner_models.length > 0\n                        \"\n                      >\n                        <table\n                          class=\"table\"\n                          style=\"border: 1px solid #dbe2e8; margin-top: 1%\"\n                        >\n                          <tr>\n                            <th scope=\"col\" style=\"text-align: left\">#</th>\n                            <th scope=\"col\" style=\"text-align: left\">\n                              Model Name\n                            </th>\n                            <th scope=\"col\" style=\"text-align: left\">\n                              Trained On\n                            </th>\n                            <th scope=\"col\" style=\"text-align: center\">\n                              In Use\n                            </th>\n                            <!-- <th\n                            scope=\"col\"\n                            style=\"text-align: center; width: 14%\"\n                          >\n                            Use\n                          </th> -->\n                          </tr>\n                          <tr\n                            v-for=\"(model, index) in trained_ner_models\"\n                            :key=\"index\"\n                          >\n                            <td>{{ index + 1 }}</td>\n                            <td\n                              :title=\"\n                                companyname +\n                                ' V' +\n                                (trained_ner_models.length - index)\n                              \"\n                              style=\"cursor: pointer\"\n                            >\n                              {{ trim_model_name(companyname) }}V{{\n                                trained_ner_models.length - index\n                              }}\n                            </td>\n                            <td>{{ model.created_at }}</td>\n                            <td class=\"text-center\">\n                              <div\n                                class=\"radio\"\n                                @click=\"select_trained_ner_model(index)\"\n                              >\n                                <label style=\"vertical-align: text-top\">\n                                  <input\n                                    type=\"radio\"\n                                    :checked=\"model.active\"\n                                    :name=\"index + 'ner'\"\n                                    disabled\n                                  />\n                                  <span\n                                    class=\"icn\"\n                                    :id=\"index + 'radio'\"\n                                  ></span>\n                                </label>\n                              </div>\n                            </td>\n                            <!-- <td>\n                            <button\n                              :disabled=\"model.active\"\n                              class=\"darkblue-btn\"\n                              @click=\"select_trained_dialogue_model(index)\"\n                            >\n                              Use\n                            </button>\n                          </td> -->\n                          </tr>\n                        </table>\n                      </div>\n                      <h6\n                        v-else-if=\"\n                          Boolean(trained_ner_models) &&\n                          trained_ner_models.length === 0\n                        \"\n                      >\n                        There are no trained NER models available\n                      </h6>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-7\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport JsonExcel from \"vue-json-excel\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { setTimeout } from \"timers\";\nimport api_calls from \"@/portal/api_calls\";\nimport Multiselect from \"vue-multiselect\";\nimport VoerroTagsInput from \"@voerro/vue-tagsinput\";\nimport \"@voerro/vue-tagsinput/dist/style.css\";\nimport moment from \"moment\";\nimport Billing from \"../Account/Billing.vue\";\nimport swal from \"sweetalert2\";\nimport Feedback from \"./Feedback.vue\";\nimport IntegrationLayout from \"../Integrations/IntegrationLayout.vue\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\nimport VuePhoneNumberInput from 'vue-phone-number-input';\nimport 'vue-phone-number-input/dist/vue-phone-number-input.css';\nimport { bus } from \"@/portal/main\";\n\nVue.component(\"downloadExcel\", JsonExcel);\nexport default {\n  name: \"MiscellaneousPage\",\n  mixins: [freeze_portal, show_subscription_expired_swal],\n  components: {\n    Multiselect,\n    \"tags-input\": VoerroTagsInput,\n    Billing,\n    Feedback,\n    IntegrationLayout,\n    VuePhoneNumberInput,\n  },\n  data() {\n    return {\n      view_component_name: \"others\",\n      // start_greetings: \"\",\n      // end_greetings: \"\",\n      title: \"\",\n      image_file: null,\n      file_label: \"Choose file\",\n      sender: null,\n      subject: null,\n      email_body: null,\n      companyid: null,\n      companyname: null,\n      multiple_language_list: [],\n      phoneNumber: null,\n      contact_us_phone_number: null,\n      contact_us_email: \"\",\n      email_validity:\n        /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,\n      is_retail: false,\n      old_image_name: null,\n      spinnerOn1: false,\n      spinnerOn2: false,\n      big_spinner: false,\n      trained_dialogue_models: null,\n      trained_intent_models: null,\n      current_license_key: this.$session.get(\"UserInformation\").license_key,\n      trained_ner_models: null,\n      disable_btn_expired:false,\n    };\n  },\n  created() {\n    if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n      this.companyid = this.$session.get(\"CompanyId\");\n      this.companyname = this.$session.get(\"CompanyName\");\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n    // axios\n    //   .post(\n    //     api_calls.twilio_greetings(),\n    //     {\n    //       companyname: this.companyname,\n    //       companyid: this.companyid,\n    //       email: this.$session.get(\"UserInformation\").email,\n    //       license_key: this.$session.get(\"UserInformation\").license_key,\n    //       token: this.$session.get(\"UserInformation\").tokens,\n    //       isShow: true\n    //     },\n    //     {\n    //       headers: {\n    //         Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //       }\n    //     }\n    //   )\n    //   .then(response => {\n    //     this.start_greetings = response.data.greeting;\n    //     this.end_greetings = response.data.busy;\n    //   })\n    //   .catch(e => {\n    //     if (\n    //       e.response.status === 410 ||\n    //       e.response.status === 440 ||\n    //       e.response.status === 409\n    //     ) {\n    //       this.$root.$emit(\"Session_Expired\", e.response.data);\n    //     }\n    //   });\n  },\n  mounted() {\n    this.$session.set(\"CurrentActiveTabForHelp\", this.view_component_name)\n    //console.log(this.view_component_name,\"comp name\");\n      bus.$on(\"CurrentActiveTab\", (data) => {\n        if(data === this.$route.fullPath) {\n          //console.log(\"Hello\",this.$route);\n          return this.view_component_name;\n          // bus.$emit(\"CurrrentActiveTabResponse\", this.view_component_name)\n        }\n      });\n    if(this.is_retail != true){\n      this.load_product_settings();\n    }\n    let bot_templates_data = this.$session.get(\"BotTemplates\");\n    for (let i = 0; i < bot_templates_data.length; i++) {\n      if (\n        bot_templates_data[i].domain === \"Retail\" &&\n        bot_templates_data[i].subscribed === true\n      ) {\n        this.is_retail = true;\n      }\n    }\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    this.$root.$on(\"MiscellaneousPageDisabled\", (data) => {\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    });\n    this.$root.$on(\"accountPage\", (data) => {\n      if(data===true){\n         $(\"#accounts-tab\").click();\n        this.view_component_name = \"accounts\";\n      }\n    });\n    this.initialize_tooltips();\n    var vm = this;\n    this.get_trained_dialogue_models();\n    this.get_trained_intent_models();\n    this.get_trained_ner_models();\n    this.get_company_logo();\n  \n  if (this.$route.params.Subscription === true) {\n      $(\"#accounts-tab\").click();\n      this.view_component_name = \"accounts\";\n    }\n  },\n  computed: {\n    validEmail() {\n      if (this.contact_us_email != null) {\n        if (this.email_validity.test(this.contact_us_email)) {\n          return true;\n        } else {\n          return \"Please enter a valid Email Address\";\n        }\n      }\n  }\n},\n  watch: {\n    view_component_name(newVal) {\n        this.$session.set(\"CurrentActiveTabForHelp\", newVal)\n      },\n    bot_background_type(newVal, oldVal) {\n      if (newVal === \"none\") {\n        this.file_label_3 = \"Choose File\";\n        this.image_file_3 = null;\n        this.is_bg_image_changed = true;\n        // this.old_image_name_3 = null;\n        document.getElementById(\"inputGroupFile03\").value = \"\";\n      }\n    }\n  },\n  methods: {\n    generateUUID() {\n      // Public Domain/MIT\n      var d = new Date().getTime(); //Timestamp\n      var d2 =\n        (performance && performance.now && performance.now() * 1000) || 0; //Time in microseconds since page-load or 0 if unsupported\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function (c) {\n          var r = Math.random() * 16; //random number between 0 and 16\n          if (d > 0) {\n            //Use timestamp until depleted\n            r = (d + r) % 16 | 0;\n            d = Math.floor(d / 16);\n          } else {\n            //Use microseconds since page-load if supported\n            r = (d2 + r) % 16 | 0;\n            d2 = Math.floor(d2 / 16);\n          }\n          return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n        }\n      );\n    },\n    trim_model_name(val1) {\n      if (val1.length > 6) {\n        let str1 = val1.substring(0, 3) + \"...\";\n        return str1;\n      }\n      return val1;\n    },\n    load_product_settings() {\n      this.big_spinner = true;\n      axios\n        .post(\n          api_calls.product_settings(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_get: true,\n            is_non_retail: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.big_spinner = false;\n          if (\n            response.data != \"\" &&\n            response.data != null &&\n            response.data != \"Internal server Error\"\n          ) {\n            this.contact_us_email = response.data.details.contact_help_email;\n            this.contact_us_phone_number =\n              response.data.details.contact_us_phone_number;\n          }\n        })\n        .catch((e) => {\n          this.big_spinner = false;\n          toastr.error(\"Some Error Occurred.\");\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    get_company_logo() {\n      axios\n        .post(\n          api_calls.upload_company_logo(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_get: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.file_label = response.data.company_image_url\n            .split(\"/\")\n            .reverse()[0];\n          this.file_label = decodeURI(this.file_label);\n          this.old_image_name = this.file_label;\n          if (this.file_label == \"\") {\n            this.file_label = \"Choose file\";\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.file_label = \"Choose file\";\n          document.getElementById(\"input_company_file\").value = \"\";\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    upload_company_logo_file() {\n      if (\n        this.file_label == this.old_image_name ||\n        document.getElementById(\"input_company_file\").value == \"\"\n      ) {\n        swal({\n          text: \"Please Select a File\",\n          type: \"error\",\n          timer: 2500,\n        });\n      } else {\n        this.big_spinner = true;\n        axios\n          .post(\n            api_calls.upload_company_logo(),\n            {\n              company_id: this.$session.get(\"UserInformation\").company_id,\n              company_name: this.$session.get(\"UserInformation\").company_name,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              image_name: this.file_label,\n              company_logo_file: this.image_file,\n              is_image_edit:\n                this.file_label != this.old_image_name ? true : false,\n              old_image_name:\n                this.old_image_name == \"Choose File\"\n                  ? null\n                  : this.old_image_name,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.big_spinner = false;\n            this.get_company_logo();\n            if (response.data.MSG == \"Duplicate image\") {\n              document.getElementById(\"input_company_file\").value = \"\";\n              // toastr.error(\n              //   \"Image already found. Please upload another image or rename it.\"\n              // );\n              swal({\n                text: \"Image already found. Please upload another image or rename it.\",\n                type: \"error\",\n                timer: 3000,\n              });\n            } else if (\n              response.data.MSG == \"Company Logo Uploaded Successfully\"\n            ) {\n              swal({\n                text: \"Company Logo have been Uploaded Successfully\",\n                type: \"success\",\n                timer: 2500,\n              });\n            } else {\n              document.getElementById(\"input_company_file\").value = \"\";\n              swal({\n                text: \"Some Error Occurred. Please Try Again\",\n                type: \"error\",\n                timer: 2500,\n              });\n            }\n          })\n          .catch((e) => {\n            swal({\n              text: \"Some Error Occurred. Please Try Again\",\n              type: \"error\",\n              timer: 2500,\n            });\n            this.get_company_logo();\n            this.big_spinner = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    configure_product_settings() {\n      event.preventDefault();\n      if (this.validEmail != true) {\n        swal({\n          text: \"Please enter a valid Email Address\",\n          type: \"warning\",\n          timer: 3000,\n        });\n        return;\n      }\n      if (!Boolean(this.phoneNumber)) {\n        swal({\n          text: \"Please enter a valid Phone Number\",\n          type: \"warning\",\n          timer: 3000,\n        });\n        return;\n      } else if (this.phoneNumber.isValid != true) {\n        swal({\n          text: \"Please enter a valid Phone Number\",\n          type: \"warning\",\n          timer: 3000,\n        });\n        return;\n      }\n      this.big_spinner = true;\n      axios\n        .post(\n          api_calls.product_settings(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_email_required: true,\n            is_non_retail: true,\n            email_required: {\n              contact_help_email: this.contact_us_email,\n              contact_us_phone_number: this.phoneNumber.formattedNumber,\n            },\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.big_spinner = false;\n          if (response.data == \"Query Executed Successfully\") {\n            swal({\n              text: \"Your changes have been saved successfully\",\n              type: \"success\",\n              timer: 4000,\n            });\n            this.empty_variable();\n            this.load_product_settings();\n          } else {\n            swal({\n              text: \"Internal Server Error\",\n              type: \"error\",\n              timer: 2000,\n            });\n          }\n        })\n        .catch((e) => {\n          this.big_spinner = false;\n          toastr.error(\"Some Error Occurred.\");\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    button_class(index) {\n      if (this.multiple_language_list.length != 0) {\n        if (this.multiple_language_list[index].Enabled == true) {\n          return \"button_enabled\";\n        } else if (this.multiple_language_list[index].Enabled == false) {\n          return \"button_disabled\";\n        }\n      } else {\n        return \"button_disabled\";\n      }\n    },\n    multiple_language_style() {},\n    multiple_language_api(language, index) {\n      let button_class;\n      if (language != \"all\") {\n        button_class = document.getElementById(language + \"_button\").classList;\n        if (button_class.contains(\"button_disabled\")) {\n          button_class.remove(\"button_disabled\");\n          button_class.add(\"button_enabled\");\n          this.multiple_language_list[index].Enabled = true;\n          this.language_support_api();\n        } else if (button_class.contains(\"button_enabled\")) {\n          button_class.remove(\"button_enabled\");\n          button_class.add(\"button_disabled\");\n          this.multiple_language_list[index].Enabled = false;\n          this.language_support_api();\n        }\n      } else if (language == \"all\") {\n        if (event.target.checked) {\n          document\n            .getElementById(\"english_button\")\n            .classList.add(\"button_enabled\");\n          document\n            .getElementById(\"english_button\")\n            .classList.remove(\"button_disabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.add(\"button_enabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.remove(\"button_disabled\");\n          if (\n            this.multiple_language_list[0].Enabled &&\n            this.multiple_language_list[1].Enabled\n          ) {\n          } else {\n            for (var i in this.multiple_language_list) {\n              this.multiple_language_list[i].Enabled = true;\n            }\n            this.language_support_api();\n          }\n        } else if (!event.target.checked) {\n          document\n            .getElementById(\"english_button\")\n            .classList.remove(\"button_enabled\");\n          document\n            .getElementById(\"english_button\")\n            .classList.add(\"button_disabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.remove(\"button_enabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.add(\"button_disabled\");\n          if (\n            !this.multiple_language_list[0].Enabled &&\n            !this.multiple_language_list[1].Enabled\n          ) {\n          } else {\n            for (var i in this.multiple_language_list) {\n              this.multiple_language_list[i].Enabled = false;\n            }\n            this.language_support_api();\n          }\n        }\n      }\n    },\n    select_trained_dialogue_model(index) {\n      if(!this.disable_btn_expired){\n        let call_api = true;\n        for (let i = 0; i < this.trained_dialogue_models.length; i++) {\n          if (this.trained_dialogue_models[index].active) {\n            call_api = false;\n            break;\n          }\n        }\n        if (call_api) {\n          Swal.fire({\n            title: \"Are you sure?\",\n            text:\n              \"Do you want to set \" +\n              this.companyname +\n              \" V\" +\n              (this.trained_dialogue_models.length - index) +\n              \" as your current trained model ?\",\n            type: \"question\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, Confirm!\",\n            allowOutsideClick: false,\n            allowEscapeKey: false,\n          }).then((result) => {\n            if (result.value) {\n              this.spinnerOn = true;\n              this.big_spinner = true;\n              // Swal.fire({\n              //   text: \"Please wait while we submit your request\",\n              //   toast: true,\n              //   type: \"info\",\n              //   showCancelButton: false,\n              //   showConfirmButton: false,\n              // });\n              axios\n                .post(\n                  api_calls.revert_models(),\n                  {\n                    email: this.$session.get(\"UserInformation\").email,\n                    license_key: this.$session.get(\"UserInformation\").license_key,\n                    token: this.$session.get(\"UserInformation\").tokens,\n                    subscription:\n                      this.$session.get(\"UserInformation\").subscription,\n                    company_details: {\n                      company_id: this.$session.get(\"UserInformation\").company_id,\n                      company_name:\n                        this.$session.get(\"UserInformation\").company_name,\n                    },\n                    model_file: this.trained_dialogue_models[index].FileName,\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  this.big_spinner = false;\n                  if (response.data.status === \"Success\") {\n                    Swal.fire({\n                      title: \"Model Updated Successfully\",\n                      type: \"success\",\n                      allowOutsideClick: false,\n                      allowEscapeKey: false,\n                      timer: 2000,\n                    }).then((result_success) => {\n                      if (result_success.value) {\n                        this.big_spinner = true;\n                        this.get_trained_dialogue_models();\n                      }\n                    });\n                  } else {\n                    Swal.fire({\n                      title: \"Some Error Occurred, Please Try Again!\",\n                      type: \"error\",\n                      timer: 2500,\n                    });\n                  }\n                  // console.log(response);\n                })\n                .catch((e) => {\n                  this.big_spinner = false;\n                  if (\n                    e.response.status === 410 ||\n                    e.response.status === 440 ||\n                    e.response.status === 409\n                  ) {\n                    this.$root.$emit(\"Session_Expired\", e.response.data);\n                  }\n                });\n            }\n          });\n        }\n      }else{\n        this.show_subscription_expired_swal(true);\n      }\n    },  \n    select_trained_intent_model(index) {\n      if(!this.disable_btn_expired){\n        let call_api = true;\n        for (let i = 0; i < this.trained_intent_models.length; i++) {\n          if (this.trained_intent_models[index].active) {\n            call_api = false;\n            break;\n          }\n        }\n        if (call_api) {\n          Swal.fire({\n            title: \"Are you sure?\",\n            text:\n              \"Do you want to set \" +\n              this.companyname +\n              \" V\" +\n              (this.trained_intent_models.length - index) +\n              \" as your current trained model ?\",\n            type: \"question\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, Confirm!\",\n            allowOutsideClick: false,\n            allowEscapeKey: false,\n          }).then((result) => {\n            if (result.value) {\n              this.spinnerOn = true;\n              this.big_spinner = true;\n              // Swal.fire({\n              //   text: \"Please wait while we submit your request\",\n              //   toast: true,\n              //   type: \"info\",\n              //   showCancelButton: false,\n              //   showConfirmButton: false,\n              // });\n              axios\n                .post(\n                  api_calls.train_intent_model(),\n                  {\n                    company_name: this.companyname,\n                    company_id: this.companyid,\n                    email: this.$session.get(\"UserInformation\").email,\n                    license_key: this.$session.get(\"UserInformation\").license_key,\n                    token: this.$session.get(\"UserInformation\").tokens,\n                    FileName: this.trained_intent_models[index].FileName,\n                    isChangeModelVersion: true,\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  this.big_spinner = false;\n                  if (response.data.status === \"Success\") {\n                    this.get_trained_intent_models();\n                    Swal.fire({\n                      title: \"Model Updated Successfully\",\n                      type: \"success\",\n                      allowOutsideClick: false,\n                      allowEscapeKey: false,\n                      timer: 2000,\n                    });\n                  } else {\n                    Swal.fire({\n                      title: \"Some Error Occurred, Please Try Again!\",\n                      type: \"error\",\n                      timer: 2500,\n                    });\n                  }\n                  // console.log(response);\n                })\n                .catch((e) => {\n                  this.big_spinner = false;\n                  if (\n                    e.response.status === 410 ||\n                    e.response.status === 440 ||\n                    e.response.status === 409\n                  ) {\n                    this.$root.$emit(\"Session_Expired\", e.response.data);\n                  }\n                });\n            }\n          });\n        }\n      }else{\n        this.show_subscription_expired_swal(true);\n      }\n    },\n    select_trained_ner_model(index) {\n      if(!this.disable_btn_expired){\n        let call_api = true;\n        for (let i = 0; i < this.trained_ner_models.length; i++) {\n          if (this.trained_ner_models[index].active) {\n            call_api = false;\n            break;\n          }\n        }\n        if (call_api) {\n          Swal.fire({\n            title: \"Are you sure?\",\n            text:\n              \"Do you want to set \" +\n              this.companyname +\n              \" V\" +\n              (this.trained_ner_models.length - index) +\n              \" as your current trained model ?\",\n            type: \"question\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: \"Yes, Confirm!\",\n            allowOutsideClick: false,\n            allowEscapeKey: false,\n          }).then((result) => {\n            if (result.value) {\n              this.spinnerOn = true;\n              this.big_spinner = true;\n              // Swal.fire({\n              //   text: \"Please wait while we submit your request\",\n              //   toast: true,\n              //   type: \"info\",\n              //   showCancelButton: false,\n              //   showConfirmButton: false,\n              // });\n              axios\n                .post(\n                  api_calls.revert_ner_models(),\n                  {\n                    company_name: this.companyname,\n                    company_id: this.companyid,\n                    email: this.$session.get(\"UserInformation\").email,\n                    license_key: this.$session.get(\"UserInformation\").license_key,\n                    token: this.$session.get(\"UserInformation\").tokens,\n                    company_details: {\n                      company_id: this.companyid,\n                      company_name: this.companyname,\n                    },\n                    model_file: this.trained_ner_models[index].FileName,\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  this.big_spinner = false;\n                  if (response.data === \"Revert Successful\") {\n                    Swal.fire({\n                      title: \"Model Updated Successfully\",\n                      type: \"success\",\n                      allowOutsideClick: false,\n                      allowEscapeKey: false,\n                      timer: 2000,\n                    }).then((result_success) => {\n                      // if (result_success.value) {\n                      this.big_spinner = true;\n                      this.get_trained_ner_models();\n                      // }\n                    });\n                  } else {\n                    Swal.fire({\n                      title: \"Some Error Occurred, Please Try Again!\",\n                      type: \"error\",\n                      timer: 2500,\n                    });\n                  }\n                  // console.log(response);\n                })\n                .catch((e) => {\n                  this.big_spinner = false;\n                  if (\n                    e.response.status === 410 ||\n                    e.response.status === 440 ||\n                    e.response.status === 409\n                  ) {\n                    this.$root.$emit(\"Session_Expired\", e.response.data);\n                  }\n                });\n            }\n          });\n        }\n      }else{\n        this.show_subscription_expired_swal(true);\n      }\n    },\n    get_trained_dialogue_models() {\n      this.big_spinner = true;\n      axios\n        .post(\n          api_calls.use_model(),\n          {\n            email: this.$session.get(\"UserInformation\").email,\n            token: this.$session.get(\"UserInformation\").tokens,\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            isShow: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.big_spinner = false;\n          this.trained_dialogue_models = data.models.map((model) => {\n            model.created_at = moment\n              .unix(model.created_at)\n              .format(\"Do MMM YY\");\n            return model;\n          });\n        })\n        .catch((e) => {\n          console.log(e);\n          this.big_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    get_trained_ner_models() {\n      this.big_spinner = true;\n      axios\n        .get(\n          api_calls.revert_ner_models(),\n          {\n            params: {\n              email: this.$session.get(\"UserInformation\").email,\n              token: this.$session.get(\"UserInformation\").tokens,\n              company_name: this.$session.get(\"UserInformation\").company_name,\n              company_id: this.$session.get(\"UserInformation\").company_id,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              revert_company_id:\n                this.$session.get(\"UserInformation\").company_id,\n              revert_company_name:\n                this.$session.get(\"UserInformation\").company_name,\n              isShow: true,\n            },\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.big_spinner = false;\n          this.trained_ner_models = data.model_data.map((model) => {\n            model.created_at = moment(\n              model.created_at,\n              \"YYYYMMDDHHmmss\"\n            ).format(\"Do MMM YY\");\n            return model;\n          });\n        })\n        .catch((e) => {\n          console.log(e);\n          this.big_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    get_trained_intent_models() {\n      this.big_spinner = true;\n      axios\n        .post(\n          api_calls.train_intent_model(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            isGetModels: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.big_spinner = false;\n          // console.log(response.data);\n          this.trained_intent_models = data.models.map((model) => {\n            model.created_at = moment(\n              model.created_at,\n              \"YYYYMMDDHHmmss\"\n            ).format(\"Do MMM YY\");\n            return model;\n          });\n        })\n        .catch((e) => {\n          console.log(e);\n          this.big_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    // add_mail() {\n    //   event.preventDefault();\n    //   axios\n    //     .post(\n    //       api_calls.notify_superadmin_url(),\n    //       {\n    //         companyname: this.companyname,\n    //         companyid: this.companyid,\n    //         sendto: this.sender,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         body: this.email_body,\n    //         subject: this.subject,\n    //         bindemail: \"False\",\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //         }\n    //       }\n    //     )\n    //     .then(response => {\n    //       toastr.success(response.data);\n    //     })\n    //     .catch(e => {\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    language_support_api() {\n      axios\n        .post(api_calls.multiple_language_support_url(), {\n          companyname: this.companyname,\n          companyid: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          language_support: this.multiple_language_list,\n        })\n        .then((response) => {\n          if (response.data == \"Query Executed Successfully\") {\n          } else {\n            this.$router.go();\n          }\n        });\n    },\n    fileinput(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].size > 2097152) {\n        swal({\n          text: \"Upload company logo with size less than 2MB\",\n          toast: true,\n          position: \"top-end\",\n          type: \"error\",\n          showConfirmButton: false,\n          timer: 10000,\n        });\n        return;\n      }\n      if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n        if (!files.length) return;\n        this.old_image_name = this.file_label;\n        this.file_label = files[0].name;\n        this.createImage(files[0]);\n      } else {\n        swal({\n          text: \"Please Select an Image of type PNG or JPEG\",\n          type: \"error\",\n          timer: 2500,\n        });\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.image_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n    download_sdk(data_type) {\n      if (data_type == \"license_key\") {\n        this.spinnerOn1 = true;\n        axios({\n          method: \"post\",\n          url: api_calls.get_license_key(),\n          responseType: \"blob\",\n          data: {\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            companyname: this.$session.get(\"UserInformation\").company_name,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            email: this.$session.get(\"UserInformation\").email,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n          .then((response) => {\n            var url = window.URL.createObjectURL(new Blob([response.data]));\n            var link = document.createElement(\"a\");\n            link.href = url;\n            link.setAttribute(\"download\", data_type + \".txt\");\n            document.body.appendChild(link);\n            link.click();\n            this.spinnerOn1 = false;\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        this.spinnerOn2 = true;\n        axios({\n          method: \"post\",\n          url: api_calls.file_download_url(),\n          responseType: \"blob\",\n          data: {\n            download_sdk_type: data_type,\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            companyname: this.$session.get(\"UserInformation\").company_name,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            email: this.$session.get(\"UserInformation\").email,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n          .then((response) => {\n            this.spinnerOn2 = false;\n            if (response.data.message == \"Not able to download file\") {\n              toastr.error(\n                \"Due to some internal error, not able to download the file\"\n              );\n            } else {\n              var url = window.URL.createObjectURL(new Blob([response.data]));\n              var link = document.createElement(\"a\");\n              link.href = url;\n              link.setAttribute(\"download\", data_type + \"_SDK.zip\");\n              document.body.appendChild(link);\n              link.click();\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn2 = false;\n            toastr.error(\n              \"Due to some internal error, not able to download the file\"\n            );\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    copy_widget_code() {\n      this.$refs.widget_textarea.select();\n      document.execCommand(\"copy\");\n      $(\"#copy_code_tooltip\").tooltip(\"show\");\n      setTimeout(() => {\n        $(\"#copy_code_tooltip\").tooltip(\"dispose\");\n        this.initialize_tooltips();\n      }, 5000);\n    },\n    copy_uuid_code() {\n      this.$refs.uuid_textarea1.select();\n      this.$refs.uuid_textarea2.select();\n      document.execCommand(\"copy\");\n      setTimeout(() => {\n        $(\"#copy_code_tooltip\").tooltip(\"dispose\");\n        this.initialize_tooltips();\n      }, 5000);\n    },\n    initialize_tooltips() {\n      $('[data-tooltip=\"tooltip\"]').tooltip({\n        trigger: \"manual\",\n      });\n    },\n    copy_license_key() {\n      this.$refs.license_key_textarea.select();\n      this.$refs.license_key_textarea.setSelectionRange(0, 99999);\n      document.execCommand(\"copy\");\n      $(\"#copy_licnse_key_tooltip\").tooltip(\"show\");\n      setTimeout(() => {\n        $(\"#copy_licnse_key_tooltip\").tooltip(\"dispose\");\n        this.initialize_tooltips();\n      }, 5000);\n    },\n    empty_variable() {},\n  },\n};\n</script>\n<style>\n.third-party-logo {\n  width: 150px;\n  height: 75px;\n  object-fit: contain;\n}\n.form-control.tags-input {\n  padding: 5px !important;\n}\n.tags-input-badge {\n  line-height: 1.5 !important;\n}\n.tags-input-remove:before,\n.tags-input-remove:after {\n  background: #9799ae !important;\n}\n</style>\n\n<style scoped>\n@media (max-width: 1400px) {\n  .miscellaneous-custom-file-input {\n    padding: 15px 25px 15px 60px;\n  }\n}\n/* .vr {\n  border-left: 1px solid #E9E9E9;\n  margin-top: 5%;\n  margin-bottom: 5%; */\n/* } */\n.hclass6 {\n  font-weight: 100;\n}\n\n.contact-info {\n  padding-left: 0px;\n}\n.darkblue-btn1 {\n  margin-left: 3%;\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 9px 18px;\n  font-weight: 400;\n  line-height: 20px;\n  display: inline-block;\n  border-radius: 4px;\n  cursor: pointer;\n  width: 30%;\n  text-align: center;\n}\n.button_disabled {\n  border: 2px solid rgb(230, 230, 230);\n  background: rgb(247, 248, 251);\n}\n.button_disabled svg {\n  opacity: 0;\n}\n.button_enabled {\n  border: 1px solid rgb(39, 54, 121);\n  background: rgb(247, 248, 251);\n}\n.button_enabled svg {\n  opacity: 1;\n}\n.custom-file > input::-webkit-input-placeholder {\n  margin-left: 200px;\n}\n#select_country_name_misc {\n  color: #9499ae;\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.custom-file {\n  min-height: 40px !important;\n}\n@media (max-width: 1400px) {\n  .custom-file-label {\n    padding: 15px 25px 15px 15px !important;\n  }\n}\n\n.custom-button-box {\n  border: 0.5px solid #ccc;\n}\n\n.table-box td,\n.table-box th {\n  padding: 5px !important;\n  font-size: 14px !important;\n  width: 0px !important;\n}\n.table-box td:first-child,\n.table-box th:first-child {\n  text-align: left !important;\n  width: 0px !important;\n}\n</style>\n\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n"]}]}