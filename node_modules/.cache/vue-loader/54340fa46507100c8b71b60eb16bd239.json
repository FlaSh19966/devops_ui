{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Settings/Miscellaneous.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Settings/Miscellaneous.vue","mtime":1661252053823},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IEpzb25FeGNlbCBmcm9tICJ2dWUtanNvbi1leGNlbCI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CmltcG9ydCBWb2Vycm9UYWdzSW5wdXQgZnJvbSAiQHZvZXJyby92dWUtdGFnc2lucHV0IjsKaW1wb3J0ICJAdm9lcnJvL3Z1ZS10YWdzaW5wdXQvZGlzdC9zdHlsZS5jc3MiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBCaWxsaW5nIGZyb20gIi4uL0FjY291bnQvQmlsbGluZy52dWUiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBGZWVkYmFjayBmcm9tICIuL0ZlZWRiYWNrLnZ1ZSI7CmltcG9ydCBNb2RlbHNUYWIgZnJvbSAiLi9Nb2RlbHNUYWIudnVlIjsKaW1wb3J0IEdlbmVyYWxUYWIgZnJvbSAiLi9HZW5lcmFsVGFiLnZ1ZSI7CmltcG9ydCBJbnRlZ3JhdGlvbkxheW91dCBmcm9tICIuLi9JbnRlZ3JhdGlvbnMvSW50ZWdyYXRpb25MYXlvdXQudnVlIjsKaW1wb3J0IHsgZnJlZXplX3BvcnRhbCxzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwgfSBmcm9tICJAL3BvcnRhbC9taXhpbnMiOwppbXBvcnQgVnVlUGhvbmVOdW1iZXJJbnB1dCBmcm9tICd2dWUtcGhvbmUtbnVtYmVyLWlucHV0JzsKaW1wb3J0ICd2dWUtcGhvbmUtbnVtYmVyLWlucHV0L2Rpc3QvdnVlLXBob25lLW51bWJlci1pbnB1dC5jc3MnOwppbXBvcnQgU29jaWFsTWVkaWFMaW5rcyBmcm9tICIuLi9JbnRlZ3JhdGlvbnMvU29jaWFsTWVkaWFMaW5rcy52dWUiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKClZ1ZS5jb21wb25lbnQoImRvd25sb2FkRXhjZWwiLCBKc29uRXhjZWwpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1pc2NlbGxhbmVvdXNQYWdlIiwKICBtaXhpbnM6IFtmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWxdLAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0LAogICAgInRhZ3MtaW5wdXQiOiBWb2Vycm9UYWdzSW5wdXQsCiAgICBCaWxsaW5nLAogICAgRmVlZGJhY2ssCiAgICBJbnRlZ3JhdGlvbkxheW91dCwKICAgIFZ1ZVBob25lTnVtYmVySW5wdXQsCiAgICBTb2NpYWxNZWRpYUxpbmtzLAogICAgR2VuZXJhbFRhYiwKICAgIE1vZGVsc1RhYgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpZXdfY29tcG9uZW50X25hbWU6ICJvdGhlcnMiLAogICAgICAvLyBzdGFydF9ncmVldGluZ3M6ICIiLAogICAgICAvLyBlbmRfZ3JlZXRpbmdzOiAiIiwKICAgICAgdGl0bGU6ICIiLAogICAgICBpbWFnZV9maWxlOiBudWxsLAogICAgICBmaWxlX2xhYmVsOiAiQ2hvb3NlIGZpbGUiLAogICAgICBzZW5kZXI6IG51bGwsCiAgICAgIHN1YmplY3Q6IG51bGwsCiAgICAgIGVtYWlsX2JvZHk6IG51bGwsCiAgICAgIGNvbXBhbnlpZDogbnVsbCwKICAgICAgY29tcGFueW5hbWU6IG51bGwsCiAgICAgIG11bHRpcGxlX2xhbmd1YWdlX2xpc3Q6IFtdLAogICAgICBwaG9uZU51bWJlcjogbnVsbCwKICAgICAgY29udGFjdF91c19waG9uZV9udW1iZXI6IG51bGwsCiAgICAgIGNvbnRhY3RfdXNfZW1haWw6ICIiLAogICAgICBlbWFpbF92YWxpZGl0eToKICAgICAgICAvXihbMC05YS16QS1aXShbLS5cd10qWzAtOWEtekEtWl0pKkAoWzAtOWEtekEtWl1bLVx3XSpbMC05YS16QS1aXVwuKStbYS16QS1aXXsyLDl9KSQvLAogICAgICBpc19yZXRhaWw6IGZhbHNlLAogICAgICBvbGRfaW1hZ2VfbmFtZTogbnVsbCwKICAgICAgc3Bpbm5lck9uMTogZmFsc2UsCiAgICAgIHNwaW5uZXJPbjI6IGZhbHNlLAogICAgICBiaWdfc3Bpbm5lcjogZmFsc2UsCiAgICAgIHRyYWluZWRfZGlhbG9ndWVfbW9kZWxzOiBudWxsLAogICAgICB0cmFpbmVkX2ludGVudF9tb2RlbHM6IG51bGwsCiAgICAgIGN1cnJlbnRfbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgdHJhaW5lZF9uZXJfbW9kZWxzOiBudWxsLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOmZhbHNlLAogICAgICByZXRhaWxfd2ViX2ZyYW1ld29yayA6IHRoaXMuJHNlc3Npb24uZ2V0KCJyZXRhaWxfd2ViX2ZyYW1ld29yayIpLAogICAgICBlbWFpbF9kZXRhaWxzIDogbnVsbCwKICAgICAgZW1haWxfZGlzYWJsZSA6IGZhbHNlLAogICAgICB2ZXJpZmljYXRpb25fc3RhdHVzOiBudWxsLAogICAgICByZXNldF9pY29uX3BhdGg6IHJlcXVpcmUoIkAvcG9ydGFsL2Fzc2V0cy9pbWcvcmVzZXRfaWNvbi5zdmciKSwKICAgICAgZGlzYWJsZV9zaWRlYmFyOiBmYWxzZSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIikgewogICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55SWQiKTsKICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55TmFtZSIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICB9CiAgICAvLyBheGlvcwogICAgLy8gICAucG9zdCgKICAgIC8vICAgICBhcGlfY2FsbHMudHdpbGlvX2dyZWV0aW5ncygpLAogICAgLy8gICAgIHsKICAgIC8vICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgIGlzU2hvdzogdHJ1ZQogICAgLy8gICAgIH0sCiAgICAvLyAgICAgewogICAgLy8gICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YAogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0KICAgIC8vICAgKQogICAgLy8gICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgdGhpcy5zdGFydF9ncmVldGluZ3MgPSByZXNwb25zZS5kYXRhLmdyZWV0aW5nOwogICAgLy8gICAgIHRoaXMuZW5kX2dyZWV0aW5ncyA9IHJlc3BvbnNlLmRhdGEuYnVzeTsKICAgIC8vICAgfSkKICAgIC8vICAgLmNhdGNoKGUgPT4gewogICAgLy8gICAgIGlmICgKICAgIC8vICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICApIHsKICAgIC8vICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9KTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRzZXNzaW9uLnNldCgiQ3VycmVudEFjdGl2ZVRhYkZvckhlbHAiLCB0aGlzLnZpZXdfY29tcG9uZW50X25hbWUpCiAgICBpZiAodGhpcy4kc2Vzc2lvbi5nZXQoIlNldHRpbmdUb3BuYXZiYXJEaXNhYmxlIikgPT0gdHJ1ZSkgewogICAgICB0aGlzLmRpc2FibGVfc2lkZWJhciA9IHRydWU7CiAgICB9ZWxzZXsKICAgICAgdGhpcy5kaXNhYmxlX3NpZGViYXIgPSBmYWxzZTsKICAgIH0KICAgIC8vY29uc29sZS5sb2codGhpcy52aWV3X2NvbXBvbmVudF9uYW1lLCJjb21wIG5hbWUiKTsKICAgICAgYnVzLiRvbigiQ3VycmVudEFjdGl2ZVRhYiIsIChkYXRhKSA9PiB7CiAgICAgICAgaWYoZGF0YSA9PT0gdGhpcy4kcm91dGUuZnVsbFBhdGgpIHsKICAgICAgICAgIC8vY29uc29sZS5sb2coIkhlbGxvIix0aGlzLiRyb3V0ZSk7CiAgICAgICAgICByZXR1cm4gdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lOwogICAgICAgICAgLy8gYnVzLiRlbWl0KCJDdXJycmVudEFjdGl2ZVRhYlJlc3BvbnNlIiwgdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lKQogICAgICAgIH0KICAgICAgfSk7CiAgICAvLyBpZih0aGlzLmlzX3JldGFpbCAhPSB0cnVlKXsKICAgIC8vICAgdGhpcy5sb2FkX3Byb2R1Y3Rfc2V0dGluZ3MoKTsKICAgIC8vIH0KICAgIGxldCBib3RfdGVtcGxhdGVzX2RhdGEgPSB0aGlzLiRzZXNzaW9uLmdldCgiQm90VGVtcGxhdGVzIik7CiAgICBpZiAoYm90X3RlbXBsYXRlc19kYXRhICE9IHVuZGVmaW5lZCl7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90X3RlbXBsYXRlc19kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgYm90X3RlbXBsYXRlc19kYXRhW2ldLmRvbWFpbiA9PT0gIlJldGFpbCIgJiYKICAgICAgICAgIGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS5zdWJzY3JpYmVkID09PSB0cnVlCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLmlzX3JldGFpbCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgIHRoaXMuJHJvb3QuJG9uKCJNaXNjZWxsYW5lb3VzUGFnZURpc2FibGVkIiwgKGRhdGEpID0+IHsKICAgICAgaWYoZGF0YT09PXRydWUpewogICAgICAgIHRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCA9IHRydWU7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oImFjY291bnRQYWdlIiwgKGRhdGEpID0+IHsKICAgICAgaWYoZGF0YT09PXRydWUpewogICAgICAgICAkKCIjYWNjb3VudHMtdGFiIikuY2xpY2soKTsKICAgICAgICB0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPSAiYWNjb3VudHMiOwogICAgICB9CiAgICB9KTsKICAgIC8vIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgdmFyIHZtID0gdGhpczsKICAgIC8vIHRoaXMuZ2V0X3RyYWluZWRfZGlhbG9ndWVfbW9kZWxzKCk7CiAgICAvLyB0aGlzLmdldF90cmFpbmVkX2ludGVudF9tb2RlbHMoKTsKICAgIC8vIHRoaXMuZ2V0X3RyYWluZWRfbmVyX21vZGVscygpOwogICAgLy8gdGhpcy5nZXRfY29tcGFueV9sb2dvKCk7CiAgCiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLlN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkgewogICAgICAkKCIjYWNjb3VudHMtdGFiIikuY2xpY2soKTsKICAgICAgdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID0gImFjY291bnRzIjsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiY2hhbmdlX3NpZGViYXJfbWFpbl9tZW51IiwgIlNldHRpbmdzIik7CiAgICB9CiAgICB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID0gdGhpcy4kc2Vzc2lvbi5nZXQoInJldGFpbF93ZWJfZnJhbWV3b3JrIik7CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuU3Vic2NyaXB0aW9uID09ICJ0cnVlIikgewogICAgICAkKCIjYWNjb3VudHMtdGFiIikuY2xpY2soKTsKICAgICAgdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID0gImFjY291bnRzIjsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgLy8gICB2YWxpZEVtYWlsKCkgewogIC8vICAgICBpZiAodGhpcy5jb250YWN0X3VzX2VtYWlsICE9IG51bGwpIHsKICAvLyAgICAgICBpZiAodGhpcy5lbWFpbF92YWxpZGl0eS50ZXN0KHRoaXMuY29udGFjdF91c19lbWFpbCkpIHsKICAvLyAgICAgICAgIHJldHVybiB0cnVlOwogIC8vICAgICAgIH0gZWxzZSB7CiAgLy8gICAgICAgICByZXR1cm4gdGhpcy50bHQoJ290aGVyX2VudGVyX3ZhbGlkX2VtYWlsX21zZycpOwogIC8vICAgICAgIH0KICAvLyAgICAgfQogIC8vIH0KfSwKICB3YXRjaDogewogICAgdmlld19jb21wb25lbnRfbmFtZShuZXdWYWwpIHsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiQ3VycmVudEFjdGl2ZVRhYkZvckhlbHAiLCBuZXdWYWwpCiAgICAgIH0sCiAgICBib3RfYmFja2dyb3VuZF90eXBlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwgPT09ICJub25lIikgewogICAgICAgIHRoaXMuZmlsZV9sYWJlbF8zID0gIkNob29zZSBGaWxlIjsKICAgICAgICB0aGlzLmltYWdlX2ZpbGVfMyA9IG51bGw7CiAgICAgICAgdGhpcy5pc19iZ19pbWFnZV9jaGFuZ2VkID0gdHJ1ZTsKICAgICAgICAvLyB0aGlzLm9sZF9pbWFnZV9uYW1lXzMgPSBudWxsOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEdyb3VwRmlsZTAzIikudmFsdWUgPSAiIjsKICAgICAgfQogICAgfSwKICAgIC8vIGVtYWlsX2RldGFpbHMoKSB7CiAgICAvLyAgIGlmICh0aGlzLmVtYWlsX2RldGFpbHMgPT0gbnVsbCB8fCB0aGlzLmVtYWlsX2RldGFpbHMgPT0gIiIpIHsKICAgIC8vICAgICB0aGlzLmVtYWlsX2Rpc2FibGUgPSBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gfQogIH0sCiAgbWV0aG9kczogewogICAgZ2VuZXJhdGVVVUlEKCkgewogICAgICAvLyBQdWJsaWMgRG9tYWluL01JVAogICAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAvL1RpbWVzdGFtcAogICAgICB2YXIgZDIgPQogICAgICAgIChwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgcGVyZm9ybWFuY2Uubm93KCkgKiAxMDAwKSB8fCAwOyAvL1RpbWUgaW4gbWljcm9zZWNvbmRzIHNpbmNlIHBhZ2UtbG9hZCBvciAwIGlmIHVuc3VwcG9ydGVkCiAgICAgIHJldHVybiAieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKAogICAgICAgIC9beHldL2csCiAgICAgICAgZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2OyAvL3JhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNgogICAgICAgICAgaWYgKGQgPiAwKSB7CiAgICAgICAgICAgIC8vVXNlIHRpbWVzdGFtcCB1bnRpbCBkZXBsZXRlZAogICAgICAgICAgICByID0gKGQgKyByKSAlIDE2IHwgMDsKICAgICAgICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vVXNlIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgaWYgc3VwcG9ydGVkCiAgICAgICAgICAgIHIgPSAoZDIgKyByKSAlIDE2IHwgMDsKICAgICAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyIC8gMTYpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIChjID09PSAieCIgPyByIDogKHIgJiAweDMpIHwgMHg4KS50b1N0cmluZygxNik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIC8vIHRyaW1fbW9kZWxfbmFtZSh2YWwxKSB7CiAgICAvLyAgIGlmICh2YWwxLmxlbmd0aCA+IDYpIHsKICAgIC8vICAgICBsZXQgc3RyMSA9IHZhbDEuc3Vic3RyaW5nKDAsIDMpICsgIi4uLiI7CiAgICAvLyAgICAgcmV0dXJuIHN0cjE7CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIHZhbDE7CiAgICAvLyB9LAogICAgLy8gbG9hZF9wcm9kdWN0X3NldHRpbmdzKCkgewogICAgLy8gICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgIC8vICAgYXhpb3MKICAgIC8vICAgICAucG9zdCgKICAgIC8vICAgICAgIGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgKQogICAgLy8gICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUpewogICAgLy8gICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7IAogICAgLy8gICAgICAgICB2YXIgd2ViZnJhbWV3b3JrID0gdGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yazsKICAgIC8vICAgICAgICAgaWYgKHdlYmZyYW1ld29yayA9PT0gbnVsbCB8fCB3ZWJmcmFtZXdvcmsgPT09IHVuZGVmaW5lZCApewogICAgLy8gICAgICAgICAgIHdlYmZyYW1ld29yayA9IHVuZGVmaW5lZDsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFICE9IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSAmJgogICAgLy8gICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSAhPSB0aGlzLmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBLk1TR19DT0RFCiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuY29udGFjdF91c19lbWFpbCA9IHdlYmZyYW1ld29yayA9PT0gdW5kZWZpbmVkID8gcmVzcG9uc2UuZGF0YS5kYXRhLmRldGFpbHMuY29udGFjdF9oZWxwX2VtYWlsIDogcmVzcG9uc2UuZGF0YS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLmNvbnRhY3RfaGVscF9lbWFpbDsKICAgIC8vICAgICAgICAgICB0aGlzLmNvbnRhY3RfdXNfcGhvbmVfbnVtYmVyID0gd2ViZnJhbWV3b3JrID09PSB1bmRlZmluZWQgID8gcmVzcG9uc2UuZGF0YS5kYXRhLmRldGFpbHMuY29udGFjdF91c19waG9uZV9udW1iZXI6IHJlc3BvbnNlLmRhdGEuZGF0YVt3ZWJmcmFtZXdvcmsgKyAnX2RldGFpbHMnXS5jb250YWN0X3VzX3Bob25lX251bWJlcjsKICAgIC8vICAgICAgICAgICB0aGlzLmVtYWlsX2RldGFpbHMgPSB3ZWJmcmFtZXdvcmsgPT09IHVuZGVmaW5lZCA/IHJlc3BvbnNlLmRhdGEuZGF0YS5kZXRhaWxzLnNlbmRlcl9lbWFpbCA6IHJlc3BvbnNlLmRhdGEuZGF0YVt3ZWJmcmFtZXdvcmsgKyAnX2RldGFpbHMnXS5zZW5kZXJfZW1haWw7CiAgICAvLyAgICAgICAgICAgdGhpcy5lbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzKCk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH1lbHNlIHsKICAgIC8vICAgICAgICAgU3dhbCh7CiAgICAvLyAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgIC8vICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgLy8gICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgIC8vICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAvLyAgICAgICAgIH0pCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgIHRvYXN0ci5lcnJvcih0aGlzLnRsdCgnb3RoZXJfZXJyb3Jfb2NjdXJfbXNnJykpOwogICAgLy8gICAgICAgaWYgKAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgLy8gZ2V0X2NvbXBhbnlfbG9nbygpIHsKICAgIC8vICAgYXhpb3MKICAgIC8vICAgICAucG9zdCgKICAgIC8vICAgICAgIGFwaV9jYWxscy51cGxvYWRfY29tcGFueV9sb2dvKCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgKQogICAgLy8gICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgaWYocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5DT01QQU5ZX0lNQUdFX1VSTF9SRUNFSVZFRC5NU0dfQ09ERSl7CiAgICAvLyAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jb21wYW55X2ltYWdlX3VybAogICAgLy8gICAgICAgICAgIC5zcGxpdCgiLyIpCiAgICAvLyAgICAgICAgICAgLnJldmVyc2UoKVswXTsKICAgIC8vICAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gZGVjb2RlVVJJKHRoaXMuZmlsZV9sYWJlbCk7CiAgICAvLyAgICAgICAgIHRoaXMub2xkX2ltYWdlX25hbWUgPSB0aGlzLmZpbGVfbGFiZWw7CiAgICAvLyAgICAgICAgIGlmICh0aGlzLmZpbGVfbGFiZWwgPT0gIiIpIHsKICAgIC8vICAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9ZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX05PVF9GT1VORC5NU0dfQ09ERSl7CgogICAgLy8gICAgICAgfWVsc2UgewogICAgLy8gICAgICAgICBTd2FsKHsKICAgIC8vICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgLy8gICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KQogICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgY29uc29sZS5sb2coZSk7CiAgICAvLyAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgLy8gICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0X2NvbXBhbnlfZmlsZSIpLnZhbHVlID0gIiI7CiAgICAvLyAgICAgICBpZiAoCiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICApIHsKICAgIC8vICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgICAvLyB1cGxvYWRfY29tcGFueV9sb2dvX2ZpbGUoKSB7CiAgICAvLyAgIGlmICgKICAgIC8vICAgICB0aGlzLmZpbGVfbGFiZWwgPT0gdGhpcy5vbGRfaW1hZ2VfbmFtZSB8fAogICAgLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dF9jb21wYW55X2ZpbGUiKS52YWx1ZSA9PSAiIgogICAgLy8gICApIHsKICAgIC8vICAgICBzd2FsKHsKICAgIC8vICAgICAgIHRleHQ6IHRoaXMudGx0KCdvdGhlcl9zZWxlY3RfZmlsZV9tc2cnKSwKICAgIC8vICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAvLyAgICAgICB0aW1lcjogMjUwMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgIGFwaV9jYWxscy51cGxvYWRfY29tcGFueV9sb2dvKCksCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgIC8vICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAvLyAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgIGltYWdlX25hbWU6IHRoaXMuZmlsZV9sYWJlbCwKICAgIC8vICAgICAgICAgICBjb21wYW55X2xvZ29fZmlsZTogdGhpcy5pbWFnZV9maWxlLAogICAgLy8gICAgICAgICAgIGlzX2ltYWdlX2VkaXQ6CiAgICAvLyAgICAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgIT0gdGhpcy5vbGRfaW1hZ2VfbmFtZSA/IHRydWUgOiBmYWxzZSwKICAgIC8vICAgICAgICAgICBvbGRfaW1hZ2VfbmFtZToKICAgIC8vICAgICAgICAgICAgIHRoaXMub2xkX2ltYWdlX25hbWUgPT0gIkNob29zZSBGaWxlIgogICAgLy8gICAgICAgICAgICAgICA/IG51bGwKICAgIC8vICAgICAgICAgICAgICAgOiB0aGlzLm9sZF9pbWFnZV9uYW1lLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgKQogICAgLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgICAgdGhpcy5nZXRfY29tcGFueV9sb2dvKCk7CiAgICAvLyAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLklNR19EVVBMSUNBVEUuTVNHX0NPREUpIHsKICAgIC8vICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRfY29tcGFueV9maWxlIikudmFsdWUgPSAiIjsKICAgIC8vICAgICAgICAgICAvLyB0b2FzdHIuZXJyb3IoCiAgICAvLyAgICAgICAgICAgLy8gICAiSW1hZ2UgYWxyZWFkeSBmb3VuZC4gUGxlYXNlIHVwbG9hZCBhbm90aGVyIGltYWdlIG9yIHJlbmFtZSBpdC4iCiAgICAvLyAgICAgICAgICAgLy8gKTsKICAgIC8vICAgICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdvdGhlcl9pbWdfYWxyZWFkeV9mb3VuZF9tc2cnKSwKICAgIC8vICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAvLyAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfSBlbHNlIGlmICgKICAgIC8vICAgICAgICAgICByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLkNPTVBBTllfTE9HT19VUERBVEVELk1TR19DT0RFCiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHN3YWwoewogICAgLy8gICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ290aGVyX2xvZ29fdXBsb2FkX3N1Y2Nlc3NmdWxfbXNnJyksCiAgICAvLyAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAvLyAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRfY29tcGFueV9maWxlIikudmFsdWUgPSAiIjsKICAgIC8vICAgICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAvLyAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgLy8gICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgIC8vICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnb3RoZXJfZXJyb3Jfb2NjdXJfbXNnMycpLAogICAgLy8gICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAvLyAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAvLyAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB0aGlzLmdldF9jb21wYW55X2xvZ28oKTsKICAgIC8vICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gY29uZmlndXJlX3Byb2R1Y3Rfc2V0dGluZ3MoKSB7CiAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyAgIGlmICh0aGlzLnZhbGlkRW1haWwgIT0gdHJ1ZSAmJiAhQm9vbGVhbih0aGlzLnBob25lTnVtYmVyKSApIHsKICAgIC8vICAgICBzd2FsKHsKICAgIC8vICAgICAgIHRleHQ6IHRoaXMudGx0KCdvdGhlcl92YWxpZF9lbWFpbF9vcl9udW1iZXJfbXNnJyksCiAgICAvLyAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAvLyAgICAgICB0aW1lcjogMzAwMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0KICAgIC8vICAgLy8gaWYgKCFCb29sZWFuKHRoaXMucGhvbmVOdW1iZXIpKSB7CiAgICAvLyAgIC8vICAgc3dhbCh7CiAgICAvLyAgIC8vICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgUGhvbmUgTnVtYmVyIiwKICAgIC8vICAgLy8gICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgIC8vICAgLy8gICAgIHRpbWVyOiAzMDAwLAogICAgLy8gICAvLyAgIH0pOwogICAgLy8gICAvLyAgIHJldHVybjsKICAgIC8vICAgLy8gZWxzZSBpZiAodGhpcy5waG9uZU51bWJlci5pc1ZhbGlkICE9IHRydWUpIHsKICAgIC8vICAgLy8gICBzd2FsKHsKICAgIC8vICAgLy8gICAgIHRleHQ6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBQaG9uZSBOdW1iZXIiLAogICAgLy8gICAvLyAgICAgdHlwZTogIndhcm5pbmciLAogICAgLy8gICAvLyAgICAgdGltZXI6IDMwMDAsCiAgICAvLyAgIC8vICAgfSk7CiAgICAvLyAgIC8vICAgcmV0dXJuOwogICAgLy8gICAvLyB9CiAgICAvLyAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgLy8gICBheGlvcwogICAgLy8gICAgIC5wb3N0KAogICAgLy8gICAgICAgYXBpX2NhbGxzLnByb2R1Y3Rfc2V0dGluZ3MoKSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgIGlzX2VtYWlsX3JlcXVpcmVkOiB0cnVlLAogICAgLy8gICAgICAgICBlbWFpbF9yZXF1aXJlZDogewogICAgLy8gICAgICAgICAgIGNvbnRhY3RfaGVscF9lbWFpbDogdGhpcy5jb250YWN0X3VzX2VtYWlsLAogICAgLy8gICAgICAgICAgIGNvbnRhY3RfdXNfcGhvbmVfbnVtYmVyOiAoQm9vbGVhbih0aGlzLnBob25lTnVtYmVyKSAmJiB0aGlzLnBob25lTnVtYmVyLmlzVmFsaWQgPT0gdHJ1ZSkgPyB0aGlzLnBob25lTnVtYmVyLmZvcm1hdHRlZE51bWJlciA6IG51bGwsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgKQogICAgLy8gICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgLy8gICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnb3RoZXJfY2hhbmdlc19zYXZlZF9tc2cnKSwKICAgIC8vICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAvLyAgICAgICAgICAgdGltZXI6IDQwMDAsCiAgICAvLyAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAvLyAgICAgICAgIHRoaXMubG9hZF9wcm9kdWN0X3NldHRpbmdzKCk7CiAgICAvLyAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgLy8gICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgIHRvYXN0ci5lcnJvcih0aGlzLnRsdCgnb3RoZXJfZXJyb3Jfb2NjdXJfbXNnNCcpKTsKICAgIC8vICAgICAgIGlmICgKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICkgewogICAgLy8gICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIGJ1dHRvbl9jbGFzcyhpbmRleCkgewogICAgICBpZiAodGhpcy5tdWx0aXBsZV9sYW5ndWFnZV9saXN0Lmxlbmd0aCAhPSAwKSB7CiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFtpbmRleF0uRW5hYmxlZCA9PSB0cnVlKSB7CiAgICAgICAgICByZXR1cm4gImJ1dHRvbl9lbmFibGVkIjsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFtpbmRleF0uRW5hYmxlZCA9PSBmYWxzZSkgewogICAgICAgICAgcmV0dXJuICJidXR0b25fZGlzYWJsZWQiOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImJ1dHRvbl9kaXNhYmxlZCI7CiAgICAgIH0KICAgIH0sCiAgICBtdWx0aXBsZV9sYW5ndWFnZV9zdHlsZSgpIHt9LAogICAgbXVsdGlwbGVfbGFuZ3VhZ2VfYXBpKGxhbmd1YWdlLCBpbmRleCkgewogICAgICBsZXQgYnV0dG9uX2NsYXNzOwogICAgICBpZiAobGFuZ3VhZ2UgIT0gImFsbCIpIHsKICAgICAgICBidXR0b25fY2xhc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsYW5ndWFnZSArICJfYnV0dG9uIikuY2xhc3NMaXN0OwogICAgICAgIGlmIChidXR0b25fY2xhc3MuY29udGFpbnMoImJ1dHRvbl9kaXNhYmxlZCIpKSB7CiAgICAgICAgICBidXR0b25fY2xhc3MucmVtb3ZlKCJidXR0b25fZGlzYWJsZWQiKTsKICAgICAgICAgIGJ1dHRvbl9jbGFzcy5hZGQoImJ1dHRvbl9lbmFibGVkIik7CiAgICAgICAgICB0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3RbaW5kZXhdLkVuYWJsZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy5sYW5ndWFnZV9zdXBwb3J0X2FwaSgpOwogICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uX2NsYXNzLmNvbnRhaW5zKCJidXR0b25fZW5hYmxlZCIpKSB7CiAgICAgICAgICBidXR0b25fY2xhc3MucmVtb3ZlKCJidXR0b25fZW5hYmxlZCIpOwogICAgICAgICAgYnV0dG9uX2NsYXNzLmFkZCgiYnV0dG9uX2Rpc2FibGVkIik7CiAgICAgICAgICB0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3RbaW5kZXhdLkVuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubGFuZ3VhZ2Vfc3VwcG9ydF9hcGkoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobGFuZ3VhZ2UgPT0gImFsbCIpIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIGRvY3VtZW50CiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiZW5nbGlzaF9idXR0b24iKQogICAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgiYnV0dG9uX2VuYWJsZWQiKTsKICAgICAgICAgIGRvY3VtZW50CiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiZW5nbGlzaF9idXR0b24iKQogICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgiYnV0dG9uX2Rpc2FibGVkIik7CiAgICAgICAgICBkb2N1bWVudAogICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImhpbmRpX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCJidXR0b25fZW5hYmxlZCIpOwogICAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJoaW5kaV9idXR0b24iKQogICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSgiYnV0dG9uX2Rpc2FibGVkIik7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFswXS5FbmFibGVkICYmCiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFsxXS5FbmFibGVkCiAgICAgICAgICApIHsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5tdWx0aXBsZV9sYW5ndWFnZV9saXN0KSB7CiAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsZV9sYW5ndWFnZV9saXN0W2ldLkVuYWJsZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2Vfc3VwcG9ydF9hcGkoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJlbmdsaXNoX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKCJidXR0b25fZW5hYmxlZCIpOwogICAgICAgICAgZG9jdW1lbnQKICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCJlbmdsaXNoX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCJidXR0b25fZGlzYWJsZWQiKTsKICAgICAgICAgIGRvY3VtZW50CiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgiaGluZGlfYnV0dG9uIikKICAgICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoImJ1dHRvbl9lbmFibGVkIik7CiAgICAgICAgICBkb2N1bWVudAogICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoImhpbmRpX2J1dHRvbiIpCiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKCJidXR0b25fZGlzYWJsZWQiKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgIXRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFswXS5FbmFibGVkICYmCiAgICAgICAgICAgICF0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3RbMV0uRW5hYmxlZAogICAgICAgICAgKSB7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdCkgewogICAgICAgICAgICAgIHRoaXMubXVsdGlwbGVfbGFuZ3VhZ2VfbGlzdFtpXS5FbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sYW5ndWFnZV9zdXBwb3J0X2FwaSgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIHNlbGVjdF90cmFpbmVkX2RpYWxvZ3VlX21vZGVsKGluZGV4KSB7CiAgICAvLyAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgLy8gICAgIGxldCBjYWxsX2FwaSA9IHRydWU7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWluZWRfZGlhbG9ndWVfbW9kZWxzLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICAgICBpZiAodGhpcy50cmFpbmVkX2RpYWxvZ3VlX21vZGVsc1tpbmRleF0uYWN0aXZlKSB7CiAgICAvLyAgICAgICAgIGNhbGxfYXBpID0gZmFsc2U7CiAgICAvLyAgICAgICAgIGJyZWFrOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0KICAgIC8vICAgICBpZiAoY2FsbF9hcGkpIHsKICAgIC8vICAgICAgIFN3YWwuZmlyZSh7CiAgICAvLyAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgndHJhaW5lZF9kaWFsb2dfc3dhbF9hbGVydF9tc2cnKSwKICAgIC8vICAgICAgICAgdGV4dDoKICAgIC8vICAgICAgICAgICB0aGlzLnRsdCgndHJhaW5lZF9kaWFsb2dfc3dhbF9zZXRfbXNnJykgKwogICAgLy8gICAgICAgICAgIHRoaXMudGx0KCd0cmFpbmVkX2RpYWxvZ19zd2FsX2NvbXBhbnluYW1lX21zZycpICsKICAgIC8vICAgICAgICAgICAiIFYiICsKICAgIC8vICAgICAgICAgICAodGhpcy50bHQoJ3RyYWluZWRfZGlhbG9nX21vZGVsX3N3YWxfbXNnJykubGVuZ3RoIC0gaW5kZXgpICsKICAgIC8vICAgICAgICAgICB0aGlzLnRsdCgndHJhaW5lZF9kaWFsb2dfY3VycmVudF9tb2RlbF9tc2cnKSwKICAgIC8vICAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgIC8vICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgIC8vICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAvLyAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLnRsdCgndHJhaW5lZF9kaWFsb2dfc3dhbF9jb25maXJtX21zZycpLAogICAgLy8gICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAvLyAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgIC8vICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgLy8gICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiRGFzaGJvYXJkU2lkZWJhckRpc2FibGUiLHRydWUpOwogICAgLy8gICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJTZXR0aW5nVG9wbmF2YmFyRGlzYWJsZSIsdHJ1ZSk7CiAgICAvLyAgICAgICAgICAgdGhpcy5kaXNhYmxlX3NpZGViYXIgPSB0cnVlOwogICAgLy8gICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgLy8gICAgICAgICAgIC8vIFN3YWwuZmlyZSh7CiAgICAvLyAgICAgICAgICAgLy8gICB0ZXh0OiAiUGxlYXNlIHdhaXQgd2hpbGUgd2Ugc3VibWl0IHlvdXIgcmVxdWVzdCIsCiAgICAvLyAgICAgICAgICAgLy8gICB0b2FzdDogdHJ1ZSwKICAgIC8vICAgICAgICAgICAvLyAgIHR5cGU6ICJpbmZvIiwKICAgIC8vICAgICAgICAgICAvLyAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIC8vICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIC8vIH0pOwogICAgLy8gICAgICAgICAgIGF4aW9zCiAgICAvLyAgICAgICAgICAgICAucG9zdCgKICAgIC8vICAgICAgICAgICAgICAgYXBpX2NhbGxzLnJldmVydF9tb2RlbHMoKSwKICAgIC8vICAgICAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgLy8gICAgICAgICAgICAgICAgIGNvbXBhbnlfZGV0YWlsczogewogICAgLy8gICAgICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAvLyAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6CiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgICAgICAgICBtb2RlbF9maWxlOiB0aGlzLnRyYWluZWRfZGlhbG9ndWVfbW9kZWxzW2luZGV4XS5GaWxlTmFtZSwKICAgIC8vICAgICAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICkKICAgIC8vICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIkRhc2hib2FyZFNpZGViYXJEaXNhYmxlIixmYWxzZSk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJTZXR0aW5nVG9wbmF2YmFyRGlzYWJsZSIsZmFsc2UpOwogICAgLy8gICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5VUERBVEVEX0NPUkUuTVNHX0NPREUpIHsKICAgIC8vICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCd0cmFpbmVkX2RpYWxvZ19tb2RlbF91cGRhdGVkX21zZycpLAogICAgLy8gICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgLy8gICAgICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAvLyAgICAgICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLmdldF90cmFpbmVkX2RpYWxvZ3VlX21vZGVscygpOwogICAgLy8gICAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgIC8vICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAvLyAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAvLyAgICAgICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgLy8gICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIkRhc2hib2FyZFNpZGViYXJEaXNhYmxlIixmYWxzZSk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJTZXR0aW5nVG9wbmF2YmFyRGlzYWJsZSIsZmFsc2UpOwogICAgLy8gICAgICAgICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICAgICAgICkgewogICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgICB9CiAgICAvLyAgIH1lbHNlewogICAgLy8gICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKHRydWUpOwogICAgLy8gICB9CiAgICAvLyB9LCAgCiAgICAvLyBzZWxlY3RfdHJhaW5lZF9pbnRlbnRfbW9kZWwoaW5kZXgpIHsKICAgIC8vICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAvLyAgICAgbGV0IGNhbGxfYXBpID0gdHJ1ZTsKICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhaW5lZF9pbnRlbnRfbW9kZWxzLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICAgICBpZiAodGhpcy50cmFpbmVkX2ludGVudF9tb2RlbHNbaW5kZXhdLmFjdGl2ZSkgewogICAgLy8gICAgICAgICBjYWxsX2FwaSA9IGZhbHNlOwogICAgLy8gICAgICAgICBicmVhazsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYgKGNhbGxfYXBpKSB7CiAgICAvLyAgICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3RyYWluZWRfaW50ZW50X3N3YWxfYWxlcnRfbXNnJyksCiAgICAvLyAgICAgICAgIHRleHQ6CiAgICAvLyAgICAgICAgICAgdGhpcy50bHQoJ3RyYWluZWRfaW50ZW50X3N3YWxfc2V0X21zZycpICsKICAgIC8vICAgICAgICAgICB0aGlzLnRsdCgndHJhaW5lZF9pbnRlbnRfc3dhbF9jb21wYW55bmFtZV9tc2cnKSArCiAgICAvLyAgICAgICAgICAgIiBWIiArCiAgICAvLyAgICAgICAgICAgKHRoaXMudGx0KCd0cmFpbmVkX2ludGVudF9tb2RlbF9zd2FsX21zZycpLmxlbmd0aCAtIGluZGV4KSArCiAgICAvLyAgICAgICAgICAgdGhpcy50bHQoJ3RyYWluZWRfaW50ZW50X2N1cnJlbnRfbW9kZWxfbXNnJyksCiAgICAvLyAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAvLyAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgLy8gICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgLy8gICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ3RyYWluZWRfaW50ZW50X3N3YWxfY29uZmlybV9tc2cnKSwKICAgIC8vICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgLy8gICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAvLyAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgIC8vICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgLy8gICAgICAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gdHJ1ZTsKICAgIC8vICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJEYXNoYm9hcmRTaWRlYmFyRGlzYWJsZSIsdHJ1ZSk7CiAgICAvLyAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlNldHRpbmdUb3BuYXZiYXJEaXNhYmxlIix0cnVlKTsKICAgIC8vICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgIC8vICAgICAgICAgICAvLyBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICAgIC8vICAgdGV4dDogIlBsZWFzZSB3YWl0IHdoaWxlIHdlIHN1Ym1pdCB5b3VyIHJlcXVlc3QiLAogICAgLy8gICAgICAgICAgIC8vICAgdG9hc3Q6IHRydWUsCiAgICAvLyAgICAgICAgICAgLy8gICB0eXBlOiAiaW5mbyIsCiAgICAvLyAgICAgICAgICAgLy8gICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAvLyAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAvLyB9KTsKICAgIC8vICAgICAgICAgICBheGlvcwogICAgLy8gICAgICAgICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbW9kZWwoKSwKICAgIC8vICAgICAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgICAgICAgICAgRmlsZU5hbWU6IHRoaXMudHJhaW5lZF9pbnRlbnRfbW9kZWxzW2luZGV4XS5GaWxlTmFtZSwKICAgIC8vICAgICAgICAgICAgICAgICBpc0NoYW5nZU1vZGVsVmVyc2lvbjogdHJ1ZSwKICAgIC8vICAgICAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICkKICAgIC8vICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIkRhc2hib2FyZFNpZGViYXJEaXNhYmxlIixmYWxzZSk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJTZXR0aW5nVG9wbmF2YmFyRGlzYWJsZSIsZmFsc2UpOwogICAgLy8gICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5NT0RFTF9VUERBVEVEX01PREVMUy5NU0dfQ09ERSkgewogICAgLy8gICAgICAgICAgICAgICAgIHRoaXMuZ2V0X3RyYWluZWRfaW50ZW50X21vZGVscygpOwogICAgLy8gICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3RyYWluZWRfaW50ZW50X21vZGVsX3VwZGF0ZWRfbXNnJyksCiAgICAvLyAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAvLyAgICAgICAgICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgIC8vICAgICAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgIC8vICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAvLyAgICAgICAgICAgICB9KQogICAgLy8gICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlX3NpZGViYXIgPSBmYWxzZTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiRGFzaGJvYXJkU2lkZWJhckRpc2FibGUiLGZhbHNlKTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlNldHRpbmdUb3BuYXZiYXJEaXNhYmxlIixmYWxzZSk7CiAgICAvLyAgICAgICAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICAgIH0KICAgIC8vICAgfWVsc2V7CiAgICAvLyAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwodHJ1ZSk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBzZWxlY3RfdHJhaW5lZF9uZXJfbW9kZWwoaW5kZXgpIHsKICAgIC8vICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAvLyAgICAgbGV0IGNhbGxfYXBpID0gdHJ1ZTsKICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhaW5lZF9uZXJfbW9kZWxzLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICAgICBpZiAodGhpcy50cmFpbmVkX25lcl9tb2RlbHNbaW5kZXhdLmFjdGl2ZSkgewogICAgLy8gICAgICAgICBjYWxsX2FwaSA9IGZhbHNlOwogICAgLy8gICAgICAgICBicmVhazsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYgKGNhbGxfYXBpKSB7CiAgICAvLyAgICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3RyYWluZWRfbmVyX3N3YWxfYWxlcnRfbXNnJyksCiAgICAvLyAgICAgICAgIHRleHQ6CiAgICAvLyAgICAgICAgICAgdGhpcy50bHQoJ3RyYWluZWRfbmVyX3N3YWxfc2V0X21zZycpICsKICAgIC8vICAgICAgICAgICB0aGlzLnRsdCgndHJhaW5lZF9uZXJfc3dhbF9jb21wYW55bmFtZV9tc2cnKSArCiAgICAvLyAgICAgICAgICAgIiBWIiArCiAgICAvLyAgICAgICAgICAgKHRoaXMudGx0KCd0cmFpbmVkX25lcl9tb2RlbF9zd2FsX21zZycpLmxlbmd0aCAtIGluZGV4KSArCiAgICAvLyAgICAgICAgICAgdGhpcy50bHQoJ3RyYWluZWRfbmVyX2N1cnJlbnRfbW9kZWxfbXNnJyksCiAgICAvLyAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAvLyAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgLy8gICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgLy8gICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ3RyYWluZWRfbmVyX3N3YWxfY29uZmlybV9tc2cnKSwKICAgIC8vICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgLy8gICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAvLyAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgIC8vICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIkRhc2hib2FyZFNpZGViYXJEaXNhYmxlIix0cnVlKTsKICAgIC8vICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiU2V0dGluZ1RvcG5hdmJhckRpc2FibGUiLHRydWUpOwogICAgLy8gICAgICAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gdHJ1ZTsKICAgIC8vICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgIC8vICAgICAgICAgICAvLyBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICAgIC8vICAgdGV4dDogIlBsZWFzZSB3YWl0IHdoaWxlIHdlIHN1Ym1pdCB5b3VyIHJlcXVlc3QiLAogICAgLy8gICAgICAgICAgIC8vICAgdG9hc3Q6IHRydWUsCiAgICAvLyAgICAgICAgICAgLy8gICB0eXBlOiAiaW5mbyIsCiAgICAvLyAgICAgICAgICAgLy8gICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAvLyAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAvLyB9KTsKICAgIC8vICAgICAgICAgICBheGlvcwogICAgLy8gICAgICAgICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgICAgICAgIGFwaV9jYWxscy5yZXZlcnRfbmVyX21vZGVscygpLAogICAgLy8gICAgICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgICAgICAgICBjb21wYW55X2RldGFpbHM6IHsKICAgIC8vICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgICAgICAgICAgbW9kZWxfZmlsZTogdGhpcy50cmFpbmVkX25lcl9tb2RlbHNbaW5kZXhdLkZpbGVOYW1lLAogICAgLy8gICAgICAgICAgICAgICB9LAogICAgLy8gICAgICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgKQogICAgLy8gICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIkRhc2hib2FyZFNpZGViYXJEaXNhYmxlIix0cnVlKTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlNldHRpbmdUb3BuYXZiYXJEaXNhYmxlIix0cnVlKTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5SRVZFUlRfU1VDQ0VTU0ZVTF9NT0RFTFMuTVNHX0NPREUpIHsKICAgIC8vICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCd0cmFpbmVkX25lcl9tb2RlbF91cGRhdGVkX21zZycpLAogICAgLy8gICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgLy8gICAgICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAvLyAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0X3N1Y2Nlc3MpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICAgIC8vIGlmIChyZXN1bHRfc3VjY2Vzcy52YWx1ZSkgewogICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLmdldF90cmFpbmVkX25lcl9tb2RlbHMoKTsKICAgIC8vICAgICAgICAgICAgICAgICAgIC8vIH0KICAgIC8vICAgICAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgIC8vICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAvLyAgICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgLy8gICAgICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgIC8vICAgICAgICAgICAgIH0pCiAgICAvLyAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLmRpc2FibGVfc2lkZWJhciA9IGZhbHNlOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJEYXNoYm9hcmRTaWRlYmFyRGlzYWJsZSIsdHJ1ZSk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJTZXR0aW5nVG9wbmF2YmFyRGlzYWJsZSIsdHJ1ZSk7CiAgICAvLyAgICAgICAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICAgIH0KICAgIC8vICAgfWVsc2V7CiAgICAvLyAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwodHJ1ZSk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBnZXRfdHJhaW5lZF9kaWFsb2d1ZV9tb2RlbHMoKSB7CiAgICAvLyAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgLy8gICBheGlvcwogICAgLy8gICAgIC5wb3N0KAogICAgLy8gICAgICAgYXBpX2NhbGxzLnVzZV9tb2RlbCgpLAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgLy8gICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgaXNTaG93OiB0cnVlLAogICAgLy8gICAgICAgfSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgfQogICAgLy8gICAgICkKICAgIC8vICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgIC8vICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUllfQ09SRS5NU0dfQ09ERSkgewogICAgLy8gICAgICAgICB0aGlzLnRyYWluZWRfZGlhbG9ndWVfbW9kZWxzID0gZGF0YS5kYXRhLm1vZGVscy5tYXAoKG1vZGVsKSA9PiB7CiAgICAvLyAgICAgICAgICAgbW9kZWwuY3JlYXRlZF9hdCA9IG1vbWVudAogICAgLy8gICAgICAgICAgICAgLnVuaXgobW9kZWwuY3JlYXRlZF9hdCkKICAgIC8vICAgICAgICAgICAgIC5mb3JtYXQoIkRvIE1NTSBZWSIpOwogICAgLy8gICAgICAgICAgIHJldHVybiBtb2RlbDsKICAgIC8vICAgICAgICAgfSk7ICAgICAgCiAgICAvLyAgICAgICB9ZWxzZSB7CiAgICAvLyAgICAgICAgIFN3YWwoewogICAgLy8gICAgICAgICAgIHRpdGxlOmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgIC8vICAgICAgICAgICB0ZXh0OmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgLy8gICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgfSkKICAgIC8vICAgICAgIH0KCiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgLy8gICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgaWYgKAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgLy8gZ2V0X3RyYWluZWRfbmVyX21vZGVscygpIHsKICAgIC8vICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAvLyAgIGF4aW9zCiAgICAvLyAgICAgLmdldCgKICAgIC8vICAgICAgIGFwaV9jYWxscy5yZXZlcnRfbmVyX21vZGVscygpLAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBwYXJhbXM6IHsKICAgIC8vICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgIC8vICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgIHJldmVydF9jb21wYW55X2lkOgogICAgLy8gICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAvLyAgICAgICAgICAgcmV2ZXJ0X2NvbXBhbnlfbmFtZToKICAgIC8vICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAvLyAgICAgICAgICAgaXNTaG93OiB0cnVlLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgfSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgfQogICAgLy8gICAgICkKICAgIC8vICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgIC8vICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFX01PREVMUy5NU0dfQ09ERSkgewogICAgLy8gICAgICAgICB0aGlzLnRyYWluZWRfbmVyX21vZGVscyA9IGRhdGEuZGF0YS5tb2RlbF9kYXRhLm1hcCgobW9kZWwpID0+IHsKICAgIC8vICAgICAgICAgICBtb2RlbC5jcmVhdGVkX2F0ID0gbW9tZW50KAogICAgLy8gICAgICAgICAgICAgbW9kZWwuY3JlYXRlZF9hdCwKICAgIC8vICAgICAgICAgICAgICJZWVlZTU1EREhIbW1zcyIKICAgIC8vICAgICAgICAgICApLmZvcm1hdCgiRG8gTU1NIFlZIik7CiAgICAvLyAgICAgICAgICAgcmV0dXJuIG1vZGVsOwogICAgLy8gICAgICAgICB9KTsgICAgICAgCiAgICAvLyAgICAgICB9ZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBX01PREVMUy5NU0dfQ09ERSl7CgogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgZWxzZXsKICAgIC8vICAgICAgICAgU3dhbCh7CiAgICAvLyAgICAgICAgICAgdGl0bGU6ZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgIHRleHQ6ZGF0YS5tZXNzYWdlLk1TRywKICAgIC8vICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAvLyAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgLy8gICAgICAgICB9KSAgICAgICAgICAgCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgLy8gICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgaWYgKAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgLy8gZ2V0X3RyYWluZWRfaW50ZW50X21vZGVscygpIHsKICAgIC8vICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAvLyAgIGF4aW9zCiAgICAvLyAgICAgLnBvc3QoCiAgICAvLyAgICAgICBhcGlfY2FsbHMudHJhaW5faW50ZW50X21vZGVsKCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICBpc0dldE1vZGVsczogdHJ1ZSwKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgIH0KICAgIC8vICAgICApCiAgICAvLyAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAvLyAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRV9NT0RFTFMuTVNHX0NPREUpIHsKICAgIC8vICAgICAgICAgdGhpcy50cmFpbmVkX2ludGVudF9tb2RlbHMgPSBkYXRhLmRhdGEubW9kZWxzLm1hcCgobW9kZWwpID0+IHsKICAgIC8vICAgICAgICAgICBtb2RlbC5jcmVhdGVkX2F0ID0gbW9tZW50KAogICAgLy8gICAgICAgICAgICAgbW9kZWwuY3JlYXRlZF9hdCwKICAgIC8vICAgICAgICAgICAgICJZWVlZTU1EREhIbW1zcyIKICAgIC8vICAgICAgICAgICApLmZvcm1hdCgiRG8gTU1NIFlZIik7CiAgICAvLyAgICAgICAgICAgcmV0dXJuIG1vZGVsOwogICAgLy8gICAgICAgICB9KTsgCiAgICAvLyAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICBTd2FsKHsKICAgIC8vICAgICAgICAgICB0aXRsZTpyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAvLyAgICAgICAgICAgdGV4dDpyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgLy8gICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgIC8vICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAvLyAgICAgICAgIH0pCiAgICAvLyAgICAgfQogICAgLy8gICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgLy8gICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgaWYgKAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgKSB7CiAgICAvLyAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSk7CiAgICAvLyB9LAogICAgLy8gYWRkX21haWwoKSB7CiAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyAgIGF4aW9zCiAgICAvLyAgICAgLnBvc3QoCiAgICAvLyAgICAgICBhcGlfY2FsbHMubm90aWZ5X3N1cGVyYWRtaW5fdXJsKCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIHNlbmR0bzogdGhpcy5zZW5kZXIsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgIGJvZHk6IHRoaXMuZW1haWxfYm9keSwKICAgIC8vICAgICAgICAgc3ViamVjdDogdGhpcy5zdWJqZWN0LAogICAgLy8gICAgICAgICBiaW5kZW1haWw6ICJGYWxzZSIsCiAgICAvLyAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gICAgICkKICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICB0b2FzdHIuc3VjY2VzcyhyZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICB9KQogICAgLy8gICAgIC5jYXRjaChlID0+IHsKICAgIC8vICAgICAgIGlmICgKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICkgewogICAgLy8gICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIGxhbmd1YWdlX3N1cHBvcnRfYXBpKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy5tdWx0aXBsZV9sYW5ndWFnZV9zdXBwb3J0X3VybCgpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBsYW5ndWFnZV9zdXBwb3J0OiB0aGlzLm11bHRpcGxlX2xhbmd1YWdlX2xpc3QsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgIT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIC8vIGZpbGVpbnB1dChlKSB7CiAgICAvLyAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgLy8gICBpZiAoZmlsZXNbMF0uc2l6ZSA+IDIwOTcxNTIpIHsKICAgIC8vICAgICBzd2FsKHsKICAgIC8vICAgICAgIHRleHQ6IHRoaXMudGx0KCdvdGhlcl91cGxvYWRfY29tcGFueV9sb2dvX21zZycpLAogICAgLy8gICAgICAgdG9hc3Q6IHRydWUsCiAgICAvLyAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgLy8gICAgICAgdHlwZTogImVycm9yIiwKICAgIC8vICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgIC8vICAgICAgIHRpbWVyOiAxMDAwMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0KICAgIC8vICAgaWYgKGZpbGVzWzBdLnR5cGUgPT09ICJpbWFnZS9wbmciIHx8IGZpbGVzWzBdLnR5cGUgPT09ICJpbWFnZS9qcGVnIikgewogICAgLy8gICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm47CiAgICAvLyAgICAgdGhpcy5vbGRfaW1hZ2VfbmFtZSA9IHRoaXMuZmlsZV9sYWJlbDsKICAgIC8vICAgICB0aGlzLmZpbGVfbGFiZWwgPSBmaWxlc1swXS5uYW1lOwogICAgLy8gICAgIHRoaXMuY3JlYXRlSW1hZ2UoZmlsZXNbMF0pOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHN3YWwoewogICAgLy8gICAgICAgdGV4dDogdGhpcy50bHQoJ290aGVyX3NlbGVjdF9pbWdfdHlwZV9tc2cnKSwKICAgIC8vICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAvLyAgICAgICB0aW1lcjogMjUwMCwKICAgIC8vICAgICB9KTsKICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vIGNyZWF0ZUltYWdlKGZpbGUsIHR5cGUpIHsKICAgIC8vICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgLy8gICByZWFkZXIub25sb2FkID0gKGUpID0+IHsKICAgIC8vICAgICB0aGlzLmltYWdlX2ZpbGUgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgIC8vICAgfTsKICAgIC8vICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAvLyB9LAogICAgLy8gZG93bmxvYWRfc2RrKGRhdGFfdHlwZSkgewogICAgLy8gICBpZiAoZGF0YV90eXBlID09ICJsaWNlbnNlX2tleSIpIHsKICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbjEgPSB0cnVlOwogICAgLy8gICAgIGF4aW9zKHsKICAgIC8vICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgLy8gICAgICAgdXJsOiBhcGlfY2FsbHMuZ2V0X2xpY2Vuc2Vfa2V5KCksCiAgICAvLyAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgIC8vICAgICAgIGRhdGE6IHsKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgfSkKICAgIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7CiAgICAvLyAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgLy8gICAgICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAvLyAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGRhdGFfdHlwZSArICIudHh0Iik7CiAgICAvLyAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAvLyAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24xID0gZmFsc2U7CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy5zcGlubmVyT24yID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcyh7CiAgICAvLyAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgIC8vICAgICAgIHVybDogYXBpX2NhbGxzLmZpbGVfZG93bmxvYWRfdXJsKCksCiAgICAvLyAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgIC8vICAgICAgIGRhdGE6IHsKICAgIC8vICAgICAgICAgZG93bmxvYWRfc2RrX3R5cGU6IGRhdGFfdHlwZSwKICAgIC8vICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAvLyAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgfSkKICAgIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbjIgPSBmYWxzZTsKICAgIC8vICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1RBVFVTX1NVQ0NFU1MuTVNHX0NPREUpIHsKICAgIC8vICAgICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAvLyAgICAgICAgICAgICB0aGlzLnRsdCgnb3RoZXJfaW50ZXJuYWxfZXJyb3JfbXNnMScpCiAgICAvLyAgICAgICAgICAgKTsKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7CiAgICAvLyAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAvLyAgICAgICAgICAgbGluay5ocmVmID0gdXJsOwogICAgLy8gICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGRhdGFfdHlwZSArICJfU0RLLnppcCIpOwogICAgLy8gICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAvLyAgICAgICAgICAgbGluay5jbGljaygpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuc3Bpbm5lck9uMiA9IGZhbHNlOwogICAgLy8gICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAvLyAgICAgICAgICAgdGhpcy50bHQoJ290aGVyX2ludGVybmFsX2Vycm9yX21zZzInKQogICAgLy8gICAgICAgICApOwogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgY29weV93aWRnZXRfY29kZSgpIHsKICAgICAgdGhpcy4kcmVmcy53aWRnZXRfdGV4dGFyZWEuc2VsZWN0KCk7CiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7CiAgICAgICQoIiNjb3B5X2NvZGVfdG9vbHRpcCIpLnRvb2x0aXAoInNob3ciKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgJCgiI2NvcHlfY29kZV90b29sdGlwIikudG9vbHRpcCgiZGlzcG9zZSIpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgICB9LCA1MDAwKTsKICAgIH0sCiAgICBjb3B5X3V1aWRfY29kZSgpIHsKICAgICAgdGhpcy4kcmVmcy51dWlkX3RleHRhcmVhMS5zZWxlY3QoKTsKICAgICAgdGhpcy4kcmVmcy51dWlkX3RleHRhcmVhMi5zZWxlY3QoKTsKICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgJCgiI2NvcHlfY29kZV90b29sdGlwIikudG9vbHRpcCgiZGlzcG9zZSIpOwogICAgICAgIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgICB9LCA1MDAwKTsKICAgIH0sCiAgICAvLyBpbml0aWFsaXplX3Rvb2x0aXBzKCkgewogICAgLy8gICAkKCdbZGF0YS10b29sdGlwPSJ0b29sdGlwIl0nKS50b29sdGlwKHsKICAgIC8vICAgICB0cmlnZ2VyOiAibWFudWFsIiwKICAgIC8vICAgfSk7CiAgICAvLyB9LAogICAgLy8gY29weV9saWNlbnNlX2tleSgpIHsKICAgIC8vICAgdGhpcy4kcmVmcy5saWNlbnNlX2tleV90ZXh0YXJlYS5zZWxlY3QoKTsKICAgIC8vICAgdGhpcy4kcmVmcy5saWNlbnNlX2tleV90ZXh0YXJlYS5zZXRTZWxlY3Rpb25SYW5nZSgwLCA5OTk5OSk7CiAgICAvLyAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjb3B5Iik7CiAgICAvLyAgICQoIiNjb3B5X2xpY25zZV9rZXlfdG9vbHRpcCIpLnRvb2x0aXAoInNob3ciKTsKICAgIC8vICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgICAgJCgiI2NvcHlfbGljbnNlX2tleV90b29sdGlwIikudG9vbHRpcCgiZGlzcG9zZSIpOwogICAgLy8gICAgIHRoaXMuaW5pdGlhbGl6ZV90b29sdGlwcygpOwogICAgLy8gICB9LCA1MDAwKTsKICAgIC8vIH0sCiAgICAvLyBjb25maWd1cmVfc2VuZGVyX2VtYWlsKHZhbHVlKXsKICAgIC8vICAgaWYgKHZhbHVlID09ICJlbWFpbCIpIHsKICAgIC8vICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgdGl0bGU6IHRoaXMudGx0KCdvdGhlcl9jb25maWd1cmVfZW1haWxfc3dhbF9tc2cnKSwKICAgIC8vICAgICAgIHRleHQ6CiAgICAvLyAgICAgICAgIHRoaXMudGx0KCdvdGhlcl92ZXJpZmljYXRpb25fbGlua19tc2cnKSwKICAgIC8vICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAvLyAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgLy8gICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAvLyAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgLy8gICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdvdGhlcl9zd2FsX3Byb2NlZWRfbXNnJykKICAgIC8vICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAvLyAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAvLyAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgLy8gICAgICAgICBheGlvcwogICAgLy8gICAgICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICAgICAgYXBpX2NhbGxzLnByb2R1Y3Rfc2V0dGluZ3MoKSwKICAgIC8vICAgICAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgICAgICAgIGlzX2VtYWlsOiB0cnVlLAogICAgLy8gICAgICAgICAgICAgICBlbWFpbF9pZDogdGhpcy5lbWFpbF9kZXRhaWxzCiAgICAvLyAgICAgICAgICAgICB9LAogICAgLy8gICAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgIC8vICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICkKICAgIC8vICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFICE9IHRoaXMuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUpIHsKICAgIC8vICAgICAgICAgICAgICAgc3dhbCh7CiAgICAvLyAgICAgICAgICAgICAgICAgdGV4dDoKICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMudGx0KCdvdGhlcl9lbWFpbF9zZW5kX3RvX21zZycpICsKICAgIC8vICAgICAgICAgICAgICAgICAgICIgIiArCiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLnRsdCgnb3RoZXJfdXNlcl9lbWFpbF9kZXRhaWxzX21zZycpICsKICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMudGx0KCdvdGhlcl9jaGVja195b3VyX2VtYWlsX21zZycpLAogICAgLy8gICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgIC8vICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ290aGVyX3N1Y2Nlc3Nfc3dhbF9idG4xJyksCiAgICAvLyAgICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgLy8gICAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5lbWFpbF9kaXNhYmxlID0gdHJ1ZTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5lbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzKCk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMubG9hZF9wcm9kdWN0X3NldHRpbmdzKCk7CiAgICAvLyAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgLy8gICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICB0b2FzdHIuZXJyb3IodGhpcy50bHQoJ290aGVyX2Vycm9yX29jY3VyX21zZycpKTsKICAgIC8vICAgICAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgICAgICkgewogICAgLy8gICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgIH0pOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gICB9ZWxzZSBpZiAodmFsdWUgPT0gImVtYWlsX3JlbW92ZSIpIHsKICAgIC8vICAgICBTd2FsLmZpcmUoewogICAgLy8gICAgICAgdGl0bGU6IHRoaXMudGx0KCdvdGhlcl9zd2FsX2FsZXJ0X21zZzEnKSwKICAgIC8vICAgICAgIHRleHQ6CiAgICAvLyAgICAgICAgIHRoaXMudGx0KCdvdGhlcl9yZW1vdmVkX3NhdmVkX2VtYWlsX21zZycpLAogICAgLy8gICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgIC8vICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAvLyAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgIC8vICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAvLyAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ290aGVyX3N3YWxfcmVtb3ZlX21zZycpCiAgICAvLyAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgLy8gICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgLy8gICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgIC8vICAgICAgICAgYXhpb3MKICAgIC8vICAgICAgICAgICAucG9zdCgKICAgIC8vICAgICAgICAgICAgIGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksCiAgICAvLyAgICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgICAgICBpc19yZW1vdmVfZW1haWw6IHRydWUsCiAgICAvLyAgICAgICAgICAgICAgIGVtYWlsX2lkOiB0aGlzLmVtYWlsX2RldGFpbHMKICAgIC8vICAgICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YAogICAgLy8gICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgKQogICAgLy8gICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgIC8vICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgIT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgLy8gICAgICAgICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnb3RoZXJfZW1haWxfcmVtb3ZlZF9zd2FsX21zZycpLAogICAgLy8gICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgIC8vICAgICAgICAgICAgICAgICB0aW1lcjogNTAwMCwKICAgIC8vICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ290aGVyX3N1Y2Nlc3Nfc3dhbF9idG4yJykKICAgIC8vICAgICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuZW1haWxfZGlzYWJsZSA9IGZhbHNlOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLmVtYWlsX2RldGFpbHMgPSBudWxsOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMubG9hZF9wcm9kdWN0X3NldHRpbmdzKCk7CiAgICAvLyAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICBzd2FsKHsKICAgIC8vICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAvLyAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgLy8gICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgIC8vICAgICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgICB0b2FzdHIuZXJyb3IodGhpcy50bHQoJ290aGVyX2Vycm9yX29jY3VyX21zZzInKSk7CiAgICAvLyAgICAgICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICAgICApIHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KTsKICAgIC8vICAgfSAKICAgIC8vIH0sCiAgICAvLyBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzKCkgewogICAgLy8gICBpZiAodGhpcy5lbWFpbF9kZXRhaWxzICE9IG51bGwgJiYgdGhpcy5lbWFpbF9kZXRhaWxzICE9ICIiKSB7CiAgICAvLyAgICAgdGhpcy5lbWFpbF9kaXNhYmxlID0gdHJ1ZTsKICAgIC8vICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgIGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAvLyAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgIGlzX2VtYWlsX3ZlcmlmaWNhdGlvbl9zdGF0dXM6IHRydWUsCiAgICAvLyAgICAgICAgICAgZW1haWxfaWQ6IHRoaXMuZW1haWxfZGV0YWlscwogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICkKICAgIC8vICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFICE9IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSAmJgogICAgLy8gICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSAhPSB0aGlzLmFwaV9zdGF0dXNfY29kZS5OT19EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERQogICAgLy8gICAgICAgICApIHsKICAgIC8vICAgICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2UuZGF0YS5kYXRhLnZlcmlmaWNhdGlvbl9zdGF0dXM7CiAgICAvLyAgICAgICAgICAgdGhpcy52ZXJpZmljYXRpb25fc3RhdHVzID0KICAgIC8vICAgICAgICAgICAgIHN0YXR1cyA9PSAiU3VjY2VzcyIKICAgIC8vICAgICAgICAgICAgICAgPyAiU3VjY2VzcyIKICAgIC8vICAgICAgICAgICAgICAgOiBzdGF0dXMgPT0gIlBlbmRpbmciCiAgICAvLyAgICAgICAgICAgICAgID8gdGhpcy50bHQoJ290aGVyX3BlbmRpbmdfdmVyaWZ5X2VtYWlsX21zZycpCiAgICAvLyAgICAgICAgICAgICAgIDogc3RhdHVzICsKICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnRsdCgnb3RoZXJfbGlua19leHBpcmVkX21zZycpOwogICAgLy8gICAgICAgICB9ZWxzZSB7CiAgICAvLyAgICAgICAgICAgU3dhbCh7CiAgICAvLyAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgLy8gICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgIC8vICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAvLyAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAvLyAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC5jYXRjaChlID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgdG9wX25hdmJhcl9kaXNhYmxlKCl7CiAgICAgIGlmICh0aGlzLmRpc2FibGVfc2lkZWJhciA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiAncG9pbnRlci1ldmVudHM6bm9uZTsnICAgIAogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gJycKICAgICAgfQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Miscellaneous.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Miscellaneous.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Settings","sourcesContent":["<template>\n  <div class=\"dash-cont\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"big_spinner\"></div>\n    <div class=\"container-fluid\">\n      <div class=\"card dash-card\">\n        <div\n          class=\"\n            card-header\n            d-block d-sm-flex\n            flex-wrap\n            justify-content-between\n          \"\n        ></div>\n        <div class=\"card-body\" style=\"margin-top: -2%\">\n          <ul class=\"nav nav-tabs mb-3\" id=\"myTab\" role=\"tablist\" :style=\"top_navbar_disable()\">\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4 active\"\n                id=\"others-tab\"\n                data-toggle=\"tab\"\n                href=\"#others\"\n                role=\"tab\"\n                aria-controls=\"others\"\n                aria-selected=\"true\"\n                @click=\"view_component_name = 'others'\"\n                >{{tlt('general_tab_name')}}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"integrations-tab\"\n                data-toggle=\"tab\"\n                href=\"#integrations\"\n                role=\"tab\"\n                aria-controls=\"integrations\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'integrations'\"\n                >{{tlt('integration_tab_name')}}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"models-tab\"\n                data-toggle=\"tab\"\n                href=\"#models\"\n                role=\"tab\"\n                aria-controls=\"models\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'models'\"\n                >{{tlt('models_tab_name')}}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"accounts-tab\"\n                data-toggle=\"tab\"\n                href=\"#accounts\"\n                role=\"tab\"\n                aria-controls=\"accounts\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'accounts'\"\n                >{{tlt('accounts_tab_name')}}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"suggestions-tab\"\n                data-toggle=\"tab\"\n                href=\"#suggestions\"\n                role=\"tab\"\n                aria-controls=\"suggestions\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'suggestions'\"\n                >{{tlt('suggestions_tab_name')}}</a\n              >\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link pl-4 pr-4\"\n                id=\"social-media\"\n                data-toggle=\"tab\"\n                href=\"#socialmedia\"\n                role=\"tab\"\n                aria-controls=\"socialmedia\"\n                aria-selected=\"false\"\n                @click=\"view_component_name = 'socialmedia'\"\n                >{{tlt('social_media_tab_name')}}</a\n              >\n            </li>\n          </ul>\n          <div class=\"tab-content\" id=\"myTabContent\">\n            <div\n              class=\"tab-pane fade\"\n              id=\"accounts\"\n              role=\"tabpanel\"\n              aria-labelledby=\"accounts-tab\"\n            >\n              <template v-if=\"view_component_name === 'accounts'\">\n                <billing />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"suggestions\"\n              role=\"tabpanel\"\n              aria-labelledby=\"suggestions-tab\"\n            >\n              <template v-if=\"view_component_name === 'suggestions'\">\n                <feedback />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"integrations\"\n              role=\"tabpanel\"\n              aria-labelledby=\"integrations-tab\"\n            >\n              <template v-if=\"view_component_name === 'integrations'\">\n                <integration-layout />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade\"\n              id=\"socialmedia\"\n              role=\"tabpanel\"\n              aria-labelledby=\"social-media\"\n            >\n              <template v-if=\"view_component_name === 'socialmedia'\">\n                <social-media-links />\n              </template>\n            </div>\n            <div\n              class=\"tab-pane fade active show\"\n              id=\"others\"\n              role=\"tabpanel\"\n              aria-labelledby=\"others-tab\"\n            >\n              <template v-if=\"view_component_name === 'others'\">\n                <general-tab />\n              </template>\n            </div>\n\n            <div\n              class=\"tab-pane fade\"\n              id=\"models\"\n              role=\"tabpanel\"\n              aria-labelledby=\"models-tab\"\n            >\n              <template v-if=\"view_component_name === 'models'\">\n                <models-tab />\n              </template>\n              \n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-7\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport JsonExcel from \"vue-json-excel\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { setTimeout } from \"timers\";\nimport api_calls from \"@/portal/api_calls\";\nimport Multiselect from \"vue-multiselect\";\nimport VoerroTagsInput from \"@voerro/vue-tagsinput\";\nimport \"@voerro/vue-tagsinput/dist/style.css\";\nimport moment from \"moment\";\nimport Billing from \"../Account/Billing.vue\";\nimport swal from \"sweetalert2\";\nimport Feedback from \"./Feedback.vue\";\nimport ModelsTab from \"./ModelsTab.vue\";\nimport GeneralTab from \"./GeneralTab.vue\";\nimport IntegrationLayout from \"../Integrations/IntegrationLayout.vue\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\nimport VuePhoneNumberInput from 'vue-phone-number-input';\nimport 'vue-phone-number-input/dist/vue-phone-number-input.css';\nimport SocialMediaLinks from \"../Integrations/SocialMediaLinks.vue\";\nimport { bus } from \"@/portal/main\";\n\nVue.component(\"downloadExcel\", JsonExcel);\nexport default {\n  name: \"MiscellaneousPage\",\n  mixins: [freeze_portal, show_subscription_expired_swal],\n  components: {\n    Multiselect,\n    \"tags-input\": VoerroTagsInput,\n    Billing,\n    Feedback,\n    IntegrationLayout,\n    VuePhoneNumberInput,\n    SocialMediaLinks,\n    GeneralTab,\n    ModelsTab\n  },\n  data() {\n    return {\n      view_component_name: \"others\",\n      // start_greetings: \"\",\n      // end_greetings: \"\",\n      title: \"\",\n      image_file: null,\n      file_label: \"Choose file\",\n      sender: null,\n      subject: null,\n      email_body: null,\n      companyid: null,\n      companyname: null,\n      multiple_language_list: [],\n      phoneNumber: null,\n      contact_us_phone_number: null,\n      contact_us_email: \"\",\n      email_validity:\n        /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,\n      is_retail: false,\n      old_image_name: null,\n      spinnerOn1: false,\n      spinnerOn2: false,\n      big_spinner: false,\n      trained_dialogue_models: null,\n      trained_intent_models: null,\n      current_license_key: this.$session.get(\"UserInformation\").license_key,\n      trained_ner_models: null,\n      disable_btn_expired:false,\n      retail_web_framework : this.$session.get(\"retail_web_framework\"),\n      email_details : null,\n      email_disable : false,\n      verification_status: null,\n      reset_icon_path: require(\"@/portal/assets/img/reset_icon.svg\"),\n      disable_sidebar: false,\n    };\n  },\n  created() {\n    if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n      this.companyid = this.$session.get(\"CompanyId\");\n      this.companyname = this.$session.get(\"CompanyName\");\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n    // axios\n    //   .post(\n    //     api_calls.twilio_greetings(),\n    //     {\n    //       company_name: this.companyname,\n    //       company_id: this.companyid,\n    //       email: this.$session.get(\"UserInformation\").email,\n    //       license_key: this.$session.get(\"UserInformation\").license_key,\n    //       token: this.$session.get(\"UserInformation\").tokens,\n    //       isShow: true\n    //     },\n    //     {\n    //       headers: {\n    //         Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //       }\n    //     }\n    //   )\n    //   .then(response => {\n    //     this.start_greetings = response.data.greeting;\n    //     this.end_greetings = response.data.busy;\n    //   })\n    //   .catch(e => {\n    //     if (\n    //       e.response.status === 410 ||\n    //       e.response.status === 440 ||\n    //       e.response.status === 409\n    //     ) {\n    //       this.$root.$emit(\"Session_Expired\", e.response.data);\n    //     }\n    //   });\n  },\n  mounted() {\n    this.$session.set(\"CurrentActiveTabForHelp\", this.view_component_name)\n    if (this.$session.get(\"SettingTopnavbarDisable\") == true) {\n      this.disable_sidebar = true;\n    }else{\n      this.disable_sidebar = false;\n    }\n    //console.log(this.view_component_name,\"comp name\");\n      bus.$on(\"CurrentActiveTab\", (data) => {\n        if(data === this.$route.fullPath) {\n          //console.log(\"Hello\",this.$route);\n          return this.view_component_name;\n          // bus.$emit(\"CurrrentActiveTabResponse\", this.view_component_name)\n        }\n      });\n    // if(this.is_retail != true){\n    //   this.load_product_settings();\n    // }\n    let bot_templates_data = this.$session.get(\"BotTemplates\");\n    if (bot_templates_data != undefined){\n      for (let i = 0; i < bot_templates_data.length; i++) {\n        if (\n          bot_templates_data[i].domain === \"Retail\" &&\n          bot_templates_data[i].subscribed === true\n        ) {\n          this.is_retail = true;\n        }\n      }\n    }\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    this.$root.$on(\"MiscellaneousPageDisabled\", (data) => {\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    });\n    this.$root.$on(\"accountPage\", (data) => {\n      if(data===true){\n         $(\"#accounts-tab\").click();\n        this.view_component_name = \"accounts\";\n      }\n    });\n    // this.initialize_tooltips();\n    var vm = this;\n    // this.get_trained_dialogue_models();\n    // this.get_trained_intent_models();\n    // this.get_trained_ner_models();\n    // this.get_company_logo();\n  \n    if (this.$route.params.Subscription === true) {\n      $(\"#accounts-tab\").click();\n      this.view_component_name = \"accounts\";\n      this.$root.$emit(\"change_sidebar_main_menu\", \"Settings\");\n    }\n    this.retail_web_framework = this.$session.get(\"retail_web_framework\");\n    if (this.$route.query.Subscription == \"true\") {\n      $(\"#accounts-tab\").click();\n      this.view_component_name = \"accounts\";\n    }\n  },\n  computed: {\n  //   validEmail() {\n  //     if (this.contact_us_email != null) {\n  //       if (this.email_validity.test(this.contact_us_email)) {\n  //         return true;\n  //       } else {\n  //         return this.tlt('other_enter_valid_email_msg');\n  //       }\n  //     }\n  // }\n},\n  watch: {\n    view_component_name(newVal) {\n        this.$session.set(\"CurrentActiveTabForHelp\", newVal)\n      },\n    bot_background_type(newVal, oldVal) {\n      if (newVal === \"none\") {\n        this.file_label_3 = \"Choose File\";\n        this.image_file_3 = null;\n        this.is_bg_image_changed = true;\n        // this.old_image_name_3 = null;\n        document.getElementById(\"inputGroupFile03\").value = \"\";\n      }\n    },\n    // email_details() {\n    //   if (this.email_details == null || this.email_details == \"\") {\n    //     this.email_disable = false;\n    //   }\n    // }\n  },\n  methods: {\n    generateUUID() {\n      // Public Domain/MIT\n      var d = new Date().getTime(); //Timestamp\n      var d2 =\n        (performance && performance.now && performance.now() * 1000) || 0; //Time in microseconds since page-load or 0 if unsupported\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function (c) {\n          var r = Math.random() * 16; //random number between 0 and 16\n          if (d > 0) {\n            //Use timestamp until depleted\n            r = (d + r) % 16 | 0;\n            d = Math.floor(d / 16);\n          } else {\n            //Use microseconds since page-load if supported\n            r = (d2 + r) % 16 | 0;\n            d2 = Math.floor(d2 / 16);\n          }\n          return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n        }\n      );\n    },\n    // trim_model_name(val1) {\n    //   if (val1.length > 6) {\n    //     let str1 = val1.substring(0, 3) + \"...\";\n    //     return str1;\n    //   }\n    //   return val1;\n    // },\n    // load_product_settings() {\n    //   this.big_spinner = true;\n    //   axios\n    //     .post(\n    //       api_calls.product_settings(),\n    //       {\n    //         company_name: this.companyname,\n    //         company_id: this.companyid,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         is_get: true,\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //         },\n    //       }\n    //     )\n    //     .then((response) => {\n    //       if (response.data.message.MSG_CODE === this.api_status_code.DATA_AVAILABLE.MSG_CODE){\n    //         this.big_spinner = false; \n    //         var webframework = this.retail_web_framework;\n    //         if (webframework === null || webframework === undefined ){\n    //           webframework = undefined;\n    //         }\n    //         if (\n    //           response.data.message.MSG_CODE != this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE &&\n    //           response.data.message.MSG_CODE != this.api_status_code.EMPTY_DATA.MSG_CODE\n    //         ) {\n    //           this.contact_us_email = webframework === undefined ? response.data.data.details.contact_help_email : response.data.data[webframework + '_details'].contact_help_email;\n    //           this.contact_us_phone_number = webframework === undefined  ? response.data.data.details.contact_us_phone_number: response.data.data[webframework + '_details'].contact_us_phone_number;\n    //           this.email_details = webframework === undefined ? response.data.data.details.sender_email : response.data.data[webframework + '_details'].sender_email;\n    //           this.email_verification_status();\n    //         }\n    //       }else {\n    //         Swal({\n    //           title: response.data.message.MSG_CODE,\n    //           text: response.data.message.MSG,\n    //           showCancelButton: false,\n    //           showConfirmButton: false,\n    //           timer: 2500,\n    //           type: \"error\"\n    //         })\n    //       }\n    //     })\n    //     .catch((e) => {\n    //       this.big_spinner = false;\n    //       toastr.error(this.tlt('other_error_occur_msg'));\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    // get_company_logo() {\n    //   axios\n    //     .post(\n    //       api_calls.upload_company_logo(),\n    //       {\n    //         company_name: this.companyname,\n    //         company_id: this.companyid,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         is_get: true,\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //         },\n    //       }\n    //     )\n    //     .then((response) => {\n    //       if(response.data.message.MSG_CODE === this.api_status_code.COMPANY_IMAGE_URL_RECEIVED.MSG_CODE){\n    //         this.file_label = response.data.data.company_image_url\n    //           .split(\"/\")\n    //           .reverse()[0];\n    //         this.file_label = decodeURI(this.file_label);\n    //         this.old_image_name = this.file_label;\n    //         if (this.file_label == \"\") {\n    //           this.file_label = \"Choose file\";\n    //         }\n    //       }else if (response.data.message.MSG_CODE === this.api_status_code.DATA_NOT_FOUND.MSG_CODE){\n\n    //       }else {\n    //         Swal({\n    //           title: response.data.message.MSG_CODE,\n    //           text: response.data.message.MSG,\n    //           showCancelButton: false,\n    //           showConfirmButton: false,\n    //           timer: 2500,\n    //           type: \"error\"\n    //         })\n    //       }\n    //     })\n    //     .catch((e) => {\n    //       console.log(e);\n    //       this.file_label = \"Choose file\";\n    //       document.getElementById(\"input_company_file\").value = \"\";\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    // upload_company_logo_file() {\n    //   if (\n    //     this.file_label == this.old_image_name ||\n    //     document.getElementById(\"input_company_file\").value == \"\"\n    //   ) {\n    //     swal({\n    //       text: this.tlt('other_select_file_msg'),\n    //       type: \"error\",\n    //       timer: 2500,\n    //     });\n    //   } else {\n    //     this.big_spinner = true;\n    //     axios\n    //       .post(\n    //         api_calls.upload_company_logo(),\n    //         {\n    //           company_id: this.$session.get(\"UserInformation\").company_id,\n    //           company_name: this.$session.get(\"UserInformation\").company_name,\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           image_name: this.file_label,\n    //           company_logo_file: this.image_file,\n    //           is_image_edit:\n    //             this.file_label != this.old_image_name ? true : false,\n    //           old_image_name:\n    //             this.old_image_name == \"Choose File\"\n    //               ? null\n    //               : this.old_image_name,\n    //         },\n    //         {\n    //           headers: {\n    //             Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //           },\n    //         }\n    //       )\n    //       .then((response) => {\n    //         this.big_spinner = false;\n    //         this.get_company_logo();\n    //         if (response.data.message.MSG_CODE === this.api_status_code.IMG_DUPLICATE.MSG_CODE) {\n    //           document.getElementById(\"input_company_file\").value = \"\";\n    //           // toastr.error(\n    //           //   \"Image already found. Please upload another image or rename it.\"\n    //           // );\n    //           swal({\n    //             text: this.tlt('other_img_already_found_msg'),\n    //             type: \"error\",\n    //             timer: 3000,\n    //           });\n    //         } else if (\n    //           response.data.message.MSG_CODE === this.api_status_code.COMPANY_LOGO_UPDATED.MSG_CODE\n    //         ) {\n    //           swal({\n    //             text: this.tlt('other_logo_upload_successful_msg'),\n    //             type: \"success\",\n    //             timer: 2500,\n    //           });\n    //         } else {\n    //           document.getElementById(\"input_company_file\").value = \"\";\n    //           swal({\n    //             title: response.data.message.MSG_CODE,\n    //             text: response.data.message.MSG,\n    //             showCancelButton: false,\n    //             showConfirmButton: false,\n    //             timer: 2500,\n    //             type: \"error\"\n    //           });\n    //         }\n    //       })\n    //       .catch((e) => {\n    //         swal({\n    //           text: this.tlt('other_error_occur_msg3'),\n    //           type: \"error\",\n    //           timer: 2500,\n    //         });\n    //         this.get_company_logo();\n    //         this.big_spinner = false;\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   }\n    // },\n    // configure_product_settings() {\n    //   event.preventDefault();\n    //   if (this.validEmail != true && !Boolean(this.phoneNumber) ) {\n    //     swal({\n    //       text: this.tlt('other_valid_email_or_number_msg'),\n    //       type: \"warning\",\n    //       timer: 3000,\n    //     });\n    //     return;\n    //   }\n    //   // if (!Boolean(this.phoneNumber)) {\n    //   //   swal({\n    //   //     text: \"Please enter a valid Phone Number\",\n    //   //     type: \"warning\",\n    //   //     timer: 3000,\n    //   //   });\n    //   //   return;\n    //   // else if (this.phoneNumber.isValid != true) {\n    //   //   swal({\n    //   //     text: \"Please enter a valid Phone Number\",\n    //   //     type: \"warning\",\n    //   //     timer: 3000,\n    //   //   });\n    //   //   return;\n    //   // }\n    //   this.big_spinner = true;\n    //   axios\n    //     .post(\n    //       api_calls.product_settings(),\n    //       {\n    //         company_name: this.companyname,\n    //         company_id: this.companyid,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         is_email_required: true,\n    //         email_required: {\n    //           contact_help_email: this.contact_us_email,\n    //           contact_us_phone_number: (Boolean(this.phoneNumber) && this.phoneNumber.isValid == true) ? this.phoneNumber.formattedNumber : null,\n    //         },\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //         },\n    //       }\n    //     )\n    //     .then((response) => {\n    //       this.big_spinner = false;\n    //       if (response.data.message.MSG_CODE === this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE) {\n    //         swal({\n    //           text: this.tlt('other_changes_saved_msg'),\n    //           type: \"success\",\n    //           timer: 4000,\n    //         });\n    //         this.empty_variable();\n    //         this.load_product_settings();\n    //       } else {\n    //         swal({\n    //           title: response.data.message.MSG_CODE,\n    //           text: response.data.message.MSG,\n    //           showCancelButton: false,\n    //           showConfirmButton: false,\n    //           timer: 2500,\n    //           type: \"error\"\n    //         });\n    //       }\n    //     })\n    //     .catch((e) => {\n    //       this.big_spinner = false;\n    //       toastr.error(this.tlt('other_error_occur_msg4'));\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    button_class(index) {\n      if (this.multiple_language_list.length != 0) {\n        if (this.multiple_language_list[index].Enabled == true) {\n          return \"button_enabled\";\n        } else if (this.multiple_language_list[index].Enabled == false) {\n          return \"button_disabled\";\n        }\n      } else {\n        return \"button_disabled\";\n      }\n    },\n    multiple_language_style() {},\n    multiple_language_api(language, index) {\n      let button_class;\n      if (language != \"all\") {\n        button_class = document.getElementById(language + \"_button\").classList;\n        if (button_class.contains(\"button_disabled\")) {\n          button_class.remove(\"button_disabled\");\n          button_class.add(\"button_enabled\");\n          this.multiple_language_list[index].Enabled = true;\n          this.language_support_api();\n        } else if (button_class.contains(\"button_enabled\")) {\n          button_class.remove(\"button_enabled\");\n          button_class.add(\"button_disabled\");\n          this.multiple_language_list[index].Enabled = false;\n          this.language_support_api();\n        }\n      } else if (language == \"all\") {\n        if (event.target.checked) {\n          document\n            .getElementById(\"english_button\")\n            .classList.add(\"button_enabled\");\n          document\n            .getElementById(\"english_button\")\n            .classList.remove(\"button_disabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.add(\"button_enabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.remove(\"button_disabled\");\n          if (\n            this.multiple_language_list[0].Enabled &&\n            this.multiple_language_list[1].Enabled\n          ) {\n          } else {\n            for (var i in this.multiple_language_list) {\n              this.multiple_language_list[i].Enabled = true;\n            }\n            this.language_support_api();\n          }\n        } else if (!event.target.checked) {\n          document\n            .getElementById(\"english_button\")\n            .classList.remove(\"button_enabled\");\n          document\n            .getElementById(\"english_button\")\n            .classList.add(\"button_disabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.remove(\"button_enabled\");\n          document\n            .getElementById(\"hindi_button\")\n            .classList.add(\"button_disabled\");\n          if (\n            !this.multiple_language_list[0].Enabled &&\n            !this.multiple_language_list[1].Enabled\n          ) {\n          } else {\n            for (var i in this.multiple_language_list) {\n              this.multiple_language_list[i].Enabled = false;\n            }\n            this.language_support_api();\n          }\n        }\n      }\n    },\n    // select_trained_dialogue_model(index) {\n    //   if(!this.disable_btn_expired){\n    //     let call_api = true;\n    //     for (let i = 0; i < this.trained_dialogue_models.length; i++) {\n    //       if (this.trained_dialogue_models[index].active) {\n    //         call_api = false;\n    //         break;\n    //       }\n    //     }\n    //     if (call_api) {\n    //       Swal.fire({\n    //         title: this.tlt('trained_dialog_swal_alert_msg'),\n    //         text:\n    //           this.tlt('trained_dialog_swal_set_msg') +\n    //           this.tlt('trained_dialog_swal_companyname_msg') +\n    //           \" V\" +\n    //           (this.tlt('trained_dialog_model_swal_msg').length - index) +\n    //           this.tlt('trained_dialog_current_model_msg'),\n    //         type: \"question\",\n    //         showCancelButton: true,\n    //         confirmButtonColor: \"#3085d6\",\n    //         cancelButtonColor: \"#d33\",\n    //         confirmButtonText: this.tlt('trained_dialog_swal_confirm_msg'),\n    //         allowOutsideClick: false,\n    //         allowEscapeKey: false,\n    //       }).then((result) => {\n    //         if (result.value) {\n    //           this.$root.$emit(\"DashboardSidebarDisable\",true);\n    //           this.$session.set(\"SettingTopnavbarDisable\",true);\n    //           this.disable_sidebar = true;\n    //           this.big_spinner = true;\n    //           // Swal.fire({\n    //           //   text: \"Please wait while we submit your request\",\n    //           //   toast: true,\n    //           //   type: \"info\",\n    //           //   showCancelButton: false,\n    //           //   showConfirmButton: false,\n    //           // });\n    //           axios\n    //             .post(\n    //               api_calls.revert_models(),\n    //               {\n    //                 email: this.$session.get(\"UserInformation\").email,\n    //                 license_key: this.$session.get(\"UserInformation\").license_key,\n    //                 token: this.$session.get(\"UserInformation\").tokens,\n    //                 subscription:\n    //                   this.$session.get(\"UserInformation\").subscription,\n    //                 company_details: {\n    //                   company_id: this.$session.get(\"UserInformation\").company_id,\n    //                   company_name:\n    //                     this.$session.get(\"UserInformation\").company_name,\n    //                 },\n    //                 model_file: this.trained_dialogue_models[index].FileName,\n    //               },\n    //               {\n    //                 headers: {\n    //                   Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //                 },\n    //               }\n    //             )\n    //             .then((response) => {\n    //               this.big_spinner = false;\n    //               this.disable_sidebar = false;\n    //               this.$root.$emit(\"DashboardSidebarDisable\",false);\n    //               this.$session.set(\"SettingTopnavbarDisable\",false);\n    //               if (response.data.message.MSG_CODE === this.api_status_code.UPDATED_CORE.MSG_CODE) {\n    //                 Swal.fire({\n    //                   title: this.tlt('trained_dialog_model_updated_msg'),\n    //                   type: \"success\",\n    //                   allowOutsideClick: false,\n    //                   allowEscapeKey: false,\n    //                   timer: 2000,\n    //                 })\n    //                 this.get_trained_dialogue_models();\n    //               } else {\n    //                 Swal.fire({\n    //                   title: response.data.message.MSG_CODE,\n    //                   text: response.data.message.MSG,\n    //                   showCancelButton: false,\n    //                   showConfirmButton: false,\n    //                   timer: 2500,\n    //                   type: \"error\"\n    //                 });\n    //               }\n    //               // console.log(response);\n    //             })\n    //             .catch((e) => {\n    //               this.big_spinner = false;\n    //               this.disable_sidebar = false;\n    //               this.$root.$emit(\"DashboardSidebarDisable\",false);\n    //               this.$session.set(\"SettingTopnavbarDisable\",false);\n    //               if (\n    //                 e.response.status === 410 ||\n    //                 e.response.status === 440 ||\n    //                 e.response.status === 409\n    //               ) {\n    //                 this.$root.$emit(\"Session_Expired\", e.response.data);\n    //               }\n    //             });\n    //         }\n    //       });\n    //     }\n    //   }else{\n    //     this.show_subscription_expired_swal(true);\n    //   }\n    // },  \n    // select_trained_intent_model(index) {\n    //   if(!this.disable_btn_expired){\n    //     let call_api = true;\n    //     for (let i = 0; i < this.trained_intent_models.length; i++) {\n    //       if (this.trained_intent_models[index].active) {\n    //         call_api = false;\n    //         break;\n    //       }\n    //     }\n    //     if (call_api) {\n    //       Swal.fire({\n    //         title: this.tlt('trained_intent_swal_alert_msg'),\n    //         text:\n    //           this.tlt('trained_intent_swal_set_msg') +\n    //           this.tlt('trained_intent_swal_companyname_msg') +\n    //           \" V\" +\n    //           (this.tlt('trained_intent_model_swal_msg').length - index) +\n    //           this.tlt('trained_intent_current_model_msg'),\n    //         type: \"question\",\n    //         showCancelButton: true,\n    //         confirmButtonColor: \"#3085d6\",\n    //         cancelButtonColor: \"#d33\",\n    //         confirmButtonText: this.tlt('trained_intent_swal_confirm_msg'),\n    //         allowOutsideClick: false,\n    //         allowEscapeKey: false,\n    //       }).then((result) => {\n    //         if (result.value) {\n    //           this.disable_sidebar = true;\n    //           this.$root.$emit(\"DashboardSidebarDisable\",true);\n    //           this.$session.set(\"SettingTopnavbarDisable\",true);\n    //           this.big_spinner = true;\n    //           // Swal.fire({\n    //           //   text: \"Please wait while we submit your request\",\n    //           //   toast: true,\n    //           //   type: \"info\",\n    //           //   showCancelButton: false,\n    //           //   showConfirmButton: false,\n    //           // });\n    //           axios\n    //             .post(\n    //               api_calls.train_intent_model(),\n    //               {\n    //                 company_name: this.companyname,\n    //                 company_id: this.companyid,\n    //                 email: this.$session.get(\"UserInformation\").email,\n    //                 license_key: this.$session.get(\"UserInformation\").license_key,\n    //                 token: this.$session.get(\"UserInformation\").tokens,\n    //                 FileName: this.trained_intent_models[index].FileName,\n    //                 isChangeModelVersion: true,\n    //               },\n    //               {\n    //                 headers: {\n    //                   Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //                 },\n    //               }\n    //             )\n    //             .then((response) => {\n    //               this.big_spinner = false;\n    //               this.disable_sidebar = false;\n    //               this.$root.$emit(\"DashboardSidebarDisable\",false);\n    //               this.$session.set(\"SettingTopnavbarDisable\",false);\n    //               if (response.data.message.MSG_CODE === this.api_status_code.MODEL_UPDATED_MODELS.MSG_CODE) {\n    //                 this.get_trained_intent_models();\n    //                 Swal.fire({\n    //                   title: this.tlt('trained_intent_model_updated_msg'),\n    //                   type: \"success\",\n    //                   allowOutsideClick: false,\n    //                   allowEscapeKey: false,\n    //                   timer: 2000,\n    //                 });\n    //               } else {\n    //                 Swal.fire({\n    //                   title: response.data.message.MSG_CODE,\n    //                   text: response.data.message.MSG,\n    //                   showCancelButton: false,\n    //                   showConfirmButton: false,\n    //                   type: \"error\"\n    //                 });\n    //               }\n    //               // console.log(response);\n    //             })\n    //             .catch((e) => {\n    //               console.log(e)\n    //               this.big_spinner = false;\n    //               this.disable_sidebar = false;\n    //               this.$root.$emit(\"DashboardSidebarDisable\",false);\n    //               this.$session.set(\"SettingTopnavbarDisable\",false);\n    //               if (\n    //                 e.response.status === 410 ||\n    //                 e.response.status === 440 ||\n    //                 e.response.status === 409\n    //               ) {\n    //                 this.$root.$emit(\"Session_Expired\", e.response.data);\n    //               }\n    //             });\n    //         }\n    //       });\n    //     }\n    //   }else{\n    //     this.show_subscription_expired_swal(true);\n    //   }\n    // },\n    // select_trained_ner_model(index) {\n    //   if(!this.disable_btn_expired){\n    //     let call_api = true;\n    //     for (let i = 0; i < this.trained_ner_models.length; i++) {\n    //       if (this.trained_ner_models[index].active) {\n    //         call_api = false;\n    //         break;\n    //       }\n    //     }\n    //     if (call_api) {\n    //       Swal.fire({\n    //         title: this.tlt('trained_ner_swal_alert_msg'),\n    //         text:\n    //           this.tlt('trained_ner_swal_set_msg') +\n    //           this.tlt('trained_ner_swal_companyname_msg') +\n    //           \" V\" +\n    //           (this.tlt('trained_ner_model_swal_msg').length - index) +\n    //           this.tlt('trained_ner_current_model_msg'),\n    //         type: \"question\",\n    //         showCancelButton: true,\n    //         confirmButtonColor: \"#3085d6\",\n    //         cancelButtonColor: \"#d33\",\n    //         confirmButtonText: this.tlt('trained_ner_swal_confirm_msg'),\n    //         allowOutsideClick: false,\n    //         allowEscapeKey: false,\n    //       }).then((result) => {\n    //         if (result.value) {\n    //           this.$root.$emit(\"DashboardSidebarDisable\",true);\n    //           this.$session.set(\"SettingTopnavbarDisable\",true);\n    //           this.disable_sidebar = true;\n    //           this.big_spinner = true;\n    //           // Swal.fire({\n    //           //   text: \"Please wait while we submit your request\",\n    //           //   toast: true,\n    //           //   type: \"info\",\n    //           //   showCancelButton: false,\n    //           //   showConfirmButton: false,\n    //           // });\n    //           axios\n    //             .post(\n    //               api_calls.revert_ner_models(),\n    //               {\n    //                 company_name: this.companyname,\n    //                 company_id: this.companyid,\n    //                 email: this.$session.get(\"UserInformation\").email,\n    //                 license_key: this.$session.get(\"UserInformation\").license_key,\n    //                 token: this.$session.get(\"UserInformation\").tokens,\n    //                 company_details: {\n    //                   company_id: this.companyid,\n    //                   company_name: this.companyname,\n    //                 },\n    //                 model_file: this.trained_ner_models[index].FileName,\n    //               },\n    //               {\n    //                 headers: {\n    //                   Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //                 },\n    //               }\n    //             )\n    //             .then((response) => {\n    //               this.disable_sidebar = false;\n    //               this.$root.$emit(\"DashboardSidebarDisable\",true);\n    //               this.$session.set(\"SettingTopnavbarDisable\",true);\n    //               this.big_spinner = false;\n    //               if (response.data.message.MSG_CODE === this.api_status_code.REVERT_SUCCESSFUL_MODELS.MSG_CODE) {\n    //                 Swal.fire({\n    //                   title: this.tlt('trained_ner_model_updated_msg'),\n    //                   type: \"success\",\n    //                   allowOutsideClick: false,\n    //                   allowEscapeKey: false,\n    //                   timer: 2000,\n    //                 }).then((result_success) => {\n    //                   // if (result_success.value) {\n    //                   this.big_spinner = true;\n    //                   this.get_trained_ner_models();\n    //                   // }\n    //                 });\n    //               } else {\n    //                 Swal.fire({\n    //                   title: response.data.message.MSG_CODE,\n    //                   text: response.data.message.MSG,\n    //                   showCancelButton: false,\n    //                   showConfirmButton: false,\n    //                   type: \"error\",\n    //                   timer: 2500\n    //                 });\n    //               }\n    //               // console.log(response);\n    //             })\n    //             .catch((e) => {\n    //               this.big_spinner = false;\n    //               this.disable_sidebar = false;\n    //               this.$root.$emit(\"DashboardSidebarDisable\",true);\n    //               this.$session.set(\"SettingTopnavbarDisable\",true);\n    //               if (\n    //                 e.response.status === 410 ||\n    //                 e.response.status === 440 ||\n    //                 e.response.status === 409\n    //               ) {\n    //                 this.$root.$emit(\"Session_Expired\", e.response.data);\n    //               }\n    //             });\n    //         }\n    //       });\n    //     }\n    //   }else{\n    //     this.show_subscription_expired_swal(true);\n    //   }\n    // },\n    // get_trained_dialogue_models() {\n    //   this.big_spinner = true;\n    //   axios\n    //     .post(\n    //       api_calls.use_model(),\n    //       {\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         company_name: this.$session.get(\"UserInformation\").company_name,\n    //         company_id: this.$session.get(\"UserInformation\").company_id,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         isShow: true,\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //         },\n    //       }\n    //     )\n    //     .then(({ data }) => {\n    //       this.big_spinner = false;\n    //       if (data.message.MSG_CODE === this.api_status_code.SUCCESSFUL_DB_QUERY_CORE.MSG_CODE) {\n    //         this.trained_dialogue_models = data.data.models.map((model) => {\n    //           model.created_at = moment\n    //             .unix(model.created_at)\n    //             .format(\"Do MMM YY\");\n    //           return model;\n    //         });      \n    //       }else {\n    //         Swal({\n    //           title:data.message.MSG_CODE,\n    //           text:data.message.MSG,\n    //           showCancelButton: false,\n    //           showConfirmButton: false,\n    //           timer: 2500,\n    //           type: \"error\"\n    //         })\n    //       }\n\n    //     })\n    //     .catch((e) => {\n    //       console.log(e);\n    //       this.big_spinner = false;\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    // get_trained_ner_models() {\n    //   this.big_spinner = true;\n    //   axios\n    //     .get(\n    //       api_calls.revert_ner_models(),\n    //       {\n    //         params: {\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           company_name: this.$session.get(\"UserInformation\").company_name,\n    //           company_id: this.$session.get(\"UserInformation\").company_id,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           revert_company_id:\n    //             this.$session.get(\"UserInformation\").company_id,\n    //           revert_company_name:\n    //             this.$session.get(\"UserInformation\").company_name,\n    //           isShow: true,\n    //         },\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //         },\n    //       }\n    //     )\n    //     .then(({ data }) => {\n    //       this.big_spinner = false;\n    //       if (data.message.MSG_CODE === this.api_status_code.DATA_AVAILABLE_MODELS.MSG_CODE) {\n    //         this.trained_ner_models = data.data.model_data.map((model) => {\n    //           model.created_at = moment(\n    //             model.created_at,\n    //             \"YYYYMMDDHHmmss\"\n    //           ).format(\"Do MMM YY\");\n    //           return model;\n    //         });       \n    //       }else if (data.message.MSG_CODE === this.api_status_code.EMPTY_DATA_MODELS.MSG_CODE){\n\n    //       }\n    //       else{\n    //         Swal({\n    //           title:data.message.MSG_CODE,\n    //           text:data.message.MSG,\n    //           showCancelButton: false,\n    //           showConfirmButton: false,\n    //           timer: 2500,\n    //           type: \"error\"\n    //         })           \n    //       }\n    //     })\n    //     .catch((e) => {\n    //       console.log(e);\n    //       this.big_spinner = false;\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    // get_trained_intent_models() {\n    //   this.big_spinner = true;\n    //   axios\n    //     .post(\n    //       api_calls.train_intent_model(),\n    //       {\n    //         company_name: this.companyname,\n    //         company_id: this.companyid,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         isGetModels: true,\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //         },\n    //       }\n    //     )\n    //     .then(({ data }) => {\n    //       this.big_spinner = false;\n    //       if (data.message.MSG_CODE === this.api_status_code.DATA_AVAILABLE_MODELS.MSG_CODE) {\n    //         this.trained_intent_models = data.data.models.map((model) => {\n    //           model.created_at = moment(\n    //             model.created_at,\n    //             \"YYYYMMDDHHmmss\"\n    //           ).format(\"Do MMM YY\");\n    //           return model;\n    //         }); \n    //       } else {\n    //         Swal({\n    //           title:response.data.message.MSG_CODE,\n    //           text:response.data.message.MSG,\n    //           showCancelButton: false,\n    //           showConfirmButton: false,\n    //           timer: 2500,\n    //           type: \"error\"\n    //         })\n    //     }\n    //       // console.log(response.data);\n    //     })\n    //     .catch((e) => {\n    //       console.log(e);\n    //       this.big_spinner = false;\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    // add_mail() {\n    //   event.preventDefault();\n    //   axios\n    //     .post(\n    //       api_calls.notify_superadmin_url(),\n    //       {\n    //         company_name: this.companyname,\n    //         company_id: this.companyid,\n    //         sendto: this.sender,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //         body: this.email_body,\n    //         subject: this.subject,\n    //         bindemail: \"False\",\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens\n    //       },\n    //       {\n    //         headers: {\n    //           Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //         }\n    //       }\n    //     )\n    //     .then(response => {\n    //       toastr.success(response.data);\n    //     })\n    //     .catch(e => {\n    //       if (\n    //         e.response.status === 410 ||\n    //         e.response.status === 440 ||\n    //         e.response.status === 409\n    //       ) {\n    //         this.$root.$emit(\"Session_Expired\", e.response.data);\n    //       }\n    //     });\n    // },\n    language_support_api() {\n      axios\n        .post(api_calls.multiple_language_support_url(), {\n          company_name: this.companyname,\n          company_id: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          language_support: this.multiple_language_list,\n        })\n        .then((response) => {\n          if (response.data.message.MSG_CODE != this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE) {\n          } else {\n            this.$router.go();\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              timer: 2500,\n              type: \"error\"\n            })\n          }\n        });\n    },\n    // fileinput(e) {\n    //   let files = e.target.files || e.dataTransfer.files;\n    //   if (files[0].size > 2097152) {\n    //     swal({\n    //       text: this.tlt('other_upload_company_logo_msg'),\n    //       toast: true,\n    //       position: \"top-end\",\n    //       type: \"error\",\n    //       showConfirmButton: false,\n    //       timer: 10000,\n    //     });\n    //     return;\n    //   }\n    //   if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n    //     if (!files.length) return;\n    //     this.old_image_name = this.file_label;\n    //     this.file_label = files[0].name;\n    //     this.createImage(files[0]);\n    //   } else {\n    //     swal({\n    //       text: this.tlt('other_select_img_type_msg'),\n    //       type: \"error\",\n    //       timer: 2500,\n    //     });\n    //   }\n    // },\n    // createImage(file, type) {\n    //   let reader = new FileReader();\n\n    //   reader.onload = (e) => {\n    //     this.image_file = e.target.result.split(\"base64,\")[1];\n    //   };\n    //   reader.readAsDataURL(file);\n    // },\n    // download_sdk(data_type) {\n    //   if (data_type == \"license_key\") {\n    //     this.spinnerOn1 = true;\n    //     axios({\n    //       method: \"post\",\n    //       url: api_calls.get_license_key(),\n    //       responseType: \"blob\",\n    //       data: {\n    //         company_id: this.$session.get(\"UserInformation\").company_id,\n    //         company_name: this.$session.get(\"UserInformation\").company_name,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //       },\n    //       headers: {\n    //         Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //       },\n    //     })\n    //       .then((response) => {\n    //         var url = window.URL.createObjectURL(new Blob([response.data]));\n    //         var link = document.createElement(\"a\");\n    //         link.href = url;\n    //         link.setAttribute(\"download\", data_type + \".txt\");\n    //         document.body.appendChild(link);\n    //         link.click();\n    //         this.spinnerOn1 = false;\n    //       })\n    //       .catch((e) => {\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   } else {\n    //     this.spinnerOn2 = true;\n    //     axios({\n    //       method: \"post\",\n    //       url: api_calls.file_download_url(),\n    //       responseType: \"blob\",\n    //       data: {\n    //         download_sdk_type: data_type,\n    //         company_id: this.$session.get(\"UserInformation\").company_id,\n    //         company_name: this.$session.get(\"UserInformation\").company_name,\n    //         license_key: this.$session.get(\"UserInformation\").license_key,\n    //         token: this.$session.get(\"UserInformation\").tokens,\n    //         email: this.$session.get(\"UserInformation\").email,\n    //       },\n    //       headers: {\n    //         Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //       },\n    //     })\n    //       .then((response) => {\n    //         this.spinnerOn2 = false;\n    //         if (response.data.message.MSG_CODE === this.api_status_code.STATUS_SUCCESS.MSG_CODE) {\n    //           toastr.error(\n    //             this.tlt('other_internal_error_msg1')\n    //           );\n    //         } else {\n    //           var url = window.URL.createObjectURL(new Blob([response.data]));\n    //           var link = document.createElement(\"a\");\n    //           link.href = url;\n    //           link.setAttribute(\"download\", data_type + \"_SDK.zip\");\n    //           document.body.appendChild(link);\n    //           link.click();\n    //         }\n    //       })\n    //       .catch((e) => {\n    //         this.spinnerOn2 = false;\n    //         toastr.error(\n    //           this.tlt('other_internal_error_msg2')\n    //         );\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   }\n    // },\n    copy_widget_code() {\n      this.$refs.widget_textarea.select();\n      document.execCommand(\"copy\");\n      $(\"#copy_code_tooltip\").tooltip(\"show\");\n      setTimeout(() => {\n        $(\"#copy_code_tooltip\").tooltip(\"dispose\");\n        this.initialize_tooltips();\n      }, 5000);\n    },\n    copy_uuid_code() {\n      this.$refs.uuid_textarea1.select();\n      this.$refs.uuid_textarea2.select();\n      document.execCommand(\"copy\");\n      setTimeout(() => {\n        $(\"#copy_code_tooltip\").tooltip(\"dispose\");\n        this.initialize_tooltips();\n      }, 5000);\n    },\n    // initialize_tooltips() {\n    //   $('[data-tooltip=\"tooltip\"]').tooltip({\n    //     trigger: \"manual\",\n    //   });\n    // },\n    // copy_license_key() {\n    //   this.$refs.license_key_textarea.select();\n    //   this.$refs.license_key_textarea.setSelectionRange(0, 99999);\n    //   document.execCommand(\"copy\");\n    //   $(\"#copy_licnse_key_tooltip\").tooltip(\"show\");\n    //   setTimeout(() => {\n    //     $(\"#copy_licnse_key_tooltip\").tooltip(\"dispose\");\n    //     this.initialize_tooltips();\n    //   }, 5000);\n    // },\n    // configure_sender_email(value){\n    //   if (value == \"email\") {\n    //     Swal.fire({\n    //       title: this.tlt('other_configure_email_swal_msg'),\n    //       text:\n    //         this.tlt('other_verification_link_msg'),\n    //       type: \"question\",\n    //       showCancelButton: true,\n    //       confirmButtonColor: \"#3085d6\",\n    //       cancelButtonColor: \"#d33\",\n    //       confirmButtonText: this.tlt('other_swal_proceed_msg')\n    //     }).then(result => {\n    //       if (result.value) {\n    //         this.big_spinner = true;\n    //         axios\n    //           .post(\n    //             api_calls.product_settings(),\n    //             {\n    //               company_name: this.companyname,\n    //               company_id: this.companyid,\n    //               email: this.$session.get(\"UserInformation\").email,\n    //               license_key: this.$session.get(\"UserInformation\").license_key,\n    //               token: this.$session.get(\"UserInformation\").tokens,\n    //               is_email: true,\n    //               email_id: this.email_details\n    //             },\n    //             {\n    //               headers: {\n    //                 Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //               }\n    //             }\n    //           )\n    //           .then(response => {\n    //             this.big_spinner = false;\n    //             if (response.data.message.MSG_CODE != this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE) {\n    //               swal({\n    //                 text:\n    //                   this.tlt('other_email_send_to_msg') +\n    //                   \" \" +\n    //                   this.tlt('other_user_email_details_msg') +\n    //                   this.tlt('other_check_your_email_msg'),\n    //                 type: \"success\",\n    //                 title: this.tlt('other_success_swal_btn1'),\n    //                 allowOutsideClick: false,\n    //                 allowEscapeKey: false\n    //               });\n    //               this.email_disable = true;\n    //               this.email_verification_status();\n    //               this.load_product_settings();\n    //             } else {\n    //               swal({\n    //                 title: response.data.message.MSG_CODE,\n    //                 text: response.data.message.MSG,\n    //                 showCancelButton: false,\n    //                 showConfirmButton: false,\n    //                 timer: 2500,\n    //                 type: \"error\"\n    //               });\n    //             }\n    //           })\n    //           .catch(e => {\n    //             this.big_spinner = false;\n    //             toastr.error(this.tlt('other_error_occur_msg'));\n    //             if (\n    //               e.response.status === 410 ||\n    //               e.response.status === 440 ||\n    //               e.response.status === 409\n    //             ) {\n    //               this.$root.$emit(\"Session_Expired\", e.response.data);\n    //             }\n    //           });\n    //       }\n    //     });\n    //   }else if (value == \"email_remove\") {\n    //     Swal.fire({\n    //       title: this.tlt('other_swal_alert_msg1'),\n    //       text:\n    //         this.tlt('other_removed_saved_email_msg'),\n    //       type: \"question\",\n    //       showCancelButton: true,\n    //       confirmButtonColor: \"#3085d6\",\n    //       cancelButtonColor: \"#d33\",\n    //       confirmButtonText: this.tlt('other_swal_remove_msg')\n    //     }).then(result => {\n    //       if (result.value) {\n    //         this.big_spinner = true;\n    //         axios\n    //           .post(\n    //             api_calls.product_settings(),\n    //             {\n    //               company_name: this.companyname,\n    //               company_id: this.companyid,\n    //               email: this.$session.get(\"UserInformation\").email,\n    //               license_key: this.$session.get(\"UserInformation\").license_key,\n    //               token: this.$session.get(\"UserInformation\").tokens,\n    //               is_remove_email: true,\n    //               email_id: this.email_details\n    //             },\n    //             {\n    //               headers: {\n    //                 Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //               }\n    //             }\n    //           )\n    //           .then(response => {\n    //             this.big_spinner = false;\n    //             if (response.data.message.MSG_CODE != this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE) {\n    //               swal({\n    //                 text: this.tlt('other_email_removed_swal_msg'),\n    //                 type: \"success\",\n    //                 timer: 5000,\n    //                 title: this.tlt('other_success_swal_btn2')\n    //               });\n    //               this.email_disable = false;\n    //               this.email_details = null;\n    //               this.empty_variable();\n    //               this.load_product_settings();\n    //             } else {\n    //               swal({\n    //                 title: response.data.message.MSG_CODE,\n    //                 text: response.data.message.MSG,\n    //                 showCancelButton: false,\n    //                 showConfirmButton: false,\n    //                 timer: 2500,\n    //                 type: \"error\"\n    //               });\n    //             }\n    //           })\n    //           .catch(e => {\n    //             this.big_spinner = false;\n    //             toastr.error(this.tlt('other_error_occur_msg2'));\n    //             if (\n    //               e.response.status === 410 ||\n    //               e.response.status === 440 ||\n    //               e.response.status === 409\n    //             ) {\n    //               this.$root.$emit(\"Session_Expired\", e.response.data);\n    //             }\n    //           });\n    //       }\n    //     });\n    //   } \n    // },\n    // email_verification_status() {\n    //   if (this.email_details != null && this.email_details != \"\") {\n    //     this.email_disable = true;\n    //     this.big_spinner = true;\n    //     axios\n    //       .post(\n    //         api_calls.product_settings(),\n    //         {\n    //           company_name: this.companyname,\n    //           company_id: this.companyid,\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           is_email_verification_status: true,\n    //           email_id: this.email_details\n    //         },\n    //         {\n    //           headers: {\n    //             Authorization: `Bearer ${this.$session.get(\"at\")}`\n    //           }\n    //         }\n    //       )\n    //       .then(response => {\n    //         this.big_spinner = false;\n    //         if (\n    //           response.data.message.MSG_CODE != this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE &&\n    //           response.data.message.MSG_CODE != this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE\n    //         ) {\n    //           var status = response.data.data.verification_status;\n    //           this.verification_status =\n    //             status == \"Success\"\n    //               ? \"Success\"\n    //               : status == \"Pending\"\n    //               ? this.tlt('other_pending_verify_email_msg')\n    //               : status +\n    //                 this.tlt('other_link_expired_msg');\n    //         }else {\n    //           Swal({\n    //             title: response.data.message.MSG_CODE,\n    //             text: response.data.message.MSG,\n    //             showCancelButton: false,\n    //             showConfirmButton: false,\n    //             timer: 2500,\n    //             type: \"error\"\n    //           })\n    //         }\n    //       })\n    //       .catch(e => {\n    //         this.big_spinner = false;\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   }\n    // },\n    top_navbar_disable(){\n      if (this.disable_sidebar === true) {\n        return 'pointer-events:none;'    \n      }else{\n        return ''\n      }\n    }\n  },\n};\n</script>\n<style>\n.third-party-logo {\n  width: 150px;\n  height: 75px;\n  object-fit: contain;\n}\n.form-control.tags-input {\n  padding: 5px !important;\n}\n.tags-input-badge {\n  line-height: 1.5 !important;\n}\n.tags-input-remove:before,\n.tags-input-remove:after {\n  background: #9799ae !important;\n}\n</style>\n\n<style scoped>\n@media (max-width: 1400px) {\n  .miscellaneous-custom-file-input {\n    padding: 15px 25px 15px 60px;\n  }\n}\n/* .vr {\n  border-left: 1px solid #E9E9E9;\n  margin-top: 5%;\n  margin-bottom: 5%; */\n/* } */\n.hclass6 {\n  font-weight: 100;\n}\n\n.contact-info {\n  padding-left: 0px;\n}\n.darkblue-btn1 {\n  margin-left: 3%;\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 9px 18px;\n  font-weight: 400;\n  line-height: 20px;\n  display: inline-block;\n  border-radius: 4px;\n  cursor: pointer;\n  width: 30%;\n  text-align: center;\n}\n.button_disabled {\n  border: 2px solid rgb(230, 230, 230);\n  background: rgb(247, 248, 251);\n}\n.button_disabled svg {\n  opacity: 0;\n}\n.button_enabled {\n  border: 1px solid rgb(39, 54, 121);\n  background: rgb(247, 248, 251);\n}\n.button_enabled svg {\n  opacity: 1;\n}\n.custom-file > input::-webkit-input-placeholder {\n  margin-left: 200px;\n}\n#select_country_name_misc {\n  color: #9499ae;\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.custom-file {\n  min-height: 40px !important;\n}\n@media (max-width: 1400px) {\n  .custom-file-label {\n    padding: 15px 25px 15px 15px !important;\n  }\n}\n\n.custom-button-box {\n  border: 0.5px solid #ccc;\n}\n\n.table-box td,\n.table-box th {\n  padding: 5px !important;\n  font-size: 14px !important;\n  width: 0px !important;\n}\n.table-box td:first-child,\n.table-box th:first-child {\n  text-align: left !important;\n  width: 0px !important;\n}\n</style>\n\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n"]}]}