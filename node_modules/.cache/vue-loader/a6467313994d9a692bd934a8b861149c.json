{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/EmailTemplates.vue?vue&type=style&index=1&id=4bfb2762&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/EmailTemplates.vue","mtime":1646636790390},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jdXJyZW50LWFjdGl2ZS10ZW1wbGF0ZSB7CiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjEpOwp9Ci5tb2RhbC14bCB7CiAgbWF4LXdpZHRoOiAxMTQwcHg7CiAgbWluLWhlaWdodDogMTE0MHB4Owp9Ci50YWJsZS1ib3ggdGJvZHkgdHI6aG92ZXIgdGQsCi50YWJsZS1ib3ggdGJvZHkgdHI6aG92ZXIgdGggewogIGJhY2tncm91bmQ6ICNlY2VjZWM7Cn0KLyogLnRhYmxlLXJlc3BvbnNpdmUgewogIGhlaWdodDogODB2aDsKICBvdmVyZmxvdy15OiBhdXRvOwogIGJvcmRlcjogMXB4IHNvbGlkICNlM2UyZTU7Cn0gKi8KLyogLnRhYmxlLXJlc3BvbnNpdmUgdGhlYWQgdGggewogIHRvcDogMDsKICBwb3NpdGlvbjogc3RpY2t5Owp9Ci50YWJsZS1yZXNwb25zaXZlOjotd2Via2l0LXNjcm9sbGJhciB7CiAgbWF4LWhlaWdodDogMTBweDsKICB3aWR0aDogN3B4OwogIGhlaWdodDogN3B4OwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgb3ZlcmZsb3cteDogaGlkZGVuOwp9Ci50YWJsZS1yZXNwb25zaXZlOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9Ci50YWJsZS1yZXNwb25zaXZlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgYmFja2dyb3VuZDogIzI3Mzk3YjsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9Ci50YWJsZS1yZXNwb25zaXZlOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7CiAgYmFja2dyb3VuZDogIzE5Mjk1ZjsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9ICovCg=="},{"version":3,"sources":["EmailTemplates.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EmailTemplates.vue","sourceRoot":"src/portal/Chatbot/Dashboard/ProductManagement","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"container-fluid p-0\">\n      <div class=\"card dash-card\" style=\"border: 0\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"\n              card-header\n              d-block d-sm-flex\n              flex-wrap\n              justify-content-between\n            \"\n          >\n            <div class=\"card-act ml-auto d-flex flex-wrap\">\n              <a\n                id=\"send_email_btn\"\n                href=\"#\"\n                class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n                data-target=\"\"\n                title=\"Send Email\"\n                v-if=\"templatelist.length > 0 && is_notification_template === false\"\n                @click=\"email_verification_status()\"\n              >\n                Send Email\n              </a>\n              <a\n                id=\"add_template_btn\"\n                href=\"#\"\n                class=\"darkblue-btn\"\n                v-if=\"disable_btn_expired\"\n                title=\"Add new Template\"\n                @click=\"empty_variable\"\n              >\n                Add Template\n              </a>\n              <a\n                id=\"add_template_btn\"\n                href=\"#\"\n                v-else\n                class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n                data-target=\"#templatemodel\"\n                title=\"Add new Template\"\n                @click=\"empty_variable\"\n              >\n                Add Template\n              </a>\n              <a\n                href=\"javascript:void(0)\"\n                class=\"red-btn\"\n                @click=\"delete_selected\"\n                id=\"delete_intent\"\n              >\n                Delete\n              </a>\n            </div>\n          </div>\n\n          <div\n            class=\"modal fade\"\n            id=\"preview_template_visible\"\n            role=\"dialog\"\n            aria-labelledby=\"preview_template_visible\"\n            aria-hidden=\"true\"\n          >\n            <div\n              class=\"modal-dialog modal-dialog-centered modal-lg\"\n              role=\"document\"\n            >\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\">\n                    Email Preview (Customer will recieve email like this\n                    template format)\n                  </h5>\n                  <button\n                    type=\"button\"\n                    class=\"close\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                  >\n                    <img src=\"/img/close-icn.png\" alt />\n                  </button>\n                </div>\n                <div class=\"modal-body\">\n                  <div v-html=\"preview_template_data\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"card-body py-0\" id=\"page\">\n            <div class=\"col-sm-12 d-flex px-0\" v-if=\"templatelist.length > 0\">\n              <div class=\"col-sm-4 pl-0\" style=\"height: 80vh; overflow-y: auto\">\n                <div class=\"table-box\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table\" style=\"overflow-y: auto\">\n                      <thead>\n                        <!-- <tr> -->\n                        <th scope=\"col\">\n                          <div class=\"form-check checkbox checkbox-success\">\n                            <label class=\"form-check-label\">\n                              <input\n                                class=\"form-check-input\"\n                                id=\"selectall\"\n                                type=\"checkbox\"\n                                @change=\"selected_templates('all')\"\n                              />\n                              <span class=\"icn\"></span>\n                            </label>\n                          </div>\n                        </th>\n                        <th\n                          scope=\"col\"\n                          class=\"text-left\"\n                          style=\"\n                            font: normal normal normal 16px/22px Roboto;\n                            letter-spacing: 0px;\n                            color: #414141;\n                          \"\n                        >\n                          TEMPLATES\n                        </th>\n                        <!-- </tr> -->\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"(template, index) in templatelist\"\n                          :key=\"index\"\n                          :class=\"check_current_template_active(index)\"\n                        >\n                          <td scope=\"col\">\n                            <div class=\"form-check checkbox checkbox-success\">\n                              <label class=\"form-check-label\">\n                                <input\n                                  class=\"form-check-input\"\n                                  type=\"checkbox\"\n                                  :id='index'\n                                  @change=\"\n                                    selected_templates(template.template_id)\n                                  \"\n                                />\n                                <span class=\"icn\"></span>\n                              </label>\n                            </div>\n                          </td>\n                          <td\n                            style=\"cursor: pointer\"\n                            @click=\"show_template(index)\"\n                            :title=\"template.template_name\"\n                          >\n                            <template>\n                              <p style=\"margin-bottom: 0\">\n                                {{ template.template_name }}\n                              </p>\n                            </template>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"col-sm-8 pr-0\"\n                style=\"overflow-y: auto\"\n                v-if=\"templatelist.length > 0\"\n              >\n                <div style=\"border: 1px solid #dbe2e8\">\n                  <div class=\"col-sm-12\">\n                    <div style=\"color: #414141\" class=\"\">\n                      <h5 class=\"mb-0 pt-2 d-flex\">\n                        <span class=\"mt-2 mb-0\">Template Details</span>\n                        <a\n                          class=\"ml-auto mt-2 mb-0\"\n                          href=\"javascript:void(0)\"\n                          title=\"Click Here for Preview\"\n                          style=\"color: rgb(39, 54, 121)\"\n                          @click=\"preview_template\"\n                          data-toggle=\"modal\"\n                        >\n                          <p\n                            class=\"labe1\"\n                            style=\"margin-right: 1rem; font-size: 1.25rem\"\n                          >\n                            Preview\n                          </p></a\n                        >\n                        <span\n                          @click=\"edit_template_details\"\n                          v-html=\"pencil_svg\"\n                          class=\"mr-2 mt-2\"\n                          style=\"cursor: pointer\"\n                        ></span>\n                      </h5>\n                    </div>\n                  </div>\n                  <hr style=\"margin-top: 0\" />\n                  <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                        Template Name\n                      </p>\n                    </h5>\n                    <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                      <p>{{ current_template.template_name }}</p>\n                    </div>\n                    <div v-else>\n                      <input\n                        id=\"edit_template_name_id\"\n                        type=\"text\"\n                        v-model.trim=\"current_template.template_name\"\n                        v-on:keyup=\"validate_edit_template_name\"                    \n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        placeholder=\"Enter Template Name\"\n                      />\n                      <span\n                        v-show=\"edit_template_name_already_exist\"\n                        style=\"color: red\"\n                        >A Template with this name already exists.</span\n                      >\n                    </div>\n                  </div>\n                  <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                        Email Subject\n                      </p>\n                    </h5>\n                    <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                      <p>{{ current_template.subject }}</p>\n                    </div>\n                    <div v-else>\n                      <input\n                        type=\"text\"\n                        v-model.trim=\"current_template.subject\"\n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        placeholder=\"Enter Template Name\"\n                      />\n                    </div>\n                  </div>\n                  <div\n                    v-if=\"!isEditTemplate && current_template.email != null\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">Email Body</p>\n                    </h5>\n                    <div style=\"padding-left: 20px\">\n                      <span v-html=\"current_template.email\"></span>\n                    </div>\n                  </div>\n                  <div\n                    v-else-if=\"is_edit_email && isEditTemplate\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">Email Body</p>\n                    </h5>\n                    <!-- <div>\n                      <vue-editor\n                        v-model=\"current_template.email\"\n                        :editorToolbar=\"customToolbar\"\n                      ></vue-editor>\n                    </div> -->\n                    <div class=\"form-group\">\n                      <div id=\"edit_editor\"></div>\n                    </div>\n                  </div>\n                  <div\n                    v-if=\"\n                      !isEditTemplate &&\n                      Boolean(current_template.template_image_name) === true &&\n                      Boolean(current_template.image_redirect_url) === true\n                    \"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">Image Name</p>\n                    </h5>\n                    <div style=\"padding-left: 20px\">\n                      <p>{{ current_template.template_image_name }}</p>\n                    </div>\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                        Image Redirect URL\n                      </p>\n                    </h5>\n                    <p>\n                      (Customer will be redirected to this link when they click\n                      on the image)\n                    </p>\n                    <div style=\"padding-left: 20px\">\n                      <p>{{ current_template.image_redirect_url }}</p>\n                    </div>\n                  </div>\n                  <div\n                    v-else-if=\"isEditTemplate\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      Add Image in Email<label\n                        style=\"\n                          font-size: 17px;\n                          font-weight: 400;\n                          padding-left: 0.3rem;\n                        \"\n                      >\n                        (Preferred size: 1080p x 720p)\n                      </label>\n                    </h5>\n\n                    <div style=\"display: flex; margin: 1%\">\n                      <div class=\"radio\">\n                        <label style=\"vertical-align: text-top\">\n                          <input\n                            type=\"radio\"\n                            value=\"yes\"\n                            name=\"is_edit_image_needed\"\n                            v-model=\"is_edit_image_needed\"\n                          />\n                          <span class=\"icn\" id=\"radio\"></span>\n                          Yes\n                        </label>\n                      </div>\n                      <div class=\"radio\" style=\"margin-left: 2%\">\n                        <label style=\"vertical-align: text-top\">\n                          <input\n                            type=\"radio\"\n                            value=\"none\"\n                            name=\"is_edit_image_needed\"\n                            v-model=\"is_edit_image_needed\"\n                          />\n                          <span class=\"icn\" id=\"radio\"></span>\n                          No\n                        </label>\n                      </div>\n                    </div>\n                    <div\n                      class=\"custom-file\"\n                      v-if=\"is_edit_image_needed == 'yes'\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <input\n                        type=\"file\"\n                        class=\"custom-file-input\"\n                        @change=\"fileinput2\"\n                        id=\"inputFile2\"\n                      />\n                      <label\n                        style=\"\n                          font-weight: 400;\n                          line-height: 10px;\n                          padding-left: 15px;\n                        \"\n                        class=\"custom-file-label form-control\"\n                        for=\"file\"\n                        >{{ edited_file_label }}</label\n                      >\n                    </div>\n                    <div v-if=\"is_edit_image_needed == 'yes'\">\n                      <h5>Image Redirect URL</h5>\n                      <label>\n                        (Customer will be redirected to this link when they\n                        click on the image)\n                      </label>\n                      <input\n                        type=\"text\"\n                        v-model=\"edit_img_redirect_url\"\n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        placeholder=\"(e.g, https://cense.ai)\"\n                      />\n                    </div>\n                  </div>\n\n                  <div\n                    v-if=\"!isEditTemplate && current_template.sms != null\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">SMS</p>\n                    </h5>\n                    <div style=\"padding-left: 20px\">\n                      <p>{{ current_template.sms }}</p>\n                    </div>\n                  </div>\n                  <div\n                    v-else-if=\"is_edit_sms && isEditTemplate\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">SMS</p>\n                    </h5>\n                    <div>\n                      <textarea\n                        maxlength=\"160\"\n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        v-model=\"current_template.sms\"\n                        id=\"exampleFormControlTextarea1\"\n                        rows=\"3\"\n                      >\n                      </textarea>\n                    </div>\n                  </div>\n                  <div class=\"modal-footer\" v-if=\"isEditTemplate\">\n                    <div class=\"dash-modal\">\n                      <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                        <button\n                          type=\"button\"\n                          class=\"btn btn-link\"\n                          style=\"border-radius: 0\"\n                          data-dismiss=\"modal\"\n                          @click=\"edit_template_details\"\n                        >\n                          Cancel\n                        </button>\n                        <button\n                          type=\"submit\"\n                          class=\"darkblue-btn\"\n                          id=\"res_n_int_save\"\n                          @click=\"edit_template()\"\n                        >\n                          Save\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-12 d-flex px-0 py-5\" v-else-if=\"!spinnerOn\">\n              <h4 class=\"mx-auto\">\n                Looks like you don't have any templates added. Let's begin by\n                clicking on Add Template.\n              </h4>\n            </div>\n            <div class=\"pagin-table pb-3\" style=\"margin-top: 2%\">\n              <nav aria-label=\"Page navigation example\">\n                <ul class=\"pagination justify-content-center\">\n                  <li class=\"page-item\">\n                    <a\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(page_no - 1)\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"8.667\"\n                        height=\"15.204\"\n                        viewBox=\"0 0 8.667 15.204\"\n                      >\n                        <g\n                          id=\"arrow-point-to-left\"\n                          transform=\"translate(105.806 15.204) rotate(180)\"\n                        >\n                          <path\n                            id=\"Path_1136\"\n                            data-name=\"Path 1136\"\n                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                            transform=\"translate(0 0)\"\n                            fill=\"#9499ae\"\n                          />\n                        </g>\n                      </svg>\n                    </a>\n                  </li>\n                  <li\n                    :class=\"'page-item ' + pagination_class(pageno)\"\n                    v-for=\"pageno in page_array\"\n                    :key=\"pageno\"\n                  >\n                    <a\n                      v-if=\"pageno == '...s' || pageno == '...l'\"\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(pageno)\"\n                      >...</a\n                    >\n                    <a\n                      v-if=\"pageno != '...s' && pageno != '...l'\"\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(pageno)\"\n                      >{{ pageno }}</a\n                    >\n                  </li>\n                  <li class=\"page-item\">\n                    <a\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(page_no + 1)\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"8.667\"\n                        height=\"15.204\"\n                        viewBox=\"0 0 8.667 15.204\"\n                      >\n                        <g\n                          id=\"arrow-point-to-right\"\n                          transform=\"translate(-97.139 0)\"\n                        >\n                          <path\n                            id=\"Path_1136\"\n                            data-name=\"Path 1136\"\n                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                            transform=\"translate(0 0)\"\n                            fill=\"#9499ae\"\n                          />\n                        </g>\n                      </svg>\n                    </a>\n                  </li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"sendemail\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Send Email</h3>\n              <button\n                type=\"button\"\n                class=\"close\"\n                @click=\"empty_variable\"\n                data-dismiss=\"modal\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div class=\"form-group\">\n              <h5>\n                <p class=\"mt-2 mb-0\" style=\"color: #414141\">Template Name</p>\n              </h5>\n              <div style=\"padding-left: 20px\">\n                <p>{{ current_template.template_name }}</p>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <div class=\"d-flex\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">Send Email to</p>\n                </h5>\n                <span\n                  v-if=\"!send_email_all_customer\"\n                  style=\"\n                    margin-left: 12px;\n                    margin-top: 10px !important;\n                    color: #0645ad;\n                  \"\n                >\n                  <i\n                    class=\"fa fa-info-circle\"\n                    aria-hidden=\"true\"\n                    style=\"font-size: 16px\"\n                    title=\"you can also specify name while adding new email in this way (john.d@mail.com,John Doe), note this would only work in the case where you add new email.\"\n                  >\n                  </i>\n                </span>\n              </div>\n              <div class=\"radio my-auto\" style=\"padding-left: 20px\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    v-model=\"send_email_all_customer\"\n                    :value=\"true\"\n                    id=\"send_email_all_customer_true_id\"\n                  />\n                  <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                  All Customer\n                </label>\n                <label>\n                  <input\n                    type=\"radio\"\n                    v-model=\"send_email_all_customer\"\n                    :value=\"false\"\n                    id=\"send_email_all_customer_false_id\"\n                  />\n                  <span class=\"icn\"></span>\n                  Specific Customer\n                </label>\n              </div>\n            </div>\n            <div class=\"form-group\" v-if=\"!send_email_all_customer\">\n              <multiselect\n                v-model=\"specific_customer_list\"\n                :options=\"customers_list\"\n                id=\"specific_customer_list_id\"\n                :searchable=\"true\"\n                :close-on-select=\"false\"\n                :multiple=\"true\"\n                :taggable=\"true\"\n                tag-position=\"top\"\n                tag-placeholder=\"Add this as new email\"\n                placeholder=\"Search customer email or type in to add a new email\"\n                :max-height=\"400\"\n                label=\"email\"\n                track-by=\"email\"\n                open-direction=\"below\"\n                @tag=\"addTag\"\n              >\n                <!-- <span>{{ selected_role }}</span> -->\n              </multiselect>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                data-dismiss=\"modal\"\n                @click=\"empty_variable\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"send_email()\"\n              >\n                Send\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"templatemodel\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Template</h3>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div class=\"form-group\">\n              <label>Template Name</label>\n              <input\n                id=\"template_name_add_id\"\n                type=\"text\"\n                v-on:keyup=\"validate_template_name\"\n                v-model.trim=\"template_name\"\n                class=\"form-control\"\n                placeholder=\"Enter Template Name\"\n              />\n              <span v-show=\"template_name_already_exist\" style=\"color: red\"\n                >A Template with this name already exists.</span\n              >\n            </div>\n            <div class=\"form-group\">\n              <label>Enter Email Subject</label>\n              <input\n                type=\"text\"\n                v-model=\"email_subject\"\n                class=\"form-control\"\n                placeholder=\"Enter Email Subject\"\n              />\n            </div>\n            <div class=\"form-group\" v-show=\"is_email\">\n              <div class=\"d-flex\">\n                <label\n                  style=\"\n                    margin-top: 2px !important;\n                    margin-bottom: 7px !important;\n                  \"\n                  >Enter Email Body</label\n                >\n                <span\n                  style=\"\n                    margin-left: 12px;\n                    margin-bottom: 5px !important;\n                    color: #0645ad;\n                  \"\n                >\n                  <i\n                    class=\"fa fa-info-circle\"\n                    aria-hidden=\"true\"\n                    style=\"font-size: 16px\"\n                    title=\"To Display customer full name in email body use {full_name} and for customer first name use {first_name}. (Example Hi {full_name} would display Hi FirstName LastName).\"\n                  >\n                  </i>\n                </span>\n              </div>\n              <!-- <vue-editor\n                v-model=\"save_email\"\n                :editorToolbar=\"customToolbar\"\n              ></vue-editor> -->\n              <div id=\"editor\"></div>\n            </div>\n            <div class=\"form-group\">\n              <label>Add Image in Email</label>\n              <label style=\"padding-left: 0.3rem\">\n                (Preferred size: 1080p x 720p)\n              </label>\n              <div style=\"display: flex; margin: 1%\">\n                <div class=\"radio\">\n                  <label style=\"vertical-align: text-top\">\n                    <input\n                      type=\"radio\"\n                      value=\"yes\"\n                      name=\"is_image_needed\"\n                      v-model=\"is_image_needed\"\n                    />\n                    <span class=\"icn\" id=\"radio\"></span>\n                    Yes\n                  </label>\n                </div>\n                <div class=\"radio\" style=\"margin-left: 2%\">\n                  <label style=\"vertical-align: text-top\">\n                    <input\n                      type=\"radio\"\n                      value=\"none\"\n                      name=\"is_image_needed\"\n                      v-model=\"is_image_needed\"\n                    />\n                    <span class=\"icn\" id=\"radio\"></span>\n                    No\n                  </label>\n                </div>\n              </div>\n              <div class=\"custom-file\" v-if=\"is_image_needed == 'yes'\">\n                <input\n                  type=\"file\"\n                  class=\"custom-file-input\"\n                  @change=\"fileinput1\"\n                  id=\"inputFile\"\n                />\n                <label\n                  style=\"\n                    font-weight: 400;\n                    line-height: 20px;\n                    padding-left: 15px;\n                  \"\n                  class=\"custom-file-label form-control\"\n                  for=\"file\"\n                  >{{ file_label }}</label\n                >\n              </div>\n            </div>\n            <div class=\"form-group\" v-if=\"is_image_needed == 'yes'\">\n              <label>Image Redirect URL</label>\n              <label>\n                (Customer will be redirected to this link when they click on the\n                image)\n              </label>\n              <input\n                type=\"text\"\n                v-model=\"img_redirect_url\"\n                class=\"form-control\"\n                placeholder=\"(e.g, https://cense.ai)\"\n              />\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                data-dismiss=\"modal\"\n                @click=\"empty_variable\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"save_template()\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { VueEditor } from \"vue2-editor\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\nimport Multiselect from \"vue-multiselect\";\n\nexport default {\n  name: \"EmailTemplatePage\",\n  components: {\n    VueEditor,\n    Multiselect,\n  },\n  mixins: [freeze_portal,show_subscription_expired_swal],\n  data() {\n    return {\n      pencil_svg:\n        ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      spinnerOn: false,\n      template_name: \"\",\n      save_sms: \"\",\n      save_email: \"\",\n      is_sms: false,\n      is_email: true,\n      save_subject: \"\",\n      is_publish_email: true,\n      is_publish_sms: true,\n      is_edit_sms: false,\n      is_edit_email: true,\n      verification_status: null,\n      templatelist: [],\n      checked_list: [],\n      customToolbar: [\n        [\"bold\", \"italic\", \"underline\"],\n        [{ align: [] }],\n        [{ color: [] }, { background: [] }],\n        [{ list: \"ordered\" }, { list: \"bullet\" }],\n        [\"link\"],\n      ],\n      quill: \"\",\n      quill_edit: \"\",\n      slot_variable:{},\n      current_template: [],\n      old_template_name: \"\",\n      isEditTemplate: false,\n      number_of_rows: null,\n      total_pages: null,\n      page_no: 1,\n      per_page: 10,\n      image_file: null,\n      image_file_2: null,\n      is_image_needed: \"none\",\n      is_edit_image_needed: \"none\",\n      email_subject: \"\",\n      reg_url:\n        /https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\n      is_edit_reg_url:\n        /https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\n      img_redirect_url: \"\",\n      edit_img_redirect_url: \"\",\n      file_label: \"Choose file\",\n      edited_file_label: \"Choose file\",\n      preview_template_data: \"\",\n      template_name_already_exist: false,\n      edit_template_name_already_exist: false,\n      page_array: [],\n      send_email_all_customer: true,\n      customers_list: [],\n      specific_customer_list: [],\n      disable_btn_expired: false,\n      email_reg:\n        /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n    };\n  },\n  props: {\n    is_notification_template: Boolean,\n  },\n  watch: {\n    // is_notification_template() {\n    //   console.log(this.is_notification_template);\n    // },\n  },\n  computed: {\n    validURL() {\n      if (this.reg_url.test(this.img_redirect_url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    valid_edit_URL() {\n      if (this.is_edit_reg_url.test(this.edit_img_redirect_url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  created() {\n    if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n      this.companyid = this.$session.get(\"CompanyId\");\n      this.companyname = this.$session.get(\"CompanyName\");\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 2000);\n     this.$root.$on(\"EmailTemplatePageDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    })\n    this.load_templates();\n    if (this.is_notification_template === false){\n      this.load_customer_list();\n    }\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      this.isEditTemplate = false;\n      this.is_sms = false;\n      this.is_email = true;\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    this.editor();\n    if (this.is_notification_template === true){\n      this.load_slot_variable();\n    }\n  },\n  methods: {\n    load_slot_variable(){\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.form_automation_dialog_tree(),\n          {\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            is_get_slot_variable: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data.status == \"Success\") {\n            this.slot_variable = {};\n            for (let index = 0; index < response.data.slots_list.length; index++) {\n              const element = response.data.slots_list[index];\n              this.slot_variable[element] = '{' + element + '}';\n            }\n          this.insert_variable('quill', this.slot_variable);\n          }else {\n            Swal({\n              text: \"Internal Server Error\",\n              toast: true,\n              position: \"top-end\",\n              type: \"error\",\n              showConfirmButton: false,\n              timer: 5000,\n            });\n          }\n        })\n        .catch((e) => {\n          this.insert_variable('quill', this.slot_variable);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    editor(){\n      this.quill = new Quill(\"#editor\", {\n        modules: {\n          toolbar: [\n            [\"bold\", \"italic\", \"underline\"],\n            [\"link\"],\n            [{ align: [] }],\n            [{ color: [] }, { background: [] }],\n            [{ list: \"ordered\" }, { list: \"bullet\" }],\n          ],\n        },\n        theme: \"snow\",\n      });\n      this.quill.on(\"text-change\", () => {\n        this.$emit(\n          \"input\",\n          this.quill.getText() ? this.quill.root.innerHTML : \"\"\n        );\n        this.save_email = this.quill.getText() ? this.quill.root.innerHTML : \"\";\n      });\n    },\n    edit_editor(){\n      this.quill_edit = new Quill(\"#edit_editor\", {\n      modules: {\n        toolbar: [\n          [\"bold\", \"italic\", \"underline\"],\n          [\"link\"],\n          [{ align: [] }],\n          [{ color: [] }, { background: [] }],\n          [{ list: \"ordered\" }, { list: \"bullet\" }],\n        ],\n      },\n      theme: \"snow\",\n    });\n    this.quill_edit.on(\"text-change\", () => {\n      this.$emit(\n        \"input\",\n        this.quill_edit.getText() ? this.quill_edit.root.innerHTML : \"\"\n      );\n      this.current_template.email = this.quill_edit.getText() ? this.quill_edit.root.innerHTML : \"\";\n    });\n    this.quill_edit.root.innerHTML = this.current_template.email;\n    this.insert_variable('quill_edit', this.slot_variable);\n    },\n    insert_variable(val, slot_variable){\n      if (this.is_notification_template === true){\n        const dropDownItems = {\n        'No slot variable': '',\n        }\n        const myDropDown = new QuillToolbarDropDown({\n            label: \"Insert Variable\",\n            rememberSelection: false,\n            id: \"dropdown_id\"\n        })\n        if(Object.entries(slot_variable).length === 0 && slot_variable.constructor === Object){\n          myDropDown.setItems(dropDownItems);\n        }else {\n          myDropDown.setItems(slot_variable);\n        }\n        myDropDown.onSelect = function(label, value, quill) {\n            const { index, length } = quill.selection.savedRange\n            quill.deleteText(index, length)\n            quill.insertText(index, value)\n            quill.setSelection(index + value.length)\n        }\n        myDropDown.attach(this.quill)\n        if (val === 'quill_edit'){\n          myDropDown.attach(this.quill_edit)\n        }\n      }\n    },\n    addTag(newTag) {\n      var tag_list = [];\n      tag_list = newTag.split(\",\");\n      if (tag_list.length > 2) {\n        swal({\n          text: \"Please add valid tag\",\n          type: \"warning\",\n          showConfirmButton: true,\n          timer: 4500,\n        });\n        return;\n      } else {\n        var email = tag_list[0];\n        var customer_name = Boolean(tag_list[1]) ? tag_list[1] : \" \";\n        if (!this.email_reg.test(email)) {\n          swal({\n            text: \"Please enter a valid email address\",\n            type: \"warning\",\n            showConfirmButton: true,\n            timer: 4500,\n          });\n          return;\n        }\n      }\n      const tag = {\n        customer_name: customer_name,\n        email: email,\n      };\n      this.customers_list.push(tag);\n      this.specific_customer_list.push(tag);\n    },\n    load_customer_list() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.send_offer_to_customers(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            get_customers_list: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.status == 200) {\n            this.customers_list = response.data.customers_list;\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    email_verification_status() {\n      if(!this.disable_btn_expired){\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.product_settings(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_email_verification_status: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (\n            response.data != \"\" &&\n            response.data != null &&\n            response.data != \"Internal server Error\"\n          ) {\n            this.verification_status = response.data.verification_status;\n            // console.log(this.verification_status);\n            if (this.verification_status == \"Success\") {\n              // if (!document.getElementById(\"publish_template_btn\").disabled) {\n              $(\"#sendemail\").modal(\"show\");\n              this.load_customer_list();\n              // }\n            } else {\n              swal({\n                text: \"It seems as if your Sender Email has not been configured yet, please go the Settings Tab and configure it under Email Configuration.\",\n                type: \"error\",\n                showConfirmButton: true,\n                timer: 13000,\n              });\n            }\n          } else {\n            toastr.error(\"Internal Server Error\");\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          toastr.error(\"Some Error Occurred.\");\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n      }else{\n        this.show_subscription_expired_swal();\n      }\n    },\n    validate_template_name() {\n      axios.post(\n        api_calls.template_promotional_email(),\n        {\n           company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_template_present: true,\n            is_notification: this.is_notification_template,\n            template_name: this.template_name,\n        },\n        {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n      )\n      .then((response) =>{\n        if (response.data.MSG == \"Not Exists\") {\n            this.template_name_already_exist = false;\n            document.getElementById(\"template_name_add_id\").style.border =null;\n            if(this.template_name != \"\"){\n              document.getElementById(\"template_name_add_id\").style.border =\n              \"1px solid #00f000\";\n            }\n          } else if (response.data.MSG == \"Already Exists\") {\n            this.template_name_already_exist = true;\n            document.getElementById(\"template_name_add_id\").style.border =\n            \"1px solid red\";\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    validate_edit_template_name() {\n      axios.post(\n        api_calls.template_promotional_email(),\n        {\n           company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_template_present: true,\n            is_notification: this.is_notification_template,\n            template_name: this.current_template.template_name,\n        },\n        {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n      )\n      .then((response) =>{\n        if (response.data.MSG == \"Not Exists\") {\n            this.edit_template_name_already_exist = false;\n            document.getElementById(\"edit_template_name_id\").style.border =null;\n            if(this.current_template.template_name != \"\"){\n              document.getElementById(\"edit_template_name_id\").style.border =\n              \"1px solid #00f000\";\n            }\n          } else if (response.data.MSG == \"Already Exists\") {\n            if (this.old_template_name == this.current_template.template_name){\n              this.edit_template_name_already_exist = false;\n              document.getElementById(\"edit_template_name_id\").style.border =null;\n            }else{\n              this.edit_template_name_already_exist = true;\n              document.getElementById(\"edit_template_name_id\").style.border =\n              \"1px solid red\";\n            }\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    preview_template() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_promotional_email(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_preview: true,\n            template_id: this.current_template.template_id,\n            is_notification: this.is_notification_template,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          // if (response.data != null) {\n          //   this.number_of_rows = response.data.pagecount;\n          //   this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          //   if (response.data === \"DB OPERATION UNSUCCESSFUL\") {\n          //     this.templatelist = [];\n          //     return;\n          //   }\n          //   this.templatelist = response.data.data;\n          //   if (this.templatelist.length > 0) {\n          //     // this.current_template = this.templatelist[0];\n          //     this.show_template(0);\n          //   }\n          //   this.isEditTemplate = false;\n          // }\n          // this.setpagination(this.page_no);\n          if (response.data != null) {\n            this.preview_template_data = response.data.Template;\n            $(\"#preview_template_visible\").modal(\"show\");\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    send_email_confirm_prompt_text(all_customer) {\n      if (all_customer) {\n        return \"You are about to send bulk e-mails.\";\n      } else {\n        return \"You are about to send e-mails to specific customers.\";\n      }\n    },\n    send_email() {\n      if (!this.send_email_all_customer) {\n        if(!Boolean(this.specific_customer_list.length > 0)){\n          swal({\n          text: \"Please select at least one email\",\n          type: \"warning\",\n          timer: 5000,\n        });\n        return\n        }\n      }\n      Swal.fire({\n        title:this.send_email_confirm_prompt_text(this.send_email_all_customer),\n        text:\"Please confirm\",\n        showCancelButton: true,\n        type:'warning',\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!!\",\n      }).then((result) => {\n        if (result.value) {\n          $(\"#sendemail\").modal(\"hide\");\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.send_offer_to_customers(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                send_email: true,\n                send_email_all_customer: this.send_email_all_customer,\n                specific_customer_list:\n                  this.send_email_all_customer != true\n                    ? this.specific_customer_list\n                    : [],\n                template_id: this.current_template.template_id,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              if (response.data != null) {\n                if (response.data.MSG === \"Sending Email\") {\n                  // this.save_subject = \"\";\n                  // $(\"#publishtemplatemodel\").modal(\"hide\");\n                  swal({\n                    text: \"Email is being  sent successfully.\",\n                    type: \"success\",\n                    timer: 5000,\n                    title: \"Success\",\n                  }).then((result) => {\n                    $(\"#sendemail\").modal(\"hide\");\n                    this.empty_variable();\n                  });\n                } else if(response.data.MSG === \"Please upgrade your plan to send emails\") {\n                    swal({\n                      type: \"warning\",\n                      text: `Please upgrade your plan to send emails.`,\n                      showCancelButton: true,\n                      confirmButtonColor:'#3085d6',\n                      confirmButtonText: 'Upgrade Now',\n                      cancelButtonText: 'Later',\n                      cancelButtonColor: '#d33',\n                    }).then((result) => {\n                      if (result.value == true)\n                      {\n                        this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                      }\n                    });\n                }\n                 else {\n                  swal({\n                    text: \"Internal Server Error\",\n                    type: \"error\",\n                    timer: 2000,\n                  });\n                }\n              } else {\n                swal({\n                  text: \"Internal Server Error\",\n                  type: \"error\",\n                  timer: 2000,\n                });\n              }\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });\n    },\n    selected_templates(value) {\n      if(value == \"all\"){\n        if (event.target.checked) {\n          this.checked_list = [];\n            for (var i in this.templatelist) {\n              this.checked_list.push(this.templatelist[i].template_id);\n          }\n          $(\"input:checkbox\").prop(\"checked\", false);\n          for(let i = 0; i < this.checked_list.length; i++){\n            $(\"#\"+[i]).prop(\"checked\", true);\n            $(\"#selectall\").prop(\"checked\", true);\n          }\n        }else if (!event.target.checked){\n          this.checked_list = [];\n          $(\"input:checkbox\").prop(\"checked\", false);\n        }\n\n      }else{\n        if (event.target.checked) {\n          this.checked_list.push(value);\n        } else if (!event.target.checked){\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((templates_id) => {\n            return templates_id != value;\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    load_templates() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_promotional_email(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_get: true,\n            is_notification: this.is_notification_template,\n            page_no: this.page_no,\n            per_page: this.per_page,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data != null) {\n            this.number_of_rows = response.data.pagecount;\n            this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n            if (response.data === \"DB OPERATION UNSUCCESSFUL\") {\n              this.templatelist = [];\n              return;\n            }\n            this.templatelist = response.data.data;\n            if (this.templatelist.length > 0) {\n              // this.current_template = this.templatelist[0];\n              this.show_template(0);\n            }\n            this.isEditTemplate = false;\n          }\n          this.setpagination(this.page_no);\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    fileinput1(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n        if (!files.length) return;\n        this.file_label = files[0].name;\n        this.createImage(files[0]);\n      } else {\n        swal({\n          text: \"Please Select an Image of type PNG or JPEG\",\n          type: \"error\",\n          timer: 2500,\n        });\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.image_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n    fileinput2(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n        if (!files.length) return;\n        this.old_edited_image_name = this.edited_file_label;\n        this.edited_file_label = files[0].name;\n        this.createImage2(files[0]);\n      } else {\n        swal({\n          text: \"Please Select an Image of type PNG or JPEG\",\n          type: \"error\",\n          timer: 2500,\n        });\n      }\n    },\n    createImage2(file, type) {\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.image_file_2 = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n    create_UUID() {\n      var dt = new Date().getTime();\n      var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function (c) {\n          var r = (dt + Math.random() * 16) % 16 | 0;\n          dt = Math.floor(dt / 16);\n          return (c == \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n        }\n      );\n      return uuid;\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n      } else {\n        if (page == \"...s\") {\n          this.page_no = Math.ceil((1 + this.page_no) / 2);\n        } else if (page == \"...l\") {\n          this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n        } else {\n          this.page_no = page;\n        }\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_email(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_get: true,\n              is_notification: this.is_notification_template,\n              page_no: this.page_no,\n              per_page: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data != null) {\n              if (response.data === \"DB OPERATION UNSUCCESSFUL\") {\n                this.templatelist = [];\n                return;\n              }\n              this.templatelist = response.data.data;\n              if (this.templatelist.length > 0) {\n                this.current_template = this.templatelist[0];\n              }\n              this.isEditTemplate = false;\n            }\n            this.setpagination(this.page_no);\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    save_template() {\n      if (this.template_name == \"\") {\n        Swal({\n          text: \"Please enter an Template name\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.template_name_already_exist == true) {\n        Swal({\n          text: \"Template name already exist, Please enter different name\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.email_subject == \"\") {\n        Swal({\n          text: \"Please enter the subject for email\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_sms == true && this.save_sms == \"\") {\n        Swal({\n          text: \"Please enter an Sms\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_email == true && this.save_email == \"\") {\n        Swal({\n          text: \"Please enter an Email Body\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_email == false && this.is_sms == false) {\n        Swal({\n          text: \"Please select an option\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_image_needed == \"yes\" &&\n        document.getElementById(\"inputFile\").value == \"\"\n      ) {\n        Swal({\n          text: \"Please choose an image\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_image_needed == \"yes\" && !this.validURL) {\n        Swal({\n          text: \"Please enter valid URL link\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else {\n        var uuid = this.create_UUID();\n        Swal.fire({\n          title: \"Are you sure?\",\n          text: `You want to add this template?`,\n          type: \"question\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Yes, Confirm!\",\n        }).then((result) => {\n          if (result.value) {\n            Swal({\n              text: \"Please wait while we are submitting your details...\",\n              type: \"info\",\n              toast: true,\n              showConfirmButton: false,\n            });\n            axios\n              .post(\n                api_calls.template_promotional_email(),\n                {\n                  company_id: this.company_id,\n                  company_name: this.company_name,\n                  is_save: true,\n                  is_notification: this.is_notification_template,\n                  template_id: uuid,\n                  template_name: this.template_name,\n                  save_email: this.is_email == true ? this.save_email : null,\n                  save_sms: this.is_sms == true ? this.save_sms : null,\n                  email_subject: this.email_subject,\n                  email_img_file:\n                    this.is_image_needed === \"none\" ? null : this.image_file,\n                  email_img_name: this.file_label,\n                  email_img_link: this.img_redirect_url,\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                if (response.data == \"Query Executed Successfully\") {\n                  Swal({\n                    type: \"success\",\n                    text: \"Template data added successfully\",\n                    timer: 2500,\n                  }).then((result) => {\n                    this.empty_variable();\n                    this.load_templates();\n                    $(\"#templatemodel\").modal(\"hide\");\n                  });\n                } else if (response.data.Msg == \"Duplicate image\") {\n                  Swal({\n                    type: \"error\",\n                    text: \"Image already found. Please upload another image or rename it.\",\n                    timer: 2500,\n                  });\n                  this.empty_variable();\n                  this.load_templates();\n                } else {\n                  Swal({\n                    type: \"error\",\n                    text: \"Some error occurred. Please try again.\",\n                    timer: 2500,\n                  });\n                }\n              })\n              .catch((e) => {\n                Swal({\n                  type: \"error\",\n                  text: \"Some error occurred. Please try again.\",\n                  timer: 2500,\n                });\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n          }\n        });\n      }\n    },\n    edit_template() {\n      if (this.current_template.template_name == \"\") {\n        Swal({\n          text: \"Please enter an Template name\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.edit_template_name_already_exist == true) {\n        Swal({\n          text: \"Template name already exist, Please enter different name\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.current_template.subject == \"\") {\n        Swal({\n          text: \"Please enter the subject for email\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_edit_sms == true &&\n        (this.current_template.sms == null || this.current_template.sms == \"\")\n      ) {\n        Swal({\n          text: \"Please enter an Sms\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_edit_email == true &&\n        (this.current_template.email == null ||\n          this.current_template.email == \"\")\n      ) {\n        Swal({\n          text: \"Please enter an Email Body\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_edit_email == false && this.is_edit_sms == false) {\n        Swal({\n          text: \"Please select an option\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_edit_image_needed == \"yes\" && !this.valid_edit_URL) {\n        Swal({\n          text: \"Please enter valid URL link\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_edit_image_needed == \"yes\" &&\n        this.edited_file_label == \"Choose file\" &&\n        document.getElementById(\"inputFile2\").value == \"\"\n      ) {\n        Swal({\n          text: \"Please Choose an Image\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else {\n        Swal({\n          text: \"Please wait while we are submitting your details...\",\n          type: \"info\",\n          toast: true,\n          showConfirmButton: false,\n        });\n        axios\n          .post(\n            api_calls.template_promotional_email(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_edit: true,\n              is_notification: this.is_notification_template,\n              template_id: this.current_template.template_id,\n              template_name: this.current_template.template_name,\n              email_subject: this.current_template.subject,\n              save_email:\n                this.is_edit_email == true ? this.current_template.email : null,\n              save_sms:\n                this.is_edit_sms == true ? this.current_template.sms : null,\n              email_img_file:\n                this.is_edit_image_needed === \"none\" ? null : this.image_file_2,\n              email_img_name:\n                this.is_edit_image_needed === \"none\"\n                  ? null\n                  : this.edited_file_label,\n              email_img_link:\n                this.is_edit_image_needed === \"none\"\n                  ? null\n                  : this.edit_img_redirect_url,\n              is_image_edit:\n                this.edited_file_label != this.old_edited_image_name\n                  ? true\n                  : false,\n              is_image_present:\n                this.is_edit_image_needed === \"none\" ? false : true,\n              old_image:\n                this.old_edited_image_name == \"Choose File\"\n                  ? null\n                  : this.old_edited_image_name,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            if (response.data == \"Query Executed Successfully\") {\n              Swal({\n                type: \"success\",\n                text: \"Template data edited successfully\",\n                timer: 2500,\n              }).then((result) => {\n                this.load_templates();\n              });\n            } else if (response.data.Msg == \"Duplicate image\") {\n              document.getElementById(\"inputFile2\").value = \"\";\n              swal({\n                text: \"Image already found. Please upload another image or rename it.\",\n                type: \"error\",\n                timer: 3000,\n              });\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n              this.load_templates();\n            }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n            Swal({\n              type: \"error\",\n              text: \"Some error occurred. Please try again.\",\n              timer: 2500,\n            });\n          });\n      }\n    },\n    delete_selected() {\n      if (this.checked_list.length == 0) {\n        Swal.fire({\n          title: \"No templates selected!\",\n          text: \"\",\n          type: \"error\",\n          timer: 2000,\n        });\n      } else {\n        Swal.fire({\n          title: \"Are you sure?\",\n          text: \" You want to delete this template?\",\n          type: \"question\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Yes, Confirm!\",\n        }).then((result) => {\n          if (result.value) {\n            this.delete_templates(this.checked_list);\n          }\n        });\n      }\n    },\n    delete_templates(checked_list) {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_promotional_email(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_delete: true,\n            template_list: checked_list,\n            is_notification: this.is_notification_template,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data == \"Deleted Successfully\") {\n            Swal({\n              type: \"success\",\n              text: \"Template data deleted successfully\",\n              timer: 2500,\n            }).then((result) => {\n              this.checked_list = [];\n              $(\"input:checkbox\").prop(\"checked\", false);\n              this.load_templates();\n            });\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    show_template(index) {\n      this.isEditTemplate = false;\n      this.current_template = JSON.parse(JSON.stringify(this.templatelist[index]));\n      this.old_template_name = this.current_template.template_name;\n      this.current_template_index = index;\n      if (Boolean(this.current_template.template_image_name) === true) {\n        this.is_edit_image_needed = \"yes\";\n      } else {\n        this.is_edit_image_needed = \"none\";\n      }\n      if (this.templatelist[index].email != null) {\n        this.is_edit_email = true;\n      } else {\n        this.is_edit_email = false;\n      }\n      if (this.templatelist[index].sms != null) {\n        this.is_edit_sms = true;\n      } else {\n        this.is_edit_sms = false;\n      }\n      if (Boolean(this.current_template.template_image_name) === true) {\n        this.edited_file_label = this.current_template.template_image_name;\n        this.old_edited_image_name = this.edited_file_label;\n        this.edit_img_redirect_url = this.current_template.image_redirect_url;\n        if (this.edited_file_label == \"\") {\n          this.edited_file_label = \"Choose file\";\n        }\n      } else {\n        this.edited_file_label = \"Choose file\";\n        this.old_edited_image_name = this.edited_file_label;\n        this.edit_img_redirect_url = \"\";\n      }\n    },\n    empty_variable() {\n      if(!this.disable_btn_expired){\n        this.send_email_all_customer = true;\n        this.quill.setText(\"\");\n        this.customers_list = [];\n        this.specific_customer_list = [];\n        this.save_sms = \"\";\n        this.save_email = \"\";\n        this.template_name = \"\";\n        this.old_template_name = \"\";\n        this.is_email = true;\n        this.is_sms = false;\n        this.save_subject = \"\";\n        this.is_publish_email = true;\n        this.verification_status = null;\n        this.file_label = \"Choose file\";\n        this.img_redirect_url = \"\";\n        this.email_subject = \"\";\n        this.is_image_needed = \"none\";\n        this.template_name_already_exist = false;\n        document.getElementById(\"template_name_add_id\").style.border = null;\n      }else {\n        this.show_subscription_expired_swal();\n      }\n    \n    },\n    edit_template_details() {\n      if (!this.isEditTemplate) {\n        this.isEditTemplate = true;\n        setTimeout(() => {\n          this.edit_editor();\n        }, 1000);\n      } else {\n        this.isEditTemplate = false;\n        this.load_templates();\n        this.edit_template_name_already_exist = false;\n      }\n    },\n    check_current_template_active(index) {\n      // console.table(index, this.templatelist[index], this.current_template);\n      if (Boolean(this.templatelist[index]) === true) {\n        return this.templatelist[index].template_name ===\n          this.old_template_name\n          ? \"current-active-template\"\n          : null;\n      }\n    },\n  },\n};\n</script>\n<style>\n.ql-picker-options {\n  max-height: 200px !important;\n  overflow: auto !important;\n}\n.ql-dropdown_id{\n  background: lightgray !important;\n}\n.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n    color: #000 !important;\n    z-index: 2;\n}\n.ql-container{\n  min-height: 150px !important;\n}\n.ql-editor{\n    min-height:150px !important;\n}\n</style>\n<style scoped>\n.current-active-template {\n  background: rgba(0, 0, 0, 0.1);\n}\n.modal-xl {\n  max-width: 1140px;\n  min-height: 1140px;\n}\n.table-box tbody tr:hover td,\n.table-box tbody tr:hover th {\n  background: #ececec;\n}\n/* .table-responsive {\n  height: 80vh;\n  overflow-y: auto;\n  border: 1px solid #e3e2e5;\n} */\n/* .table-responsive thead th {\n  top: 0;\n  position: sticky;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n} */\n</style>"]}]}