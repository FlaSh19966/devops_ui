{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/ConversationalFlow/Webhook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/ConversationalFlow/Webhook.vue","mtime":1643027096164},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlbmNpbF9zdmc6CiAgICAgICAgJzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUuNTQ2IiBoZWlnaHQ9IjE1LjQ2MSIgdmlld0JveD0iMCAwIDE1LjU0NiAxNS40NjEiPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiM5ZTllOWU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDcuODg4IC0zNTYuNzY5KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik03NTkuNDE2LDM1Ni43NjlhMi4zNTgsMi4zNTgsMCwwLDEsMS43NzcuNjYyYy41MzQuNTEzLDEuMDcyLDEuMDI1LDEuNTY3LDEuNTc1YTIuMywyLjMsMCwwLDEtLjA3MSwzLjMyNWMtMi43MzYsMi43Ni01LjQ5NCw1LjUtOC4yMzgsOC4yNTFhMS4zODEsMS4zODEsMCwwLDEtLjc1OC4yODhjLS43MTkuMTc0LTEuNDI5LjM3OS0yLjE0NC41NzItLjkzMi4yNTEtMS44NjIuNS0yLjc5NS43NTEtLjYuMTU4LS45ODktLjIxMy0uODMyLS44MDdxLjY4OS0yLjU5NSwxLjQwNi01LjE4MmExLjE2NCwxLjE2NCwwLDAsMSwuMjg5LS40ODdxNC4wOTEtNC4xMDcsOC4yLTguMkEyLjI2NSwyLjI2NSwwLDAsMSw3NTkuNDE2LDM1Ni43NjlabS0xLjk4OSwyLjk1Ni02LjU0LDYuNTM4LDMuMDI1LDMuMDI0LDYuNTM4LTYuNTM3Wm00LjAyMywyLjE2NWMuMTE4LS4xMzUuMjI1LS4yNjkuMzQzLS4zOTJhMS4xMzQsMS4xMzQsMCwwLDAsMC0xLjczNGMtLjQ2LS40NjYtLjkyNi0uOTI1LTEuMzg4LTEuMzlhMS4xNjYsMS4xNjYsMCwwLDAtLjg2MS0uMzY4Yy0uNTc4LDAtLjg4MS40LTEuMjE0Ljc2Wm0tMTIuMDg0LDguODYzLDMuMi0uODYzLTIuMzM3LTIuMzMxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTgxMy45NDIsNDIyLjZsLS43ODktLjgsMy44MjEtMy44MTkuNzg0LjhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTkuNjQ4IC01NS45NDcpIi8+PC9nPjwvc3ZnPicsCiAgICAgIGlzVmlzaWJsZVNlYXJjaENsZWFyOiBmYWxzZSwKICAgICAgaXNFZGl0V2ViaG9vazogZmFsc2UsCiAgICAgIGNvbXBhbnlpZDogIiIsCiAgICAgIGNvbXBhbnluYW1lOiAiIiwKICAgICAgY2hlY2tlZF9saXN0OiBbXSwKICAgICAgc2VhcmNoX25hbWU6ICIiLAogICAgICB3ZWJob29rc19saXN0OiBbXSwKICAgICAgd2ViaG9va3NfbmFtZXNfbGlzdDogW10sCiAgICAgIHdlYmhvb2tfYWxyZWFkeV9leGlzdHM6IGZhbHNlLAogICAgICBwYWdlX25vOiAxLAogICAgICBwZXJfcGFnZTogMTUsCiAgICAgIG51bWJlcl9vZl9yb3dzOiBudWxsLAogICAgICBwYWdlX2FycmF5OiBbXSwKICAgICAgcGFnZW5vOiAiIiwKICAgICAgdG90YWxfcGFnZXM6IG51bGwsCiAgICAgIGN1cnJlbnRfc2VsZWN0ZWRfd2ViaG9vazogW10sCiAgICAgIGN1cnJlbnRfc2VsZWN0ZWRfd2ViaG9va19oaWdobGlnaHQ6ICIiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB3ZWJob29rX25hbWU6ICIiLAogICAgICB3ZWJob29rX2lkOiAiIiwKICAgICAgd2ViaG9va191cmw6ICIiLAogICAgICBodHRwX21ldGhvZDogIkdFVCIsCiAgICAgIGh0dHBfbWV0aG9kX3R5cGVzOiBbIkdFVCIsICJQT1NUIl0sCiAgICAgIGhlYWRlcnM6IFtdLAogICAgICBoZWFkZXJfbmFtZXM6IFsKICAgICAgICAiQWNjZXB0IiwKICAgICAgICAiQWNjZXB0LURhdGV0aW1lIiwKICAgICAgICAiQWNjZXB0LUxhbmd1YWdlIiwKICAgICAgICAiQ29va2llIiwKICAgICAgICAiRnJvbSIsCiAgICAgICAgIkF1dGhvcml6YXRpb24iLAogICAgICAgICJXYXJuaW5nIiwKICAgICAgICAiVXNlci1BZ2VudCIsCiAgICAgICAgIkhvc3QiLAogICAgICAgICJSZWZlcmVyIiwKICAgICAgICAiUHJhZ21hIiwKICAgICAgXSwKICAgICAgYXV0aF91c2VybmFtZTogIiIsCiAgICAgIGF1dGhfcGFzc3dvcmQ6ICIiLAogICAgICBub193ZWJob29rc19wcmVzZW50OiBmYWxzZSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2VhcmNoX25hbWUoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9uYW1lID09PSAiIikgewogICAgICAgIHRoaXMubG9hZF93ZWJob29rKCk7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoX25hbWUgIT09ICIiKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIikgewogICAgICBpZiAodGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpKSB7CiAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55TmFtZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICAgICAgdG9hc3RyLndhcm5pbmcoIlBsZWFzZSBzZWxlY3QgYSBjb21wYW55IG5hbWUgZnJvbSB0aGUgZHJvcGRvd24iKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICB9CiAgICB0aGlzLmxvYWRfd2ViaG9vaygpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHZhciB2bSA9IHRoaXM7CiAgICAkKCIjc2VsZWN0YWxsIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICBpZiAoJCh0aGlzKS5pcygiOmNoZWNrZWQiKSkgewogICAgICAgIC8vICQoJ2RpdjppbnB1dCcpLnByb3AoJ2NoZWNrZWQnLHRydWUpOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgfQogICAgfSk7CiAgICAkKCdhW2RhdGEtdGFyZ2V0PSIjd2ViaG9va21vZGFsIl0nKS5vbignY2xpY2snICwgZnVuY3Rpb24gKCkgewogICAgICBpZih2bS5pc0VkaXRXZWJob29rID09IHRydWUpewogICAgICAgIHZtLnZlcmlmeV9jaGFuZ2VzKCk7CiAgICAgIH1lbHNlewogICAgICAgIHZtLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgJCgiI3dlYmhvb2ttb2RhbCIpLm1vZGFsKCdzaG93Jyk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6ewogICAgY3VycmVudF9zZWxlY3RlZF93ZWJob29rX2hlYWRlcnMoKXsKICAgICAgaWYodHlwZW9mKHRoaXMuY3VycmVudF9zZWxlY3RlZF93ZWJob29rKSA9PT0gJ29iamVjdCcpewogICAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuY3VycmVudF9zZWxlY3RlZF93ZWJob29rKS5sZW5ndGggPjApewogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY3VycmVudF9zZWxlY3RlZF93ZWJob29rLmhlYWRlcnMpLmxlbmd0aCA+MCl7CiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZVJvdXRlTGVhdmUodG8sIGZyb20sIG5leHQpIHsKICAgIGlmICh0aGlzLmlzRWRpdFdlYmhvb2spIHsKICAgICAgdGhpcy52ZXJpZnlfY2hhbmdlcygpOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdmVyaWZ5X2NoYW5nZXMoKSB7CiAgICAgIFN3YWwoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIklmIHlvdSBoYXZlIG1hZGUgYW55IGNoYW5nZXMgdG8gdGhlIHNlbGVjdGVkIFdlYmhvb2sgcGxlYXNlIHNhdmUgdGhlbSBmaXJzdCwgZWxzZSB0aGV5IHdpbGwgZGlzY2FyZGVkISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlNhdmUiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiaWYgdHJ1ZSIpOwogICAgICAgICAgdGhpcy5zYXZlX3dlYmhvb2soKTsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlbHNlIGZhbHNlIik7CiAgICAgICAgICB0aGlzLmlzRWRpdFdlYmhvb2sgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrX3dlYmhvb2tfbmFtZSgpIHsKICAgICAgaWYgKHRoaXMud2ViaG9va3NfbmFtZXNfbGlzdC5pbmNsdWRlcyh0aGlzLndlYmhvb2tfbmFtZSkpewogICAgICAgIHRoaXMud2ViaG9va19hbHJlYWR5X2V4aXN0cyA9IHRydWU7CiAgICAgIH1lbHNlIHsKICAgICAgICB0aGlzLndlYmhvb2tfYWxyZWFkeV9leGlzdHMgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyX3NlYXJjaF9uYW1lKCkgewogICAgICB0aGlzLnNlYXJjaF9uYW1lID0gIiI7CiAgICB9LAogICAgY2FsbHNlYXJjaCgpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgdGhpcy5zZWFyY2hfd2ViaG9vaygpOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoX3dlYmhvb2soKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9uYW1lICE9ICIiKSB7CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLmZvcm1fYXV0b21hdGlvbl93ZWJob29rX2RldGFpbHMoKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiAiUGxhdGludW0iLAogICAgICAgICAgICAgIGlzX3NlYXJjaDogdHJ1ZSwKICAgICAgICAgICAgICBzZWFyY2hfdGVybTogdGhpcy5zZWFyY2hfbmFtZSwKICAgICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgICBwYWdlX25vOiAxLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PT0gIldlYmhvb2sgRGV0YWlscyBSZWNlaXZlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgICAgdGhpcy53ZWJob29rc19saXN0ID0gW107CiAgICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCh0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZSk7CiAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhLndlYmhvb2tbMF0ud2ViaG9vaykgewogICAgICAgICAgICAgICAgdGhpcy53ZWJob29rc19saXN0LnB1c2gocmVzcG9uc2UuZGF0YS53ZWJob29rWzBdLndlYmhvb2tbaV0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLnNob3dfd2ViaG9vaygwKTsKICAgICAgICAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgICAgICAgICB0aGlzLm5vX3dlYmhvb2tzX3ByZXNlbnQgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PT0gIlNlYXJjaGVkIHdlYmhvb2sgbm90IGZvdW5kIikgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgdGV4dDogIlNlYXJjaGVkIHdlYmhvb2sgbm90IGZvdW5kIiwKICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmxvYWRfZW50aXR5KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6ICJTZWFyY2ggZmllbGQgY2Fubm90IGJlIGVtcHR5IiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZWRpdF93ZWJob29rX2RldGFpbHMoKSB7CiAgICAgIGlmICghdGhpcy5pc0VkaXRXZWJob29rKSB7CiAgICAgICAgdGhpcy53ZWJob29rX25hbWUgPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfd2ViaG9vay5uYW1lOwogICAgICAgIHRoaXMud2ViaG9va19pZCA9IHRoaXMuY3VycmVudF9zZWxlY3RlZF93ZWJob29rLmlkOwogICAgICAgIHRoaXMud2ViaG9va191cmwgPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfd2ViaG9vay51cmw7CiAgICAgICAgdGhpcy5odHRwX21ldGhvZCA9IHRoaXMuY3VycmVudF9zZWxlY3RlZF93ZWJob29rLmh0dHBfbWV0aG9kOwogICAgICAgIHRoaXMuaGVhZGVycyA9IHRoaXMuY3VycmVudF9zZWxlY3RlZF93ZWJob29rLmhlYWRlcnM7CiAgICAgICAgdGhpcy5hdXRoX3VzZXJuYW1lID0gdGhpcy5jdXJyZW50X3NlbGVjdGVkX3dlYmhvb2suYXV0aF91c2VybmFtZTsKICAgICAgICB0aGlzLmF1dGhfcGFzc3dvcmQgPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfd2ViaG9vay5hdXRoX3Bhc3N3b3JkOwogICAgICAgIHRoaXMuaXNFZGl0V2ViaG9vayA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0VkaXRXZWJob29rID0gZmFsc2U7CiAgICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgIHRoaXMubG9hZF93ZWJob29rKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19jdXJyZW50X3dlYmhvb2soaW5kZXgpIHsKICAgICAgdmFyIHJldHVybl92YXIgPSAiIjsKICAgICAgaWYgKAogICAgICAgIHRoaXMud2ViaG9va3NfbGlzdFtpbmRleF0uaWQgPT0gdGhpcy5jdXJyZW50X3NlbGVjdGVkX3dlYmhvb2tfaGlnaGxpZ2h0CiAgICAgICkgewogICAgICAgIHJldHVybl92YXIgKz0gImN1cnJlbnQtYWN0aXZlLXdlYmhvb2siOwogICAgICB9CiAgICAgIHJldHVybiByZXR1cm5fdmFyOwogICAgfSwKICAgIHNob3dfd2ViaG9vayhpbmRleCkgewogICAgICB0aGlzLmlzRWRpdFdlYmhvb2sgPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkX3dlYmhvb2sgPSB0aGlzLndlYmhvb2tzX2xpc3RbaW5kZXhdOwogICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfd2ViaG9va19oaWdobGlnaHQgPSB0aGlzLndlYmhvb2tzX2xpc3RbaW5kZXhdLmlkOwogICAgfSwKICAgIGxvYWRfd2ViaG9vaygpIHsKICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmZvcm1fYXV0b21hdGlvbl93ZWJob29rX2RldGFpbHMoKSwgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy53ZWJob29rc19saXN0ID0gW107CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICJXZWJob29rIERldGFpbHMgUmVjZWl2ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5jb3VudDsKICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCh0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZSk7CiAgICAgICAgICAgIC8vIHRoaXMud2ViaG9va3NfbGlzdCA9IHJlc3BvbnNlLmRhdGEud2ViaG9va1swXS53ZWJob29rOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEud2ViaG9va1swXS53ZWJob29rKSB7CiAgICAgICAgICAgICAgdGhpcy53ZWJob29rc19saXN0LnB1c2gocmVzcG9uc2UuZGF0YS53ZWJob29rWzBdLndlYmhvb2tbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMud2ViaG9va3NfbmFtZXNfbGlzdCA9IHJlc3BvbnNlLmRhdGEud2ViaG9va19uYW1lczsKICAgICAgICAgICAgdGhpcy5zaG93X3dlYmhvb2soMCk7CiAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgICB0aGlzLm5vX3dlYmhvb2tzX3ByZXNlbnQgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICJXZWJob29rIERldGFpbHMgRG9lcyBub3QgRXhpc3RzIikgewogICAgICAgICAgICB0aGlzLm5vX3dlYmhvb2tzX3ByZXNlbnQgPSB0cnVlOwogICAgICAgICAgICB0aGlzLndlYmhvb2tzX2xpc3QgPSBbXQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0ZXh0OiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMubG9hZF93ZWJob29rKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZV9VVUlEKCkgewogICAgICB2YXIgZHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgdmFyIHV1aWQgPSAieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKAogICAgICAgIC9beHldL2csCiAgICAgICAgZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHZhciByID0gKGR0ICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICAgIGR0ID0gTWF0aC5mbG9vcihkdCAvIDE2KTsKICAgICAgICAgIHJldHVybiAoYyA9PSAieCIgPyByIDogKHIgJiAweDMpIHwgMHg4KS50b1N0cmluZygxNik7CiAgICAgICAgfQogICAgICApOwogICAgICByZXR1cm4gdXVpZDsKICAgIH0sCiAgICBhZGRfdG9faGVhZGVyc19saXN0KGZ1bmMsIGluZGV4KSB7CiAgICAgIGlmIChmdW5jID09ICJhZGQiKSB7CiAgICAgICAgdGhpcy5oZWFkZXJzLnB1c2goewogICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoZnVuYyA9PSAicmVtb3ZlIikgewogICAgICAgIHRoaXMuaGVhZGVycy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlX3NlbGVjdGVkKCkgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5mb3JtX2F1dG9tYXRpb25fd2ViaG9va19kZXRhaWxzKCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgaXNfZGVsZXRlOiB0cnVlLAogICAgICAgICAgICB3ZWJob29rX2lkOiB0aGlzLmNoZWNrZWRfbGlzdCwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgfSwKICAgICAgICB9CiAgICAgICAgKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJXZWJob29rIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09PSAiREIgT1BFUkFUSU9OIFVOU1VDQ0VTU0ZVTCIpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiSW50ZXJuYWwgU2VydmVyIGVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09PSAiTm8gV2ViaG9vayBpbiBkYXRhYmFzZSIpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiSW50ZXJuYWwgU2VydmVyIGVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubG9hZF93ZWJob29rKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICB0ZXh0OiAiU2VsZWN0IGF0bGVhc3Qgb25lIHdlYmhvb2sgdG8gZGVsZXRlIiwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2F2ZV93ZWJob29rKCkgewogICAgICAvLyBOZWVkIHRvIGNoYW5nZSBsb2dpYyBpZiBNdWx0aXBsZSBXZWJob29rIGRldGFpbHMgYXJlIGFjY2VwdGVkCiAgICAgIGlmICh0aGlzLndlYmhvb2tfaWQgPT0gIiIpIHsKICAgICAgICB0aGlzLndlYmhvb2tfaWQgPSB0aGlzLmNyZWF0ZV9VVUlEKCk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMud2ViaG9va19uYW1lID09ICIiICYmIHRoaXMud2ViaG9va19hbHJlYWR5X2V4aXN0cykgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogIkFkZCBhIHVuaXF1ZSB3ZWJob29rIG5hbWUiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMud2ViaG9va191cmwgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6ICJBZGQgY29ycmVjdCBVUkwiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIHZhciB3ZWJob29rX2RldGFpbHMgPSB7fTsKICAgICAgICB3ZWJob29rX2RldGFpbHMuaWQgPSB0aGlzLndlYmhvb2tfaWQ7CiAgICAgICAgd2ViaG9va19kZXRhaWxzLm5hbWUgPSB0aGlzLndlYmhvb2tfbmFtZTsKICAgICAgICB3ZWJob29rX2RldGFpbHMudXJsID0gdGhpcy53ZWJob29rX3VybDsKICAgICAgICB3ZWJob29rX2RldGFpbHMuaHR0cF9tZXRob2QgPSB0aGlzLmh0dHBfbWV0aG9kOwogICAgICAgIHdlYmhvb2tfZGV0YWlscy5oZWFkZXJzID0gdGhpcy5oZWFkZXJzOwogICAgICAgIHdlYmhvb2tfZGV0YWlscy5hdXRoX3VzZXJuYW1lID0gdGhpcy5hdXRoX3VzZXJuYW1lOwogICAgICAgIHdlYmhvb2tfZGV0YWlscy5hdXRoX3Bhc3N3b3JkID0gdGhpcy5hdXRoX3Bhc3N3b3JkOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdChhcGlfY2FsbHMuZm9ybV9hdXRvbWF0aW9uX3dlYmhvb2tfZGV0YWlscygpLCB7CiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGlzX3NhdmU6IHRydWUsCiAgICAgICAgICAgIHdlYmhvb2tfZGV0YWlsczogd2ViaG9va19kZXRhaWxzLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgICApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09PSAiV2ViaG9vayBEZXRhaWxzIFNhdmVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJXZWJob29rIGRldGFpbHMgc2F2ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMubG9hZF93ZWJob29rKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5NU0cgPT09ICJXZWJob29rIERldGFpbHMgbm90IFNhdmVkIFN1Y2Nlc3NmdWxseSIKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcGFnZV9yZXF1aXJlKHBhZ2UpIHsKICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICBpZiAocGFnZSA9PSAwIHx8IHBhZ2UgPT0gdGhpcy50b3RhbF9wYWdlcyArIDEpIHsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5zZWFyY2hfbmFtZSA9PSAiIikgewogICAgICAgICAgaWYgKHBhZ2UgPT0gIi4uLnMiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSBpZiAocGFnZSA9PSAiLi4ubCIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gcGFnZTsKICAgICAgICAgIH0KICAgICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy5mb3JtX2F1dG9tYXRpb25fd2ViaG9va19kZXRhaWxzKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLndlYmhvb2tzX2xpc3QgPSBbXTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLk1TRyA9PT0gIldlYmhvb2sgRGV0YWlscyBSZWNlaXZlZCBTdWNjZXNzZnVsbHkiCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tzX2xpc3QgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCgKICAgICAgICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEud2ViaG9va1swXS53ZWJob29rKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMud2ViaG9va3NfbGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEud2ViaG9va1swXS53ZWJob29rW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuc2hvd193ZWJob29rKDApOwogICAgICAgICAgICAgICAgdGhpcy53ZWJob29rc19uYW1lc19saXN0ID0gcmVzcG9uc2UuZGF0YS53ZWJob29rOwogICAgICAgICAgICAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAgICAgICAgICAgICB0aGlzLm5vX3dlYmhvb2tzX3ByZXNlbnQgPSBmYWxzZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5NU0cgPT09ICJXZWJob29rIERldGFpbHMgRG9lcyBub3QgRXhpc3RzIgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgLy8gYWRkIHN3YWwgaGVyZQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfd2ViaG9vaygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICBpZiAodGhpcy5wYWdlbm8gPT0gIi4uLnMiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYWdlbm8gPT0gIi4uLmwiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHRoaXMucGFnZW5vOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgICAgYXBpX2NhbGxzLmZvcm1fYXV0b21hdGlvbl93ZWJob29rX2RldGFpbHMoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246ICJQbGF0aW51bSIsCiAgICAgICAgICAgICAgICBpc19zZWFyY2g6IHRydWUsCiAgICAgICAgICAgICAgICBzZWFyY2hfdGVybTogdGhpcy5zZWFyY2hfbmFtZSwKICAgICAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy53ZWJob29rc19saXN0ID0gW107CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5NU0cgPT09ICJXZWJob29rIERldGFpbHMgUmVjZWl2ZWQgU3VjY2Vzc2Z1bGx5IgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKAogICAgICAgICAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YS53ZWJob29rWzBdLndlYmhvb2spIHsKICAgICAgICAgICAgICAgICAgdGhpcy53ZWJob29rc19saXN0LnB1c2gocmVzcG9uc2UuZGF0YS53ZWJob29rWzBdLndlYmhvb2tbaV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5zaG93X3dlYmhvb2soMCk7CiAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tzX25hbWVzX2xpc3QgPSByZXNwb25zZS5kYXRhLndlYmhvb2s7CiAgICAgICAgICAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09PSAiU2VhcmNoZWQgd2ViaG9vayBub3QgZm91bmQiKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICB0ZXh0OiAiU2VhcmNoZWQgd2ViaG9vayBub3QgZm91bmQiLAogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfd2ViaG9vaygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKICAgICAgaWYgKHRoaXMudG90YWxfcGFnZXMgPD0gNykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gMSkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzKSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b3RhbF9wYWdlcyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA8PSA0KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA+PSB0aGlzLnRvdGFsX3BhZ2VzIC0gNCkgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSAzOyBpIDw9IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9CiAgICB9LAogICAgcGFnaW5hdGlvbl9jbGFzcyhpbmRleCkgewogICAgICBpZiAoaW5kZXggPT0gdGhpcy5wYWdlX25vKSB7CiAgICAgICAgcmV0dXJuICIgYWN0aXZlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RlZF93ZWJob29rKHdlYmhvb2tfaWQpIHsKICAgICAgaWYgKHdlYmhvb2tfaWQgPT0gImFsbCIpIHsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdmFyIHRlbXAgPSBbXTsKICAgICAgICAgIHRlbXAgPSB0aGlzLndlYmhvb2tzX2xpc3QubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICQoIiN3ZWJob29rX2NoZWNrYm94XyIgKyBbaV0pLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgJCgiI3NlbGVjdGFsbCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgIGxldCB2YWxfaW5kZXggPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoKHdlYmhvb2spID0+IHsKICAgICAgICAgICAgcmV0dXJuIHdlYmhvb2sud2ViaG9va19pZCA9PSB3ZWJob29rX2lkOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAodmFsX2luZGV4Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2god2ViaG9va19pZCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSBmYWxzZSkgewogICAgICAgICAgdmFyIHNlbGVjdGFsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWxlY3RhbGwiKTsKICAgICAgICAgIGlmIChzZWxlY3RhbGwuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIHNlbGVjdGFsbC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgdGVtcCA9IHRoaXMuY2hlY2tlZF9saXN0LmZpbHRlcigod2ViaG9vaykgPT4gewogICAgICAgICAgICByZXR1cm4gd2ViaG9vayAhPSB3ZWJob29rX2lkOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZW1wdHlfdmFyaWFibGUoKSB7CiAgICAgIGlmKHRoaXMuaXNFZGl0V2ViaG9vayl7CiAgICAgICAgdGhpcy5lZGl0X3dlYmhvb2tfZGV0YWlscygpOwogICAgICB9CiAgICAgIHRoaXMud2ViaG9va19hbHJlYWR5X2V4aXN0cyA9IGZhbHNlOwogICAgICB0aGlzLndlYmhvb2tfaWQgPSAiIjsKICAgICAgdGhpcy53ZWJob29rX25hbWUgPSAiIjsKICAgICAgdGhpcy53ZWJob29rX3VybCA9ICIiOwogICAgICB0aGlzLmh0dHBfbWV0aG9kID0gIkdFVCI7CiAgICAgIHRoaXMuaHR0cF9tZXRob2RfdHlwZXMgPSBbIkdFVCIsICJQT1NUIl07CiAgICAgIHRoaXMuaGVhZGVycyA9IFtdOwogICAgICB0aGlzLmhlYWRlcl9uYW1lcyA9IFsKICAgICAgICAiQWNjZXB0IiwKICAgICAgICAiQWNjZXB0LURhdGV0aW1lIiwKICAgICAgICAiQWNjZXB0LUxhbmd1YWdlIiwKICAgICAgICAiQ29va2llIiwKICAgICAgICAiRnJvbSIsCiAgICAgICAgIkF1dGhvcml6YXRpb24iLAogICAgICAgICJXYXJuaW5nIiwKICAgICAgICAiVXNlci1BZ2VudCIsCiAgICAgICAgIkhvc3QiLAogICAgICAgICJSZWZlcmVyIiwKICAgICAgICAiUHJhZ21hIiwKICAgICAgXTsKICAgICAgdGhpcy5hdXRoX3VzZXJuYW1lID0gIiI7CiAgICAgIHRoaXMuYXV0aF9wYXNzd29yZCA9ICIiOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Webhook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Webhook.vue","sourceRoot":"src/portal/Chatbot/Dashboard/ConversationalFlow","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"card dash-card\" style=\"border: none;\">\n      <div\n        class=\"card-header px-0 d-block d-sm-flex flex-wrap justify-content-between\"\n      >\n        <h4 class=\"mb-sm-0\">Webhook Setup</h4>\n        <!-- <p>\n  Specify the request URL for an external API you want to be able to invoke from dialog nodes. We will call this URL when configured to do so from a dialog node.\n      </p> -->\n        <div class=\"card-act d-flex flex-wrap\">\n          <input\n            class=\"form-control search-bar\"\n            id=\"search_bar_id\"\n            placeholder=\"Search here\"\n            v-model=\"search_name\"\n          />\n          <a\n            type=\"button\"\n            v-if=\"isVisibleSearchClear\"\n            class=\"btn bg-transparent mt-auto mb-auto py-0\"\n            @click=\"clear_search_name\"\n            style=\"margin-left: -40px; z-index: 10\"\n          >\n            <img src=\"/img/close-icn.png\" alt />\n          </a>\n          <a\n            href=\"javascript:void(0)\"\n            class=\"darkblue-btn\"\n            @click=\"isEditWebhook ? verify_changes() : search_webhook\"\n            id=\"search_btn_id\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              width=\"14\"\n              height=\"14\"\n            >\n              <path\n                d=\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\"\n                fill=\"#fff\"\n              />\n            </svg>\n          </a>\n          <a\n            href=\"#\"\n            class=\"darkblue-btn\"\n            id=\"add_entity_btn\"\n            data-target=\"#webhookmodal\"\n            title=\"Add new Webhook\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"14\"\n              height=\"13.997\"\n              viewBox=\"0 0 14 13.997\"\n            >\n              <path\n                id=\"Union_13\"\n                data-name=\"Union 13\"\n                d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                transform=\"translate(12690.001 -2045.002)\"\n                fill=\"#fff\"\n              />\n            </svg>\n            Add Webhook\n          </a>\n          <a\n            href=\"javascript:void(0)\"\n            class=\"red-btn\"\n            @click=\"delete_selected\"\n            id=\"delete_entity_id\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"14\"\n              height=\"14\"\n              viewBox=\"0 0 14 14\"\n            >\n              <path\n                d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                transform=\"translate(-4 -3)\"\n                fill=\"#fff\"\n              />\n            </svg>\n            Delete\n          </a>\n        </div>\n      </div>\n      <div class=\"card-body px-0 pt-0\" id=\"page\">\n        <div class=\"col-sm-12 d-flex px-0\" v-if=\"!no_webhooks_present\">\n          <div class=\"col-sm-4 pl-0\">\n            <div class=\"table-box\">\n              <div class=\"table-responsive\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label class=\"form-check-label\">\n                            <input\n                              class=\"form-check-input\"\n                              id=\"selectall\"\n                              type=\"checkbox\"\n                              @change=\"selected_webhook('all')\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <th scope=\"col\" class=\"text-left\">Webhooks</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr\n                      v-for=\"(webhook, index) in webhooks_list\"\n                      :key=\"index\"\n                      :class=\"check_current_webhook(index)\"\n                    >\n                      <th scope=\"col\">\n                        <div class=\"form-check checkbox-success\">\n                          <label\n                            class=\"form-check-label checkbox checkbox-success\"\n                          >\n                            <input\n                              class=\"form-check-input\"\n                              type=\"checkbox\"\n                              :id=\"'webhook_checkbox_' + index\"\n                              @change=\"selected_webhook(webhook.id)\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <td\n                        style=\"cursor: pointer\"\n                        @click=\"isEditWebhook ? verify_changes() : show_webhook(index)\"\n                        :title=\"webhook.name\"\n                      >\n                        <template>\n                          <p style=\"margin-bottom: 0\">\n                            {{ webhook.name }}\n                          </p>\n                        </template>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-8 pr-0\">\n            <div style=\"border: 1px solid #dbe2e8\">\n              <div class=\"col-sm-12\">\n                <div style=\"color: #414141\" class=\"d-flex\">\n                  <h4><p class=\"mt-2 mb-0\">Webhook Details</p></h4>\n                  <span\n                    @click=\"edit_webhook_details\"\n                    v-html=\"pencil_svg\"\n                    class=\"ml-auto mr-2 mt-2\"\n                  ></span>\n                </div>\n              </div>\n              <hr />\n              <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                <h5 class=\"mb-2\">Webhook Name</h5>\n                <div v-if=\"!isEditWebhook\" style=\"padding-left: 20px\">\n                  <p>{{ current_selected_webhook.name }}</p>\n                </div>\n                <div v-else-if=\"isEditWebhook\">\n                  <input\n                    style=\"padding: 0.375rem 0.75rem\"\n                    align=\"right\"\n                    class=\"form-control\"\n                    placeholder=\"Enter Intent\"\n                    id=\"enter_entity_edit_id\"\n                    v-on:keyup=\"check_webhook_name\"\n                    v-model=\"webhook_name\"\n                  />\n                  <span\n                    v-show=\"webhook_already_exists\" \n                    style=\"color: red\"\n                    >An Webhook with this name already exists.</span\n                  >\n                </div>\n                <hr />\n                <h5 class=\"mb-2\">URL</h5>\n                <div v-if=\"!isEditWebhook\" style=\"padding-left: 20px\">\n                  <p>{{ current_selected_webhook.url }}</p>\n                </div>\n                <div v-else>\n                  <input\n                    type=\"text\"\n                    v-model=\"webhook_url\"\n                    class=\"form-control\"\n                    style=\"padding: 0.375rem 0.75rem\"\n                    title=\"Your app URL for webhook request (ex. https://us-south.functions.cloud.ibm.com/api/v1/web/myapp/HelloWorld.json)\"\n                    placeholder=\"Your app URL for webhook request (ex. https://us-south.functions.cloud.ibm.com/api/v1/web/myapp/HelloWorld.json)\"\n                  />\n                </div>\n                <hr />\n                <div v-if=\"!isEditWebhook\">\n                  <div class=\"d-flex\">\n                    <h5 class=\"mb-2\">HTTP Method :</h5>\n                    <p class=\"pl-3\" style=\"padding-top: 2px;\">\n                      {{ current_selected_webhook.http_method }}\n                    </p>\n                  </div>\n                </div>\n                <div v-else>\n                  <h6 class=\"mb-2\">Set HTTP Method</h6>\n                  <select\n                    class=\"form-control input-tag\"\n                    v-model=\"http_method\"\n                    style=\"width: 20%; padding: 0.375rem 0.75rem\"\n                    placeholder=\"Select response\"\n                    id=\"res_n_int_source\"\n                  >\n                    <option\n                      v-for=\"(option, index) in http_method_types\"\n                      :key=\"index\"\n                      :value=\"option\"\n                    >\n                      {{ option }}\n                    </option>\n                  </select>\n                </div>\n                <div v-if=\"!isEditWebhook\">\n                  <div v-if=\"current_selected_webhook_headers\">\n                <hr />\n                  <h5 class=\"mb-4\">Headers</h5>\n                  <table class=\"table\" style=\"border: 1px solid black\">\n                    <thead>\n                      <tr style=\"border: 1px\">\n                        <td\n                          scope=\"col\"\n                          style=\"\n                            text-align: center;\n                            border: 1px solid black;\n                          \"\n                        >\n                          <strong>Header name</strong>\n                        </td>\n                        <td\n                          scope=\"col\"\n                          style=\"\n                            text-align: center;\n                            border: 1px solid black;\n                          \"\n                        >\n                          <strong>Header value</strong>\n                        </td>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr\n                        v-for=\"(header, index) in current_selected_webhook.headers\"\n                        :key=\"index\"\n                        id=\"list-group\"\n                        style=\"border: 1px\"\n                      >\n                        <td\n                          scope=\"row\"\n                          style=\"\n                            text-align: center;\n                            border: 1px solid black;\n                          \"\n                        >\n                          {{ header.name }}\n                        </td>\n                        <td\n                          style=\"\n                            text-align: center;\n                            border: 1px solid black;\n                          \"\n                        >\n                          {{ header.value }}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  </div>\n                </div>\n                <div v-if=\"isEditWebhook\">\n                <hr />\n                <h5 class=\"mb-4\">Headers</h5>\n                  <hr style=\"margin: 10px 0px\" />\n                  <div class=\"d-flex mb-1\" style=\"text-align: center\">\n                    <div class=\"col-sm-5\">Header name</div>\n                    <div class=\"col-sm-5\">Header value</div>\n                  </div>\n                  <hr style=\"margin: 10px 0px\" />\n                  <div\n                    class=\"col-sm-12 p-0 d-flex form-group\"\n                    v-for=\"(header, index) in headers\"\n                    :key=\"index\"\n                  >\n                    <div class=\"col-sm-5 p-0\">\n                      <select\n                        class=\"form-control input-tag\"\n                        v-model=\"header.name\"\n                        style=\"width: 100%; padding: 0.375rem 0.5rem\"\n                        placeholder=\"Select response\"\n                        id=\"res_n_int_source\"\n                      >\n                        <option\n                          v-for=\"(option, index) in header_names\"\n                          :key=\"index\"\n                          :value=\"option\"\n                        >\n                          {{ option }}\n                        </option>\n                      </select>\n                    </div>\n                    <div class=\"col-sm-5 p-0 pl-3\">\n                      <input\n                        class=\"form-control input-tag\"\n                        style=\"width: 100%; padding: 0.375rem 0.5rem\"\n                        placeholder=\"Enter value\"\n                        type=\"text\"\n                        v-model=\"header.value\"\n                      />\n                    </div>\n                    <div class=\"col-sm-1\" style=\"padding-top: 10px\">\n                      <span\n                        style=\"float: right; cursor: pointer; font-size: 14px\"\n                        @click=\"add_to_headers_list('remove', index)\"\n                        class=\"muted\"\n                      >\n                        <i\n                          title=\"Delete Slot\"\n                          style=\"font-size: 16px\"\n                          class=\"fa\"\n                          >&#xf00d;</i\n                        >\n                      </span>\n                    </div>\n                    <div\n                      v-if=\"header.name == 'Authorization'\"\n                      class=\"col-sm-1\"\n                      style=\"padding-top: 10px\"\n                    >\n                      <span\n                        style=\"float: right; cursor: pointer; font-size: 14px\"\n                        class=\"muted\"\n                        data-toggle=\"modal\"\n                        data-target=\"#authorizationmodal\"\n                      >\n                        <i title=\"Customize Slot\" class=\"fas fa-cog\"></i>\n                        <!-- <i style=\"font-size: 16px\" class=\"fa\">&#xf00d;</i> -->\n                      </span>\n                    </div>\n                  </div>\n                  <div class=\"d-flex\">\n                    <h6 style=\"padding-top: 5px; margin-bottom: 4px\">\n                      Add Header\n                    </h6>\n                    <button\n                      class=\"add_response_button ml-2\"\n                      style=\"\n                        background: transparent\n                          url('@portal/assets/img/plus.png') 0% 0% no-repeat\n                          padding-box;\n                      \"\n                      @click=\"add_to_headers_list('add')\"\n                    >\n                      <img src=\"/img/black_plus.png\" alt=\"\" />\n                    </button>\n                  </div>\n                  <hr />\n                  <div class=\"modal-footer\">\n                    <div class=\"dash-modal\">\n                    <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                      <button\n                        type=\"button\"\n                        class=\"btn btn-link\"\n                        data-dismiss=\"modal\"\n                        @click=\"edit_webhook_details\"\n                      >\n                        Cancel\n                      </button>\n                      <button\n                        type=\"submit\"\n                        class=\"darkblue-btn\"\n                        id=\"res_n_int_save\"\n                        @click=\"save_webhook()\"\n                      >\n                        Save\n                      </button>\n                    </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div v-else>\n          <p class=\"text-center\" style=\"padding-top: 50px;\">\n            <strong>\n              You currently have No Webhooks Added. Please add to\n              continue.</strong\n            >\n          </p>\n        </div>\n        <div\n          class=\"pagin-table\"\n          style=\"margin-top: 2%\"\n          v-show=\"webhooks_list.length > 0\"\n        >\n          <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"isEditWebhook ? verify_changes() : page_require(page_no - 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-left\"\n                      transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n              <li\n                :class=\"'page-item ' + pagination_class(pageno)\"\n                v-for=\"pageno in page_array\"\n                :key=\"pageno\"\n              >\n                <a\n                  v-if=\"pageno == '...s' || pageno == '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"isEditWebhook ? verify_changes() : page_require(pageno)\"\n                  >...</a\n                >\n                <a\n                  v-if=\"pageno != '...s' && pageno != '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"isEditWebhook ? verify_changes() : page_require(pageno)\"\n                  >{{ pageno }}</a\n                >\n              </li>\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"isEditWebhook ? verify_changes() : page_require(page_no + 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-right\"\n                      transform=\"translate(-97.139 0)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"modal fade\"\n      id=\"webhookmodal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content p-2\">\n          <div class=\"modal-header\">\n            <h4>Webhook Details</h4>\n            <button\n              @click=\"empty_variable()\"\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <h6 class=\"mb-2\">Enter Webhook Name</h6>\n            <input\n              type=\"text\"\n              v-model=\"webhook_name\"\n              class=\"form-control\"\n              style=\"padding: 0.375rem 0.75rem\"\n            />\n            <span\n              v-show=\"webhook_already_exists\" \n              style=\"color: red\"\n              >An Webhook with this name already exists.</span\n            >\n            <br />\n            <h6 class=\"mb-2\">URL</h6>\n            <input\n              type=\"text\"\n              v-model=\"webhook_url\"\n              class=\"form-control\"\n              style=\"padding: 0.375rem 0.75rem\"\n              title=\"Your app URL for webhook request (ex. https://us-south.functions.cloud.ibm.com/api/v1/web/myapp/HelloWorld.json)\"\n              placeholder=\"Your app URL for webhook request (ex. https://us-south.functions.cloud.ibm.com/api/v1/web/myapp/HelloWorld.json)\"\n            />\n            <br />\n            <h6 class=\"mb-2\">Set HTTP Method</h6>\n            <select\n              class=\"form-control input-tag\"\n              v-model=\"http_method\"\n              style=\"width: 100%; padding: 0.375rem 0.5rem\"\n              placeholder=\"Select response\"\n              id=\"res_n_int_source\"\n            >\n              <option\n                v-for=\"(option, index) in http_method_types\"\n                :key=\"index\"\n                :value=\"option\"\n              >\n                {{ option }}\n              </option>\n            </select>\n            <br />\n            <h6 class=\"mb-4\">Headers</h6>\n            <p>\n              Add HTTP headers for authorization or any other parameters\n              required for invoking the webhook.\n            </p>\n            <div>\n              <hr style=\"margin: 10px 0px\" />\n              <div class=\"d-flex mb-1\" style=\"text-align: center\">\n                <div class=\"col-sm-5\">Header name</div>\n                <div class=\"col-sm-5\">Header value</div>\n              </div>\n              <hr style=\"margin: 10px 0px\" />\n              <div\n                class=\"col-sm-12 p-0 d-flex form-group\"\n                v-for=\"(header, index) in headers\"\n                :key=\"index\"\n              >\n                <div class=\"col-sm-5 p-0\">\n                  <select\n                    class=\"form-control input-tag\"\n                    v-model=\"header.name\"\n                    style=\"width: 100%; padding: 0.375rem 0.5rem\"\n                    placeholder=\"Select response\"\n                    id=\"res_n_int_source\"\n                  >\n                    <option\n                      v-for=\"(option, index) in header_names\"\n                      :key=\"index\"\n                      :value=\"option\"\n                    >\n                      {{ option }}\n                    </option>\n                  </select>\n                </div>\n                <div class=\"col-sm-5 p-0 pl-3\">\n                  <input\n                    class=\"form-control input-tag\"\n                    style=\"width: 100%; padding: 0.375rem 0.5rem\"\n                    placeholder=\"Enter value\"\n                    type=\"text\"\n                    v-model=\"header.value\"\n                  />\n                </div>\n                <div class=\"col-sm-1\" style=\"padding-top: 10px\">\n                  <span\n                    style=\"float: right; cursor: pointer; font-size: 14px\"\n                    @click=\"add_to_headers_list('remove', index)\"\n                    class=\"muted\"\n                  >\n                    <i title=\"Delete Slot\" style=\"font-size: 16px\" class=\"fa\"\n                      >&#xf00d;</i\n                    >\n                  </span>\n                </div>\n                <div\n                  v-if=\"header.name == 'Authorization'\"\n                  class=\"col-sm-1\"\n                  style=\"padding-top: 10px\"\n                >\n                  <span\n                    style=\"float: right; cursor: pointer; font-size: 14px\"\n                    class=\"muted\"\n                    data-toggle=\"modal\"\n                    data-target=\"#authorizationmodal\"\n                  >\n                    <i title=\"Customize Slot\" class=\"fas fa-cog\"></i>\n                    <!-- <i style=\"font-size: 16px\" class=\"fa\">&#xf00d;</i> -->\n                  </span>\n                </div>\n              </div>\n              <div class=\"d-flex\">\n                <h6 style=\"padding-top: 5px; margin-bottom: 4px\">Add Header</h6>\n                <button\n                  class=\"add_response_button ml-2\"\n                  style=\"\n                    background: transparent url('@portal/assets/img/plus.png')\n                      0% 0% no-repeat padding-box;\n                  \"\n                  @click=\"add_to_headers_list('add')\"\n                >\n                  <img src=\"/img/black_plus.png\" alt=\"\" />\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"btn-wrap card-act text-right mt-0 py-0 border-top-0\">\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                data-dismiss=\"modal\"\n                @click=\"empty_variable()\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"save_webhook()\"\n                data-dismiss=\"modal\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"modal fade\"\n      id=\"authorizationmodal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\"\n      aria-hidden=\"true\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content p-2\">\n          <div class=\"modal-body\">\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h5>Basic Authorization</h5>\n            <br />\n            <div class=\"form-group\" style=\"width: 100px\">\n              <h6>User name</h6>\n              <input\n                type=\"text\"\n                v-model=\"auth_username\"\n                class=\"form-control input-tag\"\n                placeholder=\"Enter user name\"\n              />\n            </div>\n            <div class=\"form-group\" style=\"width: 100px\">\n              <h6>Password</h6>\n              <input\n                type=\"text\"\n                v-model=\"auth_password\"\n                class=\"form-control input-tag\"\n                placeholder=\"Enter password\"\n              />\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">\n              Cancel\n            </button>\n            <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">\n              Save\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      pencil_svg:\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n      isVisibleSearchClear: false,\n      isEditWebhook: false,\n      companyid: \"\",\n      companyname: \"\",\n      checked_list: [],\n      search_name: \"\",\n      webhooks_list: [],\n      webhooks_names_list: [],\n      webhook_already_exists: false,\n      page_no: 1,\n      per_page: 15,\n      number_of_rows: null,\n      page_array: [],\n      pageno: \"\",\n      total_pages: null,\n      current_selected_webhook: [],\n      current_selected_webhook_highlight: \"\",\n      spinnerOn: false,\n      webhook_name: \"\",\n      webhook_id: \"\",\n      webhook_url: \"\",\n      http_method: \"GET\",\n      http_method_types: [\"GET\", \"POST\"],\n      headers: [],\n      header_names: [\n        \"Accept\",\n        \"Accept-Datetime\",\n        \"Accept-Language\",\n        \"Cookie\",\n        \"From\",\n        \"Authorization\",\n        \"Warning\",\n        \"User-Agent\",\n        \"Host\",\n        \"Referer\",\n        \"Pragma\",\n      ],\n      auth_username: \"\",\n      auth_password: \"\",\n      no_webhooks_present: false,\n    };\n  },\n  watch: {\n    search_name() {\n      if (this.search_name === \"\") {\n        this.load_webhook();\n        this.isVisibleSearchClear = false;\n      } else if (this.search_name !== \"\") {\n        this.isVisibleSearchClear = true;\n      }\n    },\n  },\n  created() {\n    if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n        toastr.warning(\"Please select a company name from the dropdown\");\n      }\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n    this.load_webhook();\n  },\n  mounted() {\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      if ($(this).is(\":checked\")) {\n        // $('div:input').prop('checked',true);\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    $('a[data-target=\"#webhookmodal\"]').on('click' , function () {\n      if(vm.isEditWebhook == true){\n        vm.verify_changes();\n      }else{\n        vm.empty_variable();\n        $(\"#webhookmodal\").modal('show');\n      }\n    });\n  },\n  computed:{\n    current_selected_webhook_headers(){\n      if(typeof(this.current_selected_webhook) === 'object'){\n        if(Object.keys(this.current_selected_webhook).length >0){\n          if (Object.keys(this.current_selected_webhook.headers).length >0){\n            return true\n          }\n        }else{\n          return false\n        }\n      }\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    if (this.isEditWebhook) {\n      this.verify_changes();\n    } else {\n      next();\n    }\n  },\n  methods: {\n    verify_changes() {\n      Swal({\n        title: \"Are you sure?\",\n        text: \"If you have made any changes to the selected Webhook please save them first, else they will discarded!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Save\",\n        cancelButtonText: \"Cancel\",\n      }).then((result) => {\n        if (result.value) {\n          console.log(\"if true\");\n          this.save_webhook();\n        }else{\n          console.log(\"else false\");\n          this.isEditWebhook = false;\n        }\n      });\n    },\n    check_webhook_name() {\n      if (this.webhooks_names_list.includes(this.webhook_name)){\n        this.webhook_already_exists = true;\n      }else {\n        this.webhook_already_exists = false;\n      }\n    },\n    clear_search_name() {\n      this.search_name = \"\";\n    },\n    callsearch() {\n      if (event.keyCode === 13) {\n        this.search_webhook();\n      }\n    },\n    search_webhook() {\n      if (this.search_name != \"\") {\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.checked_list = [];\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.form_automation_webhook_details(),\n            {\n              company_id: this.companyid,\n              company_name: this.companyname,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              email: this.$session.get(\"UserInformation\").email,\n              token: this.$session.get(\"UserInformation\").tokens,\n              subscription: \"Platinum\",\n              is_search: true,\n              search_term: this.search_name,\n              per_page: this.per_page,\n              page_no: 1,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data.MSG === \"Webhook Details Received Successfully\") {\n              this.webhooks_list = [];\n              this.number_of_rows = response.data.count;\n              this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n              for (var i in response.data.webhook[0].webhook) {\n                this.webhooks_list.push(response.data.webhook[0].webhook[i]);\n              }\n              this.show_webhook(0);\n              this.setpagination(this.page_no);\n              this.no_webhooks_present = false;\n            } else if (response.data.MSG === \"Searched webhook not found\") {\n              Swal({\n                type: \"warning\",\n                text: \"Searched webhook not found\",\n                toast: true,\n                position: \"top-end\",\n                showConfirmButton: false,\n                timer: 3000,\n              });\n            } else {\n              Swal({\n                text: \"Internal Server Error\",\n                toast: true,\n                position: \"top-end\",\n                type: \"warning\",\n                showConfirmButton: false,\n                timer: 2000,\n              });\n              this.load_entity();\n            }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        Swal({\n          text: \"Search field cannot be empty\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n      }\n    },\n    edit_webhook_details() {\n      if (!this.isEditWebhook) {\n        this.webhook_name = this.current_selected_webhook.name;\n        this.webhook_id = this.current_selected_webhook.id;\n        this.webhook_url = this.current_selected_webhook.url;\n        this.http_method = this.current_selected_webhook.http_method;\n        this.headers = this.current_selected_webhook.headers;\n        this.auth_username = this.current_selected_webhook.auth_username;\n        this.auth_password = this.current_selected_webhook.auth_password;\n        this.isEditWebhook = true;\n      } else {\n        this.isEditWebhook = false;\n        this.empty_variable();\n        this.load_webhook();\n      }\n    },\n    check_current_webhook(index) {\n      var return_var = \"\";\n      if (\n        this.webhooks_list[index].id == this.current_selected_webhook_highlight\n      ) {\n        return_var += \"current-active-webhook\";\n      }\n      return return_var;\n    },\n    show_webhook(index) {\n      this.isEditWebhook = false;\n      this.current_selected_webhook = this.webhooks_list[index];\n      this.current_selected_webhook_highlight = this.webhooks_list[index].id;\n    },\n    load_webhook() {\n      $(\"input:checkbox\").prop(\"checked\", false);\n      this.checked_list = [];\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.form_automation_webhook_details(), {\n          company_id: this.companyid,\n          company_name: this.companyname,\n          is_get: true,\n          page_no: this.page_no,\n          per_page: this.per_page,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          this.webhooks_list = [];\n          if (response.data.MSG === \"Webhook Details Received Successfully\") {\n            this.number_of_rows = response.data.count;\n            this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n            // this.webhooks_list = response.data.webhook[0].webhook;\n            for (var i in response.data.webhook[0].webhook) {\n              this.webhooks_list.push(response.data.webhook[0].webhook[i]);\n            }\n            this.webhooks_names_list = response.data.webhook_names;\n            this.show_webhook(0);\n            this.setpagination(this.page_no);\n            this.no_webhooks_present = false;\n          } else if (response.data.MSG === \"Webhook Details Does not Exists\") {\n            this.no_webhooks_present = true;\n            this.webhooks_list = []\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"Internal Server Error\",\n              timer: 2000,\n            });\n            this.load_webhook();\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    create_UUID() {\n      var dt = new Date().getTime();\n      var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function (c) {\n          var r = (dt + Math.random() * 16) % 16 | 0;\n          dt = Math.floor(dt / 16);\n          return (c == \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n        }\n      );\n      return uuid;\n    },\n    add_to_headers_list(func, index) {\n      if (func == \"add\") {\n        this.headers.push({\n          name: \"\",\n          value: \"\",\n        });\n      } else if (func == \"remove\") {\n        this.headers.splice(index, 1);\n      }\n    },\n    delete_selected() {\n      this.spinnerOn = true;\n      if (this.checked_list.length > 0) {\n        axios\n          .post(api_calls.form_automation_webhook_details(), {\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            is_delete: true,\n            webhook_id: this.checked_list,\n          },\n          {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n        )\n          .then((response) => {\n            this.checked_list = [];\n            this.spinnerOn = false;\n            if (response.data.MSG === \"Query Executed Successfully\") {\n              Swal({\n                type: \"success\",\n                text: \"Webhook deleted successfully\",\n                timer: 3000,\n              });\n            } else if (response.data.MSG === \"DB OPERATION UNSUCCESSFUL\") {\n              Swal({\n                type: \"error\",\n                text: \"Internal Server error\",\n                timer: 3000,\n              });\n            } else if (response.data.MSG === \"No Webhook in database\") {\n              Swal({\n                type: \"error\",\n                text: \"Internal Server error\",\n                timer: 3000,\n              });\n            }\n            this.load_webhook();\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n      this.spinnerOn = false;\n        Swal({\n          type: \"warning\",\n          text: \"Select atleast one webhook to delete\",\n          timer: 3000,\n        });\n      }\n    },\n    save_webhook() {\n      // Need to change logic if Multiple Webhook details are accepted\n      if (this.webhook_id == \"\") {\n        this.webhook_id = this.create_UUID();\n      }\n      if (this.webhook_name == \"\" && this.webhook_already_exists) {\n        Swal({\n          text: \"Add a unique webhook name\",\n          type: \"warning\",\n          toast: true,\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        return;\n      }\n      if (this.webhook_url == \"\") {\n        Swal({\n          text: \"Add correct URL\",\n          type: \"warning\",\n          toast: true,\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        return;\n      } else {\n        this.spinnerOn = true;\n        var webhook_details = {};\n        webhook_details.id = this.webhook_id;\n        webhook_details.name = this.webhook_name;\n        webhook_details.url = this.webhook_url;\n        webhook_details.http_method = this.http_method;\n        webhook_details.headers = this.headers;\n        webhook_details.auth_username = this.auth_username;\n        webhook_details.auth_password = this.auth_password;\n        axios\n          .post(api_calls.form_automation_webhook_details(), {\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            is_save: true,\n            webhook_details: webhook_details,\n          },\n          {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n        )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data.MSG === \"Webhook Details Saved Successfully\") {\n              Swal({\n                type: \"success\",\n                text: \"Webhook details saved successfully\",\n                timer: 3000,\n              });\n              this.load_webhook();\n            } else if (\n              response.data.MSG === \"Webhook Details not Saved Successfully\"\n            ) {\n              Swal({\n                type: \"error\",\n                text: \"Internal Server error\",\n                timer: 3000,\n              });\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    page_require(page) {\n      $(\"input:checkbox\").prop(\"checked\", false);\n      this.checked_list = [];\n      if (page == 0 || page == this.total_pages + 1) {\n      } else {\n        if (this.search_name == \"\") {\n          if (page == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (page == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = page;\n          }\n          $(\"input:checkbox\").prop(\"checked\", false);\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.form_automation_webhook_details(),\n              {\n                company_name: this.companyname,\n                company_id: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: this.$session.get(\"UserInformation\").subscription,\n                is_get: true,\n                page_no: this.page_no,\n                per_page: this.per_page,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.webhooks_list = [];\n              if (\n                response.data.MSG === \"Webhook Details Received Successfully\"\n              ) {\n                this.webhooks_list = [];\n                this.number_of_rows = response.data.count;\n                this.total_pages = Math.ceil(\n                  this.number_of_rows / this.per_page\n                );\n                for (var i in response.data.webhook[0].webhook) {\n                  this.webhooks_list.push(response.data.webhook[0].webhook[i]);\n                }\n                this.show_webhook(0);\n                this.webhooks_names_list = response.data.webhook;\n                this.setpagination(this.page_no);\n                this.no_webhooks_present = false;\n              } else if (\n                response.data.MSG === \"Webhook Details Does not Exists\"\n              ) {\n                // add swal here\n              } else {\n                Swal({\n                  type: \"error\",\n                  text: \"Internal Server Error\",\n                  timer: 2000,\n                });\n                this.load_webhook();\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        } else {\n          $(\"input:checkbox\").prop(\"checked\", false);\n          if (this.pageno == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (this.pageno == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = this.pageno;\n          }\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.form_automation_webhook_details(),\n              {\n                company_id: this.$session.get(\"UserInformation\").company_id,\n                company_name: this.$session.get(\"UserInformation\").company_name,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: \"Platinum\",\n                is_search: true,\n                search_term: this.search_name,\n                per_page: this.per_page,\n                page_no: this.page_no,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.webhooks_list = [];\n              if (\n                response.data.MSG === \"Webhook Details Received Successfully\"\n              ) {\n                this.number_of_rows = response.data.count;\n                this.total_pages = Math.ceil(\n                  this.number_of_rows / this.per_page\n                );\n                for (var i in response.data.webhook[0].webhook) {\n                  this.webhooks_list.push(response.data.webhook[0].webhook[i]);\n                }\n                this.show_webhook(0);\n                this.webhooks_names_list = response.data.webhook;\n                this.setpagination(this.page_no);\n              } else if (response.data.MSG === \"Searched webhook not found\") {\n                Swal({\n                  type: \"warning\",\n                  text: \"Searched webhook not found\",\n                  toast: true,\n                  position: \"top-end\",\n                  showConfirmButton: false,\n                  timer: 3000,\n                });\n              } else {\n                Swal({\n                  type: \"error\",\n                  text: \"Internal Server Error\",\n                  timer: 2000,\n                });\n                this.load_webhook();\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    selected_webhook(webhook_id) {\n      if (webhook_id == \"all\") {\n        this.checked_list = [];\n        if (event.target.checked) {\n          var temp = [];\n          temp = this.webhooks_list.map((item) => {\n            return item.id;\n          });\n          this.checked_list = temp;\n          $(\"input:checkbox\").prop(\"checked\", false);\n          for (let i = 0; i < this.checked_list.length; i++) {\n            $(\"#webhook_checkbox_\" + [i]).prop(\"checked\", true);\n            $(\"#selectall\").prop(\"checked\", true);\n          }\n        } else if (!event.target.checked) {\n          this.checked_list = [];\n        }\n      } else {\n        if (event.target.checked == true) {\n          let val_index = this.checked_list.filter((webhook) => {\n            return webhook.webhook_id == webhook_id;\n          });\n          if (val_index.length == 0) {\n            this.checked_list.push(webhook_id);\n          }\n        } else if (event.target.checked == false) {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked == true) {\n            selectall.checked = false;\n          }\n          let temp = this.checked_list.filter((webhook) => {\n            return webhook != webhook_id;\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    empty_variable() {\n      if(this.isEditWebhook){\n        this.edit_webhook_details();\n      }\n      this.webhook_already_exists = false;\n      this.webhook_id = \"\";\n      this.webhook_name = \"\";\n      this.webhook_url = \"\";\n      this.http_method = \"GET\";\n      this.http_method_types = [\"GET\", \"POST\"];\n      this.headers = [];\n      this.header_names = [\n        \"Accept\",\n        \"Accept-Datetime\",\n        \"Accept-Language\",\n        \"Cookie\",\n        \"From\",\n        \"Authorization\",\n        \"Warning\",\n        \"User-Agent\",\n        \"Host\",\n        \"Referer\",\n        \"Pragma\",\n      ];\n      this.auth_username = \"\";\n      this.auth_password = \"\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.current-active-webhook {\n  background: rgba(0, 0, 0, 0.1);\n}\n.add_response_button {\n  font-size: 14px;\n  color: rgb(10, 10, 10);\n  background: #fff;\n  border: 1px solid #dbe2e8;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 5px;\n  cursor: pointer;\n  float: right;\n}\n.input-tag {\n  top: 248px;\n  left: 508px;\n  width: 405px;\n  height: 41px;\n  border: 1px solid #dbe2e8;\n  border-radius: 5px;\n  opacity: 1;\n  font-size: 14px;\n  padding: 10px 15px 10px 20px;\n}\n</style>"]}]}