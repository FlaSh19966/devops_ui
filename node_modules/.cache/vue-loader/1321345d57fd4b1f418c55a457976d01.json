{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SupportSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SupportSettings.vue","mtime":1645594423483},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IEpzb25FeGNlbCBmcm9tICJ2dWUtanNvbi1leGNlbCI7CmltcG9ydCBjb3VudHJpZXMgZnJvbSAiQC9wb3J0YWwvY29tcG9uZW50cy9Db3VudHJpZXMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICJ0aW1lcnMiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwoKVnVlLmNvbXBvbmVudCgiZG93bmxvYWRFeGNlbCIsIEpzb25FeGNlbCk7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc21zX3RleHQ6ICIiLAogICAgICBzdGFydF9ncmVldGluZ3M6ICIiLAogICAgICBlbmRfZ3JlZXRpbmdzOiAiIiwKICAgICAgYmlnX3NwaW5uZXI6IGZhbHNlLAogICAgICB0b3RhbF9wYWdlczogbnVsbCwKICAgICAgbnVtYmVyX29mX3Jvd3M6IG51bGwsCiAgICAgIHBhZ2Vfbm86IDEsCiAgICAgIHBlcl9wYWdlOiA1LAogICAgICBjb3VudHJ5X2xpc3Q6IGNvdW50cmllcywKICAgICAgdXNlcl9yb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgY2hlY2tlZF9saXN0OiBbXSwKICAgICAgY29tcGFueWlkOiAiIiwKICAgICAgY29tcGFueW5hbWU6ICIiLAogICAgICBjYWxsX2hpc3RvcnlfbmFtZTogIiIsCiAgICAgIHN1cHBvcnRfbnVtYmVyc19saXN0OiBbXSwKICAgICAgY29udGFjdF9udW1iZXJzOiAiIiwKICAgICAgY29udGFjdF9uYW1lczogIiIsCiAgICAgIGNvdW50cnlfbmFtZTogewogICAgICAgIGNvZGU6ICIiLAogICAgICAgIG5hbWU6ICItLVNlbGVjdCBDb3VudHJ5IE5hbWUtLSIKICAgICAgfSwKCiAgICAgIG9sZF9jb250YWN0X2RhdGE6IHsKICAgICAgICBDb250YWN0TnVtYmVyOiAiIiwKICAgICAgICBDb3VudHJ5Q29kZTogIiIsCiAgICAgICAgTmFtZTogIiIKICAgICAgfSwKICAgICAgbmV3X2NvbnRhY3RfZGF0YTogewogICAgICAgIENvbnRhY3ROdW1iZXI6ICIiLAogICAgICAgIENvdW50cnlDb2RlOiAiIiwKICAgICAgICBOYW1lOiAiIgogICAgICB9LAogICAgICBjYWxsX2hpc3RvcnlfbGlzdDogW10sCiAgICAgIGNhbGxfaGlzdG9yeV9udW1iZXJfb2Zfcm93czogIiIsCiAgICAgIGNhbGxfaGlzdG9yeV90b3RhbF9wYWdlczogMCwKICAgICAgY2FsbF9oaXN0b3J5X3Blcl9wYWdlOiAxMCwKICAgICAgc3RhcnRfc21zX2dyZWV0aW5nczogYFRoYW5rIHlvdSBmb3IgcmVnaXN0ZXJpbmcgd2l0aCBDZW5zZSBBSS4gWW91ciBvdHAgaXMge09UUH0uYCwKICAgICAgY2FsbF9zdGFydF9ncmVldGluZ3M6IGBUaGlzIGNhbGwgaXMgZnJvbSB7Y29tcGFueSBuYW1lfSwgcGxlYXNlIGhvbGQgb24gd2hpbGUgd2UgY29ubmVjdCB5b3Ugd2l0aCBvdXIgcmVzcHJlc2VudGF0aXZlLmAsCiAgICAgIGNvdW50cnluYW1lOiBbXSwKICAgICAgY29udGFjdG51bWJlcnM6IFtdLAogICAgICBjb250YWN0bmFtZXM6IFtdLAogICAgICBwaG9uZV9udW1iZXJfdmFsaWRpdHk6IC9bMC05XXs5LDExfSQvLAogICAgICBjb250YWN0X2VkaXRfbnVtYmVyOiAiZmFsc2UiLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKAogICAgICAhdGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpICYmCiAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIgogICAgKSB7CiAgICAgIHRvYXN0ci53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGEgY29tcGFueSBuYW1lIGZyb20gdGhlIGRyb3Bkb3duIik7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmxvYWRfc3VwcG9ydF91cmwoKSwgewogICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgc2hvd19zdXBlcmFkbWluOiAiVHJ1ZSIsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNTaG93OiAiVHJ1ZSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGFbMV0ubnVtYmVyX29mX3Jvd3M7CiAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgICAgICAgIHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3QgPSByZXNwb25zZS5kYXRhWzBdOwogICAgICAgIH0pOwogICAgfSBlbHNlIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQogICAgaWYgKAogICAgICB0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgfHwKICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgIT0gIlN1cGVyQWRtaW4iCiAgICApIHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMubG9hZF9zdXBwb3J0X3VybCgpLCB7CiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgICBpc1Nob3c6ICJUcnVlIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YVsxXS5udW1iZXJfb2Zfcm93czsKICAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgICAgICAgdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdCA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgfSk7CiAgICB9CiAgICBheGlvcwogICAgICAucG9zdChhcGlfY2FsbHMudHdpbGlvX2dyZWV0aW5ncygpLCB7CiAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgaXNTaG93OiB0cnVlCiAgICAgIH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnN0YXJ0X2dyZWV0aW5ncyA9IHJlc3BvbnNlLmRhdGEuZ3JlZXRpbmc7CiAgICAgICAgdGhpcy5lbmRfZ3JlZXRpbmdzID0gcmVzcG9uc2UuZGF0YS5idXN5OwogICAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmVfZ3JlZXRpbmdzKCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy50d2lsaW9fZ3JlZXRpbmdzKCksIHsKICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBpc0VkaXQ6IHRydWUsCiAgICAgICAgICBncmVldGluZzogdGhpcy5zdGFydF9ncmVldGluZ3MsCiAgICAgICAgICBidXN5OiB0aGlzLmVuZF9ncmVldGluZ3MKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkNhbGwgTWVzc2FnZXMgVXBkYXRlZCIpIHsKICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIkNhbGwgR3JlZXRpbmdzIFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJTTVMgbWVzc2FnZSBzYXZlZCBzdWNjZXNmdWxseSIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIHNtc19zZXR0aW5ncygpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMuc21zX3NldHRpbmdzKCksIHsKICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBzbXN0ZXh0OiB0aGlzLnNtc190ZXh0CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJTTVMgbWVzc2FnZSBzYXZlZCBzdWNjZXNmdWxseSIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9zdXBwb3J0X251bWJlcihpbmRleCkgewogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgZGVsZXRlISEiCiAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuYWRkX3N1cHBvcnRfdXJsKCksIHsKICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICBDb250YWN0TnVtYmVyOiB0aGlzLmNoZWNrZWRfbGlzdCwKICAgICAgICAgICAgICBpc0RlbGV0ZTogIlRydWUiLAogICAgICAgICAgICAgIGNvbnRhY3RzOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIE5hbWU6IHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdLk5hbWUsCiAgICAgICAgICAgICAgICAgIENvbnRhY3ROdW1iZXI6IHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdLkNvbnRhY3ROdW1iZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkNPTlRBQ1RTIERFTEVURUQiKSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiQ29udGFjdCBEZWxldGVkIFN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9tdWx0aXBsZV9zdXBwb3J0X251bWJlcigpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiJObyBudW1iZXIgc2VsZWN0ZWQhIiwKICAgICAgICAgICAgICAgIHRleHQ6IiIsCiAgICAgICAgICAgICAgICB0eXBlOiJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjoyMDAwLAogICAgICAgICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSEhIgogICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuYWRkX3N1cHBvcnRfdXJsKCksIHsKICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICBpc0RlbGV0ZTogIlRydWUiLAogICAgICAgICAgICAgICAgY29udGFjdHM6IHRoaXMuY2hlY2tlZF9saXN0CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJDT05UQUNUUyBERUxFVEVEIikgewogICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiQ29udGFjdCBEZWxldGVkIFN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdXBwb3J0X21vZGFsKGluZGV4KSB7CiAgICAgIHRoaXMuY2FsbF9oaXN0b3J5X25hbWUgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XS5OYW1lOwogICAgICB0aGlzLmNhbGxfaGlzdG9yeV9saXN0ID0gW107CiAgICAgIGlmICgKICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIgJiYKICAgICAgICAhdGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpCiAgICAgICkgewogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdChhcGlfY2FsbHMuZ2V0X2NhbGxfbG9nX3VybCgpLCB7CiAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgc3VwcG9ydG51bWJlcjogdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uQ29udGFjdE51bWJlciwKICAgICAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICAgICAgc3VwZXJfYWRtaW5fbG9nOiB0cnVlLAogICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfbnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhWzFdLm51bWJlcl9vZl9yb3dzOwogICAgICAgICAgICB0aGlzLmNhbGxfaGlzdG9yeV90b3RhbF9wYWdlcyA9IE1hdGguY2VpbCgKICAgICAgICAgICAgICB0aGlzLmNhbGxfaGlzdG9yeV9udW1iZXJfb2Zfcm93cyAvIHRoaXMuY2FsbF9oaXN0b3J5X3Blcl9wYWdlCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMuY2FsbGVyX2hpc3RvcnlfbGlzdCA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jYWxsZXJfaGlzdG9yeV9saXN0KSB7CiAgICAgICAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfbGlzdC5wdXNoKHRoaXMuY2FsbGVyX2hpc3RvcnlfbGlzdFtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdChhcGlfY2FsbHMuZ2V0X2NhbGxfbG9nX3VybCgpLCB7CiAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgc3VwcG9ydG51bWJlcjogdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uQ29udGFjdE51bWJlciwKICAgICAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2FsbF9oaXN0b3J5X251bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YVsxXS5udW1iZXJfb2Zfcm93czsKICAgICAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfdG90YWxfcGFnZXMgPSBNYXRoLmNlaWwoCiAgICAgICAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfbnVtYmVyX29mX3Jvd3MgLyB0aGlzLmNhbGxfaGlzdG9yeV9wZXJfcGFnZQogICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmNhbGxlcl9oaXN0b3J5X2xpc3QgPSByZXNwb25zZS5kYXRhWzBdOwogICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuY2FsbGVyX2hpc3RvcnlfbGlzdCkgewogICAgICAgICAgICAgIHRoaXMuY2FsbF9oaXN0b3J5X2xpc3QucHVzaCh0aGlzLmNhbGxlcl9oaXN0b3J5X2xpc3RbaV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBjYWxsX2hpc3RvcnlfbGVuZ3RoID0gdGhpcy5jYWxsX2hpc3RvcnlfbGlzdC5sZW5ndGg7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNhbGxfaGlzdG9yeV9sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHRoaXMuY2FsbF9oaXN0b3J5X2xpc3RbaV0uY2FsbGVyX25hbWUgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0WwogICAgICAgICAgICAgICAgaW5kZXgKICAgICAgICAgICAgICBdLk5hbWU7CiAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbF9oaXN0b3J5X2xpc3RbaV0uZHVyYXRpb24gPT0gIjAiKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhbGxfaGlzdG9yeV9saXN0W2ldLmR1cmF0aW9uID0gIk1pc3NlZCBDYWxsIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gY2FsbF9oaXN0b3J5X2xlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfbGlzdFtpXS5jYWxsZXJfbmFtZSA9IHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbCiAgICAgICAgICAgICAgICBpbmRleAogICAgICAgICAgICAgIF0uTmFtZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgICB2YXIgbiA9IGQuZ2V0TW9udGgoKTsKICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVtbyIpLmlubmVySFRNTCA9IG47CiAgICAgICAgdGhpcy5jdXJyZW50X21vbnRoID0gbiArIDE7CiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRfbW9udGgpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiNoX2phbiIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2ZlYiIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX21hciIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2FwciIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX21heSIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2p1biIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2p1bCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2F1ZyIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX3NlcCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaF9vY3QiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhfbm92Iikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiMyNzM2NzkiOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2RlYyIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjYWxsX2hpc3RvcnlfcGFnZV9yZXF1aXJlKHBhZ2VfbnVtYmVyKSB7CiAgICAgIHRoaXMuY2FsbGVyX2hpc3RvcnlfbGlzdCA9IFtdOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfY2FsbF9sb2dfdXJsKCksIHsKICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBzdXBwb3J0bnVtYmVyOiB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XS5Db250YWN0TnVtYmVyLAogICAgICAgICAgcGFnZV9ubzogcGFnZV9udW1iZXIsCiAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmNhbGxlcl9oaXN0b3J5X2xpc3QgPSByZXNwb25zZS5kYXRhWzBdOwogICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNhbGxlcl9oaXN0b3J5X2xpc3QpIHsKICAgICAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfbGlzdC5wdXNoKHRoaXMuY2FsbGVyX2hpc3RvcnlfbGlzdFtpXSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIHRoaXMudG9fbnVtYmVyID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uTmFtZTsKICAgIH0sCiAgICBzdWJtaXRfbnVtYmVycygpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKAogICAgICAgIHRoaXMuY29udGFjdF9uYW1lcyA9PSAiIiB8fAogICAgICAgIHRoaXMuY29udGFjdF9udW1iZXJzID09ICIiIHx8CiAgICAgICAgdGhpcy5jb3VudHJ5X25hbWUuY29kZSA9PSAiIgogICAgICApIHsKICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciB0aGUgYmxhbmsgZmllbGRzIik7CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hlY2tfbnVtYmVyX3ZhbGlkaXR5KCkpIHsKICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAgICAgICAiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIG9yIHRyeSBhZGRpbmcgbnVtYmVyIHdpdGhvdXQgc3BhY2VzIgogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb250YWN0bnVtYmVycy5wdXNoKHRoaXMuY29udGFjdF9udW1iZXJzLnJlcGxhY2UoL1teMC05XS9nLCAiIikpOwogICAgICAgIHRoaXMuY291bnRyeW5hbWUucHVzaCh0aGlzLmNvdW50cnlfbmFtZSk7CiAgICAgICAgdGhpcy5jb250YWN0bmFtZXMucHVzaCh0aGlzLmNvbnRhY3RfbmFtZXMpOwogICAgICAgIGlmICh0aGlzLmNvbnRhY3RfZWRpdF9udW1iZXIgPT0gImZhbHNlIikgewogICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuYWRkX3N1cHBvcnRfdXJsKCksIHsKICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICBpc0luc2VydDogIlRydWUiLAogICAgICAgICAgICAgIGNvbnRhY3RzOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIE5hbWU6IHRoaXMuY29udGFjdF9uYW1lcywKICAgICAgICAgICAgICAgICAgQ29udGFjdE51bWJlcjogdGhpcy5jb250YWN0X251bWJlcnMsCiAgICAgICAgICAgICAgICAgIENvdW50cnlDb2RlOiB0aGlzLmNvdW50cnlfbmFtZS5jb2RlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkNvbnRhY3RzIGFkZGVkIHN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJDb250YWN0cyBhZGRlZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgICQoIiNhZGRfbnVtYmVyX21vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgIH0sIDI1MDApOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiSU5TRVJUIERVUExJQ0FURSBDT05UQUNUIikgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKAogICAgICAgICAgICAgICAgICAiUGxlYXNlIFRyeSB3aXRoIGFub3RoZXIgY29udGFjdCBudW1iZXIuVGhpcyBjb250YWN0IG51bWJlciBpcyBhbHJlYWR5IGV4aXN0IgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJJbnZhbGlkIGNvbnRhY3QgbnVtYmVyIikgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJUaGUgY29udGFjdCBudW1iZXIgeW91IHByb3ZpZGVkIGlzIGludmFsaWQuIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udGFjdF9lZGl0X251bWJlciA9PSAidHJ1ZSIpIHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgdGhpcy5uZXdfY29udGFjdF9kYXRhLkNvbnRhY3ROdW1iZXIgPSB0aGlzLmNvbnRhY3RfbnVtYmVyczsKICAgICAgICAgIHRoaXMubmV3X2NvbnRhY3RfZGF0YS5Db3VudHJ5Q29kZSA9IHRoaXMuY291bnRyeV9uYW1lLmNvZGU7CiAgICAgICAgICB0aGlzLm5ld19jb250YWN0X2RhdGEuTmFtZSA9IHRoaXMuY29udGFjdF9uYW1lczsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5hZGRfc3VwcG9ydF91cmwoKSwgewogICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIG9sZF9jb250YWN0X2RhdGE6IHRoaXMub2xkX2NvbnRhY3RfZGF0YSwKICAgICAgICAgICAgICBuZXdfY29udGFjdF9kYXRhOiB0aGlzLm5ld19jb250YWN0X2RhdGEsCiAgICAgICAgICAgICAgaXNFZGl0OiAiVHJ1ZSIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkNvbnRhY3QgVXBkYXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiQ29udGFjdHMgdXBkYXRlZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgICQoIiNhZGRfbnVtYmVyX21vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgIH0sIDI1MDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZW1wdHlfdmFyaWFibGUoKSB7CiAgICAgIHRoaXMuY29udGFjdF9uYW1lcyA9ICIiOwogICAgICB0aGlzLmNvbnRhY3RfbnVtYmVycyA9ICIiOwogICAgICB0aGlzLmNvdW50cnlfbmFtZS5jb2RlID0gIiI7CiAgICAgIHRoaXMuY291bnRyeV9uYW1lLm5hbWUgPSAiLS1TZWxlY3QgQ291bnRyeSBOYW1lLS0iOwogICAgfSwKICAgIHBhZ2luYXRpb25fY2xhc3MoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09IHRoaXMucGFnZV9ubykgewogICAgICAgIHJldHVybiAiIGFjdGl2ZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgZWRpdF9zdXBwb3J0X251bWJlcihpbmRleCkgewogICAgICB0aGlzLmNvbnRhY3RfbmFtZXMgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XS5OYW1lOwogICAgICB0aGlzLmNvbnRhY3RfbnVtYmVycyA9IHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdLkNvbnRhY3ROdW1iZXI7CiAgICAgIHRoaXMuY291bnRyeV9uYW1lLmNvZGUgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XS5Db3VudHJ5Q29kZTsKICAgICAgdGhpcy5vbGRfY29udGFjdF9kYXRhLkNvbnRhY3ROdW1iZXIgPSB0aGlzLmNvbnRhY3RfbnVtYmVyczsKICAgICAgdGhpcy5vbGRfY29udGFjdF9kYXRhLkNvdW50cnlDb2RlID0gdGhpcy5jb3VudHJ5X25hbWUuY29kZTsKICAgICAgdGhpcy5vbGRfY29udGFjdF9kYXRhLk5hbWUgPSB0aGlzLmNvbnRhY3RfbmFtZXM7CiAgICAgIHRoaXMuY29udGFjdF9lZGl0X251bWJlciA9ICJ0cnVlIjsKICAgICAgLy9oYXJzaAogICAgICBsZXQgc2VsZWN0X2NvdW50cnkgPSB0aGlzLmNvdW50cnlfbGlzdC5maWx0ZXIoY291bnRyeSA9PiB7CiAgICAgICAgcmV0dXJuIGNvdW50cnkuY29kZSA9PSB0aGlzLmNvdW50cnlfbmFtZS5jb2RlOwogICAgICB9KTsKICAgICAgdGhpcy5jb3VudHJ5X25hbWUubmFtZSA9IHNlbGVjdF9jb3VudHJ5WzBdLm5hbWU7CiAgICB9LAogICAgY2hlY2tfbnVtYmVyX3ZhbGlkaXR5KCkgewogICAgICB2YXIgcGhvbmVfbnVtID0gdGhpcy5jb250YWN0X251bWJlcnMucmVwbGFjZSgvW14wLTldL2csICIiKTsKICAgICAgaWYgKHRoaXMucGhvbmVfbnVtYmVyX3ZhbGlkaXR5LnRlc3QocGhvbmVfbnVtKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGNvbnRhY3Rfc2VsZWN0KGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSAiYWxsIikgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0OwogICAgICAgIH0gZWxzZSBpZiAoIWV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgbGV0IHZhbF9pbmRleCA9IHRoaXMuY2hlY2tlZF9saXN0LmluZGV4T2YoCiAgICAgICAgICAgIHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdCiAgICAgICAgICApOwogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XTsKICAgICAgICAgIGlmICh2YWxfaW5kZXggPT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh0ZW1wKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgc2VsZWN0YWxsLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5jaGVja2VkX2xpc3QuZmlsdGVyKHN1cHBvcnRfbnVtYmVyc19saXN0ID0+IHsKICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnRfbnVtYmVyc19saXN0LnN1cHBvcnRfbnVtYmVyc19saXN0ICE9PSBpbmRleDsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSB0ZW1wOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9Cn07Cg=="},null]}