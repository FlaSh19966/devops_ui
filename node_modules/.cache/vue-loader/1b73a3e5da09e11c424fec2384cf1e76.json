{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/FileUploadBI.vue?vue&type=style&index=0&id=1641798e&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/FileUploadBI.vue","mtime":1643027096172},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRhYmxlIHRkLAoudGFibGUgdGggewogIHBhZGRpbmc6IDAuNXJlbSAhaW1wb3J0YW50Owp9Ci5zYXZlX25vZGVfYnV0dG9uIHsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6ICNmZmY7CiAgYmFja2dyb3VuZDogIzI3MzY3OTsKICBib3JkZXI6IHNvbGlkIDFweCAjMjczNjc5OwogIHBhZGRpbmc6IDZweCAxNXB4OwogIGZvbnQtd2VpZ2h0OiA0MDA7CiAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgLyogZGlzcGxheTogaW5saW5lLWJsb2NrOyAqLwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZmxvYXQ6IHJpZ2h0Owp9Ci5zd2l0Y2ggewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgd2lkdGg6IDM2cHg7CiAgaGVpZ2h0OiAyMHB4OwogIC8qIG1hcmdpbi1sZWZ0OiAxMHB4OyAqLwp9Cgouc3dpdGNoIGlucHV0IHsgCiAgb3BhY2l0eTogMDsKICB3aWR0aDogMDsKICBoZWlnaHQ6IDA7Cn0KCi5zbGlkZXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgcmlnaHQ6IDA7CiAgYm90dG9tOiAwOwogIGJhY2tncm91bmQtY29sb3I6ICNjY2M7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiAuNHM7CiAgdHJhbnNpdGlvbjogLjRzOwp9Cgouc2xpZGVyOmJlZm9yZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGNvbnRlbnQ6ICIiOwogIGhlaWdodDogMTJweDsKICB3aWR0aDogMTJweDsKICBsZWZ0OiA0cHg7CiAgYm90dG9tOiA0cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiAuNHM7CiAgdHJhbnNpdGlvbjogLjRzOwp9CgppbnB1dDpjaGVja2VkICsgLnNsaWRlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzsKICBib3JkZXItcmFkaXVzOiAyMHB4Owp9CgppbnB1dDpmb2N1cyArIC5zbGlkZXIgewogIGJveC1zaGFkb3c6IDAgMCAxcHggIzIxOTZGMzsKICBib3JkZXItcmFkaXVzOiAyMHB4Owp9CgppbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUgewogIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDI2cHgpOwogIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjZweCk7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDE3cHgpOwp9CgpSb3VuZGVkIHNsaWRlcnMKLnNsaWRlci5yb3VuZCB7CiAgYm9yZGVyLXJhZGl1czogMzRweDsKfQoKLnNsaWRlci5yb3VuZDpiZWZvcmUgewogIGJvcmRlci1yYWRpdXM6IDUwJTsKfQoK"},{"version":3,"sources":["FileUploadBI.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAm5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"FileUploadBI.vue","sourceRoot":"src/portal/Chatbot/Dashboard","sourcesContent":["<template>\n  <div class=\"dash-cont\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"container-fluid\">\n      <div class=\"card dash-card\">\n        <div class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\">\n          <h4 class=\"mb-sm-0\">Upload and Process File</h4>\n        </div>\n        <div class=\"card-body\">\n          <!-- <div class=\"col-md-3\" style=\"padding: 0.3rem;\">\n            <div class=\"custom-file\">\n              <form id=\"filedata\">\n                <input\n                  @change=\"getFile($event)\"\n                  accept=\".csv\"\n                  type=\"file\"\n                  class=\"custom-file-input\"\n                  id=\"inputGroupFile01\"\n                />\n                <label\n                  class=\"custom-file-label\"\n                  for=\"inputGroupFile01\"\n                  placeholder=\"Choose File\"\n                >Click Here</label>\n              </form>\n            </div>\n          </div>-->\n          <div class=\"table-box\">\n            <div class=\"table-responsive\">\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <div>\n                      <form id=\"filedata\" @submit=\"uploadfile\">\n                        <!-- <a\n                      class=\"btn btn-primaryy border-0\"\n                      data-toggle=\"collapse\"\n                      href=\"#collapseExample\"\n                      role=\"button\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseExample\"\n                      style=\"display:flex;color: black;padding-left: 0px;\"\n                        >-->\n                        <i\n                          class=\"fa fa-chevron-down rotate\"\n                          style=\"margin-right:15px; margin-top:1%\"\n                        ></i>\n                        <b>Upload File</b>\n                        <!-- </a> -->\n                        <div\n                          id=\"collapseExample\"\n                          class=\"col-md-12\"\n                          style=\"padding: 0.3rem;display:flex\"\n                        >\n                          <div class=\"custom-file col-md-6\">\n                            <input\n                              @change=\"getFile($event)\"\n                              accept=\".csv\"\n                              type=\"file\"\n                              class=\"custom-file-input\"\n                              id=\"inputGroupFile01\"\n                            />\n                            <label\n                              class=\"custom-file-label\"\n                              for=\"inputGroupFile01\"\n                              placeholder=\"Choose File\"\n                            >{{file_label}}</label>\n                          </div>\n                          <div class=\"col-md-6\" style=\"display:flex\">\n                            <label style=\"padding-left:10px\">Name of Dataset</label>\n                            <input\n                              id=\"dataset_name\"\n                              type=\"text\"\n                              v-model=\"dataset_name\"\n                              style=\"padding-left:8px;margin-left: 3%;height: 40px !important;\"\n                              class=\"form-control\"\n                              required\n                            />\n                          </div>\n                          <!-- <div class=\"col-md-2\" style=\"display:flex\">\n                            <button\n                              style=\"height:40px\"\n                              class=\"btn btn-primary\"\n                              type=\"submit\"\n                            >Upload File</button>\n                          </div> -->\n                        </div>\n                        <div class=\"col-md-3\" style=\"margin-top:1%\">\n                            <button\n                              style=\"height:40px\"\n                              class=\"darkblue-btn\"\n                              type=\"submit\"\n                            >Upload File</button>\n                          </div>\n                      </form>\n                    </div>\n                  </tr>\n                  <tr v-if=\"is_file_uploaded\">\n                    <table class=\"table\">\n                      <!-- <thead></thead>\n                      <tbody></tbody>-->\n                      <tr>\n                        <!-- <a\n                          class=\"btn btn-primaryy border-0\"\n                          data-toggle=\"collapse\"\n                          href=\"#collapseExamples__1\"\n                          role=\"button\"\n                          aria-expanded=\"false\"\n                          aria-controls=\"collapseExamples__1\"\n                          style=\"display:flex;color: black;padding-left: 0px;\"\n                        >-->\n                        <i\n                          class=\"fa fa-chevron-down rotate\"\n                          style=\"margin-right:15px; margin-top:1%\"\n                        ></i>\n                        <b>Change Column Names</b>\n                        <!-- </a> -->\n                        <div id=\"collapseExamples__1\" class=\"col-md-12\">\n                          <form @submit=\"editcolumns()\">\n                            <div\n                              style=\"display:flex\"\n                              v-for=\"(column,index) in columns \"\n                              :key=\"index\"\n                              class=\"col-md-12\"\n                            >\n                              <label>Original Name</label>\n                              <input\n                                class=\"form-control\"\n                                v-model=\"column.name\"\n                                disabled\n                                type=\"text\"\n                                style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                              />\n                              <label style=\"padding-left:9px;\">New Name</label>\n                              <input\n                                class=\"form-control\"\n                                :id=\"'input'+index\"\n                                v-model=\"column.newname\"\n                                disabled\n                                type=\"text\"\n                                style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                              />\n                              <a @click=\"editvalue(index)\" style=\"padding-left:10px;\">\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  width=\"15.392\"\n                                  height=\"15.392\"\n                                >\n                                  <path\n                                    id=\"square-edit-outline\"\n                                    d=\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\"\n                                    transform=\"translate(-3 -3)\"\n                                    fill=\"#9499ae\"\n                                  />\n                                </svg>\n                              </a>\n                            </div>\n                            <button type=\"submit\" class=\"darkblue-btn\">Save</button>\n                          </form>\n                        </div>\n                      </tr>\n                    </table>\n                  </tr>\n                  <tr v-if=\"is_file_uploaded && iscolumnsnamechanged\">\n                    <table class=\"table\">\n                      <!-- <thead></thead>\n                      <tbody></tbody>-->\n                      <tr>\n                        <!-- <a\n                          class=\"btn btn-primaryy border-0\"\n                          data-toggle=\"collapse\"\n                          href=\"#collapseExamples__2\"\n                          role=\"button\"\n                          aria-expanded=\"false\"\n                          aria-controls=\"collapseExamples__2\"\n                          style=\"display:flex;color: black;padding-left: 0px;\"\n                        >-->\n                        <i\n                          class=\"fa fa-chevron-down rotate\"\n                          style=\"margin-right:15px; margin-top:1%\"\n                        ></i>\n                        <b>Define Column Metrics</b>\n                        <button\n                          class=\"save_node_button\"\n                          @click=\"addmetricvalue()\"\n                          style=\"height: 29px;padding-top: 0px;padding-left: 10px;padding-right: 10px;padding-bottom: 0px;margin-left:15px;float: none;\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"14\"\n                            height=\"13.997\"\n                            viewBox=\"0 0 14 13.997\"\n                          >\n                            <path\n                              id=\"Union_13\"\n                              data-name=\"Union 13\"\n                              d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                              transform=\"translate(12690.001 -2045.002)\"\n                              fill=\"#fff\"\n                            />\n                          </svg>\n                        </button>\n                        <!-- </a> -->\n\n                        <!-- <form id=\"test\"> -->\n                        <div\n                          class=\"col-md-12\"\n                          style=\"display: flex;margin-top: 2%;\"\n                          v-for=\"(metric,index) in metrics\"\n                          :key=\"index\"\n                        >\n                          <div class=\"col-md-2\">\n                            <label>Name</label>\n                            <input\n                              type=\"text\"\n                              class=\"form-control\"\n                              style=\"height: 40px !important;padding-left:12px;\"\n                              v-model=\"metric.name\"\n                              required\n                            />\n                          </div>\n                          <div class=\"col-md-2\">\n                            <label>Operation</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.operation\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <!-- <option disabled value=\"null\" selected>---Select Operation---</option> -->\n                              <option value=\"SUM\" selected>SUMMATION</option>\n                              <option value=\"AVG\">AVERAGE</option>\n                              <option value=\"COUNT\">COUNT</option>\n                              <option value=\"NUNIQUE\">NUNIQUE</option>\n                            </select>\n                          </div>\n                          <div class=\"col-md-3\">\n                            <label>Column</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.column\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <option\n                                v-for=\"(column, index) in newcolumns\"\n                                :value=\"column\"\n                                :key=\"index\"\n                              >{{column}}</option>\n                            </select>\n\n                            <!-- <label>To be Performed On:</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.column1\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <option\n                                v-for=\"(column, index) in newcolumns\"\n                                :value=\"column\"\n                                :key=\"index\"\n                              >{{column}}</option>\n                            </select> -->\n                          </div>\n                          <div class=\"col-md-3\">\n                            <!-- <label>With</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.column2\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <option\n                                v-for=\"(column, index) in newcolumns\"\n                                :value=\"column\"\n                                :key=\"index\"\n                              >{{column}}</option>\n                            </select> -->\n\n                            <!-- </div> -->\n                          </div>\n                          <div class=\"col-md-1\">\n                            <button\n                              class=\"save_node_button\"\n                              style=\"margin-top:60%;margin-left: 3%;height: 39px;padding-top: 0px;padding-left: 10px;padding-right: 10px;padding-bottom: 0px;background: #F23D3D;border: solid 1px #F23D3D;\"\n                              @click=\"deleteheader(index)\"\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                width=\"14\"\n                                height=\"14\"\n                                viewBox=\"0 0 14 14\"\n                              >\n                                <path\n                                  id=\"trash-can-outline\"\n                                  d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                                  transform=\"translate(-4 -3)\"\n                                  fill=\"#fff\"\n                                />\n                              </svg>\n                            </button>\n                          </div>\n                        </div>\n                        <button\n                          v-if=\"metrics.length > 0\"\n                          @click=\"addmetrics()\"\n                          class=\"darkblue-btn\"\n                          style=\"margin-top:1%\"\n                        >Save</button>\n                        <!-- </form> -->\n                        <!-- <div id=\"collapseExamples__2\" class=\"col-md-8 collapse\">\n                          <div style=\"display:flex\" v-for=\"(column,index) in columns \" :key=\"index\">\n                            <label>Original Name</label>\n                            <input class=\"form-control\" type=\"text\" />\n                            <label>New Name</label>\n                            <input class=\"form-control\" type=\"text\" />\n                          </div>\n                        </div>-->\n                      </tr>\n                    </table>\n                  </tr>\n                   <tr v-if=\"is_file_uploaded && iscolumnsnamechanged && ismetricssaved\">\n                     <!-- <tr> -->\n                      <i\n                      class=\"fa fa-chevron-down rotate\"\n                      style=\"margin-right:15px; margin-top:1%\"\n                      ></i>\n                      <b>Define Worksheet Details</b>\n                     <table class=\"table\" style=\"border-bottom: 1px solid #dbe2e8;\">\n                       <tr style=\"text-align:center\">\n                         <td>COLUMN NAME</td>\n                         <!-- <td>DESCRIPTION</td> -->\n                         <td>DATA TYPE</td>\n                         <td>COLUMN TYPE</td>\n                         <td>AGGREGATION</td>\n                         <td>INDEX TYPE</td>\n                         <td>ENTITY CATEGORY</td>\n                         <td>ADDITIVE</td>\n                         <td>HIDDEN</td>\n                         <td>NLP SEARCH ENABLED</td>\n                         <td>SYNONYMS</td>\n                       </tr>\n                       <tr v-for=\"(column,index) in newcolumnscomplete \"\n                          :key=\"index\">\n                        <td style=\"width:12%\"> {{column.newname}} </td>\n                        <td style=\"width:7%\"> {{column.data_type}} </td>\n                        <td style=\"width:10%\">\n                          <!-- <div class=\"form-group select-id-to\" style=\"margin:0\"> -->\n                            <select\n                              class=\"form-control\"\n                              :id=\"'to_'+index\"\n                              v-model=\"column.column_type\"\n                              style=\"padding:0\"\n                            >\n                              <option value=\"Metric\">Metric</option>\n                              <option value=\"Attribute\">Attribute</option>\n                            </select>\n                          <!-- </div> -->\n                        </td>\n                        \n                        <td style=\"width:1%\">\n                          <!-- <div class=\"form-group select-id-to\" style=\"margin:0\"> -->\n                           <select\n                              class=\"form-control\"\n                              :id=\"'aggregation'+index\"\n                              v-model=\"column.aggregation\"\n                              style=\"padding:0\"\n                            >\n                              <option value=\"SUM\">SUM</option>\n                              <option value=\"AVG\">AVG</option>\n                            </select>\n                          <!-- </div> -->\n                        </td>\n                        <td style=\"width:14%\">\n                          <select\n                           v-model=\"column.index_type\"\n                           class=\"form-control\"\n                           style=\"padding:0\">\n                            <option value=\"NOT INDEXED\">NOT INDEXED</option>\n                            <option value=\"DEFAULT\">DEFAULT</option>\n                          </select>\n                        </td>\n                        <td style=\"width:14%\">\n                          <select\n                           v-model=\"column.entity_category\"\n                           class=\"form-control\"\n                           style=\"padding:0\">\n                            <option value=\"PERSON\">PERSON</option>\n                            <option value=\"PLACE\">PLACE</option>\n                            <option value=\"TIME\">TIME</option>\n                            <option value=\"PRODUCT\">PRODUCT\t</option>\n                            <option value=\"ZIP_CODE\">ZIP_CODE</option>\n                            <option value=\"LAT_LONG\">LAT_LONG</option>\n                            <option value=\"COMPANY_ORG\">COMPANY_ORG</option>\n                            <option value=\"NUM_TYPES\">NUM_TYPES</option>\n                          </select>\n                        </td>\n                        <td style=\"width:6%;text-align:center\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"column.additive\" >\n                            <span class=\"slider round\" style=\"border-radius: 50px;\"></span>\n                        </label>  \n                        </td>\n                         <!-- </td> -->\n                        <td style=\"width:6%;text-align:center\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"column.hidden\" >\n                            <span class=\"slider round\" style=\"border-radius: 50px;\">\n                            </span>\n                        </label>  \n                        </td>\n                        <td style=\"width:10%;text-align:center\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"column.nlp_search_enabled\" >\n                            <span class=\"slider round\" style=\"border-radius: 50px;\"></span>\n                        </label>  \n                        </td>\n                        <td style=\"width:15%\"> \n                        <input \n                          class=\"form-control\" \n                          type=\"text\" \n                          placeholder=\"Type to edit\"\n                          v-model=\"column.synonyms\"\n                          style=\"height: 40px !important;padding-left:12px;\"\n                          >  \n                        </td>\n                        \n                        \n                       </tr>\n                     </table>\n                        <button\n                          @click=\"save_column_data()\"\n                          class=\"darkblue-btn\"\n                        >Save Column Details</button>\n                   </tr>\n                </thead>\n                <tbody>\n                  <button\n                    style=\"margin-top:1%\"\n                    v-if=\"is_file_uploaded && iscolumnsnamechanged && ismetricssaved\"\n                    @click=\"finalsave()\"\n                    class=\"darkblue-btn\"\n                  >Final Save</button>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nexport default {\n  data() {\n    return {\n      show_loader: false,\n      spinnerOn: false,\n      columns: [],\n      metrics: [],\n      file_label: \"Choose file\",\n      is_file_uploaded: false,\n      newcolumns: [],\n      iscolumnsnamechanged: false,\n      object_name: \"\",\n      metricsdata: \"\",\n      ismetricssaved: false,\n      dataset_name: \"\",\n      file: null,\n      newcolumnscomplete: [],\n      column_details: {},\n    };\n  },\n  methods: {\n    generateUUID() {\n      // Public Domain/MIT\n      var d = new Date().getTime(); //Timestamp\n      var d2 =\n        (performance && performance.now && performance.now() * 1000) || 0; //Time in microseconds since page-load or 0 if unsupported\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(\n        c\n      ) {\n        var r = Math.random() * 16; //random number between 0 and 16\n        if (d > 0) {\n          //Use timestamp until depleted\n          r = (d + r) % 16 | 0;\n          d = Math.floor(d / 16);\n        } else {\n          //Use microseconds since page-load if supported\n          r = (d2 + r) % 16 | 0;\n          d2 = Math.floor(d2 / 16);\n        }\n        return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n      });\n    },\n    editvalue(index) {\n      document.getElementById(\n        \"input\" + index\n      ).disabled = !document.getElementById(\"input\" + index).disabled;\n    },\n    getFile(e) {\n      e.preventDefault();\n      let filename = \"\";\n      let filedata = \"\";\n      const file = e.target.files[0];\n      this.file_label = file.name;\n      console.log(file);\n      if (file.type != \"text/csv\") {\n        Swal({\n          type: \"error\",\n          text: \"Only CSV files can be uploaded.\",\n          timer:2000,\n        });\n        this.file_label = \"Choose file\";\n      } else {\n        this.file = e.target.files[0];\n        // const reader = new FileReader();\n        // filename = file.name;\n        // reader.readAsDataURL(file);\n        // reader.onloadstart = () => {\n        //   // this.$root.$emit('show_loader', true);\n        // };\n        // reader.onload = () => {\n        //   // this.$root.$emit('show_loader', true);\n        //   filedata = reader.result.split(\"base64,\")[1];\n        // };\n        // reader.onloadend = () => {\n        //   var x = filedata.split(\"base64,\")[1];\n        //   var temp_uuid = \"\";\n        //   temp_uuid = this.generateUUID();\n        //   var user_details = {\n        //     email: this.$session.get(\"UserInformation\").email,\n        //     token: this.$session.get(\"UserInformation\").tokens,\n        //     company_name: this.$session.get(\"UserInformation\").company_name,\n        //     company_id: this.$session.get(\"UserInformation\").company_id,\n        //     license_key: this.$session.get(\"UserInformation\").license_key,\n        //     idempotency_key: temp_uuid,\n        //     dataset_name: this.dataset_name\n        //   };\n        //   var json = JSON.stringify(user_details);\n        //   var blob = new Blob([json], {\n        //     type: \"application/json\"\n        //   });\n        //   const fd = new FormData();\n        //   fd.append(\"file\", file, filename);\n        //   fd.append(\"json\", blob);\n        //   this.spinnerOn = true;\n        //   axios\n        //     .post(api_calls.bi_upload_file(), fd)\n        //     .then(response => {\n        //       if (response.data.status == \"Success\") {\n        //         for (\n        //           let i = 0;\n        //           i < response.data.file_details.columns.length;\n        //           i++\n        //         ) {\n        //           this.columns.push({\n        //             name: response.data.file_details.columns[i],\n        //             newname: response.data.file_details.columns[i]\n        //           });\n        //         }\n        //         //   this.columns = response.data.file_details.columns;\n        //         this.spinnerOn = false;\n        //         this.is_file_uploaded = true;\n        //         this.object_name = response.data.file_details.object_name;\n        //         Swal.fire({\n        //           title: \"File Uploaded Successfully\",\n        //           type: \"success\"\n        //         });\n        //       } else if (response.data.status != \"Success\") {\n        //         this.file_label = \"Choose file\";\n        //         this.spinnerOn = false;\n        //         Swal.fire({\n        //           title: \"Some Error Occurred, Please Try Again!\",\n        //           type: \"error\"\n        //         });\n        //         // setTimeout(() => {\n        //         // $router.go();\n        //         // }, 1000);\n        //       }\n        //     })\n        //     .catch(err => {\n        //       this.file_label = \"Choose file\";\n        //       this.spinnerOn = false;\n        //       Swal.fire({\n        //         title: \"Some Error Occurred, Please Try Again!\",\n        //         type: \"error\"\n        //       });\n        //       // console.log(err);\n        //     });\n        // };\n      }\n      // reader.onloadend = () => {\n      //   this.$root.$emit('hide_loader', true);\n      // };\n    },\n    addmetricvalue() {\n      event.preventDefault();\n      // debugger;\n      this.metrics.push({\n        name: null,\n        operation: \"null\",\n        // column1: null,\n        // column2: null,\n        column: null,\n      });\n      //   console.log(this.metrics);\n    },\n    deleteheader(valueindex) {\n      // console.log(valueindex,this.selectednode);\n      this.metrics.splice(valueindex, 1);\n      // this.value.splice(valueindex, 1);\n    },\n    editcolumns() {\n      event.preventDefault();\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \" You want to Edit the Columns?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\"\n      }).then(result => {\n        if (result.value) {\n          // this.newcolumns = this.columns\n          var newcolumnsdata = [];\n          for (let i = 0; i < this.columns.length; i++) {\n            newcolumnsdata.push({\n              name: this.columns[i].name,\n              newname: this.columns[i].newname,\n              data_type : this.columns[i].data_type,\n              column_type: \"Metric\",\n              additive: false,\n              aggregation: \"SUM\",\n              hidden:false,\n              nlp_search_enabled: false,\n              synonyms: \"\",\n              index_type: \"DEFAULT\"\n            });\n          }\n          // console.log(newcolumnsdata);\n          var object = newcolumnsdata.reduce(\n            (obj, item) => Object.assign(obj, { [item.name]: item.newname }),\n            {}\n          );\n          // console.log(object);\n          this.newcolumns = object;\n          this.newcolumnscomplete = newcolumnsdata;\n          this.iscolumnsnamechanged = true;\n        }\n      });\n    },\n    addmetrics() {\n      event.preventDefault();\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \" You want to add these metrics?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\"\n      }).then(result => {\n        if (result.value) {\n          this.metricsdata = [];\n          for (let i = 0; i < this.metrics.length; i++) {\n            this.metricsdata.push({\n              name: this.metrics[i].name,\n              column: this.metrics[i].column,\n              operation: this.metrics[i].operation,\n              // on: [this.metrics[i].column1, this.metrics[i].column2]\n            });\n          }\n          this.ismetricssaved = true;\n        }\n        // console.log(this.metricsdata);\n      });\n    },\n    finalsave() {\n      // console.log(this.newcolumns);\n      // console.log(this.metrics);\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.bi_process_data(), {\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          company_id: this.$session.get(\"UserInformation\").company_id,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          object_name: this.object_name,\n          column_rename_mapping: this.newcolumns,\n          dataset_name: this.dataset_name,\n          metrics: this.metricsdata,\n          worksheet_details: this.column_details\n        })\n        .then(response => {\n          this.spinnerOn = false;\n          if (response.data.status == \"Success\") {\n            Swal.fire({\n              title: \"Data Processed Successfully\",\n              type: \"success\",\n              timer:2000,\n            });\n          } else {\n            Swal.fire({\n              title: \"Some Error Occurred, Please Try Again!\",\n              type: \"error\",\n              timer:2500,\n            });\n          }\n          console.log(response);\n        })\n        .catch(err => {\n          this.spinnerOn = false;\n          Swal.fire({\n            title: \"Some Error Occurred, Please Try Again!\",\n            type: \"error\",\n            timer:2500,\n          });\n          console.log(err);\n        });\n    },\n    uploadfile() {\n      event.preventDefault();\n      // console.log(this.dataset_name);\n      // console.log(this.file);\n      let filename = \"\";\n      let filedata = \"\";\n      const reader = new FileReader();\n      filename = this.file.name;\n      reader.readAsDataURL(this.file);\n      reader.onloadstart = () => {\n        // this.$root.$emit('show_loader', true);\n      };\n      reader.onload = () => {\n        // this.$root.$emit('show_loader', true);\n        filedata = reader.result.split(\"base64,\")[1];\n      };\n      reader.onloadend = () => {\n        var x = filedata.split(\"base64,\")[1];\n        var temp_uuid = \"\";\n        temp_uuid = this.generateUUID();\n        var user_details = {\n          email: this.$session.get(\"UserInformation\").email,\n          token: this.$session.get(\"UserInformation\").tokens,\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          company_id: this.$session.get(\"UserInformation\").company_id,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          idempotency_key: temp_uuid,\n          dataset_name: this.dataset_name\n        };\n        var json = JSON.stringify(user_details);\n        var blob = new Blob([json], {\n          type: \"application/json\"\n        });\n        const fd = new FormData();\n        fd.append(\"file\", this.file, filename);\n        fd.append(\"json\", blob);\n        this.spinnerOn = true;\n        console.log(fd);\n        axios\n          .post(api_calls.bi_upload_file(), fd)\n          .then(response => {\n            if (response.data.status == \"Success\") {\n              for (\n                let i = 0;\n                i < response.data.file_details.columns.length;\n                i++\n              ) {\n                this.columns.push({\n                  name: response.data.file_details.columns[i],\n                  newname: response.data.file_details.columns[i],\n                  \n                });\n              \n              }\n                  for(let k= 0; k< this.columns.length; k ++){\n                    for (let [key, value] of Object.entries(response.data.file_details.data_types)) {\n                    if(key == this.columns[k].name){\n                      this.columns[k].data_type =  value\n                    }\n                    }\n                  }\n                // console.log(this.columns);\n              //   this.columns = response.data.file_details.columns;\n              this.spinnerOn = false;\n              this.is_file_uploaded = true;\n              this.object_name = response.data.file_details.object_name;\n              Swal.fire({\n                title: \"File Uploaded Successfully\",\n                type: \"success\",\n                timer:2000,\n              });\n            } else if (response.data.status != \"Success\") {\n              this.file_label = \"Choose file\";\n              this.spinnerOn = false;\n              Swal.fire({\n                title: \"Some Error Occurred, Please Try Again!\",\n                type: \"error\",\n                timer:2500,\n              });\n              // setTimeout(() => {\n              // $router.go();\n              // }, 1000);\n            }\n          })\n          .catch(err => {\n            this.file_label = \"Choose file\";\n            this.spinnerOn = false;\n            Swal.fire({\n              title: \"Some Error Occurred, Please Try Again!\",\n              type: \"error\",\n              timer:2500,\n            });\n            console.log(err,\"wEeeee\");\n          });\n      };\n    },\n    save_column_data(){ \n      // console.log(this.newcolumnscomplete);\n       Swal.fire({\n        title: \"Are you sure?\",\n        text: \" You want to add these worksheet details?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\"\n      }).then(result => {\n      if (result.value) {\n        var array = {}; \n        var worksheet_details = {};\n        for(let i = 0; i < this.newcolumnscomplete.length; i++){\n        var temp = this.newcolumnscomplete[i];\n        temp.synonyms = temp.synonyms.replace(/,/g, '>>');\n        worksheet_details[temp.newname] = {\n            \"datatype\": `${temp.data_type}`,\n            \"column_type\": `${temp.column_type}`,\n            \"additive\": temp.additive,\n            \"aggregation\": `${temp.aggregation}`,\n            \"hidden\" : temp.hidden,\n            \"nlp_search_enabled\": temp.nlp_search_enabled,\n            \"index_type\": `${temp.index_type}`,\n            \"synonyms\": `${temp.synonyms}`,\n            \"entity_category\":`${temp.entity_category}`\n            }\n        temp.synonyms = temp.synonyms.replace(/>> /g, ',');\n        }\n        console.log(worksheet_details);\n        this.column_details = Object.assign(worksheet_details);\n      }\n      });\n\n        // console.log(worksheet_details);\n        // console.log(this.column_details);\n    }\n  },\n  mounted() {\n    // var columns = [];\n    // var respcolumns = [\"TICKET\",\"UNITS\",\"PRICE\",\"REFERENCE\",\"CODE\",\"NAME\",\"PRICEBUY\",\"PRICESELL\",\"DATENEW\",\"PAYMENT\",\"TOTAL\",\"TRANSID\",\"CATEGORY\",\"Sales\"]\n    // var dtypes = {\"TICKET\":\"str\",\"UNITS\":\"float64\",\"PRICE\":\"float64\",\"REFERENCE\":\"int64\",\"CODE\":\"float64\",\"NAME\":\"str\",\"PRICEBUY\":\"float64\",\"PRICESELL\":\"float64\",\"DATENEW\":\"str\",\"PAYMENT\":\"str\",\"TOTAL\":\"float64\",\"TRANSID\":\"str\",\"CATEGORY\":\"str\",\"Sales\":\"float64\"}\n    // for (let i = 0;i < respcolumns.length;i++) {\n    //             this.columns.push({\n    //               name: respcolumns[i],\n    //               newname: respcolumns[i]\n    //             });\n    //           }\n    //     for(let k= 0; k< this.columns.length; k ++){\n    //                 for (let [key, value] of Object.entries(dtypes)) {\n    //                   // console.log(`${key}: ${value}, ${columns[k].name  }`);\n    //                 if(key == this.columns[k].name){\n    //                   this.columns[k].data_type =  value\n    //                 }\n    //                 }\n    //               }\n    //               var newcolumnsdata = [];\n    //       for (let i = 0; i < this.columns.length; i++) {\n    //         newcolumnsdata.push({\n    //           name: this.columns[i].name,\n    //           newname: this.columns[i].newname,\n    //           data_type : this.columns[i].data_type,\n    //           column_type: \"Metric\",\n    //           additive: false,\n    //           aggregation: \"SUM\",\n    //           hidden:false,\n    //           nlp_search_enabled: false,\n    //           synonyms: \"\",\n    //           index_type: \"DEFAULT\",\n    //           entity_category: \"PERSON\",\n    //           currency_format: \"NONE\",\n    //         });\n    //       }\n    //       // console.log(newcolumnsdata);\n    //       var object = newcolumnsdata.reduce(\n    //         (obj, item) => Object.assign(obj, { [item.name]: item.newname }),\n    //         {}\n    //       );\n    //       // console.log(object);\n    //       this.newcolumns = object;\n    //       this.newcolumnscomplete = newcolumnsdata;\n    //               // console.log(this.newcolumnscomplete);\n  }\n};\n</script>\n<style scoped>\n.table td,\n.table th {\n  padding: 0.5rem !important;\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 36px;\n  height: 20px;\n  /* margin-left: 10px; */\n}\n\n.switch input { \n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 12px;\n  width: 12px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: #2196F3;\n  border-radius: 20px;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n  border-radius: 20px;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(17px);\n}\n\nRounded sliders\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n\n</style>"]}]}