{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/analytics/components/Barchart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/analytics/components/Barchart.vue","mtime":1643027096188},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0IGQzX3NhdmVfcGRmIGZyb20gJ2QzLXNhdmUtcGRmJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCYXJDaGFydCcsCiAgcHJvcHM6IHsKICAgIHhLZXk6IFN0cmluZywKICAgIHlLZXk6IFN0cmluZywKICAgIGRhdGE6IEFycmF5LAogICAgY3VycmVuY3lfa2V5OiBTdHJpbmcsCiAgfSwKICBtb3VudGVkKCkgewogICAgdmFyIHZtID0gdGhpczsKICAgIHRoaXMuZGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGJbdm0ueUtleV0gLSBhW3ZtLnlLZXldOwogICAgICB9KTsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YSwgdGhpcy54S2V5LCB0aGlzLnlLZXkpCiAgLy8jcmVnaW9uICAtIERpbWVuc2lvbnMgYW5kIFNjYWxlcwogICAgdmFyIG1hcmdpbiA9IHt0b3A6IDEwLCByaWdodDogMTEwLCBib3R0b206IDIyMCwgbGVmdDogOTB9LAogICAgICAgIHdpZHRoID0gMTAxMCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LAogICAgICAgIGhlaWdodCA9IDU3MCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOwoKICAgICAgCiAgICB2YXIgbWFyZ2luT3ZlcnZpZXcgPSB7dG9wOiAzMCwgcmlnaHQ6IDEwLCBib3R0b206IDIwLCBsZWZ0OiA0MH07CiAgICB2YXIgaGVpZ2h0T3ZlcnZpZXcgPSA4MCAtIG1hcmdpbk92ZXJ2aWV3LnRvcCAtIG1hcmdpbk92ZXJ2aWV3LmJvdHRvbTsKICAgIHZhciBtYXhMZW5ndGggPSBkMy5tYXgodGhpcy5kYXRhLm1hcChmdW5jdGlvbihkKXsgcmV0dXJuIGRbdm0ueEtleV0ubGVuZ3RofSkpCiAgICAvLyB2YXIgbWF4TGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aDsKICAgIC8vIGNvbnNvbGUubG9nKG1heExlbmd0aCk7CiAgICB2YXIgYmFyV2lkdGggPSBtYXhMZW5ndGggKiAxLjE7CiAgICB2YXIgbnVtQmFycyA9IE1hdGgucm91bmQod2lkdGgvYmFyV2lkdGgpOwogICAgdmFyIGlzU2Nyb2xsRGlzcGxheWVkID0gYmFyV2lkdGggKiB0aGlzLmRhdGEubGVuZ3RoID4gd2lkdGg7CiAgICAvLyBjb25zb2xlLmxvZyhtYXhMZW5ndGgsYmFyV2lkdGgsbnVtQmFycyxiYXJXaWR0aCp0aGlzLmRhdGEubGVuZ3RoLHdpZHRoKTsKCgogICAgdmFyIHggPSBkMy5zY2FsZUJhbmQoKQogICAgICAgICAgICAgIC5yYW5nZShbMCwgd2lkdGhdKQogICAgICAgICAgICAgIC5wYWRkaW5nKDAuMSk7CiAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkKICAgICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pOwogIC8vI2VuZHJlZ2lvbgogICAgLy8gY29uc29sZS5sb2coaXNTY3JvbGxEaXNwbGF5ZWQsbnVtQmFycyk7CgogIC8vI3JlZ2lvbiAtIFJlY3RhbmdsZXMKICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNiYXJjaGFydCIpLmFwcGVuZCgic3ZnIikKICAgICAgICAuYXR0cigid2lkdGgiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgCiAgICAgICAgICAgICAgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsKCiAgICAgIGlmKGlzU2Nyb2xsRGlzcGxheWVkKXsKICAgICAgICB4LmRvbWFpbih0aGlzLmRhdGEuc2xpY2UoMCxudW1CYXJzKS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZFt2bS54S2V5XTsgfSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHguZG9tYWluKHRoaXMuZGF0YS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZFt2bS54S2V5XTsgfSkpOwogICAgICB9CiAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkW3ZtLnlLZXldOyB9KV0pOwogICAgICBpZihpc1Njcm9sbERpc3BsYXllZCl7CiAgICAgICAgc3ZnLnNlbGVjdEFsbCgiLmJhci1wb3NpdGl2ZSIpCiAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEuc2xpY2UoMCwgbnVtQmFycyksIGZ1bmN0aW9uIChkKSB7cmV0dXJuIGRbdm0ueEtleV07IH0pCiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoInJlY3QiKQogICAgICAgICAgLmF0dHIoImNsYXNzIiwgImJhci1wb3NpdGl2ZSIpCiAgICAgICAgICAuYXR0cigiaWQiLCBmdW5jdGlvbihkLCBpKSB7CiAgICAgICAgICAgIHJldHVybiAgZFt2bS54S2V5XQogICAgICAgICAgfSkKICAgICAgICAgIC5hdHRyKCJ4IiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geChkW3ZtLnhLZXldKTsgfSkKICAgICAgICAgIC5hdHRyKCJ3aWR0aCIsIHguYmFuZHdpZHRoKCkgLyAxLjE5KQogICAgICAgICAgLy8gLmF0dHIoInkiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGRbdm0ueUtleV0pOyB9KQogICAgICAgICAgLy8gLmF0dHIoImhlaWdodCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGhlaWdodCAtIHkoZFt2bS55S2V5XSk7IH0pOwogICAgICAgICAgLmF0dHIoInkiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KDApOyB9KQogICAgICAgICAgLmF0dHIoImhlaWdodCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGhlaWdodCAtIHkoMCk7IH0pOwogICAgICAgIHZhciB4T3ZlcnZpZXcgPSBkMy5zY2FsZUJhbmQoKQogICAgICAgICAgICAgICAgICAgICAgICAuZG9tYWluKHRoaXMuZGF0YS5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubGFiZWw7IH0pKQogICAgICAgICAgICAgICAgICAgICAgICAucmFuZ2UoWzAsIHdpZHRoXSwgLjIpOwogICAgICAgIHZhciB5T3ZlcnZpZXcgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHRPdmVydmlldywgMF0pOwogICAgICAgIHlPdmVydmlldy5kb21haW4oeS5kb21haW4oKSk7CgogICAgICAgIHZhciBkaXNwbGF5ZWQgPSBkMy5zY2FsZVF1YW50aXplKCkKICAgICAgICAgICAgICAgICAgLmRvbWFpbihbMCwgd2lkdGhdKQogICAgICAgICAgICAgICAgICAucmFuZ2UoZDMucmFuZ2UodGhpcy5kYXRhLmxlbmd0aCkpOwogICAgICAgIHN2Zy5hcHBlbmQoImciKS5hcHBlbmQoInJlY3QiKQogICAgICAgICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCAiICsgKGhlaWdodCszICkgKyAiKSIpCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsICJtb3ZlciIpCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJ4IiwgMCkKICAgICAgICAgICAgICAgICAgLmF0dHIoInkiLCAwKQogICAgICAgICAgICAgICAgICAuYXR0cigicngiLCA1KQogICAgICAgICAgICAgICAgICAuYXR0cigicnkiLCAxMCkKICAgICAgICAgICAgICAgICAgLmF0dHIoImhlaWdodCIsIDEwKQogICAgICAgICAgICAgICAgICAuYXR0cigid2lkdGgiLE1hdGgucm91bmQocGFyc2VGbG9hdChudW1CYXJzICogd2lkdGgpL3ZtLmRhdGEubGVuZ3RoKSkKICAgICAgICAgICAgICAgICAgLmF0dHIoInBvaW50ZXItZXZlbnRzIiwgImFsbCIpCiAgICAgICAgICAgICAgICAgIC5hdHRyKCJjdXJzb3IiLCAiZXctcmVzaXplIikKICAgICAgICAgICAgICAgICAgLmNhbGwoZDMuZHJhZygpLm9uKCJkcmFnIiwgZGlzcGxheSkpOwogICAgc3ZnLnNlbGVjdEFsbCgiLmJhci1wb3NpdGl2ZSIpCiAgICAudHJhbnNpdGlvbigpCiAgICAuZHVyYXRpb24oODAwKQogICAgLmF0dHIoInkiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHkoZFt2bS55S2V5XSk7IH0pCiAgICAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24oZCkge3JldHVybiBoZWlnaHQgLSB5KGRbdm0ueUtleV0pOyB9KQogICAgLmRlbGF5KGZ1bmN0aW9uKGQsaSl7IHJldHVybihpKjEwMCl9KQoKICAgICAgfSBlbHNlIHsKICAgICAgICBzdmcuc2VsZWN0QWxsKCIuYmFyLXBvc2l0aXZlIikKICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSkKICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgicmVjdCIpCiAgICAgICAgICAuYXR0cigiY2xhc3MiLCAiYmFyLXBvc2l0aXZlIikKICAgICAgICAgIC5hdHRyKCJpZCIsIGZ1bmN0aW9uKGQsIGkpIHsKICAgICAgICAgICByZXR1cm4gIGRbdm0ueEtleV07CiAgICAgICAgICB9KQogICAgICAgICAgLmF0dHIoIngiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4KGRbdm0ueEtleV0pOyB9KQogICAgICAgICAgLmF0dHIoIndpZHRoIiwgeC5iYW5kd2lkdGgoKSAvIDEuMTkpCiAgICAgICAgICAvLyAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZFt2bS55S2V5XSk7IH0pCiAgICAgICAgICAvLyAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gaGVpZ2h0IC0geShkW3ZtLnlLZXldKTsgfSk7CiAgICAgICAgICAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoMCk7IH0pCiAgICAgICAgICAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gaGVpZ2h0IC0geSgwKTsgfSk7CgogICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCJyZWN0IikKICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgICAgICAuZHVyYXRpb24oODAwKQogICAgICAgICAgICAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geShkW3ZtLnlLZXldKTsgfSkKICAgICAgICAgICAgLmF0dHIoImhlaWdodCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gaGVpZ2h0IC0geShkW3ZtLnlLZXldKTsgfSkKICAgICAgICAgICAgLmRlbGF5KGZ1bmN0aW9uKGQsaSl7IHJldHVybihpKjEwMCl9KQogICAgICB9CiAgLy8jZW5kcmVnaW9uCgogIC8vI3JlZ2lvbiAtIEF4aXMKICAgICAgICBpZihudW1CYXJzID4gOSkgewogICAgICAgICAgeGF4aXNmb3JsYXJnZXZhbHVlcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB4YXhpc2ZvcnNtYWxsdmFsdWVzKCk7CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIHhheGlzZm9ybGFyZ2V2YWx1ZXMoKSB7IHN2Zy5hcHBlbmQoImciKQogICAgICAgICAgLmF0dHIoImlkIiwieGF4aXMiKQogICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgKGhlaWdodCsxMCkgKyAiKSIpCiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKQogICAgICAgICAgZDMuc2VsZWN0QWxsKCIjeGF4aXMgdGV4dCIpCiAgICAgICAgICAuYXR0cigieSIsIDApCiAgICAgICAgICAuYXR0cigieCIsIC0xMCkKICAgICAgICAgIC5hdHRyKCJkeSIsICIuMzVlbSIpCiAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInJvdGF0ZSgtNzApIikKICAgICAgICAgIC5zdHlsZSgidGV4dC1hbmNob3IiLCAiZW5kIikKICAgICAgIAogICAgICAgIH0gCiAgICAgICAgLy8gZWxzZSB7CiAgICAgICAgZnVuY3Rpb24geGF4aXNmb3JzbWFsbHZhbHVlcygpIHsgICBzdmcKICAgICAgICAgIC5hcHBlbmQoImciKQogICAgICAgICAgLmF0dHIoImlkIiwieGF4aXMiKQogICAgICAgICAgICAvLyAuYXR0cigiY2xhc3MiLCAieCBheGlzIikKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIiArKGhlaWdodCsxMCkgKyAiKSIpCiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKQogICAgICAgICAgZDMuc2VsZWN0QWxsKCIudGljayB0ZXh0IikKICAgICAgICAgIC5jYWxsKHdyYXAsIHguYmFuZHdpZHRoKCkpCiAgICAgICAgICBmdW5jdGlvbiB3cmFwKHRleHQsIHdpZHRoKSB7CiAgICAgICAgICAgIHRleHQuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB2YXIgdGV4dCA9IGQzLnNlbGVjdCh0aGlzKSwKICAgICAgICAgICAgICAgICAgd29yZHMgPSB0ZXh0LnRleHQoKS5zcGxpdCgvXHMrLykucmV2ZXJzZSgpLAogICAgICAgICAgICAgICAgICB3b3JkLAogICAgICAgICAgICAgICAgICBsaW5lID0gW10sCiAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXIgPSAwLAogICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gMS4xLCAvLyBlbXMKICAgICAgICAgICAgICAgICAgeSA9IHRleHQuYXR0cigieSIpLAogICAgICAgICAgICAgICAgICBkeSA9IHBhcnNlRmxvYXQodGV4dC5hdHRyKCJkeSIpKSwKICAgICAgICAgICAgICAgICAgdHNwYW4gPSB0ZXh0LnRleHQobnVsbCkuYXBwZW5kKCJ0c3BhbiIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgeSkuYXR0cigiZHkiLCBkeSArICJlbSIpOwogICAgICAgICAgICAgIHdoaWxlICh3b3JkID0gd29yZHMucG9wKCkpIHsKICAgICAgICAgICAgICAgIGxpbmUucHVzaCh3b3JkKTsKICAgICAgICAgICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCIgIikpOwogICAgICAgICAgICAgICAgaWYgKHRzcGFuLm5vZGUoKS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSA+IHdpZHRoKSB7CiAgICAgICAgICAgICAgICAgIGxpbmUucG9wKCk7CiAgICAgICAgICAgICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCIgIikpOwogICAgICAgICAgICAgICAgICBsaW5lID0gW3dvcmRdOwogICAgICAgICAgICAgICAgICB0c3BhbiA9IHRleHQuYXBwZW5kKCJ0c3BhbiIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgeSkuYXR0cigiZHkiLCArK2xpbmVOdW1iZXIgKiBsaW5lSGVpZ2h0ICsgZHkgKyAiZW0iKS50ZXh0KHdvcmQpCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBhZGQgdGhlIHkgQXhpcwogICAgICAgIHN2Zy5hcHBlbmQoImciKQogICAgICAgICAgICAuYXR0cigiY2xhc3MiLCAieSBheGlzIikKICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkKICAgICAgICAgICAgLy8gLnRpY2tGb3JtYXQoZDMuZm9ybWF0KCIuMHMiKSkpOwogICAgICAgICAgICAudGlja3MoMTAsICJzIikpOwoKICAgICAgICBzdmcuYXBwZW5kKCJ0ZXh0IikKICAgICAgICAuYXR0cigiY2xhc3MiLCAieSBsYWJlbCIpCiAgICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpCiAgICAgICAgLmF0dHIoInkiLCAtNjApCiAgICAgICAgLmF0dHIoImR5IiwgIi43NWVtIikKICAgICAgICAuYXR0cigiZHgiLCAiLTUuNWVtIikKICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInJvdGF0ZSgtOTApIikKICAgICAgICAudGV4dCh0aGlzLnlLZXkpOwogIC8vI2VuZHJlZ2lvbgoKCiAgLy8jcmVnaW9uIC0gVG9vbFRpcAogICAgICAgIHZhciB0b29sdGlwID0gZDMuc2VsZWN0KCIuY2FyZC1ib2R5IikuYXBwZW5kKCJkaXYiKS5hdHRyKCJjbGFzcyIsICJ0b29sVGlwIik7CiAgICAgICAgICBkMy5zZWxlY3RBbGwoIi5iYXItcG9zaXRpdmUiKQogICAgICAgICAgLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbihkKXsKICAgICAgICAgICAgdmFyIHggPSBkMy5zZWxlY3QodGhpcykuYXR0cignaWQnKSwKICAgICAgICAgICAgICBuPSB2bS5kYXRhLmxlbmd0aCwKICAgICAgICAgICAgICB5dmFsCiAgICAgICAgICAgICAgZm9yKGxldCBpPTA7ICBpIDwgbjsgaSsrICl7CiAgICAgICAgICAgICAgICBpZih2bS5kYXRhW2ldW3ZtLnhLZXldID09PSB4KSB7CiAgICAgICAgICAgICAgICAgIHl2YWwgPSB2bS5kYXRhW2ldW3ZtLnlLZXldCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKE51bWJlci5pc0ludGVnZXIoeXZhbCkpCiAgICAgICAgICAgICAgICAgIHRvb2x0aXAKICAgICAgICAgICAgICAgICAgLnN0eWxlKCJsZWZ0IiwgZXZlbnQucGFnZVggLSAzMTUgKyAicHgiKQogICAgICAgICAgICAgICAgICAuc3R5bGUoInRvcCIsIGV2ZW50LnBhZ2VZIC0gMTcwICsgInB4IikKICAgICAgICAgICAgICAgICAgLnN0eWxlKCJkaXNwbGF5IiwgImlubGluZS1ibG9jayIpCiAgICAgICAgICAgICAgICAgIC8vIC5odG1sKCh2bS5kYXRhW3hdW3ZtLnlLZXldKSArICI8YnI+IiAgKyAodm0uZGF0YVt4XVt2bS54S2V5XSkpOwogICAgICAgICAgICAgICAgICAuaHRtbCggeCArICI8YnI+IiAgK3ZtLmN1cnJlbmN5X2tleSArICcgJyArICAoKE51bWJlci5pc0ludGVnZXIoeXZhbCkpPyB5dmFsIDogeXZhbC50b0ZpeGVkKDIpKSk7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24oZCl7CiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUoImRpc3BsYXkiLCAibm9uZSIpOwogICAgICAgICAgICAgIH0pOwogIC8vI2VuZHJlZ2lvbgoKICAvLyNyZWdpb24gLSBBbmltYXRpb24KICAgIC8vIHN2Zy5zZWxlY3RBbGwoInJlY3QiKQogICAgLy8gLnRyYW5zaXRpb24oKQogICAgLy8gLmR1cmF0aW9uKDQ4MDApCiAgICAvLyAuYXR0cigieSIsIGZ1bmN0aW9uKGQpIHsgY29uc29sZS5sb2coZCk7cmV0dXJuIHkoZFt2bS55S2V5XSk7IH0pCiAgICAvLyAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24oZCkgeyBjb25zb2xlLmxvZyhkKTtyZXR1cm4gaGVpZ2h0IC0geShkW3ZtLnlLZXldKTsgfSkKICAgIC8vIC5kZWxheShmdW5jdGlvbihkLGkpe2NvbnNvbGUubG9nKGkpIDsgcmV0dXJuKGkqMTAwKX0pCiAgLy8jZW5kcmVnaW9uCgoKICAgZnVuY3Rpb24gZGlzcGxheSAoKSB7CiAgICAgLy8gZGVidWdnZXI7CiAgICAgICAgdmFyIHh5ID0gcGFyc2VJbnQoZDMuc2VsZWN0KHRoaXMpLmF0dHIoIngiKSksCiAgICAgICAgICAgIG54ID0geHkgKyBkMy5ldmVudC5keCwKICAgICAgICAgICAgdyA9IHBhcnNlSW50KGQzLnNlbGVjdCh0aGlzKS5hdHRyKCJ3aWR0aCIpKSwKICAgICAgICAgICAgZiwgbmYsIG5ld19kYXRhLCByZWN0czsKCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygneHknK3h5KQogICAgICAgICAgLy8gY29uc29sZS5sb2coJ254JytueCkKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd3Jyt3KQogICAgICAgICAgLy8gY29uc29sZS5sb2coJ3dpZGh0Jysgd2lkdGgpCiAgICAgICAgICAKICAgICAgICBpZiAoIG54IDwgMCB8fCBueCArIHcgPiB3aWR0aCkgcmV0dXJuOwoKICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cigieCIsIG54KTsKCiAgICAgICAgZiA9IGRpc3BsYXllZCh4eSk7CiAgICAgICAgbmYgPSBkaXNwbGF5ZWQobngpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKCdmJytmKQogICAgICAgIC8vIGNvbnNvbGUubG9nKCduZicrbmYpCgogICAgICAgIGlmICggZiA9PT0gbmYgKSByZXR1cm47CgogICAgICAgIG5ld19kYXRhID0gdm0uZGF0YS5zbGljZShuZiwgbmYgKyBudW1CYXJzKTsKCiAgICAgICAgeC5kb21haW4obmV3X2RhdGEubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkW3ZtLnhLZXldOyB9KSk7CgogICAgICAgIGlmKG51bUJhcnMgPiA4ICl7CiAgICAgICAgICAvLyB4YXhpc2ZvcmxhcmdldmFsdWVzKCk7CiAgICAgICAgICBzdmcuc2VsZWN0KCIjeGF4aXMiKS5jYWxsKGQzLmF4aXNCb3R0b20oeCkpCiAgICAgICAgLnNlbGVjdEFsbCgiI3hheGlzIHRleHQiKQogICAgICAgICAgLmF0dHIoInkiLCAwKQogICAgICAgICAgLmF0dHIoIngiLCAtMTApCiAgICAgICAgICAuYXR0cigiZHkiLCAiLjM1ZW0iKQogICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJyb3RhdGUoLTcwKSIpCiAgICAgICAgICAuc3R5bGUoInRleHQtYW5jaG9yIiwgImVuZCIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB4YXhpc2ZvcnNtYWxsdmFsdWVzKCk7CiAgICAgICAgICAgc3ZnLnNlbGVjdCgiI3hheGlzIikuY2FsbChkMy5heGlzQm90dG9tKHgpKQogICAgICAgICAgICBkMy5zZWxlY3RBbGwoIi50aWNrIHRleHQiKQogICAgICAgICAgLmNhbGwod3JhcCwgeC5iYW5kd2lkdGgoKSkKICAgICAgICAgICBmdW5jdGlvbiB3cmFwKHRleHQsIHdpZHRoKSB7CiAgICAgICAgICAgIHRleHQuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB2YXIgdGV4dCA9IGQzLnNlbGVjdCh0aGlzKSwKICAgICAgICAgICAgICAgICAgd29yZHMgPSB0ZXh0LnRleHQoKS5zcGxpdCgvXHMrLykucmV2ZXJzZSgpLAogICAgICAgICAgICAgICAgICB3b3JkLAogICAgICAgICAgICAgICAgICBsaW5lID0gW10sCiAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXIgPSAwLAogICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0ID0gMS4xLCAvLyBlbXMKICAgICAgICAgICAgICAgICAgeSA9IHRleHQuYXR0cigieSIpLAogICAgICAgICAgICAgICAgICBkeSA9IHBhcnNlRmxvYXQodGV4dC5hdHRyKCJkeSIpKSwKICAgICAgICAgICAgICAgICAgdHNwYW4gPSB0ZXh0LnRleHQobnVsbCkuYXBwZW5kKCJ0c3BhbiIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgeSkuYXR0cigiZHkiLCBkeSArICJlbSIpOwogICAgICAgICAgICAgIHdoaWxlICh3b3JkID0gd29yZHMucG9wKCkpIHsKICAgICAgICAgICAgICAgIGxpbmUucHVzaCh3b3JkKTsKICAgICAgICAgICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCIgIikpOwogICAgICAgICAgICAgICAgaWYgKHRzcGFuLm5vZGUoKS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSA+IHdpZHRoKSB7CiAgICAgICAgICAgICAgICAgIGxpbmUucG9wKCk7CiAgICAgICAgICAgICAgICAgIHRzcGFuLnRleHQobGluZS5qb2luKCIgIikpOwogICAgICAgICAgICAgICAgICBsaW5lID0gW3dvcmRdOwogICAgICAgICAgICAgICAgICB0c3BhbiA9IHRleHQuYXBwZW5kKCJ0c3BhbiIpLmF0dHIoIngiLCAwKS5hdHRyKCJ5IiwgeSkuYXR0cigiZHkiLCArK2xpbmVOdW1iZXIgKiBsaW5lSGVpZ2h0ICsgZHkgKyAiZW0iKS50ZXh0KHdvcmQpCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIAogICAgIAogICAgICAgIHJlY3RzID0gc3ZnLnNlbGVjdEFsbCgiLmJhci1wb3NpdGl2ZSIpCiAgICAgICAgLmRhdGEobmV3X2RhdGEsIGZ1bmN0aW9uIChkKSB7cmV0dXJuIGRbdm0ueEtleV07IH0pOwogICAgICAgICAgcmVjdHMuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4KGRbdm0ueEtleV0pOyB9KTsKCiAgICAvLyAJICByZWN0cy5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkKSB7IHJldHVybiAidHJhbnNsYXRlKCIgKyB4c2NhbGUoZC5sYWJlbCkgKyAiLDApIjsgfSkKCiAgICAgICAgcmVjdHMuZW50ZXIoKS5hcHBlbmQoInJlY3QiKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJiYXItcG9zaXRpdmUiKQogICAgICAgIC5hdHRyKCJpZCIsIGZ1bmN0aW9uKGQsIGkpIHsKICAgICAgICAgICAgcmV0dXJuICBkW3ZtLnhLZXldOwogICAgICAgICAgfSkKICAgICAgICAuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4KGRbdm0ueEtleV0pOyB9KQogICAgICAgIC5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHkoZFt2bS55S2V5XSk7IH0pCiAgICAgICAgLmF0dHIoIndpZHRoIiwgeC5iYW5kd2lkdGgoKS8gMS4xOSkKICAgICAgICAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGhlaWdodCAtIHkoZFt2bS55S2V5XSk7IH0pCiAgICAgICAgLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbihkKXsKICAgICAgICAgICAgICB2YXIgeCA9IGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdpZCcpLAogICAgICAgICAgICAgIG49IHZtLmRhdGEubGVuZ3RoLAogICAgICAgICAgICAgIHl2YWwKICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgIGkgPCBuOyBpKysgKXsKICAgICAgICAgICAgICAgIGlmKHZtLmRhdGFbaV1bdm0ueEtleV0gPT09IHgpIHsKICAgICAgICAgICAgICAgICAgeXZhbCA9IHZtLmRhdGFbaV1bdm0ueUtleV0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2bS5jdXJyZW5jeV9rZXkpOwogICAgICAgICAgICAgICAgICB0b29sdGlwCiAgICAgICAgICAgICAgICAgIC5zdHlsZSgibGVmdCIsIGV2ZW50LnBhZ2VYIC0gMzE1ICsgInB4IikKICAgICAgICAgICAgICAgICAgLnN0eWxlKCJ0b3AiLCBldmVudC5wYWdlWSAtIDE3MCArICJweCIpCiAgICAgICAgICAgICAgICAgIC5zdHlsZSgiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQogICAgICAgICAgICAgICAgICAvLyAuaHRtbCgodm0uZGF0YVt4XVt2bS55S2V5XSkgKyAiPGJyPiIgICsgKHZtLmRhdGFbeF1bdm0ueEtleV0pKTsKICAgICAgICAgICAgICAgICAgLmh0bWwoIHggKyAiPGJyPiIgICsgdm0uY3VycmVuY3lfa2V5ICsgJyAnICsgKChOdW1iZXIuaXNJbnRlZ2VyKHl2YWwpKT8geXZhbCA6IHl2YWwudG9GaXhlZCgyKSkpOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKGQpewogICAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICByZWN0cy5leGl0KCkucmVtb3ZlKCk7CiAgICAgICAgLy8gIH0sIDEwMDApOwogICAgfTsKCiAgICAvLyBkMy5zZWxlY3QoJ2J1dHRvbiNleHBvcnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgIC8vICAgdmFyIGNvbmZpZyA9IHsKICAgIC8vICAgICBmaWxlbmFtZTogJ2N1c3RvbUZpbGVOYW1lJywKICAgIC8vICAgfQogICAgLy8gICBkM19zYXZlX3BkZi5zYXZlKGQzLnNlbGVjdCgnc3ZnJykubm9kZSgpLCBjb25maWcpOwogICAgLy8gICBzdmcKICAgIC8vICAgLmFwcGVuZCgnZycpCiAgICAvLyAgIC5hcHBlbmQoJ2ltYWdlJykKICAgIC8vICAgLmF0dHIoJ3hsaW5rOmhyZWYnLCAnYXNzZXRzL3Rlc3QucG5nJykKICAgIC8vICAgLmF0dHIoIndpZHRoIiwgMTAwKQogICAgLy8gICAuYXR0cigiaGVpZ2h0IiwgMTAwKQogICAgLy8gICAuYXR0cigieCIsICh3aWR0aCAvIDIpICAtIDUwKQogICAgLy8gICAuYXR0cigieSIsIChoZWlnaHQgLyA2KSAqIDUpOwoKICAgIC8vIGQzX3NhdmVfcGRmLmVtYmVkUmFzdGVySW1hZ2VzKHN2Zy5ub2RlKCkpCiAgICAvLyB9KTsKCiAgfSwKfQo="},{"version":3,"sources":["Barchart.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Barchart.vue","sourceRoot":"src/portal/analytics/components","sourcesContent":["<template>\n<div>\n  <div id=\"barchart\">\n\n  </div>\n  <!-- <button id=\"export\">  </button> -->\n</div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport d3_save_pdf from 'd3-save-pdf';\nexport default {\n  name: 'BarChart',\n  props: {\n    xKey: String,\n    yKey: String,\n    data: Array,\n    currency_key: String,\n  },\n  mounted() {\n    var vm = this;\n    this.data.sort(function(a, b) {\n            return b[vm.yKey] - a[vm.yKey];\n      });\n    // console.log(this.data, this.xKey, this.yKey)\n  //#region  - Dimensions and Scales\n    var margin = {top: 10, right: 110, bottom: 220, left: 90},\n        width = 1010 - margin.left - margin.right,\n        height = 570 - margin.top - margin.bottom;\n\n      \n    var marginOverview = {top: 30, right: 10, bottom: 20, left: 40};\n    var heightOverview = 80 - marginOverview.top - marginOverview.bottom;\n    var maxLength = d3.max(this.data.map(function(d){ return d[vm.xKey].length}))\n    // var maxLength = this.data.length;\n    // console.log(maxLength);\n    var barWidth = maxLength * 1.1;\n    var numBars = Math.round(width/barWidth);\n    var isScrollDisplayed = barWidth * this.data.length > width;\n    // console.log(maxLength,barWidth,numBars,barWidth*this.data.length,width);\n\n\n    var x = d3.scaleBand()\n              .range([0, width])\n              .padding(0.1);\n    var y = d3.scaleLinear()\n              .range([height, 0]);\n  //#endregion\n    // console.log(isScrollDisplayed,numBars);\n\n  //#region - Rectangles\n    var svg = d3.select(\"#barchart\").append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \n              \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      if(isScrollDisplayed){\n        x.domain(this.data.slice(0,numBars).map(function(d) { return d[vm.xKey]; }));\n      } else {\n        x.domain(this.data.map(function(d) { return d[vm.xKey]; }));\n      }\n      y.domain([0, d3.max(this.data, function(d) { return d[vm.yKey]; })]);\n      if(isScrollDisplayed){\n        svg.selectAll(\".bar-positive\")\n          .data(this.data.slice(0, numBars), function (d) {return d[vm.xKey]; })\n          .enter().append(\"rect\")\n          .attr(\"class\", \"bar-positive\")\n          .attr(\"id\", function(d, i) {\n            return  d[vm.xKey]\n          })\n          .attr(\"x\", function(d) { return x(d[vm.xKey]); })\n          .attr(\"width\", x.bandwidth() / 1.19)\n          // .attr(\"y\", function(d) { return y(d[vm.yKey]); })\n          // .attr(\"height\", function(d) { return height - y(d[vm.yKey]); });\n          .attr(\"y\", function(d) { return y(0); })\n          .attr(\"height\", function(d) { return height - y(0); });\n        var xOverview = d3.scaleBand()\n                        .domain(this.data.map(function (d) { return d.label; }))\n                        .range([0, width], .2);\n        var yOverview = d3.scaleLinear().range([heightOverview, 0]);\n        yOverview.domain(y.domain());\n\n        var displayed = d3.scaleQuantize()\n                  .domain([0, width])\n                  .range(d3.range(this.data.length));\n        svg.append(\"g\").append(\"rect\")\n                  .attr(\"transform\", \"translate(0, \" + (height+3 ) + \")\")\n                  .attr(\"class\", \"mover\")\n                  .attr(\"x\", 0)\n                  .attr(\"y\", 0)\n                  .attr(\"rx\", 5)\n                  .attr(\"ry\", 10)\n                  .attr(\"height\", 10)\n                  .attr(\"width\",Math.round(parseFloat(numBars * width)/vm.data.length))\n                  .attr(\"pointer-events\", \"all\")\n                  .attr(\"cursor\", \"ew-resize\")\n                  .call(d3.drag().on(\"drag\", display));\n    svg.selectAll(\".bar-positive\")\n    .transition()\n    .duration(800)\n    .attr(\"y\", function(d) {return y(d[vm.yKey]); })\n    .attr(\"height\", function(d) {return height - y(d[vm.yKey]); })\n    .delay(function(d,i){ return(i*100)})\n\n      } else {\n        svg.selectAll(\".bar-positive\")\n          .data(this.data)\n          .enter().append(\"rect\")\n          .attr(\"class\", \"bar-positive\")\n          .attr(\"id\", function(d, i) {\n           return  d[vm.xKey];\n          })\n          .attr(\"x\", function(d) { return x(d[vm.xKey]); })\n          .attr(\"width\", x.bandwidth() / 1.19)\n          // .attr(\"y\", function(d) { return y(d[vm.yKey]); })\n          // .attr(\"height\", function(d) { return height - y(d[vm.yKey]); });\n          .attr(\"y\", function(d) { return y(0); })\n          .attr(\"height\", function(d) { return height - y(0); });\n\n            svg.selectAll(\"rect\")\n            .transition()\n            .duration(800)\n            .attr(\"y\", function(d) {return y(d[vm.yKey]); })\n            .attr(\"height\", function(d) {return height - y(d[vm.yKey]); })\n            .delay(function(d,i){ return(i*100)})\n      }\n  //#endregion\n\n  //#region - Axis\n        if(numBars > 9) {\n          xaxisforlargevalues();\n        } else {\n          xaxisforsmallvalues();\n        }\n        function xaxisforlargevalues() { svg.append(\"g\")\n          .attr(\"id\",\"xaxis\")\n          .attr(\"transform\", \"translate(0,\" + (height+10) + \")\")\n          .call(d3.axisBottom(x))\n          d3.selectAll(\"#xaxis text\")\n          .attr(\"y\", 0)\n          .attr(\"x\", -10)\n          .attr(\"dy\", \".35em\")\n          .attr(\"transform\", \"rotate(-70)\")\n          .style(\"text-anchor\", \"end\")\n       \n        } \n        // else {\n        function xaxisforsmallvalues() {   svg\n          .append(\"g\")\n          .attr(\"id\",\"xaxis\")\n            // .attr(\"class\", \"x axis\")\n          .attr(\"transform\", \"translate(0,\" +(height+10) + \")\")\n          .call(d3.axisBottom(x))\n          d3.selectAll(\".tick text\")\n          .call(wrap, x.bandwidth())\n          function wrap(text, width) {\n            text.each(function() {\n              var text = d3.select(this),\n                  words = text.text().split(/\\s+/).reverse(),\n                  word,\n                  line = [],\n                  lineNumber = 0,\n                  lineHeight = 1.1, // ems\n                  y = text.attr(\"y\"),\n                  dy = parseFloat(text.attr(\"dy\")),\n                  tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n              while (word = words.pop()) {\n                line.push(word);\n                tspan.text(line.join(\" \"));\n                if (tspan.node().getComputedTextLength() > width) {\n                  line.pop();\n                  tspan.text(line.join(\" \"));\n                  line = [word];\n                  tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word)\n              \n                }\n              }\n            });\n          }\n        }\n        // }\n\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .call(d3.axisLeft(y)\n            // .tickFormat(d3.format(\".0s\")));\n            .ticks(10, \"s\"));\n\n        svg.append(\"text\")\n        .attr(\"class\", \"y label\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"y\", -60)\n        .attr(\"dy\", \".75em\")\n        .attr(\"dx\", \"-5.5em\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .text(this.yKey);\n  //#endregion\n\n\n  //#region - ToolTip\n        var tooltip = d3.select(\".card-body\").append(\"div\").attr(\"class\", \"toolTip\");\n          d3.selectAll(\".bar-positive\")\n          .on(\"mouseover\", function(d){\n            var x = d3.select(this).attr('id'),\n              n= vm.data.length,\n              yval\n              for(let i=0;  i < n; i++ ){\n                if(vm.data[i][vm.xKey] === x) {\n                  yval = vm.data[i][vm.yKey]\n                }\n              }\n              // console.log(Number.isInteger(yval))\n                  tooltip\n                  .style(\"left\", event.pageX - 315 + \"px\")\n                  .style(\"top\", event.pageY - 170 + \"px\")\n                  .style(\"display\", \"inline-block\")\n                  // .html((vm.data[x][vm.yKey]) + \"<br>\"  + (vm.data[x][vm.xKey]));\n                  .html( x + \"<br>\"  +vm.currency_key + ' ' +  ((Number.isInteger(yval))? yval : yval.toFixed(2)));\n              })\n              .on(\"mouseout\", function(d){\n                  tooltip.style(\"display\", \"none\");\n              });\n  //#endregion\n\n  //#region - Animation\n    // svg.selectAll(\"rect\")\n    // .transition()\n    // .duration(4800)\n    // .attr(\"y\", function(d) { console.log(d);return y(d[vm.yKey]); })\n    // .attr(\"height\", function(d) { console.log(d);return height - y(d[vm.yKey]); })\n    // .delay(function(d,i){console.log(i) ; return(i*100)})\n  //#endregion\n\n\n   function display () {\n     // debugger;\n        var xy = parseInt(d3.select(this).attr(\"x\")),\n            nx = xy + d3.event.dx,\n            w = parseInt(d3.select(this).attr(\"width\")),\n            f, nf, new_data, rects;\n\n          // console.log('xy'+xy)\n          // console.log('nx'+nx)\n          // console.log('w'+w)\n          // console.log('widht'+ width)\n          \n        if ( nx < 0 || nx + w > width) return;\n\n        d3.select(this).attr(\"x\", nx);\n\n        f = displayed(xy);\n        nf = displayed(nx);\n        // console.log('f'+f)\n        // console.log('nf'+nf)\n\n        if ( f === nf ) return;\n\n        new_data = vm.data.slice(nf, nf + numBars);\n\n        x.domain(new_data.map(function (d) { return d[vm.xKey]; }));\n\n        if(numBars > 8 ){\n          // xaxisforlargevalues();\n          svg.select(\"#xaxis\").call(d3.axisBottom(x))\n        .selectAll(\"#xaxis text\")\n          .attr(\"y\", 0)\n          .attr(\"x\", -10)\n          .attr(\"dy\", \".35em\")\n          .attr(\"transform\", \"rotate(-70)\")\n          .style(\"text-anchor\", \"end\");\n        } else {\n          // xaxisforsmallvalues();\n           svg.select(\"#xaxis\").call(d3.axisBottom(x))\n            d3.selectAll(\".tick text\")\n          .call(wrap, x.bandwidth())\n           function wrap(text, width) {\n            text.each(function() {\n              var text = d3.select(this),\n                  words = text.text().split(/\\s+/).reverse(),\n                  word,\n                  line = [],\n                  lineNumber = 0,\n                  lineHeight = 1.1, // ems\n                  y = text.attr(\"y\"),\n                  dy = parseFloat(text.attr(\"dy\")),\n                  tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n              while (word = words.pop()) {\n                line.push(word);\n                tspan.text(line.join(\" \"));\n                if (tspan.node().getComputedTextLength() > width) {\n                  line.pop();\n                  tspan.text(line.join(\" \"));\n                  line = [word];\n                  tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word)\n              \n                }\n              }\n            });\n          }\n        }\n        \n      // setTimeout(() => {\n        \n     \n        rects = svg.selectAll(\".bar-positive\")\n        .data(new_data, function (d) {return d[vm.xKey]; });\n          rects.attr(\"x\", function (d) { return x(d[vm.xKey]); });\n\n    // \t  rects.attr(\"transform\", function(d) { return \"translate(\" + xscale(d.label) + \",0)\"; })\n\n        rects.enter().append(\"rect\")\n        .attr(\"class\", \"bar-positive\")\n        .attr(\"id\", function(d, i) {\n            return  d[vm.xKey];\n          })\n        .attr(\"x\", function (d) { return x(d[vm.xKey]); })\n        .attr(\"y\", function (d) { return y(d[vm.yKey]); })\n        .attr(\"width\", x.bandwidth()/ 1.19)\n        .attr(\"height\", function (d) { return height - y(d[vm.yKey]); })\n        .on(\"mouseover\", function(d){\n              var x = d3.select(this).attr('id'),\n              n= vm.data.length,\n              yval\n              for(let i=0;  i < n; i++ ){\n                if(vm.data[i][vm.xKey] === x) {\n                  yval = vm.data[i][vm.yKey]\n                }\n              }\n                // console.log(vm.currency_key);\n                  tooltip\n                  .style(\"left\", event.pageX - 315 + \"px\")\n                  .style(\"top\", event.pageY - 170 + \"px\")\n                  .style(\"display\", \"inline-block\")\n                  // .html((vm.data[x][vm.yKey]) + \"<br>\"  + (vm.data[x][vm.xKey]));\n                  .html( x + \"<br>\"  + vm.currency_key + ' ' + ((Number.isInteger(yval))? yval : yval.toFixed(2)));\n              })\n              .on(\"mouseout\", function(d){\n                  tooltip.style(\"display\", \"none\");\n              });\n        rects.exit().remove();\n        //  }, 1000);\n    };\n\n    // d3.select('button#export').on('click', function() {\n    //   var config = {\n    //     filename: 'customFileName',\n    //   }\n    //   d3_save_pdf.save(d3.select('svg').node(), config);\n    //   svg\n    //   .append('g')\n    //   .append('image')\n    //   .attr('xlink:href', 'assets/test.png')\n    //   .attr(\"width\", 100)\n    //   .attr(\"height\", 100)\n    //   .attr(\"x\", (width / 2)  - 50)\n    //   .attr(\"y\", (height / 6) * 5);\n\n    // d3_save_pdf.embedRasterImages(svg.node())\n    // });\n\n  },\n}\n</script>\n\n<style>\n/* .tick line {\n  stroke: #1b139c;\n}\n .y.axis path {\n        display: none;\n    }\n    .y.axis .tick line {\n        display: none;\n    }\n  #xaxis path {\n        display: none;\n    }\n\n    #xaxis .tick line{\n        display: none;\n    }\n.bar-positive {\n   fill: #00C7E6;\n}\n\n.bar-positive:hover {\n  fill: rgb(105, 213, 209);;\n}\n\n.svg-container {\n  display: inline-block;\n  position: relative;\n  width: 100%;\n  padding-bottom: 1%;\n  vertical-align: top;\n  overflow: hidden;\n}\n.toolTip {\n  position: absolute;\n  display: none;\n  min-width: 80px;\n  height: auto;\n  background: none repeat scroll 0 0 #ffffff;\n  border: 1px solid rgba(130, 127, 127, 0.72);\n  padding: 14px;\n  text-align: center;\n  z-index: 1000;\n}\n.subBar { \n  fill: gray;\n  opacity: 0.11;\n}\nrect.mover {\n            stroke: red;\n            stroke-opacity: .1;\n            fill: #505050;\n            fill-opacity: .5;\n            border-radius: 45px;\n        } */\n</style>"]}]}