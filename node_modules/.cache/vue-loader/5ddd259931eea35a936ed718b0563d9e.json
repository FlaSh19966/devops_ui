{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/FileUploadBI.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/FileUploadBI.vue","mtime":1643027096172},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dfbG9hZGVyOiBmYWxzZSwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgY29sdW1uczogW10sCiAgICAgIG1ldHJpY3M6IFtdLAogICAgICBmaWxlX2xhYmVsOiAiQ2hvb3NlIGZpbGUiLAogICAgICBpc19maWxlX3VwbG9hZGVkOiBmYWxzZSwKICAgICAgbmV3Y29sdW1uczogW10sCiAgICAgIGlzY29sdW1uc25hbWVjaGFuZ2VkOiBmYWxzZSwKICAgICAgb2JqZWN0X25hbWU6ICIiLAogICAgICBtZXRyaWNzZGF0YTogIiIsCiAgICAgIGlzbWV0cmljc3NhdmVkOiBmYWxzZSwKICAgICAgZGF0YXNldF9uYW1lOiAiIiwKICAgICAgZmlsZTogbnVsbCwKICAgICAgbmV3Y29sdW1uc2NvbXBsZXRlOiBbXSwKICAgICAgY29sdW1uX2RldGFpbHM6IHt9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdlbmVyYXRlVVVJRCgpIHsKICAgICAgLy8gUHVibGljIERvbWFpbi9NSVQKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy9UaW1lc3RhbXAKICAgICAgdmFyIGQyID0KICAgICAgICAocGVyZm9ybWFuY2UgJiYgcGVyZm9ybWFuY2Uubm93ICYmIHBlcmZvcm1hbmNlLm5vdygpICogMTAwMCkgfHwgMDsgLy9UaW1lIGluIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgb3IgMCBpZiB1bnN1cHBvcnRlZAogICAgICByZXR1cm4gInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbigKICAgICAgICBjCiAgICAgICkgewogICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2OyAvL3JhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNgogICAgICAgIGlmIChkID4gMCkgewogICAgICAgICAgLy9Vc2UgdGltZXN0YW1wIHVudGlsIGRlcGxldGVkCiAgICAgICAgICByID0gKGQgKyByKSAlIDE2IHwgMDsKICAgICAgICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vVXNlIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgaWYgc3VwcG9ydGVkCiAgICAgICAgICByID0gKGQyICsgcikgJSAxNiB8IDA7CiAgICAgICAgICBkMiA9IE1hdGguZmxvb3IoZDIgLyAxNik7CiAgICAgICAgfQogICAgICAgIHJldHVybiAoYyA9PT0gIngiID8gciA6IChyICYgMHgzKSB8IDB4OCkudG9TdHJpbmcoMTYpOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0dmFsdWUoaW5kZXgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoCiAgICAgICAgImlucHV0IiArIGluZGV4CiAgICAgICkuZGlzYWJsZWQgPSAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0IiArIGluZGV4KS5kaXNhYmxlZDsKICAgIH0sCiAgICBnZXRGaWxlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZmlsZW5hbWUgPSAiIjsKICAgICAgbGV0IGZpbGVkYXRhID0gIiI7CiAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdGhpcy5maWxlX2xhYmVsID0gZmlsZS5uYW1lOwogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgaWYgKGZpbGUudHlwZSAhPSAidGV4dC9jc3YiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGV4dDogIk9ubHkgQ1NWIGZpbGVzIGNhbiBiZSB1cGxvYWRlZC4iLAogICAgICAgICAgdGltZXI6MjAwMCwKICAgICAgICB9KTsKICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIC8vIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgLy8gZmlsZW5hbWUgPSBmaWxlLm5hbWU7CiAgICAgICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgLy8gcmVhZGVyLm9ubG9hZHN0YXJ0ID0gKCkgPT4gewogICAgICAgIC8vICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgICAvLyB9OwogICAgICAgIC8vIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgLy8gICAvLyB0aGlzLiRyb290LiRlbWl0KCdzaG93X2xvYWRlcicsIHRydWUpOwogICAgICAgIC8vICAgZmlsZWRhdGEgPSByZWFkZXIucmVzdWx0LnNwbGl0KCJiYXNlNjQsIilbMV07CiAgICAgICAgLy8gfTsKICAgICAgICAvLyByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gewogICAgICAgIC8vICAgdmFyIHggPSBmaWxlZGF0YS5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICAgIC8vICAgdmFyIHRlbXBfdXVpZCA9ICIiOwogICAgICAgIC8vICAgdGVtcF91dWlkID0gdGhpcy5nZW5lcmF0ZVVVSUQoKTsKICAgICAgICAvLyAgIHZhciB1c2VyX2RldGFpbHMgPSB7CiAgICAgICAgLy8gICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgLy8gICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIC8vICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgLy8gICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgIC8vICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIC8vICAgICBpZGVtcG90ZW5jeV9rZXk6IHRlbXBfdXVpZCwKICAgICAgICAvLyAgICAgZGF0YXNldF9uYW1lOiB0aGlzLmRhdGFzZXRfbmFtZQogICAgICAgIC8vICAgfTsKICAgICAgICAvLyAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcl9kZXRhaWxzKTsKICAgICAgICAvLyAgIHZhciBibG9iID0gbmV3IEJsb2IoW2pzb25dLCB7CiAgICAgICAgLy8gICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIC8vICAgfSk7CiAgICAgICAgLy8gICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIC8vICAgZmQuYXBwZW5kKCJmaWxlIiwgZmlsZSwgZmlsZW5hbWUpOwogICAgICAgIC8vICAgZmQuYXBwZW5kKCJqc29uIiwgYmxvYik7CiAgICAgICAgLy8gICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgLy8gICBheGlvcwogICAgICAgIC8vICAgICAucG9zdChhcGlfY2FsbHMuYmlfdXBsb2FkX2ZpbGUoKSwgZmQpCiAgICAgICAgLy8gICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgLy8gICAgICAgICBmb3IgKAogICAgICAgIC8vICAgICAgICAgICBsZXQgaSA9IDA7CiAgICAgICAgLy8gICAgICAgICAgIGkgPCByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zLmxlbmd0aDsKICAgICAgICAvLyAgICAgICAgICAgaSsrCiAgICAgICAgLy8gICAgICAgICApIHsKICAgICAgICAvLyAgICAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2goewogICAgICAgIC8vICAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLmRhdGEuZmlsZV9kZXRhaWxzLmNvbHVtbnNbaV0sCiAgICAgICAgLy8gICAgICAgICAgICAgbmV3bmFtZTogcmVzcG9uc2UuZGF0YS5maWxlX2RldGFpbHMuY29sdW1uc1tpXQogICAgICAgIC8vICAgICAgICAgICB9KTsKICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgICAgIC8vICAgdGhpcy5jb2x1bW5zID0gcmVzcG9uc2UuZGF0YS5maWxlX2RldGFpbHMuY29sdW1uczsKICAgICAgICAvLyAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmlzX2ZpbGVfdXBsb2FkZWQgPSB0cnVlOwogICAgICAgIC8vICAgICAgICAgdGhpcy5vYmplY3RfbmFtZSA9IHJlc3BvbnNlLmRhdGEuZmlsZV9kZXRhaWxzLm9iamVjdF9uYW1lOwogICAgICAgIC8vICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAvLyAgICAgICAgICAgdGl0bGU6ICJGaWxlIFVwbG9hZGVkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgLy8gICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyAhPSAiU3VjY2VzcyIpIHsKICAgICAgICAvLyAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIC8vICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAvLyAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgLy8gICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gICAgICAgICAvLyAkcm91dGVyLmdvKCk7CiAgICAgICAgLy8gICAgICAgICAvLyB9LCAxMDAwKTsKICAgICAgICAvLyAgICAgICB9CiAgICAgICAgLy8gICAgIH0pCiAgICAgICAgLy8gICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgIC8vICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgLy8gICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAvLyAgICAgICBTd2FsLmZpcmUoewogICAgICAgIC8vICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgLy8gICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgLy8gICAgICAgfSk7CiAgICAgICAgLy8gICAgICAgLy8gY29uc29sZS5sb2coZXJyKTsKICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgLy8gfTsKICAgICAgfQogICAgICAvLyByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gewogICAgICAvLyAgIHRoaXMuJHJvb3QuJGVtaXQoJ2hpZGVfbG9hZGVyJywgdHJ1ZSk7CiAgICAgIC8vIH07CiAgICB9LAogICAgYWRkbWV0cmljdmFsdWUoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIC8vIGRlYnVnZ2VyOwogICAgICB0aGlzLm1ldHJpY3MucHVzaCh7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBvcGVyYXRpb246ICJudWxsIiwKICAgICAgICAvLyBjb2x1bW4xOiBudWxsLAogICAgICAgIC8vIGNvbHVtbjI6IG51bGwsCiAgICAgICAgY29sdW1uOiBudWxsLAogICAgICB9KTsKICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLm1ldHJpY3MpOwogICAgfSwKICAgIGRlbGV0ZWhlYWRlcih2YWx1ZWluZGV4KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHZhbHVlaW5kZXgsdGhpcy5zZWxlY3RlZG5vZGUpOwogICAgICB0aGlzLm1ldHJpY3Muc3BsaWNlKHZhbHVlaW5kZXgsIDEpOwogICAgICAvLyB0aGlzLnZhbHVlLnNwbGljZSh2YWx1ZWluZGV4LCAxKTsKICAgIH0sCiAgICBlZGl0Y29sdW1ucygpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgIHRleHQ6ICIgWW91IHdhbnQgdG8gRWRpdCB0aGUgQ29sdW1ucz8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIKICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIC8vIHRoaXMubmV3Y29sdW1ucyA9IHRoaXMuY29sdW1ucwogICAgICAgICAgdmFyIG5ld2NvbHVtbnNkYXRhID0gW107CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1ucy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBuZXdjb2x1bW5zZGF0YS5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB0aGlzLmNvbHVtbnNbaV0ubmFtZSwKICAgICAgICAgICAgICBuZXduYW1lOiB0aGlzLmNvbHVtbnNbaV0ubmV3bmFtZSwKICAgICAgICAgICAgICBkYXRhX3R5cGUgOiB0aGlzLmNvbHVtbnNbaV0uZGF0YV90eXBlLAogICAgICAgICAgICAgIGNvbHVtbl90eXBlOiAiTWV0cmljIiwKICAgICAgICAgICAgICBhZGRpdGl2ZTogZmFsc2UsCiAgICAgICAgICAgICAgYWdncmVnYXRpb246ICJTVU0iLAogICAgICAgICAgICAgIGhpZGRlbjpmYWxzZSwKICAgICAgICAgICAgICBubHBfc2VhcmNoX2VuYWJsZWQ6IGZhbHNlLAogICAgICAgICAgICAgIHN5bm9ueW1zOiAiIiwKICAgICAgICAgICAgICBpbmRleF90eXBlOiAiREVGQVVMVCIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdjb2x1bW5zZGF0YSk7CiAgICAgICAgICB2YXIgb2JqZWN0ID0gbmV3Y29sdW1uc2RhdGEucmVkdWNlKAogICAgICAgICAgICAob2JqLCBpdGVtKSA9PiBPYmplY3QuYXNzaWduKG9iaiwgeyBbaXRlbS5uYW1lXTogaXRlbS5uZXduYW1lIH0pLAogICAgICAgICAgICB7fQogICAgICAgICAgKTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG9iamVjdCk7CiAgICAgICAgICB0aGlzLm5ld2NvbHVtbnMgPSBvYmplY3Q7CiAgICAgICAgICB0aGlzLm5ld2NvbHVtbnNjb21wbGV0ZSA9IG5ld2NvbHVtbnNkYXRhOwogICAgICAgICAgdGhpcy5pc2NvbHVtbnNuYW1lY2hhbmdlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRtZXRyaWNzKCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIiBZb3Ugd2FudCB0byBhZGQgdGhlc2UgbWV0cmljcz8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIKICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMubWV0cmljc2RhdGEgPSBbXTsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZXRyaWNzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMubWV0cmljc2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogdGhpcy5tZXRyaWNzW2ldLm5hbWUsCiAgICAgICAgICAgICAgY29sdW1uOiB0aGlzLm1ldHJpY3NbaV0uY29sdW1uLAogICAgICAgICAgICAgIG9wZXJhdGlvbjogdGhpcy5tZXRyaWNzW2ldLm9wZXJhdGlvbiwKICAgICAgICAgICAgICAvLyBvbjogW3RoaXMubWV0cmljc1tpXS5jb2x1bW4xLCB0aGlzLm1ldHJpY3NbaV0uY29sdW1uMl0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmlzbWV0cmljc3NhdmVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5tZXRyaWNzZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpbmFsc2F2ZSgpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5uZXdjb2x1bW5zKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5tZXRyaWNzKTsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy5iaV9wcm9jZXNzX2RhdGEoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgb2JqZWN0X25hbWU6IHRoaXMub2JqZWN0X25hbWUsCiAgICAgICAgICBjb2x1bW5fcmVuYW1lX21hcHBpbmc6IHRoaXMubmV3Y29sdW1ucywKICAgICAgICAgIGRhdGFzZXRfbmFtZTogdGhpcy5kYXRhc2V0X25hbWUsCiAgICAgICAgICBtZXRyaWNzOiB0aGlzLm1ldHJpY3NkYXRhLAogICAgICAgICAgd29ya3NoZWV0X2RldGFpbHM6IHRoaXMuY29sdW1uX2RldGFpbHMKICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJEYXRhIFByb2Nlc3NlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aW1lcjoyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjoyNTAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB0aW1lcjoyNTAwLAogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIHVwbG9hZGZpbGUoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YXNldF9uYW1lKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5maWxlKTsKICAgICAgbGV0IGZpbGVuYW1lID0gIiI7CiAgICAgIGxldCBmaWxlZGF0YSA9ICIiOwogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICBmaWxlbmFtZSA9IHRoaXMuZmlsZS5uYW1lOwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGUpOwogICAgICByZWFkZXIub25sb2Fkc3RhcnQgPSAoKSA9PiB7CiAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgfTsKICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAvLyB0aGlzLiRyb290LiRlbWl0KCdzaG93X2xvYWRlcicsIHRydWUpOwogICAgICAgIGZpbGVkYXRhID0gcmVhZGVyLnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwogICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gewogICAgICAgIHZhciB4ID0gZmlsZWRhdGEuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgICB2YXIgdGVtcF91dWlkID0gIiI7CiAgICAgICAgdGVtcF91dWlkID0gdGhpcy5nZW5lcmF0ZVVVSUQoKTsKICAgICAgICB2YXIgdXNlcl9kZXRhaWxzID0gewogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgaWRlbXBvdGVuY3lfa2V5OiB0ZW1wX3V1aWQsCiAgICAgICAgICBkYXRhc2V0X25hbWU6IHRoaXMuZGF0YXNldF9uYW1lCiAgICAgICAgfTsKICAgICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHVzZXJfZGV0YWlscyk7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsKICAgICAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0pOwogICAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZmQuYXBwZW5kKCJmaWxlIiwgdGhpcy5maWxlLCBmaWxlbmFtZSk7CiAgICAgICAgZmQuYXBwZW5kKCJqc29uIiwgYmxvYik7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKGZkKTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmJpX3VwbG9hZF9maWxlKCksIGZkKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgZm9yICgKICAgICAgICAgICAgICAgIGxldCBpID0gMDsKICAgICAgICAgICAgICAgIGkgPCByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zLmxlbmd0aDsKICAgICAgICAgICAgICAgIGkrKwogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zW2ldLAogICAgICAgICAgICAgICAgICBuZXduYW1lOiByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zW2ldLAogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZm9yKGxldCBrPSAwOyBrPCB0aGlzLmNvbHVtbnMubGVuZ3RoOyBrICsrKXsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocmVzcG9uc2UuZGF0YS5maWxlX2RldGFpbHMuZGF0YV90eXBlcykpIHsKICAgICAgICAgICAgICAgICAgICBpZihrZXkgPT0gdGhpcy5jb2x1bW5zW2tdLm5hbWUpewogICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zW2tdLmRhdGFfdHlwZSA9ICB2YWx1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29sdW1ucyk7CiAgICAgICAgICAgICAgLy8gICB0aGlzLmNvbHVtbnMgPSByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zOwogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5pc19maWxlX3VwbG9hZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLm9iamVjdF9uYW1lID0gcmVzcG9uc2UuZGF0YS5maWxlX2RldGFpbHMub2JqZWN0X25hbWU7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiRmlsZSBVcGxvYWRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGltZXI6MjAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyAhPSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOjI1MDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8gJHJvdXRlci5nbygpOwogICAgICAgICAgICAgIC8vIH0sIDEwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjoyNTAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLCJ3RWVlZWUiKTsKICAgICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIHNhdmVfY29sdW1uX2RhdGEoKXsgCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubmV3Y29sdW1uc2NvbXBsZXRlKTsKICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiIFlvdSB3YW50IHRvIGFkZCB0aGVzZSB3b3Jrc2hlZXQgZGV0YWlscz8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIKICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgdmFyIGFycmF5ID0ge307IAogICAgICAgIHZhciB3b3Jrc2hlZXRfZGV0YWlscyA9IHt9OwogICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLm5ld2NvbHVtbnNjb21wbGV0ZS5sZW5ndGg7IGkrKyl7CiAgICAgICAgdmFyIHRlbXAgPSB0aGlzLm5ld2NvbHVtbnNjb21wbGV0ZVtpXTsKICAgICAgICB0ZW1wLnN5bm9ueW1zID0gdGVtcC5zeW5vbnltcy5yZXBsYWNlKC8sL2csICc+PicpOwogICAgICAgIHdvcmtzaGVldF9kZXRhaWxzW3RlbXAubmV3bmFtZV0gPSB7CiAgICAgICAgICAgICJkYXRhdHlwZSI6IGAke3RlbXAuZGF0YV90eXBlfWAsCiAgICAgICAgICAgICJjb2x1bW5fdHlwZSI6IGAke3RlbXAuY29sdW1uX3R5cGV9YCwKICAgICAgICAgICAgImFkZGl0aXZlIjogdGVtcC5hZGRpdGl2ZSwKICAgICAgICAgICAgImFnZ3JlZ2F0aW9uIjogYCR7dGVtcC5hZ2dyZWdhdGlvbn1gLAogICAgICAgICAgICAiaGlkZGVuIiA6IHRlbXAuaGlkZGVuLAogICAgICAgICAgICAibmxwX3NlYXJjaF9lbmFibGVkIjogdGVtcC5ubHBfc2VhcmNoX2VuYWJsZWQsCiAgICAgICAgICAgICJpbmRleF90eXBlIjogYCR7dGVtcC5pbmRleF90eXBlfWAsCiAgICAgICAgICAgICJzeW5vbnltcyI6IGAke3RlbXAuc3lub255bXN9YCwKICAgICAgICAgICAgImVudGl0eV9jYXRlZ29yeSI6YCR7dGVtcC5lbnRpdHlfY2F0ZWdvcnl9YAogICAgICAgICAgICB9CiAgICAgICAgdGVtcC5zeW5vbnltcyA9IHRlbXAuc3lub255bXMucmVwbGFjZSgvPj4gL2csICcsJyk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKHdvcmtzaGVldF9kZXRhaWxzKTsKICAgICAgICB0aGlzLmNvbHVtbl9kZXRhaWxzID0gT2JqZWN0LmFzc2lnbih3b3Jrc2hlZXRfZGV0YWlscyk7CiAgICAgIH0KICAgICAgfSk7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKHdvcmtzaGVldF9kZXRhaWxzKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvbHVtbl9kZXRhaWxzKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyB2YXIgY29sdW1ucyA9IFtdOwogICAgLy8gdmFyIHJlc3Bjb2x1bW5zID0gWyJUSUNLRVQiLCJVTklUUyIsIlBSSUNFIiwiUkVGRVJFTkNFIiwiQ09ERSIsIk5BTUUiLCJQUklDRUJVWSIsIlBSSUNFU0VMTCIsIkRBVEVORVciLCJQQVlNRU5UIiwiVE9UQUwiLCJUUkFOU0lEIiwiQ0FURUdPUlkiLCJTYWxlcyJdCiAgICAvLyB2YXIgZHR5cGVzID0geyJUSUNLRVQiOiJzdHIiLCJVTklUUyI6ImZsb2F0NjQiLCJQUklDRSI6ImZsb2F0NjQiLCJSRUZFUkVOQ0UiOiJpbnQ2NCIsIkNPREUiOiJmbG9hdDY0IiwiTkFNRSI6InN0ciIsIlBSSUNFQlVZIjoiZmxvYXQ2NCIsIlBSSUNFU0VMTCI6ImZsb2F0NjQiLCJEQVRFTkVXIjoic3RyIiwiUEFZTUVOVCI6InN0ciIsIlRPVEFMIjoiZmxvYXQ2NCIsIlRSQU5TSUQiOiJzdHIiLCJDQVRFR09SWSI6InN0ciIsIlNhbGVzIjoiZmxvYXQ2NCJ9CiAgICAvLyBmb3IgKGxldCBpID0gMDtpIDwgcmVzcGNvbHVtbnMubGVuZ3RoO2krKykgewogICAgLy8gICAgICAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2goewogICAgLy8gICAgICAgICAgICAgICBuYW1lOiByZXNwY29sdW1uc1tpXSwKICAgIC8vICAgICAgICAgICAgICAgbmV3bmFtZTogcmVzcGNvbHVtbnNbaV0KICAgIC8vICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICBmb3IobGV0IGs9IDA7IGs8IHRoaXMuY29sdW1ucy5sZW5ndGg7IGsgKyspewogICAgLy8gICAgICAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkdHlwZXMpKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgJHtrZXl9OiAke3ZhbHVlfSwgJHtjb2x1bW5zW2tdLm5hbWUgIH1gKTsKICAgIC8vICAgICAgICAgICAgICAgICBpZihrZXkgPT0gdGhpcy5jb2x1bW5zW2tdLm5hbWUpewogICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zW2tdLmRhdGFfdHlwZSA9ICB2YWx1ZQogICAgLy8gICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgdmFyIG5ld2NvbHVtbnNkYXRhID0gW107CiAgICAvLyAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1ucy5sZW5ndGg7IGkrKykgewogICAgLy8gICAgICAgICBuZXdjb2x1bW5zZGF0YS5wdXNoKHsKICAgIC8vICAgICAgICAgICBuYW1lOiB0aGlzLmNvbHVtbnNbaV0ubmFtZSwKICAgIC8vICAgICAgICAgICBuZXduYW1lOiB0aGlzLmNvbHVtbnNbaV0ubmV3bmFtZSwKICAgIC8vICAgICAgICAgICBkYXRhX3R5cGUgOiB0aGlzLmNvbHVtbnNbaV0uZGF0YV90eXBlLAogICAgLy8gICAgICAgICAgIGNvbHVtbl90eXBlOiAiTWV0cmljIiwKICAgIC8vICAgICAgICAgICBhZGRpdGl2ZTogZmFsc2UsCiAgICAvLyAgICAgICAgICAgYWdncmVnYXRpb246ICJTVU0iLAogICAgLy8gICAgICAgICAgIGhpZGRlbjpmYWxzZSwKICAgIC8vICAgICAgICAgICBubHBfc2VhcmNoX2VuYWJsZWQ6IGZhbHNlLAogICAgLy8gICAgICAgICAgIHN5bm9ueW1zOiAiIiwKICAgIC8vICAgICAgICAgICBpbmRleF90eXBlOiAiREVGQVVMVCIsCiAgICAvLyAgICAgICAgICAgZW50aXR5X2NhdGVnb3J5OiAiUEVSU09OIiwKICAgIC8vICAgICAgICAgICBjdXJyZW5jeV9mb3JtYXQ6ICJOT05FIiwKICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdjb2x1bW5zZGF0YSk7CiAgICAvLyAgICAgICB2YXIgb2JqZWN0ID0gbmV3Y29sdW1uc2RhdGEucmVkdWNlKAogICAgLy8gICAgICAgICAob2JqLCBpdGVtKSA9PiBPYmplY3QuYXNzaWduKG9iaiwgeyBbaXRlbS5uYW1lXTogaXRlbS5uZXduYW1lIH0pLAogICAgLy8gICAgICAgICB7fQogICAgLy8gICAgICAgKTsKICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKG9iamVjdCk7CiAgICAvLyAgICAgICB0aGlzLm5ld2NvbHVtbnMgPSBvYmplY3Q7CiAgICAvLyAgICAgICB0aGlzLm5ld2NvbHVtbnNjb21wbGV0ZSA9IG5ld2NvbHVtbnNkYXRhOwogICAgLy8gICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm5ld2NvbHVtbnNjb21wbGV0ZSk7CiAgfQp9Owo="},{"version":3,"sources":["FileUploadBI.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FileUploadBI.vue","sourceRoot":"src/portal/Chatbot/Dashboard","sourcesContent":["<template>\n  <div class=\"dash-cont\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"container-fluid\">\n      <div class=\"card dash-card\">\n        <div class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\">\n          <h4 class=\"mb-sm-0\">Upload and Process File</h4>\n        </div>\n        <div class=\"card-body\">\n          <!-- <div class=\"col-md-3\" style=\"padding: 0.3rem;\">\n            <div class=\"custom-file\">\n              <form id=\"filedata\">\n                <input\n                  @change=\"getFile($event)\"\n                  accept=\".csv\"\n                  type=\"file\"\n                  class=\"custom-file-input\"\n                  id=\"inputGroupFile01\"\n                />\n                <label\n                  class=\"custom-file-label\"\n                  for=\"inputGroupFile01\"\n                  placeholder=\"Choose File\"\n                >Click Here</label>\n              </form>\n            </div>\n          </div>-->\n          <div class=\"table-box\">\n            <div class=\"table-responsive\">\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <div>\n                      <form id=\"filedata\" @submit=\"uploadfile\">\n                        <!-- <a\n                      class=\"btn btn-primaryy border-0\"\n                      data-toggle=\"collapse\"\n                      href=\"#collapseExample\"\n                      role=\"button\"\n                      aria-expanded=\"false\"\n                      aria-controls=\"collapseExample\"\n                      style=\"display:flex;color: black;padding-left: 0px;\"\n                        >-->\n                        <i\n                          class=\"fa fa-chevron-down rotate\"\n                          style=\"margin-right:15px; margin-top:1%\"\n                        ></i>\n                        <b>Upload File</b>\n                        <!-- </a> -->\n                        <div\n                          id=\"collapseExample\"\n                          class=\"col-md-12\"\n                          style=\"padding: 0.3rem;display:flex\"\n                        >\n                          <div class=\"custom-file col-md-6\">\n                            <input\n                              @change=\"getFile($event)\"\n                              accept=\".csv\"\n                              type=\"file\"\n                              class=\"custom-file-input\"\n                              id=\"inputGroupFile01\"\n                            />\n                            <label\n                              class=\"custom-file-label\"\n                              for=\"inputGroupFile01\"\n                              placeholder=\"Choose File\"\n                            >{{file_label}}</label>\n                          </div>\n                          <div class=\"col-md-6\" style=\"display:flex\">\n                            <label style=\"padding-left:10px\">Name of Dataset</label>\n                            <input\n                              id=\"dataset_name\"\n                              type=\"text\"\n                              v-model=\"dataset_name\"\n                              style=\"padding-left:8px;margin-left: 3%;height: 40px !important;\"\n                              class=\"form-control\"\n                              required\n                            />\n                          </div>\n                          <!-- <div class=\"col-md-2\" style=\"display:flex\">\n                            <button\n                              style=\"height:40px\"\n                              class=\"btn btn-primary\"\n                              type=\"submit\"\n                            >Upload File</button>\n                          </div> -->\n                        </div>\n                        <div class=\"col-md-3\" style=\"margin-top:1%\">\n                            <button\n                              style=\"height:40px\"\n                              class=\"darkblue-btn\"\n                              type=\"submit\"\n                            >Upload File</button>\n                          </div>\n                      </form>\n                    </div>\n                  </tr>\n                  <tr v-if=\"is_file_uploaded\">\n                    <table class=\"table\">\n                      <!-- <thead></thead>\n                      <tbody></tbody>-->\n                      <tr>\n                        <!-- <a\n                          class=\"btn btn-primaryy border-0\"\n                          data-toggle=\"collapse\"\n                          href=\"#collapseExamples__1\"\n                          role=\"button\"\n                          aria-expanded=\"false\"\n                          aria-controls=\"collapseExamples__1\"\n                          style=\"display:flex;color: black;padding-left: 0px;\"\n                        >-->\n                        <i\n                          class=\"fa fa-chevron-down rotate\"\n                          style=\"margin-right:15px; margin-top:1%\"\n                        ></i>\n                        <b>Change Column Names</b>\n                        <!-- </a> -->\n                        <div id=\"collapseExamples__1\" class=\"col-md-12\">\n                          <form @submit=\"editcolumns()\">\n                            <div\n                              style=\"display:flex\"\n                              v-for=\"(column,index) in columns \"\n                              :key=\"index\"\n                              class=\"col-md-12\"\n                            >\n                              <label>Original Name</label>\n                              <input\n                                class=\"form-control\"\n                                v-model=\"column.name\"\n                                disabled\n                                type=\"text\"\n                                style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                              />\n                              <label style=\"padding-left:9px;\">New Name</label>\n                              <input\n                                class=\"form-control\"\n                                :id=\"'input'+index\"\n                                v-model=\"column.newname\"\n                                disabled\n                                type=\"text\"\n                                style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                              />\n                              <a @click=\"editvalue(index)\" style=\"padding-left:10px;\">\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  width=\"15.392\"\n                                  height=\"15.392\"\n                                >\n                                  <path\n                                    id=\"square-edit-outline\"\n                                    d=\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\"\n                                    transform=\"translate(-3 -3)\"\n                                    fill=\"#9499ae\"\n                                  />\n                                </svg>\n                              </a>\n                            </div>\n                            <button type=\"submit\" class=\"darkblue-btn\">Save</button>\n                          </form>\n                        </div>\n                      </tr>\n                    </table>\n                  </tr>\n                  <tr v-if=\"is_file_uploaded && iscolumnsnamechanged\">\n                    <table class=\"table\">\n                      <!-- <thead></thead>\n                      <tbody></tbody>-->\n                      <tr>\n                        <!-- <a\n                          class=\"btn btn-primaryy border-0\"\n                          data-toggle=\"collapse\"\n                          href=\"#collapseExamples__2\"\n                          role=\"button\"\n                          aria-expanded=\"false\"\n                          aria-controls=\"collapseExamples__2\"\n                          style=\"display:flex;color: black;padding-left: 0px;\"\n                        >-->\n                        <i\n                          class=\"fa fa-chevron-down rotate\"\n                          style=\"margin-right:15px; margin-top:1%\"\n                        ></i>\n                        <b>Define Column Metrics</b>\n                        <button\n                          class=\"save_node_button\"\n                          @click=\"addmetricvalue()\"\n                          style=\"height: 29px;padding-top: 0px;padding-left: 10px;padding-right: 10px;padding-bottom: 0px;margin-left:15px;float: none;\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"14\"\n                            height=\"13.997\"\n                            viewBox=\"0 0 14 13.997\"\n                          >\n                            <path\n                              id=\"Union_13\"\n                              data-name=\"Union 13\"\n                              d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                              transform=\"translate(12690.001 -2045.002)\"\n                              fill=\"#fff\"\n                            />\n                          </svg>\n                        </button>\n                        <!-- </a> -->\n\n                        <!-- <form id=\"test\"> -->\n                        <div\n                          class=\"col-md-12\"\n                          style=\"display: flex;margin-top: 2%;\"\n                          v-for=\"(metric,index) in metrics\"\n                          :key=\"index\"\n                        >\n                          <div class=\"col-md-2\">\n                            <label>Name</label>\n                            <input\n                              type=\"text\"\n                              class=\"form-control\"\n                              style=\"height: 40px !important;padding-left:12px;\"\n                              v-model=\"metric.name\"\n                              required\n                            />\n                          </div>\n                          <div class=\"col-md-2\">\n                            <label>Operation</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.operation\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <!-- <option disabled value=\"null\" selected>---Select Operation---</option> -->\n                              <option value=\"SUM\" selected>SUMMATION</option>\n                              <option value=\"AVG\">AVERAGE</option>\n                              <option value=\"COUNT\">COUNT</option>\n                              <option value=\"NUNIQUE\">NUNIQUE</option>\n                            </select>\n                          </div>\n                          <div class=\"col-md-3\">\n                            <label>Column</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.column\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <option\n                                v-for=\"(column, index) in newcolumns\"\n                                :value=\"column\"\n                                :key=\"index\"\n                              >{{column}}</option>\n                            </select>\n\n                            <!-- <label>To be Performed On:</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.column1\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <option\n                                v-for=\"(column, index) in newcolumns\"\n                                :value=\"column\"\n                                :key=\"index\"\n                              >{{column}}</option>\n                            </select> -->\n                          </div>\n                          <div class=\"col-md-3\">\n                            <!-- <label>With</label>\n                            <select\n                              type=\"text\"\n                              class=\"form-control\"\n                              v-model=\"metric.column2\"\n                              required\n                              style=\"padding-left:12px;margin-left: 3%;height: 40px !important;\"\n                            >\n                              <option\n                                v-for=\"(column, index) in newcolumns\"\n                                :value=\"column\"\n                                :key=\"index\"\n                              >{{column}}</option>\n                            </select> -->\n\n                            <!-- </div> -->\n                          </div>\n                          <div class=\"col-md-1\">\n                            <button\n                              class=\"save_node_button\"\n                              style=\"margin-top:60%;margin-left: 3%;height: 39px;padding-top: 0px;padding-left: 10px;padding-right: 10px;padding-bottom: 0px;background: #F23D3D;border: solid 1px #F23D3D;\"\n                              @click=\"deleteheader(index)\"\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                width=\"14\"\n                                height=\"14\"\n                                viewBox=\"0 0 14 14\"\n                              >\n                                <path\n                                  id=\"trash-can-outline\"\n                                  d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                                  transform=\"translate(-4 -3)\"\n                                  fill=\"#fff\"\n                                />\n                              </svg>\n                            </button>\n                          </div>\n                        </div>\n                        <button\n                          v-if=\"metrics.length > 0\"\n                          @click=\"addmetrics()\"\n                          class=\"darkblue-btn\"\n                          style=\"margin-top:1%\"\n                        >Save</button>\n                        <!-- </form> -->\n                        <!-- <div id=\"collapseExamples__2\" class=\"col-md-8 collapse\">\n                          <div style=\"display:flex\" v-for=\"(column,index) in columns \" :key=\"index\">\n                            <label>Original Name</label>\n                            <input class=\"form-control\" type=\"text\" />\n                            <label>New Name</label>\n                            <input class=\"form-control\" type=\"text\" />\n                          </div>\n                        </div>-->\n                      </tr>\n                    </table>\n                  </tr>\n                   <tr v-if=\"is_file_uploaded && iscolumnsnamechanged && ismetricssaved\">\n                     <!-- <tr> -->\n                      <i\n                      class=\"fa fa-chevron-down rotate\"\n                      style=\"margin-right:15px; margin-top:1%\"\n                      ></i>\n                      <b>Define Worksheet Details</b>\n                     <table class=\"table\" style=\"border-bottom: 1px solid #dbe2e8;\">\n                       <tr style=\"text-align:center\">\n                         <td>COLUMN NAME</td>\n                         <!-- <td>DESCRIPTION</td> -->\n                         <td>DATA TYPE</td>\n                         <td>COLUMN TYPE</td>\n                         <td>AGGREGATION</td>\n                         <td>INDEX TYPE</td>\n                         <td>ENTITY CATEGORY</td>\n                         <td>ADDITIVE</td>\n                         <td>HIDDEN</td>\n                         <td>NLP SEARCH ENABLED</td>\n                         <td>SYNONYMS</td>\n                       </tr>\n                       <tr v-for=\"(column,index) in newcolumnscomplete \"\n                          :key=\"index\">\n                        <td style=\"width:12%\"> {{column.newname}} </td>\n                        <td style=\"width:7%\"> {{column.data_type}} </td>\n                        <td style=\"width:10%\">\n                          <!-- <div class=\"form-group select-id-to\" style=\"margin:0\"> -->\n                            <select\n                              class=\"form-control\"\n                              :id=\"'to_'+index\"\n                              v-model=\"column.column_type\"\n                              style=\"padding:0\"\n                            >\n                              <option value=\"Metric\">Metric</option>\n                              <option value=\"Attribute\">Attribute</option>\n                            </select>\n                          <!-- </div> -->\n                        </td>\n                        \n                        <td style=\"width:1%\">\n                          <!-- <div class=\"form-group select-id-to\" style=\"margin:0\"> -->\n                           <select\n                              class=\"form-control\"\n                              :id=\"'aggregation'+index\"\n                              v-model=\"column.aggregation\"\n                              style=\"padding:0\"\n                            >\n                              <option value=\"SUM\">SUM</option>\n                              <option value=\"AVG\">AVG</option>\n                            </select>\n                          <!-- </div> -->\n                        </td>\n                        <td style=\"width:14%\">\n                          <select\n                           v-model=\"column.index_type\"\n                           class=\"form-control\"\n                           style=\"padding:0\">\n                            <option value=\"NOT INDEXED\">NOT INDEXED</option>\n                            <option value=\"DEFAULT\">DEFAULT</option>\n                          </select>\n                        </td>\n                        <td style=\"width:14%\">\n                          <select\n                           v-model=\"column.entity_category\"\n                           class=\"form-control\"\n                           style=\"padding:0\">\n                            <option value=\"PERSON\">PERSON</option>\n                            <option value=\"PLACE\">PLACE</option>\n                            <option value=\"TIME\">TIME</option>\n                            <option value=\"PRODUCT\">PRODUCT\t</option>\n                            <option value=\"ZIP_CODE\">ZIP_CODE</option>\n                            <option value=\"LAT_LONG\">LAT_LONG</option>\n                            <option value=\"COMPANY_ORG\">COMPANY_ORG</option>\n                            <option value=\"NUM_TYPES\">NUM_TYPES</option>\n                          </select>\n                        </td>\n                        <td style=\"width:6%;text-align:center\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"column.additive\" >\n                            <span class=\"slider round\" style=\"border-radius: 50px;\"></span>\n                        </label>  \n                        </td>\n                         <!-- </td> -->\n                        <td style=\"width:6%;text-align:center\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"column.hidden\" >\n                            <span class=\"slider round\" style=\"border-radius: 50px;\">\n                            </span>\n                        </label>  \n                        </td>\n                        <td style=\"width:10%;text-align:center\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"column.nlp_search_enabled\" >\n                            <span class=\"slider round\" style=\"border-radius: 50px;\"></span>\n                        </label>  \n                        </td>\n                        <td style=\"width:15%\"> \n                        <input \n                          class=\"form-control\" \n                          type=\"text\" \n                          placeholder=\"Type to edit\"\n                          v-model=\"column.synonyms\"\n                          style=\"height: 40px !important;padding-left:12px;\"\n                          >  \n                        </td>\n                        \n                        \n                       </tr>\n                     </table>\n                        <button\n                          @click=\"save_column_data()\"\n                          class=\"darkblue-btn\"\n                        >Save Column Details</button>\n                   </tr>\n                </thead>\n                <tbody>\n                  <button\n                    style=\"margin-top:1%\"\n                    v-if=\"is_file_uploaded && iscolumnsnamechanged && ismetricssaved\"\n                    @click=\"finalsave()\"\n                    class=\"darkblue-btn\"\n                  >Final Save</button>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nexport default {\n  data() {\n    return {\n      show_loader: false,\n      spinnerOn: false,\n      columns: [],\n      metrics: [],\n      file_label: \"Choose file\",\n      is_file_uploaded: false,\n      newcolumns: [],\n      iscolumnsnamechanged: false,\n      object_name: \"\",\n      metricsdata: \"\",\n      ismetricssaved: false,\n      dataset_name: \"\",\n      file: null,\n      newcolumnscomplete: [],\n      column_details: {},\n    };\n  },\n  methods: {\n    generateUUID() {\n      // Public Domain/MIT\n      var d = new Date().getTime(); //Timestamp\n      var d2 =\n        (performance && performance.now && performance.now() * 1000) || 0; //Time in microseconds since page-load or 0 if unsupported\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(\n        c\n      ) {\n        var r = Math.random() * 16; //random number between 0 and 16\n        if (d > 0) {\n          //Use timestamp until depleted\n          r = (d + r) % 16 | 0;\n          d = Math.floor(d / 16);\n        } else {\n          //Use microseconds since page-load if supported\n          r = (d2 + r) % 16 | 0;\n          d2 = Math.floor(d2 / 16);\n        }\n        return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n      });\n    },\n    editvalue(index) {\n      document.getElementById(\n        \"input\" + index\n      ).disabled = !document.getElementById(\"input\" + index).disabled;\n    },\n    getFile(e) {\n      e.preventDefault();\n      let filename = \"\";\n      let filedata = \"\";\n      const file = e.target.files[0];\n      this.file_label = file.name;\n      console.log(file);\n      if (file.type != \"text/csv\") {\n        Swal({\n          type: \"error\",\n          text: \"Only CSV files can be uploaded.\",\n          timer:2000,\n        });\n        this.file_label = \"Choose file\";\n      } else {\n        this.file = e.target.files[0];\n        // const reader = new FileReader();\n        // filename = file.name;\n        // reader.readAsDataURL(file);\n        // reader.onloadstart = () => {\n        //   // this.$root.$emit('show_loader', true);\n        // };\n        // reader.onload = () => {\n        //   // this.$root.$emit('show_loader', true);\n        //   filedata = reader.result.split(\"base64,\")[1];\n        // };\n        // reader.onloadend = () => {\n        //   var x = filedata.split(\"base64,\")[1];\n        //   var temp_uuid = \"\";\n        //   temp_uuid = this.generateUUID();\n        //   var user_details = {\n        //     email: this.$session.get(\"UserInformation\").email,\n        //     token: this.$session.get(\"UserInformation\").tokens,\n        //     company_name: this.$session.get(\"UserInformation\").company_name,\n        //     company_id: this.$session.get(\"UserInformation\").company_id,\n        //     license_key: this.$session.get(\"UserInformation\").license_key,\n        //     idempotency_key: temp_uuid,\n        //     dataset_name: this.dataset_name\n        //   };\n        //   var json = JSON.stringify(user_details);\n        //   var blob = new Blob([json], {\n        //     type: \"application/json\"\n        //   });\n        //   const fd = new FormData();\n        //   fd.append(\"file\", file, filename);\n        //   fd.append(\"json\", blob);\n        //   this.spinnerOn = true;\n        //   axios\n        //     .post(api_calls.bi_upload_file(), fd)\n        //     .then(response => {\n        //       if (response.data.status == \"Success\") {\n        //         for (\n        //           let i = 0;\n        //           i < response.data.file_details.columns.length;\n        //           i++\n        //         ) {\n        //           this.columns.push({\n        //             name: response.data.file_details.columns[i],\n        //             newname: response.data.file_details.columns[i]\n        //           });\n        //         }\n        //         //   this.columns = response.data.file_details.columns;\n        //         this.spinnerOn = false;\n        //         this.is_file_uploaded = true;\n        //         this.object_name = response.data.file_details.object_name;\n        //         Swal.fire({\n        //           title: \"File Uploaded Successfully\",\n        //           type: \"success\"\n        //         });\n        //       } else if (response.data.status != \"Success\") {\n        //         this.file_label = \"Choose file\";\n        //         this.spinnerOn = false;\n        //         Swal.fire({\n        //           title: \"Some Error Occurred, Please Try Again!\",\n        //           type: \"error\"\n        //         });\n        //         // setTimeout(() => {\n        //         // $router.go();\n        //         // }, 1000);\n        //       }\n        //     })\n        //     .catch(err => {\n        //       this.file_label = \"Choose file\";\n        //       this.spinnerOn = false;\n        //       Swal.fire({\n        //         title: \"Some Error Occurred, Please Try Again!\",\n        //         type: \"error\"\n        //       });\n        //       // console.log(err);\n        //     });\n        // };\n      }\n      // reader.onloadend = () => {\n      //   this.$root.$emit('hide_loader', true);\n      // };\n    },\n    addmetricvalue() {\n      event.preventDefault();\n      // debugger;\n      this.metrics.push({\n        name: null,\n        operation: \"null\",\n        // column1: null,\n        // column2: null,\n        column: null,\n      });\n      //   console.log(this.metrics);\n    },\n    deleteheader(valueindex) {\n      // console.log(valueindex,this.selectednode);\n      this.metrics.splice(valueindex, 1);\n      // this.value.splice(valueindex, 1);\n    },\n    editcolumns() {\n      event.preventDefault();\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \" You want to Edit the Columns?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\"\n      }).then(result => {\n        if (result.value) {\n          // this.newcolumns = this.columns\n          var newcolumnsdata = [];\n          for (let i = 0; i < this.columns.length; i++) {\n            newcolumnsdata.push({\n              name: this.columns[i].name,\n              newname: this.columns[i].newname,\n              data_type : this.columns[i].data_type,\n              column_type: \"Metric\",\n              additive: false,\n              aggregation: \"SUM\",\n              hidden:false,\n              nlp_search_enabled: false,\n              synonyms: \"\",\n              index_type: \"DEFAULT\"\n            });\n          }\n          // console.log(newcolumnsdata);\n          var object = newcolumnsdata.reduce(\n            (obj, item) => Object.assign(obj, { [item.name]: item.newname }),\n            {}\n          );\n          // console.log(object);\n          this.newcolumns = object;\n          this.newcolumnscomplete = newcolumnsdata;\n          this.iscolumnsnamechanged = true;\n        }\n      });\n    },\n    addmetrics() {\n      event.preventDefault();\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \" You want to add these metrics?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\"\n      }).then(result => {\n        if (result.value) {\n          this.metricsdata = [];\n          for (let i = 0; i < this.metrics.length; i++) {\n            this.metricsdata.push({\n              name: this.metrics[i].name,\n              column: this.metrics[i].column,\n              operation: this.metrics[i].operation,\n              // on: [this.metrics[i].column1, this.metrics[i].column2]\n            });\n          }\n          this.ismetricssaved = true;\n        }\n        // console.log(this.metricsdata);\n      });\n    },\n    finalsave() {\n      // console.log(this.newcolumns);\n      // console.log(this.metrics);\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.bi_process_data(), {\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          company_id: this.$session.get(\"UserInformation\").company_id,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          object_name: this.object_name,\n          column_rename_mapping: this.newcolumns,\n          dataset_name: this.dataset_name,\n          metrics: this.metricsdata,\n          worksheet_details: this.column_details\n        })\n        .then(response => {\n          this.spinnerOn = false;\n          if (response.data.status == \"Success\") {\n            Swal.fire({\n              title: \"Data Processed Successfully\",\n              type: \"success\",\n              timer:2000,\n            });\n          } else {\n            Swal.fire({\n              title: \"Some Error Occurred, Please Try Again!\",\n              type: \"error\",\n              timer:2500,\n            });\n          }\n          console.log(response);\n        })\n        .catch(err => {\n          this.spinnerOn = false;\n          Swal.fire({\n            title: \"Some Error Occurred, Please Try Again!\",\n            type: \"error\",\n            timer:2500,\n          });\n          console.log(err);\n        });\n    },\n    uploadfile() {\n      event.preventDefault();\n      // console.log(this.dataset_name);\n      // console.log(this.file);\n      let filename = \"\";\n      let filedata = \"\";\n      const reader = new FileReader();\n      filename = this.file.name;\n      reader.readAsDataURL(this.file);\n      reader.onloadstart = () => {\n        // this.$root.$emit('show_loader', true);\n      };\n      reader.onload = () => {\n        // this.$root.$emit('show_loader', true);\n        filedata = reader.result.split(\"base64,\")[1];\n      };\n      reader.onloadend = () => {\n        var x = filedata.split(\"base64,\")[1];\n        var temp_uuid = \"\";\n        temp_uuid = this.generateUUID();\n        var user_details = {\n          email: this.$session.get(\"UserInformation\").email,\n          token: this.$session.get(\"UserInformation\").tokens,\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          company_id: this.$session.get(\"UserInformation\").company_id,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          idempotency_key: temp_uuid,\n          dataset_name: this.dataset_name\n        };\n        var json = JSON.stringify(user_details);\n        var blob = new Blob([json], {\n          type: \"application/json\"\n        });\n        const fd = new FormData();\n        fd.append(\"file\", this.file, filename);\n        fd.append(\"json\", blob);\n        this.spinnerOn = true;\n        console.log(fd);\n        axios\n          .post(api_calls.bi_upload_file(), fd)\n          .then(response => {\n            if (response.data.status == \"Success\") {\n              for (\n                let i = 0;\n                i < response.data.file_details.columns.length;\n                i++\n              ) {\n                this.columns.push({\n                  name: response.data.file_details.columns[i],\n                  newname: response.data.file_details.columns[i],\n                  \n                });\n              \n              }\n                  for(let k= 0; k< this.columns.length; k ++){\n                    for (let [key, value] of Object.entries(response.data.file_details.data_types)) {\n                    if(key == this.columns[k].name){\n                      this.columns[k].data_type =  value\n                    }\n                    }\n                  }\n                // console.log(this.columns);\n              //   this.columns = response.data.file_details.columns;\n              this.spinnerOn = false;\n              this.is_file_uploaded = true;\n              this.object_name = response.data.file_details.object_name;\n              Swal.fire({\n                title: \"File Uploaded Successfully\",\n                type: \"success\",\n                timer:2000,\n              });\n            } else if (response.data.status != \"Success\") {\n              this.file_label = \"Choose file\";\n              this.spinnerOn = false;\n              Swal.fire({\n                title: \"Some Error Occurred, Please Try Again!\",\n                type: \"error\",\n                timer:2500,\n              });\n              // setTimeout(() => {\n              // $router.go();\n              // }, 1000);\n            }\n          })\n          .catch(err => {\n            this.file_label = \"Choose file\";\n            this.spinnerOn = false;\n            Swal.fire({\n              title: \"Some Error Occurred, Please Try Again!\",\n              type: \"error\",\n              timer:2500,\n            });\n            console.log(err,\"wEeeee\");\n          });\n      };\n    },\n    save_column_data(){ \n      // console.log(this.newcolumnscomplete);\n       Swal.fire({\n        title: \"Are you sure?\",\n        text: \" You want to add these worksheet details?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\"\n      }).then(result => {\n      if (result.value) {\n        var array = {}; \n        var worksheet_details = {};\n        for(let i = 0; i < this.newcolumnscomplete.length; i++){\n        var temp = this.newcolumnscomplete[i];\n        temp.synonyms = temp.synonyms.replace(/,/g, '>>');\n        worksheet_details[temp.newname] = {\n            \"datatype\": `${temp.data_type}`,\n            \"column_type\": `${temp.column_type}`,\n            \"additive\": temp.additive,\n            \"aggregation\": `${temp.aggregation}`,\n            \"hidden\" : temp.hidden,\n            \"nlp_search_enabled\": temp.nlp_search_enabled,\n            \"index_type\": `${temp.index_type}`,\n            \"synonyms\": `${temp.synonyms}`,\n            \"entity_category\":`${temp.entity_category}`\n            }\n        temp.synonyms = temp.synonyms.replace(/>> /g, ',');\n        }\n        console.log(worksheet_details);\n        this.column_details = Object.assign(worksheet_details);\n      }\n      });\n\n        // console.log(worksheet_details);\n        // console.log(this.column_details);\n    }\n  },\n  mounted() {\n    // var columns = [];\n    // var respcolumns = [\"TICKET\",\"UNITS\",\"PRICE\",\"REFERENCE\",\"CODE\",\"NAME\",\"PRICEBUY\",\"PRICESELL\",\"DATENEW\",\"PAYMENT\",\"TOTAL\",\"TRANSID\",\"CATEGORY\",\"Sales\"]\n    // var dtypes = {\"TICKET\":\"str\",\"UNITS\":\"float64\",\"PRICE\":\"float64\",\"REFERENCE\":\"int64\",\"CODE\":\"float64\",\"NAME\":\"str\",\"PRICEBUY\":\"float64\",\"PRICESELL\":\"float64\",\"DATENEW\":\"str\",\"PAYMENT\":\"str\",\"TOTAL\":\"float64\",\"TRANSID\":\"str\",\"CATEGORY\":\"str\",\"Sales\":\"float64\"}\n    // for (let i = 0;i < respcolumns.length;i++) {\n    //             this.columns.push({\n    //               name: respcolumns[i],\n    //               newname: respcolumns[i]\n    //             });\n    //           }\n    //     for(let k= 0; k< this.columns.length; k ++){\n    //                 for (let [key, value] of Object.entries(dtypes)) {\n    //                   // console.log(`${key}: ${value}, ${columns[k].name  }`);\n    //                 if(key == this.columns[k].name){\n    //                   this.columns[k].data_type =  value\n    //                 }\n    //                 }\n    //               }\n    //               var newcolumnsdata = [];\n    //       for (let i = 0; i < this.columns.length; i++) {\n    //         newcolumnsdata.push({\n    //           name: this.columns[i].name,\n    //           newname: this.columns[i].newname,\n    //           data_type : this.columns[i].data_type,\n    //           column_type: \"Metric\",\n    //           additive: false,\n    //           aggregation: \"SUM\",\n    //           hidden:false,\n    //           nlp_search_enabled: false,\n    //           synonyms: \"\",\n    //           index_type: \"DEFAULT\",\n    //           entity_category: \"PERSON\",\n    //           currency_format: \"NONE\",\n    //         });\n    //       }\n    //       // console.log(newcolumnsdata);\n    //       var object = newcolumnsdata.reduce(\n    //         (obj, item) => Object.assign(obj, { [item.name]: item.newname }),\n    //         {}\n    //       );\n    //       // console.log(object);\n    //       this.newcolumns = object;\n    //       this.newcolumnscomplete = newcolumnsdata;\n    //               // console.log(this.newcolumnscomplete);\n  }\n};\n</script>\n<style scoped>\n.table td,\n.table th {\n  padding: 0.5rem !important;\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 36px;\n  height: 20px;\n  /* margin-left: 10px; */\n}\n\n.switch input { \n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 12px;\n  width: 12px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: #2196F3;\n  border-radius: 20px;\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px #2196F3;\n  border-radius: 20px;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(17px);\n}\n\nRounded sliders\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n\n</style>"]}]}