{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/conference/components/VideoCallPageLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/conference/components/VideoCallPageLayout.vue","mtime":1643027096124},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAnYWRhcHRlcic7CmltcG9ydCBDdXN0b21Gb290ZXIgZnJvbSAnLi9DdXN0b21Gb290ZXIudnVlJzsKaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAncGhvZW5peC1zb2NrZXQnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBsb2NhbHZpZGVvU3RyZWFtOiBudWxsLAogICAgICB2aWRlb1NlbmRlcjogbnVsbCwKICAgICAgYXVkaW9TZW5kZXI6IG51bGwsCiAgICAgIGxvY2Fsc2NyZWVuU3RyZWFtOiBudWxsLAogICAgICB2aWRlb19jYWxsX3JlY2VpdmVyX2xpc3Q6IFt7IHZpZGVvOiAxLCBmZWVkSWQ6IDAgfV0sCiAgICAgIGxvY2FsQ29ubmVjdGlvbjogbnVsbCwKICAgICAgcmVtb3RlQ29ubmVjdGlvbjoge30sCiAgICAgIGphbnVzQ29ubmVjdGlvbjogbnVsbCwKICAgICAgcGhvZW5peENvbm5lY3Rpb246IG51bGwsCiAgICAgIHNlc3Npb25DaGFubmVsOiBudWxsLAogICAgICByb29tQ2hhbm5lbDogbnVsbCwKICAgICAgc2Vzc2lvbklkOiBudWxsLAogICAgICBoYW5kbGVJZDogbnVsbCwKICAgICAgcm9vbUlkOiBudWxsLAogICAgICByb29tX2pvaW5lZDogZmFsc2UsCiAgICAgIGZlZWRJZDogbnVsbCwKICAgICAgQ09ORklHOiB7CiAgICAgICAgYXVkaW86IHRydWUsCiAgICAgICAgdmlkZW86IHRydWUsCiAgICAgICAgaWNlU2VydmVyczogWwogICAgICAgICAgewogICAgICAgICAgICB1cmxzOiBwcm9jZXNzLmVudi5WVUVfQVBQX1RVUk5fU0VSVkVSX0VORF9QT0lOVCwKICAgICAgICAgICAgdXNlcm5hbWU6ICd1c2VybmFtZTEnLAogICAgICAgICAgICBjcmVkZW50aWFsOiAncGFzc3dvcmQxJywKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgcHJvY2Vzc19pZDogbnVsbCwKICAgICAgc2Vzc2lvbl9wcm9jZXNzX2lkOiBudWxsLAogICAgICByb29tX2NyZWF0b3I6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQ3VzdG9tRm9vdGVyLAogIH0sCiAgLyogZXNsaW50LWRpc2FibGUqLwogIG1ldGhvZHM6IHsKICAgIGhhbmd1cEFjdGlvbiAoKSB7CiAgICAgIC8vIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3VucHVibGlzaC1mZWVkJywgewogICAgICAvLyAgIHVucHVibGlzaF9mZWVkOiB0cnVlLAogICAgICAvLyAgIHBpZDogdGhpcy5wcm9jZXNzX2lkCiAgICAgIC8vIH0pCiAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2xlYXZlLWZlZWQnLCB7CiAgICAgICAgbGVhdmVfZmVlZDogdHJ1ZSwKICAgICAgICBwaWQ6IHRoaXMucHJvY2Vzc19pZAogICAgICB9KQogICAgfSwKICAgIGludml0ZV91c2VyICgpIHsKICAgICAgd2luZG93LmxvY2FsQ29ubmVjdGlvbkRhdGEgPSB7CiAgICAgICAgbG9jYWxDb25uZWN0aW9uOiB0aGlzLmxvY2FsQ29ubmVjdGlvbiwKICAgICAgICB2aWRlb1NlbmRlcjogdGhpcy52aWRlb1NlbmRlciwKICAgICAgICBhdWRpb1NlbmRlcjogdGhpcy5hdWRpb1NlbmRlciwKICAgICAgICBzY3JlZW5TdHJlYW06IHRoaXMubG9jYWxzY3JlZW5TdHJlYW0KICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0ludml0YXRpb24nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcm9vbUlkOiB0aGlzLnJvb21JZCwKICAgICAgICAgIGZlZWRJZDogdGhpcy5mZWVkSWQKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgc2xpZGVDb2xvckNoYW5nZSAoKSB7CiAgICAgIGNvbnN0IHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW9jYWxsc2xpZGVyJykudmFsdWU7CiAgICAgIGNvbnN0IGNvbG9yID0gYGxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiKDM5LCA2MCwgMTI1KSAke3h9JSwgcmdiKDQxLCAzOCwgMzgpICR7eH0lKWA7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlb2NhbGxzbGlkZXInKS5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3I7CiAgICB9LAogICAgdmlkZW9fZHJhZ19zdGFydGVkICgpIHsKCiAgICB9LAogICAgc2hhcmVfdmlkZW8gKCkgewogICAgICB2YXIgY2FtVmlkZW9UcmFjayA9IHRoaXMubG9jYWx2aWRlb1N0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdOwogICAgICBjYW1WaWRlb1RyYWNrLmVuYWJsZWQgPSB0cnVlCiAgICAgIHRoaXMudmlkZW9TZW5kZXIucmVwbGFjZVRyYWNrKGNhbVZpZGVvVHJhY2spCiAgICB9LAogICAgc2hhcmVfc2NyZWVuICgpIHsKICAgICAgdmFyIGRpc3BsYXlNZWRpYU9wdGlvbnMgPSB7CiAgICAgICAgdmlkZW86IHsKICAgICAgICAgIGN1cnNvcjogImFsd2F5cyIKICAgICAgICB9LAogICAgICAgIGF1ZGlvOiBmYWxzZQogICAgICB9OwogICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShkaXNwbGF5TWVkaWFPcHRpb25zKQogICAgICAgIC50aGVuKHN0cmVhbSA9PiB7CiAgICAgICAgICB0aGlzLmxvY2Fsc2NyZWVuU3RyZWFtID0gc3RyZWFtOwogICAgICAgICAgdmFyIHNjcmVlblZpZGVvVHJhY2sgPSB0aGlzLmxvY2Fsc2NyZWVuU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07CiAgICAgICAgICBzY3JlZW5WaWRlb1RyYWNrLm9uZW5kZWQgPSAoKSA9PiB7CiAgICAgICAgICAgIHZhciBsb2NhbFZpZGVvVHJhY2sgPSB0aGlzLmxvY2FsdmlkZW9TdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTsKICAgICAgICAgICAgdGhpcy52aWRlb1NlbmRlci5yZXBsYWNlVHJhY2sobG9jYWxWaWRlb1RyYWNrKQogICAgICAgICAgfQogICAgICAgICAgdGhpcy52aWRlb1NlbmRlci5yZXBsYWNlVHJhY2soc2NyZWVuVmlkZW9UcmFjaykKICAgICAgICB9KQogICAgfSwKICAgIGNyZWF0ZV9zZXNzaW9uICgpIHsKICAgICAgdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvY3JlYXRlLXNlc3Npb24nLCB7CiAgICAgICAgY3JlYXRlX25ld19zZXNzaW9uOiB0cnVlLAogICAgICAgIGNyZWF0ZV9yb29tOiB0aGlzLnJvb21JZCA9PT0gbnVsbCA/IHRydWUgOiBmYWxzZSwKICAgICAgICBqb2luX2FzX3B1Ymxpc2hlcjogdHJ1ZQogICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gIk9rIikgewogICAgICAgICAgdGhpcy5zZXNzaW9uSWQgPSBkYXRhLm1lc3NhZ2Uuc2Vzc2lvbl9pZAogICAgICAgICAgdGhpcy5oYW5kbGVJZCA9IGRhdGEubWVzc2FnZS5wbHVnaW5faWQKICAgICAgICAgIHRoaXMucHJvY2Vzc19pZCA9IGRhdGEubWVzc2FnZS5waWQKICAgICAgICAgIHRoaXMuc2Vzc2lvbl9wcm9jZXNzX2lkID0gZGF0YS5tZXNzYWdlLnNpZAogICAgICAgICAgaWYgKGRhdGEubWVzc2FnZS5yb29tX2lkKSB7CiAgICAgICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5tZXNzYWdlLnJvb21faWQKICAgICAgICAgICAgdGhpcy5yb29tX2NyZWF0b3IgPSB0cnVlCiAgICAgICAgICB9CgogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXNzaW9uSWQiLCB0aGlzLnNlc3Npb25JZCkKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaGFuZGxlSWQiLCB0aGlzLmhhbmRsZUlkKQogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXNzaW9uX3BpZCIsIHRoaXMuc2Vzc2lvbl9wcm9jZXNzX2lkKQogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJoYW5kbGVfcGlkIiwgdGhpcy5wcm9jZXNzX2lkKQogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tSWQiLCB0aGlzLnJvb21JZCkKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicm9vbV9jcmVhdG9yIiwgdGhpcy5yb29tX2NyZWF0b3IpCiAgICAgICAgICB0aGlzLmluaXRpYWxpemVfd2Vic29ja2V0cygpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHZlcmlmeV9zZXNzaW9uICgpIHsKICAgICAgdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvdmVyaWZ5LXN0YXRlJywgewogICAgICAgIHZlcmlmeV9zZXNzaW9uOiB0cnVlLAogICAgICAgIHNpZDogdGhpcy5zZXNzaW9uX3Byb2Nlc3NfaWQsCiAgICAgICAgcGlkOiB0aGlzLnByb2Nlc3NfaWQsCiAgICAgICAgcm9vbTogdGhpcy5yb29tSWQKICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gIk9rIikgewogICAgICAgICAgICB0aGlzLmluaXRpYWxpemVfd2Vic29ja2V0cygpCiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAiRXJyb3IiKSB7CiAgICAgICAgICAgIHRoaXMuZmVlZElkID0gbnVsbAogICAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlID09PSAiSW52YWxpZCBzZXNzaW9uIikgewogICAgICAgICAgICAgIHRoaXMucm9vbUlkID0gbnVsbAogICAgICAgICAgICAgIHRoaXMuY3JlYXRlX3Nlc3Npb24oKQogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubWVzc2FnZSA9PT0gIkludmFsaWQgaGFuZGxlIikgewogICAgICAgICAgICAgIHRoaXMuY3JlYXRlX2hhbmRsZSgncHVibGlzaCcpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlID09PSAiSW52YWxpZCByb29tIikgewogICAgICAgICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5uZXdfcm9vbQogICAgICAgICAgICAgIHRoaXMucm9vbV9jcmVhdG9yID0gdHJ1ZQogICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicm9vbUlkIiwgdGhpcy5yb29tSWQpCiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tX2NyZWF0b3IiLCB0aGlzLnJvb21fY3JlYXRvcikKICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVfd2Vic29ja2V0cygpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgfSwKICAgIGNyZWF0ZV9oYW5kbGUgKHR5cGUsIGZlZWRJZCkgewogICAgICBpZiAodHlwZSA9PT0gJ3N1YnNjcmliZScpIHsKICAgICAgICB0aGlzLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9jcmVhdGUtaGFuZGxlJywgewogICAgICAgICAgY3JlYXRlX2hhbmRsZTogdHJ1ZSwKICAgICAgICAgIGNyZWF0ZV9yb29tOiBmYWxzZSwKICAgICAgICAgIHBpZDogdGhpcy5zZXNzaW9uX3Byb2Nlc3NfaWQKICAgICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgdGhpcy5qb2luX2Jyb2FkY2FzdChmZWVkSWQsIGRhdGEucGlkKQogICAgICAgIH0pCiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3B1Ymxpc2gnKSB7CiAgICAgICAgdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvY3JlYXRlLWhhbmRsZScsIHsKICAgICAgICAgIGNyZWF0ZV9oYW5kbGU6IHRydWUsCiAgICAgICAgICBwaWQ6IHRoaXMuc2Vzc2lvbl9wcm9jZXNzX2lkLAogICAgICAgICAgY3JlYXRlX3Jvb206IHRydWUKICAgICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb20KICAgICAgICAgIHRoaXMucm9vbV9jcmVhdG9yID0gdHJ1ZQogICAgICAgICAgdGhpcy5wcm9jZXNzX2lkID0gZGF0YS5waWQKICAgICAgICAgIHRoaXMuaGFuZGxlSWQgPSBkYXRhLnBsdWdpbl9pZAogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tSWQiLCB0aGlzLnJvb21JZCkKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaGFuZGxlX3BpZCIsIHRoaXMucHJvY2Vzc19pZCkKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaGFuZGxlSWQiLCB0aGlzLmhhbmRsZUlkKQoKICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZV93ZWJzb2NrZXRzKCkKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgY3JlYXRlX2ZlZWQgKCkgewogICAgICB0aGlzLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9jcmVhdGUtZmVlZCcsIHsKICAgICAgICBjcmVhdGVfZmVlZDogdHJ1ZSwKICAgICAgICBwaWQ6IHRoaXMucHJvY2Vzc19pZCwKICAgICAgICByb29tX2lkOiB0aGlzLnJvb21JZCwKICAgICAgICBwdHlwZTogInB1Ymxpc2hlciIsCiAgICAgICAgZmVlZF9pZDogbnVsbAogICAgICB9KQogICAgfSwKICAgIGluaXRpYWxpemVfd2Vic29ja2V0cyAoKSB7CiAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwgPSB0aGlzLnBob2VuaXhDb25uZWN0aW9uLmNoYW5uZWwoYHNlc3Npb25faWQ6JHt0aGlzLnNlc3Npb25JZH1gKQogICAgICB0aGlzLnNlc3Npb25DaGFubmVsLmpvaW4oKQoKICAgICAgdGhpcy5zZXNzaW9uQ2hhbm5lbC5vbigiaW5pdGlhbGl6ZV9jb25mZXJlbmNlX25vdyIsICh7IGpvaW5lZCB9KSA9PiB7CiAgICAgICAgaWYgKGpvaW5lZCkgewogICAgICAgICAgdGhpcy5zZXNzaW9uQ2hhbm5lbC5vbigiZmVlZF9jcmVhdGVkIiwgKHsgZmVlZF9pZCB9KSA9PiB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiZmVlZElkIikKICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJmZWVkSWQiLCBmZWVkX2lkKQogICAgICAgICAgICB0aGlzLmZlZWRJZCA9IGZlZWRfaWQKICAgICAgICAgICAgdGhpcy5zdGFydF9icm9hZGNhc3QoKQogICAgICAgICAgfSkKCiAgICAgICAgICB0aGlzLnNlc3Npb25DaGFubmVsLm9uKCJzZXRfcmVtb3RlX2Rlc2NyaXB0aW9uIiwgKHsganNlcCB9KSA9PiB7CiAgICAgICAgICAgIHRoaXMubG9jYWxDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oanNlcCkpOwogICAgICAgICAgICB0aGlzLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9saXN0LXBhcnRpY2lwYW50cycsIHsKICAgICAgICAgICAgICBsaXN0X3BhcnRpY2lwYW50czogdHJ1ZSwKICAgICAgICAgICAgICBwaWQ6IHRoaXMucHJvY2Vzc19pZCwKICAgICAgICAgICAgICByb29tX2lkOiB0aGlzLnJvb21JZAogICAgICAgICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgICAgIGRhdGEucGFydGljaXBhbnRzX2xpc3QuZm9yRWFjaCgocGFydGljaXBhbnQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5pZCAhPT0gdGhpcy5mZWVkSWQpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5hZGRfdmlkZW9fZnJhbWUocGFydGljaXBhbnQuaWQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5yb29tQ2hhbm5lbC5wdXNoKCJuZXdfcHVibGlzaGVyX2pvaW5lZCIsIHsgZmVlZF9pZDogdGhpcy5mZWVkSWQsIHNlbmRlcjogdGhpcy5oYW5kbGVJZCB9KQogICAgICAgICAgICB9LCA1MDApCiAgICAgICAgICB9KQoKICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwub24oInVucHVibGlzaF9zdWNjZXNzZnVsIiwgKCkgPT4gewogICAgICAgICAgICBpZiAodGhpcy5yb29tX2NyZWF0b3IpIHsKICAgICAgICAgICAgICB0aGlzLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9kZXN0cm95LXJvb20nLCB7CiAgICAgICAgICAgICAgICBkZXN0cm95X3Jvb206IHRydWUsCiAgICAgICAgICAgICAgICBwaWQ6IHRoaXMucHJvY2Vzc19pZCwKICAgICAgICAgICAgICAgIHJvb206IHRoaXMucm9vbUlkCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmNsZWFyX2FsbF92aWRlb3MoKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQoKICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwub24oImZlZWRfbGVmdF9zdWNjZXNzZnVsbHkiLCAoeyBmZWVkX2lkIH0pID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMucm9vbV9jcmVhdG9yKSB7CiAgICAgICAgICAgICAgdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvZGVzdHJveS1yb29tJywgewogICAgICAgICAgICAgICAgZGVzdHJveV9yb29tOiB0cnVlLAogICAgICAgICAgICAgICAgcGlkOiB0aGlzLnByb2Nlc3NfaWQsCiAgICAgICAgICAgICAgICByb29tOiB0aGlzLnJvb21JZAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5jbGVhcl9hbGxfdmlkZW9zKCkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKCiAgICAgICAgICB0aGlzLnNlc3Npb25DaGFubmVsLm9uKCJjbG9zZV90aGlzX2ZlZWQiLCAoeyBmZWVkX2lkIH0pID0+IHsKICAgICAgICAgICAgdmFyIHRlbXBfcmVjZWl2ZXJzX2xpc3QgPSB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdAogICAgICAgICAgICBpZiAodGhpcy5yZW1vdGVDb25uZWN0aW9uW2ZlZWRfaWRdKSB7CiAgICAgICAgICAgICAgdGhpcy5yZW1vdGVDb25uZWN0aW9uW2ZlZWRfaWRdLmNsb3NlKCkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodGhpcy52aWRlb19jYWxsX3JlY2VpdmVyX2xpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgdGhpcy5jbGVhcl9hbGxfdmlkZW9zKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdCA9IHRlbXBfcmVjZWl2ZXJzX2xpc3QuZmlsdGVyKCh2aWRlbykgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHZpZGVvLmZlZWRJZCAhPT0gZmVlZF9pZAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCgogICAgICAgICAgdmFyIHZtID0gdGhpcwogICAgICAgICAgdGhpcy5zZXNzaW9uQ2hhbm5lbC5vbigiZmVlZF9qb2luZWQiLCAoeyBmZWVkX2lkLCBqc2VwLCBwaWQgfSkgPT4gewogICAgICAgICAgICB0aGlzLnJlbW90ZUNvbm5lY3Rpb25bZmVlZF9pZF0uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihqc2VwKSk7CiAgICAgICAgICAgIHRoaXMucmVtb3RlQ29ubmVjdGlvbltmZWVkX2lkXS5jcmVhdGVBbnN3ZXIoKS50aGVuKGZ1bmN0aW9uIChhbnN3ZXIpIHsKICAgICAgICAgICAgICB2bS5yZW1vdGVDb25uZWN0aW9uW2ZlZWRfaWRdLnNldExvY2FsRGVzY3JpcHRpb24oYW5zd2VyKTsKICAgICAgICAgICAgICB2bS4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvc3Vic2NyaWJlLWZlZWQnLCB7CiAgICAgICAgICAgICAgICBzdWJzY3JpYmVfZmVlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBpZDogcGlkLAogICAgICAgICAgICAgICAgcm9vbV9pZDogdm0ucm9vbUlkLAogICAgICAgICAgICAgICAgZmVlZF9pZDogZmVlZF9pZCwKICAgICAgICAgICAgICAgIGpzZXA6IGFuc3dlcgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwub24oInJvb21fY3JlYXRlZCIsICh7IHJvb21faWQgfSkgPT4gewogICAgICAgICAgICB0aGlzLnJvb21JZCA9IHJvb21faWQKICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tSWQiLCB0aGlzLnJvb21JZCkKICAgICAgICAgIH0pCgogICAgICAgICAgdGhpcy5yb29tQ2hhbm5lbCA9IHRoaXMucGhvZW5peENvbm5lY3Rpb24uY2hhbm5lbChgcm9vbV9pZDoke3RoaXMucm9vbUlkfWAsIHsKICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uSWQKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLnJvb21DaGFubmVsLmpvaW4oKQoKICAgICAgICAgIHRoaXMucm9vbUNoYW5uZWwub24oImluaXRpYWxpemVfcm9vbV9ub3ciLCAoeyBqb2luZWQgfSkgPT4gewogICAgICAgICAgICBpZiAoQm9vbGVhbihqb2luZWQpICYmICF0aGlzLnJvb21fam9pbmVkKSB7CiAgICAgICAgICAgICAgdGhpcy5yb29tX2pvaW5lZCA9IHRydWUKICAgICAgICAgICAgICBpZiAoIXRoaXMuZmVlZElkKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZV9mZWVkKCkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRyb3V0ZS5wYXJhbXMuY2xlYXJfZ2xvYmFsX3ZhcmlhYmxlcykgewogICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X2Jyb2FkY2FzdCgnZmVlZF9hbHJlYWR5X2V4aXN0cycpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLnJvb21DaGFubmVsLm9uKCJhZGRfdGhpc19mZWVkIiwgKHsgZmVlZF9pZCwgc2VuZGVyIH0pID0+IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmZlZWRJZCAmJiBmZWVkX2lkICE9PSB0aGlzLmZlZWRJZCAmJiBzZW5kZXIgIT0gdGhpcy5oYW5kbGVJZCkgewogICAgICAgICAgICAgICAgICB0aGlzLmFkZF92aWRlb19mcmFtZShmZWVkX2lkKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHRoaXMucm9vbUNoYW5uZWwub24oInJvb21fZGVzdHJveWVkIiwgKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5jbGVhcl9hbGxfdmlkZW9zKCkKICAgICAgICAgICAgICAgIHRoaXMucm9vbUlkID0gbnVsbAogICAgICAgICAgICAgICAgdGhpcy5mZWVkSWQgPSBudWxsCiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rfd2Vic29ja2V0cygpCiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb29tX2NyZWF0b3IpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVfc2Vzc2lvbigpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKCgogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBhZGRfdmlkZW9fZnJhbWUgKGZlZWRJZCkgewogICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZW1vdGVWaWRlbyR7ZmVlZElkfWApKSB7CiAgICAgICAgaWYgKHRoaXMudmlkZW9fY2FsbF9yZWNlaXZlcl9saXN0Lmxlbmd0aCA9PT0gMSAmJiB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdFswXS5mZWVkSWQgPT09IDApIHsKICAgICAgICAgIHRoaXMudmlkZW9fY2FsbF9yZWNlaXZlcl9saXN0WzBdLmZlZWRJZCA9IGZlZWRJZAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdC5wdXNoKHsKICAgICAgICAgICAgdmlkZW86IDEsCiAgICAgICAgICAgIGZlZWRJZDogZmVlZElkCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMucmVtb3RlQ29ubmVjdGlvbltmZWVkSWRdKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZV9oYW5kbGUoJ3N1YnNjcmliZScsIGZlZWRJZCkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcl9hbGxfdmlkZW9zICgpIHsKICAgICAgdmFyIGxvY2FsX3JlY2VpdmVyc19saXN0ID0gdGhpcy52aWRlb19jYWxsX3JlY2VpdmVyX2xpc3QKICAgICAgbG9jYWxfcmVjZWl2ZXJzX2xpc3QuZm9yRWFjaCgodmlkZW8sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKHRoaXMucmVtb3RlQ29ubmVjdGlvblt2aWRlby5mZWVkSWRdKSB7CiAgICAgICAgICB0aGlzLnJlbW90ZUNvbm5lY3Rpb25bdmlkZW8uZmVlZElkXS5jbG9zZSgpCiAgICAgICAgfQogICAgICB9KQoKICAgICAgdGhpcy52aWRlb19jYWxsX3JlY2VpdmVyX2xpc3QgPSB0aGlzLiRvcHRpb25zLmRhdGEoKS52aWRlb19jYWxsX3JlY2VpdmVyX2xpc3QKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgY29uc3QgcmVtb3RlVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlVmlkZW8wJyk7CiAgICAgICAgcmVtb3RlVmlkZW8ucGF1c2UoKQogICAgICAgIHJlbW90ZVZpZGVvLnNyY09iamVjdC5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHsKICAgICAgICAgIHRyYWNrLnN0b3AoKQogICAgICAgICAgcmVtb3RlVmlkZW8uc3JjT2JqZWN0LnJlbW92ZVRyYWNrKHRyYWNrKQogICAgICAgIH0pCiAgICAgICAgcmVtb3RlVmlkZW8ubG9hZCgpCiAgICAgIH0sIDUwMCkKICAgICAgdGhpcy5yZW1vdGVDb25uZWN0aW9uID0ge30KICAgIH0sCiAgICBzdGFydF9icm9hZGNhc3QgKG1zZykgewogICAgICB2YXIgdm0gPSB0aGlzCiAgICAgIGlmICghdGhpcy5hdWRpb1NlbmRlcikgewogICAgICAgIHZhciBjYW1BdWRpb1RyYWNrID0gdGhpcy5sb2NhbHZpZGVvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07CiAgICAgICAgdGhpcy5hdWRpb1NlbmRlciA9IHRoaXMubG9jYWxDb25uZWN0aW9uLmFkZFRyYWNrKGNhbUF1ZGlvVHJhY2ssIHRoaXMubG9jYWx2aWRlb1N0cmVhbSk7CiAgICAgICAgdmFyIGNhbVZpZGVvVHJhY2sgPSB0aGlzLmxvY2FsdmlkZW9TdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTsKICAgICAgICB0aGlzLnZpZGVvU2VuZGVyID0gdGhpcy5sb2NhbENvbm5lY3Rpb24uYWRkVHJhY2soY2FtVmlkZW9UcmFjaywgdGhpcy5sb2NhbHZpZGVvU3RyZWFtKTsKICAgICAgICBjYW1WaWRlb1RyYWNrLmVuYWJsZWQgPSBmYWxzZQogICAgICB9CgogICAgICB0aGlzLmxvY2FsQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLnRoZW4oZnVuY3Rpb24gKG9mZmVyKSB7CiAgICAgICAgdm0ubG9jYWxDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpOwogICAgICAgIGlmIChtc2cgPT09ICdmZWVkX2FscmVhZHlfZXhpc3RzJykgewogICAgICAgICAgdm0uJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2NvbmZpZ3VyZS1mZWVkJywgewogICAgICAgICAgICBqb2luX2ZlZWQ6IHRydWUsCiAgICAgICAgICAgIHBpZDogdm0ucHJvY2Vzc19pZCwKICAgICAgICAgICAgcm9vbV9pZDogdm0ucm9vbUlkLAogICAgICAgICAgICBqc2VwOiBvZmZlcgogICAgICAgICAgfSkudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9wdWJsaXNoLWZlZWQnLCB7CiAgICAgICAgICAgIGpvaW5fZmVlZDogdHJ1ZSwKICAgICAgICAgICAgcGlkOiB2bS5wcm9jZXNzX2lkLAogICAgICAgICAgICByb29tX2lkOiB2bS5yb29tSWQsCiAgICAgICAgICAgIGpzZXA6IG9mZmVyCiAgICAgICAgICB9KS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uX2ljZV9jYW5kaWRhdGUgKGV2ZW50KSB7CiAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3RyaWNrbGUnLCB7CiAgICAgICAgcGlkOiB0aGlzLnByb2Nlc3NfaWQsCiAgICAgICAgZXZlbnQ6IGV2ZW50LmNhbmRpZGF0ZQogICAgICB9KQogICAgfSwKICAgIG9uX3RyYWNrIChldmVudCkgewogICAgICBjb25zdCBsb2NhbFZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2FsVmlkZW8nKTsKICAgICAgbG9jYWxWaWRlby5zcmNPYmplY3QgPSBldmVudC5zdHJlYW1zWzBdOwogICAgfSwKICAgIGpvaW5fYnJvYWRjYXN0IChmZWVkSWQsIHBpZCkgewogICAgICB0aGlzLnJlbW90ZUNvbm5lY3Rpb25bZmVlZElkXSA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih0aGlzLkNPTkZJRyk7CiAgICAgIHRoaXMucmVtb3RlQ29ubmVjdGlvbltmZWVkSWRdLm9uaWNlY2FuZGlkYXRlID0gKChldmVudCkgPT4gewogICAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3RyaWNrbGUnLCB7CiAgICAgICAgICBwaWQ6IHBpZCwKICAgICAgICAgIGV2ZW50OiBldmVudC5jYW5kaWRhdGUKICAgICAgICB9KQogICAgICB9KTsKICAgICAgdGhpcy5yZW1vdGVDb25uZWN0aW9uW2ZlZWRJZF0ub250cmFjayA9IChldmVudCkgPT4gewogICAgICAgIGNvbnN0IHJlbW90ZVZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlbW90ZVZpZGVvJHtmZWVkSWR9YCk7CiAgICAgICAgcmVtb3RlVmlkZW8uc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTsKICAgICAgfQogICAgICB0aGlzLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9jcmVhdGUtZmVlZCcsIHsKICAgICAgICBjcmVhdGVfZmVlZDogdHJ1ZSwKICAgICAgICBwaWQ6IHBpZCwKICAgICAgICByb29tX2lkOiB0aGlzLnJvb21JZCwKICAgICAgICBwdHlwZTogInN1YnNjcmliZXIiLAogICAgICAgIGZlZWRfaWQ6IGZlZWRJZAogICAgICB9KQogICAgfSwKICAgIGRpc3BsYXlfZW5kX2NhbGxfYnV0dG9uICgpIHsKICAgICAgdmFyIGF0dGVuZGVlcyA9IHRoaXMudmlkZW9fY2FsbF9yZWNlaXZlcl9saXN0LmZpbHRlcih2aWRlbyA9PiB2aWRlby5mZWVkSWQgIT09IDApCiAgICAgIHJldHVybiBhdHRlbmRlZXMubGVuZ3RoCiAgICB9LAogICAgZGlzY29ubmVjdF93ZWJzb2NrZXRzIChpc19kZXN0cm95KSB7CiAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwubGVhdmUoKQogICAgICB0aGlzLnJvb21DaGFubmVsLmxlYXZlKCkKICAgICAgdGhpcy5yb29tX2pvaW5lZCA9IGZhbHNlCiAgICAgIGlmIChpc19kZXN0cm95KSB7CiAgICAgICAgdGhpcy5waG9lbml4Q29ubmVjdGlvbi5kaXNjb25uZWN0KCkKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB2YXIgdm0gPSB0aGlzCiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh0aGlzLkNPTkZJRykudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgIGNvbnN0IGxvY2FsVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYWxWaWRlbycpOwogICAgICBsb2NhbFZpZGVvLnNyY09iamVjdCA9IHN0cmVhbS5jbG9uZSgpCiAgICAgIGlmICh2bS4kcm91dGUucGFyYW1zLmNsZWFyX2dsb2JhbF92YXJpYWJsZXMpIHsKICAgICAgICB2bS5sb2NhbENvbm5lY3Rpb24gPSB3aW5kb3cubG9jYWxDb25uZWN0aW9uRGF0YS5sb2NhbENvbm5lY3Rpb24KICAgICAgICB2bS52aWRlb1NlbmRlciA9IHdpbmRvdy5sb2NhbENvbm5lY3Rpb25EYXRhLnZpZGVvU2VuZGVyCiAgICAgICAgdm0uYXVkaW9TZW5kZXIgPSB3aW5kb3cubG9jYWxDb25uZWN0aW9uRGF0YS5hdWRpb1NlbmRlcgogICAgICAgIHZtLmxvY2Fsc2NyZWVuU3RyZWFtID0gd2luZG93LmxvY2FsQ29ubmVjdGlvbkRhdGEuc2NyZWVuU3RyZWFtCiAgICAgICAgd2luZG93LmxvY2FsQ29ubmVjdGlvbkRhdGEgPSBudWxsCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0ubG9jYWxDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHZtLkNPTkZJRyk7CiAgICAgIH0KCgogICAgICB2bS5sb2NhbENvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGUgPSB2bS5vbl9pY2VfY2FuZGlkYXRlOwogICAgICB2bS5sb2NhbENvbm5lY3Rpb24ub250cmFjayA9IHZtLm9uX3RyYWNrOwogICAgICB2bS5sb2NhbHZpZGVvU3RyZWFtID0gc3RyZWFtCgogICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzZXNzaW9uX3BpZCIpICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaGFuZGxlX3BpZCIpKSB7CiAgICAgICAgdm0uc2Vzc2lvbl9wcm9jZXNzX2lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzZXNzaW9uX3BpZCIpCiAgICAgICAgdm0ucHJvY2Vzc19pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaGFuZGxlX3BpZCIpCiAgICAgICAgdm0uc2Vzc2lvbklkID0gTnVtYmVyKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2Vzc2lvbklkIikpCiAgICAgICAgdm0ucm9vbUlkID0gTnVtYmVyKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicm9vbUlkIikpCiAgICAgICAgdm0uaGFuZGxlSWQgPSBOdW1iZXIod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJoYW5kbGVJZCIpKQogICAgICAgIHZtLmZlZWRJZCA9IE51bWJlcih3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImZlZWRJZCIpKQogICAgICAgIHZtLnJvb21fY3JlYXRvciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicm9vbV9jcmVhdG9yIikgPT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlCiAgICAgICAgdm0udmVyaWZ5X3Nlc3Npb24oKQogICAgICB9IGVsc2UgewogICAgICAgIHZtLmNyZWF0ZV9zZXNzaW9uKCkKICAgICAgfQogICAgfSk7CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMucGhvZW5peENvbm5lY3Rpb24gPSBuZXcgU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVklERU9fQ09ORkVSRU5DSU5HX1dFQlNPQ0tFVF9FTkRQT0lOVCwgeyBwYXJhbXM6IHsgdmlkZW9fc2Vzc2lvbjogdHJ1ZSB9IH0pCiAgICB0aGlzLnBob2VuaXhDb25uZWN0aW9uLmNvbm5lY3QoKQoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5yb29tSWQpIHsKICAgICAgdGhpcy5yb29tSWQgPSBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkucm9vbUlkKTsKICAgICAgdGhpcy5yb29tX2NyZWF0b3IgPSBmYWxzZQogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInJvb21JZCIsIHRoaXMucm9vbUlkKQogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInJvb21fY3JlYXRvciIsIGZhbHNlKQogICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMucm9vbUlkKSB7CiAgICAgIHRoaXMucm9vbUlkID0gdGhpcy4kcm91dGUucGFyYW1zLnJvb21JZDsKICAgICAgdGhpcy5mZWVkSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZmVlZElkOwogICAgfQoKICAgIHZhciB2bSA9IHRoaXMKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogICAgdGhpcy5kaXNjb25uZWN0X3dlYnNvY2tldHModHJ1ZSkKICB9Cn07Cg=="},null]}