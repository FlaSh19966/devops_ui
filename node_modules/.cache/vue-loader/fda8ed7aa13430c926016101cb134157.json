{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Integrations/Components/ShopifyDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Integrations/Components/ShopifyDetails.vue","mtime":1663910265470},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGJ1cyB9IGZyb20gIkAvcG9ydGFsL21haW4iOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IFN0ZXBQcm9ncmVzcyBmcm9tICJ2dWUtc3RlcC1wcm9ncmVzcyI7CmltcG9ydCAiQC9wb3J0YWwvYXNzZXRzL2Nzcy9zdGVwcHJvZ3Jlc3MuY3NzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2hvcGlmeURldGFpbHMiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiaWdfc3Bpbm5lcjogZmFsc2UsCiAgICAgIHdpZGdldF9jb2RlOiAiIiwKICAgICAgc2hvcGlmeV9zaG9wX25hbWU6ICIiLAogICAgICBzaG9waWZ5X3NlY3JldF9rZXk6ICIiLAogICAgICBzaG9waWZ5X2FwaV9rZXk6ICIiLAogICAgICBpc19zeW5jX2ZpbmlzaGVkOiBmYWxzZSwKICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgIHNob3BpZnlfZGV0YWlsc19zYXZlZDogZmFsc2UsCiAgICAgIHBlbmNpbF9zdmc6CiAgICAgICAgJyA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE1LjU0NiIgaGVpZ2h0PSIxNS40NjEiIHZpZXdCb3g9IjAgMCAxNS41NDYgMTUuNDYxIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojOWU5ZTllO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQ3Ljg4OCAtMzU2Ljc2OSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNNzU5LjQxNiwzNTYuNzY5YTIuMzU4LDIuMzU4LDAsMCwxLDEuNzc3LjY2MmMuNTM0LjUxMywxLjA3MiwxLjAyNSwxLjU2NywxLjU3NWEyLjMsMi4zLDAsMCwxLS4wNzEsMy4zMjVjLTIuNzM2LDIuNzYtNS40OTQsNS41LTguMjM4LDguMjUxYTEuMzgxLDEuMzgxLDAsMCwxLS43NTguMjg4Yy0uNzE5LjE3NC0xLjQyOS4zNzktMi4xNDQuNTcyLS45MzIuMjUxLTEuODYyLjUtMi43OTUuNzUxLS42LjE1OC0uOTg5LS4yMTMtLjgzMi0uODA3cS42ODktMi41OTUsMS40MDYtNS4xODJhMS4xNjQsMS4xNjQsMCwwLDEsLjI4OS0uNDg3cTQuMDkxLTQuMTA3LDguMi04LjJBMi4yNjUsMi4yNjUsMCwwLDEsNzU5LjQxNiwzNTYuNzY5Wm0tMS45ODksMi45NTYtNi41NCw2LjUzOCwzLjAyNSwzLjAyNCw2LjUzOC02LjUzN1ptNC4wMjMsMi4xNjVjLjExOC0uMTM1LjIyNS0uMjY5LjM0My0uMzkyYTEuMTM0LDEuMTM0LDAsMCwwLDAtMS43MzRjLS40Ni0uNDY2LS45MjYtLjkyNS0xLjM4OC0xLjM5YTEuMTY2LDEuMTY2LDAsMCwwLS44NjEtLjM2OGMtLjU3OCwwLS44ODEuNC0xLjIxNC43NlptLTEyLjA4NCw4Ljg2MywzLjItLjg2My0yLjMzNy0yLjMzMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDApIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik04MTMuOTQyLDQyMi42bC0uNzg5LS44LDMuODIxLTMuODE5Ljc4NC44WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5LjY0OCAtNTUuOTQ3KSIvPjwvZz48L3N2Zz4nLAogICAgICBzaG9waWZ5X3N5bmNfc3RlcHM6IFsKICAgICAgICAiR2F0aGVyaW5nIFByb2R1Y3RzIiwKICAgICAgICAiR2VuZXJhdGluZyBORVIgRGF0YSIsCiAgICAgICAgIkdlbmVyYXRpbmcgSW50ZW50IERhdGEiLAogICAgICAgICJDb252ZXJzYXRpb24gQm90IFRyYWluaW5nIiwKICAgICAgICAiQ29tcGxldGVkIiwKICAgICAgXSwKICAgICAgc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcDogMCwKICAgICAgcmVmcmVzaF9pY29uX3N2ZzoKICAgICAgICAnPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTguMjNweCIgaGVpZ2h0PSIxOC4yM3B4IiB2aWV3Qm94PSIwIDAgNTAwLjIzIDUwMC4yMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTg3LjIzIDQ4Ny4yMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxkZWZzPjxzdHlsZT4uYWJje2ZpbGw6IzllOWU5ZTt9PC9zdHlsZT48L2RlZnM+PGc+CTxnPgkJPHBhdGggY2xhc3M9ImFiYyIgZD0iTTU1LjMyMywyMDMuNjQxYzE1LjY2NCwwLDI5LjgxMy05LjQwNSwzNS44NzItMjMuODU0YzI1LjAxNy01OS42MDQsODMuODQyLTEwMS42MSwxNTIuNDItMTAxLjYxICAgIGMzNy43OTcsMCw3Mi40NDksMTIuOTU1LDEwMC4yMywzNC40NDJsLTIxLjc3NSwzLjM3MWMtNy40MzgsMS4xNTMtMTMuMjI0LDcuMDU0LTE0LjIzMiwxNC41MTIgICAgYy0xLjAxLDcuNDU0LDMuMDA4LDE0LjY4Niw5Ljg2NywxNy43NjhsMTE5Ljc0Niw1My44NzJjNS4yNDksMi4zNTcsMTEuMzMsMS45MDQsMTYuMTY4LTEuMjA1ICAgIGM0LjgzLTMuMTE0LDcuNzY0LTguNDU4LDcuNzk2LTE0LjIwOGwwLjYyMS0xMzEuOTQzYzAuMDQyLTcuNTA2LTQuODUxLTE0LjE0NC0xMi4wMjQtMTYuMzMyICAgIGMtNy4xODUtMi4xODgtMTQuOTQ3LDAuNTg5LTE5LjEwNCw2LjgzN2wtMTYuNTA1LDI0LjgwNUMzNzAuMzk4LDI2Ljc3OCwzMTAuMSwwLDI0My42MTUsMEMxNDIuODA2LDAsNTYuMTMzLDYxLjU2MiwxOS4xNjcsMTQ5LjA2ICAgIGMtNS4xMzQsMTIuMTI4LTMuODQsMjYuMDE1LDMuNDI5LDM2Ljk4N0MyOS44NjUsMTk3LjAyMyw0Mi4xNTIsMjAzLjY0MSw1NS4zMjMsMjAzLjY0MXoiLz4JCTxwYXRoICBjbGFzcz0iYWJjIiBkPSJNNDY0LjYzNSwzMDEuMTg0Yy03LjI3LTEwLjk3Ny0xOS41NTgtMTcuNTk0LTMyLjcyOC0xNy41OTRjLTE1LjY2NCwwLTI5LjgxMyw5LjQwNS0zNS44NzIsMjMuODU0ICAgIGMtMjUuMDE4LDU5LjYwNC04My44NDMsMTAxLjYxLTE1Mi40MiwxMDEuNjFjLTM3Ljc5OCwwLTcyLjQ1LTEyLjk1NS0xMDAuMjMyLTM0LjQ0MmwyMS43NzYtMy4zNjkgICAgYzcuNDM3LTEuMTUzLDEzLjIyMy03LjA1NSwxNC4yMzMtMTQuNTE0YzEuMDA5LTcuNDUzLTMuMDA4LTE0LjY4Ni05Ljg2Ny0xNy43NjhMNDkuNzc5LDI4NS4wODkgICAgYy01LjI1LTIuMzU2LTExLjMzLTEuOTA1LTE2LjE2OSwxLjIwNWMtNC44MjksMy4xMTQtNy43NjQsOC40NTgtNy43OTUsMTQuMjA3bC0wLjYyMiwxMzEuOTQzICAgIGMtMC4wNDIsNy41MDYsNC44NSwxNC4xNDQsMTIuMDI0LDE2LjMzMmM3LjE4NSwyLjE4OCwxNC45NDgtMC41OSwxOS4xMDQtNi44MzlsMTYuNTA1LTI0LjgwNSAgICBjNDQuMDA0LDQzLjMyLDEwNC4zMDMsNzAuMDk4LDE3MC43ODgsNzAuMDk4YzEwMC44MTEsMCwxODcuNDgxLTYxLjU2MSwyMjQuNDQ2LTE0OS4wNTkgICAgQzQ3My4xOTcsMzI2LjA0Myw0NzEuOTAzLDMxMi4xNTcsNDY0LjYzNSwzMDEuMTg0eiIvPgk8L2c+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjwvc3ZnPicsCiAgICAgIHNwaW5uZXJPblJlZnJlc2g6IGZhbHNlLAogICAgICBwcm9ncmVzc19wYXNzaXZlX2NvbG9yOiAiI2RiZGJkYiIsCiAgICAgIHJldGFpbF9ib3RfdGVtcGxhdGVfaWQ6IG51bGwsCiAgICAgIGlzX2ludGVncmF0ZWQ6IGZhbHNlLAogICAgICBpc19zaG9waWZ5X3B1YmxpY19hcHBfZm9yX2NvbXBhbnk6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGZyb21fc2V0dXA6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIHNob3BpZnlfZGV0YWlsc19zYXZlZCgpIHsKICAgICAgYnVzLiRlbWl0KCJzaG9waWZ5X2RldGFpbHNfc2F2ZWQiLCB0aGlzLnNob3BpZnlfZGV0YWlsc19zYXZlZCk7CiAgICB9LAogIH0sCiAgY29tcG9uZW50czogewogICAgInN0ZXAtcHJvZ3Jlc3MiOiBTdGVwUHJvZ3Jlc3MsCiAgfSwKICBjb21wdXRlZDogewogICAgc2V0dXBfY3NzKCkgewogICAgICBpZiAodGhpcy5mcm9tX3NldHVwID09IHRydWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgIi0tbW9kYWwtaGVhZC1tYXJnaW4tYm90dG9tIjogIjIwcHgiLAogICAgICAgICAgIi0tcHJvZ3Jlc3Mtc3luYy1tYXJnaW4tYm90dG9tIjogIjEwJSIsCiAgICAgICAgICAiLS1mb3JtLWNvbnRyb2wtcGFkZGluZy1sZWZ0IjogIjE1cHgiLAogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBzaG9waWZ5X3N0b3JlX2RldGFpbHNfdGV4dCgpIHsKICAgICAgaWYgKHRoaXMuc2hvcGlmeV9kZXRhaWxzX3NhdmVkKSB7CiAgICAgICAgcmV0dXJuICB0aGlzLnRsdCgnc2hvcGlmeV9kZXRhaWxzX3RleHRfc2F2ZWQnKTsKICAgICAgfSBlbHNlIGlmKCF0aGlzLnNob3BpZnlfZGV0YWlsc19zYXZlZCAmJiAhdGhpcy5pc19zaG9waWZ5X3B1YmxpY19hcHBfZm9yX2NvbXBhbnkpIHsKICAgICAgICByZXR1cm4gIHRoaXMudGx0KCdzaG9waWZ5X2RldGFpbHNfdGV4dCcpOwogICAgICB9IGVsc2UgaWYoIXRoaXMuc2hvcGlmeV9kZXRhaWxzX3NhdmVkICYmIHRoaXMuaXNfc2hvcGlmeV9wdWJsaWNfYXBwX2Zvcl9jb21wYW55KSB7CiAgICAgICAgcmV0dXJuICB0aGlzLnRsdCgnc2hvcGlmeV9kZXRhaWxzX3N0b3JlX3NhdmVkJyk7CiAgICAgIH0KICAgIH0sCiAgICBzaG9waWZ5X3N5bmNfc3RhdHVzKCkgewogICAgICB2YXIgc3RhdHVzOwogICAgICBpZiAoKHRoaXMuc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcCA8IHRoaXMuc2hvcGlmeV9zeW5jX3N0ZXBzLmxlbmd0aCkgJiYgdGhpcy5pc19zeW5jX2ZpbmlzaGVkID09PSBmYWxzZSkgewogICAgICAgIHN0YXR1cyA9ICJJbi1Qcm9ncmVzcyI7CiAgICAgICAgdGhpcy4kZW1pdCgic2hvcGlmeV9zeW5jX3N0YXR1cyIsIHN0YXR1cyk7CiAgICAgICAgYnVzLiRlbWl0KCJzaG9waWZ5X3N5bmNfc3RhdHVzIiwgc3RhdHVzKTsKICAgICAgICByZXR1cm4gIkluLVByb2dyZXNzIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0dXMgPSAiU3luYyBGaW5pc2hlZCI7CiAgICAgICAgdGhpcy4kZW1pdCgic2hvcGlmeV9zeW5jX3N0YXR1cyIsIHN0YXR1cyk7CiAgICAgICAgYnVzLiRlbWl0KCJzaG9waWZ5X3N5bmNfc3RhdHVzIiwgc3RhdHVzKTsKICAgICAgICByZXR1cm4gIlN5bmMgRmluaXNoZWQiOwogICAgICB9CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2hlY2tfc2hvcGlmeV9zdGF0dXMoKTsKICAgIHRoaXMuc2V0X2ludGVydmFsX2NoZWNrKCkKICAgIHRoaXMuZ2V0X2ludGVncmF0aW9uX2RldGFpbHMoKTsKICAgICQoJ1tkYXRhLXRvZ2dsZT0icG9wb3ZlciJdJykucG9wb3ZlcigpOwogICAgdGhpcy53aWRnZXRfY29kZSA9IGA8bGluayBocmVmPSJodHRwczovL3Jlc291cmNlLmNlbnNlLmFpL2Nzcy9hcHAuY3NzIiByZWw9InN0eWxlc2hlZXQiPiA8Ym90LWNoYXQ+PC9ib3QtY2hhdD4gPHNjcmlwdCBzcmM9Imh0dHBzOi8vcmVzb3VyY2UuY2Vuc2UuYWkvanMvYXBwLmpzIj48XC9zY3JpcHQ+IDxzY3JpcHQ+dmFyIHdpZGdldD1HZW5lcmF0ZVdpZGdldCh7c291cmNlOidXZWInLGxpY2Vuc2Vfa2V5OickewogICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkKICAgIH0nfSk8XC9zY3JpcHQ+YC50b1N0cmluZygpOwogICAgbGV0IGJvdF90ZW1wbGF0ZXNfZGF0YSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJCb3RUZW1wbGF0ZXMiKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90X3RlbXBsYXRlc19kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICgKICAgICAgICBib3RfdGVtcGxhdGVzX2RhdGFbaV0uZG9tYWluID09PSAiUmV0YWlsIiAmJgogICAgICAgIGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS5zdWJzY3JpYmVkID09PSB0cnVlCiAgICAgICkgewogICAgICAgIHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCA9IGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS50ZW1wbGF0ZV9pZDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0X2ludGVydmFsX2NoZWNrKCl7CiAgICAgIHNldEludGVydmFsKHRoaXMuY2hlY2tfc2hvcGlmeV9zdGF0dXMgLDYwMDAwKTsKICAgIH0sCiAgICBzaG9waWZ5X2hlbHAoKXsKICAgICAgbGV0IHJvdXRlRGF0YSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHtuYW1lOiAnc2hvcGlmeWhlbHAnfSk7CiAgICAgIHdpbmRvdy5vcGVuKHJvdXRlRGF0YS5ocmVmLCAnX2JsYW5rJyk7CiAgICB9LAogICAgZ2V0X2ludGVncmF0aW9uX2RldGFpbHMoKSB7CiAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLAogICAgICAgICAgewogICAgICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFKSB7CiAgICAgICAgICAgIGlmICgic2hvcGlmeV9kZXRhaWxzIiBpbiByZXNwb25zZS5kYXRhLmRhdGEpIHsKICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfc2hvcF9uYW1lID0KICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YS5zaG9waWZ5X2RldGFpbHMuc2hvcGlmeV9zaG9wX25hbWU7CiAgICAgICAgICAgICAgdGhpcy5pc19zaG9waWZ5X3B1YmxpY19hcHBfZm9yX2NvbXBhbnkgPSByZXNwb25zZS5kYXRhLmRhdGEuc2hvcGlmeV9kZXRhaWxzLnNob3BpZnlfcHVibGljX2FwcF9pbnN0YWxsZWQ7CiAgICAgICAgICAgICAgaWYoQm9vbGVhbihyZXNwb25zZS5kYXRhLmRhdGEuc2hvcGlmeV9kZXRhaWxzLnNob3BpZnlfcHVibGljX2FwcF9pbnN0YWxsZWQpID09PSBmYWxzZSl7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfc2VjcmV0X2tleSA9CiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YS5zaG9waWZ5X2RldGFpbHMuc2hvcGlmeV9zZWNyZXRfa2V5OwogICAgICAgICAgICAgICAgdGhpcy5zaG9waWZ5X2FwaV9rZXkgPQogICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmRhdGEuc2hvcGlmeV9kZXRhaWxzLnNob3BpZnlfYXBpX2tleTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gdGhpcy5zaG9waWZ5X2RldGFpbHNfc2F2ZWQgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuaXNfaW50ZWdyYXRlZCA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgnZnJhbWV3b3JrX2ludGVncmF0ZWQnLHRoaXMuaXNfaW50ZWdyYXRlZCwgInNob3BpZnkiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfWVsc2UgaWYocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBLk1TR19DT0RFKXsKCiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy5pc19pbnRlZ3JhdGVkID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0X3Nob3BpZnlfZm9ybSgpIHsKICAgICAgdmFyIGRvbWFpbl9uYW1lID0gIi5teXNob3BpZnkuY29tIjsKICAgICAgaWYgKCF0aGlzLnNob3BpZnlfc2hvcF9uYW1lLmluY2x1ZGVzKGRvbWFpbl9uYW1lKSAmJiAhdGhpcy5pc19zaG9waWZ5X3B1YmxpY19hcHBfZm9yX2NvbXBhbnkpIHsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGV4dDoKICAgICAgICAgICAgdGhpcy50bHQoJ3Nob3BpZnlfZW50ZXJfZG9tYWluX25hbWUnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgc2hvcF9uYW1lOwogICAgICBpZighdGhpcy5pc19zaG9waWZ5X3B1YmxpY19hcHBfZm9yX2NvbXBhbnkpewogICAgICAgIHNob3BfbmFtZSA9IHRoaXMuc2hvcGlmeV9zaG9wX25hbWUuc3Vic3RyKAogICAgICAgICAgMCwKICAgICAgICAgIHRoaXMuc2hvcGlmeV9zaG9wX25hbWUuaW5kZXhPZigiLiIpCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzaG9wX25hbWUgPSB0aGlzLnNob3BpZnlfc2hvcF9uYW1lOwogICAgICB9CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGV4dDogdGhpcy50bHQoJ3Nob3BpZnlfc3VibWl0X3lvdXJfZGV0YWlscycpLAogICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgIH0pOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgaXNfc2hvcGlmeTogdHJ1ZSwKICAgICAgICAgICAgaXNfc2F2ZTogdHJ1ZSwKICAgICAgICAgICAgc2hvcGlmeV9zaG9wX25hbWU6IHNob3BfbmFtZSwKICAgICAgICAgICAgc2hvcGlmeV9hcGlfa2V5OiAodGhpcy5pc19zaG9waWZ5X3B1YmxpY19hcHBfZm9yX2NvbXBhbnkpID8gbnVsbCA6IHRoaXMuc2hvcGlmeV9hcGlfa2V5LAogICAgICAgICAgICBzaG9waWZ5X3NlY3JldF9rZXk6ICh0aGlzLmlzX3Nob3BpZnlfcHVibGljX2FwcF9mb3JfY29tcGFueSkgPyBudWxsIDogdGhpcy5zaG9waWZ5X3NlY3JldF9rZXksCiAgICAgICAgICAgIHRlbXBsYXRlX2lkOiB0aGlzLnJldGFpbF9ib3RfdGVtcGxhdGVfaWQsCiAgICAgICAgICAgIHNob3BpZnlfcHVibGljX2FwcF9pbnN0YWxsZWQ6IHRoaXMuaXNfc2hvcGlmeV9wdWJsaWNfYXBwX2Zvcl9jb21wYW55CiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicmV0YWlsX3dlYl9mcmFtZXdvcmsiLCAic2hvcGlmeSIpOwogICAgICAgICAgICAkKCIjd2lkZ2V0X2NvZGVfbW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnc2hvcGlmeV9jcmVkZW50aWFsX3ZlcmlmaWVkJyksCiAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgIHRoaXMudGx0KCdzaG9waWZ5X3Byb2R1Y3Rfc3luY19wcm9jZXNzJyksCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRpbWVyOiA3MDAwLAogICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CiAgICAgICAgICAgICAgdGhpcy5jaGVja19zaG9waWZ5X3N0YXR1cygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5TSE9QX05PVF9GT1VORC5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnd29vX2lzc3VlX3dpdGhfY3JlZGVudGlhbCcpLAogICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICB0aGlzLnRsdCgnc2hvcGlmeV9pc3N1ZV93aXRoX2NyZWRlbnRpYWwyJyksCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuSU5WQUxJRF9TSE9QSUZZX0FQSV9LRVlfQU5EX1RPS0VOLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdzaG9waWZ5X29vcHMyJyksCiAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgIHRoaXMudGx0KCdzaG9waWZ5X2lzc3VlX3dpdGhfY3JlZGVudGlhbCcpLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSAgZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLlNIT1BfTk9fUFJPRFVDVFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3Nob3BpZnlfb29wczMnKSwKICAgICAgICAgICAgICB0ZXh0OgogICAgICAgICAgICAgICAgdGhpcy50bHQoJ3Nob3BpZnlfb25lX3Byb2R1Y3RfYWhlYWQnKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdtYWdlbnRvX2Vycm9yX29jY3VycmVkJyksCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdtYWdlbnRvX2Vycm9yX29jY3VycmVkMicpLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBlZGl0X3Nob3BpZnlfZGV0YWlscygpIHsKICAgICAgdGhpcy5zaG9waWZ5X2RldGFpbHNfc2F2ZWQgPSAhdGhpcy5zaG9waWZ5X2RldGFpbHNfc2F2ZWQ7CiAgICB9LAogICAgY2hlY2tfc2hvcGlmeV9zdGF0dXMoKSB7CiAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICB0aGlzLnNwaW5uZXJPblJlZnJlc2ggPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLmF1dG9tYXRpb25fbm90aWZpY2F0aW9uKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zcGlubmVyT25SZWZyZXNoID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmlzX3N5bmNfZmluaXNoZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcCA9IDA7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5TRU5ESU5HX0VNQUlMLk1TR19DT0RFKSB7CiAgICAgICAgICAgdGhpcy5zaG9waWZ5X2RldGFpbHNfc2F2ZWQgPSB0cnVlOwogICAgICAgICAgICAvLyBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLkNvbXBsZXRlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gNTsgaSsrKSB7CiAgICAgICAgICAgIC8vICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zaG9waWZ5X3N5bmNfY3VycmVudF9zdGVwICs9IDE7CiAgICAgICAgICAgIC8vICAgICB9LCA4NCAqIGkgKiAxMCk7CiAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAvLyAgIC8vIHRoaXMuc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcCA9IDQ7CiAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhLlN0YXR1cyA9PSAiU3RhcnRlZCIgfHwKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YS5TdGF0dXMgPT0gIkdhdGhlcmluZyBQcm9kdWN0cyBMaXN0IgogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy5zaG9waWZ5X3N5bmNfY3VycmVudF9zdGVwID0gMDsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5TdGF0dXMgPT0gIkdlbmVyYXRpbmcgTkVSIERhdGEiKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSAxOyBpKyspIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG9waWZ5X3N5bmNfY3VycmVudF9zdGVwICs9IDE7CiAgICAgICAgICAgICAgICAgIH0sIDg0ICogaSAqIDEwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcCA9IDE7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YS5TdGF0dXMgPT0gIkdlbmVyYXRpbmcgSW50ZW50IERhdGEiCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3BpZnlfc3luY19jdXJyZW50X3N0ZXAgPSAyOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMjsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcCArPSAxOwogICAgICAgICAgICAgICAgICB9LCA4NCAqIGkgKiAxMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YS5TdGF0dXMgPT0gIkNvbnZlcnNhdGlvbiBCb3QgVHJhaW5pbmciCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfc3luY19jdXJyZW50X3N0ZXAgKz0gMTsKICAgICAgICAgICAgICAgICAgfSwgODQgKiBpICogMTApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gdGhpcy5zaG9waWZ5X3N5bmNfY3VycmVudF9zdGVwID0gMzsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5TdGF0dXMgPT0gIkNvbXBsZXRlZCIgJiYgcmVzcG9uc2UuZGF0YS5kYXRhLkNvbXBsZXRlZCA9PSB0cnVlICkgewogICAgICAgICAgICAgICAgdGhpcy5pc19zeW5jX2ZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIC8vIHZhciBzdGF0dXMgPSByZXNwb25zZS5kYXRhLmRhdGEuU3RhdHVzOwogICAgICAgICAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgic2hvcGlmeV9zeW5jX3N0YXR1cyIsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSA1OyBpKyspIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG9waWZ5X3N5bmNfY3VycmVudF9zdGVwICs9IDE7CiAgICAgICAgICAgICAgICAgIH0sIDg0ICogaSAqIDEwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIHRoaXMuc2hvcGlmeV9zeW5jX2N1cnJlbnRfc3RlcCA9IDQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyB9CiAgICAgICAgICB9ZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5OT19EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSl7CiAgICAgICAgICAgIHRoaXMuc2hvcGlmeV9kZXRhaWxzX3NhdmVkID0gZmFsc2U7ICAgIAogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOnJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OnJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICB0b2FzdDp0cnVlCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgICAvLyB9LCAxMDAwKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zcGlubmVyT25SZWZyZXNoID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},null]}