{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/Login.vue","mtime":1643027096176},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHNpZGViYXJpdGVtcyBmcm9tICIuLi9MYXlvdXQvU2lkZUJhckl0ZW0iOwppbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAidGltZXJzIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIGRhdGU6ICIiLAogICAgICB9LAogICAgICBvcGVuX21vZGFsOiBmYWxzZSwKICAgICAgZm9yZ290X3Bhc3N3b3JkX2VtYWlsOiAiIiwKICAgICAgcmVnX2VtYWlsOiAvXihbMC05YS16QS1aXShbLS5cd10qWzAtOWEtekEtWl0pKkAoWzAtOWEtekEtWl1bLVx3XSpbMC05YS16QS1aXVwuKStbYS16QS1aXXsyLDl9KSQvLAogICAgICBzaG93X3ZhbGlkYXRpb25fc3RyaW5nOiBmYWxzZSwKICAgICAgbG9naW5fdHlwZTogIlBvcnRhbCIsCiAgICAgIGlzX3N1cGVyX2FkbWluOiBmYWxzZSwKICAgICAgb3Blbl9ib3RfYXBpX3Jlc3BvbnNlX3JlY2VpdmVkOiBmYWxzZSwKICAgICAgbG9naW5fYnV0dG9uX3NwaW5uZXI6IGZhbHNlLAogICAgICBpc19zdWJtaXR0aW5nOiBmYWxzZQogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZSgpIHsKICAgIGlmKHRoaXMuJHNlc3Npb24uaGFzKCJVc2VySW5mb3JtYXRpb24iKSAmJiBCb29sZWFuKHRoaXMuJHJvdXRlLnF1ZXJ5LmlzX3Nob3BpZnlfYmlsbGluZ19yZWRpcmVjdCkpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIkRhc2hib2FyZCIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpc19zaG9waWZ5X2JpbGxpbmdfcmVkaXJlY3Q6IHRydWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgZWxzZSBpZiAoCiAgICAgIHRoaXMuJHNlc3Npb24uaGFzKCJVc2VySW5mb3JtYXRpb24iKSAmJgogICAgICAhKEJvb2xlYW4odGhpcy4kcm91dGUucXVlcnkuZW1haWwpICYmIEJvb2xlYW4odGhpcy4kcm91dGUucXVlcnkudG9rZW4pKQogICAgKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2Rhc2hib2FyZCIpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGxldCBsX3R5cGUgPSBDb29raWVzLmdldCgibG9naW5fdHlwZSIpOwogICAgaWYgKChsX3R5cGUgIT09IHVuZGVmaW5lZCkgJiYgKGxfdHlwZSAhPT0gInVuZGVmaW5lZCIpICkgewogICAgICB0aGlzLmxvZ2luX3R5cGUgPSBDb29raWVzLmdldCgibG9naW5fdHlwZSIpOwogICAgfSAKICAgIGlmKHRoaXMubG9naW5fdHlwZSA9PSB1bmRlZmluZWQpIHsKICAgICAgdGhpcy5sb2dpbl90eXBlID0gIlBvcnRhbCIKICAgIH0KICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdmFyIGVtYWlsID0gdGhpcy4kcm91dGUucXVlcnkuZW1haWw7CiAgICB2YXIgdG9rZW5faWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS50b2tlbjsKICAgIGlmIChlbWFpbCAmJiB0b2tlbl9pZCkgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgibG9naW4iKTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMudmFsaWRhdGVfbG9naW4oKSwgewogICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgdG9rZW46IHRva2VuX2lkLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiRW1haWwgYWxyZWFkeSB2ZXJpZmllZCIpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgaHRtbDoKICAgICAgICAgICAgICAgICI8aDY+VGhpcyBFbWFpbCB2ZXJpZmljYXRpb24gbGluayBpcyBFeHBpcmVkLiBZb3UgYWxyZWFkeSBWZXJpZmllZCB5b3VyIGFjY291bnQuIEtpbmRseSBsb2dpbjwvaDY+IiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkVtYWlsIHZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsIikgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgaHRtbDoKICAgICAgICAgICAgICAgICI8aDY+WW91ciBlbWFpbCB2ZXJpZmljYXRpb24gaXMgc3VjY2Vzc2Z1bGx5IGRvbmUgLiBQbGVhc2UgdXNlIEVtYWlsIGlkIGFzIHlvdXIgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIGZvciBsb2dpbjwvaDY+IiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlVzZXIgRG9lc24ndCBFeGlzdCIpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgaHRtbDogIjxoNj5Vc2VyIERvZXNuJ3QgRXhpc3Q8L2g2PiIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBlbWFpbF92YWxpZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMucmVnX2VtYWlsLnRlc3QodGhpcy5mb3Jnb3RfcGFzc3dvcmRfZW1haWwpKSB7CiAgICAgICAgdGhpcy5zaG93X3ZhbGlkYXRpb25fc3RyaW5nID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93X3ZhbGlkYXRpb25fc3RyaW5nID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8vICB0b2dnbGVfZG9tYWluKGV2ZW50KSB7CiAgICAvLyAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT0gIlBvcnRhbCIpIHsKICAgIC8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG9tYWluX2lucHV0Iikuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgLy8gICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSAiQm90IikgewogICAgLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb21haW5faW5wdXQiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgLy8gICB9fSwKICAgIGNsZWFyX2ZpZWxkcygpIHsKICAgICAgdGhpcy5mb3Jnb3RfcGFzc3dvcmQgPSAiIjsKICAgICAgJCgiI3VzZXJtb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICB9LAogICAgZm9yZ290X3Bhc3N3b3JkKCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBpZiAoCiAgICAgICAgdGhpcy5zaG93X3ZhbGlkYXRpb25fc3RyaW5nID09IGZhbHNlICYmCiAgICAgICAgdGhpcy5mb3Jnb3RfcGFzc3dvcmRfZW1haWwgIT0gIiIKICAgICAgKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHRleHQ6ICJQbGVhc2Ugd2FpdCB3aGlsZSB3ZSBzdWJtaXQgeW91ciBkZXRhaWxzIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICB9KTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmZvcmdvdF9wYXNzd29yZCgpLCB7CiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmZvcmdvdF9wYXNzd29yZF9lbWFpbCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaW5jbHVkZXMoImVtYWlsIGFkZHJlc3MiKSkgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiQSBtYWlsIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbCIpIHsKICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgICAgICAgICI8aDY+V2UgaGF2ZSBzZW50IGEgbGluayB0byByZXNldCB5b3VyIHBhc3N3b3JkLiBLaW5kbHkgY2hlY2sgeW91ciBlLW1haWw8L2g2PiIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAkKCIjdXNlcm1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIGh0bWw6ICI8aDY+U29tZSBFcnJvciBPY2N1cnJlZC4gUGxlYXNlIFRyeSBBZ2FpbjwvaDY+IiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICQoIiN1c2VybW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBhc3N3b3JkX3RvZ2dsZSgpIHsKICAgICAgdmFyIHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1fcGFzc3dvcmQiKTsKICAgICAgaWYgKHBhc3N3b3JkLnR5cGUgPT0gInRleHQiKSB7CiAgICAgICAgcGFzc3dvcmQudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgIH0gZWxzZSBpZiAocGFzc3dvcmQudHlwZSA9PSAicGFzc3dvcmQiKSB7CiAgICAgICAgcGFzc3dvcmQudHlwZSA9ICJ0ZXh0IjsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZSgpIHsKICAgICAgdGhpcy5pc19zdWJtaXR0aW5nID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMudXNlci5uYW1lID09ICIiIHx8IHRoaXMudXNlci5wYXNzd29yZCA9PSAiIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgdGl0bGU6ICI8aDQ+S2luZGx5IGVudGVyIHRoZSBlbWFpbCBhbmQgcGFzc3dvcmQ8L2g0PiIsCiAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX3N1Ym1pdHRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbl9zcGlubmVyID0gdHJ1ZTsKICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Bpbm5lciIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgICAgICB0aGlzLmNhbGxfYXBpKCk7CiAgICAgIH0KICAgIH0sCiAgICByZWRpcihtZXNzYWdlKSB7CiAgICAgIC8vIGlmICghdGhpcy5pc19zdXBlcl9hZG1pbil7CiAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbl9zcGlubmVyID0gZmFsc2U7CiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwaW5uZXIiKS5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIwLjUiOwogICAgICAvLyB9IAogICAgICBpZiAobWVzc2FnZSA9PSAiRW1haWwgaGFzbid0IGJlZW4gdmVyaWZpZWQuIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgaHRtbDoKICAgICAgICAgICAgIjxoNj5Zb3VyIGFjY291bnQgaGFzIG5vdCBiZWVuIHZhbGlkYXRlZCBmb3IgbG9naW4uPGJyPlBsZWFzZSB2aXNpdCB5b3VyIGUtbWFpbDwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgICI8aDY+VGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi48L2g2PiIsCiAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZSA9PSAiVXNlciBoYXMgbm90IGJlZW4gYXBwcm92ZWQgeWV0LiIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgICI8aDY+WW91ciByZWdpc3RyYXRpb24gaGFzIG5vdCBiZWVuIGFwcHJvdmVkIG9yIGl0IGhhcyBiZWVuIGRlY2xpbmVkIGJ5IEFkbWluLiBLaW5kbHkgY2hlY2sgeW91ciBtYWlsPC9oNj4iLAogICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT0gIllvdSBhcmUgYWxyZWFkeSBsb2dnZWQgaW4hIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6ICI8aDY+VGhpcyB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluPC9oNj4iLAogICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT0gIkludmFsaWQgQ3JlZGVudGlhbHMiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDogIjxoNj5JbnZhbGlkIENyZWRlbnRpYWxzITwvaDY+IiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlID09ICJBUEkgTElNSVQgRVhDRUVERUQiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDoKICAgICAgICAgICAgIjxoNj5Zb3VyIG1vbnRobHkgYXBpIHJlcXVlc3RzIGhhcyBleGNlZWRlZC4gUGxlYXNlIFVwZ3JhZGUgeW91ciBwbGFucyB0byBsb2dpbjwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLk1TRyA9PSAiUGFzc3dvcmQgc2hvdWxkIGJlIFJlbmV3ZWQiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDoKICAgICAgICAgICAgIjxoNj5Zb3VyIHBhc3N3b3JkIGhhcyBiZWVuIGV4cGlyZWQuIFBsZWFzZSBSZW5ldyB5b3VyIHBhc3N3b3JkPC9oNj4iLAogICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYoQm9vbGVhbihtZXNzYWdlLmlzX3N1cGVyX2FkbWluX2xvZ2luKSl7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIlN1cGVyQWRtaW5JbnRlcm1lZGlhdGVTY3JlZW4iLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGRhdGE6IG1lc3NhZ2UuYWxsX3VzZXJzX2xpc3QKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJJbmZvcm1hdGlvbiIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiYXQiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5hY2Nlc3NfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJydCIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLnJlZnJlc2hfdG9rZW4pOwogICAgICB9IGVsc2UgaWYgKHRoaXMubG9naW5fdHlwZSA9PSAiQm90IikgewogICAgICAgIENvb2tpZXMucmVtb3ZlKCJsb2dpbl90eXBlIik7CiAgICAgICAgQ29va2llcy5zZXQoImxvZ2luX3R5cGUiLCB0aGlzLmxvZ2luX3R5cGUsIHsgZXhwaXJlczogMzY1IH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckluZm9ybWF0aW9uIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJhdCIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLmFjY2Vzc190b2tlbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInJ0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24ucmVmcmVzaF90b2tlbik7CiAgICAgICAgdGhpcy5jaGVja190ZW1wbGF0ZV9zdWJzY3JpcHRpb24oJ3B1c2hfZGlyZWN0X3Jlc3BvbnNlX2JvdCcpOwogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2RpcmVjdHJlc3BvbnNlYm90Iik7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5NU0cgPT0gIlVzZXIgSXMgTG9ja2VkIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6ICI8aDY+VGhpcyB1c2VyIGhhcyBiZWVuIGxvY2tlZDwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBDb29raWVzLnJlbW92ZSgibG9naW5fdHlwZSIpOwogICAgICAgIENvb2tpZXMuc2V0KCJsb2dpbl90eXBlIiwgdGhpcy5sb2dpbl90eXBlLCB7IGV4cGlyZXM6IDM2NSB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJJbmZvcm1hdGlvbiIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicmV0YWlsX3dlYl9mcmFtZXdvcmsiLCBtZXNzYWdlLnJldGFpbF93ZWJfZnJhbWV3b3JrKTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmJvdF9yZXNwb25zZV90b2tlbigpLCB7CiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RUb2tlbiIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnJlbW92ZSgiVGVtcG9yYXJ5Qm90VG9rZW4iKTsKICAgICAgICAgICAgYnVzLiRlbWl0KCJUb2tlbiBjaGFuZ2VkIiwgIlRydWUiKTsKICAgICAgICAgIH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VyRmlyc3ROYW1lIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24uZmlyc3RfbmFtZSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJMYXN0TmFtZSIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLmxhc3RfbmFtZSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInJ0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24ucmVmcmVzaF90b2tlbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24uYWNjZXNzX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiUmVzdHJpY3Rpb25MaXN0IiwgbWVzc2FnZS5yZXN0cmljdGlvbl9saXN0KTsKICAgICAgICBkb2N1bWVudC5jb29raWUgPQogICAgICAgICAgImNvbXBhbnlfaWQ9IiArIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9CiAgICAgICAgICAiY29tcGFueV9uYW1lPSIgKyB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IAogICAgICAgICAgImNvbXBhbnlfZW1haWw9IiArIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbDsgCiAgICAgICAgdGhpcy5sb2dpbl9idXR0b25fc3Bpbm5lciA9IHRydWU7CiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwaW5uZXIiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgIHRoaXMuY2hlY2tfdGVtcGxhdGVfc3Vic2NyaXB0aW9uKG51bGwsIG1lc3NhZ2UubWVudWJpbmQpOwogICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vIHRoaXMudXBkYXRlX21lbnVfbGlzdChtZXNzYWdlLm1lbnViaW5kKTsKICAgICAgICAvLyB9LCAxMDApOwogICAgICB9CiAgICAgIHRoaXMudXNlci5lbWFpbCA9ICIiOwogICAgICB0aGlzLnVzZXIucGFzc3dvcmQgPSAiIjsKICAgIH0sCiAgICBjaGVja190ZW1wbGF0ZV9zdWJzY3JpcHRpb24ocGFyYW0sIG1lbnUpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGFwaV9jYWxscy5vcGVuX2JvdF90ZW1wbGF0ZV9zdWJzY3JpcHRpb25fYXBpKCksIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgdGhpcy5vcGVuX2JvdF9hcGlfcmVzcG9uc2VfcmVjZWl2ZWQgPSB0cnVlOwogICAgICAgICAgaWYgKHBhcmFtID09PSBudWxsKXsKICAgICAgICAgICAgdGhpcy51cGRhdGVfbWVudV9saXN0KG1lbnUpOwogICAgICAgICAgfQogICAgICAgICAgaWYoZGF0YS5zdGF0dXMgPT09ICJTdWNjZXNzIil7CiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RUZW1wbGF0ZXMiLCBkYXRhLnRlbXBsYXRlcykKICAgICAgICAgICAgaWYocGFyYW0gPT09ICdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKXsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgIG5hbWU6ICJEaXJlY3QgUmVzcG9uc2UgQm90IiwKICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlCiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYocGFyYW0gPT09ICdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKXsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgIG5hbWU6ICJEaXJlY3QgUmVzcG9uc2UgQm90IiwKICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlCiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKChlKT0+IHsKICAgICAgICAgIHRoaXMub3Blbl9ib3RfYXBpX3Jlc3BvbnNlX3JlY2VpdmVkID0gdHJ1ZTsKICAgICAgICAgIGlmIChwYXJhbSA9PT0gbnVsbCl7CiAgICAgICAgICAgIHRoaXMudXBkYXRlX21lbnVfbGlzdChtZW51KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHBhcmFtID09PSAncHVzaF9kaXJlY3RfcmVzcG9uc2VfYm90Jyl7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICBuYW1lOiAiRGlyZWN0IFJlc3BvbnNlIEJvdCIsCiAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgIHJlbG9hZDogdHJ1ZQogICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pOwogICAgfSwKICAgIGNhbGxfYXBpKCkgewogICAgICB0aGlzLnVzZXIuZGF0ZSA9IG1vbWVudCgpLnRvSVNPU3RyaW5nKCk7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmxvZ2luKCksIHRoaXMudXNlcikKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMucmVkaXIocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMubG9naW5fYnV0dG9uX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGlubmVyIikuc3R5bGUub3BhY2l0eSA9ICIwIjsKICAgICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgIGh0bWw6ICI8aDQ+U29tZSBFcnJvciBPY2N1cnJlZC48YnI+UGxlYXNlIFRyeSBBZ2FpbiE8L2g0PiIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIHRvYXN0ci5lcnJvcigiVGhlcmUgaXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiIpOwogICAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZV9tZW51X2xpc3QobWVzc2FnZSkgewogICAgICBsZXQgbWVudSA9IHt9OwogICAgICBsZXQgbWFpbl9tZW51X2xpc3QgPSBtZXNzYWdlLmZpbHRlcigKICAgICAgICAoYXJyKSA9PiBhcnIuSXNNYXN0ZXJNZW51ID09IHRydWUgJiYgYXJyLkVuYWJsZWQgPT0gdHJ1ZQogICAgICApOwogICAgICBsZXQgbWFpbl9tZW51X2xpc3RfZmlsdGVyZWQgPSBbXTsKICAgICAgbGV0IHN1Yl9tZW51X2xpc3QgPSBtZXNzYWdlLmZpbHRlcigKICAgICAgICAoYXJyKSA9PgogICAgICAgICAgYXJyLkhhc1N1Yk1lbnVzID09IGZhbHNlICYmCiAgICAgICAgICBhcnIuRW5hYmxlZCA9PSB0cnVlICYmCiAgICAgICAgICBhcnIuSXNTdWJNZW51ID09IHRydWUKICAgICAgKTsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gbWFpbl9tZW51X2xpc3QubGVuZ3RoOyBpIDwgbjsgaSArPSAxKSB7CiAgICAgICAgbGV0IG1lbnVGaWx0ZXIgPSBzaWRlYmFyaXRlbXMuZmlsdGVyKChzaWRlYmFyKSA9PiB7CiAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBzaWRlYmFyLm5hbWUgPT09IG1haW5fbWVudV9saXN0W2ldLk1lbnVJdGVtICYmCiAgICAgICAgICAgIEJvb2xlYW4oc2lkZWJhci5zdmdfaHRtbCkKICAgICAgICAgICk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKG1lbnVGaWx0ZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgbWFpbl9tZW51X2xpc3RfZmlsdGVyZWQucHVzaChtZW51RmlsdGVyWzBdKTsKICAgICAgICAgIG1lbnVbbWVudUZpbHRlclswXS5uYW1lXSA9IHsKICAgICAgICAgICAgbWFpbl9tZW51OiBtZW51RmlsdGVyWzBdLAogICAgICAgICAgICBzdWJfbWVudV9saXN0OiBbXSwKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBzdWJfbWVudV9saXN0Lmxlbmd0aDsgaSA8IG47IGkgKz0gMSkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBzaWRlYmFyaXRlbXMpIHsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIHNpZGViYXJpdGVtc1tqXS5uYW1lID09PSBzdWJfbWVudV9saXN0W2ldLk1lbnVJdGVtICYmCiAgICAgICAgICAgICAgQm9vbGVhbihzaWRlYmFyaXRlbXNbal0ucGFnZV9wYXRoICYmIHNpZGViYXJpdGVtc1tqXS5tYXN0ZXJfbWVudSA9PT0gc3ViX21lbnVfbGlzdFtpXS5NYXN0ZXJNZW51KQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBtZW51W3N1Yl9tZW51X2xpc3RbaV0uTWFzdGVyTWVudV0uc3ViX21lbnVfbGlzdC5wdXNoKAogICAgICAgICAgICAgICAgc2lkZWJhcml0ZW1zW2pdCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICB9CiAgICAgIG1lbnUgPSBPYmplY3QudmFsdWVzKG1lbnUpOwoKICAgICAgLy8gZm9yIChsZXQgaSA9IDAsIG4gPSBtZXNzYWdlLmxlbmd0aDsgaSA8IG47IGkgKz0gMSkgewogICAgICAvLyAgIGlmIChtZXNzYWdlW2ldLkVuYWJsZWQgJiYgbWVzc2FnZVtpXS5Jc01hc3Rlck1lbnUpIHsKICAgICAgLy8gICAgIGxldCBtZW51RmlsdGVyID0gc2lkZWJhcml0ZW1zLmZpbHRlcigoc2lkZWJhcikgPT4gewogICAgICAvLyAgICAgICByZXR1cm4gKAogICAgICAvLyAgICAgICAgIHNpZGViYXIubmFtZSA9PT0gbWVzc2FnZVtpXS5NZW51SXRlbSAmJiBCb29sZWFuKHNpZGViYXIuc3ZnX2h0bWwpCiAgICAgIC8vICAgICAgICk7CiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICAgIGlmIChtZW51RmlsdGVyLmxlbmd0aCA+IDApIHsKICAgICAgLy8gICAgICAgbWFpbl9tZW51ID0gbWVudUZpbHRlclswXTsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9IGVsc2UgaWYgKAogICAgICAvLyAgICAgbWVzc2FnZVtpXS5IYXNTdWJNZW51cyA9PSBmYWxzZSAmJgogICAgICAvLyAgICAgbWVzc2FnZVtpXS5FbmFibGVkICYmCiAgICAgIC8vICAgICBtZXNzYWdlW2ldLklzU3ViTWVudSAmJgogICAgICAvLyAgICAgT2JqZWN0LmtleXMobWFpbl9tZW51KS5sZW5ndGggPiAwCiAgICAgIC8vICAgKSB7CiAgICAgIC8vICAgICBmb3IgKHZhciBqIGluIHNpZGViYXJpdGVtcykgewogICAgICAvLyAgICAgICBpZiAoCiAgICAgIC8vICAgICAgICAgc2lkZWJhcml0ZW1zW2pdLm5hbWUgPT09IG1lc3NhZ2VbaV0uTWVudUl0ZW0gJiYKICAgICAgLy8gICAgICAgICBCb29sZWFuKHNpZGViYXJpdGVtc1tqXS5wYWdlX3BhdGgpCiAgICAgIC8vICAgICAgICkgewogICAgICAvLyAgICAgICAgIHN1Ym1lbnVzLnB1c2goc2lkZWJhcml0ZW1zW2pdKTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0KICAgICAgLy8gICBpZiAoCiAgICAgIC8vICAgICBpID09IG4gLSAxIHx8CiAgICAgIC8vICAgICAobWVzc2FnZVtpXS5Jc01hc3Rlck1lbnUgPT0gdHJ1ZSAmJgogICAgICAvLyAgICAgICBtZXNzYWdlW2ldLkhhc1N1Yk1lbnVzID09PSBmYWxzZSAmJgogICAgICAvLyAgICAgICAhQm9vbGVhbihtZXNzYWdlW2ldLklzU3ViTWVudSkgJiYKICAgICAgLy8gICAgICAgbWVzc2FnZVtpXS5FbmFibGVkKQogICAgICAvLyAgICkgewogICAgICAvLyAgICAgbWVudS5wdXNoKHsKICAgICAgLy8gICAgICAgbWFpbl9tZW51OiBtYWluX21lbnUsCiAgICAgIC8vICAgICAgIHN1Yl9tZW51X2xpc3Q6IHN1Ym1lbnVzLAogICAgICAvLyAgICAgfSk7CiAgICAgIC8vICAgICBtYWluX21lbnUgPSBbXTsKICAgICAgLy8gICAgIHN1Ym1lbnVzID0gW107CiAgICAgIC8vICAgfSBlbHNlIGlmICgKICAgICAgLy8gICAgIGkgPCBuIC0gMSAmJgogICAgICAvLyAgICAgbWVzc2FnZVtpICsgMV0uSXNNYXN0ZXJNZW51ICYmCiAgICAgIC8vICAgICAoIUJvb2xlYW4obWVzc2FnZVtpICsgMV0uSXNTdWJNZW51KSB8fAogICAgICAvLyAgICAgICBtZXNzYWdlW2kgKyAxXS5IYXNTdWJNZW51cyA9PSB0cnVlKSAmJgogICAgICAvLyAgICAgT2JqZWN0LmtleXMobWFpbl9tZW51KS5sZW5ndGggPiAwCiAgICAgIC8vICAgKSB7CiAgICAgIC8vICAgICBtZW51LnB1c2goewogICAgICAvLyAgICAgICBtYWluX21lbnU6IG1haW5fbWVudSwKICAgICAgLy8gICAgICAgc3ViX21lbnVfbGlzdDogc3VibWVudXMsCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICAgIG1haW5fbWVudSA9IFtdOwogICAgICAvLyAgICAgc3VibWVudXMgPSBbXTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0KICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkNoYXRib3RNZW51IiwgbWVudSk7CiAgICAgIC8vIHdoaWxlICghdGhpcy5vcGVuX2JvdF9hcGlfcmVzcG9uc2VfcmVjZWl2ZWQpewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2Rhc2hib2FyZCIpOwogICAgICAvLyB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Pages","sourcesContent":["<template>\n  <div>\n    <div id=\"body\" class=\"log-wrap d-flex align-items-center\">\n    <!-- <div id=\"body\" class=\"log-wrap d-flex align-items-center\"> -->\n      <div class=\"container\" id=\"login_card\" style=\"padding: 50px 50px 0px\">\n        <div class=\"log-blk\" style=\"border-radius: 20px; box-shadow: 0px 1px 22px #00000014\">\n          <div class=\"row no-gutters\">\n            <div class=\"col-lg-6\" style=\"height: 450px\">\n              <!-- <div class=\"title-sec d-flex align-items-center\"> -->\n              <div class=\"title-sec d-flex\">\n                <div class=\"inner-title\">\n                  <div class=\"sec-logo\">\n                    <img src=\"/img/logonew.png\" style=\"width: 100%; padding: 0px 70px 0px;\" alt />\n                  </div>\n                  <h2>Welcome Back!</h2>\n                  <p style=\"margin-bottom: 50px; opacity: 0.9;\">Cense develops powerful AI solutions<br>for your business</p>\n                  <a href=\"javascript: void(0)\" @click=\"$router.push({name: 'Register'})\" class=\"white-btn\" style=\"padding: 5px 20px;\n    width: 50%;\n    height: 40px;\">Sign Up</a>\n                  <!-- <a href=\"https://website.cense.ai/register\" class=\"white-btn\"\n                    >Sign Up</a\n                  > -->\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-6\" style=\"height: 450px\">\n              <!-- <div class=\"log-sec d-flex align-items-center\"> -->\n              <div class=\"log-sec d-flex\">\n                <div class=\"log-frm\">\n                  <h2>Log in</h2>\n                  <br />\n                  <center>\n                    <div class=\"radio\" style=\"margin-bottom: 30px;\">\n                      <label style=\"margin-right: 65px;\">\n                        <input\n                          type=\"radio\"\n                          value=\"Portal\"\n                          v-model=\"login_type\"\n                        />\n                        <span class=\"icn\"></span> Portal\n                      </label>\n                      <label>\n                        <input type=\"radio\" value=\"Bot\" v-model=\"login_type\" />\n                        <span class=\"icn\"></span> Bot\n                      </label>\n                    </div>\n                  </center>\n                  <form @submit.prevent=\"create\" style=\"padding: 0px 10px 0px;\">\n                    <div class=\"form-group\" style=\"margin-top: 30px\">\n                      <!-- <img class=\"view-fail\" src=\"/img/email-icn.png\" alt /> -->\n                      <input\n                        type=\"email\"\n                        v-model=\"user.email\"\n                        class=\"form-control email\"\n                        placeholder=\"E-Mail\"\n                        id=\"login_username\"\n                        required\n                        style=\"border-radius: 29px; padding: 3px 30px 3px 43px; font-size: 15px;\"\n                        :class=\"{invalid:is_submitting && !user.email.trim()}\"\n                      />\n                    </div>\n                    <div class=\"form-group\" style=\"margin-bottom: 5px;\">\n                        <!-- <img class=\"view-fail\" src=\"/img/lock-icn.png\" alt /> -->\n                      <input\n                        type=\"password\"\n                        v-model=\"user.password\"\n                        id=\"form_password\"\n                        class=\"form-control pass\"\n                        placeholder=\"Password\"\n                        style=\"border-radius: 29px; padding:3px 0px 3px 43px; font-size: 15px;\"\n                        :class=\"{invalid:is_submitting && !user.password.trim()}\"                       \n                      />\n                      <a\n                        href=\"javascript:void(0)\"\n                        @click=\"password_toggle\"\n                        class=\"view-pass\"\n                        style=\"top: 7px;\"\n                      >\n                        <img src=\"/img/eye-icn.png\" alt />\n                      </a>\n                    </div>\n                    <div class=\"checkbox\" style=\"margin-right: 15px;\">\n                      <a\n                        href=\"#\"\n                        class=\"forgot\"\n                        data-toggle=\"modal\"\n                        data-target=\"#usermodal\"\n                        >Forgot password?</a\n                      >\n                    </div>\n                    <div class=\"btn-wrap\">\n                      <button type=\"submit\" style=\"width: 170px; padding: 0px 20px; height: 40px\" class=\"darkblue-btn\">\n                        <span style=\"font: normal normal 600 17px/27px Poppins\">\n                          Log In\n                          <i\n                            class=\"fa fa-spinner fa-spin\"\n                            id=\"spinner\"\n                            v-if=\"login_button_spinner\"\n                          ></i>\n                        </span>\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <footer>\n            <p style=\"margin-top: 50px; text-align: center;\">\n              Ⓒ {{ new Date().getFullYear() }} Cense AI Inc. All rights reserved.\n              <a href=\"https://cense.ai/privacy-policy\">Privacy Policy</a>\n            </p>\n          </footer>\n        </div>\n      </div>\n      <div\n        class=\"modal fade dash-modal\"\n        id=\"usermodal\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"usermodeltitle\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"modal-head d-flex align-items-center\">\n                <div class=\"head-icn\">\n                  <img src=\"/img/user-blue.png\" alt />\n                </div>\n                <h3>Forgot Password</h3>\n              </div>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                @click=\"clear_fields\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n              <form @submit=\"forgot_password\">\n                <div class=\"form-group\">\n                  <label>Email</label>\n                  <input\n                    id=\"email_forgot_pwd\"\n                    type=\"email\"\n                    class=\"form-control\"\n                    v-model=\"forgot_password_email\"\n                    placeholder=\"Enter Your Email Here\"\n                    @input=\"email_validate\"\n                  />\n                </div>\n                <div\n                  style=\"color: red\"\n                  v-if=\"show_validation_string && forgot_password_email != ''\"\n                >\n                  Please enter a valid email address\n                </div>\n                <div class=\"btn-wrap text-right\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-link\"\n                    data-dismiss=\"modal\"\n                    @click=\"clear_fields\"\n                  >\n                    Cancel\n                  </button>\n                  <button type=\"submit\" class=\"darkblue-btn\" style=\"width: 20%;\">Send</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport sidebaritems from \"../Layout/SideBarItem\";\nimport { setTimeout } from \"timers\";\nimport api_calls from \"@/portal/api_calls\";\nimport { bus } from \"@/portal/main\";\nimport Cookies from \"js-cookie\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    return {\n      user: {\n        email: \"\",\n        password: \"\",\n        date: \"\",\n      },\n      open_modal: false,\n      forgot_password_email: \"\",\n      reg_email: /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,\n      show_validation_string: false,\n      login_type: \"Portal\",\n      is_super_admin: false,\n      open_bot_api_response_received: false,\n      login_button_spinner: false,\n      is_submitting: false\n    };\n  },\n  beforeCreate() {\n    if(this.$session.has(\"UserInformation\") && Boolean(this.$route.query.is_shopify_billing_redirect)){\n      this.$router.push({\n        name: \"Dashboard\",\n        params: {\n          is_shopify_billing_redirect: true\n        }\n      });\n    }\n    else if (\n      this.$session.has(\"UserInformation\") &&\n      !(Boolean(this.$route.query.email) && Boolean(this.$route.query.token))\n    ) {\n      this.$router.push(\"/bot/dashboard\");\n    }\n  },\n  created() {\n    let l_type = Cookies.get(\"login_type\");\n    if ((l_type !== undefined) && (l_type !== \"undefined\") ) {\n      this.login_type = Cookies.get(\"login_type\");\n    } \n    if(this.login_type == undefined) {\n      this.login_type = \"Portal\"\n    }\n  },\n  beforeMount() {\n    var email = this.$route.query.email;\n    var token_id = this.$route.query.token;\n    if (email && token_id) {\n      this.$router.replace(\"login\");\n      axios\n        .post(api_calls.validate_login(), {\n          email: email,\n          token: token_id,\n        })\n        .then((response) => {\n          if (response.data == \"Email already verified\") {\n            swal({\n              html:\n                \"<h6>This Email verification link is Expired. You already Verified your account. Kindly login</h6>\",\n            });\n          } else if (response.data == \"Email verification successful\") {\n            swal({\n              type: \"success\",\n              html:\n                \"<h6>Your email verification is successfully done . Please use Email id as your username and password for login</h6>\",\n              timer: 3000,\n            });\n          } else if (response.data == \"User Doesn't Exist\") {\n            swal({\n              html: \"<h6>User Doesn't Exist</h6>\",\n              type: \"error\",\n              timer: 2000,\n            });\n          }\n        });\n    }\n  },\n  methods: {\n    email_validate() {\n      if (this.reg_email.test(this.forgot_password_email)) {\n        this.show_validation_string = false;\n      } else {\n        this.show_validation_string = true;\n      }\n    },\n    //  toggle_domain(event) {\n    //   if (event.target.value == \"Portal\") {\n    //     document.getElementById(\"domain_input\").style.display = \"\";\n    //   } else if (event.target.value == \"Bot\") {\n    //     document.getElementById(\"domain_input\").style.display = \"none\";\n    //   }},\n    clear_fields() {\n      this.forgot_password = \"\";\n      $(\"#usermodal\").modal(\"hide\");\n    },\n    forgot_password() {\n      event.preventDefault();\n      if (\n        this.show_validation_string == false &&\n        this.forgot_password_email != \"\"\n      ) {\n        swal({\n          toast: true,\n          text: \"Please wait while we submit your details\",\n          showConfirmButton: false,\n          type: \"info\",\n        });\n        axios\n          .post(api_calls.forgot_password(), {\n            email: this.forgot_password_email,\n          })\n          .then((response) => {\n            if (response.data.includes(\"email address\")) {\n              swal({\n                html: response.data,\n                type: \"error\",\n              });\n            } else if (response.data == \"A mail has been sent to your email\") {\n              swal({\n                html:\n                  \"<h6>We have sent a link to reset your password. Kindly check your e-mail</h6>\",\n                timer: 3000,\n              });\n              $(\"#usermodal\").modal(\"hide\");\n            } else {\n              swal({\n                html: \"<h6>Some Error Occurred. Please Try Again</h6>\",\n                timer: 2500,\n              });\n              $(\"#usermodal\").modal(\"hide\");\n            }\n          });\n      }\n    },\n    password_toggle() {\n      var password = document.getElementById(\"form_password\");\n      if (password.type == \"text\") {\n        password.type = \"password\";\n      } else if (password.type == \"password\") {\n        password.type = \"text\";\n      }\n    },\n    create() {\n      this.is_submitting = true;\n      if (this.user.name == \"\" || this.user.password == \"\") {\n        swal({\n          type: \"warning\",\n          title: \"<h4>Kindly enter the email and password</h4>\",\n          timer: 2500,\n        });\n      } else {\n        this.is_submitting = false;\n        this.login_button_spinner = true;\n        // document.getElementById(\"spinner\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", true);\n        this.call_api();\n      }\n    },\n    redir(message) {\n      // if (!this.is_super_admin){\n          this.login_button_spinner = false;\n        // document.getElementById(\"spinner\").style.opacity = \"0\";\n        document.getElementById(\"body\").style.opacity = \"0.5\";\n      // } \n      if (message == \"Email hasn't been verified.\") {\n        swal({\n          html:\n            \"<h6>Your account has not been validated for login.<br>Please visit your e-mail</h6>\",\n          timer: 3000,\n          type: \"error\",\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"Internal Server Error\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>There was an internal server error. Please try again.</h6>\",\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"User has not been approved yet.\") {\n        swal({\n          type: \"warning\",\n          html:\n            \"<h6>Your registration has not been approved or it has been declined by Admin. Kindly check your mail</h6>\",\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"You are already logged in!\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>This user is already logged in</h6>\",\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"Invalid Credentials\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>Invalid Credentials!</h6>\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"API LIMIT EXCEEDED\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>Your monthly api requests has exceeded. Please Upgrade your plans to login</h6>\",\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message.MSG == \"Password should be Renewed\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>Your password has been expired. Please Renew your password</h6>\",\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if(Boolean(message.is_super_admin_login)){\n        this.$router.push({\n          name: \"SuperAdminIntermediateScreen\",\n          params: {\n            data: message.all_users_list\n          }\n        });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n      } else if (this.login_type == \"Bot\") {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.check_template_subscription('push_direct_response_bot');\n        // this.$router.push(\"/bot/directresponsebot\");\n      } else if (message.MSG == \"User Is Locked\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>This user has been locked</h6>\",\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"retail_web_framework\", message.retail_web_framework);\n        axios\n          .post(api_calls.bot_response_token(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            username: this.$session.get(\"UserInformation\").email,\n          })\n          .then((response) => {\n            this.$session.set(\"BotToken\", response.data);\n            this.$session.remove(\"TemporaryBotToken\");\n            bus.$emit(\"Token changed\", \"True\");\n          });\n        this.$session.set(\"UserFirstName\", message.userinformation.first_name);\n        this.$session.set(\"UserLastName\", message.userinformation.last_name);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"RestrictionList\", message.restriction_list);\n        document.cookie =\n          \"company_id=\" + this.$session.get(\"UserInformation\").company_id;\n        document.cookie =\n          \"company_name=\" + this.$session.get(\"UserInformation\").company_name;\n        document.cookie = \n          \"company_email=\" + this.$session.get(\"UserInformation\").email; \n        this.login_button_spinner = true;\n        // document.getElementById(\"spinner\").style.opacity = \"1\";\n        this.check_template_subscription(null, message.menubind);\n        // setTimeout(() => {\n        // this.update_menu_list(message.menubind);\n        // }, 100);\n      }\n      this.user.email = \"\";\n      this.user.password = \"\";\n    },\n    check_template_subscription(param, menu) {\n      axios\n        .get(api_calls.open_bot_template_subscription_api(), {\n          params: {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(({data}) => {\n          this.open_bot_api_response_received = true;\n          if (param === null){\n            this.update_menu_list(menu);\n          }\n          if(data.status === \"Success\"){\n            this.$session.set(\"BotTemplates\", data.templates)\n            if(param === 'push_direct_response_bot'){\n              this.$router.push({\n               name: \"Direct Response Bot\",\n               params: {\n                 reload: true\n               }\n              });\n            }\n          } else {\n            if(param === 'push_direct_response_bot'){\n              this.$router.push({\n               name: \"Direct Response Bot\",\n               params: {\n                 reload: true\n               }\n              });\n            }\n          }\n        }).catch((e)=> {\n          this.open_bot_api_response_received = true;\n          if (param === null){\n            this.update_menu_list(menu);\n          }\n          if(param === 'push_direct_response_bot'){\n              this.$router.push({\n               name: \"Direct Response Bot\",\n               params: {\n                 reload: true\n               }\n              });\n            }\n          console.log(e);\n        });\n    },\n    call_api() {\n      this.user.date = moment().toISOString();\n      axios\n        .post(api_calls.login(), this.user)\n        .then((response) => {\n          this.redir(response.data);\n        })\n        .catch((e) => {\n          this.login_button_spinner = false;\n          // document.getElementById(\"spinner\").style.opacity = \"0\";\n          $('button[type=\"submit\"]').prop(\"disabled\", false);\n          swal({\n            html: \"<h4>Some Error Occurred.<br>Please Try Again!</h4>\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          // toastr.error(\"There is an internal server error.\");\n        });\n    },\n    update_menu_list(message) {\n      let menu = {};\n      let main_menu_list = message.filter(\n        (arr) => arr.IsMasterMenu == true && arr.Enabled == true\n      );\n      let main_menu_list_filtered = [];\n      let sub_menu_list = message.filter(\n        (arr) =>\n          arr.HasSubMenus == false &&\n          arr.Enabled == true &&\n          arr.IsSubMenu == true\n      );\n\n      for (let i = 0, n = main_menu_list.length; i < n; i += 1) {\n        let menuFilter = sidebaritems.filter((sidebar) => {\n          return (\n            sidebar.name === main_menu_list[i].MenuItem &&\n            Boolean(sidebar.svg_html)\n          );\n        });\n        if (menuFilter.length > 0) {\n          main_menu_list_filtered.push(menuFilter[0]);\n          menu[menuFilter[0].name] = {\n            main_menu: menuFilter[0],\n            sub_menu_list: [],\n          };\n        }\n      }\n      try {\n        for (let i = 0, n = sub_menu_list.length; i < n; i += 1) {\n          for (var j in sidebaritems) {\n            if (\n              sidebaritems[j].name === sub_menu_list[i].MenuItem &&\n              Boolean(sidebaritems[j].page_path && sidebaritems[j].master_menu === sub_menu_list[i].MasterMenu)\n            ) {\n              menu[sub_menu_list[i].MasterMenu].sub_menu_list.push(\n                sidebaritems[j]\n              );\n            }\n          }\n        }\n      } catch (e) {\n        console.log(e);\n        // debugger;\n      }\n      menu = Object.values(menu);\n\n      // for (let i = 0, n = message.length; i < n; i += 1) {\n      //   if (message[i].Enabled && message[i].IsMasterMenu) {\n      //     let menuFilter = sidebaritems.filter((sidebar) => {\n      //       return (\n      //         sidebar.name === message[i].MenuItem && Boolean(sidebar.svg_html)\n      //       );\n      //     });\n      //     if (menuFilter.length > 0) {\n      //       main_menu = menuFilter[0];\n      //     }\n      //   } else if (\n      //     message[i].HasSubMenus == false &&\n      //     message[i].Enabled &&\n      //     message[i].IsSubMenu &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     for (var j in sidebaritems) {\n      //       if (\n      //         sidebaritems[j].name === message[i].MenuItem &&\n      //         Boolean(sidebaritems[j].page_path)\n      //       ) {\n      //         submenus.push(sidebaritems[j]);\n      //       }\n      //     }\n      //   }\n      //   if (\n      //     i == n - 1 ||\n      //     (message[i].IsMasterMenu == true &&\n      //       message[i].HasSubMenus === false &&\n      //       !Boolean(message[i].IsSubMenu) &&\n      //       message[i].Enabled)\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   } else if (\n      //     i < n - 1 &&\n      //     message[i + 1].IsMasterMenu &&\n      //     (!Boolean(message[i + 1].IsSubMenu) ||\n      //       message[i + 1].HasSubMenus == true) &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   }\n      // }\n      this.$session.set(\"ChatbotMenu\", menu);\n      // while (!this.open_bot_api_response_received){\n        this.$router.push(\"/bot/dashboard\");\n      // }\n    },\n  },\n};\n</script>\n<style >\n .custom-select.is-valid, .form-control.is-valid, .was-validated .custom-select:valid, .was-validated .form-control:valid {\n    border-color: #53b9d0;\n}\n</style>\n<style scoped>\n@media (min-width: 992px){\n  .container {\n    max-width: 960px;\n}\n}\n@media (min-width: 1200px){\n  .container {\n    max-width: 960px;\n}\n}\n.title-sec .white-btn {\n  text-transform: initial;\n  min-width: 170px;\n}\n.title-sec p {\n  font: normal normal normal 17px/27px Poppins;\n  opacity: 0.7;\n  font-weight: 300;\n}\n.white-btn {\n  font: normal normal 600 16px/27px Poppins;\n  color: #0E2A64;\n}\n.darkblue-btn {\n  border-radius: 30px;\n  width: 50%;\n  margin: auto;\n}\n.log-sec{\n    padding: 50px;\n    position: relative;\n    height: 100%;\n}\n.log-sec h2{\n  font: normal normal 600 28px/53px Poppins;\n  color: #0E2A64;\n  margin: 10px 0px 0px;\n}\n.form-group, .log-wrap form .radio {\n    margin: 0px 15px 15px;\n}\n.radio label {\n  font-size: 16px;\n}\n\n.view-fail {\n  position: absolute;\n  left: 12px;\n  top: 12px;\n  display: block;\n}\n\n.view-fail img {\n  width: 26px;\n  display: block;\n}\n\n.forgot {\n  font: normal normal normal 13px/20px Poppins;\n}\n.invalid{\n  border-color: red;\n}\n</style>\n"]}]}