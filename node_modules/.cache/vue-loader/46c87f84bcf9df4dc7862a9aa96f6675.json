{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/StripePaymentHandling/PaymentRedirect.vue?vue&type=style&index=0&id=ec487ae8&scoped=true&lang=scss&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/StripePaymentHandling/PaymentRedirect.vue","mtime":1645594423495},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb250YWluZXItc3Bpbm5lciB7CiAgaGVpZ2h0OiAxNXB4OwogIHdpZHRoOiAxMDVweDsKICBkaXNwbGF5OiBmbGV4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAuY2lyY2xlIHsKICAgIHdpZHRoOiAxNXB4OwogICAgaGVpZ2h0OiAxNXB4OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzI5MzY3NzsKICAgIGFuaW1hdGlvbjogbW92ZSA1MDBtcyBsaW5lYXIgMG1zIGluZmluaXRlOwogICAgbWFyZ2luLXJpZ2h0OiAzMHB4OwoKICAgICY6Zmlyc3QtY2hpbGQgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMDsKICAgICAgbGVmdDogMDsKICAgICAgYW5pbWF0aW9uOiBncm93IDUwMG1zIGxpbmVhciAwbXMgaW5maW5pdGU7CiAgICB9CgogICAgJjpsYXN0LWNoaWxkIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IDA7CiAgICAgIHJpZ2h0OiAwOwogICAgICBtYXJnaW4tcmlnaHQ6IDA7CiAgICAgIGFuaW1hdGlvbjogZ3JvdyA1MDBtcyBsaW5lYXIgMHMgaW5maW5pdGUgcmV2ZXJzZTsKICAgIH0KICB9Cn0KCkBrZXlmcmFtZXMgZ3JvdyB7CiAgZnJvbSB7CiAgICB0cmFuc2Zvcm06IHNjYWxlKDAsIDApOwogICAgb3BhY2l0eTogMDsKICB9CiAgdG8gewogICAgdHJhbnNmb3JtOiBzY2FsZSgxLCAxKTsKICAgIG9wYWNpdHk6IDE7CiAgfQp9CgpAa2V5ZnJhbWVzIG1vdmUgewogIGZyb20gewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDBweCk7CiAgfQogIHRvIHsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCg0NXB4KTsKICB9Cn0K"},{"version":3,"sources":["PaymentRedirect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PaymentRedirect.vue","sourceRoot":"src/portal/Chatbot/Dashboard/StripePaymentHandling","sourcesContent":["<template>\n  <div>\n    <div style=\"background-color: #fafafa; padding-top: 20px\">\n      <div\n        class=\"modal-body\"\n        style=\"\n          width: 900px;\n          margin: auto;\n          text-align: justify;\n          border: 1px solid rgb(219, 219, 219);\n          border-radius: 9px;\n          background-color: #fff;\n          height: 90vh;\n        \"\n      >\n        <div class=\"modal-head d-flex align-items-center pb-0\">\n          <h3>Cense AI</h3>\n          <img\n            src=\"/img/cense_image.png\"\n            style=\"width: 25%; margin-left: auto\"\n            alt\n          />\n        </div>\n        <br />\n        <div class=\"card-body\" style=\"padding: 0px 10px\">\n          <div class=\"d-flex\">\n            <p class=\"mx-auto\">\n              Please wait while we redirect you back to our portal!!\n            </p>\n          </div>\n          <div class=\"container-spinner mx-auto\">\n            <span class=\"circle\"></span>\n            <span class=\"circle\"></span>\n            <span class=\"circle\"></span>\n            <span class=\"circle\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport { update_sidebar_menu, update_restriction_list} from \"@/portal/mixins\";\n\nexport default {\n  name: \"PaymentRedirect\",\n  data() {\n    return {\n      payment_status: null,\n      cense_session: null,\n      payment_type: null\n    };\n  },\n  mixins: [\n    update_sidebar_menu,\n    update_restriction_list\n  ],\n  created() {\n    this.payment_status = this.$route.query.status;\n    this.cense_session = this.$route.query.cense_session;\n    this.payment_type = this.$route.query.payment_type;\n    if(Boolean(this.payment_status) && Boolean(this.cense_session) && Boolean(this.payment_type)){\n      axios.post(api_calls.stripe_payment_gateway(), {\n        store_payment_response: true,\n        payment_response_cense_reference_id: this.cense_session,\n        payment_response_data: this.payment_status,\n        payment_type: this.payment_type\n      }).then((response) => {\n          if (response.data.Status === \"Success\") {\n            if (this.payment_type === 'subscription'){\n              if (response.data.UserMenu !== null) {\n                  let message = response.data.UserMenu;\n                  this.update_sidebar_menu(message)\n                }\n                // if (response.data.RestrictionList !== null) {\n                  this.update_restriction_list(response.data.RestrictionList)\n                // }\n            }\n            setTimeout(() => {\n            this.$router.push({\n              name: \"Dashboard\",\n              params: {\n                stripe_payment_redirect: true,\n                payment_response_data: this.payment_status,\n                payment_response_cense_reference_id: this.cense_session,\n                payment_type: this.payment_type\n              },\n            });\n          }, 2000);\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.$router.push({\n            params: {\n              stripe_payment_redirect: true,\n              payment_response_data: \"Failure\",\n              payment_response_cense_reference_id: this.cense_session,\n              payment_type: this.payment_type\n            },\n            name: \"Dashboard\",\n          });\n        });\n    } else {\n      this.$router.push({\n        params: {\n          stripe_payment_redirect: true,\n          payment_response_data: \"Failure\",\n          payment_response_cense_reference_id: this.cense_session,\n        },\n        name: \"Dashboard\",\n      });\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.container-spinner {\n  height: 15px;\n  width: 105px;\n  display: flex;\n  position: relative;\n  .circle {\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    background-color: #293677;\n    animation: move 500ms linear 0ms infinite;\n    margin-right: 30px;\n\n    &:first-child {\n      position: absolute;\n      top: 0;\n      left: 0;\n      animation: grow 500ms linear 0ms infinite;\n    }\n\n    &:last-child {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin-right: 0;\n      animation: grow 500ms linear 0s infinite reverse;\n    }\n  }\n}\n\n@keyframes grow {\n  from {\n    transform: scale(0, 0);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1, 1);\n    opacity: 1;\n  }\n}\n\n@keyframes move {\n  from {\n    transform: translateX(0px);\n  }\n  to {\n    transform: translateX(45px);\n  }\n}\n</style>"]}]}