{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Customer Support/CallRecording.vue?vue&type=style&index=0&id=1559cbc6&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Customer Support/CallRecording.vue","mtime":1643027096164},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCnRkIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0K"},{"version":3,"sources":["CallRecording.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmTA;AACA;AACA","file":"CallRecording.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Customer Support","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"dash-cont\">\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\">\n            <h4 class=\"mb-sm-0\">Recorded Calls</h4>\n            <div class=\"card-act d-flex flex-wrap\">\n              <!-- <input\n                class=\"form-control search-bar\"\n                id=\"search_bar\"\n                placeholder=\"Search here\"\n                v-model=\"search_name\"\n                v-on:keyup=\"callsearch\"\n              />\n              <a\n                href=\"javascript:void(0)\"\n                class=\"darkblue-btn\"\n                @click=\"search_product\"\n                id=\"search_btn\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                  width=\"14\"\n                  height=\"14\"\n                >\n                  <path\n                    d=\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </a>-->\n              <a\n                href=\"javascript:void(0)\"\n                class=\"red-btn\"\n                id=\"delete_records\"\n                @click=\"delete_recordings('all')\"\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 14 14\">\n                  <path\n                    d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                    transform=\"translate(-4 -3)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n                Delete\n              </a>\n            </div>\n          </div>\n          <div class=\"card-body\" id=\"page\">\n            <div class=\"table-box\">\n              <div class=\"table-responsive\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label class=\"form-check-label\">\n                            <input\n                              class=\"form-check-input\"\n                              id=\"selectall\"\n                              type=\"checkbox\"\n                              @change=\"selected_recordings('all')\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <th scope=\"col\" style=\"width:2%\">ACTION</th>\n                      <th scope=\"col\">NUMBER</th>\n                      <th scope=\"col\">RECORDED DATE</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(recording,index) in recordings_list\" :key=\"index\">\n                      <th scope=\"col\">\n                        <div class=\"form-check checkbox-success\">\n                          <label class=\"form-check-label checkbox checkbox-success\">\n                            <input\n                              class=\"form-check-input\"\n                              type=\"checkbox\"\n                              @change=\"selected_recordings(index)\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th>\n                      <td class=\"action\">\n                        <a\n                          href=\"javascript:void(0)\"\n                          id=\"single_delete_intent_id\"\n                          @click=\"delete_individual(index)\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"13.682\"\n                            height=\"15.392\"\n                            viewBox=\"0 0 13.682 15.392\"\n                          >\n                            <path\n                              d=\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\"\n                              transform=\"translate(-4 -3)\"\n                              fill=\"#f23d3d\"\n                            />\n                          </svg>\n                        </a>\n                      </td>\n                      <td>\n                        <a :href=\"recording.recorded_url\">{{recording.number}}</a>\n                      </td>\n                      <td>{{recording.recorded_date}}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      spinnerOn: false,\n      recordings_list: [],\n      checked_list: []\n    };\n  },\n  created() {\n    axios\n      .post(api_calls.call_recordings_list_url(), {\n        companyname: this.$session.get(\"UserInformation\").company_name,\n        companyid: this.$session.get(\"UserInformation\").company_id,\n        is_show: true,\n        license_key: this.$session.get(\"UserInformation\").license_key,\n        email: this.$session.get(\"UserInformation\").email,\n        token: this.$session.get(\"UserInformation\").tokens\n      })\n      .then(response => {\n        if (response.data.Content == \"Empty recording files\") {\n          console.log(\"empty\");\n        } else {\n          for (var i in response.data.Content.Number) {\n            this.recordings_list.push({\n              number: response.data.Content.Number[i],\n              recorded_date: response.data.Content.Recorded_Date[i],\n              call_url: response.data.Content.CallUrl[i],\n              recorded_url: response.data.Content.RecordedUrl[i]\n            });\n          }\n        }\n      });\n  },\n  mounted() {\n    var vm = this;\n    $(\"#selectall\").click(function() {\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n  },\n  methods: {\n    selected_recordings(index) {\n      if (index == \"all\") {\n        if (event.target.checked) {\n          for (var i in this.recordings_list) {\n            this.checked_list.push(this.recordings_list[i].call_url);\n          }\n        } else if (!event.target.checked) {\n          this.checked_list = [];\n        }\n      } else {\n        if (event.target.checked == true) {\n          let val_index = this.checked_list.indexOf(\n            this.recordings_list[index]\n          );\n          var temp = this.recordings_list[index];\n          if (val_index == -1) {\n            this.checked_list.push(temp.call_url);\n          }\n        } else if (event.target.checked == false) {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked == true) {\n            selectall.checked = false;\n          }\n          this.checked_list.splice(this.recordings_list[index].call_url, 1);\n        }\n      }\n    },\n    delete_recordings(type) {\n      if (this.checked_list.length == 0) {\n        Swal.fire({\n              title:\"No record selected!\",\n              text:\"\",\n              type:\"error\",\n              timer:2000,\n            });\n      } else if (this.checked_list.length > 0) {\n        Swal.fire({\n          title: \"Are you sure?\",\n          text: \"You won't be able to revert this!\",\n          type: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Yes, delete it!\"\n        }).then(result => {\n          if (result.value) {\n            this.spinnerOn = true;\n            axios\n              .post(api_calls.call_recordings_list_url(), {\n                companyname: this.$session.get(\"UserInformation\").company_name,\n                companyid: this.$session.get(\"UserInformation\").company_id,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                is_delete: true,\n                delete_file_url: this.checked_list\n              })\n              .then(response => {\n                this.spinnerOn = false;\n                if (response.data.Msg == \"Deleted Successfully\") {\n                  Swal({\n                    type: \"success\",\n                    text: \"Your Recording(s) have been deleted.\",\n                    timer:2000,\n                  }).then(res => {\n                    if (res.value) {\n                      this.$router.go();\n                    }\n                  });\n                } else {\n                  toastr.error(\"Internal Server Error\");\n                }\n              })\n              .catch(e => {\n                this.spinnerOn = false;\n                toastr.error(\"Internal Server Error\");\n              });\n          }\n        });\n      }\n    },\n    delete_individual(index) {\n      let temp = [];\n      temp.push(this.recordings_list[index].call_url);\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"You won't be able to revert this!\",\n        type: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, delete it!\"\n      }).then(result => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(api_calls.call_recordings_list_url(), {\n              companyname: this.$session.get(\"UserInformation\").company_name,\n              companyid: this.$session.get(\"UserInformation\").company_id,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              email: this.$session.get(\"UserInformation\").email,\n              token: this.$session.get(\"UserInformation\").tokens,\n              is_delete: true,\n              delete_file_url: temp\n            })\n            .then(response => {\n              this.spinnerOn = false;\n              if (response.data.Msg == \"Deleted Successfully\") {\n                Swal({\n                  type: \"success\",\n                  text: \"Your Recording(s) have been deleted.\",\n                  timer:2000,\n                }).then(res => {\n                  if (res.value) {\n                    this.$router.go();\n                  }\n                });\n              } else {\n                toastr.error(\"Internal Server Error\");\n              }\n            })\n            .catch(e => {\n              this.spinnerOn = false;\n              toastr.error(\"Internal Server Error\");\n            });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\ntd {\n  text-align: center;\n}\n</style>"]}]}