{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Workflow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Workflow.vue","mtime":1643027096184},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCAnanF1ZXJ5LXVpJzsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgc3dhbCBmcm9tICdzd2VldGFsZXJ0Mic7Ci8vIGltcG9ydCAnL2hvbWUvYXZkaHV0L0RvY3VtZW50cy9jaGF0Ym90LXZ1ZS9jZW5zZV9wb3J0YWwvc3RhdGljL2pzL2pxdWVyeS11aS5taW4uanMnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIldvcmtmbG93IiwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzaG93X3NwaW5uZXI6IGZhbHNlLAogICAgICAgICAgICBjb21wYW55aWQ6ICIiLAogICAgICAgICAgICBsb2NhdGlvbjogIiIsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogIiIsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6ICIiLAogICAgICAgICAgICBib3RfbmFtZTogIiIsCiAgICAgICAgICAgIGJvdF90eXBlOiAiIiwKICAgICAgICAgICAgYm90X2lkOiAiIiwKICAgICAgICAgICAgYm90X3ZlcnNpb246ICIiLAogICAgICAgICAgICBsZXZlbHM6W10sCiAgICAgICAgICAgIG1heGlkOjAsCiAgICAgICAgICAgIHNlbGVjdGVkbm9kZTpudWxsLAogICAgICAgICAgICBzZWxlY3RlZGxldmVsOm51bGwsCiAgICAgICAgICAgIHNlbGVjdGVkbGV2ZWxsaXN0OltdLAogICAgICAgICAgICAvLyBzZWxlY3RlZG5vZGV0aXRsZTpudWxsLAogICAgICAgICAgICBuYW1lOm51bGwsCiAgICAgICAgICAgIGJ1dHRvbnNuYW1lOltdLAogICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgICAgIGh5cGVybGluazpudWxsLAogICAgICAgICAgICB2YWx1ZTpbXSwKICAgICAgICAgICAgZGlzcGxheW1lc3NhZ2U6W10sCiAgICAgICAgICAgIHNpbmdsZXZhbHVlOltdLAogICAgICAgICAgICBmb3JtdmFsdWVzOltdLAogICAgICAgICAgICBmb3JtZmlsZG5hbWVzOltdLAogICAgICAgICAgICBmb3JtbmFtZTpudWxsLAogICAgICAgICAgICB0ZXN0aHlwZXJsaW5rOi9eKGh0dHA6XC9cL3d3d1wufGh0dHBzOlwvXC93d3dcLnxodHRwOlwvXC98aHR0cHM6XC9cLyk/W2EtejAtOV0rKFtcLVwuXXsxfVthLXowLTldKykqXC5bYS16XXsyLDV9KDpbMC05XXsxLDV9KT8oXC8uKik/JC8sCiAgICAgICAgICAgIGVtcHR5X3N0cmluZ192YWxpZGl0eTogL14kLywKICAgICAgICAgICAgLy8gdGVzdGh5cGVybGluazovXGIoKGh0dHB8aHR0cHMpOlwvXC8/KVteXHMoKTw+XSsoPzpcKFtcd1xkXStcKXwoW15bOnB1bmN0Ol1cc118XC8/KSkvLAogICAgICAgICAgICB0ZXN0X290cF9yZWdleDogL3tvdHB9LywKICAgICAgICAgICAgc2VsZWN0ZWQ6bnVsbCwKICAgICAgICAgICAgaXNfcHJldmlld19yZWFkeTogZmFsc2UsCiAgICAgICAgICAgIGVsZW1lbnRzdmdzOnsKICAgICAgICAgICAgICAgIGJ1dHRvbjonPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMC4zOTkiIGhlaWdodD0iMTAuODMzIiBzdHlsZT0iZmlsbDojOTc5Nzk3O21hcmdpbi1yaWdodDo1JSIgdmlld0JveD0iMCAwIDEwLjM5OSAxMC44MzMiPiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTA2LjUxMyAtNDA3KSI+IDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUwNi41MTMgNDA3KSI+IDxwYXRoIGNsYXNzPSJhIiBkPSJNMTI0LjQwNiwxOTdjLjAyOS4wMS4wNTguMDIyLjA4OC4wMjlhMS4yLDEuMiwwLDAsMS0uMjU4LDIuMzc5cS00LDAtOCwwYTEuMiwxLjIsMCwwLDEtLjI1OC0yLjM3OWMuMDMtLjAwNy4wNTktLjAxOS4wODgtLjAyOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTUuMDM1IC0xOTcpIi8+IDxwYXRoIGNsYXNzPSJhIiBkPSJNMTE2LjAxMSw1MTAuMzczYTEuMzY3LDEuMzY3LDAsMCwxLS42OC0uMzYzLDEuMiwxLjIsMCwwLDEsLjgtMi4wNDJjLjA1NCwwLC4xMDgsMCwuMTYyLDBxMy44OTMsMCw3Ljc4NSwwYTEuMjE3LDEuMjE3LDAsMCwxLDEuMTU2LjYzNywxLjIsMS4yLDAsMCwxLS43OTEsMS43NDZjLS4wMy4wMDctLjA1OC4wMTktLjA4Ny4wMjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE0Ljk4MSAtNDk5LjU0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTIwLjMsMzU1Yy0xLjMyMiwwLTIuNjQ0LDAtMy45NjUsMGExLjIsMS4yLDAsMCwxLS4xMTEtMi40Yy4wNDksMCwuMSwwLC4xNDksMGg3Ljg2M2ExLjIsMS4yLDAsMCwxLC4xMzgsMi40Yy0uMzczLjAxOS0uNzQ5LjAwNy0xLjEyMy4wMDdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE1LjA5OSAtMzQ4LjM4MSkiLz4gPC9nPiA8L2c+IDwvc3ZnPicsCiAgICAgICAgICAgICAgICB0ZXh0Ym94Oic8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEzLjE2OSIgaGVpZ2h0PSIxMC4wNiIgc3R5bGU9ImZpbGw6Izk3OTc5NzsiIHZpZXdCb3g9IjAgMCAxMy4xNjkgMTAuMDYiPiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAgMikiPiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIwIC0yKSI+IDxwYXRoIGNsYXNzPSJhIiBkPSJNODUuMDQ0LDI0MC44NDlIODIuNjEzYy0uMjc1LDAtLjM4Ni0uMS0uMzg1LS4zNzUuMDA2LTEuNTg3LS4wMjktMy4xNzUuMDE5LTQuNzYxYTcuNjI3LDcuNjI3LDAsMCwxLC40MTMtMi4zNTcsMy43MSwzLjcxLDAsMCwxLDMuMDc5LTIuNSw0LjU2Nyw0LjU2NywwLDAsMSwuODU1LS4wNjZjLjIzMSwwLC4zNDQuMTA3LjM0NS4zMzZxLjAwNS43ODYsMCwxLjU3M2EuMzA2LjMwNiwwLDAsMS0uMjg5LjMzNywxLjM0LDEuMzQsMCwwLDAtMS40LDEuMzIxLDcuNjI0LDcuNjI0LDAsMCwwLS4wNiwxLjIwNWMwLC4xMjguMDc5LjEyMi4xNjUuMTIyaDIuMTI2YS40NTcuNDU3LDAsMCwxLC4yMTQuMDI5LjMzNC4zMzQsMCwwLDEsLjE3NS4zNHEwLDEuNTUxLDAsMy4xLDAsLjY0MSwwLDEuMjgxYzAsLjMyLS4wOTMuNDExLS40MTkuNDExaC0yLjRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODIuMjIxIC0yMzAuNzkpIi8+IDxwYXRoIGNsYXNzPSJhIiBkPSJNMzQwLjgsMjM3Ljc1M2MuMDE0LS42NzctLjAzLTEuNTE3LjAzMy0yLjM1NmE4LjE4MSw4LjE4MSwwLDAsMSwuMzM3LTEuODcyLDMuNzI0LDMuNzI0LDAsMCwxLDIuOTY5LTIuNjUsNC41MzgsNC41MzgsMCwwLDEsMS4wMjctLjEuMzA1LjMwNSwwLDAsMSwuMzQ3LjMzOHEuMDA3Ljc4NiwwLDEuNTcyYS4zMTEuMzExLDAsMCwxLS4zMzcuMzM3LDEuMjUsMS4yNSwwLDAsMC0xLjMsMS4wMzQsNS41NzIsNS41NzIsMCwwLDAtLjEyLDEuNWMwLC4xMi4wODUuMTA5LjE2My4xMDloMi4xNTVjLjI0OCwwLC4zNTcuMTA3LjM1OC4zNTQsMCwuNjExLDAsMS4yMjMsMCwxLjgzNHEwLDEuMjg4LDAsMi41NzdjMCwuMy0uMS40LS40LjRIMzQxLjJjLS4zLDAtLjQtLjEtLjQtLjRDMzQwLjgsMjM5LjU5NCwzNDAuOCwyMzguNzU1LDM0MC44LDIzNy43NTNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMzLjI2NiAtMjMwLjc3NykiLz4gPC9nPiA8L2c+IDwvc3ZnPicsCiAgICAgICAgICAgICAgICB0ZXh0YXJlYTonPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNC44MzkiIGhlaWdodD0iMTQuMzIzIiB2aWV3Qm94PSIwIDAgMTQuODM5IDE0LjMyMyI+PGRlZnM+PHN2ZzpzdHlsZT4uZntmaWxsOiNmZmY7fTwvc3ZnOnN0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzUuNjk5IDExMy44MDUpIj48cGF0aCBhIiBkPSJNMTguODM5LTU1LjU2N0g4LjU2OGEuMTkzLjE5MywwLDAsMS0uMTc0LS4wNTkuMTc1LjE3NSwwLDAsMS0uMDM0LS4xOTMuMTc0LjE3NCwwLDAsMSwuMTY1LS4xYy4xMTUsMCwuMjMsMCwuMzQ2LDBIMTkuMTk0di4xcTAsNS40MTEsMCwxMC44MjJhLjE4Ny4xODcsMCwwLDEtLjE3Ny4yMTRjLS4xMDksMC0uMTc5LS4wODMtLjE3OS0uMjEzcTAtMi40NCwwLTQuODgsMC0yLjI1NiwwLTQuNTEyLDAtLjU0MiwwLTEuMDg0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4MS4yMTQgLTU2Ljk5MSkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTS0xMDEuMDU0LDQzLjM3N2gxMC4yYy4xMzEsMCwuMi4wNjQuMi4xNzdzLS4wNzguMTc4LS4yMDUuMTc4aC0xMC41NThjMC0uMDMtLjAwNS0uMDU0LDAtLjA3OSwwLS40NTgsMC0uOTE3LDAtMS4zNzVxMC0xLjgzNywwLTMuNjc0LDAtMi4zNzUsMC00Ljc1YzAtLjM3MSwwLS43NDIsMC0xLjExM2EuMTc0LjE3NCwwLDAsMSwuMjI1LS4xODYuMTg1LjE4NSwwLDAsMSwuMTMzLjE5MnEwLDEuOTc1LDAsMy45NSwwLDIuNjE3LDAsNS4yMzQsMCwuNjg3LDAsMS4zNzVDLTEwMS4wNTcsNDMuMzI1LTEwMS4wNTUsNDMuMzQ2LTEwMS4wNTQsNDMuMzc3WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTczLjE0MiAtMTQ0LjEwNCkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTS0xNzUuMTI3LTExMi43NjZhMi4yMDgsMi4yMDgsMCwwLDEsLjMuMTY5LjUyNy41MjcsMCwwLDEsLjE0My42LjUzMy41MzMsMCwwLDEtLjU0MS4zMjUuNTIxLjUyMSwwLDAsMS0uNDU2LS4zODYsMS4wODEsMS4wODEsMCwwLDEsLjAyMS0uNDk0LDIuNzI3LDIuNzI3LDAsMCwxLC40MjQtMS4wMiwxLjE1NSwxLjE1NSwwLDAsMSwuMTU4LS4xNzYuMi4yLDAsMCwxLC4yMzUtLjAzMmMuMDgxLjA0LjA4MS4xMTUuMDc2LjE5MmEuOTIzLjkyMywwLDAsMS0uMTM1LjM3MUMtMTc0Ljk3OS0xMTMuMDY0LTE3NS4wNTUtMTEyLjkwOC0xNzUuMTI3LTExMi43NjZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik02MTcuNDg4LDY3OS45MzNhLjU4Mi41ODIsMCwwLDEtLjM5NC0uMjI0LjUyOS41MjksMCwxLDEsLjk1LS4yNzEsMi42ODgsMi42ODgsMCwwLDEtLjQ4NSwxLjM1NS45LjksMCwwLDEtLjE0Ny4xNTYuMTk0LjE5NCwwLDAsMS0uMjI5LjAyMmMtLjA3NC0uMDM4LS4wNzUtLjEwOC0uMDcyLS4xOGEuODY1Ljg2NSwwLDAsMSwuMTI3LS4zNjZDNjE3LjMyMSw2ODAuMjY1LDYxNy40LDY4MC4xLDYxNy40ODgsNjc5LjkzM1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03ODAuNTAyIC03ODAuNDgxKSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNzIxLjQ1Miw2NzkuOTM2YS41ODcuNTg3LDAsMCwxLS4zODktLjIxOC41MjkuNTI5LDAsMCwxLC42LS44Mi41MjYuNTI2LDAsMCwxLC4zNDEuNTUxLDIuNjk0LDIuNjk0LDAsMCwxLS40NjUsMS4zMjMuOTU4Ljk1OCwwLDAsMS0uMTU5LjE3NS4yLjIsMCwwLDEtLjIzNS4wMjdjLS4wNzUtLjA0My0uMDc2LS4xMTQtLjA3MS0uMTg4YS45MTMuOTEzLDAsMCwxLC4xMzQtLjM3MUM3MjEuMjksNjgwLjI1OSw3MjEuMzY4LDY4MC4xLDcyMS40NTIsNjc5LjkzNloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04ODIuODY4IC03ODAuNDg0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNLTcxLjAwNy0xMTIuNzU3YTEuNjQxLDEuNjQxLDAsMCwxLC4yNzguMTQuNTE0LjUxNCwwLDAsMSwuMTkxLjU2MS41LjUsMCwwLDEtLjQxLjM4LjUyMy41MjMsMCwwLDEtLjYyNi0uNTE2LDIuNiwyLjYsMCwwLDEsLjUxMS0xLjQzOC43LjcsMCwwLDEsLjEzMS0uMTI5LjE5MS4xOTEsMCwwLDEsLjIxNy0uMDE3Yy4wNzQuMDM3LjA3OC4xMDUuMDc2LjE3OGEuODUzLjg1MywwLDAsMS0uMTI1LjM2NkMtNzAuODQ4LTExMy4wNzEtNzAuOTI5LTExMi45MS03MS4wMDctMTEyLjc1N1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDIuNTI1IC0wLjAwNCkiLz48L2c+PC9zdmc+JywKICAgICAgICAgICAgICAgIGh5cGVybGluazonPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNS42MjkiIGhlaWdodD0iMTUuNjI5IiBzdHlsZT0iZmlsbDojOTc5Nzk3OyJ2aWV3Qm94PSIwIDAgMTUuNjI5IDE1LjYyOSI+IDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ0NSAyMjgpIj4gPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ0NSAtMjI4KSI+IDxwYXRoIGNsYXNzPSJhIiBkPSJNLTE2Mi45MjMsOTEuODQ5Yy45MTItLjkxMiwxLjgyLTEuODI3LDIuNzM2LTIuNzM0YTEuNzM2LDEuNzM2LDAsMCwxLDIuODcyLjdjLjAxOC4wNTQuMDMyLjEwOS4wNDguMTY3YTEuMTc4LDEuMTc4LDAsMCwwLC43MS0uMzM0Yy4yLS4xOTMuMzktLjM5MS41ODctLjU4NGEuMDY4LjA2OCwwLDAsMCwuMDE2LS4wOTRjLS4wODEtLjE0NS0uMTUyLS4zLS4yNDMtLjQzNmEzLjMxMiwzLjMxMiwwLDAsMC01LjEyMi0uNTE3cS0xLjg0OSwxLjg0Mi0zLjY5MSwzLjY5YTMuMjczLDMuMjczLDAsMCwwLS45MywxLjc1MmMtLjAyNC4xMy0uMDQuMjYxLS4wNTkuMzkydi40MzhjLjAyLjEzMy4wMzUuMjY3LjA2MS40YTMuMywzLjMsMCwwLDAsMi44NzgsMi42NzMuNTQ2LjU0NiwwLDAsMSwuMTIyLjAyMmguNWEuMDUyLjA1MiwwLDAsMSwuMDM3LS4wMTUsMy4yMjUsMy4yMjUsMCwwLDAsMi4wMzUtLjk0cTEuODc5LTEuODY3LDMuNzQ3LTMuNzQ1Yy4wNDktLjA0OC4wOTQtLjEuMTU2LS4xNjdsLS4wODMuMDE3YTMuNzkzLDMuNzkzLDAsMCwxLTEuOTY4LS4wNjguMTM4LjEzOCwwLDAsMC0uMTYxLjA0M3EtMS4zODgsMS4zOTItMi43NzksMi43OGExLjY2MiwxLjY2MiwwLDAsMS0xLjUyOS40OSwxLjY0NCwxLjY0NCwwLDAsMS0xLjM1OC0xLjE4MSwxLjY3MSwxLjY3MSwwLDAsMSwuNDM3LTEuNzY5Qy0xNjMuNTc5LDkyLjUtMTYzLjI0OSw5Mi4xNzUtMTYyLjkyMyw5MS44NDlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjYgLTgxLjc1NCkiLz4gPHBhdGggY2xhc3M9ImEiIGQ9Ik0yMDAuNDg0LTI0Ny40NjhjLS4wMi4xMzMtLjAzNi4yNjctLjA2MS40YTMuMjQsMy4yNCwwLDAsMS0uOTEyLDEuNzI3cS0xLjg1OCwxLjg2LTMuNzE5LDMuNzE4YTMuMzExLDMuMzExLDAsMCwxLTUuMTE0LS41MzNjLS4wOS0uMTM2LS4xNTgtLjI4Ny0uMjM5LS40MjlhLjA3MS4wNzEsMCwwLDEsLjAyLS4xYy4xOTEtLjE4OC4zNzktLjM3OS41Ny0uNTY4YTEuMTYxLDEuMTYxLDAsMCwxLC43MjItLjM0NGMuMDA4LjAyNS4wMTYuMDUyLjAyNC4wNzhhMS43MzUsMS43MzUsMCwwLDAsMi45Ljc4NnExLjc1Mi0xLjc0LDMuNDkyLTMuNDkyYTMuNTc0LDMuNTc0LDAsMCwwLC40Ni0uNTE4LDEuNzMxLDEuNzMxLDAsMCwwLTEuMjM5LTIuNjY1LDEuNjksMS42OSwwLDAsMC0xLjQ1Mi41cS0xLjM5MiwxLjM4Ny0yLjc3OCwyLjc4YS4xNDUuMTQ1LDAsMCwxLS4xNjguMDQ2LDMuODgzLDMuODgzLDAsMCwwLTIuMDQ5LS4wNDRjLjAyNy0uMDMyLjA0My0uMDUzLjA2MS0uMDcxcS42MjgtLjYzMiwxLjI1Ni0xLjI2M2MuODM5LS44NCwxLjY4Mi0xLjY3NywyLjUxOC0yLjUyYTMuMzQxLDMuMzQxLDAsMCwxLDEuOC0uOTY2Yy4xMjUtLjAyMy4yNTItLjAzNy4zNzgtLjA1NmguNDM4Yy4xMjEuMDE3LjI0My4wMy4zNjIuMDUyYTMuMjk0LDMuMjk0LDAsMCwxLDIuNjczLDIuNjUxYy4wMjYuMTI5LjA0LjI2MS4wNTkuMzkyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4NC44NTUgMjUxKSIvPiA8L2c+IDwvZz4gPC9zdmc+JywKICAgICAgICAgICAgICAgIGNoZWNrYm94Oic8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE0LjYxMSIgaGVpZ2h0PSIxMi4zNjkiIHN0eWxlPSJmaWxsOiM5Nzk3OTc7IiAgdmlld0JveD0iMCAwIDE0LjYxMSAxMi4zNjkiPiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODggLTEwNykiPiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTg4IDEwNykiPiA8cGF0aCBjbGFzcz0iYSIgZD0iTTIzMS45NTQsMTc0Ljg3Yy4zNTUtLjM1Ny42ODYtLjY5MiwxLjAxOC0xLjAyNGw0LjYtNC42YS43MTQuNzE0LDAsMCwxLDEuMTM1LDBjLjI4My4yODIuNTY3LjU2Mi44NDcuODQ3YS43LjcsMCwwLDEsMCwxLjFxLTIuNjM3LDIuNjQxLTUuMjc4LDUuMjc5bC0xLjc0OCwxLjc0OWEuNzA5LjcwOSwwLDAsMS0xLjEzNi4wMDVsLTMuNjQ5LTMuNjQ5YS43LjcsMCwwLDEtLjAwOS0xLjExNHEuNDQzLS40NDguODkxLS44OTFhLjcuNywwLDAsMSwxLjA1OC4wMDhxMS4wNzEsMS4wNjksMi4xMzksMi4xNEMyMzEuODY4LDE3NC43NTgsMjMxLjksMTc0LjgwNSwyMzEuOTU0LDE3NC44N1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjUuMjE4IC0xNjguMzg5KSIvPiA8cGF0aCBjbGFzcz0iYSIgZD0iTTE2MC4yNjksMTUwLjM2MmgzLjY0YTIuNDI0LDIuNDI0LDAsMCwxLDEsLjIuMjgzLjI4MywwLDAsMSwuMS41LDQuOTIxLDQuOTIxLDAsMCwxLS40LjQuNC40LDAsMCwxLS4yNDcuMDg0Yy0uMy0uMDA5LS41OS0uMDU0LS44ODUtLjA1NXEtMy4zOTQtLjAwNy02Ljc4OCwwYTEuMzg2LDEuMzg2LDAsMCwwLTEuNDYxLDEuNDU0cS0uMDA2LDMuNjI0LDAsNy4yNDlhMS4zOCwxLjM4LDAsMCwwLDEuNCwxLjRjMS4yOC4wMDUsMi41NiwwLDMuODQsMCwxLjE1MiwwLDIuMywwLDMuNDU1LDBhMS4zODIsMS4zODIsMCwwLDAsMS40LTEuMjI2LDYuOTg2LDYuOTg2LDAsMCwwLC4wMTMtLjc4MmMwLS41MjItLjAwNS0xLjA0NC4wMDYtMS41NjZhLjQ4My40ODMsMCwwLDEsLjExNS0uMjgyYy4xNTctLjE4MS4zMzctLjM0My41MDYtLjUxNWEuMjc2LjI3NiwwLDAsMSwuMzIxLS4wNzUuMjY5LjI2OSwwLDAsMSwuMTc5LjI3NmMtLjAwNiwxLjAwOC4wMTcsMi4wMTgtLjAyNCwzLjAyNGEyLjQ2MSwyLjQ2MSwwLDAsMS0yLjE2MiwyLjI0NWMtLjQ2Mi4wNDItLjkzLjAzLTEuNC4wMzFxLTMuMTI1LDAtNi4yNTEsMGEyLjUwOCwyLjUwOCwwLDAsMS0yLjM4OS0xLjcsMi43NzIsMi43NzIsMCwwLDEtLjEzOC0uODQycS0uMDE2LTMuNjU1LDAtNy4zMWEyLjUsMi41LDAsMCwxLDIuNDA4LTIuNWMuOTEtLjAyOSwxLjgyMi0uMDA4LDIuNzMzLS4wMDlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU0LjA5NSAtMTUwLjM1NikiLz4gPC9nPiA8L2c+IDwvc3ZnPicsCiAgICAgICAgICAgICAgICByYWRpb2J1dHRvbjonPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNi4xMjIiIGhlaWdodD0iMTYuMTIiIHN0eWxlPSJmaWxsOiM5Nzk3OTc7IiB2aWV3Qm94PSIwIDAgMTYuMTIyIDE2LjEyIj4gPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTcwOC4wMTcgMTAxLjk3NCkiPiA8cGF0aCBjbGFzcz0iYSIgZD0iTTcxNi4wNzItODUuODU0YTguMDQ4LDguMDQ4LDAsMCwxLTguMDU1LTguMTIzLDguMDU4LDguMDU4LDAsMCwxLDguMDU5LTgsOC4wNyw4LjA3LDAsMCwxLDguMDYzLDguMTI2QTguMDY5LDguMDY5LDAsMCwxLDcxNi4wNzItODUuODU0Wk03MDkuNi05My45NmE2LjQ1Miw2LjQ1MiwwLDAsMCw2LjQ5Miw2LjUyNCw2LjQ2OCw2LjQ2OCwwLDAsMCw2LjQ2MS02LjQzNiw2LjQ1Niw2LjQ1NiwwLDAsMC02LjUtNi41MTlBNi40NDUsNi40NDUsMCwwLDAsNzA5LjYtOTMuOTZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwKSIvPiA8cGF0aCBjbGFzcz0iYSIgZD0iTTc0NC45ODQtNjkuMDZBMy45OTQsMy45OTQsMCwwLDEsNzQ4Ljk1NS02NWE0LDQsMCwwLDEtNC4wMTksMy45NTQsMy45ODksMy45ODksMCwwLDEtNC00LjFBMy45ODcsMy45ODcsMCwwLDEsNzQ0Ljk4NC02OS4wNloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOC44NjkgLTI4Ljg2MikiLz4gPC9nPiA8L3N2Zz4nLAogICAgICAgICAgICAgICAgZHJvcGRvd246JzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTMuMDExIiBoZWlnaHQ9IjEzLjAxIiBzdHlsZT0iZmlsbDojOTc5Nzk3OyIgdmlld0JveD0iMCAwIDEzLjAxMSAxMy4wMSI+IDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMiAtMjI2KSI+IDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjIgMjI2KSI+IDxwYXRoIGNsYXNzPSJhIiBkPSJNMTQzLjk4OSwyMjcuNTU4cTIuNSwwLDUuMDA3LDBhMS40MjksMS40MjksMCwwLDEsMS40NjMsMS4xMTEsMS43MjIsMS43MjIsMCwwLDEsLjA0Mi40cTAsNC45ODgsMCw5Ljk3NWExLjQzMiwxLjQzMiwwLDAsMS0xLjExOCwxLjQ3OCwyLjEsMi4xLDAsMCwxLS40NzYuMDQ0cS00LjkxMSwwLTkuODIyLDBhMS40NjQsMS40NjQsMCwwLDEtMS41NTMtMS4xMjUsMS42NzgsMS42NzgsMCwwLDEtLjAzOS0uMzhxMC01LDAtOS45OTVhMS40MzUsMS40MzUsMCwwLDEsMS4xMjctMS40NzIsMi4wMDcsMi4wMDcsMCwwLDEsLjQzOC0uMDM1UTE0MS41MjQsMjI3LjU1NiwxNDMuOTg5LDIyNy41NThabS01LjA0NCw2LjQ5NGMwLDEuNiwwLDMuMjEsMCw0LjgxNCwwLC4xODUuMDMzLjI1MS4yMzguMjVxNC44MjQtLjAxMSw5LjY0OCwwYy4xNzMsMCwuMjI3LS4wNDIuMjI2LS4yMjJxLS4wMDgtNC44MzMsMC05LjY2N2MwLS4xODUtLjA2LS4yMi0uMjI5LS4yMTlxLTQuODI0LjAwNy05LjY0OCwwYy0uMTgyLDAtLjIzNy4wNDUtLjIzNi4yMzJDMTM4Ljk0OSwyMzAuODQyLDEzOC45NDUsMjMyLjQ0NywxMzguOTQ1LDIzNC4wNTJaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM3LjQ5MiAtMjI3LjU1NykiLz4gPHBhdGggY2xhc3M9ImEiIGQ9Ik0yMTcuNDA5LDM0My43MjJsMi41NzItMi41NzguOTc5Ljk4Mi0zLjU1NywzLjU1Ny0zLjU1OC0zLjU1NS45ODUtLjk4N1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMTAuOTE1IC0zMzYuNzgzKSIvPiA8L2c+IDwvZz4gPC9zdmc+JywKICAgICAgICAgICAgICAgIGZpbGV1cGxvYWQ6JzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTIuNzg1IiBoZWlnaHQ9IjEzLjE0IiBzdHlsZT0iZmlsbDojOTc5Nzk3OyJ2aWV3Qm94PSIwIDAgMTIuNzg1IDEzLjE0Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzEuNDIgLTQ0My42MDkpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMS40MiA0NDMuNjA5KSI+PHBhdGggY2xhc3M9ImYiIGQ9Ik0zLjA5NCw0NTYuNTUyYTIuNTk0LDIuNTk0LDAsMCwxLS4zNC0uMTc1LjY4NS42ODUsMCwwLDEtLjI3OS0uNTkycTAtMS45NTIsMC0zLjlhLjc1Mi43NTIsMCwwLDEsMS4wMjItLjcwOS43MTguNzE4LDAsMCwxLC40NTcuNzA5YzAsLjYyMywwLDEuMjQ1LDAsMS44NjhxMCwuNTkzLDAsMS4xODZ2LjEyMUgxMy44di0uMTI0cTAtMS41MDYsMC0zLjAxMmEuNzYuNzYsMCwwLDEsLjI1LS42MTkuNy43LDAsMCwxLC43MjUtLjEzNi42NjUuNjY1LDAsMCwxLC40NjcuNTc5LDUuMDY0LDUuMDY0LDAsMCwxLC4wMTQuNTQ1cTAsMS43MjYsMCwzLjQ1M2EuNzA5LjcwOSwwLDAsMS0uMTYuNTI3LDEuOSwxLjksMCwwLDEtLjMuMjIzLjc2Mi43NjIsMCwwLDEtLjE0My4wNloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yLjQ3NCAtNDQzLjQxMikiLz48cGF0aCBjbGFzcz0iZiIgZD0iTTEzNC42NDcsODRhMS41MzYsMS41MzYsMCwwLDEsLjY5LjUwNnEuNzI3LjcyNSwxLjQ1MywxLjQ1MmMuNDE3LjQxOC44MzUuODM0LDEuMjQ2LDEuMjU3YS42ODMuNjgzLDAsMCwxLC4xMTkuODIuNzExLjcxMSwwLDAsMS0uODMzLjM2NC45NTQuOTU0LDAsMCwxLS4zNzUtLjIxNGMtLjUzOS0uNTIzLTEuMDY3LTEuMDU5LTEuNi0xLjU5LS4wMjEtLjAyMS0uMDQ0LS4wNC0uMDktLjA4MnYuMTU5cTAsMy4wNTksMCw2LjExOWEuNzQyLjc0MiwwLDAsMS0uMTU5LjUwOC43MjMuNzIzLDAsMCwxLTEuMjc0LS4zMTQsMS41MTYsMS41MTYsMCwwLDEtLjAxNy0uMjNxMC0zLjA0NCwwLTYuMDg3Vjg2LjUxbC0uMzI0LjMxN2MtLjQ5NC40ODMtLjk4Mi45NzMtMS40ODYsMS40NDZhLjcxOC43MTgsMCwwLDEtLjk4NC0xLjAzN2MuMzc1LS4zOTEuNzYyLS43NzEsMS4xNDQtMS4xNTQuNi0uNiwxLjItMS4yLDEuOC0xLjhhMS4xNTIsMS4xNTIsMCwwLDEsLjQ1OS0uMjhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI4LjEyOSAtODQpIi8+PC9nPjwvZz48L3N2Zz4nLAogICAgICAgICAgICAgICAgdmlkZW86JzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBzdHlsZT0iZmlsbDogcmdiKDE1MSwgMTUxLCAxNTEpO21hcmdpbi1ib3R0b206IDIlOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1Ij48cmVjdCBpZD0iYmFja2dyb3VuZHJlY3QiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9IjAiIHk9IjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIvPjxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiIHN0eWxlPSIiPjx0aXRsZT5MYXllciAxPC90aXRsZT48cGF0aCBkPSJNMTQuMjg3MDQwODY5OTc1NjA2LDIuMTY0MzgzMTkxMDUwNjQ5IEgwLjY5OTI2MDIxNTM1NzUwNDIgQzAuNTY1MzIzNTIwMzMzNDEwNiwyLjE2NDM4MzE5MTA1MDY0OSAwLjQ1NjYyMTI3NTA5NjQ2NjksMi4yNzU5MzM1MTkxNzEzMzEgMC40NTY2MjEyNzUwOTY0NjY5LDIuNDEzOTM2NDk3ODA4MzI2NiB2MTAuOTgwMzQ1NDk3MzM3Nzg5IGMwLDAuMTM4MDAyOTc4NjM2OTk1NDMgMC4xMDg3MDIyNDUyMzY5NDQ5NCwwLjI0OTU1MzMwNjc1NzY3NzQyIDAuMjQyNjM4OTQwMjYxMDM3NzQsMC4yNDk1NTMzMDY3NTc2Nzc0MiBoMTMuNTg3NzgwNjU0NjE4MTAyIGMwLjEzMzkzNjY5NTAyNDA5Mjg2LDAgMC4yNDI2Mzg5NDAyNjEwMzc3NCwtMC4xMTE1NTAzMjgxMjA2ODE4MiAwLjI0MjYzODk0MDI2MTAzNzc0LC0wLjI0OTU1MzMwNjc1NzY3NzQyIFYyLjQxMzkzNjQ5NzgwODMyNjYgQzE0LjUyOTY3OTgxMDIzNjY0NCwyLjI3NTkzMzUxOTE3MTMzMSAxNC40MjA5Nzc1NjQ5OTk2OTcsMi4xNjQzODMxOTEwNTA2NDkgMTQuMjg3MDQwODY5OTc1NjA2LDIuMTY0MzgzMTkxMDUwNjQ5IHpNMi44ODMwMTA2Nzc3MDY4NDIsMTMuMTQ0NzI4Njg4Mzg4NDM3IEgwLjk0MTg5OTE1NTYxODU0MTkgdi0yLjI0NTk3OTc2MDgxOTA5MzIgaDEuOTQxMTExNTIyMDg4MzAwNCBWMTMuMTQ0NzI4Njg4Mzg4NDM3IHpNMi44ODMwMTA2Nzc3MDY4NDIsMTAuMzk5NjQyMzE0MDUzOTkgSDAuOTQxODk5MTU1NjE4NTQxOSB2LTIuMjQ1OTc5NzYwODE5MDkzMiBoMS45NDExMTE1MjIwODgzMDA0IFYxMC4zOTk2NDIzMTQwNTM5OSB6TTIuODgzMDEwNjc3NzA2ODQyLDcuNjU0NTU1OTM5NzE5NTQzIEgwLjk0MTg5OTE1NTYxODU0MTkgdi0yLjI0NTk3OTc2MDgxOTA5MzIgaDEuOTQxMTExNTIyMDg4MzAwNCBWNy42NTQ1NTU5Mzk3MTk1NDMgek0yLjg4MzAxMDY3NzcwNjg0Miw0LjkwOTQ2OTU2NTM4NTA5NyBIMC45NDE4OTkxNTU2MTg1NDE5IFYyLjY2MzQ4OTgwNDU2NjAwMzQgaDEuOTQxMTExNTIyMDg4MzAwNCBWNC45MDk0Njk1NjUzODUwOTcgek05LjMyMTkyMDIzNTQxMzk5Niw4LjExNDczMjIzNzM4MDcgbC0yLjY2OTAyODM0Mjg3MTQxMywxLjc0Njg3MzE0NzMwMzczOSBDNi42MTMzNDE3NDUyODAwMzEsOS44ODczMDkzNzUyODA0OCA2LjU2Nzk2ODI2MzQ1MTIyLDkuOTAwNTM1NzAwNTM4NjM3IDYuNTIyNTk0NzgxNjIyNDA1LDkuOTAwNTM1NzAwNTM4NjM3IGMtMC4wNDAyNzgwNjQwODMzMzIyOTUsMCAtMC4wODAzMTM0ODkyMjY0MDM1NiwtMC4wMTAyMzE2ODU1NzcwNjQ3NzMgLTAuMTE2NzA5MzMwMjY1NTU5MywtMC4wMzA2OTUwNTY3MzExOTQzMDUgQzYuMzI4MjQwOTkwNDczMzE2LDkuODI1OTE5MjYxODE4MDkxIDYuMjc5OTU1ODQxMzYxMzY3LDkuNzQyMDY5MzUwNzQ3NTEyIDYuMjc5OTU1ODQxMzYxMzY3LDkuNjUwOTgyMzkzNzgwOTYgVjYuMTU3MjM2MDk5MTczNDggYzAsLTAuMDkxMDg2OTU2OTY2NTUyMjEgMC4wNDgyODUxNDkxMTE5NDY1NTYsLTAuMTc0OTM2ODY4MDM3MTMxODggMC4xMjU5Mjk2MDk5OTU0Nzg2MSwtMC4yMTg4NTgyNTAwMjY0ODMwNCBjMC4wNzc2NDQ0NjA4ODM1MzIwNywtMC4wNDM2NzE4Mjg2ODI1OTM1NSAwLjE3MjI3MzY0NzU4NTMzNjg2LC0wLjA0MDQyNzYzNTY5NDc0Mzc0IDAuMjQ3MjQ5MDgwMTI1OTk3NiwwLjAwODIzNTI1OTEyMzAwMzM1NiBsMi42NjkwMjgzNDI4NzE0MTMsMS43NDY4NzMxNDczMDM3MzkgQzkuMzkxODAwMjUwMjA5MTc0LDcuNzM5NDA0MDY0MDE3MTU1IDkuNDM0MjYyMDY0NzU0ODU2LDcuODE4NzYyMDE1NTY2MDk1NSA5LjQzNDI2MjA2NDc1NDg1Niw3LjkwNDEwOTI0NjQ3NzIyMSBTOS4zOTE4MDAyNTAyMDkxNzQsOC4wNjg4MTQ0Mjg5MzcyODcgOS4zMjE5MjAyMzU0MTM5OTYsOC4xMTQ3MzIyMzczODA3IHpNMTQuMDQ0NDAxOTI5NzE0NTY5LDEzLjE0NDcyODY4ODM4ODQzNyBoLTEuOTQxMTExNTIyMDg4MzAwNCB2LTIuMjQ1OTc5NzYwODE5MDkzMiBoMS45NDExMTE1MjIwODgzMDA0IFYxMy4xNDQ3Mjg2ODgzODg0Mzcgek0xNC4wNDQ0MDE5Mjk3MTQ1NjksMTAuMzk5NjQyMzE0MDUzOTkgaC0xLjk0MTExMTUyMjA4ODMwMDQgdi0yLjI0NTk3OTc2MDgxOTA5MzIgaDEuOTQxMTExNTIyMDg4MzAwNCBWMTAuMzk5NjQyMzE0MDUzOTkgek0xNC4wNDQ0MDE5Mjk3MTQ1NjksNy42NTQ1NTU5Mzk3MTk1NDMgaC0xLjk0MTExMTUyMjA4ODMwMDQgdi0yLjI0NTk3OTc2MDgxOTA5MzIgaDEuOTQxMTExNTIyMDg4MzAwNCBWNy42NTQ1NTU5Mzk3MTk1NDMgek0xNC4wNDQ0MDE5Mjk3MTQ1NjksNC45MDk0Njk1NjUzODUwOTcgaC0xLjk0MTExMTUyMjA4ODMwMDQgVjIuNjYzNDg5ODA0NTY2MDAzNCBoMS45NDExMTE1MjIwODgzMDA0IFY0LjkwOTQ2OTU2NTM4NTA5NyB6IiBpZD0ic3ZnXzEiIGNsYXNzPSIiLz48ZyBpZD0ic3ZnXzIiPjwvZz48ZyBpZD0ic3ZnXzMiPjwvZz48ZyBpZD0ic3ZnXzQiPjwvZz48ZyBpZD0ic3ZnXzUiPjwvZz48ZyBpZD0ic3ZnXzYiPjwvZz48ZyBpZD0ic3ZnXzciPjwvZz48ZyBpZD0ic3ZnXzgiPjwvZz48ZyBpZD0ic3ZnXzkiPjwvZz48ZyBpZD0ic3ZnXzEwIj48L2c+PGcgaWQ9InN2Z18xMSI+PC9nPjxnIGlkPSJzdmdfMTIiPjwvZz48ZyBpZD0ic3ZnXzEzIj48L2c+PGcgaWQ9InN2Z18xNCI+PC9nPjxnIGlkPSJzdmdfMTUiPjwvZz48ZyBpZD0ic3ZnXzE2Ij48L2c+PC9nPjwvc3ZnPicsCiAgICAgICAgICAgICAgICBpbWFnZTonPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHN0eWxlPSJmaWxsOiByZ2IoMTUxLCAxNTEsIDE1MSk7bWFyZ2luLWJvdHRvbTogMiU7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxyZWN0IGlkPSJiYWNrZ3JvdW5kcmVjdCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgeD0iMCIgeT0iMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBjbGFzcz0iIiBzdHlsZT0iIi8+PGcgY2xhc3M9ImN1cnJlbnRMYXllciIgc3R5bGU9IiI+PHRpdGxlPkxheWVyIDE8L3RpdGxlPjxnIGlkPSJzdmdfMSIgY2xhc3M9IiI+PHBhdGggZD0iTTE0LjU3NTk3NDIyNDEyODc1LDEuNzMwNTkzMzYyMzczNDA0OSBIMC41NDczMTYxNzg5MDgwOTc2IEMwLjQwOTAzMzY5MjQ2MjM1MTU1LDEuNzMwNTkzMzYyMzczNDA0OSAwLjI5NjgwNDQyODEwMDU4NjE2LDEuODQ3NDQwNTY4NDQ5NTM1MiAwLjI5NjgwNDQyODEwMDU4NjE2LDEuOTkxOTk2NTA3OTU3NTg3OSB2MTEuNTAxNzM4NDA1NzA0MDMyIGMwLDAuMTQ0NTU1OTM5NTA4MDUzMiAwLjExMjIyOTI2NDM2MTc2NTU0LDAuMjYxNDAzMTQ1NTg0MTgyNTQgMC4yNTA1MTE3NTA4MDc1MTE2NSwwLjI2MTQwMzE0NTU4NDE4MjU0IGgxNC4wMjg2NTgwNDUyMjA2NTIgYzAuMTM4MjgyNDg2NDQ1NzQ2NzMsMCAwLjI1MDUxMTc1MDgwNzUxMTY1LC0wLjExNjg0NzIwNjA3NjEyOTY3IDAuMjUwNTExNzUwODA3NTExNjUsLTAuMjYxNDAzMTQ1NTg0MTgyNTQgVjEuOTkxOTk2NTA3OTU3NTg3OSBDMTQuODI2NDg1OTc0OTM2MjYxLDEuODQ3NDQwNTY4NDQ5NTM1MiAxNC43MTQyNTY3MTA1NzQ0OTIsMS43MzA1OTMzNjIzNzM0MDQ5IDE0LjU3NTk3NDIyNDEyODc1LDEuNzMwNTkzMzYyMzczNDA0OSB6TTE0LjMyNTQ2MjQ3MzMyMTIzOCwxMy4yMzIzMzE3NjgwNzc0MzcgSDAuNzk3ODI3OTI5NzE1NjA5MiBWMi4yNTMzOTk2NTM1NDE3NyBoMTMuNTI3NjM0NTQzNjA1NjI5IFYxMy4yMzIzMzE3NjgwNzc0MzcgeiIgaWQ9InN2Z18yIi8+PHBhdGggZD0iTTQuMzA0OTkyNDQxMDIwNzcyLDcuNTE3NTM2MTk5MzE2MDM3IGMwLjc2OTMyMTU4NjcyOTg2ODYsMCAxLjM5NTA5OTk0MDI0NzAzMjMsLTAuNjUyOTg1MDU3NjY5Mjg5MiAxLjM5NTA5OTk0MDI0NzAzMjMsLTEuNDU1NDkyNzE0NjEyNzI4OCBDNS43MDAwOTIzODEyNjc4MDMsNS4yNTkwMTMwMjE0Njg3MDMgNS4wNzQzMTQwMjc3NTA2NDEsNC42MDYwMjc5NjM3OTk0MTMgNC4zMDQ5OTI0NDEwMjA3NzIsNC42MDYwMjc5NjM3OTk0MTMgcy0xLjM5NTA5OTk0MDI0NzAzMjMsMC42NTI5ODUwNTc2NjkyODkyIC0xLjM5NTA5OTk0MDI0NzAzMjMsMS40NTU3NTQxMTc3NTgzMTI0IEMyLjkwOTg5MjUwMDc3Mzc0MTcsNi44NjQ1NTExNDE2NDY3NSAzLjUzNTY3MDg1NDI5MDkwMzQsNy41MTc1MzYxOTkzMTYwMzcgNC4zMDQ5OTI0NDEwMjA3NzIsNy41MTc1MzYxOTkzMTYwMzcgek00LjMwNDk5MjQ0MTAyMDc3Miw1LjEyODgzNDI1NDk2Nzc3OCBjMC40OTMwMDcxMjU1ODkxODI5NywwIDAuODk0MDc2NDM4NjMyMDA5MywwLjQxODc2NzgzOTIyNTg2MDkgMC44OTQwNzY0Mzg2MzIwMDkzLDAuOTMyOTQ3ODI2NTg5OTQ3OCBTNC43OTc5OTk1NjY2MDk5NTUsNi45OTQ3Mjk5MDgxNDc2NzIgNC4zMDQ5OTI0NDEwMjA3NzIsNi45OTQ3Mjk5MDgxNDc2NzIgcy0wLjg5NDA3NjQzODYzMjAwOTMsLTAuNDE4NTA2NDM2MDgwMjc2MyAtMC44OTQwNzY0Mzg2MzIwMDkzLC0wLjkzMjY4NjQyMzQ0NDM2MzYgUzMuODExOTg1MzE1NDMxNTksNS4xMjg4MzQyNTQ5Njc3NzggNC4zMDQ5OTI0NDEwMjA3NzIsNS4xMjg4MzQyNTQ5Njc3NzggeiIgaWQ9InN2Z18zIi8+PHBhdGggZD0iTTIuMDUwMzg2NjgzNzUzMTY3NSwxMi4xODY3MTkxODU3NDA3MDYgYzAuMDU4NjE5NzQ5Njg4OTU3ODc2LDAgMC4xMTc3NDA1MjI4Nzk1MzA1NSwtMC4wMjE0MzUwNTc5Mzc5MDMwMiAwLjE2NTMzNzc1NTUzMjk1Nzg1LC0wLjA2NTA4OTM4MzI1MDQ2MTQ3IGw0LjA4NjU5ODE5MDkyMjkzNywtMy43NTQyNzE5NzY4ODAwMzAzIGwyLjU4MDc3MjA1NjgxODk4NSwyLjY5MjcxMzgwMjY2MjY2NDcgYzAuMDk3OTUwMDk0NTY1NzM3MSwwLjEwMjIwODYyOTkyMzQxNTQ0IDAuMjU2MjczNTIxMDc2MDg1LDAuMTAyMjA4NjI5OTIzNDE1NDQgMC4zNTQyMjM2MTU2NDE4MjE5LDAgczAuMDk3OTUwMDk0NTY1NzM3MSwtMC4yNjc0MTU0MTc5MzI2MTkzNiAwLC0wLjM2OTYyNDA0Nzg1NjAzNDYgbC0xLjIwNDIwOTk4NjEzMTcwODYsLTEuMjU2NTY0OTIwODIzMTY1NSBsMi4yOTk5NDgzODQxNjM3NjQsLTIuNjI4MTQ3MjI1NzAzMzcxMyBsMi44MjEwMTI4MjU4NDMzODg0LDIuNjk4NDY0NjcxODY1NTE2NSBjMC4xMDE5NTgyODI1Nzg2NTcyNCwwLjA5NzUwMzM3MzMwMjkwMDIyIDAuMjYwNTMyMjIwODM5ODEyMywwLjA5MDE4NDA4NTIyNjU0MzA2IDAuMzUzOTczMTAzODkxMDE0NSwtMC4wMTYyMDY5OTUwMjYyMTkzMiBjMC4wOTM0NDA4ODMwNTEyMDE5OSwtMC4xMDYzOTEwODAyNTI3NjIzMiAwLjA4NjY3NzA2NTc3OTM5ODk2LC0wLjI3MTg1OTI3MTQwNzU1MDEgLTAuMDE1NTMxNzI4NTUwMDY1NzQ1LC0wLjM2OTM2MjY0NDcxMDQ1MDUgbC0zLjAwNjE0MTAwOTY5MDEzOTgsLTIuODc1NDM0NjAxNDI2MDA4IGMtMC4wNDkxMDAzMDMxNTgyNzIzNywtMC4wNDY3OTExNjMwNTk1Njg3NSAtMC4xMTQ0ODM4NzAxMTkwMzI4NSwtMC4wNzAwNTYwNDMwMTY1NjEwNyAtMC4xODAzNjg0NjA1ODE0MDg5LC0wLjA2ODQ4NzYyNDE0MzA1NTg2IGMtMC4wNjYzODU2MTM5NjM5OTA3MiwwLjAwMzEzNjgzNzc0NzAxMDE5NyAtMC4xMjkwMTM1NTE2NjU4Njg0OCwwLjAzMzcyMTAwNTc4MDM1OTYyIC0wLjE3Mzg1NTE1NTA2MDQxMzI0LDAuMDg0OTU2MDIyMzE0ODU5NTUgbC0yLjQ1MzUxMjA4NzQwODc2OSwyLjgwNDA3MTU0MjY4MTUyNiBsLTEuMTg4MTc3MjM0MDgwMDI3OCwtMS4yMzk4MzUxMTk1MDU3NzggYy0wLjA5MzY5MTM5NDgwMjAwOTUsLTAuMDk3NTAzMzczMzAyOTAwMjIgLTAuMjQzNDk3NDIxNzg0OTAxOSwtMC4xMDI0NzAwMzMwNjg5OTk2MyAtMC4zNDI3MDAwNzUxMDQ2NzYyLC0wLjAxMTUwMTczODQwNTcwNDA1OCBMMS44ODQ3OTg0MTY0Njk0MDMsMTEuNzI5MDAyMjc3ODIyODA0IGMtMC4xMDM5NjIzNzY1ODUxMTc1MiwwLjA5NTQxMjE0ODEzODIyNjY0IC0wLjExMzk4Mjg0NjYxNzQxNzkyLDAuMjYwNjE4OTM2MTQ3NDMwMTUgLTAuMDIyNTQ2MDU3NTcyNjc2MDk1LDAuMzY5MTAxMjQxNTY0ODY2MiBDMS45MTE4NTM2ODU1NTY2MTMsMTIuMTU2OTE5MjI3MTQ0MTEyIDEuOTgwOTk0OTI4Nzc5NDkwMSwxMi4xODY3MTkxODU3NDA3MDYgMi4wNTAzODY2ODM3NTMxNjc1LDEyLjE4NjcxOTE4NTc0MDcwNiB6IiBpZD0ic3ZnXzQiLz48L2c+PGcgaWQ9InN2Z181IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z182IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z183IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z184IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z185IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xMCIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfMTEiIGNsYXNzPSIiPjwvZz48ZyBpZD0ic3ZnXzEyIiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xMyIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfMTQiIGNsYXNzPSIiPjwvZz48ZyBpZD0ic3ZnXzE1IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xNiIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfMTciIGNsYXNzPSIiPjwvZz48ZyBpZD0ic3ZnXzE4IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xOSIgY2xhc3M9IiI+PC9nPjwvZz48L3N2Zz4nLAogICAgICAgICAgICAgICAgbWVzc2FnZTonPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgc3R5bGU9ImZpbGw6IHJnYigxNTEsIDE1MSwgMTUxKTttYXJnaW4tYm90dG9tOiAyJTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxyZWN0IGlkPSJiYWNrZ3JvdW5kcmVjdCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgeD0iMCIgeT0iMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBjbGFzcz0iIiBzdHlsZT0iIi8+PGcgY2xhc3M9ImN1cnJlbnRMYXllciIgc3R5bGU9IiI+PHRpdGxlPkxheWVyIDE8L3RpdGxlPjxnIGlkPSJzdmdfMSIgY2xhc3M9IiI+PGcgaWQ9Il94MzJfXzI2XyI+PGcgaWQ9InN2Z18yIj48cGF0aCBkPSJNOS44MjQ2MjQ3NTIxMzY5NjMsNy45NjQxMjYwNzAzNjM4OTkgaC00LjY4MTYxMjExNDg2NTg3NDUgYy0wLjI1ODQyNDk4ODc0MDU5NjksMCAtMC40NjgxNjEyMTE0ODY1ODc4NSwwLjIwOTcxNDUxMTU2NzU5MTc0IC0wLjQ2ODE2MTIxMTQ4NjU4Nzg1LDAuNDY4MTEyNzQ5MDM0ODAzMDQgczAuMjA5NzM2MjIyNzQ1OTkxMjcsMC40NjgxMTI3NDkwMzQ4MDMwNCAwLjQ2ODE2MTIxMTQ4NjU4Nzg1LDAuNDY4MTEyNzQ5MDM0ODAzMDQgaDQuNjgxNjEyMTE0ODY1ODc0NSBjMC4yNTg0MjQ5ODg3NDA1OTY5LDAgMC40NjgxNjEyMTE0ODY1ODc4NSwtMC4yMDk3MTQ1MTE1Njc1OTE3NCAwLjQ2ODE2MTIxMTQ4NjU4Nzg1LC0wLjQ2ODExMjc0OTAzNDgwMzA0IFMxMC4wODMwNDk3NDA4Nzc1NTcsNy45NjQxMjYwNzAzNjM4OTkgOS44MjQ2MjQ3NTIxMzY5NjMsNy45NjQxMjYwNzAzNjM4OTkgek0xMC43NjA5NDcxNzUxMTAxMzgsNS4xNTU0NDk1NzYxNTUwODQgaC02LjU1NDI1Njk2MDgxMjIyNSBjLTAuMjU4NDI0OTg4NzQwNTk2OSwwIC0wLjQ2ODE2MTIxMTQ4NjU4Nzg1LDAuMjA5NzE0NTExNTY3NTkxNzQgLTAuNDY4MTYxMjExNDg2NTg3ODUsMC40NjgxMTI3NDkwMzQ4MDMwNCBzMC4yMDk3MzYyMjI3NDU5OTEyNywwLjQ2ODExMjc0OTAzNDgwMzA0IDAuNDY4MTYxMjExNDg2NTg3ODUsMC40NjgxMTI3NDkwMzQ4MDMwNCBoNi41NTQyNTY5NjA4MTIyMjUgYzAuMjU4NDI0OTg4NzQwNTk2OSwwIDAuNDY4MTYxMjExNDg2NTg3ODUsLTAuMjA5NzE0NTExNTY3NTkxNzQgMC40NjgxNjEyMTE0ODY1ODc4NSwtMC40NjgxMTI3NDkwMzQ4MDMwNCBTMTEuMDE5MzcyMTYzODUwNzM2LDUuMTU1NDQ5NTc2MTU1MDg0IDEwLjc2MDk0NzE3NTExMDEzOCw1LjE1NTQ0OTU3NjE1NTA4NCB6TTcuNDgzODE4Njk0NzA0MDI2LDAuMDA2MjA5MzM2NzcyMjUyNzI1IEMzLjM0NzE1ODQ2OTUxNzMzNDYsMC4wMDYyMDkzMzY3NzIyNTI3MjUgLTAuMDA2NzYwNjg5MDgxMzc0MjM4LDIuOTQwMzI3ODA5NDgwNTkyMiAtMC4wMDY3NjA2ODkwODEzNzQyMzgsNi41NTk3ODc4MjMyNTk0OTIgYzAsMi4wNjg2MDU1MzU3ODcwNDk2IDEuMDk3ODM0OTgxMDU4ODQ4NCwzLjkxMDE0MjczMzEyNzI1NjIgMi44MDg5NjcyNjg5MTk1MjU4LDUuMTExMzI2MTY2MjcxNDY1IFYxNC45ODU4MTczMDU4ODU5NCBsMy4yODEzMzg4NzE0MzIyOTMsLTEuOTkwODkyNzAwMzI2MzcwMSBjMC40NTQxMzQ3MzQ0MDUxODU3LDAuMDc0OTIyNTE2MzI5MTc4MTcgMC45MjEzNDEyNjQyMDU2MDU1LDAuMTE4NDQxNzA0MTg3MTU5MDUgMS40MDAyNzMyNDM0MzM1ODI1LDAuMTE4NDQxNzA0MTg3MTU5MDUgYzQuMTM3MTQ5ODA1NTM4NTcyLDAgNy40OTA1NzkzODM3ODU0MDEsLTIuOTM0MTE4NDcyNzA4MzM5NCA3LjQ5MDU3OTM4Mzc4NTQwMSwtNi41NTM1Nzg0ODY0ODcyMzggQzE0Ljk3NDM5ODA3ODQ4OTQyNywyLjk0MDMyNzgwOTQ4MDU5MjIgMTEuNjIwOTY4NTAwMjQyNTk5LDAuMDA2MjA5MzM2NzcyMjUyNzI1IDcuNDgzODE4Njk0NzA0MDI2LDAuMDA2MjA5MzM2NzcyMjUyNzI1IHpNNy40ODM4MTg2OTQ3MDQwMjYsMTIuMTc3MTQwODExNjc3MTI1IGMtMC41NDY4MTIyOTUwMTYzMzQxLDAgLTEuMDc0ODk4MTQxNTczMjA1LC0wLjA2MzY2MzMzMzg2ODczMzI4IC0xLjU4MjM5NzEzNDMzMzQ2MywtMC4xNzE4MDA0Mzg0NTYyMjQwNiBsLTIuMjA0MTE1MjIzMTg3NjUxLDEuMzI0NzQwNzIyNDA1Nzg1IGwwLjAyOTQ5NzIxNjIwMDg1NDM2OCwtMi4xNzEwODg1NzI2NjA3MDc0IEMyLjAzNzIzNzI4MDAyMzQ2NDYsMTAuMTQyNzI4OTIzNDkyNzcyIDAuOTI5NTYxNzMzODkxNzk5OSw4LjQ2MzE1MjYxODE5NzcwNCAwLjkyOTU2MTczMzg5MTc5OTksNi41NTk3ODc4MjMyNTk0OTIgYzAsLTMuMTAyMTc0MDA5MTcyMjgzNiAyLjkzNDQyMjIzNDA4OTEzMzUsLTUuNjE3MzUyOTg4NDE3NjMzIDYuNTU0MjU2OTYwODEyMjI1LC01LjYxNzM1Mjk4ODQxNzYzMyBjMy42MTk4MzQ3MjY3MjMwOTI0LDAgNi41NTQyNTY5NjA4MTIyMjUsMi41MTUxNzg5NzkyNDUzNDkgNi41NTQyNTY5NjA4MTIyMjUsNS42MTczNTI5ODg0MTc2MzMgUzExLjEwMzY1MzQyMTQyNzExNywxMi4xNzcxNDA4MTE2NzcxMjUgNy40ODM4MTg2OTQ3MDQwMjYsMTIuMTc3MTQwODExNjc3MTI1IHoiIGlkPSJzdmdfMyIvPjwvZz48L2c+PC9nPjxnIGlkPSJzdmdfNCIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfNSIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfNiIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfNyIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfOCIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfOSIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfMTAiIGNsYXNzPSIiPjwvZz48ZyBpZD0ic3ZnXzExIiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xMiIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfMTMiIGNsYXNzPSIiPjwvZz48ZyBpZD0ic3ZnXzE0IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xNSIgY2xhc3M9IiI+PC9nPjxnIGlkPSJzdmdfMTYiIGNsYXNzPSIiPjwvZz48ZyBpZD0ic3ZnXzE3IiBjbGFzcz0iIj48L2c+PGcgaWQ9InN2Z18xOCIgY2xhc3M9IiI+PC9nPjwvZz48L3N2Zz4nLAogICAgICAgICAgICAgICAgZm9ybTogJzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBzdHlsZT0iIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxyZWN0IGlkPSJiYWNrZ3JvdW5kcmVjdCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgeD0iMCIgeT0iMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBjbGFzcz0iIiBzdHlsZT0iIi8+IDxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiIHN0eWxlPSIiPjx0aXRsZT5MYXllciAxPC90aXRsZT48ZyBpZD0ic3ZnXzEiIGNsYXNzPSJzZWxlY3RlZCI+PGcgaWQ9InN2Z18yIj48ZyBpZD0ic3ZnXzMiPjxwYXRoIGQ9Ik0xNC44NjY3Njk3NjY5NDM0OTcsMy43NzEzOTUzOTExNjc3Njc2IEwxMC40NjIwOTEyNjI3NDQ3NCwwLjE3MzM0OTEwMTE5MjE5NjQzIEMxMC4zOTIzMjMxMjQ4MjcyNzgsMC4xMTYzODYyNTkxOTAzNjQ0NyAxMC4yOTc3OTI4MTI1MTM4MTQsMC4wODQzODgyNTQ1NzYwNzYzNiAxMC4xOTkyMDY2MjY4MDc4OTgsMC4wODQzODgyNTQ1NzYwNzYzNiBIMS43NjQ1MTk4MTc0OTY5ODQzIEMwLjc2ODI2OTIzMjA5OTMxMTEsMC4wODQzODgyNTQ1NzYwNzYzNiAtMC4wNDIxOTM4ODk2NTQ4MTMxNiwwLjc0NjQ5NDEwNDgyMzgzOTMgLTAuMDQyMTkzODg5NjU0ODEzMTYsMS41NjAzMDcxMTU5MTMxOTQzIHYxMS45MjgzMDk3NDE5MjczNzcgYzAsMC44MTM3ODM5NDg0MTQ4Njk1IDAuODEwNDk4Njk5NTkwOTAwOCwxLjQ3NTg4OTc5ODY2MjYyOTggMS44MDY3NDkyODQ5ODg1NzQsMS40NzU4ODk3OTg2NjI2Mjk4IGgxMS40MDQzNjg4NDQ5OTIwNzQgYzAuOTk2MjUwNTg1Mzk3NjczMywwIDEuODA2NzQ5Mjg0OTg4NTc0LC0wLjY2MjA3Njc4NzU3MzI2OTkgMS44MDY3NDkyODQ5ODg1NzQsLTEuNDc1ODg5Nzk4NjYyNjI5OCBWMy45ODYxMzk0OTI5Nzk3NTggQzE0Ljk3NTYzNzk0NzQ3NzYzMywzLjkwNTYwNjgyMTk2NTk1IDE0LjkzNjQ2Njc0OTE4NzQwNywzLjgyODM1ODIzMzE2OTU5MjcgMTQuODY2NzY5NzY2OTQzNDk3LDMuNzcxMzk1MzkxMTY3NzY3NiB6TTEwLjU3MTA2NjE3Njc4OTIwMiwxLjEyMTMxNTQxNzczMDc1MSBsMy4xMzUzNjgwMjE1NDYzNDUzLDIuNTYxMTc3MjUyMTY5ODc4IEgxMS42MzQzMDk4Mjg4MzU4MjcgYy0wLjI4NDA1MzQ0ODgxODQ3ODI3LDAgLTAuNTUxMTAwNjkxNjU4MDk1LC0wLjA5MDM1NTg1NDk5MTY3Mjg0IC0wLjc1MTkwMjAwMjQyMTA1NywtMC4yNTQzODU1ODk4MTczNDA4MyBjLTAuMjAwODM2ODg4NTk5NzM4MSwtMC4xNjQwMDA2NzIxNTExNzcwOCAtMC4zMTEzNzcyMjc0NjIzNDAxLC0wLjM4MjExNjA0NDIwNDA4OTg0IC0wLjMxMTM0MTY0OTYyNTU2NDI3LC0wLjYxNDEyMzM3NDY2MzU2ODcgVjEuMTIxMzE1NDE3NzMwNzUxIHpNMTQuMjMyMTMyMzE0NTM1Njc4LDEzLjQ4ODU4Nzc5NTE2NjA3OCBjMCwwLjQ3ODkyMzgxMjkzMjcwMzYgLTAuNDc2OTU2NDc5ODE3MTk5MiwwLjg2ODUzODAyNzE1NTQwMDQgLTEuMDYzMjA4MDc0MjA5ODQ1LDAuODY4NTM4MDI3MTU1NDAwNCBIMS43NjQ1MTk4MTc0OTY5ODQzIGMtMC41ODYyODcxNzIyMjk0MjE2LDAgLTEuMDYzMjQzNjUyMDQ2NjIwOSwtMC4zODk2MTQyMTQyMjI2OTcyNiAtMS4wNjMyNDM2NTIwNDY2MjA5LC0wLjg2ODUzODAyNzE1NTQwMDQgVjEuNTYwMzA3MTE1OTEzMTk0MyBjMC4wMDAwMzU1Nzc4MzY3NzU4NjE2MiwtMC40Nzg5MjM4MTI5MzI3MDM2IDAuNDc2OTkyMDU3NjUzOTc0OSwtMC44Njg1NjcwODk4Mjk4OTE3IDEuMDYzMjQzNjUyMDQ2NjIwOSwtMC44Njg1NjcwODk4Mjk4OTE3IGg4LjA2MzA0MDcyNjM1MDI2NiB2Mi4xMjIxODU1NTM5ODc0MzUgYy0wLjAwMDA3MTE1NTY3MzU1MTcyMzMzLDAuMzk0MjM1MTc5NDY2NzIyOCAwLjE4Nzg1MDk3ODE3NjU0ODcsMC43NjQ4NzE0NjcyNDY5NzQ1IDAuNTI5MDc4MDEwNjkzODM1NSwxLjA0MzYxMTU3ODI4NzU0NSBjMC4zNDEyNjI2MTAzNTQwNjM1LDAuMjc4NzY5MTczNzE1MDYxMSAwLjc5NDk4Njc2Mjc1NjYyNTUsMC40MzIyNzgyMjAzNzUwODYwNiAxLjI3NzYzNTY5NjQ1Nzk2MjUsMC40MzIyNzgyMjAzNzUwODYwNiBoMi41OTc4MjI0ODU2OTk4NTQgVjEzLjQ4ODU4Nzc5NTE2NjA3OCB6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjMDAwMDAwIiBmaWxsPSIjOTc5Nzk3IiBpZD0ic3ZnXzQiLz48L2c+PC9nPjxnIGlkPSJzdmdfNSI+PGcgaWQ9InN2Z182Ij48cGF0aCBkPSJNMy42MTY4MDg3MzM1NTg2NjAzLDguOTEyMDMwMzE3NzYyMTk3IGgtMC4xNjY0MzMxMjA0Mzc0ODAxMyBjLTAuMjA1Mjg0MTE4MTk2NzIxLDAgLTAuMzcxNzUyODE2NDcwOTc3MSwwLjEzNTk1NTE5MTI2NzYyNDggLTAuMzcxNzUyODE2NDcwOTc3MSwwLjMwMzY3NTg4NTc1MzYxNTA0IHMwLjE2NjQ2ODY5ODI3NDI1NjM0LDAuMzAzNjc1ODg1NzUzNjE1MDQgMC4zNzE3NTI4MTY0NzA5NzcxLDAuMzAzNjc1ODg1NzUzNjE1MDQgaDAuMTY2NDMzMTIwNDM3NDgwMTMgYzAuMjA1Mjg0MTE4MTk2NzIxLDAgMC4zNzE3NTI4MTY0NzA5NzcxLC0wLjEzNTk1NTE5MTI2NzYyNDggMC4zNzE3NTI4MTY0NzA5NzcxLC0wLjMwMzY3NTg4NTc1MzYxNTA0IEMzLjk4ODU2MTU1MDAyOTYzOSw5LjA0Nzk4NTUwOTAyOTgxOCAzLjgyMjA5Mjg1MTc1NTM4NDUsOC45MTIwMzAzMTc3NjIxOTcgMy42MTY4MDg3MzM1NTg2NjAzLDguOTEyMDMwMzE3NzYyMTk3IHoiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiMwMDAwMDAiIGZpbGw9IiM5Nzk3OTciIGlkPSJzdmdfNyIvPjwvZz48L2c+PGcgaWQ9InN2Z184Ij48ZyBpZD0ic3ZnXzkiPjxwYXRoIGQ9Ik0xMS40ODMwNjg0NDQ3MDE2MzcsOC45MTIwMzAzMTc3NjIxOTcgSDQuODE5NDgxOTI3OTI5ODg0IGMtMC4yMDUyODQxMTgxOTY3MjEsMCAtMC4zNzE3NTI4MTY0NzA5NzcxLDAuMTM1OTU1MTkxMjY3NjI0OCAtMC4zNzE3NTI4MTY0NzA5NzcxLDAuMzAzNjc1ODg1NzUzNjE1MDQgczAuMTY2NDY4Njk4Mjc0MjU2MzQsMC4zMDM2NzU4ODU3NTM2MTUwNCAwLjM3MTc1MjgxNjQ3MDk3NzEsMC4zMDM2NzU4ODU3NTM2MTUwNCBoNi42NjM1ODY1MTY3NzE3NTEgYzAuMjA1Mjg0MTE4MTk2NzIxLDAgMC4zNzE3NTI4MTY0NzA5NzcxLC0wLjEzNTk1NTE5MTI2NzYyNDggMC4zNzE3NTI4MTY0NzA5NzcxLC0wLjMwMzY3NTg4NTc1MzYxNTA0IEMxMS44NTQ4MjEyNjExNzI2MTUsOS4wNDc5ODU1MDkwMjk4MTggMTEuNjg4MzUyNTYyODk4MzU3LDguOTEyMDMwMzE3NzYyMTk3IDExLjQ4MzA2ODQ0NDcwMTYzNyw4LjkxMjAzMDMxNzc2MjE5NyB6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjMDAwMDAwIiBmaWxsPSIjOTc5Nzk3IiBpZD0ic3ZnXzEwIi8+PC9nPjwvZz48ZyBpZD0ic3ZnXzExIj48ZyBpZD0ic3ZnXzEyIj48cGF0aCBkPSJNMy42MTY4MDg3MzM1NTg2NjAzLDcuNTI0NDMyOTI0MjAyMzk0IGgtMC4xNjY0MzMxMjA0Mzc0ODAxMyBjLTAuMjA1Mjg0MTE4MTk2NzIxLDAgLTAuMzcxNzUyODE2NDcwOTc3MSwwLjEzNTk1NTE5MTI2NzYyNDggLTAuMzcxNzUyODE2NDcwOTc3MSwwLjMwMzY3NTg4NTc1MzYxNTA0IGMwLDAuMTY3NzIwNjk0NDg1OTkwMjUgMC4xNjY0Njg2OTgyNzQyNTYzNCwwLjMwMzY3NTg4NTc1MzYxNTA0IDAuMzcxNzUyODE2NDcwOTc3MSwwLjMwMzY3NTg4NTc1MzYxNTA0IGgwLjE2NjQzMzEyMDQzNzQ4MDEzIGMwLjIwNTI4NDExODE5NjcyMSwwIDAuMzcxNzUyODE2NDcwOTc3MSwtMC4xMzU5NTUxOTEyNjc2MjQ4IDAuMzcxNzUyODE2NDcwOTc3MSwtMC4zMDM2NzU4ODU3NTM2MTUwNCBDMy45ODg1NjE1NTAwMjk2MzksNy42NjAzODgxMTU0NzAwMTUgMy44MjIwOTI4NTE3NTUzODQ1LDcuNTI0NDMyOTI0MjAyMzk0IDMuNjE2ODA4NzMzNTU4NjYwMyw3LjUyNDQzMjkyNDIwMjM5NCB6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjMDAwMDAwIiBmaWxsPSIjOTc5Nzk3IiBpZD0ic3ZnXzEzIi8+PC9nPjwvZz48ZyBpZD0ic3ZnXzE0Ij48ZyBpZD0ic3ZnXzE1Ij48cGF0aCBkPSJNMTEuNDgzMDY4NDQ0NzAxNjM3LDcuNTI0NDMyOTI0MjAyMzk0IEg0LjgxOTQ4MTkyNzkyOTg4NCBjLTAuMjA1Mjg0MTE4MTk2NzIxLDAgLTAuMzcxNzUyODE2NDcwOTc3MSwwLjEzNTk1NTE5MTI2NzYyNDggLTAuMzcxNzUyODE2NDcwOTc3MSwwLjMwMzY3NTg4NTc1MzYxNTA0IGMwLDAuMTY3NzIwNjk0NDg1OTkwMjUgMC4xNjY0Njg2OTgyNzQyNTYzNCwwLjMwMzY3NTg4NTc1MzYxNTA0IDAuMzcxNzUyODE2NDcwOTc3MSwwLjMwMzY3NTg4NTc1MzYxNTA0IGg2LjY2MzU4NjUxNjc3MTc1MSBjMC4yMDUyODQxMTgxOTY3MjEsMCAwLjM3MTc1MjgxNjQ3MDk3NzEsLTAuMTM1OTU1MTkxMjY3NjI0OCAwLjM3MTc1MjgxNjQ3MDk3NzEsLTAuMzAzNjc1ODg1NzUzNjE1MDQgQzExLjg1NDgyMTI2MTE3MjYxNSw3LjY2MDM4ODExNTQ3MDAxNSAxMS42ODgzNTI1NjI4OTgzNTcsNy41MjQ0MzI5MjQyMDIzOTQgMTEuNDgzMDY4NDQ0NzAxNjM3LDcuNTI0NDMyOTI0MjAyMzk0IHoiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiMwMDAwMDAiIGZpbGw9IiM5Nzk3OTciIGlkPSJzdmdfMTYiLz48L2c+PC9nPjxnIGlkPSJzdmdfMTciPjxnIGlkPSJzdmdfMTgiPjxwYXRoIGQ9Ik0zLjYxNjgwODczMzU1ODY2MDMsNi4xMzY4MzU1MzA2NDI1OTEgaC0wLjE2NjQzMzEyMDQzNzQ4MDEzIGMtMC4yMDUyODQxMTgxOTY3MjEsMCAtMC4zNzE3NTI4MTY0NzA5NzcxLDAuMTM1OTU1MTkxMjY3NjI0OCAtMC4zNzE3NTI4MTY0NzA5NzcxLDAuMzAzNjc1ODg1NzUzNjE1MDQgYzAsMC4xNjc3MjA2OTQ0ODU5OTAyNSAwLjE2NjQ2ODY5ODI3NDI1NjM0LDAuMzAzNjc1ODg1NzUzNjE1MDQgMC4zNzE3NTI4MTY0NzA5NzcxLDAuMzAzNjc1ODg1NzUzNjE1MDQgaDAuMTY2NDMzMTIwNDM3NDgwMTMgYzAuMjA1Mjg0MTE4MTk2NzIxLDAgMC4zNzE3NTI4MTY0NzA5NzcxLC0wLjEzNTk1NTE5MTI2NzYyNDggMC4zNzE3NTI4MTY0NzA5NzcxLC0wLjMwMzY3NTg4NTc1MzYxNTA0IFMzLjgyMjA5Mjg1MTc1NTM4NDUsNi4xMzY4MzU1MzA2NDI1OTEgMy42MTY4MDg3MzM1NTg2NjAzLDYuMTM2ODM1NTMwNjQyNTkxIHoiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiMwMDAwMDAiIGZpbGw9IiM5Nzk3OTciIGlkPSJzdmdfMTkiLz48L2c+PC9nPjxnIGlkPSJzdmdfMjAiPjxnIGlkPSJzdmdfMjEiPjxwYXRoIGQ9Ik0xMS40ODMwNjg0NDQ3MDE2MzcsNi4xMzY4MzU1MzA2NDI1OTEgSDQuODE5NDgxOTI3OTI5ODg0IGMtMC4yMDUyODQxMTgxOTY3MjEsMCAtMC4zNzE3NTI4MTY0NzA5NzcxLDAuMTM1OTU1MTkxMjY3NjI0OCAtMC4zNzE3NTI4MTY0NzA5NzcxLDAuMzAzNjc1ODg1NzUzNjE1MDQgYzAsMC4xNjc3MjA2OTQ0ODU5OTAyNSAwLjE2NjQ2ODY5ODI3NDI1NjM0LDAuMzAzNjc1ODg1NzUzNjE1MDQgMC4zNzE3NTI4MTY0NzA5NzcxLDAuMzAzNjc1ODg1NzUzNjE1MDQgaDYuNjYzNTg2NTE2NzcxNzUxIGMwLjIwNTI4NDExODE5NjcyMSwwIDAuMzcxNzUyODE2NDcwOTc3MSwtMC4xMzU5NTUxOTEyNjc2MjQ4IDAuMzcxNzUyODE2NDcwOTc3MSwtMC4zMDM2NzU4ODU3NTM2MTUwNCBTMTEuNjg4MzUyNTYyODk4MzU3LDYuMTM2ODM1NTMwNjQyNTkxIDExLjQ4MzA2ODQ0NDcwMTYzNyw2LjEzNjgzNTUzMDY0MjU5MSB6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjMDAwMDAwIiBmaWxsPSIjOTc5Nzk3IiBpZD0ic3ZnXzIyIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPicsCiAgICAgICAgICAgICAgICBwaG9uZW51bWJlcjogJyAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgIHN0eWxlPSJmaWxsOiM5Nzk3OTc7bWFyZ2luLWJvdHRvbTogMiU7IiB3aWR0aD0iMjQiPiA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+IDxwYXRoIGQ9Ik02LjYyIDEwLjc5YzEuNDQgMi44MyAzLjc2IDUuMTQgNi41OSA2LjU5bDIuMi0yLjJjLjI3LS4yNy42Ny0uMzYgMS4wMi0uMjQgMS4xMi4zNyAyLjMzLjU3IDMuNTcuNTcuNTUgMCAxIC40NSAxIDFWMjBjMCAuNTUtLjQ1IDEtMSAxLTkuMzkgMC0xNy03LjYxLTE3LTE3IDAtLjU1LjQ1LTEgMS0xaDMuNWMuNTUgMCAxIC40NSAxIDEgMCAxLjI1LjIgMi40NS41NyAzLjU3LjExLjM1LjAzLjc0LS4yNSAxLjAybC0yLjIgMi4yeiIvPiA8L3N2Zz4nLAogICAgICAgICAgICAgICAgZW1haWw6ICc8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBzdHlsZT0iZmlsbDojOTc5Nzk3O21hcmdpbi1ib3R0b206IDIlOyIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMjAgNEg0Yy0xLjEgMC0xLjk5LjktMS45OSAyTDIgMThjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yem0wIDRsLTggNS04LTVWNmw4IDUgOC01djJ6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPicKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcGhvbmVfbnVtYmVyX290cDpmYWxzZSwKICAgICAgICAgICAgd2ViaG9va191cmw6IG51bGwsCiAgICAgICAgICAgIHdlYmhvb2tfbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgIHdlYmhvb2tfY29udGVudF90eXBlOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwKICAgICAgICAgICAgd2ViaG9va19qc29uX21hcHBpbmc6IG51bGwsCiAgICAgICAgICAgIHdlYmhvb2tfaGVhZGVyczogW10sCiAgICAgICAgICAgIHdlYmhvb2tfcHJlZGVmaW5lZF92YWx1ZXM6IFtdLAogICAgICAgICAgICB3ZWJob29rX2pzb25fZGF0YTogW10sCiAgICAgICAgICAgIHdlYmhvb2tfZGV0YWlsczoge30sCiAgICAgICAgICAgIGhlYWRlcnMgOiBbXSwKICAgICAgICAgICAgY2xvc2VkX2Zvcm1fcmVzcG9uc2VzX2RhdGE6IFtdLAogICAgICAgICAgICBpc2VkaXRib3Q6IGZhbHNlLAogICAgICAgICAgICBjdXJyZW50X21lbnUgOiBbXSwKICAgICAgICAgICAgZ2VuZXJhbF9kcm9wZG93bl9uYXY6ICdkcm9wZG93bi1tZW51JywKICAgICAgICAgICAgZ2VuZXJhbF9saV9uYXY6ICduYXYtaXRlbScsCiAgICAgICAgICAgIGZvcm1fbGlfbmF2OiAnbmF2LWl0ZW0nLAogICAgICAgICAgICBleHBvcnRfbGlfbmF2OiduYXYtaXRlbScKICAgICAgICAgICAgLy8gVGFza0xpc3Q6WydTZW5kIEVtYWlsJywnU2VuZCBTTVMnLCdTZW5kIExpbmsnLCdDb25maXJtIGFwcG9pbnRtZW50J10sCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDp7CiAgICAgICAgaXNEaXNhYmxlZCgpIHsKICAgICAgICAgICAgLy8gZXZhbHVhdGUgd2hhdGV2ZXIgeW91IG5lZWQgdG8gZGV0ZXJtaW5lIGRpc2FibGVkIGhlcmUuLi4KICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2RldHlwZT09bnVsbCl7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codXVpZC52MSgpKTsKICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy4kdXVpZC52MSgpKTsKICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy4kdXVpZCk7CgogICAgICAgCiAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKGdlbmVyYXRlVVVJRCgpKQoKCgogICAgICAgIC8vIHRoaXMubGV2ZWxzLnB1c2goewogICAgICAgIC8vICAgICBsZXZlbG5vOjAsCiAgICAgICAgLy8gICAgIGlkOjEsCiAgICAgICAgLy8gICAgIG5vZGVzOltdLAogICAgICAgIC8vICAgICBub2RldHlwZTpudWxsLAogICAgICAgIC8vICAgICBtZXNzYWdlOidEaXNwbGF5IE1lc3NhZ2UnLAogICAgICAgIC8vICAgICBpc2xhc3Rub2RlOmZhbHNlLAogICAgICAgIC8vIH0pOwogICAgICAgICAgdGhpcy5sZXZlbHMucHVzaCh7CiAgICAgICAgICAgIGhlYWRlcl9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAgICAgbGV2ZWxubzowLAogICAgICAgICAgICBpZDowLAogICAgICAgICAgICBub2RlczpbXSwKICAgICAgICAgICAgbm9kZXR5cGU6bnVsbCwKICAgICAgICAgICAgbWVzc2FnZTonRGlzcGxheSBNZXNzYWdlJywKICAgICAgICAgICAgaXNsYXN0bm9kZTpmYWxzZSwKICAgICAgICB9KTsKICAgICAgICB0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0LnB1c2goMCk7CiAgICAgICAgdGhpcy5tYXhpZD0xOwogICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLmxldmVscywiaGkxIik7CiAgICAgICAgaWYodGhpcy4kcm91dGUucGFyYW1zLmJvdGRhdGE9PXVuZGVmaW5lZCl7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdEYXNoYm9hcmQnLAogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZih0aGlzLiRyb3V0ZS5wYXJhbXMuYm90ZGF0YS5ib3RfbmFtZT09bnVsbHx8dGhpcy4kcm91dGUucGFyYW1zLmJvdGRhdGEuYm90X3R5cGU9PW51bGwpewogICAgICAgICAgICAgICAgLy9yb3V0ZXIKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmKHRoaXMuJHJvdXRlLnBhcmFtcy5ib3RkYXRhLmlzX2VkaXQpewogICAgICAgICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnNob3dfY2xvc2VkX2Zvcm1fdXJsKCksewogICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICAgICAgICAgIGJvdF9uYW1lOiB0aGlzLiRyb3V0ZS5wYXJhbXMuYm90ZGF0YS5ib3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgYm90X2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuYm90ZGF0YS5ib3RfaWQsCiAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09ICJTdWNjZXNzIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVscz1yZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLnN0cnVjdHVyZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF4aWQgPSB0aGlzLmxldmVscy5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5ib3RfZGV0YWlscy5zdHJ1Y3R1cmUubGVuZ3RoOyBpICsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHRoaXMucmVuZGVyZWRpdGJvdChyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLnN0cnVjdHVyZVtpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy5sZXZlbHMsImhpIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzZWRpdGJvdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyhyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscykubGVuZ3RoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihPYmplY3Qua2V5cyhyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscykubGVuZ3RoICE9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiSGV5eXl5eXkiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJob29rX3VybCA9IHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tfbWV0aG9kID0gcmVzcG9uc2UuZGF0YS5ib3RfZGV0YWlscy53ZWJob29rX2RldGFpbHMuaHR0cF9tZXRob2Q7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJob29rX2NvbnRlbnRfdHlwZSA9IHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLmNvbnRlbnRfdHlwZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tfanNvbl9kYXRhID0gcmVzcG9uc2UuZGF0YS5ib3RfZGV0YWlscy53ZWJob29rX2RldGFpbHMuanNvbl9tYXBwaW5nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciB3ZWJob29rX2hlYWRlcnNfdGVtcCA9IE9iamVjdC5lbnRyaWVzKHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLmhlYWRlcnMpLm1hcCgoZSkgPT4gKCB7IFtlWzBdXTogZVsxXSB9ICkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ZWJob29rX2hlYWRlcnNfdGVtcCA9IE9iamVjdC5lbnRyaWVzKHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLmhlYWRlcnMpLm1hcCgoZSkgPT4gKCB7IGtleTogZVswXSwgdmFsdWUgOiBlWzFdIH0gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJob29rX2hlYWRlcnMgPSB3ZWJob29rX2hlYWRlcnNfdGVtcDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgcHJlZGVmaW5lZF9rZXlfdmFsdWVfcGFpcnMgPSBPYmplY3QuZW50cmllcyhyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscy5wcmVkZWZpbmVkX2tleV92YWx1ZV9wYWlycykubWFwKChlKSA9PiAoIHsgW2VbMF1dOiBlWzFdIH0gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZWRlZmluZWRfa2V5X3ZhbHVlX3BhaXJzID0gT2JqZWN0LmVudHJpZXMocmVzcG9uc2UuZGF0YS5ib3RfZGV0YWlscy53ZWJob29rX2RldGFpbHMucHJlZGVmaW5lZF9rZXlfdmFsdWVfcGFpcnMpLm1hcCgoZSkgPT4gKCB7IGtleTogZVswXSwgdmFsdWUgOiBlWzFdIH0gKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJob29rX3ByZWRlZmluZWRfdmFsdWVzID0gcHJlZGVmaW5lZF9rZXlfdmFsdWVfcGFpcnM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIGlmKE9iamVjdC5rZXlzKHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzKS5sZW5ndGggIT09IG51bGwpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMud2ViaG9va191cmwgPSByZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscy51cmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy53ZWJob29rX21ldGhvZCA9IHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLmh0dHBfbWV0aG9kOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMud2ViaG9va19jb250ZW50X3R5cGUgPSByZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscy5jb250ZW50X3R5cGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy53ZWJob29rX2pzb25fZGF0YSA9IHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLmpzb25fbWFwcGluZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB2YXIgd2ViaG9va19oZWFkZXJzX3RlbXAgPSBPYmplY3QuZW50cmllcyhyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscy5oZWFkZXJzKS5tYXAoKGUpID0+ICggeyBbZVswXV06IGVbMV0gfSApKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgd2ViaG9va19oZWFkZXJzX3RlbXAgPSBPYmplY3QuZW50cmllcyhyZXNwb25zZS5kYXRhLmJvdF9kZXRhaWxzLndlYmhvb2tfZGV0YWlscy5oZWFkZXJzKS5tYXAoKGUpID0+ICggeyBrZXk6IGVbMF0sIHZhbHVlIDogZVsxXSB9ICkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMud2ViaG9va19oZWFkZXJzID0gd2ViaG9va19oZWFkZXJzX3RlbXA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gdmFyIHByZWRlZmluZWRfa2V5X3ZhbHVlX3BhaXJzID0gT2JqZWN0LmVudHJpZXMocmVzcG9uc2UuZGF0YS5ib3RfZGV0YWlscy53ZWJob29rX2RldGFpbHMucHJlZGVmaW5lZF9rZXlfdmFsdWVfcGFpcnMpLm1hcCgoZSkgPT4gKCB7IFtlWzBdXTogZVsxXSB9ICkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBwcmVkZWZpbmVkX2tleV92YWx1ZV9wYWlycyA9IE9iamVjdC5lbnRyaWVzKHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzLnByZWRlZmluZWRfa2V5X3ZhbHVlX3BhaXJzKS5tYXAoKGUpID0+ICggeyBrZXk6IGVbMF0sIHZhbHVlIDogZVsxXSB9ICkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMud2ViaG9va19wcmVkZWZpbmVkX3ZhbHVlcyA9IHByZWRlZmluZWRfa2V5X3ZhbHVlX3BhaXJzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yKGxldCBpPTA7IGkgPCB0aGlzLmxldmVscy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aDsgaisrKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLmRhdGFfbWVudGlvbiA9PSB0cnVlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFyIHRlbXBfbWVzc2FnZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBmb3IobGV0IGsgPSAwOyBrIDwgaTsgaysrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGZvcihsZXQgbCA9IDA7IGwgPCB0aGlzLmxldmVsc1trXS5ub2Rlcy5sZW5ndGg7IGorKyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbaV0ubm9kZXNbal0uZGF0YV92YWx1ZSA9PSB0aGlzLmxldmVsc1trXS5ub2Rlc1tsXS5ub2RlX2lkKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGVtcF9tZXNzYWdlID0gdGhpcy5sZXZlbHNba10ubm9kZXNbbF0ubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubWVzc2FnZS5yZXBsYWNlKC97fS9nLCB0ZW1wX21lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gL0BcWyooW0EtWmEtejAtOVxzXSkqXF0vLCAie30iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuYm90X2RldGFpbHMud2ViaG9va19kZXRhaWxzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmJvdF92ZXJzaW9uID0gdGhpcy4kcm91dGUucGFyYW1zLmJvdGRhdGEuYm90X3ZlcnNpb247CiAgICAgICAgICAgICAgICB0aGlzLmJvdF9pZD10aGlzLiRyb3V0ZS5wYXJhbXMuYm90ZGF0YS5ib3RfaWQ7CiAgICAgICAgICAgICAgICB0aGlzLmJvdF9uYW1lPXRoaXMuJHJvdXRlLnBhcmFtcy5ib3RkYXRhLmJvdF9uYW1lOwogICAgICAgICAgICAgICAgdGhpcy5ib3RfdHlwZT10aGlzLiRyb3V0ZS5wYXJhbXMuYm90ZGF0YS5ib3RfdHlwZTsKICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLmxldmVscywgImhpMiIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBpZih0aGlzLmJvdF90eXBlPT0nT3BlbiBCb3QnKXsKICAgICAgICAgICAgICAgIC8vICAgICBheGlvcwogICAgICAgICAgICAgICAgLy8gICAgICAgICAucG9zdChhcGlfY2FsbHMub3Blbl9mb3JtX3Rhc2tzKCksIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBpc1Nob3c6IHRydWUsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubwogICAgICAgICAgICAgICAgLy8gICAgICAgICB9KQogICAgICAgICAgICAgICAgLy8gICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxyZXNwb25zZS5kYXRhLlRhc2tMaXN0O2krKyl7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5UYXNrTGlzdFtpXS5UYXNrVHlwZT09J0VtYWlsJ3x8cmVzcG9uc2UuZGF0YS5UYXNrTGlzdFtpXS5UYXNrVHlwZT09J1NNUycpewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB0aGlzLlRhc2tMaXN0LnB1c2gocmVzcG9uc2UuZGF0YS5UYXNrTGlzdFtpXS5UYXNrTmFtZSk7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgICQoIi5kcm9wZG93bi10b2dnbGUiKS5kcm9wZG93bigpOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuc2V0ZGF0YW1lbnRpb252YWx1ZXMoKTsKICAgICAgICB9LCA2MDAwKTsKICAgICAgICAvLyBjb25zdCAkY29udHJvbF90YWIgPSAkKCcuY29udHJvbCcpOwogICAgICAgIC8vIGNvbnN0ICRzZXR0aW5nX3RhYiA9ICQoJy5zZXR0aW5nJyk7CiAgICAgICAgLy8gY29uc3QgJHdpbmRvdyA9ICQod2luZG93KTsKICAgICAgICAvLyBjb25zdCBvZmZzZXQgPSAkY29udHJvbF90YWIub2Zmc2V0KCk7CiAgICAgICAgLy8gY29uc3QgdG9wUGFkZGluZyA9IDE1OwoKICAgICAgICAvLyAkd2luZG93LnNjcm9sbCgoKSA9PiB7CiAgICAgICAgLy8gaWYgKCR3aW5kb3cuc2Nyb2xsVG9wKCkgPiBvZmZzZXQudG9wKSB7CiAgICAgICAgLy8gICAgIC8vICRzZXR0aW5nX3RhYi5zdG9wKCkuYW5pbWF0ZSh7CiAgICAgICAgLy8gICAgIC8vICAgICBtYXJnaW5Ub3A6ICR3aW5kb3cuc2Nyb2xsVG9wKCkgLSBvZmZzZXQudG9wICsgdG9wUGFkZGluZywKICAgICAgICAvLyAgICAgLy8gfSk7CiAgICAgICAgLy8gICAgICRjb250cm9sX3RhYi5zdG9wKCkuYW5pbWF0ZSh7CiAgICAgICAgLy8gICAgICAgICBtYXJnaW5Ub3A6ICR3aW5kb3cuc2Nyb2xsVG9wKCkgLSBvZmZzZXQudG9wICsgdG9wUGFkZGluZywKICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAvLyAgICAgLy8gJHNldHRpbmdfdGFiLnN0b3AoKS5hbmltYXRlKHsKICAgICAgICAvLyAgICAgLy8gICAgIG1hcmdpblRvcDogMCwKICAgICAgICAvLyAgICAgLy8gfSwgMCk7CiAgICAgICAgLy8gICAgICRjb250cm9sX3RhYi5zdG9wKCkuYW5pbWF0ZSh7CiAgICAgICAgLy8gICAgICAgICBtYXJnaW5Ub3A6IDAsCiAgICAgICAgLy8gICAgIH0sIDApOwogICAgICAgIC8vIH0KICAgICAgICAvLyB9KTsKCiAgICAgICAgLy8gZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkgeyAvLyBQdWJsaWMgRG9tYWluL01JVAogICAgICAgIC8vIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7Ly9UaW1lc3RhbXAKICAgICAgICAvLyB2YXIgZDIgPSAocGVyZm9ybWFuY2UgJiYgcGVyZm9ybWFuY2Uubm93ICYmIChwZXJmb3JtYW5jZS5ub3coKSoxMDAwKSkgfHwgMDsvL1RpbWUgaW4gbWljcm9zZWNvbmRzIHNpbmNlIHBhZ2UtbG9hZCBvciAwIGlmIHVuc3VwcG9ydGVkCiAgICAgICAgLy8gcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykgewogICAgICAgIC8vICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNjsvL3JhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNgogICAgICAgIC8vICAgICBpZihkID4gMCl7Ly9Vc2UgdGltZXN0YW1wIHVudGlsIGRlcGxldGVkCiAgICAgICAgLy8gICAgICAgICByID0gKGQgKyByKSUxNiB8IDA7CiAgICAgICAgLy8gICAgICAgICBkID0gTWF0aC5mbG9vcihkLzE2KTsKICAgICAgICAvLyAgICAgfSBlbHNlIHsvL1VzZSBtaWNyb3NlY29uZHMgc2luY2UgcGFnZS1sb2FkIGlmIHN1cHBvcnRlZAogICAgICAgIC8vICAgICAgICAgciA9IChkMiArIHIpJTE2IHwgMDsgCiAgICAgICAgLy8gICAgICAgICBkMiA9IE1hdGguZmxvb3IoZDIvMTYpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpOwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIH0KICAgIH0sCiAgICBtZXRob2RzOnsKCiAgICAgICAgc2V0ZGF0YW1lbnRpb252YWx1ZXMoKSB7CiAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy5sZXZlbHMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aDsgaisrKQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbaV0ubm9kZXNbal0uZGF0YV9tZW50aW9uID09IHRydWUpewogICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wX21lc3NhZ2UgPSAnJzsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGsgPSAwOyBrIDwgaTsgaysrKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBsID0gMDsgbCA8IHRoaXMubGV2ZWxzW2tdLm5vZGVzLmxlbmd0aDsgbCsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLmRhdGFfdmFsdWUgPT0gdGhpcy5sZXZlbHNba10ubm9kZXNbbF0ubm9kZV9pZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcF9tZXNzYWdlID0gdGhpcy5sZXZlbHNba10ubm9kZXNbbF0ubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlc1tqXS5tZXNzYWdlID0gdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubWVzc2FnZS5yZXBsYWNlKC97fS9nLCAnQFsnICt0ZW1wX21lc3NhZ2UgKyAnXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ2VuZXJhdGVVVUlEKCkgeyAvLyBQdWJsaWMgRG9tYWluL01JVAogICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOy8vVGltZXN0YW1wCiAgICAgICAgICAgIHZhciBkMiA9IChwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZS5ub3cgJiYgKHBlcmZvcm1hbmNlLm5vdygpKjEwMDApKSB8fCAwOy8vVGltZSBpbiBtaWNyb3NlY29uZHMgc2luY2UgcGFnZS1sb2FkIG9yIDAgaWYgdW5zdXBwb3J0ZWQKICAgICAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykgewogICAgICAgICAgICAgICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTY7Ly9yYW5kb20gbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYKICAgICAgICAgICAgICAgIGlmKGQgPiAwKXsvL1VzZSB0aW1lc3RhbXAgdW50aWwgZGVwbGV0ZWQKICAgICAgICAgICAgICAgICAgICByID0gKGQgKyByKSUxNiB8IDA7CiAgICAgICAgICAgICAgICAgICAgZCA9IE1hdGguZmxvb3IoZC8xNik7CiAgICAgICAgICAgICAgICB9IGVsc2Ugey8vVXNlIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgaWYgc3VwcG9ydGVkCiAgICAgICAgICAgICAgICAgICAgciA9IChkMiArIHIpJTE2IHwgMDsgCiAgICAgICAgICAgICAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyLzE2KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHN0YXJ0ZHJhZyhldil7CiAgICAgICAgICAgICQoIi5sZXZlbCIpLnRvZ2dsZUNsYXNzKCJkcm9waGVyZSIpOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICQoIi5sZXZlbCIpLnRvZ2dsZUNsYXNzKCJkcm9waGVyZSIpOwogICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgZXYuZGF0YVRyYW5zZmVyLnNldERhdGEoInRleHQiLCBldi50YXJnZXQuaWQpOwogICAgICAgIH0sCiAgICAgICAgLy9Ba3NoYXkKICAgICAgICBmb3JtZHJvcChldil7CiAgICAgICAgICAgIGlmKGV2LnRhcmdldC5pZC5pbmNsdWRlcygnRm9ybScpKXsKICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0Iik7CiAgICAgICAgICAgICAgICB2YXIgaWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXYudGFyZ2V0LmlkKS5wYXJlbnROb2RlLmlkKS5wYXJlbnROb2RlLmlkOwogICAgICAgICAgICAgICAgaWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnBhcmVudE5vZGUuaWQ7CiAgICAgICAgICAgICAgICB0aGlzLmFkZGZvcm1maWVsZChkYXRhLGlkKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29tcGxldGVkcm9wKGV2KXsKICAgICAgICAgICAgdmFyIGNoZWNraWQ9bnVsbDsKICAgICAgICAgICAgLy8gZGVidWdnZXI7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyhldi50YXJnZXQuaWQpOwogICAgICAgICAgICBpZihpc05hTihOdW1iZXIoZXYudGFyZ2V0LmlkKSl8fGV2LnRhcmdldC5pZD09bnVsbCl7CiAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2coJ2dldHBhcmVudCcpOwogICAgICAgICAgICAgICAgY2hlY2tpZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChldi50YXJnZXQuaWQpLnBhcmVudE5vZGUuaWQ7CiAgICAgICAgICAgICAgICBpZihpc05hTihOdW1iZXIoY2hlY2tpZCkpKXsKICAgICAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2coJ2dldHBhcmVudGFnYWluJyk7CiAgICAgICAgICAgICAgICAgICAgY2hlY2tpZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGVja2lkKS5wYXJlbnROb2RlLmlkCiAgICAgICAgICAgICAgICAgICAgaWYoaXNOYU4oTnVtYmVyKGNoZWNraWQpKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZygnZ2V0cGFyZW50YWdhaW5hbmRhZ2FpbicpOwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2lkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNoZWNraWQpLnBhcmVudE5vZGUuaWQKICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNOYU4oTnVtYmVyKGNoZWNraWQpKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZygnZ2V0cGFyZW50YWdhaW5hbmRhZ2FpbicpOwogICAgICAgICAgICAgICAgICAgICAgICBjaGVja2lkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNoZWNraWQpLnBhcmVudE5vZGUuaWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2hlY2tpZD1ldi50YXJnZXQuaWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGRyb3BsZXZlbGluZGV4PW51bGw7CiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5sZXZlbHMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICBpZihjaGVja2lkPT10aGlzLmxldmVsc1tpXS5pZCl7CiAgICAgICAgICAgICAgICAgICAgZHJvcGxldmVsaW5kZXg9aTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB2YXIgZGF0YSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0Iik7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyhkYXRhLHRoaXMubGV2ZWxzW2Ryb3BsZXZlbGluZGV4XS5ub2RldHlwZSx0aGlzLmxldmVsc1tkcm9wbGV2ZWxpbmRleF0uaXNsYXN0bm9kZSk7CiAgICAgICAgICAgIGlmKGNoZWNraWQgPT09ICIiKXsKICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiSXQgc2VlbXMgeW91IGRyb3BwZWQgdGhlIGVsZW1lbnQgYXQgYSB3cm9uZyBwbGFjZSwgcGxlYXNlIHRyeSBwbGFjaW5nIGl0IGNvcnJlY3RseSIpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZigodGhpcy5sZXZlbHNbZHJvcGxldmVsaW5kZXhdLm5vZGV0eXBlPT1udWxsJiZ0aGlzLmxldmVsc1tkcm9wbGV2ZWxpbmRleF0uaXNsYXN0bm9kZT09ZmFsc2UpfHwodGhpcy5sZXZlbHNbZHJvcGxldmVsaW5kZXhdLm5vZGV0eXBlPT0nQnV0dG9uJyYmZGF0YT09J0J1dHRvbicpfHxkYXRhPT0nTWVzc2FnZSd8fGRhdGE9PSdWaWRlbyd8fGRhdGE9PSdJbWFnZSd8fGRhdGE9PSdIeXBlcmxpbmsnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZW5vZGUoZGF0YSxkcm9wbGV2ZWxpbmRleCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy5sZXZlbHNbZHJvcGxldmVsaW5kZXhdLm5vZGV0eXBlPT0nRm9ybScpewogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBzd2FsCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbZHJvcGxldmVsaW5kZXhdLm5vZGV0eXBlIT1udWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIlNpbmdsZSBsZXZlbCBjYW5ubm90IGhhdmUgbW9yZSB0aGVuIDEgaW5wdXQgZWxlbWVudHMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjoyNTAwLAogICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICJUaGlzIGlzIHNlbGVjdGVkIGFzIGxhc3Qgbm9kZSwgbGFzdCBub2RlIGNhbm5vdCBoYXZlIGlucHV0IHR5cGUgZWxlbWVudHMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjozMDAwLAogICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyB0aGlzLmNyZWF0ZW5vZGUoZGF0YSxkcm9wbGV2ZWxpbmRleCk7CiAgICAgICAgICAgIC8vICQoIiMxIikuc29ydGFibGUoKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZWRyb3AoZXYpewogICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0sCiAgICAgICAgY3JlYXRlbm9kZShpZCxpKXsKICAgICAgICAgICAgLy8gYXhpb3MucGF0Y2goKQogICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzW2ldKTsKICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0uaGVhZGVyX2lkID0gdGhpcy5nZW5lcmF0ZVVVSUQoKTsKICAgICAgICAgICAgaWYoaWQ9PSdCdXR0b24nKXsKICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbm9kZXR5cGU6J0J1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgbmFtZTonQnV0dG9uJysodGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoKzEpLAogICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgICAgICAgICAgICAgLy8gc3ZnOic8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwLjM5OSIgaGVpZ2h0PSIxMC44MzMiIHN0eWxlPSJmaWxsOiM5Nzk3OTc7bWFyZ2luLXJpZ2h0OjUlIiB2aWV3Qm94PSIwIDAgMTAuMzk5IDEwLjgzMyI+IDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDYuNTEzIC00MDcpIj4gPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTA2LjUxMyA0MDcpIj4gPHBhdGggY2xhc3M9ImEiIGQ9Ik0xMjQuNDA2LDE5N2MuMDI5LjAxLjA1OC4wMjIuMDg4LjAyOWExLjIsMS4yLDAsMCwxLS4yNTgsMi4zNzlxLTQsMC04LDBhMS4yLDEuMiwwLDAsMS0uMjU4LTIuMzc5Yy4wMy0uMDA3LjA1OS0uMDE5LjA4OC0uMDI5WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNS4wMzUgLTE5NykiLz4gPHBhdGggY2xhc3M9ImEiIGQ9Ik0xMTYuMDExLDUxMC4zNzNhMS4zNjcsMS4zNjcsMCwwLDEtLjY4LS4zNjMsMS4yLDEuMiwwLDAsMSwuOC0yLjA0MmMuMDU0LDAsLjEwOCwwLC4xNjIsMHEzLjg5MywwLDcuNzg1LDBhMS4yMTcsMS4yMTcsMCwwLDEsMS4xNTYuNjM3LDEuMiwxLjIsMCwwLDEtLjc5MSwxLjc0NmMtLjAzLjAwNy0uMDU4LjAxOS0uMDg3LjAyOVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTQuOTgxIC00OTkuNTQpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMjAuMywzNTVjLTEuMzIyLDAtMi42NDQsMC0zLjk2NSwwYTEuMiwxLjIsMCwwLDEtLjExMS0yLjRjLjA0OSwwLC4xLDAsLjE0OSwwaDcuODYzYTEuMiwxLjIsMCwwLDEsLjEzOCwyLjRjLS4zNzMuMDE5LS43NDkuMDA3LTEuMTIzLjAwN1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTUuMDk5IC0zNDguMzgxKSIvPiA8L2c+IDwvZz4gPC9zdmc+JywKICAgICAgICAgICAgICAgICAgICAvLyBidXR0b25pbmRleDp0aGlzLmxldmVsc1tpXS5idXR0b25jb3VudCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbaV0uYnV0dG9ucy5wdXNoKHsKICAgICAgICAgICAgICAgIC8vICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAgICAgICAgIC8vICAgICBub2RldHlwZTonQnV0dG9uJywKICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOidCdXR0b24nKyh0aGlzLmxldmVsc1tpXS5idXR0b25jb3VudCsxKSwKICAgICAgICAgICAgICAgIC8vICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAvLyAgICAgc3ZnOic8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwLjM5OSIgaGVpZ2h0PSIxMC44MzMiIHZpZXdCb3g9IjAgMCAxMC4zOTkgMTAuODMzIj48ZGVmcz48c3R5bGU+LmZ7ZmlsbDojZmZmO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTA2LjUxMyAtNDA3KSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTA2LjUxMyA0MDcpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTEyNC40MDYsMTk3Yy4wMjkuMDEuMDU4LjAyMi4wODguMDI5YTEuMiwxLjIsMCwwLDEtLjI1OCwyLjM3OXEtNCwwLTgsMGExLjIsMS4yLDAsMCwxLS4yNTgtMi4zNzljLjAzLS4wMDcuMDU5LS4wMTkuMDg4LS4wMjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE1LjAzNSAtMTk3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTE2LjAxMSw1MTAuMzczYTEuMzY3LDEuMzY3LDAsMCwxLS42OC0uMzYzLDEuMiwxLjIsMCwwLDEsLjgtMi4wNDJjLjA1NCwwLC4xMDgsMCwuMTYyLDBxMy44OTMsMCw3Ljc4NSwwYTEuMjE3LDEuMjE3LDAsMCwxLDEuMTU2LjYzNywxLjIsMS4yLDAsMCwxLS43OTEsMS43NDZjLS4wMy4wMDctLjA1OC4wMTktLjA4Ny4wMjlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE0Ljk4MSAtNDk5LjU0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTIwLjMsMzU1Yy0xLjMyMiwwLTIuNjQ0LDAtMy45NjUsMGExLjIsMS4yLDAsMCwxLS4xMTEtMi40Yy4wNDksMCwuMSwwLC4xNDksMGg3Ljg2M2ExLjIsMS4yLDAsMCwxLC4xMzgsMi40Yy0uMzczLjAxOS0uNzQ5LjAwNy0xLjEyMy4wMDdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTE1LjA5OSAtMzQ4LjM4MSkiLz48L2c+PC9nPjwvc3ZnPicsCiAgICAgICAgICAgICAgICAvLyAgICAgbm9kZWluZGV4Om51bGwsCiAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgIC8vIHRoaXMubGV2ZWxzW2ldLmJ1dHRvbmNvdW50PXRoaXMubGV2ZWxzW2ldLmJ1dHRvbmNvdW50KzE7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmxldmVsc1tpXS5idXR0b25zW3RoaXMubGV2ZWxzW2ldLmJ1dHRvbmNvdW50LTFdLm5vZGVpbmRleD10aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgtMTsKICAgICAgICAgICAgICAgIC8vIHRoaXMuY3JlYXRlbGV2ZWwoaSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZD09J1RleHRfQm94Jyl7CiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG5vZGV0eXBlOidUZXh0IEJveCcsCiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6bnVsbCwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZD09J1RleHRhcmVhJyl7CiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG5vZGV0eXBlOidUZXh0IEFyZWEnLAogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOidFbnRlciBQbGFjZWhvbGRlcicsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQ9PSdFbWFpbCcpewogICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICBub2RldHlwZTonRW1haWwnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAgICAgICAgICAgICBlcnJvcl9tc2c6bnVsbCwKICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkPT0nTnVtYmVyJyl7CiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG5vZGV0eXBlOidOdW1iZXInLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAgICAgICAgICAgICBtaW5udW1iZXI6bnVsbCwKICAgICAgICAgICAgICAgICAgICBtYXhudW1iZXI6bnVsbCwKICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkPT0nUGhvbmVOdW1iZXInKXsKICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbm9kZXR5cGU6J1Bob25lIE51bWJlcicsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGVycm9yX21zZzpudWxsLAogICAgICAgICAgICAgICAgICAgIGVuYWJsZV9vdHBfdmFsaWRhdGlvbjpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBvdHBfcXVlc3Rpb25fbGFiZWw6bnVsbCwKICAgICAgICAgICAgICAgICAgICBvdHBfbXNnOm51bGwsCiAgICAgICAgICAgICAgICAgICAgaW5jb3JyZWN0X290cF9tc2c6bnVsbCwKICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkPT0nSHlwZXJsaW5rJyl7CiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG5vZGV0eXBlOidIeXBlcmxpbmsnLAogICAgICAgICAgICAgICAgICAgIGh5cGVybGluazpudWxsLAogICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQ9PSdDaGVja19Cb3gnKXsKICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbm9kZXR5cGU6J0NoZWNrIEJveCcsCiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOlt7dGl0bGU6bnVsbCxwYXlsb2FkOm51bGx9XSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZD09J1JhZGlvX0J1dHRvbicpewogICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICBub2RldHlwZTonUmFkaW8gQnV0dG9uJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6W3t0aXRsZTpudWxsLHBheWxvYWQ6bnVsbH1dLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkPT0nRHJvcGRvd24nKXsKICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbm9kZXR5cGU6J0Ryb3Bkb3duJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6W3t0aXRsZTpudWxsLHBheWxvYWQ6bnVsbH1dLAogICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOm51bGwsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQ9PSdGaWxlX1VwbG9hZCcpewogICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICBub2RldHlwZTonRmlsZSBVcGxvYWQnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKGlkPT0nVmlkZW8nKXsKICAgICAgICAgICAgICAgIC8vIHRoaXMubGV2ZWxzW2ldLm1lc3NhZ2UgPSAiRGlzcGxheSBNZXNzYWdlIjsKICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbm9kZXR5cGU6J1ZpZGVvJywKICAgICAgICAgICAgICAgICAgICB2aWRlb3VybDpudWxsLAogICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQ9PSdJbWFnZScpewogICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICBub2RldHlwZTonSW1hZ2UnLAogICAgICAgICAgICAgICAgICAgIGltYWdldXJsOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZihpZD09J01lc3NhZ2UnKXsKICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgbm9kZXR5cGU6J01lc3NhZ2UnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYoaWQ9PSdGb3JtJyl7CiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG5vZGV0eXBlOidGb3JtJywKICAgICAgICAgICAgICAgICAgICBmb3JtbmFtZTpudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcm1maWVsZHM6W10sCiAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaWQ9PSdNZXNzYWdlJ3x8aWQ9PSdWaWRlbyd8fGlkPT0nSW1hZ2UnfHxpZD09J0h5cGVybGluaycpewoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlbGV2ZWwoaSk7CiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2RldHlwZT1pZDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNlbGVjdG5vZGUodGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLTEsdGhpcy5sZXZlbHNbaV0ubGV2ZWxubyk7CiAgICAgICAgfSwKICAgICAgICAvL0Frc2hheSA6IENoYW5nZWQgbGV2ZWxzW2lkLTJdIHRvIGxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdCiAgICAgICAgLy9FcnJvciB3YXMgOiBkaXZzIGlkIGlzIHBhc3NlZCBpbiBmdW5jdGlvbiwgY2FuJ3QgYmUgYWNjZXB0ZWQgYnkgbGV2ZWxzIGFzIGl0IHJlcXVpcmVzIGludGVnZXIgdG8gaWRlbnRpZnkgbm9kZXMgaW5zaWRlIGFycmF5LgogICAgICAgIGFkZGZvcm1maWVsZCh0eXBlLGlkKXsKCiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdGb3JtJyl7CiAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25ncmF0cycpOwogICAgICAgICAgICAgICAgICAgIGlmKHR5cGU9PSdUZXh0X0JveCcpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmZvcm1maWVsZHMucHVzaCh7bm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwgbm9kZXR5cGU6J1RleHQgQm94JyxoZWFkZXI6bnVsbCAscGxhY2Vob2xkZXI6bnVsbCB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodHlwZT09J0Ryb3Bkb3duJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZm9ybWZpZWxkcy5wdXNoKHtub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLCBub2RldHlwZTonRHJvcGRvd24nLGhlYWRlcjpudWxsICx2YWx1ZXM6W3t0aXRsZTpudWxsLHBheWxvYWQ6bnVsbH1dIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0eXBlPT0nQ2hlY2tfQm94Jyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZm9ybWZpZWxkcy5wdXNoKHtub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLCBub2RldHlwZTonQ2hlY2sgQm94JyxoZWFkZXI6bnVsbCAsdmFsdWVzOlt7dGl0bGU6bnVsbCxwYXlsb2FkOm51bGx9XSB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodHlwZT09J1JhZGlvX0J1dHRvbicpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmZvcm1maWVsZHMucHVzaCh7bm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwgbm9kZXR5cGU6J1JhZGlvIEJ1dHRvbicsaGVhZGVyOm51bGwgLHZhbHVlczpbe3RpdGxlOm51bGwscGF5bG9hZDpudWxsfV0gfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2V0dmFsdWVzKCk7CiAgICAgICAgfSwKICAgICAgICBjcmVhdGVsZXZlbChsZXZlbGluZGV4KXsKICAgICAgICAgICAgLy8gZGVidWdnZXI7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLm1heGlkKTsKICAgICAgICAgICAgLy8gdGhpcy5tYXhpZD10aGlzLm1heGlkKzE7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLm1heGlkKTsKICAgICAgICAgICAgdGhpcy5sZXZlbHMucHVzaCh7CiAgICAgICAgICAgICAgICBsZXZlbG5vOnRoaXMubGV2ZWxzW2xldmVsaW5kZXhdLmxldmVsbm8rMSwKICAgICAgICAgICAgICAgIGlkOnRoaXMubWF4aWQsCiAgICAgICAgICAgICAgICBub2RlczpbXSwKICAgICAgICAgICAgICAgIG5vZGV0eXBlOm51bGwsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiJEaXNwbGF5IE1lc3NhZ2UiLAogICAgICAgICAgICAgICAgcHJldmlvdXNub2RlaW5kZXg6dGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0ubm9kZXMubGVuZ3RoLTEsCiAgICAgICAgICAgICAgICBwcmV2aW91c2xldmVsaW5kZXg6bGV2ZWxpbmRleCwKICAgICAgICAgICAgICAgIGltZzpudWxsLAogICAgICAgICAgICAgICAgZmxhdm9yX3RleHQ6bnVsbCwKICAgICAgICAgICAgICAgIHBvcF91cDpudWxsLAogICAgICAgICAgICAgICAgaXNsYXN0bm9kZTpmYWxzZSwKICAgICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwsCiAgICAgICAgICAgICAgICBoZWFkZXJfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJNQVggSUQiLHRoaXMubWF4aWQpOwoKICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKGxldmVsaW5kZXgsdGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0sdGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0ubm9kZXMsdGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0ubm9kZXNbdGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0ubm9kZXMubGVuZ3RoLTFdLCB0aGlzLm1heGlkICkKICAgICAgICAgICAgdGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0ubm9kZXNbdGhpcy5sZXZlbHNbbGV2ZWxpbmRleF0ubm9kZXMubGVuZ3RoLTFdLmZvbGxvd2luZ2xldmVsaWQ9dGhpcy5tYXhpZDsKICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZGxldmVsbGlzdFt0aGlzLmxldmVsc1t0aGlzLmxldmVscy5sZW5ndGgtMV0ubGV2ZWxub109PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0W3RoaXMubGV2ZWxzW2xldmVsaW5kZXhdLmxldmVsbm9dPWxldmVsaW5kZXg7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0LnB1c2godGhpcy5sZXZlbHMubGVuZ3RoLTEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZGxldmVsbGlzdFt0aGlzLmxldmVsc1tsZXZlbGluZGV4XS5sZXZlbG5vXT1sZXZlbGluZGV4OwogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZGxldmVsbGlzdFt0aGlzLmxldmVsc1tsZXZlbGluZGV4XS5sZXZlbG5vKzFdPXRoaXMubGV2ZWxzLmxlbmd0aC0xOwogICAgICAgICAgICAgICAgd2hpbGUodGhpcy5zZWxlY3RlZGxldmVsbGlzdC5sZW5ndGg+bGV2ZWxpbmRleCsyKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0LnBvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubWF4aWQ9dGhpcy5tYXhpZCsxOwogICAgICAgIH0sCiAgICAgICAgc2VsZWN0bm9kZShub2RlaW5kZXgsbGV2ZWxpbmRleCl7CiAgICAgICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICAgICAgICB2YXIgaXNzZXR2YWw9dHJ1ZTsKICAgICAgICAgICAgaWYodGhpcy5zZWxlY3RlZGxldmVsPT10aGlzLnNlbGVjdGVkbGV2ZWxsaXN0W2xldmVsaW5kZXhdKXsKICAgICAgICAgICAgICAgIGlzc2V0dmFsPWZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGxldmVsaW5kZXghPW51bGwpewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZGxldmVsPXRoaXMuc2VsZWN0ZWRsZXZlbGxpc3RbbGV2ZWxpbmRleF07CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkPXRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkbGV2ZWw9bGV2ZWxpbmRleDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkbm9kZT1ub2RlaW5kZXg7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkbGV2ZWwsICdzZWxlY3RlZGxldmVsJyk7CiAgICAgICAgICAgIGlmKHRoaXMuc2VsZWN0ZWRsZXZlbCE9bnVsbCl7CiAgICAgICAgICAgICAgICB0aGlzLnNldHZhbHVlcygpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZXNldHBhdGgobm9kZWluZGV4LGxldmVsaW5kZXgpewogICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRsZXZlbGxpc3RbbGV2ZWxpbmRleCsxXSwpCiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyhub2RlaW5kZXgpOwogICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2cobGV2ZWxpbmRleCk7CiAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbGxpc3RbbGV2ZWxpbmRleF1dLm5vZGVzW25vZGVpbmRleF0uZm9sbG93aW5nbGV2ZWxpZCAhPSBudWxsKXsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRsZXZlbGxpc3RbbGV2ZWxpbmRleCsxXT10aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0W2xldmVsaW5kZXhdXS5ub2Rlc1tub2RlaW5kZXhdLmZvbGxvd2luZ2xldmVsaWQ7CiAgICAgICAgICAgICAgICB3aGlsZSh0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0Lmxlbmd0aD5sZXZlbGluZGV4KzIpewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRsZXZlbGxpc3QucG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZGxldmVsbGlzdCk7CiAgICAgICAgICAgICAgICB0aGlzLnNldHN0cmFpZ2h0cGF0aCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXRzdHJhaWdodHBhdGgoKXsKICAgICAgICAgICAgLy8gZGVidWdnZXI7CiAgICAgICAgICAgIHZhciBsYXN0bm9kZXR5cGU9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsbGlzdFt0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0Lmxlbmd0aC0xXV0ubm9kZXR5cGU7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyhsYXN0bm9kZXR5cGUpOwogICAgICAgICAgICBpZihsYXN0bm9kZXR5cGUhPSJCdXR0b24iJiZsYXN0bm9kZXR5cGUhPSJNZXNzYWdlIiYmbGFzdG5vZGV0eXBlIT0iSHlwZXJsaW5rIiYmbGFzdG5vZGV0eXBlIT0iSW1hZ2UiJiZsYXN0bm9kZXR5cGUhPSJWaWRlbyImJmxhc3Rub2RldHlwZSE9bnVsbCl7CiAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZGxldmVsbGlzdCwgdGhpcy5sZXZlbHMsIHRoaXMuc2VsZWN0ZWRsZXZlbGxpc3QubGVuZ3RoKTsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRsZXZlbGxpc3QucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0W3RoaXMuc2VsZWN0ZWRsZXZlbGxpc3QubGVuZ3RoLTFdXS5ub2Rlc1swXS5mb2xsb3dpbmdsZXZlbGlkKTsKICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0KTsKICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLmZvbGxvd2luZ2xldmVsaWQpOwogICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbGxpc3RbdGhpcy5zZWxlY3RlZGxldmVsbGlzdC5sZW5ndGgtMV1dLm5vZGVzWzBdLmZvbGxvd2luZ2xldmVsaWRdLm5vZGVzLmxlbmd0aCk7CiAgICAgICAgICAgICAgICAvLyBpZih0aGlzLmxldmVsc1t0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0W3RoaXMuc2VsZWN0ZWRsZXZlbGxpc3QubGVuZ3RoLTFdXS5ub2Rlc1swXS5mb2xsb3dpbmdsZXZlbGlkXS5ub2Rlcy5sZW5ndGg+MCl7CiAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5zZXRzdHJhaWdodHBhdGgoKTsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgfSAgCiAgICAgICAgfSwKICAgICAgICBzZXR2YWx1ZXMoKXsKICAgICAgICAgICAgLy8gZGVidWdnZXI7CiAgICAgICAgICAgIHRoaXMuc2luZ2xldmFsdWU9W107CiAgICAgICAgICAgIHRoaXMudmFsdWU9W107CiAgICAgICAgICAgIHRoaXMuZm9ybXZhbHVlcz1bXTsKICAgICAgICAgICAgdGhpcy5mb3JtZmlsZG5hbWVzPVtdOwogICAgICAgICAgICB0aGlzLmZvcm1uYW1lPW51bGw7CiAgICAgICAgICAgIC8vIHRoaXMuZGlzcGxheW1lc3NhZ2U9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlOwogICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nQnV0dG9uJyl7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nVGV4dCBCb3gnKXsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnBsYWNlaG9sZGVyLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2luZ2xldmFsdWUucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnBsYWNlaG9sZGVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdUZXh0IEFyZWEnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlciA6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ucGxhY2Vob2xkZXIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNpbmdsZXZhbHVlLnB1c2godGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5wbGFjZWhvbGRlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nSHlwZXJsaW5rJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgaHlwZXJsaW5rOiB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmh5cGVybGluawogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J0NoZWNrIEJveCcpewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudmFsdWUucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZhbHVlcyk7CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKCJUaGlzIGlzIGNoZWNoYm94Iix0aGlzLmxldmVscyk7CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubm9kZXMpOwogICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLm5vZGV0eXBlKTsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDtqPHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0udmFsdWVzLmxlbmd0aDtqKyspewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLnB1c2godGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52YWx1ZXNbal0udGl0bGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdSYWRpbyBCdXR0b24nKXsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnZhbHVlLnB1c2godGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52YWx1ZXMpOwogICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZygiVGhpcyBpcyByYWRpbyIsdGhpcy5sZXZlbHMpOwogICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52YWx1ZXMubGVuZ3RoO2orKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZhbHVlc1tqXS50aXRsZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J0Ryb3Bkb3duJyl7CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzW3NlbGVjdGVkbGV2ZWxdKTsKICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coIlRoaXMgaXMgRHJvcGRvd24iLHRoaXMubGV2ZWxzKTsKICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2codGhpcy5ub2Rlcyk7CiAgICAgICAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKHRoaXMubm9kZXR5cGUpOwoKICAgICAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2codGhpcy5pZCkKICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5pZCwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNpbmdsZXZhbHVlLnB1c2godGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5wbGFjZWhvbGRlcik7CiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7ajx0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZhbHVlcy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5wdXNoKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0udmFsdWVzW2pdLnRpdGxlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nRmlsZSBVcGxvYWQnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2godGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdJbWFnZScpewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheW1lc3NhZ2U9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xldmFsdWUucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdldXJsOiB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmltYWdldXJsCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nTWVzc2FnZScpewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGlzcGxheW1lc3NhZ2U9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2luZ2xldmFsdWUucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGlzcGxheW1lc3NhZ2U9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZygiVGhpcyBpcyBtZXNzYWdlIix0aGlzLmxldmVscyk7CiAgICAgICAgICAgICAgICAgICAgLy8gIGNvbnNvbGUubG9nKHRoaXMubm9kZXMpOwogICAgICAgICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyh0aGlzLm5vZGV0eXBlKTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J0VtYWlsJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9tc2c6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZXJyb3JfbXNnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9ICAgCiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nTnVtYmVyJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBtaW5udW1iZXI6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWlubnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICBtYXhudW1iZXI6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWF4bnVtYmVyLAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdQaG9uZSBOdW1iZXInKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcl9tc2cgOiAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5lcnJvcl9tc2csCiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZV9vdHBfdmFsaWRhdGlvbjogdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5lbmFibGVfb3RwX3ZhbGlkYXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG90cF9xdWVzdGlvbl9sYWJlbCA6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ub3RwX3F1ZXN0aW9uX2xhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICBvdHBfbXNnIDogdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5vdHBfbXNnLAogICAgICAgICAgICAgICAgICAgICAgICBpbmNvcnJlY3Rfb3RwX21zZyA6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uaW5jb3JyZWN0X290cF9tc2csCiAgICAgICAgICAgICAgICAgICAgfSkgOwogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdWaWRlbycpewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZGlzcGxheW1lc3NhZ2U9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubWVzc2FnZSA9ICJEaXNwbGF5IE1lc3NhZ2UiOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xldmFsdWUucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgdmlkZW91cmw6IHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0udmlkZW91cmx9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdGb3JtJyl7CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybW5hbWU9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5mb3JtbmFtZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlLnB1c2goe30pCiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zaW5nbGV2YWx1ZS5wdXNoKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0udmlkZW91cmwpOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5mb3JtZmllbGRzLmxlbmd0aDtqKyspewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1maWxkbmFtZXMucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmZvcm1maWVsZHNbal0uaGVhZGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtdmFsdWVzLnB1c2godGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5mb3JtZmllbGRzW2pdLnZhbHVlcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzYXZldmFsKCkgewogICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgdmFyIHN0ciA9IHRoaXMuc2luZ2xldmFsdWVbMF1bJ21lc3NhZ2UnXTsgCiAgICAgICAgICAgIGlmKHN0ciAhPSBudWxsKXsKICAgICAgICAgICAgICAgIHZhciByZXMgPSBzdHIuY2hhckF0KHN0ci5sZW5ndGgtMSk7IAogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXSE9IDApewogICAgICAgICAgICAgICAgaWYocmVzID09ICJAIil7CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRsZXZlbGxpc3QpOwogICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLmxldmVscyk7CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubGV2ZWxubywgIkhlbGxvIik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmxldmVscy5sZW5ndGg7IGkrPSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYodGhpcy5sZXZlbHNbaV0ubGV2ZWxubyAhPSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKHRoaXMubGV2ZWxzW2ldLmhhcygiaGVhZGVyX2lkIikpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYodGhpcy5sZXZlbHNbaV0ubm9kZXR5cGUgIT0gIlRleHRfQm94IiAmJiB0aGlzLmxldmVsc1tpXS5ub2RldHlwZSAhPSAiVGV4dF9Cb3giICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLmxldmVsbm8gIT0gdGhpcy5sZXZlbHNbaV0ubGV2ZWxubyApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YV9tZW50aW9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkYXRhX3ZhbHVlIDogdGhpcy5sZXZlbHNbaV0uaGVhZGVyX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkYXRhX2VsZW1lbnRfdHlwZSA6IHRoaXMubGV2ZWxzW2ldLm5vZGV0eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBtZXNzYWdlOiB0aGlzLmxldmVsc1tpXS5tZXNzYWdlIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgajwgdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoOyBqKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9tZW50aW9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV92YWx1ZSA6IHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLm5vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlIDogdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubm9kZXR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLm1lc3NhZ2UgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKGFycik7IAogICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAvLyBmb3IobGV0IGkgPTA7IGkgPCB0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0KQogICAgICAgICAgICAgICAgICAgIC8vIHZhciBhcnIgPSBbCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICJBZmdoYW5pc3RhbiIsIkFsYmFuaWEiLCJBbGdlcmlhIiwiQW5kb3JyYSIsIkFuZ29sYSIsIkFuZ3VpbGxhIiwiQW50aWd1YSAmIEJhcmJ1ZGEiLCJBcmdlbnRpbmEiLCJBcm1lbmlhIiwiQXJ1YmEiLCJBdXN0cmFsaWEiLCJBdXN0cmlhIiwiQXplcmJhaWphbiIsIkJhaGFtYXMiLCJCYWhyYWluIiwiQmFuZ2xhZGVzaCIsIkJhcmJhZG9zIiwiQmVsYXJ1cyIsIkJlbGdpdW0iLCJCZWxpemUiLCJCZW5pbiIsIkJlcm11ZGEiLCJCaHV0YW4iLCJCb2xpdmlhIiwiQm9zbmlhICYgSGVyemVnb3ZpbmEiLCJCb3Rzd2FuYSIsIkJyYXppbCIsIkJyaXRpc2ggVmlyZ2luIElzbGFuZHMiLCJCcnVuZWkiLCJCdWxnYXJpYSIsIkJ1cmtpbmEgRmFzbyIsIkJ1cnVuZGkiLCJDYW1ib2RpYSIsIkNhbWVyb29uIiwiQ2FuYWRhIiwiQ2FwZSBWZXJkZSIsIkNheW1hbiBJc2xhbmRzIiwiQ2VudHJhbCBBcmZyaWNhbiBSZXB1YmxpYyIsIkNoYWQiLCJDaGlsZSIsIkNoaW5hIiwiQ29sb21iaWEiLCJDb25nbyIsIkNvb2sgSXNsYW5kcyIsIkNvc3RhIFJpY2EiLCJDb3RlIEQgSXZvaXJlIiwiQ3JvYXRpYSIsIkN1YmEiLCJDdXJhY2FvIiwiQ3lwcnVzIiwiQ3plY2ggUmVwdWJsaWMiLCJEZW5tYXJrIiwiRGppYm91dGkiLCJEb21pbmljYSIsIkRvbWluaWNhbiBSZXB1YmxpYyIsIkVjdWFkb3IiLCJFZ3lwdCIsIkVsIFNhbHZhZG9yIiwiRXF1YXRvcmlhbCBHdWluZWEiLCJFcml0cmVhIiwiRXN0b25pYSIsIkV0aGlvcGlhIiwiRmFsa2xhbmQgSXNsYW5kcyIsIkZhcm9lIElzbGFuZHMiLCJGaWppIiwiRmlubGFuZCIsIkZyYW5jZSIsIkZyZW5jaCBQb2x5bmVzaWEiLCJGcmVuY2ggV2VzdCBJbmRpZXMiLCJHYWJvbiIsIkdhbWJpYSIsIkdlb3JnaWEiLCJHZXJtYW55IiwiR2hhbmEiLCJHaWJyYWx0YXIiLCJHcmVlY2UiLCJHcmVlbmxhbmQiLCJHcmVuYWRhIiwiR3VhbSIsIkd1YXRlbWFsYSIsIkd1ZXJuc2V5IiwiR3VpbmVhIiwiR3VpbmVhIEJpc3NhdSIsIkd1eWFuYSIsIkhhaXRpIiwiSG9uZHVyYXMiLCJIb25nIEtvbmciLCJIdW5nYXJ5IiwiSWNlbGFuZCIsIkluZGlhIiwiSW5kb25lc2lhIiwiSXJhbiIsIklyYXEiLCJJcmVsYW5kIiwiSXNsZSBvZiBNYW4iLCJJc3JhZWwiLCJJdGFseSIsIkphbWFpY2EiLCJKYXBhbiIsIkplcnNleSIsIkpvcmRhbiIsIkthemFraHN0YW4iLCJLZW55YSIsIktpcmliYXRpIiwiS29zb3ZvIgogICAgICAgICAgICAgICAgICAgIC8vIF07CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5hdXRvY29tcGxldGUoJCgiI2Rpc3BsYXlfbWVzc2FnZSIpLCBjb3VudHJpZXMpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEZvY3VzOwogICAgICAgICAgICAgICAgICAgIC8qZXhlY3V0ZSBhIGZ1bmN0aW9uIHdoZW4gc29tZW9uZSB3cml0ZXMgaW4gdGhlIHRleHQgZmllbGQ6Ki8KICAgICAgICAgICAgICAgICAgICAvLyBpbnAuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdmFyIGEsIGIsIGksIHZhbCA9IHRoaXMuc2luZ2xldmFsdWVbMF1bJ21lc3NhZ2UnXS5jaGFyQXQodGhpcy5zaW5nbGV2YWx1ZVswXVsnbWVzc2FnZSddLmxlbmd0aC0xKTsKICAgICAgICAgICAgICAgICAgICAvKmNsb3NlIGFueSBhbHJlYWR5IG9wZW4gbGlzdHMgb2YgYXV0b2NvbXBsZXRlZCB2YWx1ZXMqLwogICAgICAgICAgICAgICAgICAgIGNsb3NlQWxsTGlzdHMoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCkgeyByZXR1cm4gZmFsc2U7fQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGb2N1cyA9IC0xOwogICAgICAgICAgICAgICAgICAgIC8qY3JlYXRlIGEgRElWIGVsZW1lbnQgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIGl0ZW1zICh2YWx1ZXMpOiovCiAgICAgICAgICAgICAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpOwogICAgICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCJpZCIsJyNkaXNwbGF5X21lc3NhZ2UnICsgImF1dG9jb21wbGV0ZS1saXN0Iik7CiAgICAgICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImF1dG9jb21wbGV0ZS1pdGVtcyIpOwogICAgICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCJzdHlsZSIsICJvdmVyZmxvdy15OnNjcm9sbDsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgei1pbmRleDogMTAwMDsgbWF4LWhlaWdodDogMTAwcHg7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlIik7CiAgICAgICAgICAgICAgICAgICAgLyphcHBlbmQgdGhlIERJViBlbGVtZW50IGFzIGEgY2hpbGQgb2YgdGhlIGF1dG9jb21wbGV0ZSBjb250YWluZXI6Ki8KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYXV0b2NvbXBsZXRlIikuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICAgICAgLypmb3IgZWFjaCBpdGVtIGluIHRoZSBhcnJheS4uLiovCiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAvKmNoZWNrIGlmIHRoZSBpdGVtIHN0YXJ0cyB3aXRoIHRoZSBzYW1lIGxldHRlcnMgYXMgdGhlIHRleHQgZmllbGQgdmFsdWU6Ki8KICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGFyclsiaSJdLnN1YnN0cigwLCB2YWwubGVuZ3RoKS50b1VwcGVyQ2FzZSgpID09IHZhbC50b1VwcGVyQ2FzZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh2YWwgPT0gIkAiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qY3JlYXRlIGEgRElWIGVsZW1lbnQgZm9yIGVhY2ggbWF0Y2hpbmcgZWxlbWVudDoqLwogICAgICAgICAgICAgICAgICAgICAgICBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qbWFrZSB0aGUgbWF0Y2hpbmcgbGV0dGVycyBib2xkOiovCiAgICAgICAgICAgICAgICAgICAgICAgIGIuaW5uZXJIVE1MID0gIjxzdHJvbmc+IiArIGFycltpXS5tZXNzYWdlLnN1YnN0cigwLCB2YWwubGVuZ3RoKSArICI8L3N0cm9uZz4iOwogICAgICAgICAgICAgICAgICAgICAgICBiLmlubmVySFRNTCArPSBhcnJbaV0ubWVzc2FnZS5zdWJzdHIodmFsLmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8qaW5zZXJ0IGEgaW5wdXQgZmllbGQgdGhhdCB3aWxsIGhvbGQgdGhlIGN1cnJlbnQgYXJyYXkgaXRlbSdzIHZhbHVlOiovCiAgICAgICAgICAgICAgICAgICAgICAgIGIuaW5uZXJIVE1MICs9ICI8aW5wdXQgdHlwZT0naGlkZGVuJyB2YWx1ZT0nIiArIGFycltpXS5tZXNzYWdlICsgIic+IjsKICAgICAgICAgICAgICAgICAgICAgICAgYi5pbm5lckhUTUwgKz0gIjxpbnB1dCB0eXBlPSdoaWRkZW4nIHZhbHVlPSciICsgYXJyW2ldLmRhdGFfdmFsdWUgKyAiJz4iOwogICAgICAgICAgICAgICAgICAgICAgICBiLmlubmVySFRNTCArPSAiPGlucHV0IHR5cGU9J2hpZGRlbicgdmFsdWU9JyIgKyBhcnJbaV0uZGF0YV9lbGVtZW50X3R5cGUgKyAiJz4iOwogICAgICAgICAgICAgICAgICAgICAgICAvKmV4ZWN1dGUgYSBmdW5jdGlvbiB3aGVuIHNvbWVvbmUgY2xpY2tzIG9uIHRoZSBpdGVtIHZhbHVlIChESVYgZWxlbWVudCk6Ki8KICAgICAgICAgICAgICAgICAgICAgICAgLy8gYi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaW5zZXJ0IHRoZSB2YWx1ZSBmb3IgdGhlIGF1dG9jb21wbGV0ZSB0ZXh0IGZpZWxkOiovCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheV9tZXNzYWdlJykudmFsdWUgPSBzdHIgKyB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgIHZtLmxldmVsc1t2bS5zZWxlY3RlZGxldmVsXS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkYXRhX21lbnRpb246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGF0YV92YWx1ZTogdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVsxXS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTogdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVsyXS52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICBjb25zb2xlLmxvZyh2bS5sZXZlbHNbdm0uc2VsZWN0ZWRsZXZlbF0ubm9kZXMpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gdGhpcy5sZXZPIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMV0ubTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8qY2xvc2UgdGhlIGxpc3Qgb2YgYXV0b2NvbXBsZXRlZCB2YWx1ZXMsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAob3IgYW55IG90aGVyIG9wZW4gbGlzdHMgb2YgYXV0b2NvbXBsZXRlZCB2YWx1ZXM6Ki8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlQWxsTGlzdHMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2bSA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppbnNlcnQgdGhlIHZhbHVlIGZvciB0aGUgYXV0b2NvbXBsZXRlIHRleHQgZmllbGQ6Ki8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5X21lc3NhZ2UnKS52YWx1ZSA9IHN0ciArIlsiKyB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLnZhbHVlKyJdIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmxldmVsc1t2bS5zZWxlY3RlZGxldmVsXS5ub2Rlc1swXS5kYXRhX21lbnRpb24gPSAgdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmxldmVsc1t2bS5zZWxlY3RlZGxldmVsXS5ub2Rlc1swXS5kYXRhX3ZhbHVlID0gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVsxXS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmxldmVsc1t2bS5zZWxlY3RlZGxldmVsXS5ub2Rlc1swXS5kYXRhX2VsZW1lbnRfdHlwZSA9IHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMl0udmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codm0ubGV2ZWxzW3ZtLnNlbGVjdGVkbGV2ZWxdLm5vZGVzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGV2TyB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzFdLm07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmNsb3NlIHRoZSBsaXN0IG9mIGF1dG9jb21wbGV0ZWQgdmFsdWVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9yIGFueSBvdGhlciBvcGVuIGxpc3RzIG9mIGF1dG9jb21wbGV0ZWQgdmFsdWVzOiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZUFsbExpc3RzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBhLmFwcGVuZENoaWxkKGIpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHZtID0gdGhpczsKICAgICAgICAgICAgICAgICAgICAvLyBiLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8qaW5zZXJ0IHRoZSB2YWx1ZSBmb3IgdGhlIGF1dG9jb21wbGV0ZSB0ZXh0IGZpZWxkOiovCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheV9tZXNzYWdlJykudmFsdWUgPSBzdHIgKyJbIisgdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXS52YWx1ZSsiXSI7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB2bS5sZXZlbHNbdm0uc2VsZWN0ZWRsZXZlbF0ubm9kZXNbMF0uZGF0YV9tZW50aW9uID0gIHRydWU7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB2bS5sZXZlbHNbdm0uc2VsZWN0ZWRsZXZlbF0ubm9kZXNbMF0uZGF0YV92YWx1ZSA9IHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMV0udmFsdWU7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB2bS5sZXZlbHNbdm0uc2VsZWN0ZWRsZXZlbF0ubm9kZXNbMF0uZGF0YV9lbGVtZW50X3R5cGUgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzJdLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHZtLmxldmVsc1t2bS5zZWxlY3RlZGxldmVsXS5ub2Rlcyk7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyB0aGlzLmxldk8gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVsxXS5tOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLypjbG9zZSB0aGUgbGlzdCBvZiBhdXRvY29tcGxldGVkIHZhbHVlcywKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIChvciBhbnkgb3RoZXIgb3BlbiBsaXN0cyBvZiBhdXRvY29tcGxldGVkIHZhbHVlczoqLwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY2xvc2VBbGxMaXN0cygpOwogICAgICAgICAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAvLyBiLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5X21lc3NhZ2UnICsgImF1dG9jb21wbGV0ZS1saXN0Iik7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmICh4KSB4ID0geC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmIChlLmtleUNvZGUgPT0gNDApIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8qSWYgdGhlIGFycm93IERPV04ga2V5IGlzIHByZXNzZWQsCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpbmNyZWFzZSB0aGUgY3VycmVudEZvY3VzIHZhcmlhYmxlOiovCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheV9tZXNzYWdlJykudmFsdWUgPSBzdHIgKyB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gdm0ubGV2ZWxzW3ZtLnNlbGVjdGVkbGV2ZWxdLm5vZGVzWzBdLmRhdGFfbWVudGlvbiA9ICB0cnVlOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gdm0ubGV2ZWxzW3ZtLnNlbGVjdGVkbGV2ZWxdLm5vZGVzWzBdLmRhdGFfdmFsdWUgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzFdLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gdm0ubGV2ZWxzW3ZtLnNlbGVjdGVkbGV2ZWxdLm5vZGVzWzBdLmRhdGFfZWxlbWVudF90eXBlID0gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVsyXS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGN1cnJlbnRGb2N1cysrOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8gYWxlcnQoImRvd24iKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8qYW5kIGFuZCBtYWtlIHRoZSBjdXJyZW50IGl0ZW0gbW9yZSB2aXNpYmxlOiovCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBhZGRBY3RpdmUoeCk7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDM4KSB7IC8vdXAKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8qSWYgdGhlIGFycm93IFVQIGtleSBpcyBwcmVzc2VkLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZGVjcmVhc2UgdGhlIGN1cnJlbnRGb2N1cyB2YXJpYWJsZToqLwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY3VycmVudEZvY3VzLS07CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBhbGVydCgidXAiKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8qYW5kIGFuZCBtYWtlIHRoZSBjdXJyZW50IGl0ZW0gbW9yZSB2aXNpYmxlOiovCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAvLyBhZGRBY3RpdmUoeCk7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09IDEzKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAvKklmIHRoZSBFTlRFUiBrZXkgaXMgcHJlc3NlZCwgcHJldmVudCB0aGUgZm9ybSBmcm9tIGJlaW5nIHN1Ym1pdHRlZCwqLwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGN1cnJlbnRGb2N1cyA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAvKmFuZCBzaW11bGF0ZSBhIGNsaWNrIG9uIHRoZSAiYWN0aXZlIiBpdGVtOiovCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoeCkgeFtjdXJyZW50Rm9jdXNdLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBhZGRBY3RpdmUoeCkgewogICAgICAgICAgICAgICAgICAgIC8vIC8qYSBmdW5jdGlvbiB0byBjbGFzc2lmeSBhbiBpdGVtIGFzICJhY3RpdmUiOiovCiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKCF4KSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgLy8gLypzdGFydCBieSByZW1vdmluZyB0aGUgImFjdGl2ZSIgY2xhc3Mgb24gYWxsIGl0ZW1zOiovCiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlQWN0aXZlKHgpOwogICAgICAgICAgICAgICAgICAgIC8vIGlmIChjdXJyZW50Rm9jdXMgPj0geC5sZW5ndGgpIGN1cnJlbnRGb2N1cyA9IDA7CiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKGN1cnJlbnRGb2N1cyA8IDApIGN1cnJlbnRGb2N1cyA9ICh4Lmxlbmd0aCAtIDEpOwogICAgICAgICAgICAgICAgICAgIC8vIC8qYWRkIGNsYXNzICJhdXRvY29tcGxldGUtYWN0aXZlIjoqLwogICAgICAgICAgICAgICAgICAgIC8vIHhbY3VycmVudEZvY3VzXS5jbGFzc0xpc3QuYWRkKCJhdXRvY29tcGxldGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZSh4KSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8qYSBmdW5jdGlvbiB0byByZW1vdmUgdGhlICJhY3RpdmUiIGNsYXNzIGZyb20gYWxsIGF1dG9jb21wbGV0ZSBpdGVtczoqLwogICAgICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgeFtpXS5jbGFzc0xpc3QucmVtb3ZlKCJhdXRvY29tcGxldGUtYWN0aXZlIik7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgLy8gJCgiI2Rpc3BsYXlfbWVzc2FnZSIpLmF1dG9jb21wbGV0ZSh7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxvb2t1cDogY291bnRyaWVzLAogICAgICAgICAgICAgICAgICAgIC8vICAgICBvblNlbGVjdDogZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgYWxlcnQoJ1lvdSBzZWxlY3RlZDogJyArIHN1Z2dlc3Rpb24udmFsdWUgKyAnLCAnICsgc3VnZ2VzdGlvbi5kYXRhKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xvc2VBbGxMaXN0cyhlbG1udCkgewogICAgICAgICAgICAgICAgICAgIC8qY2xvc2UgYWxsIGF1dG9jb21wbGV0ZSBsaXN0cyBpbiB0aGUgZG9jdW1lbnQsCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHRoZSBvbmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50OiovCiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhdXRvY29tcGxldGUtaXRlbXMiKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsbW50ICE9IHhbaV0gJiYgZWxtbnQgIT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlfbWVzc2FnZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4W2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoeFtpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNhdmVub2RldmFsdWUoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2F2ZW5vZGV2YWx1ZSgpewogICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlPXRoaXMuZGlzcGxheW1lc3NhZ2U7CiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlcy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdCdXR0b24nKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2UgIT0nJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWVzc2FnZT10aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgfSBpZih0aGlzLnNpbmdsZXZhbHVlW2ldLm5hbWUhPScnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5uYW1lPXRoaXMuc2luZ2xldmFsdWVbaV0ubmFtZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkJ1dHRvbiBGaWVsZCBFbXB0eSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdUZXh0IEJveCcpewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZSA9PT0gJycgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlID09IG51bGwgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlLnNwbGl0KCcgJykuam9pbignJykgPT0gJycgfHwKICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZVtpXS5wbGFjZWhvbGRlcj09JycgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5wbGFjZWhvbGRlciAgPT0gbnVsbCB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLnBsYWNlaG9sZGVyLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJGaWVsZCBDYW5ub3QgYmUgRW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnBsYWNlaG9sZGVyPXRoaXMuc2luZ2xldmFsdWVbaV0ucGxhY2Vob2xkZXI7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvYXN0ci5lcnJvcigiRmllbGQgQ2Fubm90IGJlIEVtcHR5Iik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J1RleHQgQXJlYScpewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZSA9PT0gJycgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlID09IG51bGwgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlLnNwbGl0KCcgJykuam9pbignJykgPT0gJycgfHwKICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZVtpXS5wbGFjZWhvbGRlcj09JycgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5wbGFjZWhvbGRlciAgPT0gbnVsbCB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLnBsYWNlaG9sZGVyLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJGaWVsZCBDYW5ub3QgYmUgRW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnBsYWNlaG9sZGVyPXRoaXMuc2luZ2xldmFsdWVbaV0ucGxhY2Vob2xkZXI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nRW1haWwnKXsKICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlID09PSAnJyB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2UgPT0gbnVsbCB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2Uuc3BsaXQoJyAnKS5qb2luKCcnKSA9PSAnJyB8fAogICAgICAgICAgICAgICAgICAgICB0aGlzLnNpbmdsZXZhbHVlW2ldLmVycm9yX21zZz09JycgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5lcnJvcl9tc2cgID09IG51bGwgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5lcnJvcl9tc2cuc3BsaXQoJyAnKS5qb2luKCcnKSA9PT0gJycpewogICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkFueSBGaWVsZCBDYW5ub3QgYmUgRW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmVycm9yX21zZz10aGlzLnNpbmdsZXZhbHVlW2ldLmVycm9yX21zZzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nTnVtYmVyJyl7CiAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZSAhPScnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlPXRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB9IGlmKHRoaXMuc2luZ2xldmFsdWVbaV0ubWlubnVtYmVyIT0nJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWlubnVtYmVyPXRoaXMuc2luZ2xldmFsdWVbaV0ubWlubnVtYmVyOwogICAgICAgICAgICAgICAgICAgIH0gaWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5tYXhudW1iZXIhPScnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tYXhudW1iZXI9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tYXhudW1iZXI7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBmaWxsIGFsbCB0aGUgZmllbGRzIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J1Bob25lIE51bWJlcicpewogICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm1lc3NhZ2UgPSAiIjsKICAgICAgICAgICAgICAgICAgICAvLyAgaWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlICE9JycgKXsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlPXRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAvLyB9aWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5lcnJvcl9tc2chPScnKXsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5lcnJvcl9tc2c9dGhpcy5zaW5nbGV2YWx1ZVtpXS5lcnJvcl9tc2c7CiAgICAgICAgICAgICAgICAgICAgLy8gfWlmKHRoaXMuc2luZ2xldmFsdWVbaV0uZW5hYmxlX290cF92YWxpZGF0aW9uIT0nJyl7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZW5hYmxlX290cF92YWxpZGF0aW9uPXRoaXMuc2luZ2xldmFsdWVbaV0uZW5hYmxlX290cF92YWxpZGF0aW9uOwogICAgICAgICAgICAgICAgICAgIC8vIH1pZih0aGlzLnNpbmdsZXZhbHVlW2ldLm90cF9xdWVzdGlvbl9sYWJlbCE9JycpewogICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm90cF9xdWVzdGlvbl9sYWJlbD10aGlzLnNpbmdsZXZhbHVlW2ldLm90cF9xdWVzdGlvbl9sYWJlbDsKICAgICAgICAgICAgICAgICAgICAvLyB9aWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5vdHBfbXNnIT0nJyl7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ub3RwX21zZz10aGlzLnNpbmdsZXZhbHVlW2ldLm90cF9tc2c7CiAgICAgICAgICAgICAgICAgICAgLy8gfWlmKHRoaXMuc2luZ2xldmFsdWVbaV0uaW5jb3JyZWN0X290cF9tc2chPScnKXsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5pbmNvcnJlY3Rfb3RwX21zZz10aGlzLnNpbmdsZXZhbHVlW2ldLmluY29ycmVjdF9vdHBfbXNnOwogICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIEVudGVyIFZhbHVlIGluIEZpZWxkcyIpOwogICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2UgPT09ICcnIHx8IHRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZSA9PSBudWxsIHx8IHRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZS5zcGxpdCgnICcpLmpvaW4oJycpID09ICcnIHx8CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xldmFsdWVbaV0uZXJyb3JfbXNnPT0nJyB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLmVycm9yX21zZyAgPT0gbnVsbCB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLmVycm9yX21zZy5zcGxpdCgnICcpLmpvaW4oJycpID09PSAnJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiQW55IEZpZWxkIENhbm5vdCBiZSBFbXB0eSIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubWVzc2FnZT10aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZXJyb3JfbXNnPXRoaXMuc2luZ2xldmFsdWVbaV0uZXJyb3JfbXNnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNpbmdsZXZhbHVlW2ldLmVuYWJsZV9vdHBfdmFsaWRhdGlvbil7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2luZ2xldmFsdWVbaV0ub3RwX3F1ZXN0aW9uX2xhYmVsID09PSAnJyB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLm90cF9xdWVzdGlvbl9sYWJlbCA9PSBudWxsIHx8IHRoaXMuc2luZ2xldmFsdWVbaV0ub3RwX3F1ZXN0aW9uX2xhYmVsLnNwbGl0KCcgJykuam9pbignJykgPT0gJycgfHwKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaW5nbGV2YWx1ZVtpXS5vdHBfbXNnPT0nJyB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLm90cF9tc2cgID09IG51bGwgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5vdHBfbXNnLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnIHx8CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2luZ2xldmFsdWVbaV0uaW5jb3JyZWN0X290cF9tc2c9PScnIHx8IHRoaXMuc2luZ2xldmFsdWVbaV0uaW5jb3JyZWN0X290cF9tc2cgID09IG51bGwgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5pbmNvcnJlY3Rfb3RwX21zZy5zcGxpdCgnICcpLmpvaW4oJycpID09PSAnJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkFueSBGaWVsZCBDYW5ub3QgYmUgRW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKCEodGhpcy50ZXN0X290cF9yZWdleC50ZXN0KHRoaXMuc2luZ2xldmFsdWVbaV0ub3RwX21zZykpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIHtvdHB9IHdoZXJlIHlvdSB3YW50IHRoZSBPVFAgbnVtYmVyIHRvIGJlIHNlbnQiKQoKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ub3RwX3F1ZXN0aW9uX2xhYmVsPXRoaXMuc2luZ2xldmFsdWVbaV0ub3RwX3F1ZXN0aW9uX2xhYmVsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5vdHBfbXNnPXRoaXMuc2luZ2xldmFsdWVbaV0ub3RwX21zZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uaW5jb3JyZWN0X290cF9tc2c9dGhpcy5zaW5nbGV2YWx1ZVtpXS5pbmNvcnJlY3Rfb3RwX21zZzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdIeXBlcmxpbmsnKXsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm1lc3NhZ2U9dGhpcy5kaXNwbGF5bWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy5zaW5nbGV2YWx1ZVtpXSkKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRlc3RoeXBlcmxpbmsudGVzdCh0aGlzLnNpbmdsZXZhbHVlW2ldLmh5cGVybGluaykpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmh5cGVybGluaz10aGlzLnNpbmdsZXZhbHVlW2ldLmh5cGVybGluazsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5oeXBlcmxpbms9PScnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJIeXBlcmxpbmsgRmllbGQgRW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNpbmdsZXZhbHVlW2ldLmh5cGVybGluaz09Jyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiRW50ZXIgVmFsaWQgSHlwZXJsaW5rIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J0NoZWNrIEJveCcpewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZSAhPScnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlPXRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52YWx1ZXMubGVuZ3RoO2orKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh0aGlzLnZhbHVlW2pdID09ICcnICl8fCh0aGlzLnZhbHVlW2pdID09IG51bGwpIHx8ICh0aGlzLnZhbHVlW2pdLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkNoZWNrQm94IHZhbHVlIGNhbm5vdCBiZSBlbXB0eSIpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52YWx1ZXNbal0udGl0bGU9dGhpcy52YWx1ZVtqXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdSYWRpbyBCdXR0b24nKXsKICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlICE9JycpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7ajx0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZhbHVlcy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52YWx1ZXNbal0udGl0bGU9dGhpcy52YWx1ZVtqXTsKICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh0aGlzLnZhbHVlW2pdID09ICcnICl8fCh0aGlzLnZhbHVlW2pdID09IG51bGwpIHx8ICh0aGlzLnZhbHVlW2pdLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlJhZGlvIEJ1dHRvbiB2YWx1ZSBjYW5ub3QgYmUgZW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0udmFsdWVzW2pdLnRpdGxlPXRoaXMudmFsdWVbal07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nRHJvcGRvd24nKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2UgPT09JycgfHwodGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlID09IG51bGwpIHx8ICh0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2Uuc3BsaXQoJyAnKS5qb2luKCcnKSA9PT0gJycpKXsKICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJUaGUgUGxhY2Vob2xkZXIgVmFsdWUgY2Fubm90IGJlIGVtcHR5IikKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnBsYWNlaG9sZGVyPXRoaXMuc2luZ2xldmFsdWVbaV07CiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7ajx0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZhbHVlcy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoKHRoaXMudmFsdWVbal0gPT0gJycgKXx8KHRoaXMudmFsdWVbal0gPT0gbnVsbCkgfHwgKHRoaXMudmFsdWVbal0uc3BsaXQoJyAnKS5qb2luKCcnKSA9PT0gJycpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiRHJvcGRvd24gdmFsdWUgY2Fubm90IGJlIGVtcHR5Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZhbHVlc1tqXS50aXRsZT10aGlzLnZhbHVlW2pdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0udmFsdWVzW2pdLnRpdGxlPXRoaXMudmFsdWVbal07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J0ZpbGUgVXBsb2FkJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlPXRoaXMuc2luZ2xldmFsdWVbaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nSW1hZ2UnKXsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIGlmKCh0aGlzLnNpbmdsZXZhbHVlW2ldLmltYWdldXJsID09ICcnICl8fCh0aGlzLnNpbmdsZXZhbHVlW2ldLmltYWdldXJsID09IG51bGwpIHx8ICh0aGlzLnNpbmdsZXZhbHVlW2ldLmltYWdldXJsLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkltYWdlIFVSTCB2YWx1ZSBjYW5ub3QgYmUgZW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmltYWdldXJsPXRoaXMuc2luZ2xldmFsdWVbaV0uaW1hZ2V1cmw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uaW1hZ2V1cmw9dGhpcy5zaW5nbGV2YWx1ZVtpXS5pbWFnZXVybDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0ubm9kZXR5cGU9PSdNZXNzYWdlJyl7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlID09PSAnJyB8fCB0aGlzLnNpbmdsZXZhbHVlW2ldLm1lc3NhZ2UgPT09IG51bGwgfHwgdGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKXsKICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJUaGUgTWVzc2FnZSBTdHJpbmcgQ2Fubm90IEJlIEVtcHR5IikKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5tZXNzYWdlPXRoaXMuc2luZ2xldmFsdWVbaV0ubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5tZXNzYWdlPXRoaXMuc2luZ2xldmFsdWVbaV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLm5vZGV0eXBlPT0nVmlkZW8nKXsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm1lc3NhZ2U9dGhpcy5zaW5nbGV2YWx1ZVtpXS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIGlmKCh0aGlzLnNpbmdsZXZhbHVlW2ldLnZpZGVvdXJsID09ICcnICl8fCh0aGlzLnNpbmdsZXZhbHVlW2ldLnZpZGVvdXJsID09IG51bGwpIHx8ICh0aGlzLnNpbmdsZXZhbHVlW2ldLnZpZGVvdXJsLnNwbGl0KCcgJykuam9pbignJykgPT09ICcnKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlZpZGVvIFVSTCB2YWx1ZSBjYW5ub3QgYmUgZW1wdHkiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLnZpZGVvdXJsPXRoaXMuc2luZ2xldmFsdWVbaV0udmlkZW91cmw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5ub2RldHlwZT09J0Zvcm0nKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmZvcm1uYW1lPXRoaXMuZm9ybW5hbWU7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS52aWRlb3VybD10aGlzLnNpbmdsZXZhbHVlW2ldOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5mb3JtZmllbGRzLmxlbmd0aDtqKyspewogICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm1maWxkbmFtZXMucHVzaCh0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmZvcm1maWVsZHNbal0uaGVhZGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpXS5mb3JtZmllbGRzW2pdLmhlYWRlcj10aGlzLmZvcm1maWxkbmFtZXNbal07CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZm9ybWZpZWxkc1tqXS5wbGFjZWhvbGRlcj10aGlzLmZvcm1maWxkbmFtZXNbal07CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZm9ybXZhbHVlcy5wdXNoKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZm9ybWZpZWxkc1tqXS52YWx1ZXMpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW2ldLmZvcm1maWVsZHNbal0udmFsdWVzPXRoaXMuZm9ybXZhbHVlc1tqXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy5sZXZlbHMpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkZWxldGVub2RlKGRlbGV0ZW5vZGVpbmRleCl7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgICAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSEhIgogICAgICAgICAgICB9KS50aGVuKHJlc3VsdD0+ewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQ9bnVsbDsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyYWxsKCk7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1t0aGlzLnNlbGVjdGVkbm9kZV0ubm9kZXR5cGU9PSdNZXNzYWdlJ3x8dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1t0aGlzLnNlbGVjdGVkbm9kZV0ubm9kZXR5cGU9PSdJbWFnZSd8fHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbdGhpcy5zZWxlY3RlZG5vZGVdLm5vZGV0eXBlPT0nVmlkZW8nfHx0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW3RoaXMuc2VsZWN0ZWRub2RlXS5ub2RldHlwZT09J0h5cGVybGluaycpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzLnNwbGljZShkZWxldGVub2RlaW5kZXgsMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRub2RlPTA7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUodGhpcy5zZWxlY3RlZGxldmVsbGlzdC5sZW5ndGg+dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5sZXZlbG5vKzEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZGxldmVsbGlzdC5wb3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzLnNwbGljZShkZWxldGVub2RlaW5kZXgsMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXMubGVuZ3RoPT0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXR5cGU9bnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkbGV2ZWw9dGhpcy5zZWxlY3RlZGxldmVsbGlzdFt0aGlzLnNlbGVjdGVkbGV2ZWxsaXN0Lmxlbmd0aC0xXTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZG5vZGU9MDsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRsZXZlbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0bm9kZSh0aGlzLnNlbGVjdGVkbm9kZSx0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLmxldmVsbm8pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBhbmR2YWx1ZShpbmRleCl7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZygnaGVoZWhlaGUnKTsKICAgICAgICAgICAgdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1tpbmRleF0udmFsdWVzLnB1c2goewogICAgICAgICAgICAgICAgdGl0bGU6bnVsbCwKICAgICAgICAgICAgICAgIHBheWxvYWQ6bnVsbCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudmFsdWUucHVzaChudWxsKTsKICAgICAgICB9LAogICAgICAgIGFkZGhlYWRlcigpewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB0aGlzLndlYmhvb2tfaGVhZGVycy5wdXNoKHsKICAgICAgICAgICAgICAgIGtleTpudWxsLAogICAgICAgICAgICAgICAgdmFsdWU6bnVsbCwKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVoZWFkZXIodmFsdWVpbmRleCl7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh2YWx1ZWluZGV4LHRoaXMuc2VsZWN0ZWRub2RlKTsKICAgICAgICAgICAgdGhpcy53ZWJob29rX2hlYWRlcnMuc3BsaWNlKHZhbHVlaW5kZXgsIDEpOwogICAgICAgICAgICAvLyB0aGlzLnZhbHVlLnNwbGljZSh2YWx1ZWluZGV4LCAxKTsKICAgICAgICB9LAogICAgICAgIGFkZHByZWRlZmluZWR2YWx1ZXMoKXsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgdGhpcy53ZWJob29rX3ByZWRlZmluZWRfdmFsdWVzLnB1c2goewogICAgICAgICAgICAgICAga2V5Om51bGwsCiAgICAgICAgICAgICAgICB2YWx1ZTpudWxsLAogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGRlbGV0ZXByZWRlZmluZWR2YWx1ZXModmFsdWVpbmRleCl7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHRoaXMud2ViaG9va19wcmVkZWZpbmVkX3ZhbHVlcy5zcGxpY2UodmFsdWVpbmRleCwgMSk7CiAgICAgICAgICAgIC8vIHRoaXMudmFsdWUuc3BsaWNlKHZhbHVlaW5kZXgsIDEpOwogICAgICAgIH0sCiAgICAgICAgYW5kZm9ybXZhbHVlKGksail7CiAgICAgICAgICAgIC8vIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0ubm9kZXNbaV0uZm9ybWZpZWxkc1tqXS52YWx1ZXMucHVzaCh7CiAgICAgICAgICAgIC8vICAgICB0aXRsZTpudWxsLAogICAgICAgICAgICAvLyAgICAgcGF5bG9hZDpudWxsLAogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgdGhpcy5mb3JtdmFsdWVzW2pdLnB1c2goewogICAgICAgICAgICAgICAgdGl0bGU6bnVsbCwKICAgICAgICAgICAgICAgIHBheWxvYWQ6bnVsbCwKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBkZWxldGV2YWx1ZSh2YWx1ZWluZGV4KXsKICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHZhbHVlaW5kZXgsdGhpcy5zZWxlY3RlZG5vZGUpOwogICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLm5vZGVzW3RoaXMuc2VsZWN0ZWRub2RlXS52YWx1ZXMuc3BsaWNlKHZhbHVlaW5kZXgsIDEpOwogICAgICAgICAgICB0aGlzLnZhbHVlLnNwbGljZSh2YWx1ZWluZGV4LCAxKTsKICAgICAgICB9LAogICAgICAgIGRlbGV0ZWZvcm12YWx1ZShsZXZlbCxub2RlLGluZGV4KXsKICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1t0aGlzLnNlbGVjdGVkbm9kZV0udmFsdWVzLnNwbGljZSh2YWx1ZWluZGV4LCAxKTsKICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMuZm9ybXZhbHVlcyx0aGlzLmxldmVscyk7CiAgICAgICAgICAgIHRoaXMuZm9ybXZhbHVlc1tub2RlXS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy5mb3JtdmFsdWVzLHRoaXMubGV2ZWxzKTsKICAgICAgICB9LAogICAgICAgIGNsZWFyYWxsKCl7CiAgICAgICAgICAgIC8vIGRlYnVnZ2VyOyAgICAKICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1t0aGlzLnNlbGVjdGVkbm9kZV0ucGxhY2Vob2xkZXIhPXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICB0aGlzLm5hbWU9dGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5ub2Rlc1t0aGlzLnNlbGVjdGVkbm9kZV0ucGxhY2Vob2xkZXI7CiAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2coJ2gxJyx0aGlzLm5hbWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5uYW1lPW51bGw7CiAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2coJ2gyJyx0aGlzLm5hbWUsdGhpcy5zZWxlY3RlZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5oeXBlcmxpbms9bnVsbDsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlPW51bGw7CiAgICAgICAgICAgIHRoaXMudmFsdWU9W107CiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgYWxlcnQoIkFmdGVyIDUgc2Vjb25kcyEiKTsgfSwgNTAwMCk7CiAgICAgICAgICAgIC8vIHRoaXMuc2VsZWN0ZWRsZXZlbD1udWxsOwogICAgICAgICAgICAvLyB0aGlzLnNlbGVjdGVkbm9kZT1udWxsOwogICAgICAgIH0sCiAgICAgICAgc2V0YXNsZWFmbm9kZSgpewogICAgICAgICAgICBpZih0aGlzLmlzRGlzYWJsZWQpewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiQ29udGFpbnMgY2hpbGQgbGV2ZWwuIExldmVscyB3aXRoIGNoaWxkIGxldmVsIGNhbm5vdCBiZSBsYXN0IGxldmVsIG9mIGEgYnJhbmNoLiIsCiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6MzAwMCwKICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbdGhpcy5zZWxlY3RlZGxldmVsXS5pc2xhc3Rub2RlPT10cnVlKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1t0aGlzLnNlbGVjdGVkbGV2ZWxdLmlzbGFzdG5vZGU9ZmFsc2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMuc2VsZWN0ZWRsZXZlbF0uaXNsYXN0bm9kZT10cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB3aGVuZGlzYWJibGVkKCl7CiAgICAgICAgICAgIGlmKHRoaXMuaXNEaXNhYmxlZCl7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICJDb250YWlucyBjaGlsZCBsZXZlbC4gTGV2ZWxzIHdpdGggY2hpbGQgbGV2ZWwgY2Fubm90IGJlIGxhc3QgbGV2ZWwgb2YgYSBicmFuY2guIiwKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB0aW1lcjozMDAwLAogICAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZpbmFsc2F2ZSgpewogICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy5sZXZlbHMpOwogICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgdmFyIGlzX2xlYWZub2RlX3NldCA9IHRydWU7CiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5sZXZlbHMubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICBpZih0aGlzLmxldmVsc1tpXS5ub2RldHlwZT09bnVsbCl7CiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMubGV2ZWxzW2ldLmlzbGFzdG5vZGUpewogICAgICAgICAgICAgICAgICAgICAgICBpc19sZWFmbm9kZV9zZXQ9ZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IobGV0IGogPSAwLG49dGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoOyBqPG47IGorKyl7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5sZXZlbHNbaV0ubm9kZXNbal0uZGF0YV9tZW50aW9uID09IHRydWUpewogICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgeCA9IHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubWVzc2FnZSA9ICB0aGlzLmxldmVsc1tpXS5ub2Rlc1tqXS5tZXNzYWdlLnJlcGxhY2UoL0BcWyooW0EtWmEtejAtOVxzXSkqXF0vLCAie30iKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubWVzc2FnZSA9IHg7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKG4+MSAmJiAodGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubm9kZXR5cGUgPT09ICdNZXNzYWdlJwogICAgICAgICAgICAgICAgICAgIHx8dGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubm9kZXR5cGUgPT09J1ZpZGVvJwogICAgICAgICAgICAgICAgICAgIHx8dGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubm9kZXR5cGUgPT09J0ltYWdlJwogICAgICAgICAgICAgICAgICAgIHx8dGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubm9kZXR5cGUgPT09J0h5cGVybGluaycpCiAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0uZm9sbG93aW5nbGV2ZWxpZCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlc1tqXS5mb2xsb3dpbmdsZXZlbGlkID0gCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLmZpbmQobiA9PiBuLmZvbGxvd2luZ2xldmVsaWQgIT09IG51bGwpLmZvbGxvd2luZ2xldmVsaWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLmxldmVscyk7CiAgICAgICAgICAgIC8vIGRlYnVnZ2VyOyAgIAogICAgICAgICAgICBpZihpc19sZWFmbm9kZV9zZXQpewogICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzKTsKICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZygncHJvcGVyIHNhdmUnKTsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuc2VuZF9jbG9zZWRfZm9ybSgpLHsKICAgICAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgICAgICBzdHJ1Y3R1cmU6dGhpcy5sZXZlbHMsCiAgICAgICAgICAgICAgICAgICAgYm90X25hbWU6dGhpcy5ib3RfbmFtZSwKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5zdWNjZXNzPT0iU3VjY2VzcyIpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzX3ByZXZpZXdfcmVhZHk9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiWW91ciBCb3QgaGFzIEJlZW4gU2F2ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0ZGF0YW1lbnRpb252YWx1ZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcz09IkZhaWx1cmUiIHx8IHJlc3BvbnNlLmRhdGEuc3VjY2Vzcz09IkVycm9yIil7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIlNvbWUgRXJyb3IgT2NjdXJyZWQsIFBsZWFzZSB0cnkgQWdhaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRkYXRhbWVudGlvbnZhbHVlcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIlNvbWUgRXJyb3IgT2NjdXJyZWQsIFBsZWFzZSB0cnkgQWdhaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRkYXRhbWVudGlvbnZhbHVlcygpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJBbGwgYnJhbmNoZXMgZG9uJ3QgaGF2ZSBsYXN0IG5vZGUiLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICJEbyB5b3Ugd2FudCB0byBpZ25vcmUgdGhlIGxhc3Qgbm9kZXM/IiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUhISIKICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0PT57CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LnZhbHVlKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmxldmVscy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW2ldLm5vZGV0eXBlPT1udWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5sZXZlbHNbaV0uaXNsYXN0bm9kZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2ldLmlzbGFzdG5vZGU9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKCdsZWFmIG5vZGVzIGFkZGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnNlbmRfY2xvc2VkX2Zvcm0oKSx7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0dXJlOnRoaXMubGV2ZWxzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90X25hbWU6dGhpcy5ib3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5tZXNzYWdlPT0iUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5Iil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93X3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzX3ByZXZpZXdfcmVhZHk9dHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5kYXRhLnN1Y2Nlc3M9PSJGYWlsdXJlIiB8fCByZXNwb25zZS5kYXRhLnN1Y2Nlc3M9PSJFcnJvciIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogIlNvbWUgRXJyb3IgT2NjdXJyZWQsIFBsZWFzZSB0cnkgQWdhaW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldGRhdGFtZW50aW9udmFsdWVzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93X3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIHRyeSBBZ2FpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0ZGF0YW1lbnRpb252YWx1ZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcm91dGVfdG9fcHJldmlldygpewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnVGVzdCBDbG9zZWQgQm90JywKICAgICAgICAgICAgICAgIHBhcmFtczoge2JvdGRhdGE6e2JvdF9uYW1lOnRoaXMuYm90X25hbWUsYm90X3R5cGU6dGhpcy5ib3RfdHlwZSxpc19lZGl0OmZhbHNlfX0sCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgbWFrZVZpc2libGUoKXsKICAgICAgICAgICAgLy8gJGxpc3QudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdCcpOwogICAgICAgICAgICBpZihsaS5jbGFzc05hbWU9PSdsaXN0Jyl7CiAgICAgICAgICAgICAgICAkKGxpKS5yZW1vdmVDbGFzcygpOwogICAgICAgICAgICAgICAgJChsaSkuYWRkQ2xhc3MoImxpc3QgYWN0aXZlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKGxpKS5yZW1vdmVDbGFzcygpOwogICAgICAgICAgICAgICAgJChsaSkuYWRkQ2xhc3MoImxpc3QiKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb3Blbl93ZWJob29rX21vZGFsKCl7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZih0aGlzLmlzZWRpdGJvdCAgfHwgdGhpcy5pc19wcmV2aWV3X3JlYWR5KXsKICAgICAgICAgICAgJCgnI21vZGVsV2luZG93JykubW9kYWwoJ3Nob3cnKTsKICAgICAgICAgICAgLy8gdGhpcy53ZWJob29rX2pzb25fZGF0YSA9IFtdOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiVGhpcyBpcyB3ZWJob29vb29vayIsdGhpcy53ZWJob29rX2pzb25fZGF0YSk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJUaGlzIGlzIHdlYmhvb29vb29rIix0aGlzLmxldmVscyk7CiAgICAgICAgICAgIC8vIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMud2ViaG9va19qc29uX2RhdGEubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgLy8gICAgIHRoaXMud2ViaG9va19qc29uX2RhdGEucHVzaCh7CiAgICAgICAgICAgIC8vICAgICAgICAga2V5X25hbWUgOnRoaXMud2ViaG9va19qc29uX2RhdGFbaV0ua2V5X25hbWUsCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICAgICB9KTsKICAgICAgICAgICAgLy8gfQogICAgICAgICAgICBpZighdGhpcy5pc2VkaXRib3QgfHwgdGhpcy53ZWJob29rX2pzb25fZGF0YS5sZW5ndGggPT0gMCl7CiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMubGV2ZWxzLmxlbmd0aDsgaSArPTEgKXsKICAgICAgICAgICAgICAgIGZvcihsZXQgaj0gMDsgajwgdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoOyBqKz0gMSkgewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLm1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLm1lc3NhZ2UgIT0gbnVsbCAmJiB0aGlzLmxldmVsc1tpXS5ub2Rlc1tqXS5tZXNzYWdlICE9ICcnKXsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2ViaG9va19qc29uX2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlfbmFtZSA6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZV9pZCA6IHRoaXMubGV2ZWxzW2ldLm5vZGVzW2pdLm5vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlIDogdGhpcy5sZXZlbHNbaV0ubm9kZXNbal0ubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJUSGlzIGlzIG5vZGVfaWQ6Iix0aGlzLm5vZGVfaWQpO2NvbnNvbGUubG9nKCJUSGlzIGlzIGtleV9uYW1lOiIsdGhpcy5rZXlfbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiWW91IE5lZWQgVG8gU2F2ZSB0aGUgQm90IEJlZm9yZSBBZGRpbmcgV2ViaG9vayBQYXJhbWV0ZXJzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFkZF93ZWJob29rKCl7CiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2coIkhpIik7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLndlYmhvb2tfdXJsKTsKICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMud2ViaG9va19tZXRob2QpOwogICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy53ZWJob29rX2NvbnRlbnRfdHlwZSk7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLndlYmhvb2tfaGVhZGVycyk7CiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLndlYmhvb2tfcHJlZGVmaW5lZF92YWx1ZXMpOwogICAgICAgICAgICAvLyAvLyAgY29uc29sZS5sb2codGhpcy53ZWJob29rX2pzb25fZGF0YSk7CiAgICAgICAgICAgIGNvbnN0IGpzb25fZGF0YSA9IFtdCiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGk8IHRoaXMud2ViaG9va19qc29uX2RhdGEubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgIGpzb25fZGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBrZXlfbmFtZSA6dGhpcy53ZWJob29rX2pzb25fZGF0YVtpXS5rZXlfbmFtZSwKICAgICAgICAgICAgICAgICAgICBub2RlX2lkIDp0aGlzLndlYmhvb2tfanNvbl9kYXRhW2ldLm5vZGVfaWQsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA6dGhpcy53ZWJob29rX2pzb25fZGF0YVtpXS5tZXNzYWdlCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMud2ViaG9va19oZWFkZXJzKTsKICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB0aGlzLndlYmhvb2tfaGVhZGVycy5yZWR1Y2UoCiAgICAgICAgICAgICAgICAgKG9iaiwgaXRlbSkgPT4gT2JqZWN0LmFzc2lnbihvYmosIHsgW2l0ZW0ua2V5XTogaXRlbS52YWx1ZSB9KSwge30pOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhoZWFkZXJzKTsKICAgICAgICAgICAgdmFyIHByZWRlZmluZWRfa2V5X3ZhbHVlX3BhaXJzID0gdGhpcy53ZWJob29rX3ByZWRlZmluZWRfdmFsdWVzLnJlZHVjZSgKICAgICAgICAgICAgICAgIChvYmosIGl0ZW0pID0+IE9iamVjdC5hc3NpZ24ob2JqLCB7IFtpdGVtLmtleV06IGl0ZW0udmFsdWUgfSksIHt9KTsKCiAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tfZGV0YWlscy5oZWFkZXJzID0gaGVhZGVyczsKICAgICAgICAgICAgICAgIHRoaXMud2ViaG9va19kZXRhaWxzLnVybCA9IHRoaXMud2ViaG9va191cmw7CiAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tfZGV0YWlscy5odHRwX21ldGhvZCAgPSB0aGlzLndlYmhvb2tfbWV0aG9kOwogICAgICAgICAgICAgICAgdGhpcy53ZWJob29rX2RldGFpbHMuY29udGVudF90eXBlID0gdGhpcy53ZWJob29rX2NvbnRlbnRfdHlwZTsKICAgICAgICAgICAgICAgIHRoaXMud2ViaG9va19kZXRhaWxzLmpzb25fbWFwcGluZyA9IGpzb25fZGF0YTsKICAgICAgICAgICAgICAgIHRoaXMud2ViaG9va19kZXRhaWxzLnByZWRlZmluZWRfa2V5X3ZhbHVlX3BhaXJzID0gcHJlZGVmaW5lZF9rZXlfdmFsdWVfcGFpcnM7CiAgICAgICAgICAgICAgICB0aGlzLndlYmhvb2tfZGV0YWlscy5lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIC8vICBjb25zb2xlLmxvZyh0aGlzLndlYmhvb2tfZGV0YWlscyk7CiAgICAgICAgICAgIGF4aW9zLnBhdGNoKGFwaV9jYWxscy5zZW5kX2Nsb3NlZF9mb3JtKCksIHsKICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBib3RfbmFtZTogdGhpcy5ib3RfbmFtZSwKICAgICAgICAgICAgICAgIHdlYmhvb2tfZGV0YWlsczogdGhpcy53ZWJob29rX2RldGFpbHMKICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnN1Y2Nlc3M9PSJTdWNjZXNzIil7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNfcHJldmlld19yZWFkeT10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICJXZWJob29rIFBhcmFtZXRlcnMgQWRkZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIG9wZW5fY3N2X21vZGFsKCl7CiAgICAgICAgICAgIGlmKHRoaXMuaXNlZGl0Ym90ICB8fCB0aGlzLmlzX3ByZXZpZXdfcmVhZHkpewogICAgICAgICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7ICAgICAgICAgICAgCiAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5nZXRfY2xvc2VkX2Zvcm1fcmVzcG9uc2UoKSx7CiAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgYm90X25hbWU6IHRoaXMuYm90X25hbWUsCiAgICAgICAgICAgICAgICBib3RfaWQ6IHRoaXMuYm90X2lkLAogICAgICAgICAgICAgICAgYm90X3ZlcnNpb246IHRoaXMuYm90X3ZlcnNpb24KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzVGV4dCA9PSAiT0siKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZF9mb3JtX3Jlc3BvbnNlc19kYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7ICAgIAogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5jb252ZXJzYXRpb25fcm93cy5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBPYmplY3Qua2V5cyhyZXNwb25zZS5kYXRhLmNvbnZlcnNhdGlvbl9yb3dzWzBdKTsKICAgICAgICAgICAgICAgIH0gICAgICAgIAogICAgICAgICAgICAgICAgJCgnI2V4cG9ydGNzdm1vZGFsJykubW9kYWwoJ3Nob3cnKTsKICAgICAgICAgICAgICAgIC8vIGZvcihsZXQgaT0wO2k8cmVzcG9uc2UuZGF0YS5Cb3RzLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgLy8gdGhpcy5ib3RfbmFtZS5wdXNoKHsKICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOnJlc3BvbnNlLmRhdGEuQm90c1tpXS5ib3RfbmFtZSwKICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOidDbG9zZWQgQm90JywKICAgICAgICAgICAgICAgIC8vICAgICBpZDogcmVzcG9uc2UuZGF0YS5Cb3RzW2ldLmJvdF9pZAogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiWW91IE5lZWQgVG8gU2F2ZSB0aGUgQm90IEJlZm9yZSBZb3UgQ2FuIFZpZXcgVGhpcyBEYXRhIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6MzAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAkKCcjZXhwb3J0Y3N2bW9kYWwnKS5tb2RhbCgnc2hvdycpOwogICAgICAgIH0sCiAgICAgICAgcm90YXRlY2hldnJvbihpbmRleCkgewogICAgICAgICAgJCgkKCcuZmEtY2hldnJvbi1yaWdodCcpKS50b2dnbGVDbGFzcygnZG93bicpOwogICAgICAgIH0sCiAgICAgICAgcmVuZGVyZGF0YShyZXNwb25zZSxoZWFkZXIpewogICAgICAgICAgICBpZihoZWFkZXIgPT09ICJTdGFydFRpbWUiIHx8IGhlYWRlciA9PT0gIkVuZFRpbWUiIHx8IGhlYWRlciA9PT0gIlRpbWUiICl7CiAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQocmVzcG9uc2UpLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbSIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNoYW5nZV9tZW51KG1lbnUpewogICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgaWYobWVudSA9PT0gJ2dlbmVyYWwnKXsKICAgICAgICAgICAgICAgIC8vIGlmICh0aGlzLmN1cnJlbnRfbWVudSA9PT0gJ2dlbmVyYWwnKXsKICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAkKCIjbmF2YmFyTGlHZW5lcmFsIikudG9nZ2xlQ2xhc3MoJ3Nob3cnKQogICAgICAgICAgICAgICAgLy8gdGhpcy5nZW5lcmFsX2xpX25hdiA9ICduYXYtaXRlbSBzaG93JzsKICAgICAgICAgICAgfSAKICAgICAgICAgICAgZWxzZSBpZihtZW51ID09PSAnZm9ybScpewogICAgICAgICAgICAgICAgJCgiI25hdmJhckxpRm9ybSIpLnRvZ2dsZUNsYXNzKCdzaG93JykKICAgICAgICAgICAgICAgIC8vIHRoaXMuZm9ybV9saV9uYXYgPSAnbmF2LWl0ZW0gc2hvdyc7CiAgICAgICAgICAgIH0gZWxzZSBpZihtZW51ID09PSAnZXhwb3J0Jyl7CiAgICAgICAgICAgICAgICAkKCIjZXhwb3J0TGlGb3JtIikudG9nZ2xlQ2xhc3MoJ3Nob3cnKQogICAgICAgICAgICAgICAgLy8gdGhpcy5leHBvcnRfbGlfbmF2ID0gJ25hdi1pdGVtIHNob3cnCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsb3NlX3BhZ2UoKXsKICAgICAgICAgICAgLy8gaWYoIXRoaXMuaXNfcHJldmlld19yZWFkeSB8fCAhdGhpcy5pc2VkaXRib3QpewogICAgICAgICAgICAvLyAgICAgc3dhbCh7CiAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6ICJBcmUgWW91IFN1cmUiLAogICAgICAgICAgICAvLyAgICAgICAgIHRleHQ6ICJZb3Ugd2FudCB0byBhYmFuZG9uIHlvdXIgY2hhbmdlcyIsCiAgICAgICAgICAgIC8vICAgICAgICAgdHlwZTogJ3F1ZXN0aW9uJywKICAgICAgICAgICAgLy8gICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzJywKICAgICAgICAgICAgLy8gICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgICAgLy8gICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgICAvLyAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAvLyAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2JvdC9kZXNpZ25ib3QnKQogICAgICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAgICAgLy8gICAgIH0pCiAgICAgICAgICAgIC8vIH0KICAgICAgICB9IAoKCiAgICAgICAgLy8gcmVuZGVyZWRpdGJvdChkYXRhKXsKICAgICAgICAvLyAgICAgLy8gYXhpb3MucGF0Y2goKQogICAgICAgIC8vICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAvLyAgICAgLy8gLy8gIGNvbnNvbGUubG9nKHRoaXMubGV2ZWxzW2ldKTsKICAgICAgICAvLyAgICAgLy8gdGhpcy5sZXZlbHNbaV0uaGVhZGVyX2lkID0gdGhpcy5nZW5lcmF0ZVVVSUQoKTsKICAgICAgICAvLyAgICAgaWYoaWQ9PSdCdXR0b24nKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgIC8vICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgLy8gICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZXR5cGU6J0J1dHRvbicsCiAgICAgICAgLy8gICAgICAgICAgICAgbmFtZTonQnV0dG9uJysodGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoKzEpLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAvLyAgICAgfSBlbHNlIGlmKGlkPT0nVGV4dF9Cb3gnKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgIC8vICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgLy8gICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZXR5cGU6J1RleHQgQm94JywKICAgICAgICAvLyAgICAgICAgICAgICBwbGFjZWhvbGRlcjonRW50ZXIgUGxhY2Vob2xkZXInLAogICAgICAgIC8vICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAvLyAgICAgfSBlbHNlIGlmKGlkPT0nVGV4dGFyZWEnKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgIC8vICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgLy8gICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZXR5cGU6J1RleHQgQXJlYScsCiAgICAgICAgLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI6J0VudGVyIFBsYWNlaG9sZGVyJywKICAgICAgICAvLyAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgIH0gZWxzZSBpZihpZD09J0VtYWlsJyl7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAvLyAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgIC8vICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgIC8vICAgICAgICAgICAgIG5vZGV0eXBlOidFbWFpbCcsCiAgICAgICAgLy8gICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGVycm9yX21zZzpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYoaWQ9PSdOdW1iZXInKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgIC8vICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgLy8gICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZXR5cGU6J051bWJlcicsCiAgICAgICAgLy8gICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIG1pbm51bWJlcjpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIG1heG51bWJlcjpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYoaWQ9PSdQaG9uZU51bWJlcicpewogICAgICAgIC8vICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAvLyAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAvLyAgICAgICAgICAgICBub2RldHlwZTonUGhvbmUgTnVtYmVyJywKICAgICAgICAvLyAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZXJyb3JfbXNnOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZW5hYmxlX290cF92YWxpZGF0aW9uOmZhbHNlLAogICAgICAgIC8vICAgICAgICAgICAgIG90cF9xdWVzdGlvbl9sYWJlbDpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIG90cF9tc2c6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBpbmNvcnJlY3Rfb3RwX21zZzpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYoaWQ9PSdIeXBlcmxpbmsnKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMubGV2ZWxzW2ldLm5vZGVzLnB1c2goewogICAgICAgIC8vICAgICAgICAgICAgIG5vZGVfaWQ6IHRoaXMuZ2VuZXJhdGVVVUlEKCksCiAgICAgICAgLy8gICAgICAgICAgICAgaWQ6aWQrdGhpcy5tYXhpZCt0aGlzLmxldmVsc1tpXS5ub2Rlcy5sZW5ndGgsCiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZXR5cGU6J0h5cGVybGluaycsCiAgICAgICAgLy8gICAgICAgICAgICAgaHlwZXJsaW5rOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgIH0gZWxzZSBpZihpZD09J0NoZWNrX0JveCcpewogICAgICAgIC8vICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAvLyAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAvLyAgICAgICAgICAgICBub2RldHlwZTonQ2hlY2sgQm94JywKICAgICAgICAvLyAgICAgICAgICAgICB2YWx1ZXM6W3t0aXRsZTpudWxsLHBheWxvYWQ6bnVsbH1dLAogICAgICAgIC8vICAgICAgICAgICAgIG1lc3NhZ2U6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAvLyAgICAgfSBlbHNlIGlmKGlkPT0nUmFkaW9fQnV0dG9uJyl7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAvLyAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgIC8vICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgIC8vICAgICAgICAgICAgIG5vZGV0eXBlOidSYWRpbyBCdXR0b24nLAogICAgICAgIC8vICAgICAgICAgICAgIHZhbHVlczpbe3RpdGxlOm51bGwscGF5bG9hZDpudWxsfV0sCiAgICAgICAgLy8gICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYoaWQ9PSdEcm9wZG93bicpewogICAgICAgIC8vICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAvLyAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAvLyAgICAgICAgICAgICBub2RldHlwZTonRHJvcGRvd24nLAogICAgICAgIC8vICAgICAgICAgICAgIHZhbHVlczpbe3RpdGxlOm51bGwscGF5bG9hZDpudWxsfV0sCiAgICAgICAgLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBtZXNzYWdlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgIH0gZWxzZSBpZihpZD09J0ZpbGVfVXBsb2FkJyl7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAvLyAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgIC8vICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgIC8vICAgICAgICAgICAgIG5vZGV0eXBlOidGaWxlIFVwbG9hZCcsCiAgICAgICAgLy8gICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYoaWQ9PSdWaWRlbycpewogICAgICAgIC8vICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAvLyAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAvLyAgICAgICAgICAgICBub2RldHlwZTonVmlkZW8nLAogICAgICAgIC8vICAgICAgICAgICAgIHZpZGVvdXJsOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgIH0gZWxzZSBpZihpZD09J0ltYWdlJyl7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAvLyAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgIC8vICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgIC8vICAgICAgICAgICAgIG5vZGV0eXBlOidJbWFnZScsCiAgICAgICAgLy8gICAgICAgICAgICAgaW1hZ2V1cmw6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBmb2xsb3dpbmdsZXZlbGlkOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9tZW50aW9uOmZhbHNlLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfdmFsdWU6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX2VsZW1lbnRfdHlwZTpudWxsCiAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAvLyAgICAgfSBlbHNlIGlmKGlkPT0nTWVzc2FnZScpewogICAgICAgIC8vICAgICAgICAgdGhpcy5sZXZlbHNbaV0ubm9kZXMucHVzaCh7CiAgICAgICAgLy8gICAgICAgICAgICAgbm9kZV9pZDogdGhpcy5nZW5lcmF0ZVVVSUQoKSwKICAgICAgICAvLyAgICAgICAgICAgICBpZDppZCt0aGlzLm1heGlkK3RoaXMubGV2ZWxzW2ldLm5vZGVzLmxlbmd0aCwKICAgICAgICAvLyAgICAgICAgICAgICBub2RldHlwZTonTWVzc2FnZScsCiAgICAgICAgLy8gICAgICAgICAgICAgbWVzc2FnZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvbGxvd2luZ2xldmVsaWQ6bnVsbCwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX21lbnRpb246ZmFsc2UsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV92YWx1ZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfZWxlbWVudF90eXBlOm51bGwKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICB9IGVsc2UgaWYoaWQ9PSdGb3JtJyl7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2Rlcy5wdXNoKHsKICAgICAgICAvLyAgICAgICAgICAgICBub2RlX2lkOiB0aGlzLmdlbmVyYXRlVVVJRCgpLAogICAgICAgIC8vICAgICAgICAgICAgIGlkOmlkK3RoaXMubWF4aWQrdGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLAogICAgICAgIC8vICAgICAgICAgICAgIG5vZGV0eXBlOidGb3JtJywKICAgICAgICAvLyAgICAgICAgICAgICBmb3JtbmFtZTpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGZvcm1maWVsZHM6W10sCiAgICAgICAgLy8gICAgICAgICAgICAgZm9sbG93aW5nbGV2ZWxpZDpudWxsLAogICAgICAgIC8vICAgICAgICAgICAgIGRhdGFfbWVudGlvbjpmYWxzZSwKICAgICAgICAvLyAgICAgICAgICAgICBkYXRhX3ZhbHVlOm51bGwsCiAgICAgICAgLy8gICAgICAgICAgICAgZGF0YV9lbGVtZW50X3R5cGU6bnVsbAogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgICAgaWYoaWQ9PSdNZXNzYWdlJ3x8aWQ9PSdWaWRlbyd8fGlkPT0nSW1hZ2UnfHxpZD09J0h5cGVybGluaycpewoKICAgICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgIHRoaXMuY3JlYXRlbGV2ZWwoaSk7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmxldmVsc1tpXS5ub2RldHlwZT1pZDsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICB0aGlzLnNlbGVjdG5vZGUodGhpcy5sZXZlbHNbaV0ubm9kZXMubGVuZ3RoLTEsdGhpcy5sZXZlbHNbaV0ubGV2ZWxubyk7CiAgICAgICAgLy8gfSwKICAgIH0sCiAgICAvLyB3YXRjaCA6ewogICAgLy8gICAgY3VycmVudF9tZW51KG5ld1ZhbCxvbGRWYWwpewogICAgLy8gICAgIC8vICBjb25zb2xlLmxvZyhuZXdWYWwsb2xkVmFsKQogICAgICAgIC8vIGlmKG5ld1ZhbCA9PT0gJ2dlbmVyYWwnKXsKICAgICAgICAvLyAgICAgaWYgKG9sZFZhbCA9PT0gJ2dlbmVyYWwnKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMuZ2VuZXJhbF9saV9uYXYgPSAnbmF2LWl0ZW0nOwogICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgIC8vICAgICAgICAgdGhpcy5nZW5lcmFsX2xpX25hdiA9ICduYXYtaXRlbSBzaG93JzsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vIH0gZWxzZSBpZihuZXdWYWwgPT09ICdmb3JtJyl7CiAgICAgICAgLy8gICAgIGlmIChvbGRWYWwgPT09ICdmb3JtJyl7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmZvcm1fbGlfbmF2ID0gJ25hdi1pdGVtJzsKICAgICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgIHRoaXMuZm9ybV9saV9uYXYgPSAnbmF2LWl0ZW0gc2hvdyc7CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9IGVsc2UgaWYobmV3VmFsID09PSAnZXhwb3J0Jyl7CiAgICAgICAgLy8gICAgIGlmIChvbGRWYWwgPT09ICdleHBvcnQnKXsKICAgICAgICAvLyAgICAgICAgIHRoaXMuZXhwb3J0X2xpX25hdiA9ICduYXYtaXRlbSc7CiAgICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmV4cG9ydF9saV9uYXYgPSAnbmF2LWl0ZW0gc2hvdyc7CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9CiAgICAvLyB9CiAgICAvLyB9Cn0K"},null]}