{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/SuperAdminIntermediateScreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/SuperAdminIntermediateScreen.vue","mtime":1660042032579},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXZiYXIgZnJvbSAiLi4vTGF5b3V0L1RvcE5hdmJhci52dWUiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzLmpzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKaW1wb3J0IHNpZGViYXJpdGVtcyBmcm9tICIuLi9MYXlvdXQvU2lkZUJhckl0ZW0iOwppbXBvcnQgQ29va2llcyBmcm9tICJqcy1jb29raWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdXBlckFkbWluSW50ZXJtZWRpYXRlU2NyZWVuIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoUXVlcnk6IG51bGwsCiAgICAgIHN1cGVyX2FkbWluX2xvZ2luX2RhdGE6IFtdLAogICAgICBpc19zdXBlcl9hZG1pbjogdHJ1ZSwKICAgICAgc3VwZXJfYWRtaW5fY2hvc2VuX2FjY291bnRfZGF0YTogbnVsbCwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgcmV0YWlsX3dlYl9mcmFtZXdvcms6IG51bGwsCiAgICAgIGlzVmlzaWJsZVNlYXJjaENsZWFyOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByZXN1bHRRdWVyeSgpewogICAgICBpZih0aGlzLnNlYXJjaFF1ZXJ5KXsKICAgICAgcmV0dXJuIHRoaXMuc3VwZXJfYWRtaW5fbG9naW5fZGF0YS5maWx0ZXIoKGl0ZW0pPT57CiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLmV2ZXJ5KHYgPT4gaXRlbS5Db21wYW55TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHYpIHx8CiAgICAgICAgaXRlbS5FbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHYpKQogICAgICB9KQogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gdGhpcy5zdXBlcl9hZG1pbl9sb2dpbl9kYXRhOwogICAgICB9CiAgICB9LAoKICB9LAoKICB3YXRjaDp7CiAgc2VhcmNoUXVlcnkoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaFF1ZXJ5ID09PSAnJyB8fCB0aGlzLnNlYXJjaFF1ZXJ5ID09PSBudWxsKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoUXVlcnkgIT0gbnVsbCB8fCB0aGlzLnNlYXJjaFF1ZXJ5ICE9JycpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFRvcE5hdmJhciwKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMpOwogICAgaWYgKEJvb2xlYW4odGhpcy4kcm91dGUucGFyYW1zKSkgewogICAgICB0aGlzLnN1cGVyX2FkbWluX2xvZ2luX2RhdGEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iLAogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luX2FjY291bnQoaW5kZXgpIHsgCiAgICAgIFN3YWwoewogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgdGV4dDogYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsb2dpbiBpbnRvIHRoZSBhY2NvdW50IG9mICR7dGhpcy5yZXN1bHRRdWVyeVtpbmRleF0uRW1haWx9IHdoaWNoIGJlbG9uZ3MgdG8gJHt0aGlzLnJlc3VsdFF1ZXJ5W2luZGV4XS5Db21wYW55TmFtZX1gLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQudmFsdWUpOwogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBMb2dpbiBpbnRvICR7dGhpcy5zdXBlcl9hZG1pbl9sb2dpbl9kYXRhW2luZGV4XS5FbWFpbH1gKTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy5zdXBlcl9hZG1pbl9sb2dpbigpLAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnJlc3VsdFF1ZXJ5W2luZGV4XS5FbWFpbCwKICAgICAgICAgICAgICAgIGRhdGU6IG1vbWVudCgpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuTE9HSU5fU1VDQ0VTU0ZVTC5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgICB0aGlzLnN1cGVyX2FkbWluX2Nob3Nlbl9hY2NvdW50X2RhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJldGFpbF93ZWJfZnJhbWV3b3JrOwogICAgICAgICAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgic3VwZXJfYWRtaW5fbG9naW4iLCBkYXRhKTsKICAgICAgICAgICAgICAgIHRoaXMuc2lnbm91dF9hcGkoKTsKICAgICAgICAgICAgICB9ZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdhZGRfcm9sZV9pbnRlcm5hbF9zZXJ2ZXJfbXNnJyksCiAgICAgICAgICAgICAgICAgIHRpbWVyOjMwMDAsICAgICAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJfc2VhcmNoX25hbWUoKSB7CiAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSBudWxsOwogICAgfSwKCiAgICBzaWdub3V0X2FwaSgpIHsKICAgICAgYnVzLiRlbWl0KCJMb2dvdXQgaGFzIGJlZW4gY2xpY2tlZCIsICJUcnVlIik7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy5jbGVhcl9hY2Nlc3NfdG9rZW5fdXJsKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmV4ZWN1dGVfc2lnbm91dCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuZXhlY3V0ZV9zaWdub3V0KCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZXhlY3V0ZV9zaWdub3V0KCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLnNpZ25vdXRfdXJsKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgicnQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLlVTRVJfTE9HR0VEX09VVF8xMDMyLk1TR19DT0RFIHx8CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5UT0tFTl9JTlZBTElEXzAwMDEuTVNHX0NPREUgfHwKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVkFMSURfQ1JFREVOVElBTFNfMDAwNS5NU0dfQ09ERQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uZGVzdHJveSgpOwogICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicmV0YWlsX3dlYl9mcmFtZXdvcmsiLCB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrKTsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiQ2xlYXJfUmVmcmVzaF9Ub2tlbl9JbnRlcnZhbCIsIHsKICAgICAgICAgICAgICBjbGVhcl9pbnRlcnZhbDogdHJ1ZSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJ1cy4kZW1pdCgiTG9nZ2VkIG91dCIsICJUcnVlIik7CiAgICAgICAgICAgIGJ1cy4kZW1pdCgiRGlzYWJsZSB0aGUgYm90IGNoYXQgbm93IiwgIlRydWUiLCAiTG9nZ2Vkb3V0Iik7CiAgICAgICAgICAgIHRoaXMucmVkaXIodGhpcy5zdXBlcl9hZG1pbl9jaG9zZW5fYWNjb3VudF9kYXRhKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMucmVkaXIodGhpcy5zdXBlcl9hZG1pbl9jaG9zZW5fYWNjb3VudF9kYXRhKTsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzZXNzaW9uLmRlc3Ryb3koKTsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBidXMuJGVtaXQoIkxvZ2dlZCBvdXQiLCAiVHJ1ZSIpOwogICAgICAgICAgYnVzLiRlbWl0KCJEaXNhYmxlIHRoZSBib3QgY2hhdCBub3ciLCAiVHJ1ZSIsICJMb2dnZWRvdXQiKTsKICAgICAgICAgIHRoaXMucmVkaXIodGhpcy5zdXBlcl9hZG1pbl9jaG9zZW5fYWNjb3VudF9kYXRhKTsKICAgICAgICB9KTsKICAgIH0sCiAgICByZWRpcihtZXNzYWdlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJyZWRpciIpOwogICAgICBpZiAobWVzc2FnZSA9PSAiRW1haWwgaGFzbid0IGJlZW4gdmVyaWZpZWQuIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgaHRtbDoKICAgICAgICAgICAgIjxoNj5Zb3VyIGFjY291bnQgaGFzIG5vdCBiZWVuIHZhbGlkYXRlZCBmb3IgbG9naW4uPGJyPlBsZWFzZSB2aXNpdCB5b3VyIGUtbWFpbDwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgICI8aDY+VGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi48L2g2PiIsCiAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZSA9PSAiVXNlciBoYXMgbm90IGJlZW4gYXBwcm92ZWQgeWV0LiIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgICI8aDY+WW91ciByZWdpc3RyYXRpb24gaGFzIG5vdCBiZWVuIGFwcHJvdmVkIG9yIGl0IGhhcyBiZWVuIGRlY2xpbmVkIGJ5IEFkbWluLiBLaW5kbHkgY2hlY2sgeW91ciBtYWlsPC9oNj4iLAogICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT0gIllvdSBhcmUgYWxyZWFkeSBsb2dnZWQgaW4hIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6ICI8aDY+VGhpcyB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluPC9oNj4iLAogICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT0gIkludmFsaWQgQ3JlZGVudGlhbHMiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDogIjxoNj5JbnZhbGlkIENyZWRlbnRpYWxzITwvaDY+IiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlID09ICJBUEkgTElNSVQgRVhDRUVERUQiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDoKICAgICAgICAgICAgIjxoNj5Zb3VyIG1vbnRobHkgYXBpIHJlcXVlc3RzIGhhcyBleGNlZWRlZC4gUGxlYXNlIFVwZ3JhZGUgeW91ciBwbGFucyB0byBsb2dpbjwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLk1TRyA9PSAiUGFzc3dvcmQgc2hvdWxkIGJlIFJlbmV3ZWQiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDoKICAgICAgICAgICAgIjxoNj5Zb3VyIHBhc3N3b3JkIGhhcyBiZWVuIGV4cGlyZWQuIFBsZWFzZSBSZW5ldyB5b3VyIHBhc3N3b3JkPC9oNj4iLAogICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYoQm9vbGVhbihtZXNzYWdlLmlzX3N1cGVyX2FkbWluX2xvZ2luKSl7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIlN1cGVyQWRtaW5JbnRlcm1lZGlhdGVTY3JlZW4iLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGRhdGE6IG1lc3NhZ2UuYWxsX3VzZXJzX2xpc3QKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJJbmZvcm1hdGlvbiIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiYXQiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5hY2Nlc3NfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJydCIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLnJlZnJlc2hfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCd3aGF0c2FwcF9zdWJzY3JpcHRpb24nLG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLndoYXRzYXBwX3N1YnNjcmlwdGlvbikKICAgICAgfSBlbHNlIGlmICh0aGlzLmxvZ2luX3R5cGUgPT0gIkJvdCIpIHsKICAgICAgICBDb29raWVzLnJlbW92ZSgibG9naW5fdHlwZSIpOwogICAgICAgIENvb2tpZXMuc2V0KCJsb2dpbl90eXBlIiwgdGhpcy5sb2dpbl90eXBlLCB7IGV4cGlyZXM6IDM2NSB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJJbmZvcm1hdGlvbiIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiYXQiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5hY2Nlc3NfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJydCIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLnJlZnJlc2hfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCd3aGF0c2FwcF9zdWJzY3JpcHRpb24nLG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLndoYXRzYXBwX3N1YnNjcmlwdGlvbikKICAgICAgICB0aGlzLmNoZWNrX3RlbXBsYXRlX3N1YnNjcmlwdGlvbigncHVzaF9kaXJlY3RfcmVzcG9uc2VfYm90Jyk7CiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvZGlyZWN0cmVzcG9uc2Vib3QiKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLk1TRyA9PSAiVXNlciBJcyBMb2NrZWQiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDogIjxoNj5UaGlzIHVzZXIgaGFzIGJlZW4gbG9ja2VkPC9oNj4iLAogICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIENvb2tpZXMucmVtb3ZlKCJsb2dpbl90eXBlIik7CiAgICAgICAgQ29va2llcy5zZXQoImxvZ2luX3R5cGUiLCB0aGlzLmxvZ2luX3R5cGUsIHsgZXhwaXJlczogMzY1IH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckluZm9ybWF0aW9uIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCd3aGF0c2FwcF9zdWJzY3JpcHRpb24nLG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLndoYXRzYXBwX3N1YnNjcmlwdGlvbikKICAgICAgICBpZih0aGlzLmlzX3N1cGVyX2FkbWluKXsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy5zdXBlcl9hZG1pbl9ib3RfbG9naW4oKSwgewogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLlNUQVRVU19TVUNDRVNTX0NPUkUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiQm90VG9rZW4iLCByZXNwb25zZS5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5yZW1vdmUoIlRlbXBvcmFyeUJvdFRva2VuIik7CiAgICAgICAgICAgICAgICBidXMuJGVtaXQoIlRva2VuIGNoYW5nZWQiLCAiVHJ1ZSIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmJvdF9yZXNwb25zZV90b2tlbigpLCB7CiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuU1RBVFVTX1NVQ0NFU1NfQ09SRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKXsKICAgICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RUb2tlbiIsIHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnJlbW92ZSgiVGVtcG9yYXJ5Qm90VG9rZW4iKTsKICAgICAgICAgICAgICAgIGJ1cy4kZW1pdCgiVG9rZW4gY2hhbmdlZCIsICJUcnVlIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJGaXJzdE5hbWUiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5maXJzdF9uYW1lKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckxhc3ROYW1lIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24ubGFzdF9uYW1lKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicnQiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5yZWZyZXNoX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiYXQiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5hY2Nlc3NfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJSZXN0cmljdGlvbkxpc3QiLCBtZXNzYWdlLnJlc3RyaWN0aW9uX2xpc3QpOwogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9CiAgICAgICAgICAiY29tcGFueV9pZD0iICsgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwaW5uZXIiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgIHRoaXMuY2hlY2tfdGVtcGxhdGVfc3Vic2NyaXB0aW9uKG51bGwpOwogICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMudXBkYXRlX21lbnVfbGlzdChtZXNzYWdlLm1lbnViaW5kKTsKICAgICAgICAvLyB9LCAxMDApOwogICAgICB9CiAgICB9LAogICAgY2hlY2tfdGVtcGxhdGVfc3Vic2NyaXB0aW9uKHBhcmFtKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldChhcGlfY2FsbHMub3Blbl9ib3RfdGVtcGxhdGVfc3Vic2NyaXB0aW9uX2FwaSgpLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIH0sCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7ZGF0YX0pID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEgLCAic3VwZXJhZG1pbiIpCiAgICAgICAgICAgICAgICAgCiAgICAgICAgICBpZihkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IHRoaXMuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUllfTU9ERUxTLk1TR19DT0RFKXsKICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFRlbXBsYXRlcyIsIGRhdGEuZGF0YS50ZW1wbGF0ZXMpCiAgICAgICAgICAgIGlmKHBhcmFtID09PSAncHVzaF9kaXJlY3RfcmVzcG9uc2VfYm90Jyl7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvZGlyZWN0cmVzcG9uc2Vib3QiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYocGFyYW0gPT09ICdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKXsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kaXJlY3RyZXNwb25zZWJvdCIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goKGUpPT4gewogICAgICAgICAgaWYocGFyYW0gPT09ICdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKXsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kaXJlY3RyZXNwb25zZWJvdCIpOwogICAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiaXNfc3VwZXJfYWRtaW4iLCB0cnVlKTsKICAgIH0sCiAgICB1cGRhdGVfbWVudV9saXN0KG1lc3NhZ2UpIHsKICAgICAgbGV0IG1lbnUgPSB7fTsKICAgICAgbGV0IG1haW5fbWVudV9saXN0ID0gbWVzc2FnZS5maWx0ZXIoCiAgICAgICAgKGFycikgPT4gYXJyLklzTWFzdGVyTWVudSA9PSB0cnVlICYmIGFyci5FbmFibGVkID09IHRydWUKICAgICAgKTsKICAgICAgbGV0IG1haW5fbWVudV9saXN0X2ZpbHRlcmVkID0gW107CiAgICAgIGxldCBzdWJfbWVudV9saXN0ID0gbWVzc2FnZS5maWx0ZXIoCiAgICAgICAgKGFycikgPT4KICAgICAgICAgIGFyci5IYXNTdWJNZW51cyA9PSBmYWxzZSAmJgogICAgICAgICAgYXJyLkVuYWJsZWQgPT0gdHJ1ZSAmJgogICAgICAgICAgYXJyLklzU3ViTWVudSA9PSB0cnVlCiAgICAgICk7CgogICAgICBmb3IgKGxldCBpID0gMCwgbiA9IG1haW5fbWVudV9saXN0Lmxlbmd0aDsgaSA8IG47IGkgKz0gMSkgewogICAgICAgIGxldCBtZW51RmlsdGVyID0gc2lkZWJhcml0ZW1zLmZpbHRlcigoc2lkZWJhcikgPT4gewogICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgc2lkZWJhci5uYW1lID09PSBtYWluX21lbnVfbGlzdFtpXS5NZW51SXRlbSAmJgogICAgICAgICAgICBCb29sZWFuKHNpZGViYXIuc3ZnX2h0bWwpCiAgICAgICAgICApOwogICAgICAgIH0pOwogICAgICAgIGlmIChtZW51RmlsdGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgIG1haW5fbWVudV9saXN0X2ZpbHRlcmVkLnB1c2gobWVudUZpbHRlclswXSk7CiAgICAgICAgICBtZW51W21lbnVGaWx0ZXJbMF0ubmFtZV0gPSB7CiAgICAgICAgICAgIG1haW5fbWVudTogbWVudUZpbHRlclswXSwKICAgICAgICAgICAgc3ViX21lbnVfbGlzdDogW10sCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgICB0cnkgewogICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gc3ViX21lbnVfbGlzdC5sZW5ndGg7IGkgPCBuOyBpICs9IDEpIHsKICAgICAgICAgIGZvciAodmFyIGogaW4gc2lkZWJhcml0ZW1zKSB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBzaWRlYmFyaXRlbXNbal0ubmFtZSA9PT0gc3ViX21lbnVfbGlzdFtpXS5NZW51SXRlbSAmJgogICAgICAgICAgICAgIEJvb2xlYW4oc2lkZWJhcml0ZW1zW2pdLnBhZ2VfcGF0aCAmJiBzaWRlYmFyaXRlbXNbal0ubWFzdGVyX21lbnUgPT09IHN1Yl9tZW51X2xpc3RbaV0uTWFzdGVyTWVudSkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc2lkZWJhcml0ZW1zW2pdLm5hbWUpCiAgICAgICAgICAgICAgbWVudVtzdWJfbWVudV9saXN0W2ldLk1hc3Rlck1lbnVdLnN1Yl9tZW51X2xpc3QucHVzaCgKICAgICAgICAgICAgICAgIHNpZGViYXJpdGVtc1tqXQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgfQogICAgICBtZW51ID0gT2JqZWN0LnZhbHVlcyhtZW51KTsKCiAgICAgIC8vIGZvciAobGV0IGkgPSAwLCBuID0gbWVzc2FnZS5sZW5ndGg7IGkgPCBuOyBpICs9IDEpIHsKICAgICAgLy8gICBpZiAobWVzc2FnZVtpXS5FbmFibGVkICYmIG1lc3NhZ2VbaV0uSXNNYXN0ZXJNZW51KSB7CiAgICAgIC8vICAgICBsZXQgbWVudUZpbHRlciA9IHNpZGViYXJpdGVtcy5maWx0ZXIoKHNpZGViYXIpID0+IHsKICAgICAgLy8gICAgICAgcmV0dXJuICgKICAgICAgLy8gICAgICAgICBzaWRlYmFyLm5hbWUgPT09IG1lc3NhZ2VbaV0uTWVudUl0ZW0gJiYgQm9vbGVhbihzaWRlYmFyLnN2Z19odG1sKQogICAgICAvLyAgICAgICApOwogICAgICAvLyAgICAgfSk7CiAgICAgIC8vICAgICBpZiAobWVudUZpbHRlci5sZW5ndGggPiAwKSB7CiAgICAgIC8vICAgICAgIG1haW5fbWVudSA9IG1lbnVGaWx0ZXJbMF07CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSBlbHNlIGlmICgKICAgICAgLy8gICAgIG1lc3NhZ2VbaV0uSGFzU3ViTWVudXMgPT0gZmFsc2UgJiYKICAgICAgLy8gICAgIG1lc3NhZ2VbaV0uRW5hYmxlZCAmJgogICAgICAvLyAgICAgbWVzc2FnZVtpXS5Jc1N1Yk1lbnUgJiYKICAgICAgLy8gICAgIE9iamVjdC5rZXlzKG1haW5fbWVudSkubGVuZ3RoID4gMAogICAgICAvLyAgICkgewogICAgICAvLyAgICAgZm9yICh2YXIgaiBpbiBzaWRlYmFyaXRlbXMpIHsKICAgICAgLy8gICAgICAgaWYgKAogICAgICAvLyAgICAgICAgIHNpZGViYXJpdGVtc1tqXS5uYW1lID09PSBtZXNzYWdlW2ldLk1lbnVJdGVtICYmCiAgICAgIC8vICAgICAgICAgQm9vbGVhbihzaWRlYmFyaXRlbXNbal0ucGFnZV9wYXRoKQogICAgICAvLyAgICAgICApIHsKICAgICAgLy8gICAgICAgICBzdWJtZW51cy5wdXNoKHNpZGViYXJpdGVtc1tqXSk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9CiAgICAgIC8vICAgaWYgKAogICAgICAvLyAgICAgaSA9PSBuIC0gMSB8fAogICAgICAvLyAgICAgKG1lc3NhZ2VbaV0uSXNNYXN0ZXJNZW51ID09IHRydWUgJiYKICAgICAgLy8gICAgICAgbWVzc2FnZVtpXS5IYXNTdWJNZW51cyA9PT0gZmFsc2UgJiYKICAgICAgLy8gICAgICAgIUJvb2xlYW4obWVzc2FnZVtpXS5Jc1N1Yk1lbnUpICYmCiAgICAgIC8vICAgICAgIG1lc3NhZ2VbaV0uRW5hYmxlZCkKICAgICAgLy8gICApIHsKICAgICAgLy8gICAgIG1lbnUucHVzaCh7CiAgICAgIC8vICAgICAgIG1haW5fbWVudTogbWFpbl9tZW51LAogICAgICAvLyAgICAgICBzdWJfbWVudV9saXN0OiBzdWJtZW51cywKICAgICAgLy8gICAgIH0pOwogICAgICAvLyAgICAgbWFpbl9tZW51ID0gW107CiAgICAgIC8vICAgICBzdWJtZW51cyA9IFtdOwogICAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAgIC8vICAgICBpIDwgbiAtIDEgJiYKICAgICAgLy8gICAgIG1lc3NhZ2VbaSArIDFdLklzTWFzdGVyTWVudSAmJgogICAgICAvLyAgICAgKCFCb29sZWFuKG1lc3NhZ2VbaSArIDFdLklzU3ViTWVudSkgfHwKICAgICAgLy8gICAgICAgbWVzc2FnZVtpICsgMV0uSGFzU3ViTWVudXMgPT0gdHJ1ZSkgJiYKICAgICAgLy8gICAgIE9iamVjdC5rZXlzKG1haW5fbWVudSkubGVuZ3RoID4gMAogICAgICAvLyAgICkgewogICAgICAvLyAgICAgbWVudS5wdXNoKHsKICAgICAgLy8gICAgICAgbWFpbl9tZW51OiBtYWluX21lbnUsCiAgICAgIC8vICAgICAgIHN1Yl9tZW51X2xpc3Q6IHN1Ym1lbnVzLAogICAgICAvLyAgICAgfSk7CiAgICAgIC8vICAgICBtYWluX21lbnUgPSBbXTsKICAgICAgLy8gICAgIHN1Ym1lbnVzID0gW107CiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJDaGF0Ym90TWVudSIsIG1lbnUpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kYXNoYm9hcmQiKTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["SuperAdminIntermediateScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SuperAdminIntermediateScreen.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Pages","sourcesContent":["<template>\n  <div>\n    <top-navbar\n      v-if=\"$route.name != 'Workflow' && $route.name != 'OpenBot'\"\n    ></top-navbar>\n    <!-- <div class=\"dash-cont\"> -->\n    <div class=\"container\" style=\"margin-top: 5rem\">\n      <div\n      class=\"spinner\"\n      id=\"spinner\"\n      v-show=\"spinnerOn != undefined && spinnerOn == true\"\n    ></div>\n      <div class=\"row\"> \n        <div class=\"col-sm-8 ml-auto mr-auto\">\n          <div class=\"d-flex\">\n            <div>\n            <h3>Hello Cense Admin,</h3>\n            <p>Please select the account into which you want to login:</p>   \n            </div>\n            <div class=\"search-container ml-auto\">\n              <!-- <form action=\"\" class=\"form-search\"> -->\n                <input type=\"text\" name=\"search\" class=\"input-field\"\n                    id=\"search_bar\" \n                  v-model.trim=\"searchQuery\" \n                  placeholder=\"Search here\">\n                <a\n                  type=\"button\"\n                  v-if=\"isVisibleSearchClear\"\n                  class=\"btn bg-transparent mt-auto mb-auto py-0 btn-submit\"\n                  @click=\"clear_search_name\"\n                  >\n                  <img src=\"/img/close-icn.png\" alt />\n                </a>\n              <!-- </form> -->\n            </div>\n          </div>\n          <table class=\"table\" style=\"border: 1px solid #e6e6e6\">\n            <!-- <thead>\n              <tr>\n                <th>#</th>\n                <th>Company Name</th>\n                <th>Email</th>\n                <th>Login</th>\n              </tr>\n            </thead> -->\n            <tbody>\n              <tr>\n                <th>#</th>\n                <th>Company Name</th>\n                <th>Email</th>\n                <th>Login</th>\n              </tr>\n              <tr\n                v-for=\"(account, index) in resultQuery\"\n                :key=\"index\"\n              >\n                <td>{{ index + 1 }}</td>\n                <td>{{ account.CompanyName }}</td>\n                <td>{{ account.Email }}</td>\n                <td>\n                  <!-- <button class=\"btn btn-primary\"> Login </button> -->\n                  <!-- <input type=\"radio\" name=\"abcd\" id=\"1234fd\" style=\"cursor:pointer;\" /> -->\n                  <a href=\"javascript: void(0)\" @click=\"login_account(index)\"\n                    >Go</a\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport TopNavbar from \"../Layout/TopNavbar.vue\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport moment from \"moment\";\nimport { bus } from \"@/portal/main\";\nimport sidebaritems from \"../Layout/SideBarItem\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n  name: \"SuperAdminIntermediateScreen\",\n  data() {\n    return {\n      searchQuery: null,\n      super_admin_login_data: [],\n      is_super_admin: true,\n      super_admin_chosen_account_data: null,\n      spinnerOn: false,\n      retail_web_framework: null,\n      isVisibleSearchClear: false\n    };\n  },\n  computed: {\n    resultQuery(){\n      if(this.searchQuery){\n      return this.super_admin_login_data.filter((item)=>{\n        return this.searchQuery.toLowerCase().split(' ').every(v => item.CompanyName.toLowerCase().includes(v) ||\n        item.Email.toLowerCase().includes(v))\n      })\n      }else{\n        return this.super_admin_login_data;\n      }\n    },\n\n  },\n\n  watch:{\n  searchQuery() {\n      if (this.searchQuery === '' || this.searchQuery === null) {\n        this.isVisibleSearchClear = false;\n      } else if (this.searchQuery != null || this.searchQuery !='') {\n        this.isVisibleSearchClear = true;\n      }\n    },\n  },\n  components: {\n    TopNavbar,\n  },\n  mounted() {\n    // console.log(this.$route.params);\n    if (Boolean(this.$route.params)) {\n      this.super_admin_login_data = this.$route.params.data;\n    } else {\n      this.$router.push({\n        name: \"Login\",\n      });\n    }\n  },\n  methods: {\n    login_account(index) { \n      Swal({\n        type: \"question\",\n        text: `Are you sure you want to login into the account of ${this.resultQuery[index].Email} which belongs to ${this.resultQuery[index].CompanyName}`,\n      }).then((result) => {\n        // console.log(result.value);\n        if (result.value) {\n          this.spinnerOn = true;\n          // console.log(`Login into ${this.super_admin_login_data[index].Email}`);\n          axios\n            .post(\n              api_calls.super_admin_login(),\n              {\n                email: this.resultQuery[index].Email,\n                date: moment().toISOString(),\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              if (response.data.message.MSG_CODE === this.api_status_code.LOGIN_SUCCESSFUL.MSG_CODE){\n                this.super_admin_chosen_account_data = response.data.data;\n                this.retail_web_framework = response.data.data.retail_web_framework;\n                // this.$root.$emit(\"super_admin_login\", data);\n                this.signout_api();\n              }else if (response.data.message.MSG_CODE == this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE) {\n                Swal({\n                  type: \"error\",\n                  text: this.tlt('add_role_internal_server_msg'),\n                  timer:3000,     \n                });\n              }\n              else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              console.log(e);\n            });\n        }\n      });\n    },\n    clear_search_name() {\n      this.searchQuery = null;\n    },\n\n    signout_api() {\n      bus.$emit(\"Logout has been clicked\", \"True\");\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.clear_access_token_url(),\n          {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            email: this.$session.get(\"UserInformation\").email,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(() => {\n          this.execute_signout();\n        })\n        .catch(() => {\n          this.execute_signout();\n        });\n    },\n    execute_signout() {\n      axios\n        .post(\n          api_calls.signout_url(),\n          {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            email: this.$session.get(\"UserInformation\").email,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"rt\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          if (\n            response.data.message.MSG_CODE == this.api_status_code.USER_LOGGED_OUT_1032.MSG_CODE ||\n            response.data.message.MSG_CODE == this.api_status_code.TOKEN_INVALID_0001.MSG_CODE ||\n            response.data.message.MSG_CODE == this.api_status_code.INVALID_CREDENTIALS_0005.MSG_CODE\n          ) {\n            this.$session.destroy();\n            this.$session.set(\"retail_web_framework\", this.retail_web_framework);\n            this.spinnerOn = false;\n            this.$root.$emit(\"Clear_Refresh_Token_Interval\", {\n              clear_interval: true,\n            });\n            bus.$emit(\"Logged out\", \"True\");\n            bus.$emit(\"Disable the bot chat now\", \"True\", \"Loggedout\");\n            this.redir(this.super_admin_chosen_account_data);\n          } else {\n            this.spinnerOn = false;\n            this.redir(this.super_admin_chosen_account_data);\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"success\"\n            })\n          }\n        })\n        .catch(() => {\n          this.$session.destroy();\n          this.spinnerOn = false;\n          bus.$emit(\"Logged out\", \"True\");\n          bus.$emit(\"Disable the bot chat now\", \"True\", \"Loggedout\");\n          this.redir(this.super_admin_chosen_account_data);\n        });\n    },\n    redir(message) {\n      // console.log(\"redir\");\n      if (message == \"Email hasn't been verified.\") {\n        swal({\n          html:\n            \"<h6>Your account has not been validated for login.<br>Please visit your e-mail</h6>\",\n          timer: 3000,\n          type: \"error\",\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"Internal Server Error\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>There was an internal server error. Please try again.</h6>\",\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"User has not been approved yet.\") {\n        swal({\n          type: \"warning\",\n          html:\n            \"<h6>Your registration has not been approved or it has been declined by Admin. Kindly check your mail</h6>\",\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"You are already logged in!\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>This user is already logged in</h6>\",\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"Invalid Credentials\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>Invalid Credentials!</h6>\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"API LIMIT EXCEEDED\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>Your monthly api requests has exceeded. Please Upgrade your plans to login</h6>\",\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message.MSG == \"Password should be Renewed\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>Your password has been expired. Please Renew your password</h6>\",\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if(Boolean(message.is_super_admin_login)){\n        this.$router.push({\n          name: \"SuperAdminIntermediateScreen\",\n          params: {\n            data: message.all_users_list\n          }\n        });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set('whatsapp_subscription',message.userinformation.whatsapp_subscription)\n      } else if (this.login_type == \"Bot\") {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set('whatsapp_subscription',message.userinformation.whatsapp_subscription)\n        this.check_template_subscription('push_direct_response_bot');\n        // this.$router.push(\"/bot/directresponsebot\");\n      } else if (message.MSG == \"User Is Locked\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>This user has been locked</h6>\",\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set('whatsapp_subscription',message.userinformation.whatsapp_subscription)\n        if(this.is_super_admin){\n          axios\n            .post(api_calls.super_admin_bot_login(), {\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              username: this.$session.get(\"UserInformation\").email,\n            })\n            .then((response) => {\n              if (this.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE === response.data.message.MSG_CODE){\n                this.$session.set(\"BotToken\", response.data.data);\n                this.$session.remove(\"TemporaryBotToken\");\n                bus.$emit(\"Token changed\", \"True\");\n              }\n            });\n        } else {\n            axios\n            .post(api_calls.bot_response_token(), {\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              username: this.$session.get(\"UserInformation\").email,\n            })\n            .then((response) => {\n              if (this.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE === response.data.message.MSG_CODE){\n                this.$session.set(\"BotToken\", response.data.data);\n                this.$session.remove(\"TemporaryBotToken\");\n                bus.$emit(\"Token changed\", \"True\");\n              }\n            });\n        }\n        this.$session.set(\"UserFirstName\", message.userinformation.first_name);\n        this.$session.set(\"UserLastName\", message.userinformation.last_name);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"RestrictionList\", message.restriction_list);\n        document.cookie =\n          \"company_id=\" + this.$session.get(\"UserInformation\").company_id;\n        document.getElementById(\"spinner\").style.opacity = \"1\";\n        this.check_template_subscription(null);\n        // setTimeout(() => {\n        this.update_menu_list(message.menubind);\n        // }, 100);\n      }\n    },\n    check_template_subscription(param) {\n      axios\n        .get(api_calls.open_bot_template_subscription_api(), {\n          params: {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(({data}) => {\n          // console.log(data , \"superadmin\")\n                 \n          if(data.message.MSG_CODE === this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE){\n            this.$session.set(\"BotTemplates\", data.data.templates)\n            if(param === 'push_direct_response_bot'){\n              this.$router.push(\"/bot/directresponsebot\");\n            }\n          } else {\n            if(param === 'push_direct_response_bot'){\n              this.$router.push(\"/bot/directresponsebot\");\n            }\n          }\n        }).catch((e)=> {\n          if(param === 'push_direct_response_bot'){\n              this.$router.push(\"/bot/directresponsebot\");\n            }\n          console.log(e);\n        });\n        this.$session.set(\"is_super_admin\", true);\n    },\n    update_menu_list(message) {\n      let menu = {};\n      let main_menu_list = message.filter(\n        (arr) => arr.IsMasterMenu == true && arr.Enabled == true\n      );\n      let main_menu_list_filtered = [];\n      let sub_menu_list = message.filter(\n        (arr) =>\n          arr.HasSubMenus == false &&\n          arr.Enabled == true &&\n          arr.IsSubMenu == true\n      );\n\n      for (let i = 0, n = main_menu_list.length; i < n; i += 1) {\n        let menuFilter = sidebaritems.filter((sidebar) => {\n          return (\n            sidebar.name === main_menu_list[i].MenuItem &&\n            Boolean(sidebar.svg_html)\n          );\n        });\n        if (menuFilter.length > 0) {\n          main_menu_list_filtered.push(menuFilter[0]);\n          menu[menuFilter[0].name] = {\n            main_menu: menuFilter[0],\n            sub_menu_list: [],\n          };\n        }\n      }\n      try {\n        for (let i = 0, n = sub_menu_list.length; i < n; i += 1) {\n          for (var j in sidebaritems) {\n            if (\n              sidebaritems[j].name === sub_menu_list[i].MenuItem &&\n              Boolean(sidebaritems[j].page_path && sidebaritems[j].master_menu === sub_menu_list[i].MasterMenu)\n            ) {\n              // console.log(sidebaritems[j].name)\n              menu[sub_menu_list[i].MasterMenu].sub_menu_list.push(\n                sidebaritems[j]\n              );\n            }\n          }\n        }\n      } catch (e) {\n        console.log(e);\n        // debugger;\n      }\n      menu = Object.values(menu);\n\n      // for (let i = 0, n = message.length; i < n; i += 1) {\n      //   if (message[i].Enabled && message[i].IsMasterMenu) {\n      //     let menuFilter = sidebaritems.filter((sidebar) => {\n      //       return (\n      //         sidebar.name === message[i].MenuItem && Boolean(sidebar.svg_html)\n      //       );\n      //     });\n      //     if (menuFilter.length > 0) {\n      //       main_menu = menuFilter[0];\n      //     }\n      //   } else if (\n      //     message[i].HasSubMenus == false &&\n      //     message[i].Enabled &&\n      //     message[i].IsSubMenu &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     for (var j in sidebaritems) {\n      //       if (\n      //         sidebaritems[j].name === message[i].MenuItem &&\n      //         Boolean(sidebaritems[j].page_path)\n      //       ) {\n      //         submenus.push(sidebaritems[j]);\n      //       }\n      //     }\n      //   }\n      //   if (\n      //     i == n - 1 ||\n      //     (message[i].IsMasterMenu == true &&\n      //       message[i].HasSubMenus === false &&\n      //       !Boolean(message[i].IsSubMenu) &&\n      //       message[i].Enabled)\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   } else if (\n      //     i < n - 1 &&\n      //     message[i + 1].IsMasterMenu &&\n      //     (!Boolean(message[i + 1].IsSubMenu) ||\n      //       message[i + 1].HasSubMenus == true) &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   }\n      // }\n      this.$session.set(\"ChatbotMenu\", menu);\n      this.$router.push(\"/bot/dashboard\");\n    }\n  },\n};\n</script>\n\n<style scoped>\n    .search-container{\n      float: right;\n    }\n\n    .form-search{\n      position:absolute;\n      top: 2px;\n      right: 91px;\n      border: none;\n    }\n\n    .input-field{\n      border: solid 1px #DBE2E8;\n      height: 34px;\n      width: 300px;\n      border-radius: .25rem;\n    }\n\n    input[type=text]{\n      /* background-color: #f8f8f8;\n      padding-left: 6px; */\n      padding: 10px 15px;\n      display: inline-block;\n      font-size: 14px;\n      font-weight: 400;\n      background: #fff;\n      color: #9499AE;\n      outline: none;\n    }\n\n    .btn-submit{\n      border:none;\n      position: absolute;\n      line-height: 30px;\n      margin: 0px;\n      padding: 0 10px;\n      top: 0;\n      right: 18px;\n      cursor: pointer;\n      border-top-right-radius: 5px;\n      border-bottom-right-radius: 5px;\n    }\n\n@media screen and (max-width:991px) {\n  .form-search{\n    right: -71px;\n  }\n  \n}\n@media screen and (max-width:767px) {\n  .form-search{\n    right: -12rem;\n  }\n  \n}\n@media screen and (min-width: 431px) and (max-width:576px) {\n  .form-search{\n    right: -2rem;\n  }\n}\n\n@media screen and (max-width:430px) {\n  .form-search{\n    right: -8rem;\n  }\n}\n@media screen and (max-width:375px) {\n  .form-search{\n    right: -11rem;\n  }  \n}\n\n@media screen and (max-width:320px) {\n  .form-search{\n    right: -14.3rem;\n  }\n}\n</style>"]}]}