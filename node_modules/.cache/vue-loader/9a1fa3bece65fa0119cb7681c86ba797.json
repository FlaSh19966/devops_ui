{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/TrainTestBot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/TrainTestBot.vue","mtime":1663910265466},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCAsIGNsb3NlX21vZGFsfSBmcm9tICJAL3BvcnRhbC9taXhpbnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUcmFpblRlc3RCb3RQYWdlIiwKICBtaXhpbnM6IFsKICAgIGZyZWV6ZV9wb3J0YWwsCiAgICBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwsCiAgICBjbG9zZV9tb2RhbAogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlcl9zdGF0dXM6IkZhaWx1cmUiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICBxdWVzdGlvbnNfbGlzdDogW10sCiAgICAgIGludGVudF9saXN0OiBbXSwKICAgICAgY3VycmVudF9zZWxlY3RlZF9pbnRlbnQ6IG51bGwsCiAgICAgIHNlbGVjdGVkX3F1ZXN0aW9uX2luZGV4OiBudWxsLAogICAgICBjdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnM6IFtdLAogICAgICBzdGF0dXNfbGlzdDogWyJTdWNjZXNzIiwgIkZhaWx1cmUiXSwKICAgICAgc2VsZWN0ZWRfc3RhdHVzbGlzdDogWyJGYWlsdXJlIl0sCiAgICAgIGNvbXBhbnlfaWQ6IG51bGwsCiAgICAgIGNvbXBhbnlfbmFtZTogbnVsbCwKICAgICAgZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgZmlsZV9jb250ZW50OiAiIiwKICAgICAgcGFnZV9ubzogMSwKICAgICAgbnVtYmVyX29mX3Jvd3M6IDAsCiAgICAgIHRvdGFsX3BhZ2VzOiAxLAogICAgICBwZXJfcGFnZTogMjAsCiAgICAgIHBhZ2VfYXJyYXk6IFtdLAogICAgICBzaG93X25vX3F1ZXN0aW9uc19tZXNzYWdlOiBmYWxzZSwKICAgICAgaW50ZW50X21vZGVsX2lucHJvZ3Jlc3M6IGZhbHNlLAogICAgICB3YW50X3N0YXR1czogdHJ1ZSwKICAgICAgZnVsbHNjcmVlbjogZmFsc2UsCiAgICAgIGRpc2FibGVfYnRuX2V4cGlyZWQ6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgCiAgICB0aGlzLiRyb290LiRvbigiVHJhaW5UZXN0Qm90UGFnZURpc2FibGVkIiwgKGRhdGEpID0+ewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSkKCiAgICAvLyB0aGlzLmNvbXBhbnlfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgIGlmICgKICAgICAgIXRoaXMuJHNlc3Npb24uaGFzKCJDb21wYW55SWQiKSAmJgogICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIKICAgICkgewogICAgICB0b2FzdHIud2FybmluZyh0aGlzLnRsdCgnc2VsZWN0X2NvbXBhbnlfbmFtZV9sYWJlbCcpKTsKICAgIH0gZWxzZSBpZiAodGhpcy51c2VyX3JvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikpIHsKICAgICAgICB0aGlzLmNvbXBhbnlfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgICAgdGhpcy5jb21wYW55X25hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbXBhbnlfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgICB0aGlzLmNvbXBhbnlfbmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueV9pZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICB0aGlzLmNvbXBhbnlfbmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICB9CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCgiLmRyb3Bkb3duIikub24oImhpZGUuYnMuZHJvcGRvd24iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gdmFyIHggPSAkKGV2ZW50LnJlbGF0ZWRUYXJnZXQpLnRleHQoKTsgLy8gR2V0IHRoZSB0ZXh0IG9mIHRoZSBlbGVtZW50CiAgICAgIC8vIGFsZXJ0KHgpOwogICAgICAvLyBjb25zb2xlLmxvZyh2bS5zZWxlY3RlZF9zdGF0dXNsaXN0KTsKICAgIH0pOwogICAgJCgiI215TW9kYWwiKS5vbigiaGlkZGVuLmJzLm1vZGFsIiwgKCkgPT4gewogICAgICB2bS5jdXJyZW50X3NlbGVjdGVkX2ludGVudCA9IG51bGw7CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJzZW5kX21vZGVsX3N0YXR1cyIsIGRhdGEgPT57CiAgICAgIGlmIChkYXRhID09IHRydWUpewogICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X21vZGVsX3N0YXR1cygpOwogICAgICB9CiAgICB9KQogICAgdGhpcy5nZXRfaW50ZW50c19saXN0KCk7CiAgICB0aGlzLmluaXRpYWxpemVfcXVlc3Rpb25zX2Zvcl9pbnRlbnQoKTsKICAgIHRoaXMuZ2V0X3F1ZXN0aW9uc19saXN0KCk7CiAgICB0aGlzLmNoZWNrX2ludGVudF9tb2RlbF9zdGF0dXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoa19jYnhfY3JzcihpbmRleCl7CiAgICAgIGlmKHRoaXMuc2hvd19ub19xdWVzdGlvbnNfbWVzc2FnZSl7CiAgICAgICAgaWYoaW5kZXggPT0gJ3N0eWxlJyl7CiAgICAgICAgICByZXR1cm4gImN1cnNvcjogbm90LWFsbG93ZWQiOwogICAgICAgIH1lbHNlIGlmKGluZGV4ID09ICd0aXRsZScpewogICAgICAgICAgcmV0dXJuIHRoaXMudGx0KCd0cmFpbl9ib3Rfbm9fZmFpbHVyZV9kYXRhX21zZycpOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzKCl7CiAgICB0aGlzLm1vZGVsX3N0YXR1cyA9IHRoaXMuJHNlc3Npb24uZ2V0KCJNb2RlbFN0YXR1cyIpOwogICAgaWYgKHRoaXMubW9kZWxfc3RhdHVzID09ICJObyBGYWlsdXJlIil7CiAgICB0aGlzLmludGVudF9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICB9CiAgICBlbHNlIGlmIChCb29sZWFuKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCkgPT09IHRydWUpewogICAgIGlmKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIpewogICAgICAgdGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9IHRydWU7CiAgICAgfQogICAgIGVsc2V7CiAgICAgICB0aGlzLmludGVudF9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgfQogICAgfQogICAgZWxzZXsKICAgICAgdGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOyAKICAgIH0KICAgIH0sCiAgICBzaG93X21vZGVsX3Byb2dyZXNzKGluZGV4KXsKICAgICAgaWYodGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9PSB0cnVlKXsKICAgICAgICAgaWYgKGluZGV4ID09ICdzdHlsZScpewogICAgICAgICAgICByZXR1cm4gImN1cnNvcjogbm90LWFsbG93ZWQiOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihpbmRleCA9PSAndGl0bGUnKXsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy50bHQoJ3RyYWluX2JvdF90cmFpbmluZ19pbl9wcm9ncmVzc19tc2cnKTsKICAgICAgICAgIH0KICAgICAgfQogICAgICBlbHNlewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgZ2V0X3F1ZXN0aW9uc19saXN0KCkgewogICAgICB0aGlzLnNob3dfbm9fcXVlc3Rpb25zX21lc3NhZ2UgPSBmYWxzZTsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICB0aGlzLnF1ZXN0aW9uc19saXN0ID0gW107CiAgICAgIGF4aW9zCiAgICAgICAgLmdldChhcGlfY2FsbHMudGVzdF9pbnRlbnRfbW9kZWwoKSwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgbmV3X3F1ZXN0aW9uX2RhdGE6IHRoaXMubmV3X3F1ZXN0aW9uX2RhdGEsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBzdGF0dXM6IHRoaXMuc2VsZWN0ZWRfc3RhdHVzbGlzdCwKICAgICAgICAgICAgcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgICB9LAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWV9NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5zaG93X25vX3F1ZXN0aW9uc19tZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX3BhZ2U7CiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25zX2xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gU3dhbCh7CiAgICAgICAgICAgIC8vICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgLy8gICB0ZXh0OiB0aGlzLnRsdCgndHJhaW5fYm90X2ludGVybmFsX3NlcnZlcl9tc2cxJyksCiAgICAgICAgICAgIC8vICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCd0cmFpbl9ib3RfaW50ZXJuYWxfc2VydmVyX21zZzInKSwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgb3Blbl9tb2RhbF9mb3JfaW50ZW50KGluZGV4KSB7CiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnQgPSB0aGlzLnF1ZXN0aW9uc19saXN0W2luZGV4XS5FeHBlY3RlZEludGVudDsKICAgICAgdGhpcy5zZWxlY3RlZF9xdWVzdGlvbl9pbmRleCA9IGluZGV4OwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnNbCiAgICAgICAgICBpCiAgICAgICAgXS5pbnRlbnQgPSBgJHt0aGlzLmNvbXBhbnlfaWR9XyR7dGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudH1gOwogICAgICB9CiAgICAgIC8vICQoIiNteU1vZGFsIikubW9kYWwoInNob3ciKTsKICAgIH0sCiAgICBhZGRfcXVlc3Rpb24oKSB7CiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zLnVuc2hpZnQoewogICAgICAgIHF1ZXN0aW9uOiBudWxsLAogICAgICAgIGludGVudDogYCR7dGhpcy5jb21wYW55X2lkfV8ke3RoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnR9YCwKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlX3F1ZXN0aW9uKGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9ucy5sZW5ndGggPiAxKSB7CiAgICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCd0cmFpbl9ib3Rfb25lX3FzX3RvX2JlX2FkZGVkX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1yaWdodCIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldF9pbnRlbnRzX2xpc3QoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMuZ2V0X3VuYW5zd2VyZWRfdXJsKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgaXNEcm9wZG93bjogIlRydWUiLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZih0aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpewogICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEuZGF0YVswXSkgewogICAgICAgICAgICAgIHRoaXMuaW50ZW50X2xpc3QucHVzaCgKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZGF0YVswXVtpXS5yZXBsYWNlKHRoaXMuY29tcGFueV9pZCArICJfIiwgIiIpCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfWVsc2UgIGlmKHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpewogICAgICAgICAgICB0b2FzdHIuZXJyb3IodGhpcy50bHQoJ2FkZF9yb2xlX2ludGVybmFsX3NlcnZlcl9tc2czJykpOwogICAgICAgICAgfQogICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBzYXZlX3F1ZXN0aW9uc19mb3JfaW50ZW50KCkgewogICAgICBpZiAoQm9vbGVhbih0aGlzLnNlbGVjdGVkX3F1ZXN0aW9uX2luZGV4KSkgewogICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zLnB1c2goewogICAgICAgICAgcXVlc3Rpb246IHRoaXMucXVlc3Rpb25zX2xpc3RbdGhpcy5zZWxlY3RlZF9xdWVzdGlvbl9pbmRleF0uUXVlc3Rpb24sCiAgICAgICAgICBpbnRlbnQ6IGAke3RoaXMuY29tcGFueV9pZH1fJHt0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50fWAsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgbGV0IHF1ZXN0aW9uc19saXN0ID0gdGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnMuZmlsdGVyKAogICAgICAgIChxdWVzdGlvbikgPT4gewogICAgICAgICAgcmV0dXJuIEJvb2xlYW4ocXVlc3Rpb24ucXVlc3Rpb24pOwogICAgICAgIH0KICAgICAgKTsKICAgICAgJCgiI215TW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMuYWRkX3F1ZXN0aW9uX3VybCgpLAogICAgICAgICAgewogICAgICAgICAgICBlZGl0X2ludGVudDogZmFsc2UsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgbmV3X3F1ZXN0aW9uX2RhdGE6IHF1ZXN0aW9uc19saXN0LAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmluaXRpYWxpemVfcXVlc3Rpb25zX2Zvcl9pbnRlbnQoKTsKICAgICAgICAgIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ3RyYWluX2JvdF9pbnRlcm5hbF9zZXJ2ZXJfbXNnMycpLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCd0cmFpbl9ib3RfcXNfYWRkZWRfbXNnJyksCiAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfcXVlc3Rpb25zX2xpc3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5RVUVTVElPTl9FRElUX0ZBSUxFRC5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCd0cmFpbl9ib3RfcXNfYWxyZWFkeV9leGlzdF9tc2cnKSwKICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLlFVRVNUSU9OX0VESVRfRkFJTEVELk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5FRElUX1FVRVNUSU9OX0lOVEVOVC5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCd0cmFpbl9ib3RfaW50ZXJuYWxfc2VydmVyX21zZzUnKSwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jbG9zZV9tb2RhbCgndHJhaW50ZXN0X3NhdmVfYnRuJykKICAgIH0sCiAgICBpbml0aWFsaXplX3F1ZXN0aW9uc19mb3JfaW50ZW50KCkgewogICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9ucyA9IFsKICAgICAgICB7CiAgICAgICAgICBxdWVzdGlvbjogbnVsbCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHF1ZXN0aW9uOiBudWxsLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcXVlc3Rpb246IG51bGwsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBxdWVzdGlvbjogbnVsbCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHF1ZXN0aW9uOiBudWxsLAogICAgICAgIH0sCiAgICAgIF07CiAgICB9LAogICAgZG93bmxvYWRfc2FtcGxlKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLnF1ZXN0aW9uX2ludGVudF9jc3YoKSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAvLyB3aW5kb3cub3BlbihyZXNwb25zZS5kYXRhLkNTVl9VUkwsICJfYmxhbmsiKTsKICAgICAgICAgIGlmKHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSl7CiAgICAgICAgICAgIHZhciBhID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgYS5ocmVmID0gcmVzcG9uc2UuZGF0YS5DU1ZfVVJMOwogICAgICAgICAgICBhLmRvd25sb2FkID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgICAgYS5jbGljaygpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpOwogICAgICAgICAgfSBlbHNlIGlmKHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBjbGVhcl9maWxlX2RldGFpbHMoKSB7CiAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgIHRoaXMuZmlsZV9jb250ZW50ID0gIiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEdyb3VwRmlsZTAxIikudmFsdWUgPSAiIjsKICAgIH0sCiAgICBmaWxlaW5wdXQoKSB7CiAgICAgIHRoaXMuZmlsZV9sYWJlbCA9IGV2ZW50LnRhcmdldC5maWxlc1swXS5uYW1lOwogICAgICAvLyB2YXIgZmlsZV9uYW1lID0gdGhpcy5jb21wYW55bmFtZSArICJJbnRlbnRGaWxlLmNzdiI7CiAgICAgIC8vIGlmICh0aGlzLmZpbGVfbGFiZWwgIT0gZmlsZV9uYW1lKSB7CiAgICAgIC8vICAgU3dhbCh7CiAgICAgIC8vICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAvLyAgICAgdGV4dDoKICAgICAgLy8gICAgICAgIlVzZXJzIG5lZWQgdG8gZG93bmxvYWQgdGhlIEludGVudCBGaWxlIGZyb20gJ1VwbG9hZCBDU1YgRmlsZXMnIHBvcC11cC4gQ2hhbmdlcyB0byB0aGlzIGZpbGUgd2lsbCBiZSBhY2NlcHRlZCBieSB0aGUgc3lzdGVtLiIsCiAgICAgIC8vICAgfSk7CiAgICAgIC8vICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgdGhpcy5maWxlX2NvbnRlbnQgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIC8vIH0KICAgIH0sCiAgICBmaWxlX3N1Ym1pdCgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHVzZXJfZGV0YWlscyA9IHsKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIH07CiAgICAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcl9kZXRhaWxzKTsKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsKICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgIH0pOwogICAgICBpZiAodGhpcy5maWxlX2xhYmVsID09ICJDaG9vc2UgZmlsZSIpIHsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZkLmFwcGVuZCgKICAgICAgICAgICJmaWxlIiwKICAgICAgICAgIHRoaXMuZmlsZV9jb250ZW50LAogICAgICAgICAgdGhpcy5jb21wYW55X25hbWUgKyAiUXVlc3Rpb25zRmlsZS5jc3YiCiAgICAgICAgKTsKICAgICAgICBmZC5hcHBlbmQoImpzb24iLCBibG9iKTsKICAgICAgICAkKCIjZmlsZV91cGxvYWQiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnRlc3RfaW50ZW50X21vZGVsKCksIGZkLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJSZXN1bHRzIHdvdWxkIGJlIGF2YWlsYWJsZSBzb29uIikgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCd0cmFpbl9ib3RfZmlsZV9zdWJtaXRfbXNnJyksCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgLy8gJCgnI2ZpbGVfdXBsb2FkJykubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZF9xdWVzdGlvbnNfcmVzcG9uc2UoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgndHJhaW5fYm90X2Vycm9yX29jY3VyX21zZzEnKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIC8vICQoJyNmaWxlX3VwbG9hZCcpLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkX3F1ZXN0aW9uc19yZXNwb25zZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICQoIiNmaWxlX3VwbG9hZCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3RyYWluX2JvdF9lcnJvcl9vY2N1cl9tc2cyJyksCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAvLyAkKCcjZmlsZV91cGxvYWQnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEdyb3VwRmlsZTAxIikudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgIHRoaXMubG9hZF9xdWVzdGlvbnNfcmVzcG9uc2UoKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdlX3JlcXVpcmUocGFnZSkgewogICAgICBpZiAocGFnZSA9PSAwIHx8IHBhZ2UgPT0gdGhpcy50b3RhbF9wYWdlcyArIDEpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChwYWdlID09ICIuLi5zIikgewogICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgIH0gZWxzZSBpZiAocGFnZSA9PSAiLi4ubCIpIHsKICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wYWdlX25vID0gcGFnZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0X3F1ZXN0aW9uc19saXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRwYWdpbmF0aW9uKHBhZ2Vfbm8pIHsKICAgICAgdGhpcy5wYWdlX2FycmF5ID0gW107CiAgICAgIGlmICh0aGlzLnRvdGFsX3BhZ2VzIDw9IDcpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IDEpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcykgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudG90YWxfcGFnZXMgLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPD0gNCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZV9ubyArIDM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPj0gdGhpcy50b3RhbF9wYWdlcyAtIDQpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwogICAgICAgIGZvciAobGV0IGkgPSBwYWdlX25vIC0gNDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwogICAgICAgIGZvciAobGV0IGkgPSBwYWdlX25vIC0gMzsgaSA8PSBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZSgpIHsKICAgICAgLy8gdGhpcy4kZnVsbHNjcmVlbi50b2dnbGUoKGRvY3VtZW50LmJvZHkpLCB7CiAgICAgIHRoaXMuJGZ1bGxzY3JlZW4udG9nZ2xlKHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoIi5kYXNoLWNvbnQiKSwgewogICAgICAgIHdyYXA6IGZhbHNlLAogICAgICAgIGNhbGxiYWNrOiB0aGlzLmZ1bGxzY3JlZW5DaGFuZ2UsCiAgICAgIH0pOwogICAgfSwKICAgIGZ1bGxzY3JlZW5DaGFuZ2UoZnVsbHNjcmVlbikgewogICAgICB0aGlzLmZ1bGxzY3JlZW4gPSBmdWxsc2NyZWVuOwogICAgfSwKICAgIHRyYWluX2FuZF90ZXN0X21vZGVsKCkgewogICAgICBpZighdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKXsKICAgICAgU3dhbCh7CiAgICAgICAgdGl0bGU6IHRoaXMudGx0KCd0cmFpbl9ib3Rfc3dhbF9hbGVydF9tc2cnKSwKICAgICAgICB0ZXh0OiB0aGlzLnRsdCgndHJhaW5fYm90X3N3YWxfdHJhaW5fbW9kZWxfbXNnMicpLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLnRsdCgndHJhaW5fYm90X3N3YWxfY29uZmlybV9tc2cnKSwKICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICBhcGlfY2FsbHMudHJhaW5faW50ZW50X21vZGVsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0ZXN0X21vZGVsOiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy53YW50X3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgid2FudF9tb2RlbF9zdGF0dXMiLHRoaXMud2FudF9zdGF0dXMpOwogICAgICAgICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X21vZGVsX3N0YXR1cygpOwogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gMjAwMDAwOTEpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3RyYWluX2JvdF9yZXN1bHRfYXZhaWxfbXNnJyksCiAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEuTVNHLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAzNTAwLAogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyAkKCcjZmlsZV91cGxvYWQnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZF9xdWVzdGlvbnNfcmVzcG9uc2UoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAvLyBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSAxMDM0KSB7CiAgICAgICAgICAgICAgLy8gICBzd2FsKHsKICAgICAgICAgICAgICAvLyAgICAgdGl0bGU6IHRoaXMudGx0KCd0cmFpbl9ib3RfbW9kZWxfZXJyb3Jfb2NjdXJfbXNnMScpLAogICAgICAgICAgICAgIC8vICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLk1TRywKICAgICAgICAgICAgICAvLyAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAvLyAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgICAgLy8gICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAvLyAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIC8vICAgICAgIC8vICQoJyNmaWxlX3VwbG9hZCcpLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAgICAgLy8gICAgICAgLy8gdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgLy8gICAgICAgLy8gdGhpcy5sb2FkX3F1ZXN0aW9uc19yZXNwb25zZSgpOwogICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgICAgICAvLyB9IAogICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgLy8gJCgnI2ZpbGVfdXBsb2FkJykubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcXVlc3Rpb25zX3Jlc3BvbnNlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gJCgiI2ZpbGVfdXBsb2FkIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgndHJhaW5fYm90X21vZGVsX2Vycm9yX29jY3VyX21zZzMnKSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgLy8gJCgnI2ZpbGVfdXBsb2FkJykubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcXVlc3Rpb25zX3Jlc3BvbnNlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7fWVsc2V7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKQogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbHRlcl9zdGF0dXMoKXsKICAgICAgaWYodGhpcy5maWx0ZXJfc3RhdHVzID09PSAgJ0ZhaWx1cmUnKXsKICAgICAgICB0aGlzLnNlbGVjdGVkX3N0YXR1c2xpc3QgPSBbIkZhaWx1cmUiXTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5zZWxlY3RlZF9zdGF0dXNsaXN0ID0gWyJTdWNjZXNzIl07CiAgICAgIH0KICAgICAgdGhpcy5wYWdlX25vID0gMTsKICAgICAgdGhpcy5wZXJfcGFnZSA9IDIwOwogICAgfSwKICAgIHNlbGVjdGVkX3N0YXR1c2xpc3QobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfc3RhdHVzbGlzdCA9IFsiU3VjY2VzcyIsICJGYWlsdXJlIl07CiAgICAgICAgICB0aGlzLmdldF9xdWVzdGlvbnNfbGlzdCgpOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5nZXRfcXVlc3Rpb25zX2xpc3QoKTsKICAgICAgfQogICAgfSwKICAgIGN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChCb29sZWFuKG9sZFZhbCkgJiYgQm9vbGVhbihuZXdWYWwpKSB7CiAgICAgICAgZm9yICgKICAgICAgICAgIGxldCBpID0gMCwgbiA9IHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zLmxlbmd0aDsKICAgICAgICAgIGkgPCBuOwogICAgICAgICAgaSsrCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9uc1sKICAgICAgICAgICAgaQogICAgICAgICAgXS5pbnRlbnQgPSBgJHt0aGlzLmNvbXBhbnlfaWR9XyR7dGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudH1gOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["TrainTestBot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0eA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TrainTestBot.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Data Inputs","sourcesContent":["<template>\n  <div>\n    <div class=\"dash-cont\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-act card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          >\n            <!-- <button type=\"button\" @click=\"toggle\" >Fullscreen</button> -->\n            <h4 class=\"mb-sm-0 mr-3\">{{tlt('improve_predict_heading')}}</h4>\n            <div class=\"radio my-auto\">\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"Success\"\n                  id=\"filter_status_success\"\n                />\n                <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                {{tlt('improve_predict_success_label')}}\n              </label>\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"Failure\"\n                  id=\"filter_status_failure\"\n                />\n                <span class=\"icn\"></span> {{tlt('improve_predict_failure_label')}}\n              </label>\n            </div>\n            <i\n              class=\"fa fa-expand ml-auto mr-3 mt-auto mb-auto\"\n              @click=\"toggle\"\n              aria-hidden=\"true\"\n              v-if=\"!fullscreen\"\n            ></i>\n            <i\n              class=\"fa fa-compress ml-auto mr-3 mt-auto mb-auto\"\n              @click=\"toggle\"\n              aria-hidden=\"true\"\n              v-if=\"fullscreen\"\n              title=\"Toggle Fullscreen\"\n            ></i>\n            <!-- <button\n              type=\"submit\"\n              class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n              data-target=\"#file_upload\"\n            >  -->\n            <button :style=\"chk_cbx_crsr('style') || show_model_progress('style')\"\n              :title=\"chk_cbx_crsr('title') || show_model_progress('title')\"\n              :disabled=\"show_no_questions_message || intent_model_inprogress == true\"\n              id=\"train_and_test_btn\" class=\"darkblue-btn\"\n              @click=\"train_and_test_model\">\n              <i class=\"fa fa-spinner fa-spin\" v-show=\"intent_model_inprogress\"></i>\n              {{tlt('train_and_test_btn')}}\n            </button>\n          </div>\n          <div class=\"card-body\" id=\"page\">\n            <!-- <div class=\"dropdown ml-auto\" style=\"z-index:1000000\"> -->\n            <!-- <i class=\"fa fa-filter dropdown-toggle\" aria-hidden=\"true\" data-toggle=\"dropdown\"></i> -->\n            <!-- <ul class=\"dropdown-menu \">\n                        <table style=\"width: 100%;\">\n                            <tr\n                            v-for=\"(status,index) in status_list\"\n                            :key=\"index\"\n                            >\n                            <td style=\"display:flex;width: auto; text-align:center\"\n                            >\n                                <input\n                                v-model=\"selected_statuslist\"\n                                type=\"checkbox\"\n                                :id=\"status.replace(/\\s/g,'')+'_checkbox'\"\n                                :value=\"status\"\n                                style=\"margin-top: auto;margin-bottom: auto;\"\n                                >\n                                <label\n                                :for=\"status.replace(/\\s/g,'')+'_checkbox'\"\n                                :title=\"status\"\n                                style=\"margin: auto;\"\n                                >\n                                {{status}}</label>\n                            </td>\n                            </tr>\n                        </table>\n                        </ul> -->\n            <!-- </div> -->\n            <div class=\"dropdown\">\n              <div class=\"table-box\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">{{tlt('improve_predict_question')}}</th>\n                      <th scope=\"col\">{{tlt('improve_predict_expect_intent')}}</th>\n                      <th scope=\"col\">{{tlt('improve_predict_intent')}}</th>\n                      <th scope=\"col\">{{tlt('improve_predict_confidence')}}</th>\n                      <!-- <th scope=\"col\" style=\"min-height: 63px;\">Status</th> -->\n                      <!-- <th\n                        scope=\"col\"\n                        style=\"\n                          display: flex;\n                          min-height: 63px;\n                          margin-top: auto;\n                        \"\n                      >\n                        <div class=\"mt-auto d-flex\">\n                          Status\n                          <i\n                            class=\"fa fa-filter\"\n                            aria-hidden=\"true\"\n                            data-toggle=\"dropdown\"\n                            style=\"cursor: pointer\"\n                          ></i>\n                          <ul\n                            class=\"dropdown-menu p-0\"\n                            style=\"margin-top: 0.6rem\"\n                          >\n                            <table style=\"width: 100%\">\n                              <tr\n                                v-for=\"(status, index) in status_list\"\n                                :key=\"index\"\n                              >\n                                <td\n                                  style=\"\n                                    display: flex;\n                                    width: auto;\n                                    text-align: center;\n                                  \"\n                                >\n                                  <input\n                                    v-model=\"selected_statuslist\"\n                                    type=\"checkbox\"\n                                    :id=\"\n                                      status.replace(/\\s/g, '') + '_checkbox'\n                                    \"\n                                    :value=\"status\"\n                                    style=\"\n                                      margin-top: auto;\n                                      margin-bottom: auto;\n                                    \"\n                                  />\n                                  <label\n                                    :for=\"\n                                      status.replace(/\\s/g, '') + '_checkbox'\n                                    \"\n                                    :title=\"status\"\n                                    style=\"margin: auto\"\n                                  >\n                                    {{ status }}</label\n                                  >\n                                </td>\n                              </tr>\n                            </table>\n                          </ul>\n                        </div>\n                      </th> -->\n                      <th scope=\"col\">{{tlt('improve_label')}}</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-if=\"show_no_questions_message\">\n                      <td colspan=\"7\" style=\"text-align: center\">\n                        {{tlt('improve_predict_no_question_available')}}\n                        <i style=\"cursor: pointer\" @click=\"get_questions_list\">\n                          <b> {{tlt('improve_predict_no_question_available_text2')}} </b>\n                        </i>\n                        {{tlt('improve_predict_no_question_available_text3')}}\n                      </td>\n                    </tr>\n                    <tr\n                      v-for=\"(question, index) in questions_list\"\n                      :key=\"index\"\n                    >\n                      <td>{{ index + 1 }}</td>\n                      <td>{{ question.Question }}</td>\n                      <td>{{ question.ExpectedIntent }}</td>\n                      <td>{{ question.ResultIntent }}</td>\n                      <td style=\"text-align: center\">\n                        {{ question.PredictionConfidence }}%\n                      </td>\n                      <!-- <td>{{ question.Status }}</td> -->\n                      <td class=\"text-center\">\n                        <!-- <button class=\"darkblue-btn\" data-toggle=\"modal\" data-target=\"#myModal\" @click=\"open_modal_for_intent(index)\">\n                          Train\n                        </button> -->\n                        <button\n                          class=\"save_node_button\"\n                          data-toggle=\"modal\"\n                          data-target=\"#myModal\"\n                          @click=\"open_modal_for_intent(index)\"\n                          style=\"height: 29px; padding: 0px 10px\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"14\"\n                            height=\"13.997\"\n                            viewBox=\"0 0 14 13.997\"\n                          >\n                            <path\n                              id=\"Union_13\"\n                              data-name=\"Union 13\"\n                              d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                              transform=\"translate(12690.001 -2045.002)\"\n                              fill=\"#fff\"\n                            />\n                          </svg>\n                        </button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"pagin-table\" style=\"margin-top: 2%; margin-bottom: 4%\">\n          <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no - 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-left\"\n                      transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n              <li\n                class=\"page-item\"\n                :class=\"{ active: page === page_no }\"\n                v-for=\"(page, index) in page_array\"\n                :key=\"index\"\n              >\n                <a\n                  v-if=\"page == '...s' || page == '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >...</a\n                >\n                <a\n                  v-if=\"page != '...s' && page != '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >{{ page }}</a\n                >\n                <!-- <a class=\"page-link\" href=\"#\" @click=\"page_require(page)\">{{page}}</a> -->\n              </li>\n\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no + 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-right\"\n                      transform=\"translate(-97.139 0)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n        <div\n          id=\"myModal\"\n          class=\"modal fade dash-modal\"\n          role=\"dialog\"\n          data-backdrop=\"static\"\n          data-keyboard=\"false\"\n        >\n          <div class=\"modal-dialog modal-lg\">\n            <!-- Modal content-->\n            <div class=\"modal-content\" style=\"width: 135%; margin-left: -17%\">\n              <form >\n                <div class=\"modal-header\" style=\"width: 808px\">\n                  <h5 class=\"modal-title\">\n                    {{tlt('train_model_add_qs_for_intent_label')}}\n                    <!-- {{current_selected_intent}} -->\n                  </h5>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <img src=\"/img/close-icn.png\" alt />\n                  </button>\n                </div>\n                <div class=\"modal-body py-3 px-3\" style=\"width: 808px\">\n                  <!-- <p>Some text in the modal.</p> -->\n                  <div class=\"form-group\">\n                    <label for=\"text\">{{tlt('train_model_add_qs_for_intent_label')}}</label>\n                    <multiselect\n                      v-model=\"current_selected_intent\"\n                      :options=\"intent_list\"\n                      :searchable=\"true\"\n                      :close-on-select=\"true\"\n                      :show-labels=\"false\"\n                    >\n                      <span>{{ current_selected_intent }}</span>\n                    </multiselect>\n                  </div>\n                  <div class=\"form-group\" style=\"margin-bottom: 4px\">\n                    <label> {{tlt('train_model_add_qs_label')}} </label>\n                    <button\n                      class=\"save_node_button\"\n                      @click=\"add_question\"\n                      type=\"button\"\n                      style=\"height: 29px; padding: 0px 10px\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"14\"\n                        height=\"13.997\"\n                        viewBox=\"0 0 14 13.997\"\n                      >\n                        <path\n                          id=\"Union_13\"\n                          data-name=\"Union 13\"\n                          d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                          transform=\"translate(12690.001 -2045.002)\"\n                          fill=\"#fff\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                  <div\n                    style=\"display: flex; margin-top: 2%\"\n                    v-for=\"(\n                      question, index\n                    ) in current_selected_intent_questions\"\n                    :key=\"index\"\n                  >\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      style=\"height: 40px !important; padding-left: 12px\"\n                      v-model=\"question.question\"\n                      required\n                      :placeholder=\"tlt('add_question')\"\n                    />\n                    <button\n                      class=\"save_node_button\"\n                      style=\"\n                        margin-left: 3%;\n                        height: 39px;\n                        padding: 0px 10px;\n                        background: #f23d3d;\n                        border: solid 1px #f23d3d;\n                      \"\n                      @click=\"delete_question(index)\"\n                      type=\"button\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"14\"\n                        height=\"14\"\n                        viewBox=\"0 0 14 14\"\n                      >\n                        <path\n                          id=\"trash-can-outline\"\n                          d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                          transform=\"translate(-4 -3)\"\n                          fill=\"#fff\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                  <div class=\"btn-wrap text-right mx-0 mt-3 mb-0 px-0 pt-3 pb-0\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-dismiss=\"modal\"\n                    >\n                      {{tlt('train_model_cancel_btn')}}\n                    </button>\n                    <button type=\"submit\" class=\"darkblue-btn\" @click.prevent=\"save_questions_for_intent\" id=\"traintest_save_btn\">\n                      {{tlt('train_model_save_btn')}}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"modal fade dash-modal\"\n          id=\"file_upload\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"exampleModalCenterTitle\"\n          aria-hidden=\"true\"\n          data-backdrop=\"static\"\n          data-keyboard=\"false\"\n        >\n          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-body\">\n                <div class=\"modal-head d-flex align-items-center\">\n                  <div class=\"head-icn\">\n                    <img src=\"/img/msg-blue.png\" alt />\n                  </div>\n                  <h3>Upload CSV Files</h3>\n                </div>\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                  @click=\"clear_file_details\"\n                >\n                  <img src=\"/img/close-icn.png\" alt />\n                </button>\n                <form @submit.prevent=\"file_submit\">\n                  <div class=\"form-group\">\n                    <div class=\"custom-file\">\n                      <input\n                        type=\"file\"\n                        accept=\".csv\"\n                        class=\"custom-file-input\"\n                        id=\"inputGroupFile01\"\n                        @change=\"fileinput\"\n                        aria-describedby=\"inputGroupFileAddon01\"\n                      />\n                      <label\n                        style=\"font-weight: 400; line-height: 15px\"\n                        class=\"custom-file-label form-control\"\n                        for=\"file\"\n                        >{{ file_label }}</label\n                      >\n                    </div>\n                  </div>\n                  <div class=\"btn-wrap text-right\">\n                    <a href=\"#\" @click=\"download_sample\">\n                      Download Sample CSV\n                      <i class=\"fa fa-spinner fa-spin\" v-show=\"spinnerOn\"></i>\n                    </a>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-dismiss=\"modal\"\n                      @click=\"clear_file_details\"\n                    >\n                      Cancel\n                    </button>\n                    <button type=\"submit\" class=\"darkblue-btn\">Submit</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Swal from \"sweetalert2\";\nimport swal from \"sweetalert2\";\nimport Multiselect from \"vue-multiselect\";\nimport { freeze_portal,show_subscription_expired_swal , close_modal} from \"@/portal/mixins\";\n\nexport default {\n  name: \"TrainTestBotPage\",\n  mixins: [\n    freeze_portal,\n    show_subscription_expired_swal,\n    close_modal\n  ],\n  data() {\n    return {\n      filter_status:\"Failure\",\n      spinnerOn: false,\n      questions_list: [],\n      intent_list: [],\n      current_selected_intent: null,\n      selected_question_index: null,\n      current_selected_intent_questions: [],\n      status_list: [\"Success\", \"Failure\"],\n      selected_statuslist: [\"Failure\"],\n      company_id: null,\n      company_name: null,\n      file_label: \"Choose file\",\n      file_content: \"\",\n      page_no: 1,\n      number_of_rows: 0,\n      total_pages: 1,\n      per_page: 20,\n      page_array: [],\n      show_no_questions_message: false,\n      intent_model_inprogress: false,\n      want_status: true,\n      fullscreen: false,\n      disable_btn_expired: false,\n    };\n  },\n  components: {\n    Multiselect,\n  },\n  mounted() {\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    \n    this.$root.$on(\"TrainTestBotPageDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    })\n\n    // this.company_id = this.$session.get(\"UserInformation\").company_id;\n    if (\n      !this.$session.has(\"CompanyId\") &&\n      this.$session.get(\"UserInformation\").role == \"SuperAdmin\"\n    ) {\n      toastr.warning(this.tlt('select_company_name_label'));\n    } else if (this.user_role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.company_id = this.$session.get(\"CompanyId\");\n        this.company_name = this.$session.get(\"CompanyName\");\n      } else {\n        this.company_id = this.$session.get(\"UserInformation\").company_id;\n        this.company_name = this.$session.get(\"UserInformation\").company_name;\n      }\n    } else {\n      this.company_id = this.$session.get(\"UserInformation\").company_id;\n      this.company_name = this.$session.get(\"UserInformation\").company_name;\n    }\n    var vm = this;\n    $(\".dropdown\").on(\"hide.bs.dropdown\", function (event) {\n      // var x = $(event.relatedTarget).text(); // Get the text of the element\n      // alert(x);\n      // console.log(vm.selected_statuslist);\n    });\n    $(\"#myModal\").on(\"hidden.bs.modal\", () => {\n      vm.current_selected_intent = null;\n    });\n    this.$root.$on(\"send_model_status\", data =>{\n      if (data == true){\n        this.check_intent_model_status();\n      }\n    })\n    this.get_intents_list();\n    this.initialize_questions_for_intent();\n    this.get_questions_list();\n    this.check_intent_model_status();\n  },\n  methods: {\n    chk_cbx_crsr(index){\n      if(this.show_no_questions_message){\n        if(index == 'style'){\n          return \"cursor: not-allowed\";\n        }else if(index == 'title'){\n          return this.tlt('train_bot_no_failure_data_msg');\n        }\n      }else{\n        return null;\n      }\n    },\n    check_intent_model_status(){\n    this.model_status = this.$session.get(\"ModelStatus\");\n    if (this.model_status == \"No Failure\"){\n    this.intent_model_inprogress = false;\n    }\n    else if (Boolean(this.model_status.intent_model) === true){\n     if(this.model_status.intent_model == \"InProgress\"){\n       this.intent_model_inprogress = true;\n     }\n     else{\n       this.intent_model_inprogress = false;\n     }\n    }\n    else{\n      this.intent_model_inprogress = false; \n    }\n    },\n    show_model_progress(index){\n      if(this.intent_model_inprogress == true){\n         if (index == 'style'){\n            return \"cursor: not-allowed\";\n          }\n          else if(index == 'title'){\n              return this.tlt('train_bot_training_in_progress_msg');\n          }\n      }\n      else{\n        return null;\n      }\n    },\n    get_questions_list() {\n      this.show_no_questions_message = false;\n      this.spinnerOn = true;\n      this.questions_list = [];\n      axios\n        .get(api_calls.test_intent_model(), {\n          params: {\n            company_name: this.company_name,\n            company_id: this.company_id,\n            new_question_data: this.new_question_data,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            status: this.selected_statuslist,\n            pageno: this.page_no,\n            perpage: this.per_page,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then((response) => {\n          this.spinnerOn = false;\n          if (this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n            if (response.data.data.length === 0) {\n              this.show_no_questions_message = true;\n            }\n            this.total_pages = response.data.pagination.total_page;\n            this.questions_list = response.data.data;\n            this.setpagination(this.page_no);\n          } else {\n            // Swal({\n            //   type: \"error\",\n            //   text: this.tlt('train_bot_internal_server_msg1'),\n            //   timer: 2500,\n            // });\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\",\n              timer: 2500\n            })\n          }\n        })\n        .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: this.tlt('train_bot_internal_server_msg2'),\n              timer: 2500,\n            });\n          }\n        });\n    },\n    open_modal_for_intent(index) {\n      this.current_selected_intent = this.questions_list[index].ExpectedIntent;\n      this.selected_question_index = index;\n      for (let i = 0; i < this.current_selected_intent_questions.length; i++) {\n        this.current_selected_intent_questions[\n          i\n        ].intent = `${this.company_id}_${this.current_selected_intent}`;\n      }\n      // $(\"#myModal\").modal(\"show\");\n    },\n    add_question() {\n      this.current_selected_intent_questions.unshift({\n        question: null,\n        intent: `${this.company_id}_${this.current_selected_intent}`,\n      });\n    },\n    delete_question(index) {\n      if (this.current_selected_intent_questions.length > 1) {\n        this.current_selected_intent_questions.splice(index, 1);\n      } else {\n        swal({\n          type: \"warning\",\n          text: this.tlt('train_bot_one_qs_to_be_added_msg'),\n          toast: true,\n          position: \"top-right\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n      }\n    },\n    get_intents_list() {\n      axios\n        .post(\n          api_calls.get_unanswered_url(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            isDropdown: \"True\",\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          if(this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE){\n            for (var i in response.data.data[0]) {\n              this.intent_list.push(\n                response.data.data[0][i].replace(this.company_id + \"_\", \"\")\n              );\n            }\n          }else  if(this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE){\n            toastr.error(this.tlt('add_role_internal_server_msg3'));\n          }\n           else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\",\n              timer: 2500\n            })\n          }\n          \n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    save_questions_for_intent() {\n      if (Boolean(this.selected_question_index)) {\n        this.current_selected_intent_questions.push({\n          question: this.questions_list[this.selected_question_index].Question,\n          intent: `${this.company_id}_${this.current_selected_intent}`,\n        });\n      }\n      let questions_list = this.current_selected_intent_questions.filter(\n        (question) => {\n          return Boolean(question.question);\n        }\n      );\n      $(\"#myModal\").modal(\"hide\");\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.add_question_url(),\n          {\n            edit_intent: false,\n            company_name: this.company_name,\n            company_id: this.company_id,\n            new_question_data: questions_list,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          this.initialize_questions_for_intent();\n          if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              type: \"error\",\n              text: this.tlt('train_bot_internal_server_msg3'),\n              timer: 2500,\n            });\n          } else if (this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              type: \"success\",\n              text: this.tlt('train_bot_qs_added_msg'),\n              allowOutsideClick: false,\n              allowEscapeKey: false,\n              timer: 2500,\n            }).then((result) => {\n              if (result.value) {\n                this.get_questions_list();\n              }\n            });\n          } else if (this.api_status_code.QUESTION_EDIT_FAILED.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              type: \"warning\",\n              text: this.tlt('train_bot_qs_already_exist_msg'),\n              timer: 2000,\n            });\n          } else if (this.api_status_code.QUESTION_EDIT_FAILED.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"warning\",\n              timer: 2500\n            })\n          } else if (this.api_status_code.EDIT_QUESTION_INTENT.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"success\",\n              timer: 2500\n            })\n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\",\n              timer: 2500\n            })\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: this.tlt('train_bot_internal_server_msg5'),\n              timer: 2500,\n            });\n          }\n        });\n        this.close_modal('traintest_save_btn')\n    },\n    initialize_questions_for_intent() {\n      this.current_selected_intent_questions = [\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n      ];\n    },\n    download_sample() {\n      axios\n        .post(\n          api_calls.question_intent_csv(),\n          {\n            company_name: this.company_name,\n            company_id: this.company_id,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          // window.open(response.data.CSV_URL, \"_blank\");\n          if(this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE){\n            var a = window.document.createElement(\"a\");\n            a.href = response.data.CSV_URL;\n            a.download = true;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n          } else if(this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE){\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\",\n              timer: 2500\n            })\n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\",\n              timer: 2500\n            })\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    clear_file_details() {\n      this.file_label = \"Choose file\";\n      this.file_content = \"\";\n      document.getElementById(\"inputGroupFile01\").value = \"\";\n    },\n    fileinput() {\n      this.file_label = event.target.files[0].name;\n      // var file_name = this.companyname + \"IntentFile.csv\";\n      // if (this.file_label != file_name) {\n      //   Swal({\n      //     type: \"error\",\n      //     text:\n      //       \"Users need to download the Intent File from 'Upload CSV Files' pop-up. Changes to this file will be accepted by the system.\",\n      //   });\n      //   this.file_label = \"Choose file\";\n      // } else {\n      this.file_content = event.target.files[0];\n      // }\n    },\n    file_submit() {\n      event.preventDefault();\n      var user_details = {\n        email: this.$session.get(\"UserInformation\").email,\n        token: this.$session.get(\"UserInformation\").tokens,\n        company_name: this.company_name,\n        company_id: this.company_id,\n        license_key: this.$session.get(\"UserInformation\").license_key,\n      };\n      var json = JSON.stringify(user_details);\n      var blob = new Blob([json], {\n        type: \"application/json\",\n      });\n      if (this.file_label == \"Choose file\") {\n      } else {\n        const fd = new FormData();\n        fd.append(\n          \"file\",\n          this.file_content,\n          this.company_name + \"QuestionsFile.csv\"\n        );\n        fd.append(\"json\", blob);\n        $(\"#file_upload\").modal(\"hide\");\n        this.spinnerOn = true;\n        axios\n          .post(api_calls.test_intent_model(), fd, {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          })\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data.Msg == \"Results would be available soon\") {\n              swal({\n                title: this.tlt('train_bot_file_submit_msg'),\n                type: \"success\",\n                timer: 2500,\n              }).then((result) => {\n                if (result.value) {\n                  // $('#file_upload').modal('hide');\n                  // this.$router.go();\n                  // this.load_questions_response();\n                }\n              });\n            } else {\n              swal({\n                title: this.tlt('train_bot_error_occur_msg1'),\n                type: \"error\",\n                timer: 2000,\n              }).then((result) => {\n                // $('#file_upload').modal('hide');\n                this.file_label = \"Choose file\";\n                document.getElementById(\"inputGroupFile01\").value = \"\";\n                this.load_questions_response();\n              });\n            }\n            // $(\"#file_upload\").modal(\"hide\");\n          })\n          .catch((e) => {\n            // console.log(e);\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              Swal({\n                title: this.tlt('train_bot_error_occur_msg2'),\n                type: \"error\",\n                timer: 2000,\n              }).then((result) => {\n                // $('#file_upload').modal('hide');\n                this.file_label = \"Choose file\";\n                document.getElementById(\"inputGroupFile01\").value = \"\";\n                this.load_questions_response();\n              });\n            }\n          });\n      }\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n        event.preventDefault();\n      } else {\n        if (page == \"...s\") {\n          this.page_no = Math.ceil((1 + this.page_no) / 2);\n        } else if (page == \"...l\") {\n          this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n        } else {\n          this.page_no = page;\n        }\n        this.spinnerOn = true;\n        this.get_questions_list();\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    toggle() {\n      // this.$fullscreen.toggle((document.body), {\n      this.$fullscreen.toggle(this.$el.querySelector(\".dash-cont\"), {\n        wrap: false,\n        callback: this.fullscreenChange,\n      });\n    },\n    fullscreenChange(fullscreen) {\n      this.fullscreen = fullscreen;\n    },\n    train_and_test_model() {\n      if(!this.disable_btn_expired){\n      Swal({\n        title: this.tlt('train_bot_swal_alert_msg'),\n        text: this.tlt('train_bot_swal_train_model_msg2'),\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: this.tlt('train_bot_swal_confirm_msg'),\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.train_intent_model(),\n              {\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                company_name: this.company_name,\n                company_id: this.company_id,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                test_model: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.want_status = true;\n              this.$root.$emit(\"want_model_status\",this.want_status);\n              this.check_intent_model_status();\n              if (response.data.message.MSG_CODE == 20000091) {\n                swal({\n                  title: this.tlt('train_bot_result_avail_msg'),\n                  text: response.data.MSG,\n                  type: \"success\",\n                  timer: 3500,\n                }).then((result) => {\n                  if (result.value) {\n                    // $('#file_upload').modal('hide');\n                    // this.$router.go();\n                    // this.load_questions_response();\n                  }\n                });\n              } \n              // else if (response.data.MSG_CODE === 1034) {\n              //   swal({\n              //     title: this.tlt('train_bot_model_error_occur_msg1'),\n              //     text: response.data.MSG,\n              //     type: \"error\",\n              //     timer: 3000,\n              //   }).then((result) => {\n              //     if (result.value) {\n              //       // $('#file_upload').modal('hide');\n              //       // this.$router.go();\n              //       // this.load_questions_response();\n              //     }\n              //   });\n              // } \n              else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\",\n                  timer: 2500\n                }).then((result) => {\n                  // $('#file_upload').modal('hide');\n                  this.file_label = \"Choose file\";\n                  document.getElementById(\"inputGroupFile01\").value = \"\";\n                  this.load_questions_response();\n                });\n              }\n              // $(\"#file_upload\").modal(\"hide\");\n            })\n            .catch((e) => {\n              // console.log(e);\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              } else {\n                Swal({\n                  title: this.tlt('train_bot_model_error_occur_msg3'),\n                  type: \"error\",\n                  timer: 2000,\n                }).then((result) => {\n                  // $('#file_upload').modal('hide');\n                  this.file_label = \"Choose file\";\n                  document.getElementById(\"inputGroupFile01\").value = \"\";\n                  this.load_questions_response();\n                });\n              }\n            });\n        }\n      });}else{\n        this.show_subscription_expired_swal()\n      }\n    },\n  },\n  watch: {\n    filter_status(){\n      if(this.filter_status ===  'Failure'){\n        this.selected_statuslist = [\"Failure\"];\n      }else{\n        this.selected_statuslist = [\"Success\"];\n      }\n      this.page_no = 1;\n      this.per_page = 20;\n    },\n    selected_statuslist(newVal, oldVal) {\n      if (newVal.length === 0) {\n        setTimeout(() => {\n          this.selected_statuslist = [\"Success\", \"Failure\"];\n          this.get_questions_list();\n        }, 200);\n      } else {\n        this.get_questions_list();\n      }\n    },\n    current_selected_intent(newVal, oldVal) {\n      if (Boolean(oldVal) && Boolean(newVal)) {\n        for (\n          let i = 0, n = this.current_selected_intent_questions.length;\n          i < n;\n          i++\n        ) {\n          this.current_selected_intent_questions[\n            i\n          ].intent = `${this.company_id}_${this.current_selected_intent}`;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.radio label {\n    margin-bottom: 0.3rem !important;\n}\n.dash-wrap .dropdown-toggle::after {\n  display: none;\n}\ni[aria-expanded=\"true\"] {\n  color: #192765;\n  text-align: center;\n}\n.dash-modal .close {\n  top: 0px !important;\n  position: inherit !important;\n}\ni:hover {\n  color: #192765;\n}\n.fa-expand:hover {\n  transform: scale(1.2);\n}\n.fa-compress:hover {\n  transform: scale(1.2);\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.table thead th {\n  vertical-align: bottom;\n  border-bottom: 0px;\n}\n.fullscreen {\n  overflow: auto;\n}\n</style>\n"]}]}