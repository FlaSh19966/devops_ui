{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/AlternateProductNames.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/AlternateProductNames.vue","mtime":1645594423491},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzLmpzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWx9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFsdGVybmF0ZVByb2R1Y3ROYW1lc1BhZ2UiLAogIG1peGluczogWwogICAgZnJlZXplX3BvcnRhbCxzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwKICBdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgLy8gcHJvZHVjdF9uYW1lc19saXN0OiBbXSwKICAgICAgY3VycmVudF9wcm9kdWN0X25hbWU6IG51bGwsCiAgICAgIGFsdGVybmF0ZV9wcm9kdWN0X25hbWU6IG51bGwsCiAgICAgIGFsdGVybmF0ZV9wcm9kdWN0X2xpc3Q6IFtdLAogICAgICBpc19lZGl0X2FsdGVybmF0ZV9uYW1lOiBmYWxzZSwKICAgICAgY3VycmVudF9lZGl0X2luZGV4OiBudWxsLAogICAgICByZXRhaWxfYm90X3RlbXBsYXRlX2lkOiBudWxsLAogICAgICBwcm9kdWN0c19saXN0X2RhdGE6IFtdLAogICAgICBjdXJyZW50X2FjdGl2ZV9wcm9kdWN0OiBudWxsLAogICAgICBpc1Zpc2libGVTZWFyY2hDbGVhcjogZmFsc2UsCiAgICAgIHdhbnRfc3RhdHVzOiB0cnVlLAogICAgICBpbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3M6IGZhbHNlLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcHJvZHVjdE5hbWUoKXsKICAgICAgdmFyIHByb2R1Y3RzX25hbWUgPSAiIgogICAgICBpZih0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggIT0gMCl7CiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7CiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNoZWNrZWRfbGlzdCl7CiAgICAgICAgICBpZiAodGhpcy5jaGVja2VkX2xpc3RbaV0ucHJvZHVjdF9uYW1lID09IHRoaXMuY3VycmVudF9hY3RpdmVfcHJvZHVjdC5wcm9kdWN0X25hbWUpewogICAgICAgICAgICBjaGVjayA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjaGVjayl7CiAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoIC0gMTsKICAgICAgICAgIHJldHVybiBwcm9kdWN0c19uYW1lID0gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZSArIChsZW4gPiAwID8gIiBhbmQgIiArIChsZW4gPiAwID8gbGVuIDogJycpICsgIiBtb3JlIiA6ICcnKTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZTsKICAgICAgICB9CiAgICAgIH1lbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZTsKICAgICAgfQogICAgfSwKICAgIHJlc3VsdFF1ZXJ5KCl7CiAgICAgIGlmKHRoaXMuc2VhcmNoUXVlcnkpewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0c19saXN0X2RhdGEuZmlsdGVyKChpdGVtKT0+ewogICAgICAgIHJldHVybiB0aGlzLnNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5ldmVyeSh2ID0+IGl0ZW0ucHJvZHVjdF9uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModikpCiAgICAgIH0pCiAgICAgIH1lbHNlewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrX2lzX2VkaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzX2VkaXRfYWx0ZXJuYXRlX25hbWUKICAgICAgICA/IHRoaXMuc2F2ZV9lZGl0X2FsdGVybmF0ZV9uYW1lCiAgICAgICAgOiB0aGlzLmFkZF9hbHRlcm5hdGVfbmFtZTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IGJvdF90ZW1wbGF0ZXNfZGF0YSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJCb3RUZW1wbGF0ZXMiKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90X3RlbXBsYXRlc19kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICgKICAgICAgICBib3RfdGVtcGxhdGVzX2RhdGFbaV0uZG9tYWluID09PSAiUmV0YWlsIiAmJgogICAgICAgIGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS5zdWJzY3JpYmVkID09PSB0cnVlCiAgICAgICkgewogICAgICAgIHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCA9IGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS50ZW1wbGF0ZV9pZDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgdGhpcy4kcm9vdC4kb24oInNlbmRfbW9kZWxfc3RhdHVzIiwgZGF0YSA9PnsKICAgICAgaWYgKGRhdGEgPT0gdHJ1ZSl7CiAgICAgICAgdGhpcy5jaGVja19pbnRlbnRfbmVyX21vZGVsX3N0YXR1cygpOwogICAgICB9CiAgICB9KQogICAgdmFyIHZtID0gdGhpczsKICAgICQoIiNzZWxlY3RhbGwiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgkKHRoaXMpLmlzKCI6Y2hlY2tlZCIpKSB7CiAgICAgICAgLy8gJCgnZGl2OmlucHV0JykucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0uY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICB9CiAgICB9KTsKICAgIC8vIHRoaXMuZmV0Y2hfcHJvZHVjdF9saXN0KCk7CiAgICB0aGlzLmZldGNoX2FkZGVkX3N5bm9ueW1zKCk7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgIHRoaXMuY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKTsKICAgIHRoaXMuJHJvb3QuJG9uKCJBbHRlcm5hdGVQcm9kdWN0TmFtZXNQYWdlRGlzYWJsZWQiLCAoZGF0YSkgPT57CiAgICAgIGlmKGRhdGE9PT10cnVlKXsKICAgICAgICB0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQgPSB0cnVlOwogICAgICB9CiAgICB9KQogIH0sCiAgd2F0Y2g6ewogIHNlYXJjaFF1ZXJ5KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeSA9PT0gJycgfHwgdGhpcy5zZWFyY2hRdWVyeSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaFF1ZXJ5ICE9IG51bGwgfHwgdGhpcy5zZWFyY2hRdWVyeSAhPScnKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IHRydWU7CiAgICAgIH0KICAgICAgdGhpcy5zZXRfY3VycmVudF9wcm9kdWN0KDApOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdGVkX3N0YXRlbWVudHMoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09ICJhbGwiKSB7CiAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICB2YXIgcm9sZV9sZW5ndGggPSB0aGlzLnJlc3VsdFF1ZXJ5Lmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvbGVfbGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2godGhpcy5yZXN1bHRRdWVyeVtpXSk7CiAgICAgICAgfQogICAgICB9ZWxzZSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgIGlmICghdGhpcy5jaGVja2VkX2xpc3QuaW5jbHVkZXMoaW5kZXgpKSB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2godGhpcy5yZXN1bHRRdWVyeVtpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gZmFsc2UpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CiAgICAgICAgICBpZiAoc2VsZWN0YWxsLmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICBzZWxlY3RhbGwuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoKHJvbGUpPT4gewogICAgICAgICAgICByZXR1cm4gcm9sZSAhPT0gdGhpcy5yZXN1bHRRdWVyeVtpbmRleF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gdGVtcDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19pbnRlbnRfbmVyX21vZGVsX3N0YXR1cygpewogICAgdGhpcy5tb2RlbF9zdGF0dXMgPSB0aGlzLiRzZXNzaW9uLmdldCgiTW9kZWxTdGF0dXMiKTsKICAgIGlmICh0aGlzLm1vZGVsX3N0YXR1cyA9PSAiTm8gRmFpbHVyZSIpewogICAgdGhpcy5pbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3MgPSBmYWxzZTsKICAgIH0KICAgIGVsc2UgaWYgKEJvb2xlYW4odGhpcy5tb2RlbF9zdGF0dXMuaW50ZW50X21vZGVsKSA9PT0gdHJ1ZSAKICAgICB8fCBCb29sZWFuKHRoaXMubW9kZWxfc3RhdHVzLm5lcl9tb2RlbCkgPT09IHRydWUpewogICAgIGlmKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIKICAgICAgfHwgdGhpcy5tb2RlbF9zdGF0dXMubmVyX21vZGVsID09ICJJblByb2dyZXNzIil7CiAgICAgICB0aGlzLmludGVudF9uZXJfbW9kZWxfaW5wcm9ncmVzcyA9IHRydWU7CiAgICAgfQogICAgIGVsc2V7CiAgICAgICB0aGlzLmludGVudF9uZXJfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOwogICAgIH0KICAgIH0KICAgIGVsc2V7CiAgICAgIHRoaXMuaW50ZW50X25lcl9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7IAogICAgfQogICAgfSwKCiAgICBzaG93X21vZGVsX3Byb2dyZXNzKGluZGV4KXsKICAgICAgaWYodGhpcy5pbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3MgPT0gdHJ1ZSl7CiAgICAgICAgIGlmIChpbmRleCA9PSAnc3R5bGUnKXsKICAgICAgICAgICAgcmV0dXJuICJjdXJzb3I6IG5vdC1hbGxvd2VkIjsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYoaW5kZXggPT0gJ3RpdGxlJyl7CiAgICAgICAgICAgICAgcmV0dXJuICJUcmFpbmluZyBpbiBQcm9ncmVzcyAoVGhpcyBwcm9jZXNzIG1pZ2h0IHRha2UgYXJvdW5kIDQ1IG1pbnMgdG8gZmluaXNoKSAiOwogICAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcl9zZWFyY2hfbmFtZSgpIHsKICAgICAgdGhpcy5zZWFyY2hRdWVyeSA9IG51bGw7CiAgICB9LAogICAgc3luY19wcm9kdWN0cygpIHsKICAgICAgU3dhbCh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiIFlvdSB3YW50IHRvIHN5bmMgcHJvZHVjdHMgZGF0YT8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9zeW5vbnltcygpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgdGVtcGxhdGVfaWQ6IHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCwKICAgICAgICAgIGlzX3N5bmM6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gIlN1Y2Nlc3MiKXsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6ICJQcm9kdWN0cyBhcmUgYmVpbmcgc3luY2VkIiwKICAgICAgICAgICAgICB0ZXh0OiAiVGhpcyBtaWdodCB0YWtlIHNvbWUgdGltZSIsCiAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiA1NTAwLAogICAgICAgICAgICB9KQogICAgICAgICAgfWVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQhIiwKICAgICAgICAgICAgICB0ZXh0OiAiUGxlYXNlIHRyeSBhZ2FpbiEiLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgfQogICAgICB9KQogICAgfSwKICAgIGZldGNoX2FkZGVkX3N5bm9ueW1zKCkgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3N5bm9ueW1zKCksIHsKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICB0ZW1wbGF0ZV9pZDogdGhpcy5yZXRhaWxfYm90X3RlbXBsYXRlX2lkLAogICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5TeW5vbnltcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0X2RhdGEgPSBkYXRhLmRhdGEuU3lub255bXM7CiAgICAgICAgICAgICAgdGhpcy5zZXRfY3VycmVudF9wcm9kdWN0KDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgIH0sCiAgICAvLyBmZXRjaF9wcm9kdWN0X2xpc3QoKSB7CiAgICAvLyAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgYXhpb3MKICAgIC8vICAgICAucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfc3lub255bXMoKSwgewogICAgLy8gICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgLy8gICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgIC8vICAgICAgIGlzX2dldF9wcm9kdWN0X2xpc3Q6IHRydWUsCiAgICAvLyAgICAgfSwKICAgIC8vICAgICB7CiAgICAvLyAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgfSkKICAgIC8vICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICJTdWNjZXNzIikgewogICAgLy8gICAgICAgICB0aGlzLnByb2R1Y3RfbmFtZXNfbGlzdCA9IGRhdGEucHJvZHVjdF9uYW1lc19saXN0OwogICAgLy8gICAgICAgICBpZiAodGhpcy5wcm9kdWN0X25hbWVzX2xpc3QubGVuZ3RoID4gMCkgewogICAgLy8gICAgICAgICAgIHRoaXMuY3VycmVudF9wcm9kdWN0X25hbWUgPSB0aGlzLnByb2R1Y3RfbmFtZXNfbGlzdFswXTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIHRoaXMuZnJlZXplX3BvcnRhbCgpOwogICAgLy8gfSwgMTAwMCk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLyB9LAogICAgYWRkX2FsdGVybmF0ZV9uYW1lKCkgewogICAgICBpZighdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKXsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lKSA9PT0gdHJ1ZSl7CiAgICAgICAgaWYodGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogIk11bHRpcGxlIHByb2R1Y3RzIGFyZSBzZWxlY3RlZCIsCiAgICAgICAgICAgIHRleHQ6ICdUaGUgJyArIHRoaXMuYWx0ZXJuYXRlX3Byb2R1Y3RfbmFtZSArICcgc3lub255bSB3aWxsIGJlIGFkZGVkIGluIGFsbCBzZWxlY3RlZCBwcm9kdWN0cycsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jaGVja2VkX2xpc3QpewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiBpbiB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YSl7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdFtpXS5pZCA9PSB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YVtqXS5pZCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0X2RhdGFbal0uc3lub255bXMucHVzaCh0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRlX3Byb2R1Y3RfbmFtZSA9IG51bGw7CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3Quc3lub255bXMucHVzaCh0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpOwogICAgICAgICAgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lID0gbnVsbDsKICAgICAgICB9CiAgICAgIH19ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogICAgZWRpdF9hbHRlcm5hdGVfbmFtZShpbmRleCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJsZV9pZCIpLnNjcm9sbFRvcCA9IDA7CiAgICAgIGlmICghdGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lKSB7CiAgICAgICAgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lID0gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnN5bm9ueW1zWwogICAgICAgICAgaW5kZXgKICAgICAgICBdOwogICAgICAgIHRoaXMuY3VycmVudF9lZGl0X2luZGV4ID0gaW5kZXg7CiAgICAgICAgdGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlc2V0X2VkaXQoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVfZWRpdF9hbHRlcm5hdGVfbmFtZSgpIHsKICAgICAgdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnN5bm9ueW1zWwogICAgICAgIHRoaXMuY3VycmVudF9lZGl0X2luZGV4CiAgICAgIF0gPSB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWU7CiAgICAgIHRoaXMucmVzZXRfZWRpdCgpOwogICAgfSwKICAgIGRlbGV0ZV9hbHRlcm5hdGVfbmFtZShpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3Quc3lub255bXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICByZXNldF9lZGl0KCkgewogICAgICB0aGlzLmlzX2VkaXRfYWx0ZXJuYXRlX25hbWUgPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50X2VkaXRfaW5kZXggPSBudWxsOwogICAgICB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUgPSBudWxsOwogICAgfSwKICAgIHNldF9jdXJyZW50X3Byb2R1Y3QoaW5kZXgpIHsKICAgICAgdGhpcy5yZXNldF9lZGl0KCk7CiAgICAgIHRoaXMuY3VycmVudF9hY3RpdmVfcHJvZHVjdCA9IHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdOwogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfcHJvZHVjdF9hY3RpdmUoaW5kZXgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0KSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3QuaWQgPT09CiAgICAgICAgICB0aGlzLnJlc3VsdFF1ZXJ5W2luZGV4XS5pZAogICAgICAgICAgPyAiY3VycmVudC1hY3RpdmUtcHJvZHVjdCIKICAgICAgICAgIDogbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfZWRpdF9zeW5vbnltKGluZGV4LCB0YWcpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lKSA9PT0gdHJ1ZSkgewogICAgICAgIGlmICh0YWcgPT09ICJzcGFuIikgewogICAgICAgICAgcmV0dXJuICJub3QtY3VycmVudC1lZGl0LXN5bm9ueW0tc3BhbiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRfZWRpdF9pbmRleCA9PT0gaW5kZXgKICAgICAgICAgICAgPyAiY3VycmVudC1lZGl0LXN5bm9ueW0iCiAgICAgICAgICAgIDogIm5vdC1jdXJyZW50LWVkaXQtc3lub255bSI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAibm90LWVkaXRpbmctc3lub255bXMiOwogICAgICB9CiAgICB9LAogICAgc2F2ZV9zeW5vbnltcygpIHsKICAgICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiBgWW91IHdhbnQgdG8gc2F2ZSB0aGVzZSBTeW5vbnltcyBEYXRhP2AsCiAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIENvbmZpcm0hIiwKICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3N5bm9ueW1zKCksIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgaXNfYWRkX29yX2VkaXQ6IHRydWUsCiAgICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCwKICAgICAgICAgICAgICBzeW5vbnltczogdGhpcy5wcm9kdWN0c19saXN0X2RhdGEKICAgICAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gIlN1Y2Nlc3MiCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgICAiWW91ciBkYXRhIGlzIGJlaW5nIHNhdmVkIG5vdywgcGxlYXNlIHJldHJhaW4gdGhlIE1vZGVsIGZyb20gTkVSIFRyYWluaW5nIHBhZ2UodW5kZXIgVHJhaW5pbmcgQ2VudHJlIE1lbnUpIGZvciB0aGUgY2hhbmdlcyB0byBiZSByZWZsZWN0ZWQhIiwKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgLy8gdGltZXI6IDUwMDAsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBCb29sZWFuKGUucmVzcG9uc2UpID09PSB0cnVlICYmCiAgICAgICAgICAgICAgICAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTt9ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogICAgdHJhaW5fbW9kZWwoKSB7CiAgICAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogIkFyZSBZb3UgU3VyZT8iLAogICAgICAgIHRleHQ6ICJZb3Ugd2FudCB0byBUcmFpbiBUaGUgTW9kZWw/IiwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbmVyX21vZGVsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgdXBkYXRlX21vZGVsOiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy53YW50X3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgid2FudF9tb2RlbF9zdGF0dXMiLHRoaXMud2FudF9zdGF0dXMpOwogICAgICAgICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gNDA0NikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5NU0cpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gMTAzNCkgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHJlc3BvbnNlLmRhdGEuTVNHKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7fWVsc2V7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},null]}