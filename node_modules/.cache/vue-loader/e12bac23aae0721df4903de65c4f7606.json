{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgZWxlbWVudElkOiBTdHJpbmcsCgogICAgICAgIGV4aXN0aW5nVGFnczogewogICAgICAgICAgICB0eXBlOiBBcnJheSwKICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZFN0eWxlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJ2JhZGdlcycKICAgICAgICB9LAoKICAgICAgICB0eXBlYWhlYWRBY3RpdmF0aW9uVGhyZXNob2xkOiB7CiAgICAgICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICAgICAgZGVmYXVsdDogMQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZE1heFJlc3VsdHM6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OiAwCiAgICAgICAgfSwKCiAgICAgICAgdHlwZWFoZWFkQWx3YXlzU2hvdzogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZFNob3dPbkZvY3VzOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAoKICAgICAgICB0eXBlYWhlYWRIaWRlRGlzY2FyZDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZFVybDogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgfSwKCiAgICAgICAgcGxhY2Vob2xkZXI6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnQWRkIGEgdGFnJwogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgZGlzY2FyZFNlYXJjaFRleHQ6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnRGlzY2FyZCBTZWFyY2ggUmVzdWx0cycKICAgICAgICB9LAoKICAgICAgICBsaW1pdDogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIGRlZmF1bHQ6IDAKICAgICAgICB9LAoKICAgICAgICBoaWRlSW5wdXRPbkxpbWl0OiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgfSwKCiAgICAgICAgb25seUV4aXN0aW5nVGFnczogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIGRlbGV0ZU9uQmFja3NwYWNlOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAoKICAgICAgICBhbGxvd0R1cGxpY2F0ZXM6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIAogICAgICAgIHZhbGlkYXRlOiB7CiAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgYWRkVGFnc09uQ29tbWE6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAoKICAgICAgICBhZGRUYWdzT25TcGFjZTogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIGFkZFRhZ3NPbkJsdXI6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAoKICAgICAgICB3cmFwcGVyQ2xhc3M6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAndGFncy1pbnB1dC13cmFwcGVyLWRlZmF1bHQnCiAgICAgICAgfSwKCiAgICAgICAgc29ydFNlYXJjaFJlc3VsdHM6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCgogICAgICAgIGNhc2VTZW5zaXRpdmVUYWdzOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgfSwKCiAgICAgICAgYmVmb3JlQWRkaW5nVGFnOiB7CiAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgYmVmb3JlUmVtb3ZpbmdUYWc6IHsKICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHRydWUKICAgICAgICB9LAogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJhZGdlSWQ6IDAsCiAgICAgICAgICAgIHRhZ3M6IFtdLAoKICAgICAgICAgICAgaW5wdXQ6ICcnLAogICAgICAgICAgICBvbGRJbnB1dDogJycsCiAgICAgICAgICAgIGhpZGRlbklucHV0OiAnJywKCiAgICAgICAgICAgIHNlYXJjaFJlc3VsdHM6IFtdLAogICAgICAgICAgICBzZWFyY2hTZWxlY3Rpb246IDAsCgogICAgICAgICAgICBzZWxlY3RlZFRhZzogLTEsCgogICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgICAgfTsKICAgIH0sCgogICAgY3JlYXRlZCAoKSB7CiAgICAgICAgdGhpcy50YWdzRnJvbVZhbHVlKCk7CgogICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZEFsd2F5c1Nob3cpIHsKICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoZmFsc2UpOwogICAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCAoKSB7CiAgICAgICAgLy8gRW1pdCBhbiBldmVudAogICAgICAgIHRoaXMuJGVtaXQoJ2luaXRpYWxpemVkJyk7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJHJlZnNbJ3RhZ2lucHV0J10pIHsKICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWFyY2hSZXN1bHRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCgogICAgY29tcHV0ZWQ6IHsKICAgICAgICBoaWRlSW5wdXRGaWVsZCgpIHsKICAgICAgICAgICAgcmV0dXJuICh0aGlzLmhpZGVJbnB1dE9uTGltaXQgJiYgdGhpcy5saW1pdCA+IDAgJiYgdGhpcy50YWdzLmxlbmd0aCA+PSB0aGlzLmxpbWl0KTsKICAgICAgICB9CiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgICAgaW5wdXQobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoZmFsc2UpOwoKICAgICAgICAgICAgaWYgKG5ld1ZhbC5sZW5ndGggJiYgbmV3VmFsICE9IG9sZFZhbCkgewogICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IG5ld1ZhbC5zdWJzdHJpbmcob2xkVmFsLmxlbmd0aCwgbmV3VmFsLmxlbmd0aCk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGFnc09uU3BhY2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsLmVuZHNXaXRoKCcgJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNwYWNlIHNob3VsZG4ndCBhY3R1YWxseSBiZSBpbnNlcnRlZAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gbmV3VmFsLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgaW5wdXRlZCB0YWcKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdGcm9tSW5wdXQodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkZFRhZ3NPbkNvbW1hKSB7CiAgICAgICAgICAgICAgICAgICAgbmV3VmFsID0gbmV3VmFsLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbC5lbmRzV2l0aCgnLCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb21tYSBzaG91bGRuJ3QgYWN0dWFsbHkgYmUgaW5zZXJ0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG5ld1ZhbC5zdWJzdHJpbmcoMCwgbmV3VmFsLmxlbmd0aCAtIDEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBpbnB1dGVkIHRhZwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ0Zyb21JbnB1dCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgbmV3VmFsKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHRhZ3MoKSB7CiAgICAgICAgICAgIC8vIFVwZGF0aW5nIHRoZSBoaWRkZW4gaW5wdXQKICAgICAgICAgICAgdGhpcy5oaWRkZW5JbnB1dCA9IEpTT04uc3RyaW5naWZ5KHRoaXMudGFncyk7CgogICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGJvdW5kIHYtbW9kZWwgdmFsdWUKICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnRhZ3MpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlKCkgewogICAgICAgICAgICB0aGlzLnRhZ3NGcm9tVmFsdWUoKTsKICAgICAgICB9LAoKICAgICAgICB0eXBlYWhlYWRBbHdheXNTaG93KG5ld1ZhbHVlKSB7CiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoZmFsc2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlYXJjaFJlc3VsdHMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICAvKioKICAgICAgICAgKiBSZW1vdmUgcmVzZXJ2ZWQgcmVnZXggY2hhcmFjdGVycyBmcm9tIGEgc3RyaW5nIHNvIHRoYXQgdGhleSBkb24ndAogICAgICAgICAqIGFmZmVjdCBzZWFyY2ggcmVzdWx0cwogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBzdHJpbmcKICAgICAgICAgKiBAcmV0dXJucyBTdHJpbmcKICAgICAgICAgKi8KICAgICAgICBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7CiAgICAgICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIGEgdGFnIHdoZXRoZXIgZnJvbSB1c2VyIGlucHV0IG9yIGZyb20gc2VhcmNoIHJlc3VsdHMgKHR5cGVhaGVhZCkKICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gaWdub3JlU2VhcmNoUmVzdWx0cwogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICB0YWdGcm9tSW5wdXQoaWdub3JlU2VhcmNoUmVzdWx0cyA9IGZhbHNlKSB7CiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGNob29zaW5nIGEgdGFnIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzCiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaFJlc3VsdHMubGVuZ3RoICYmIHRoaXMuc2VhcmNoU2VsZWN0aW9uID49IDAgJiYgIWlnbm9yZVNlYXJjaFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRoaXMudGFnRnJvbVNlYXJjaCh0aGlzLnNlYXJjaFJlc3VsdHNbdGhpcy5zZWFyY2hTZWxlY3Rpb25dKTsKCiAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gJyc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBhZGRpbmcgYW4gdW5leGlzdGluZyB0YWcKICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy5pbnB1dC50cmltKCk7CgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyB0YWcgaXMgbm90IGFuIGVtcHR5IHN0cmluZyBhbmQgcGFzc2VzIHZhbGlkYXRpb24KICAgICAgICAgICAgICAgIGlmICghdGhpcy5vbmx5RXhpc3RpbmdUYWdzICYmIHRleHQubGVuZ3RoICYmIHRoaXMudmFsaWRhdGUodGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgaW5wdXR0ZWQgdGFnIGV4aXN0cyBpbiB0aGUgZXhpc3RpbmdUYWdzCiAgICAgICAgICAgICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VGFnID0gewogICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGV4dCwKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHRoaXMuZXNjYXBlUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdmVUYWdzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ld1RhZy52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXdUYWcudmFsdWUudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRhZyBvZiB0aGlzLmV4aXN0aW5nVGFncykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlYWJsZSA9IHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFnLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRhZy52YWx1ZS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFF1ZXJ5ID09PSBjb21wYXJlYWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGFnID0gT2JqZWN0LmFzc2lnbih7fSwgdGFnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcobmV3VGFnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEFkZCBhIHRhZyBmcm9tIHNlYXJjaCByZXN1bHRzIHdoZW4gYSB1c2VyIGNsaWNrcyBvbiBpdAogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSB0YWcKICAgICAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgICAgICovCiAgICAgICAgdGFnRnJvbVNlYXJjaE9uQ2xpY2sodGFnKSB7CiAgICAgICAgICAgIHRoaXMudGFnRnJvbVNlYXJjaCh0YWcpOwoKICAgICAgICAgICAgdGhpcy4kcmVmc1sndGFnaW5wdXQnXS5ibHVyKCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIHRoZSBzZWxlY3RlZCB0YWcgZnJvbSB0aGUgc2VhcmNoIHJlc3VsdHMuCiAgICAgICAgICogQ2xlYXIgc2VhcmNoIHJlc3VsdHMuCiAgICAgICAgICogQ2xlYXIgdXNlciBpbnB1dC4KICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gdGFnCiAgICAgICAgICogQHJldHVybiB2b2lkCiAgICAgICAgICovCiAgICAgICAgdGFnRnJvbVNlYXJjaCh0YWcpIHsKICAgICAgICAgICAgdGhpcy5jbGVhclNlYXJjaFJlc3VsdHMoKTsKICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnKTsKCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSAnJzsKICAgICAgICAgICAgICAgIHRoaXMub2xkSW5wdXQgPSAnJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkL1NlbGVjdCBhIHRhZwogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSB0YWcKICAgICAgICAgKiBAcmV0dXJucyB2b2lkIHwgQm9vbGVhbgogICAgICAgICAqLwogICAgICAgIGFkZFRhZyh0YWcpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmJlZm9yZUFkZGluZ1RhZyh0YWcpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBsaW1pdCBoYXMgYmVlbiByZWFjaGVkCiAgICAgICAgICAgIGlmICh0aGlzLmxpbWl0ID4gMCAmJiB0aGlzLnRhZ3MubGVuZ3RoID49IHRoaXMubGltaXQpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2xpbWl0LXJlYWNoZWQnKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFnIGlmIGl0IGhhc24ndCBiZWVuIGF0dGFjaGVkIHlldAogICAgICAgICAgICBpZiAoIXRoaXMudGFnU2VsZWN0ZWQodGFnKSkgewogICAgICAgICAgICAgICAgdGhpcy50YWdzLnB1c2godGFnKTsKCiAgICAgICAgICAgICAgICAvLyBFbWl0IGV2ZW50cwogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RhZy1hZGRlZCcsIHRhZyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndGFncy11cGRhdGVkJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFJlbW92ZSB0aGUgbGFzdCB0YWcgaW4gdGhlIHRhZ3MgYXJyYXkuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIHJlbW92ZUxhc3RUYWcoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5pbnB1dC5sZW5ndGggJiYgdGhpcy5kZWxldGVPbkJhY2tzcGFjZSAmJiB0aGlzLnRhZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRhZyh0aGlzLnRhZ3MubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBSZW1vdmUgdGhlIHNlbGVjdGVkIHRhZyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBpbmRleAogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICByZW1vdmVUYWcoaW5kZXgpIHsKICAgICAgICAgICAgbGV0IHRhZyA9IHRoaXMudGFnc1tpbmRleF07CgogICAgICAgICAgICBpZiAoIXRoaXMuYmVmb3JlUmVtb3ZpbmdUYWcodGFnKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnRhZ3Muc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgICAgICAgIC8vIEVtaXQgZXZlbnRzCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RhZy1yZW1vdmVkJywgdGFnKTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RhZ3MtdXBkYXRlZCcpOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZEFsd2F5c1Nob3cpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFRhZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBTZWFyY2ggdGhlIGN1cnJlbnRseSBlbnRlcmVkIHRleHQgaW4gdGhlIGxpc3Qgb2YgZXhpc3RpbmcgdGFncwogICAgICAgICAqIAogICAgICAgICAqIEByZXR1cm5zIHZvaWQgfCBCb29sZWFuCiAgICAgICAgICovCiAgICAgICAgc2VhcmNoVGFnKCkgewogICAgICAgICAgICBpZiAodGhpcy50eXBlYWhlYWQgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoaXMub2xkSW5wdXQgIT0gdGhpcy5pbnB1dCB8fCAoIXRoaXMuc2VhcmNoUmVzdWx0cy5sZW5ndGggJiYgdGhpcy50eXBlYWhlYWRBY3RpdmF0aW9uVGhyZXNob2xkID09IDApIHx8IHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdyB8fCB0aGlzLnR5cGVhaGVhZFNob3dPbkZvY3VzKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoU2VsZWN0aW9uID0gMDsKICAgICAgICAgICAgICAgIGxldCBpbnB1dCA9IHRoaXMuaW5wdXQudHJpbSgpOwoKICAgICAgICAgICAgICAgIGlmICgoaW5wdXQubGVuZ3RoICYmIGlucHV0Lmxlbmd0aCA+PSB0aGlzLnR5cGVhaGVhZEFjdGl2YXRpb25UaHJlc2hvbGQpIHx8IHRoaXMudHlwZWFoZWFkQWN0aXZhdGlvblRocmVzaG9sZCA9PSAwIHx8IHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdykgewogICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHRoZSBleGlzdGluZyB0YWdzIHdoaWNoIGluY2x1ZGUgdGhlIHNlYXJjaCB0ZXh0CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSB0aGlzLmVzY2FwZVJlZ0V4cCgKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlVGFncyA/IGlucHV0IDogaW5wdXQudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgIC8vIEFKQVggc2VhcmNoCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZWFoZWFkVXJsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGlzdGluZ1RhZ3Muc3BsaWNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOwoKICAgICAgICAgICAgICAgICAgICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZXhpc3RpbmdUYWdzID0gSlNPTi5wYXJzZSh4aHR0cC5yZXNwb25zZVRleHQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmRvU2VhcmNoKHNlYXJjaFF1ZXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLnR5cGVhaGVhZFVybC5yZXBsYWNlKCc6c2VhcmNoJywgc2VhcmNoUXVlcnkpOwogICAgICAgICAgICAgICAgICAgICAgICB4aHR0cC5vcGVuKCdHRVQnLCBlbmRwb2ludCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWFyY2ggdGhlIGV4aXN0aW5nIGNvbGxlY3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1NlYXJjaChzZWFyY2hRdWVyeSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMub2xkSW5wdXQgPSB0aGlzLmlucHV0OwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUGVyZm9ybSB0aGUgYWN0dWFsIHNlYXJjaAogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBzdHJpbmcgc2VhcmNoUXVlcnkKICAgICAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAgICAgKi8KICAgICAgICBkb1NlYXJjaChzZWFyY2hRdWVyeSkgewogICAgICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGhpcy5leGlzdGluZ1RhZ3MpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhcmVhYmxlID0gdGhpcy5jYXNlU2Vuc2l0aXZlVGFncwogICAgICAgICAgICAgICAgICAgID8gdGFnLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgOiB0YWcudmFsdWUudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZWFibGUuc2VhcmNoKHNlYXJjaFF1ZXJ5KSA+IC0xICYmICEgdGhpcy50YWdTZWxlY3RlZCh0YWcpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnB1c2godGFnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU29ydCB0aGUgc2VhcmNoIHJlc3VsdHMgYWxwaGFiZXRpY2FsbHkKICAgICAgICAgICAgaWYgKHRoaXMuc29ydFNlYXJjaFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGEudmFsdWUgPCBiLnZhbHVlKSByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgaWYgKGEudmFsdWUgPiBiLnZhbHVlKSByZXR1cm4gMTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2hvcnRlbiBTZWFyY2ggcmVzdWx0cyB0byBkZXNpcmVkIGxlbmd0aAogICAgICAgICAgICBpZiAodGhpcy50eXBlYWhlYWRNYXhSZXN1bHRzID4gMCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gdGhpcy5zZWFyY2hSZXN1bHRzLnNsaWNlKAogICAgICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlYWhlYWRNYXhSZXN1bHRzCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogSGlkZSB0aGUgdHlwZWFoZWFkIGlmIHRoZXJlJ3Mgbm90aGluZyBpbnRlcmVkIGludG8gdGhlIGlucHV0IGZpZWxkLgogICAgICAgICAqIAogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICBoaWRlVHlwZWFoZWFkKCkgewogICAgICAgICAgICBpZiAoISB0aGlzLmlucHV0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWFyY2hSZXN1bHRzKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFNlbGVjdCB0aGUgbmV4dCBzZWFyY2ggcmVzdWx0IGluIHR5cGVhaGVhZC4KICAgICAgICAgKiAKICAgICAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgICAgICovCiAgICAgICAgbmV4dFNlYXJjaFJlc3VsdCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoU2VsZWN0aW9uICsgMSA8PSB0aGlzLnNlYXJjaFJlc3VsdHMubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hTZWxlY3Rpb24rKzsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFNlbGVjdCB0aGUgcHJldmlvdXMgc2VhcmNoIHJlc3VsdCBpbiB0eXBlYWhlYWQuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIHByZXZTZWFyY2hSZXN1bHQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaFNlbGVjdGlvbiA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoU2VsZWN0aW9uLS07CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDbGVhci9FbXB0eSB0aGUgc2VhcmNoIHJlc3VsdHMuCiAgICAgICAgICogCiAgICAgICAgICogQHJldXRybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIGNsZWFyU2VhcmNoUmVzdWx0cyhyZXR1cm5Gb2N1cyA9IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IFtdOwogICAgICAgICAgICB0aGlzLnNlYXJjaFNlbGVjdGlvbiA9IDA7CgogICAgICAgICAgICBpZiAodGhpcy50eXBlYWhlYWRBbHdheXNTaG93KSB7CiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmV0dXJuRm9jdXMpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ3RhZ2lucHV0J10uZm9jdXMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENsZWFyIHRoZSBsaXN0IG9mIHNlbGVjdGVkIHRhZ3MuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIGNsZWFyVGFncygpIHsKICAgICAgICAgICAgdGhpcy50YWdzLnNwbGljZSgwLCB0aGlzLnRhZ3MubGVuZ3RoKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBSZXBsYWNlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGFncyB3aXRoIHRoZSB0YWdzIGZyb20gdGhlIHZhbHVlLgogICAgICAgICAqIAogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICB0YWdzRnJvbVZhbHVlKCkgewogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVm9lcnJvIFRhZ3MgSW5wdXQ6IHRoZSB2LW1vZGVsIHZhbHVlIG11c3QgYmUgYW4gYXJyYXkhJyk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IHRhZ3MgPSB0aGlzLnZhbHVlOwoKICAgICAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkCiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzID09IHRhZ3MpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5jbGVhclRhZ3MoKTsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGFncykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKHRhZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUYWdzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDaGVjayBpZiBhIHRhZyBpcyBhbHJlYWR5IHNlbGVjdGVkLgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSB0YWcKICAgICAgICAgKiBAcmV0dXJucyBCb29sZWFuCiAgICAgICAgICovCiAgICAgICAgdGFnU2VsZWN0ZWQodGFnKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93RHVwbGljYXRlcykgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoISB0YWcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSB0aGlzLmVzY2FwZVJlZ0V4cCgKICAgICAgICAgICAgICAgIHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MgPyB0YWcudmFsdWUgOiB0YWcudmFsdWUudG9Mb3dlckNhc2UoKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgZm9yIChsZXQgc2VsZWN0ZWRUYWcgb2YgdGhpcy50YWdzKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlYWJsZSA9IHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MKICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkVGFnLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFRhZy52YWx1ZS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFRhZy5rZXkgPT09IHRhZy5rZXkgJiYgdGhpcy5lc2NhcGVSZWdFeHAoY29tcGFyZWFibGUpLmxlbmd0aCA9PSBzZWFyY2hRdWVyeS5sZW5ndGggJiYgY29tcGFyZWFibGUuc2VhcmNoKHNlYXJjaFF1ZXJ5KSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDbGVhciB0aGUgaW5wdXQuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIGNsZWFySW5wdXQoKSB7CiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSAnJzsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBQcm9jZXNzIGFsbCB0aGUga2V5dXAgZXZlbnRzLgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBlCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIG9uS2V5VXAoZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdrZXl1cCcsIGUpOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFByb2Nlc3MgYWxsIHRoZSBrZXlkb3duIGV2ZW50cy4KICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gZQogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICBvbktleURvd24oZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUHJvY2VzcyB0aGUgb25mb2N1cyBldmVudC4KICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gZQogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICBvbkZvY3VzKGUpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnLCBlKTsKCiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFByb2Nlc3MgdGhlIG9uQ2xpY2sgZXZlbnQuCiAgICAgICAgICogCiAgICAgICAgICogQHBhcmFtIGUKICAgICAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgICAgICovCiAgICAgICAgb25DbGljayhlKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgZSk7CgogICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTsKCiAgICAgICAgICAgIHRoaXMuc2VhcmNoVGFnKCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUHJvY2VzcyB0aGUgb25ibHVyIGV2ZW50LgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBlCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIG9uQmx1cihlKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2JsdXInLCBlKQoKICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGFnc09uQmx1cikgewogICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBpbnB1dGVkIHRhZwogICAgICAgICAgICAgICAgdGhpcy50YWdGcm9tSW5wdXQodHJ1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghdGhpcy50eXBlYWhlYWRBbHdheXNTaG93KSB7CiAgICAgICAgICAgICAgICB0aGlzLmhpZGVUeXBlYWhlYWQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVGFnKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICB9LAogICAgfQp9Cg=="},null]}