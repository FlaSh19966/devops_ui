{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/LiveChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/LiveChat.vue","mtime":1645594423483},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAicGhvZW5peC1zb2NrZXQiOwppbXBvcnQgeyBzZXRJbnRlcnZhbCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBkZWJvdW5jZSBmcm9tICJ2dWUtZGVib3VuY2UvZGlzdC9kZWJvdW5jZS5taW4uanMiOwppbXBvcnQgeyBnZW5lcmF0ZV90aW1lIH0gZnJvbSAiQC9wb3J0YWwvbWl4aW5zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcl9saXN0OiBbXSwKICAgICAgY3VycmVudF91c2VyOiB7fSwKICAgICAgY3VycmVudF9jaGFubmVsOiAiIiwKICAgICAgZmlyc3RfbmFtZTogdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJGaXJzdE5hbWUiKQogICAgICAgID8gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJGaXJzdE5hbWUiKQogICAgICAgIDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmZpcnN0X25hbWUsCiAgICAgIGxhc3RfbmFtZTogdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJMYXN0TmFtZSIpCiAgICAgICAgPyB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckxhc3ROYW1lIikKICAgICAgICA6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5sYXN0X25hbWUsCiAgICAgIGFnZW50X3VzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIGNoYXRfbGlzdDogW10sCiAgICAgIHRvX3NlbmQ6ICIiLAogICAgICBjaDogbnVsbCwKICAgICAgbWVzc2FnZTogbnVsbCwKICAgICAgdXNlcl9jaGFubmVsczoge30sCiAgICAgIHNvY2tldDogbnVsbCwKICAgICAgbXNnX3NlbmRlcjogIiIsCiAgICAgIGRlbGF5OiAxMDAwMCwKICAgICAgaXNfdHlwaW5nX2luZGljYXRvcl9vbjogZmFsc2UsCiAgICAgIC8vIHVzZXJfbGlzdDogW3siY2hhbm5lbF9uYW1lIjoiY3VzdG9tZXJzX2dyb3VwczpkaHM2YmVubmtsIiwidXNlcm5hbWUiOiJWaW1sZXNoaCIsImlzX2Nvbm5lY3RlZCI6ZmFsc2UsImFnZW50X3VzZXJuYW1lIjpudWxsLCJhZ2VudF9yb2xlIjpudWxsLCJzdGF0ZSI6IndhaXRpbmcifSx7ImNoYW5uZWxfbmFtZSI6ImN1c3RvbWVyc19ncm91cHM6aGVtemFzdG5oZSIsInVzZXJuYW1lIjoiQWtzaGF5IiwiaXNfY29ubmVjdGVkIjpmYWxzZSwiYWdlbnRfdXNlcm5hbWUiOm51bGwsImFnZW50X3JvbGUiOm51bGwsInN0YXRlIjoid2FpdGluZyJ9XQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB0b19zZW5kKG5ld1ZhbCkgewogICAgICB0aGlzLmJ1dHRvbl9maWxsKCk7CiAgICB9LAogIH0sCiAgbWl4aW5zOiBbZ2VuZXJhdGVfdGltZV0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc29ja2V0ID0gbmV3IFNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX0xJVkVfQ0hBVF9XRUJTT0NLRVRfRU5EUE9JTlQsIHsKICAgICAgcGFyYW1zOiB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZQogICAgICB9LAogICAgfSk7CiAgICB0aGlzLnNvY2tldC5jb25uZWN0KCk7CiAgICB0aGlzLmNoID0gdGhpcy5zb2NrZXQuY2hhbm5lbCgKICAgICAgImNvbXBhbmllczoiICsgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZQogICAgKTsKICAgIHRoaXMuY2guam9pbigpOwoKICAgIHRoaXMuY2gub24oJ25ld19uYW1lJywgKHJlcykgPT4gewogICAgICB2YXIgY2hlY2sgPSB0aGlzLnVzZXJfbGlzdC5zb21lKG9iaiA9PiBvYmouY2hhbm5lbF9uYW1lID09PSByZXMudG9waWMpCiAgICAgIHZhciBpbmRleCA9IHRoaXMudXNlcl9saXN0LmZpbmRJbmRleChvYmogPT4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gcmVzLnRvcGljKTsKICAgICAgaWYoY2hlY2spIHRoaXMudXNlcl9saXN0W2luZGV4XS51c2VybmFtZSA9IHJlcy5uYW1lOwogICAgfSkKICAgIHRoaXMuY2gub24oImN1c3RvbWVyX2dyb3VwX3ByZXNlbmNlIiwgKHJlcykgPT4geyAKICAgICAgY29uc29sZS5sb2coImN1c3RvbWVyIGdyb3VwIGludGVydmFsIHVwZGF0ZSIsIHJlcyk7CiAgICAgIHZhciB0ZW1wID0gcmVzOwogICAgICBmb3IgKHZhciBpIGluIHRlbXAubWV0YXMpIHsKICAgICAgICBpZiAoQm9vbGVhbih0ZW1wLm1ldGFzW2ldLnVzZXJfaW5mby5pc19jdXN0b21lcikpIHsKICAgICAgICAgICAgdmFyIGNoYW5uZWxfZ3JvdXAgPSAiY3VzdG9tZXJzX2dyb3VwczoiICsgdGVtcC5tZXRhc1tpXS51c2VyX2luZm8uY3VzdG9tZXJfZ3JvdXBfbmFtZTsKICAgICAgICAgICAgdmFyIGNoZWNrID0gdGhpcy51c2VyX2xpc3Quc29tZShvYmogPT4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gY2hhbm5lbF9ncm91cCkKICAgICAgICAgICAgLy8gdGhpcy51c2VyX2NoYW5uZWxzW2NoYW5uZWxfZ3JvdXBdID0gdGhpcy5zb2NrZXQuY2hhbm5lbChyZXMuY3VzdG9tZXJfY2hhdF9ncm91cCk7CiAgICAgICAgICAgIGlmIChjaGVjaykgewogICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMudXNlcl9saXN0LmZpbmRJbmRleChvYmogPT4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gY2hhbm5lbF9ncm91cCk7CiAgICAgICAgICAgICAgaWYgKHRlbXAubWV0YXMubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLmlzX2Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfcm9sZSA9IHRlbXAubWV0YXNbMV0udXNlcl9pbmZvLnJvbGU7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfdXNlcm5hbWUgPSB0ZW1wLm1ldGFzWzFdLnVzZXJfaW5mby51c2VybmFtZTsKICAgICAgICAgICAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9PSAiZW5kZWQiID8gImVuZGVkIiA6ICJqb2luZWQiOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uaXNfY29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfcm9sZSA9IG51bGw7CiAgICAgICAgICAgICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfdXNlcm5hbWUgPSBudWxsOwogICAgICAgICAgICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLnN0YXRlID09ICJlbmRlZCIgPyAiZW5kZWQiIDogIndhaXRpbmciOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnVzZXJfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICJjaGFubmVsX25hbWUiOiBjaGFubmVsX2dyb3VwLAogICAgICAgICAgICAgICAgInVzZXJuYW1lIjogIiIsCiAgICAgICAgICAgICAgICAiaXNfY29ubmVjdGVkIjogZmFsc2UsCiAgICAgICAgICAgICAgICAiYWdlbnRfdXNlcm5hbWUiOiBudWxsLAogICAgICAgICAgICAgICAgImFnZW50X3JvbGUiOiBudWxsLAogICAgICAgICAgICAgICAgInN0YXRlIjogIndhaXRpbmciCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbY2hhbm5lbF9ncm91cF0gPSB0aGlzLnNvY2tldC5jaGFubmVsKAogICAgICAgICAgICAgICAgY2hhbm5lbF9ncm91cAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pCgogICAgdGhpcy5jaC5vbigiY3VzdG9tZXJfbmVlZHNfc3VwcG9ydF9hZ2VudCIsIChyZXMpID0+IHsKICAgICAgY29uc29sZS5sb2coInVzZXJjaGFubmVsIikKICAgICAgLy8gdGhpcy51c2VyX2xpc3QucHVzaCh7CiAgICAgIC8vICAgY2hhbm5lbF9uYW1lOiByZXMuY3VzdG9tZXJfY2hhdF9ncm91cCwKICAgICAgLy8gICB1c2VybmFtZTogIiIsCiAgICAgIC8vICAgaXNfY29ubmVjdGVkOiBmYWxzZQogICAgICAvLyB9KTsKICAgICAgLy8gdGhpcy5jdXJyZW50X3VzZXIgPSByZXMuY3VzdG9tZXJfY2hhdF9ncm91cDsKICAgICAgLy8gdGhpcy5jdXJyZW50X3VzZXIgPSAiQ3VzdG9tZXIiOwogICAgICAvLyB0aGlzLmN1cnJlbnRfY2hhbm5lbCA9IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwOwogICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdID0gdGhpcy5zb2NrZXQuY2hhbm5lbCgKICAgICAgICByZXMuY3VzdG9tZXJfY2hhdF9ncm91cAogICAgICApOwogICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLnNvY2tldC5jaGFubmVsKHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwKTsKCiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY3VzdG9tZXJfY2hhdF9ncm91cF0ub24oInN0YXJ0ZWRfdHlwaW5nIiwKICAgICAgICAodHlwaW5nX3Jlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXAgPT0gdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lKSB7CiAgICAgICAgICAgIGlmICh0eXBpbmdfcmVzcG9uc2Uuc2VuZGVyICE9ICJzdXBwb3J0X2FnZW50IikgewogICAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy51c2VyX2xpc3QuZmlsdGVyKCh1c2VyKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlci5jaGFubmVsX25hbWUgPT0gcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXA7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaWYgKG5hbWVbMF0udXNlcm5hbWUgPT0gIiIpIHsKICAgICAgICAgICAgICAgIHRoaXMubXNnX3NlbmRlciA9IHR5cGluZ19yZXNwb25zZS5zZW5kZXI7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubXNnX3NlbmRlciA9IG5hbWVbMF0udXNlcm5hbWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICApOwogICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJzdG9wcGVkX3R5cGluZyIsICgpID0+IHsKICAgICAgICB0aGlzLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY3VzdG9tZXJfY2hhdF9ncm91cF0ub24oIm5ld19jaGF0X21lc3NhZ2UiLAogICAgICAgIChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLnNlbmRlciA9PSAiY3VzdG9tZXIiKSB7CiAgICAgICAgICAgIHRoaXMuY2hhdF9saXN0LnB1c2goewogICAgICAgICAgICAgIHJlY2VpdmVkOiB0cnVlLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgY3VycmVudF9jaGFubmVsOiByZXMuY3VzdG9tZXJfY2hhdF9ncm91cCwKICAgICAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgICB0aGlzLm5vX3Jlc3BvbnNlKHRoaXMpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgKTsKICAgICAgLy8gdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jdXN0b21lcl9jaGF0X2dyb3VwXS5vbigibmV3X25hbWUiLCAocmVzcCkgPT4gewogICAgICAvLyAgIGZvciAobGV0IGkgPSAwLCBuID0gdGhpcy51c2VyX2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CiAgICAgIC8vICAgICBpZiAodGhpcy51c2VyX2xpc3RbaV0uY2hhbm5lbF9uYW1lID09IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwKSB7CiAgICAgIC8vICAgICAgIHRoaXMudXNlcl9saXN0W2ldLnVzZXJuYW1lID0gcmVzcC5uYW1lOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0KICAgICAgLy8gICB0aGlzLmN1cnJlbnRfdXNlciA9IHJlc3AubmFtZTsKICAgICAgLy8gICB0aGlzLm5vX3Jlc3BvbnNlKHRoaXMpOwogICAgICAvLyB9KTsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jdXN0b21lcl9jaGF0X2dyb3VwXS5vbigic3RvcHBlZF9jaGF0IiwgKHJlc3ApID0+IHsKICAgICAgICB0aGlzLmNoYXRfbGlzdC5wdXNoKHsKICAgICAgICAgIHJlY2VpdmVkOiB0cnVlLAogICAgICAgICAgdGV4dDogcmVzcC5uYW1lICsgcmVzcC5tZXNzYWdlLAogICAgICAgICAgY3VycmVudF9jaGFubmVsOiByZXNwLnRvcGljLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiByZXMubmFtZSArIHJlcy5tZXNzYWdlLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgdGltZXI6IDUwMDAsCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KG9iaiA9PiBvYmouY2hhbm5lbF9uYW1lID09PSByZXNwLnRvcGljKTsKICAgICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfdXNlcm5hbWUgPSB0aGlzLmFnZW50X3VzZXJuYW1lOwogICAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5pc19jb25uZWN0ZWQgPSB0cnVlOwogICAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9ICJlbmRlZCI7CiAgICAgICAgLy8gdG9hc3RyLmluZm8ocmVzcC5uYW1lICsgIiAiICsgcmVzcC5tZXNzYWdlKTsKICAgICAgICAvLyB0aGlzLnVzZXJfbGlzdCA9IHRoaXMudXNlcl9saXN0LmZpbHRlcigodXNlcikgPT4gewogICAgICAgIC8vICAgcmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gcmVzcC5uYW1lOwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIHRoaXMuY2hhdF9saXN0ID0gdGhpcy5jaGF0X2xpc3QuZmlsdGVyKChjaGF0KSA9PiB7CiAgICAgICAgLy8gICByZXR1cm4gY2hhdC5jdXJyZW50X2NoYW5uZWwgIT0gdGhpcy5jdXJyZW50X2NoYW5uZWw7CiAgICAgICAgLy8gfSk7CiAgICAgICAgLy8gdGhpcy5jdXJyZW50X3VzZXIgPSB0aGlzLmZpcnN0X25hbWU7CiAgICAgIH0pOwoKICAgICAgLy8gdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jdXN0b21lcl9jaGF0X2dyb3VwXS5qb2luKCk7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3koKXsgCiAgICB0aGlzLmNoLmxlYXZlKCk7CiAgICAvL2Rpc2Nvbm5lY3QgYWxsIGN1c3RvbWVyIHdoZW4gU0EgbmF2aWdhdGVzIHRvIG90aGVyIHBhZ2UKICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiB0aGlzLnVzZXJfY2hhbm5lbHMpIHsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Byb3BlcnR5XS5wdXNoKCJzdG9wcGVkX2NoYXQiLCB7CiAgICAgICAgICBuYW1lOiAiU3VwcG9ydCBBZ2VudCIsCiAgICAgICAgICBtZXNzYWdlOiAiaGFzIGVuZGVkIHRoaXMgY29udmVyc2F0aW9uLiIsCiAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Byb3BlcnR5XS5sZWF2ZSgpOwogICAgICB9CiAgICB0aGlzLnNvY2tldC5kaXNjb25uZWN0KCk7IAogIH0sCiAgbWV0aG9kczogewogICAgam9pbl9jdXN0b21lcihyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jaGFubmVsX25hbWVdLmpvaW4oKTsKICAgICAgdmFyIGluZGV4ID0gdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KG9iaiA9PiBvYmouY2hhbm5lbF9uYW1lID09PSByZXMuY2hhbm5lbF9uYW1lKTsKICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLmFnZW50X3VzZXJuYW1lID0gdGhpcy5hZ2VudF91c2VybmFtZTsKICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLmlzX2Nvbm5lY3RlZCA9IHRydWU7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9ICJqb2luZWQiOwogICAgICB0aGlzLmNoLm9uKCJjdXN0b21lcl9ncm91cF9wcmVzZW5jZSIsIChyZXMpID0+IHsgCiAgICAgIH0pCiAgICB9LAogICAgYnV0dG9uX2ZpbGwoKSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInN2ZyIpLnN0eWxlLmZpbGwgPSAiIzI3MzY3OSI7CiAgICAgIGlmICh0aGlzLnRvX3NlbmQgPT0gIiIpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdmciKS5zdHlsZS5maWxsID0gIiM4YThhOGE2MyI7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50b19zZW5kICE9ICIiKSB7CiAgICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3RoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ucHVzaCgic3RhcnRlZF90eXBpbmciKTsKICAgICAgfQogICAgICB0aGlzLnN0b3BfdHlwaW5nKHRoaXMpOwogICAgfSwKICAgIHN0b3BfdHlwaW5nOiBkZWJvdW5jZShmdW5jdGlvbiAodm0pIHsKICAgICAgdm0udXNlcl9jaGFubmVsc1t2bS5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lXS5wdXNoKCJzdG9wcGVkX3R5cGluZyIpOwogICAgfSwgNTAwMCksCiAgICBub19yZXNwb25zZTogZGVib3VuY2UoZnVuY3Rpb24gKHZtKSB7CiAgICAgIHZtLnVzZXJfY2hhbm5lbHNbdm0uY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ucHVzaCgibm9fcmVzcG9uc2UiLCB7CiAgICAgICAgc2VuZGVyOiAic2VuZGVyIiwKICAgICAgfSk7CiAgICB9LCAxMDAwMCksCiAgICBzZW5kX21lc3NhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnRvX3NlbmQgIT0gIiIgJiYgdGhpcy51c2VyX2xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuY2hhdF9saXN0LnB1c2goewogICAgICAgICAgc2VudDogdHJ1ZSwKICAgICAgICAgIHRleHQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgY3VycmVudF9jaGFubmVsOiB0aGlzLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWUsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3RoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ucHVzaCgibmV3X2NoYXRfbWVzc2FnZSIsIHsKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMudG9fc2VuZCwKICAgICAgICB9KTsKICAgICAgICB0aGlzLnRvX3NlbmQgPSAiIjsKICAgICAgICB0aGlzLm5vX3Jlc3BvbnNlKHRoaXMpOwogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICB9CiAgICB9LAogICAgZGlzY29ubmVjdF9zdXBwb3J0X2NoYXQoKSB7CiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1t0aGlzLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWVdLnB1c2goInN0b3BwZWRfY2hhdCIsIHsKICAgICAgICBuYW1lOiAiU3VwcG9ydCBBZ2VudCIsCiAgICAgICAgbWVzc2FnZTogImhhcyBlbmRlZCB0aGlzIGNvbnZlcnNhdGlvbi4iLAogICAgICB9KTsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3RoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ubGVhdmUoKTsKICAgICAgLy8gdGhpcy51c2VyX2xpc3QgPSB0aGlzLnVzZXJfbGlzdC5maWx0ZXIoKHVzZXIpID0+IHsKICAgICAgLy8gICByZXR1cm4gdXNlci5jaGFubmVsX25hbWUgIT0gdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lOwogICAgICAvLyB9KTsKCiAgICAgIHZhciBpbmRleCA9IHRoaXMudXNlcl9saXN0LmZpbmRJbmRleChvYmogPT4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lKTsKICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLmFnZW50X3VzZXJuYW1lID0gdGhpcy5hZ2VudF91c2VybmFtZTsKICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLmlzX2Nvbm5lY3RlZCA9IHRydWU7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9ICJlbmRlZCI7CiAgICAgIC8vIHRoaXMuY3VycmVudF91c2VyID0gdGhpcy5maXJzdF9uYW1lOwogICAgfSwKICAgIHVwZGF0ZV9zY3JvbGxiYXIoKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICB9LCAxNTAwKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoCiAgICAgICAgICAiLmNoYXQtYm9keSIKICAgICAgICApLnNjcm9sbEhlaWdodDsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICAvLyB1c2VyX2xpc3RfY2xhc3MoY2hhbm5lbG5hbWUpIHsKICAgICAgLy8gaWYgKGNoYW5uZWxuYW1lID09IHRoaXMuY3VycmVudF9jaGFubmVsKSB7CiAgICAgIC8vICAgcmV0dXJuICJuYXYtbGluayBhY3RpdmUiOwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHJldHVybiAibmF2LWxpbmsgaW5hY3RpdmUiOwogICAgICAvLyB9CiAgICAvLyB9LAogICAgc2VsZWN0X3VzZXIodXNlcikgewogICAgICB0aGlzLmN1cnJlbnRfdXNlciA9IHVzZXI7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfYWN0aXZlX3VzZXIoaW5kZXgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X3VzZXIpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZSA9PT0KICAgICAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5jaGFubmVsX25hbWUKICAgICAgICAgID8gImN1cnJlbnQtYWN0aXZlLXVzZXIiCiAgICAgICAgICA6IG51bGw7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},null]}