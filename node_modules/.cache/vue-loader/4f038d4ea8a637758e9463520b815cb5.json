{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/User Management/CreateChatGroups.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/User Management/CreateChatGroups.vue","mtime":1643027096184},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGF0X2dyb3VwX2xpc3Q6IFtdLAogICAgICBncm91cF9uYW1lOiAiIiwKICAgICAgbmV3X3VzZXJzX3NlbGVjdGVkOiBbXSwKICAgICAgc2VsZWN0ZWRfdXNlcnNfbGlzdDogW10sCiAgICAgIGNvbXBhbnluYW1lOiAiIiwKICAgICAgY29tcGFueWlkOiAiIiwKICAgICAgdXNlcnNfbGlzdDogW10sCiAgICAgIHNlbGVjdGVkX3VzZXJzOiBbXSwKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgYWRtaW5fbG9naW5fdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJHcm91cENoYXRMb2dpblRva2VuIiksCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZF9jaGF0Z3JvdXAoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCgiI2NyZWF0ZWNoYXRtb2RhbCIpLm9uKCJoaWRkZW4uYnMubW9kYWwiLCAoKSA9PiB7CiAgICAgIHZtLmNsZWFyX2ZpZWxkcygpOwogICAgfSk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdCwKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRfY2hhdGdyb3VwKCl7CiAgICAgIGlmICgKICAgICAgICAhdGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpICYmCiAgICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iCiAgICAgICkgewogICAgICAgIHRvYXN0ci53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGEgY29tcGFueSBuYW1lIGZyb20gdGhlIGRyb3Bkb3duIik7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIikgewogICAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikpIHsKICAgICAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlJZCIpOwogICAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55TmFtZSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIud2FybmluZygiUGxlYXNlIHNlbGVjdCBhIGNvbXBhbnkgbmFtZSBmcm9tIHRoZSBkcm9wZG93biIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgICB9CiAgICAgIGF4aW9zCiAgICAgICAgLmdldChhcGlfY2FsbHMuY2hhdF91c2VyX2dldF9ncm91cHNfdXJsKCksIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIkdyb3VwQ2hhdExvZ2luVG9rZW4iKSwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yID09ICJ5b3UgbmVlZCB0byBsb2cgaW4iKSB7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGFbaV0uaW5jbHVkZXMoInwiKSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfdXNlcnNfbGlzdChpLCByZXNwb25zZS5kYXRhW2ldKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy5sb2FkX3VzZXJzX3VybCgpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgICAgIHBlcl9wYWdlOiA1LAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkX3VzZXJzX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgdXNlcjogcmVzcG9uc2UuZGF0YVswXVtpXSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGdldF91c2Vyc19saXN0KGluZGV4LCBncm91cF9uYW1lKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldChhcGlfY2FsbHMuY2hhdF9hZG1pbl9nZXRfZ3JvdXBfbWVtYmVyc191cmwoKSwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGdyb3VwX25hbWU6IGdyb3VwX25hbWUsCiAgICAgICAgICAgIHRva2VuOiB0aGlzLmFkbWluX2xvZ2luX3Rva2VuLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3IgPT0gInlvdSBuZWVkIHRvIGxvZyBpbiIpIHsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY2hhdF9ncm91cF9saXN0ID0gW107CiAgICAgICAgICAgIHRoaXMuY2hhdF9ncm91cF9saXN0LnB1c2goewogICAgICAgICAgICAgIGdyb3VwX25hbWU6IGdyb3VwX25hbWUsCiAgICAgICAgICAgICAgdXNlcnNfbGlzdDogcmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0X25ld19ncm91cCgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMuaXNFZGl0ID09PSBmYWxzZSAmJiB0aGlzLmdyb3VwX25hbWUgIT0gIiIpIHsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmNoYXRfYWRtaW5fY3JlYXRlX2dyb3VwX3VybCgpLCB7CiAgICAgICAgICAgIGdyb3VwX25hbWU6IHRoaXMuZ3JvdXBfbmFtZSwKICAgICAgICAgICAgam9pbl9tZTogdHJ1ZSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuYWRtaW5fbG9naW5fdG9rZW4sCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHZhciBtZW1iZXJsaXN0ID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5zZWxlY3RlZF91c2VycykgewogICAgICAgICAgICAgIG1lbWJlcmxpc3QucHVzaCh0aGlzLnNlbGVjdGVkX3VzZXJzW2ldLnVzZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNyZWF0ZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJZb3VyIGdyb3VwIGhhcyBiZWVuIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LiIpOwogICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAucG9zdChhcGlfY2FsbHMuY2hhdF9hZG1pbl9hZGRfbWVtYmVyX3VybCgpLCB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLmFkbWluX2xvZ2luX3Rva2VuLAogICAgICAgICAgICAgICAgICBncm91cF9uYW1lOiB0aGlzLmdyb3VwX25hbWUsCiAgICAgICAgICAgICAgICAgIG1lbWJlcnNfaWRzOiBtZW1iZXJsaXN0LAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICAgICAgICAgIHZhciBhZGRlZCA9IHJlc3AuZGF0YS5maWx0ZXIoKHJlc3ApID0+IHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcC5hZGRlZCA9PSB0cnVlOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgaWYgKGFkZGVkLmxlbmd0aCA9PSByZXNwLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OgogICAgICAgICAgICAgICAgICAgICAgICAiTmV3IG1lbWJlcnMgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBncm91cCBzdWNjZXNzZnVsbHkuIiwKICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZF9jaGF0Z3JvdXAoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZ3JvdXBfbmFtZSA9PSAiIikgewogICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIHRoZSByZXF1aXJlZCBmaWVsZHMuIik7CiAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgdGhpcy5pc0VkaXQgPT09IHRydWUgJiYKICAgICAgICB0aGlzLmdyb3VwX25hbWUgIT0gIiIgJiYKICAgICAgICB0aGlzLm5ld191c2Vyc19zZWxlY3RlZC5sZW5ndGggPiAwCiAgICAgICkgewogICAgICAgIHZhciBtZW1iZXJsaXN0ID0gW107CiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLm5ld191c2Vyc19zZWxlY3RlZCkgewogICAgICAgICAgbWVtYmVybGlzdC5wdXNoKHRoaXMubmV3X3VzZXJzX3NlbGVjdGVkW2ldLnVzZXIpOwogICAgICAgIH0KICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmNoYXRfYWRtaW5fYWRkX21lbWJlcl91cmwoKSwgewogICAgICAgICAgICB0b2tlbjogdGhpcy5hZG1pbl9sb2dpbl90b2tlbiwKICAgICAgICAgICAgZ3JvdXBfbmFtZTogdGhpcy5ncm91cF9uYW1lLAogICAgICAgICAgICBtZW1iZXJzX2lkczogbWVtYmVybGlzdCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdmFyIGFkZGVkID0gcmVzcG9uc2UuZGF0YS5maWx0ZXIoKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFkZGVkID09IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoYWRkZWQubGVuZ3RoID09IHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OiAiTmV3IG1lbWJlcnMgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBncm91cCBzdWNjZXNzZnVsbHkuIiwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZF9jaGF0Z3JvdXAoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB1c2VyX3NlbGVjdGVkKHNlbGVjdGVkVXNlciwgaWQpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0ID09IHRydWUpIHsKICAgICAgICB0aGlzLm5ld191c2Vyc19zZWxlY3RlZC5wdXNoKHNlbGVjdGVkVXNlcik7CiAgICAgIH0KICAgIH0sCiAgICBuZXdfdXNlcl9yZW1vdmVkKHJlbW92ZWR1c2VyKSB7CiAgICAgIHZhciByZW1vdmVkX2luZGV4ID0gdGhpcy5uZXdfdXNlcnNfc2VsZWN0ZWQuaW5kZXhPZihyZW1vdmVkdXNlcik7CiAgICAgIGlmIChyZW1vdmVkX2luZGV4ID09IC0xICYmIHRoaXMuaXNFZGl0ID09IHRydWUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVfdXNlcihyZW1vdmVkdXNlciwgaWQpIHsKICAgICAgaWYgKHRoaXMubmV3X3VzZXJfcmVtb3ZlZChyZW1vdmVkdXNlcikgPT0gZmFsc2UpIHsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGl0bGU6CiAgICAgICAgICAgICJBcmUgeW91IHN1cmUgYWJvdXQgcmVtb3ZpbmcgdGhlIHVzZXIgIiArCiAgICAgICAgICAgIHJlbW92ZWR1c2VyLnVzZXIgKwogICAgICAgICAgICAiIGZyb20gdGhpcyBncm91cD8iLAogICAgICAgICAgdGV4dDogIllvdSB3b24ndCBiZSBhYmxlIHRvIHJldmVydCB0aGlzISIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSEhIiwKICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgdmFyIHVzZXJzID0gW107CiAgICAgICAgICAgIHVzZXJzLnB1c2gocmVtb3ZlZHVzZXIudXNlcik7CiAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmNoYXRfYWRtaW5fcmVtb3ZlX21lbWJlcl91cmwoKSwgewogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuYWRtaW5fbG9naW5fdG9rZW4sCiAgICAgICAgICAgICAgICBncm91cF9uYW1lOiB0aGlzLmdyb3VwX25hbWUsCiAgICAgICAgICAgICAgICBtZW1iZXJzX2lkczogdXNlcnMsCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhWzBdLmRlbGV0ZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiVGhlIG1lbWJlciBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIGdyb3VwLiIpOwogICAgICAgICAgICAgICAgICB0aGlzLmxvYWRfY2hhdGdyb3VwKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKCFyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF91c2Vycy5wdXNoKHJlbW92ZWR1c2VyKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsZWFyX2ZpZWxkcygpIHsKICAgICAgdGhpcy5zZWxlY3RlZF91c2VycyA9IFtdOwogICAgICB0aGlzLmdyb3VwX25hbWUgPSAiIjsKICAgICAgdGhpcy5pc0VkaXQgPSBmYWxzZTsKICAgICAgdGhpcy5uZXdfdXNlcnNfc2VsZWN0ZWQgPSBbXTsKICAgIH0sCiAgICBkZWxldGVfc2luZ2xlKGluZGV4KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBncm91cGxpc3QgPSBbXTsKICAgICAgZ3JvdXBsaXN0LnB1c2godGhpcy5jaGF0X2dyb3VwX2xpc3RbaW5kZXhdLmdyb3VwX25hbWUpOwogICAgICB0aGlzLmRlbGV0ZV9ncm91cF9hcGkodGhpcy5jaGF0X2dyb3VwX2xpc3RbaW5kZXhdLmdyb3VwX25hbWUpOwogICAgfSwKICAgIGRlbGV0ZV9ncm91cF9hcGkoZ3JvdXBsaXN0KSB7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUhISIsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5kZWxldGUoYXBpX2NhbGxzLmNoYXRfYWRtaW5fZGVsZXRlX2dyb3VwX3VybCgpLCB7CiAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy5hZG1pbl9sb2dpbl90b2tlbiwKICAgICAgICAgICAgICAgIGdyb3VwX25hbWU6IGdyb3VwbGlzdCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kZWxldGVkID09IHRydWUpIHsKICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJUaGUgZ3JvdXAgaGFzIGJlZW4gZGVsZXRlZC4iKTsKICAgICAgICAgICAgICAgIHRoaXMubG9hZF9jaGF0Z3JvdXAoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZWRpdF9ncm91cChpbmRleCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmlzRWRpdCA9IHRydWU7CiAgICAgIHRoaXMuZ3JvdXBfbmFtZSA9IHRoaXMuY2hhdF9ncm91cF9saXN0W2luZGV4XS5ncm91cF9uYW1lOwogICAgICB2YXIgbGlzdCA9IFtdOwogICAgICBmb3IgKHZhciBpIGluIHRoaXMuY2hhdF9ncm91cF9saXN0W2luZGV4XS51c2Vyc19saXN0KSB7CiAgICAgICAgbGlzdC5wdXNoKHsgdXNlcjogdGhpcy5jaGF0X2dyb3VwX2xpc3RbaW5kZXhdLnVzZXJzX2xpc3RbaV0gfSk7CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3RlZF91c2VycyA9IGxpc3Q7CiAgICB9LAogIH0sCn07Cg=="},null]}