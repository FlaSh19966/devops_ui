{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/ProductVariants.vue?vue&type=style&index=0&id=dee7068a&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/ProductVariants.vue","mtime":1643027096180},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kYXJrYmx1ZS1idG4gewogIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50OwogIHBhZGRpbmc6IDZweCAxNXB4ICFpbXBvcnRhbnQ7Cn0KLmVkaXQgewogIGxpbmUtaGVpZ2h0OiAxNnB4OwogIHBhZGRpbmc6IDEwcHggMTVweDsKfQouc2F2ZV9ub2RlX2J1dHRvbiB7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQ6ICMyNzM2Nzk7CiAgYm9yZGVyOiBzb2xpZCAxcHggIzI3MzY3OTsKICBwYWRkaW5nOiA2cHggMTVweDsKICBmb250LXdlaWdodDogNDAwOwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogIC8qIGRpc3BsYXk6IGlubGluZS1ibG9jazsgKi8KICBib3JkZXItcmFkaXVzOiA0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGZsb2F0OiByaWdodDsKfQouY3VycmVudC1hY3RpdmUtcHJvZHVjdCB7CiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjEpOwp9Ci50YWJsZS1ib3ggdGJvZHkgdHI6aG92ZXIgdGQsCi50YWJsZS1ib3ggdGJvZHkgdHI6aG92ZXIgdGggewogIGJhY2tncm91bmQ6ICNlY2VjZWM7Cn0KLnRhYmxlIHRoIHsKICBib3JkZXItdG9wOiBub25lOwp9Ci50YWJsZS1yZXNwb25zaXZlIHsKICBoZWlnaHQ6IDEwMHZoOwogIG92ZXJmbG93LXk6IGF1dG87CiAgYm9yZGVyOiAxcHggc29saWQgI2UzZTJlNTsKfQoudGFibGUtcmVzcG9uc2l2ZSB0aGVhZCB0aCB7CiAgdG9wOiAwOwogIHBvc2l0aW9uOiBzdGlja3k7Cn0KLnRhYmxlLXJlc3BvbnNpdmU6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICBtYXgtaGVpZ2h0OiAxMHB4OwogIHdpZHRoOiA3cHg7CiAgaGVpZ2h0OiA3cHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBvdmVyZmxvdy14OiBoaWRkZW47Cn0KLnRhYmxlLXJlc3BvbnNpdmU6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICBtYXgtaGVpZ2h0OiAxMHB4OwogIHdpZHRoOiA3cHg7CiAgaGVpZ2h0OiA3cHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBvdmVyZmxvdy14OiBoaWRkZW47Cn0KLnRhYmxlLXJlc3BvbnNpdmU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KLnRhYmxlLXJlc3BvbnNpdmU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICBiYWNrZ3JvdW5kOiAjMjczOTdiOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KLnRhYmxlLXJlc3BvbnNpdmU6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjMTkyOTVmOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0K"},{"version":3,"sources":["ProductVariants.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductVariants.vue","sourceRoot":"src/portal/Chatbot/Dashboard/ProductManagement","sourcesContent":["<template>\n  <div>\n    <div class=\"products_variants\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <!-- <div class=\"container\"> -->\n      <div class=\"col-sm-12 my-1\">\n        <div class=\"col-sm-12 my-1 d-flex\">\n          <button\n            id=\"product_variant_add_btn\"\n            class=\"darkblue-btn d-block ml-auto\"\n            type=\"button\"\n            data-toggle=\"modal\"\n            @click=\"add_variant_open_modal()\"\n          >\n            ADD\n          </button>\n          <button\n            id=\"product_variant_save_all_btn\"\n            class=\"darkblue-btn d-block ml-2\"\n            @click=\"save_variants\"\n            v-if=\"Boolean(current_active_product) === true\"\n          >\n            SAVE ALL\n          </button>\n        </div>\n      </div>\n      <div class=\"col-sm-12 d-flex\">\n        <div class=\"col-sm-4\">\n          <div\n            class=\"table-box\"\n            v-if=\"Boolean(current_active_product) === true\"\n          >\n            <div class=\"table-responsive\">\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th\n                      scope=\"col\"\n                      class=\"text-left\"\n                      style=\"\n                        font: normal normal normal 16px/22px Roboto;\n                        letter-spacing: 0px;\n                        color: #414141;\n                      \"\n                    >\n                      <span> VARIANT NAME </span>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"(product, index) in products_list_data\"\n                    :key=\"index\"\n                    style=\"cursor: pointer\"\n                    @click=\"set_current_product(index)\"\n                    :class=\"check_current_product_active(index)\"\n                  >\n                    <td>\n                      {{ product.search_parameter }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-8\">\n          <div\n            class=\"table-responsive px-3\"\n            v-if=\"Boolean(current_active_product) === true\"\n          >\n            <div class=\"px-3 pt-3\">\n              <!-- <h5>{{ current_active_product.search_parameter }} -->\n              <span\n                @click=\"edit_variant_details\"\n                v-html=\"pencil_svg\"\n                class=\"ml-auto\"\n                style=\"cursor: pointer; float: right\"\n                v-if=\"!is_edit_variant\"\n\t\t\t\t\t\t\t\ttitle=\"Edit\"\n              ></span>\n              <i\n                class=\"fa fa-times mt-2 pt-1\"\n                aria-hidden=\"true\"\n                style=\"cursor: pointer; float: right\"\n                @click=\"edit_variant_details\"\n                v-if=\"is_edit_variant\"\n\t\t\t\t\t\t\t\ttitle=\"Cancel\"\n              ></i>\n              <i\n                id=\"edit_save_btn\"\n                class=\"fa fa-check mt-2 pt-1 mr-2\"\n                aria-hidden=\"true\"\n                style=\"cursor: pointer; float: right\"\n                @click=\"edit_variant_save\"\n                v-if=\"is_edit_variant\"\n\t\t\t\t\t\t\t\ttitle=\"Save\"\n              ></i>\n              <!-- </h5> -->\n            </div>\n            <!-- <hr /> -->\n            <template v-if=\"!is_edit_variant\">\n              <h5>{{ current_active_product.search_parameter }}</h5>\n              <div class=\"card-act d-flex px-3\">\n                <!-- <input\n                type=\"text\"\n                v-model.trim=\"variant_name\"\n                class=\"form-control\"\n                placeholder=\"Add another name for product\"\n              /> -->\n                <!-- <button\n                id=\"alternate_product_name_add_btn\"\n                class=\"darkblue-btn ml-2\"\n                @click=\"add_alternate_name\"\n                v-if=\"!is_edit_alternate_name\"\n              >\n                ADD\n              </button>\n              <button\n                class=\"darkblue-btn ml-2\"\n                @click=\"save_edit_alternate_name\"\n                v-if=\"is_edit_alternate_name\"\n              >\n                EDIT\n              </button> -->\n              </div>\n              <div class=\"mt-1 py-2\">\n                <h5>\n                  Variant Values for\n                  {{ current_active_product.search_parameter }}\n                </h5>\n                <div style=\"border-bottom: 1px solid #e3e2e5\"></div>\n                <div\n                  v-for=\"(\n                    variant_name, index\n                  ) in current_active_product.search_parameter_values\"\n                  :key=\"index\"\n                  class=\"py-2 d-flex\"\n                >\n                  <span> {{ variant_name }} </span>\n                  <!-- <hr/> -->\n                  <!-- <span\n                  class=\"ml-auto c-p edit-delete-span\"\n                  @click=\"edit_variant_name(index)\"\n                >\n                  <img\n                    :src=\"\n                      require('@/portal/assets/img/edit-pencil-from-xd.svg')\n                    \"\n                    alt=\"Edit\"\n                  />\n                </span>\n                <span\n                  class=\"ml-2 c-p edit-delete-span\"\n                  @click=\"delete_alternate_name(index)\"\n                >\n                  <img\n                    :src=\"require('@/portal/assets/img/delete-from-xd.svg')\"\n                    alt=\"Delete\"\n                  />\n                </span> -->\n                </div>\n              </div>\n            </template>\n            <template v-else>\n              <!-- {{editing_variant_data}} -->\n              <h5>Edit Variant</h5>\n              <label for=\"\"><b> Variant Name: </b> </label>\n              <input\n                id=\"edit_variant_name\"\n                type=\"text\"\n                class=\"form-control\"\n                style=\"height: 40px !important; padding-left: 12px\"\n                v-model=\"editing_variant_data.search_parameter\"\n                v-on:keyup=\"validate_edit_variant_name\"\n                required\n                placeholder=\"Add Name for Variant\"\n              />\n               <span v-show=\"edit_variant_name_already_exist\" style=\"color: red\"\n                >A Variant with this name already exists.</span>\n\t\t\t\t\t\t\t<div class=\"pt-2 d-flex\">\n              <label> <b>Variant Values </b> </label>\n\t\t\t\t\t\t\t<i class=\"fa fa-plus ml-auto pt-2\" aria-hidden=\"true\" title=\"Add More\" @click=\"add_to_variants_edit_list('add')\" style=\"cursor:pointer;\"></i>\n\t\t\t\t\t\t\t</div>\n              <div\n                v-for=\"(\n                  new_edit_variant, index\n                ) in editing_variant_data.search_parameter_values\"\n                :key=\"index\"\n                class=\"form-group\"\n                style=\"display: flex\"\n              >\n                <input\n                  type=\"text\"\n                  v-model.trim=\"\n                    editing_variant_data.search_parameter_values[index]\n                  \"\n                  v-on:keyup=\"validate_edit_variant_value\"\n                  class=\"form-control edit\"\n                  placeholder=\"Enter variant value\"\n                  :id=\"`new_edit_variant_${index}`\"\n                />\n                <span\n                  v-if=\"editing_variant_data.search_parameter_values.length > 1\"\n                  style=\"cursor: pointer\"\n                  class=\"my-auto ml-2 mr-0\"\n                  @click=\"add_to_variants_edit_list('remove', index)\"\n                >\n\t\t\t\t\t\t\t\t\n                  <i style=\"font-size: 16px\" class=\"fa\" title=\"Cancel\">&#xf1f8;</i>\n                </span>\n              </div>\n              <div v-show=\"edit_variant_value_already_exist\">\n                <span style=\"color: red\">Two variant values cannot be same.</span>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"products_list_data.length === 0 && !spinnerOn\">\n        <div class=\"col-sm-12 d-flex px-0 py-5\">\n          <h4 class=\"mx-auto\">\n            Looks like you don't have any variants added. Let's begin by\n            clicking on Add Variant.\n          </h4>\n        </div>\n      </div>\n      <!-- </div> -->\n      <div id=\"myModal\" class=\"modal fade\" role=\"dialog\">\n        <div class=\"modal-dialog\">\n          <!-- Modal content-->\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h4 class=\"modal-title\">Add Variant</h4>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                &times;\n              </button>\n            </div>\n            <form @submit.prevent=\"add_new_variant_data\">\n              <div class=\"modal-body\">\n                <!-- <p>Some text in the modal.</p> -->\n                <div class=\"form-group\">\n                  <label for=\"\"> Variant Name </label>\n                  <!-- <input\n                type=\"text\"\n                v-model.trim=\"new_variant_name\"\n                class=\"form-control\"\n                placeholder=\"Add Name for Variant\"\n              /> -->\n                  <input\n                    id= \"variant_name\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    style=\"height: 40px !important; padding-left: 12px\"\n                    v-on:keyup=\"validate_variant_name\"\n                    v-model=\"new_variant_name\"\n                    required\n                    placeholder=\"Add Name for Variant\"\n                  />\n                  <span v-show=\"variant_name_already_exist\" style=\"color: red\"\n                >A Variant with this name already exists.</span>\n                </div>\n                \n                <div class=\"form-group\" style=\"margin-bottom: 4px\">\n                  <label> Add Variant Values </label>\n                  <!-- <button\n                    class=\"save_node_button\"\n                    @click=\"add_variant_values\"\n                    type=\"button\"\n                    style=\"height: 29px; padding: 0px 10px\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"14\"\n                      height=\"13.997\"\n                      viewBox=\"0 0 14 13.997\"\n                    >\n                      <path\n                        id=\"Union_13\"\n                        data-name=\"Union 13\"\n                        d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                        transform=\"translate(12690.001 -2045.002)\"\n                        fill=\"#fff\"\n                      />\n                    </svg>\n                  </button> -->\n\t\t\t\t\t\t\t<i class=\"fa fa-plus ml-auto pt-2\" aria-hidden=\"true\" title=\"Add More\" @click=\"add_variant_values()\" style=\"cursor:pointer;float: right;\"></i>\n                </div>\n                <div\n                  style=\"display: flex; margin-top: 2%\"\n                  v-for=\"(variant, index) in new_variant_values\"\n                  :key=\"index\"\n                >\n                  <input\n                    :id=\"'variant_value'+index\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    style=\"height: 40px !important; padding-left: 12px\"\n                    v-model=\"variant.variant\"\n                    v-on:keyup=\"validate_variant_value\"\n                    required\n                    placeholder=\"Add Your Variant Values Here\"\n                  />\n                                    \n                  <!-- <button\n                    class=\"save_node_button\"\n                    style=\"\n                      margin-left: 3%;\n                      height: 39px;\n                      padding: 0px 10px;\n                      background: #f23d3d;\n                      border: solid 1px #f23d3d;\n                    \"\n                    @click=\"delete_add_variant(index)\"\n                    type=\"button\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"14\"\n                      height=\"14\"\n                      viewBox=\"0 0 14 14\"\n                    >\n                      <path\n                        id=\"trash-can-outline\"\n                        d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                        transform=\"translate(-4 -3)\"\n                        fill=\"#fff\"\n                      />\n                    </svg>\n                  </button> -->\n\t\t\t\t\t\t\t\t\t <i v-if=\"new_variant_values.length > 1\" style=\"font-size: 16px;float:right;cursor:pointer\" class=\"fa my-auto pl-3\" title=\"Cancel\" @click=\"delete_add_variant()\">&#xf1f8;</i>\n                </div>\n                   <div v-show=\"variant_value_already_exist\">\n                     <span style=\"color: red\">Two variant values cannot be same.</span>\n                   </div>\n              </div>\n              <div class=\"modal-footer\">\n                <button id = \"add_btn\" type=\"submit\" class=\"darkblue-btn\">Add</button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  @click=\"reset_new_data_values\"\n                >\n                  Close\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport Swal from \"sweetalert2\";\nimport swal from \"sweetalert2\";\nimport { freeze_portal, show_subscription_expired_swal } from \"@/portal/mixins\";\n\nexport default {\n  name: \"ProductVariants\",\n  mixins: [freeze_portal, show_subscription_expired_swal],\n  data() {\n    return {\n      spinnerOn: false,\n      products_list_data: [],\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      current_active_product: null,\n      new_variant_name: null,\n      variant_name_already_exist: false,\n      variant_value_already_exist: false,\n      edit_variant_name_already_exist: false,\n      edit_variant_value_already_exist: false,\n      new_variant_values: [\n        {\n          variant: null,\n        },\n      ],\n      variant_name: null,\n      pencil_svg:\n        ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n      is_edit_variant: false,\n      editing_variant_data: null,\n      current_active_product_index: 0,\n      disable_btn_expired: false,\n    };\n  },\n  watch: {\n    new_variant_values(){\n      this.validate_variant_value();\n    },\n  },\n  mounted() {\n    this.get_variants_data();\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 3000);\n    this.$root.$on(\"VariantsDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    })\n  },\n  methods: {\n    get_variants_data() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.add_product_variants(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_get: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          // console.log(data);\n          // if(data.product_variant.length === 0){\n          // this.get_all_products_data();\n          // } else {\n          this.products_list_data =\n            data.product_variant[0].product_variant_data;\n          this.current_active_product = this.products_list_data[0];\n          // }\n        });\n    },\n    get_all_products_data() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_synonyms(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_get_product_list: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if (data.status === \"Success\") {\n            let product_names_list = data.product_names_list;\n            for (let i = 0, l = product_names_list.length; i < l; i++) {\n              this.products_list_data.push({\n                search_parameter: product_names_list[i],\n                search_parameter_values: [],\n              });\n            }\n            this.current_active_product = this.products_list_data[0];\n            // console.log(this.products_list_data);\n            // if (this.product_names_list.length > 0) {\n            //   this.current_product_name = this.product_names_list[0];\n            // }\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    add_variants() {},\n    save_variants() {\n      if(!this.disable_btn_expired){\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.add_product_variants(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            product_variant: this.products_list_data,\n            is_add: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if (\n            data.MSG ===\n            \"product search List and Its values Inserted Successfully\"\n          ) {\n            swal({\n              type: \"success\",\n              text: \"Your variants data has been saved successfully.\",\n              timer: 3000,\n            });\n          } else {\n            swal({\n              type: \"error\",\n              text: \"Some error occurred. Please try again.\",\n              timer: 3000,\n            });\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n      }else {\n        this.show_subscription_expired_swal();\n      }\n    },\n    check_current_product_active(index) {\n\t\t\t if (Boolean(this.current_active_product) === true) {\n        return this.current_active_product.search_parameter ===\n          this.products_list_data[index].search_parameter\n          ? \"current-active-product\"\n          : null;\n      }\n\t\t},\n    delete_add_variant(index) {\n      if (this.new_variant_values.length > 1) {\n        this.new_variant_values.splice(index, 1);\n      }\n    },\n    add_variant_values() {\n      this.new_variant_values.push({\n        variant:null,\n        });\n    },\n    validate_variant_name(){\n      let v = document.getElementById('variant_name').value;\n      let count = 0;\n      for (let i =0; i < this.products_list_data.length; i++){\n        if(v == this.products_list_data[i].search_parameter){\n          count+=1;\n          break;\n        }\n      }\n      if (count > 0){\n        this.variant_name_already_exist = true;\n        document.getElementById(\"variant_name\").style.border =\"1px solid red\";\n      }\n      else{\n        this.variant_name_already_exist = false;\n        document.getElementById(\"variant_name\").style.border =\"1px solid #00f000\";\n      }\n    },\n    validate_variant_value(){\n      let cur_val = this.new_variant_values.map(item => item.variant);\n      let uniq = [...new Set(cur_val)];\n      if (cur_val.length != uniq.length){\n        document.getElementById(\"add_btn\").disabled = true;\n        this.variant_value_already_exist = true;\n\n      }\n      else{\n        document.getElementById(\"add_btn\").disabled = false;\n        this.variant_value_already_exist = false;\n      }\n    },\n    validate_edit_variant_name(){\n      let v = document.getElementById('edit_variant_name').value;\n      let count = 0;\n      for (let i =0; i < this.products_list_data.length; i++){\n        if(v == this.products_list_data[i].search_parameter){\n          count+=1;\n          break;\n        }\n      }\n      if (count > 0){\n        this.edit_variant_name_already_exist = true;\n        document.getElementById(\"edit_variant_name\").style.border =\"1px solid red\";\n      }\n      else{\n        this.edit_variant_name_already_exist = false;\n        document.getElementById(\"edit_variant_name\").style.border =\"1px solid #00f000\";\n      }\n    },\n    validate_edit_variant_value(){\n      let cur_val = this.editing_variant_data.search_parameter_values;\n      let uniq = [...new Set(cur_val)];\n      if (cur_val.length != uniq.length){\n        document.getElementById(\"edit_save_btn\").style.pointerEvents = \"none\";\n        this.edit_variant_value_already_exist = true;\n\n      }\n      else{\n        document.getElementById(\"edit_save_btn\").style.pointerEvents = \"all\";\n        this.edit_variant_value_already_exist = false;\n      }\n    },\n\n    add_new_variant_data() {\n      if (this.variant_name_already_exist == false){     \n      this.products_list_data.unshift({\n      search_parameter: this.new_variant_name,\n      search_parameter_values: this.new_variant_values.map((x) => x.variant),\n      });\n      $(\"#myModal\").modal(\"hide\");\n      this.new_variant_name = null;\n      this.new_variant_values= [\n        {\n          variant: null,\n        },\n      ];\n      document.getElementById(\"variant_name\").style.border =\"solid 1px #DBE2E8\"; \n      this.current_active_product = this.products_list_data[0];\n      }\n    },\n    edit_variant_details() {\n      this.is_edit_variant = !this.is_edit_variant;\n      if (this.is_edit_variant) {\n        this.editing_variant_data = JSON.parse(\n          JSON.stringify(this.current_active_product)\n        );\n        return;\n      }\n      this.editing_variant_data = null;\n      this.edit_variant_name_already_exist = false;\n      this.edit_variant_value_already_exist = false;\n    },\n    set_current_product(index) {\n      this.current_active_product = this.products_list_data[index];\n      this.current_active_product_index = index;\n    },\n    edit_variant_save() {\n      if (this.edit_variant_name_already_exist == false && Boolean(this.editing_variant_data.search_parameter) == true){\n      this.products_list_data[\n        this.current_active_product_index\n      ].search_parameter_values = this.editing_variant_data.search_parameter_values.filter((item) => Boolean(item));\n      this.products_list_data[\n        this.current_active_product_index\n      ].search_parameter = this.editing_variant_data.search_parameter;\n      this.is_edit_variant = false;\n      this.current_active_product = this.products_list_data[0];\n      }\n    },\n    reset_new_data_values() {\n      this.new_variant_name = null;\n      this.new_variant_values = [\n        {\n          variant: null,\n        },\n      ];\n      this.variant_name_already_exist = false;\n      document.getElementById(\"variant_name\").style.border =\"solid 1px #DBE2E8\";\n    },\n\t\tadd_to_variants_edit_list(type,index){\n\t\t\tif (type == \"add\") {\n\t\t\t\tthis.editing_variant_data.search_parameter_values.unshift(\"\");\n        } else if (type == \"remove\") {\n          this.editing_variant_data.search_parameter_values.splice(index, 1);\n          this.validate_edit_variant_value();\n        }\n\t\t},\n    add_variant_open_modal(){\n      if(!this.disable_btn_expired){\n        $(\"#myModal\").modal('show')\n      } else {\n        this.show_subscription_expired_swal();\n      }\n    }\n  },\n};\n</script>\n\n<style scoped>\n.darkblue-btn {\n  font-size: 14px !important;\n  padding: 6px 15px !important;\n}\n.edit {\n  line-height: 16px;\n  padding: 10px 15px;\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.current-active-product {\n  background: rgba(0, 0, 0, 0.1);\n}\n.table-box tbody tr:hover td,\n.table-box tbody tr:hover th {\n  background: #ececec;\n}\n.table th {\n  border-top: none;\n}\n.table-responsive {\n  height: 100vh;\n  overflow-y: auto;\n  border: 1px solid #e3e2e5;\n}\n.table-responsive thead th {\n  top: 0;\n  position: sticky;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n</style>"]}]}