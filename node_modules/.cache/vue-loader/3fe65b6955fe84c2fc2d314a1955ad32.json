{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/ProductManagement/AlternateProductNames.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/ProductManagement/AlternateProductNames.vue","mtime":1661252053823},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzLmpzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWx9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFsdGVybmF0ZVByb2R1Y3ROYW1lc1BhZ2UiLAogIG1peGluczogWwogICAgZnJlZXplX3BvcnRhbCxzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwKICBdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgLy8gcHJvZHVjdF9uYW1lc19saXN0OiBbXSwKICAgICAgY3VycmVudF9wcm9kdWN0X25hbWU6IG51bGwsCiAgICAgIGFsdGVybmF0ZV9wcm9kdWN0X25hbWU6IG51bGwsCiAgICAgIGFsdGVybmF0ZV9wcm9kdWN0X2xpc3Q6IFtdLAogICAgICBpc19lZGl0X2FsdGVybmF0ZV9uYW1lOiBmYWxzZSwKICAgICAgY3VycmVudF9lZGl0X2luZGV4OiBudWxsLAogICAgICByZXRhaWxfYm90X3RlbXBsYXRlX2lkOiBudWxsLAogICAgICBwcm9kdWN0c19saXN0X2RhdGE6IFtdLAogICAgICBjdXJyZW50X2FjdGl2ZV9wcm9kdWN0OiBudWxsLAogICAgICBpc1Zpc2libGVTZWFyY2hDbGVhcjogZmFsc2UsCiAgICAgIHdhbnRfc3RhdHVzOiB0cnVlLAogICAgICBpbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3M6IGZhbHNlLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcHJvZHVjdE5hbWUoKXsKICAgICAgdmFyIHByb2R1Y3RzX25hbWUgPSAiIgogICAgICBpZih0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggIT0gMCl7CiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7CiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNoZWNrZWRfbGlzdCl7CiAgICAgICAgICBpZiAodGhpcy5jaGVja2VkX2xpc3RbaV0ucHJvZHVjdF9uYW1lID09IHRoaXMuY3VycmVudF9hY3RpdmVfcHJvZHVjdC5wcm9kdWN0X25hbWUpewogICAgICAgICAgICBjaGVjayA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjaGVjayl7CiAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoIC0gMTsKICAgICAgICAgIHJldHVybiBwcm9kdWN0c19uYW1lID0gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZSArIChsZW4gPiAwID8gIiBhbmQgIiArIChsZW4gPiAwID8gbGVuIDogJycpICsgIiBtb3JlIiA6ICcnKTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZTsKICAgICAgICB9CiAgICAgIH1lbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZTsKICAgICAgfQogICAgfSwKICAgIHJlc3VsdFF1ZXJ5KCl7CiAgICAgIGlmKHRoaXMuc2VhcmNoUXVlcnkpewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0c19saXN0X2RhdGEuZmlsdGVyKChpdGVtKT0+ewogICAgICAgIHJldHVybiB0aGlzLnNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5ldmVyeSh2ID0+IGl0ZW0ucHJvZHVjdF9uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModikpCiAgICAgIH0pCiAgICAgIH1lbHNlewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrX2lzX2VkaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzX2VkaXRfYWx0ZXJuYXRlX25hbWUKICAgICAgICA/IHRoaXMuc2F2ZV9lZGl0X2FsdGVybmF0ZV9uYW1lCiAgICAgICAgOiB0aGlzLmFkZF9hbHRlcm5hdGVfbmFtZTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IGJvdF90ZW1wbGF0ZXNfZGF0YSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJCb3RUZW1wbGF0ZXMiKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3RfdGVtcGxhdGVzX2RhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoCiAgICAgICAgICBib3RfdGVtcGxhdGVzX2RhdGFbaV0uZG9tYWluID09PSAiUmV0YWlsIiAmJgogICAgICAgICAgYm90X3RlbXBsYXRlc19kYXRhW2ldLnN1YnNjcmliZWQgPT09IHRydWUKICAgICAgICApIHsKICAgICAgICAgIHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCA9IGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS50ZW1wbGF0ZV9pZDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KICAgIHRoaXMuJHJvb3QuJG9uKCJzZW5kX21vZGVsX3N0YXR1cyIsIGRhdGEgPT57CiAgICAgIGlmIChkYXRhID09IHRydWUpewogICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKTsKICAgICAgfQogICAgfSkKICAgIHZhciB2bSA9IHRoaXM7CiAgICAkKCIjc2VsZWN0YWxsIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICBpZiAoJCh0aGlzKS5pcygiOmNoZWNrZWQiKSkgewogICAgICAgIC8vICQoJ2RpdjppbnB1dCcpLnByb3AoJ2NoZWNrZWQnLHRydWUpOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgfQogICAgfSk7CiAgICAvLyB0aGlzLmZldGNoX3Byb2R1Y3RfbGlzdCgpOwogICAgdGhpcy5mZXRjaF9hZGRlZF9zeW5vbnltcygpOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuZnJlZXplX3BvcnRhbCgpOwogICAgfSwgMTAwMCk7CiAgICB0aGlzLmNoZWNrX2ludGVudF9uZXJfbW9kZWxfc3RhdHVzKCk7CiAgICB0aGlzLiRyb290LiRvbigiQWx0ZXJuYXRlUHJvZHVjdE5hbWVzUGFnZURpc2FibGVkIiwgKGRhdGEpID0+ewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSkKICB9LAogIHdhdGNoOnsKICBzZWFyY2hRdWVyeSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkgPT09ICcnIHx8IHRoaXMuc2VhcmNoUXVlcnkgPT09IG51bGwpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hRdWVyeSAhPSBudWxsIHx8IHRoaXMuc2VhcmNoUXVlcnkgIT0nJykgewogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuc2V0X2N1cnJlbnRfcHJvZHVjdCgwKTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RlZF9zdGF0ZW1lbnRzKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSAiYWxsIikgewogICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgdmFyIHJvbGVfbGVuZ3RoID0gdGhpcy5yZXN1bHRRdWVyeS5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb2xlX2xlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRoaXMucmVzdWx0UXVlcnlbaV0pOwogICAgICAgIH0KICAgICAgfWVsc2UgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tlZF9saXN0LmluY2x1ZGVzKGluZGV4KSkgewogICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgc2VsZWN0YWxsLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5jaGVja2VkX2xpc3QuZmlsdGVyKChyb2xlKT0+IHsKICAgICAgICAgICAgcmV0dXJuIHJvbGUgIT09IHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKXsKICAgIHRoaXMubW9kZWxfc3RhdHVzID0gdGhpcy4kc2Vzc2lvbi5nZXQoIk1vZGVsU3RhdHVzIik7CiAgICBpZiAodGhpcy5tb2RlbF9zdGF0dXMgPT0gIk5vIEZhaWx1cmUiKXsKICAgIHRoaXMuaW50ZW50X25lcl9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICB9CiAgICBlbHNlIGlmIChCb29sZWFuKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCkgPT09IHRydWUgCiAgICAgfHwgQm9vbGVhbih0aGlzLm1vZGVsX3N0YXR1cy5uZXJfbW9kZWwpID09PSB0cnVlKXsKICAgICBpZih0aGlzLm1vZGVsX3N0YXR1cy5pbnRlbnRfbW9kZWwgPT0gIkluUHJvZ3Jlc3MiCiAgICAgIHx8IHRoaXMubW9kZWxfc3RhdHVzLm5lcl9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIpewogICAgICAgdGhpcy5pbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3MgPSB0cnVlOwogICAgIH0KICAgICBlbHNlewogICAgICAgdGhpcy5pbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3MgPSBmYWxzZTsKICAgICB9CiAgICB9CiAgICBlbHNlewogICAgICB0aGlzLmludGVudF9uZXJfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOyAKICAgIH0KICAgIH0sCgogICAgc2hvd19tb2RlbF9wcm9ncmVzcyhpbmRleCl7CiAgICAgIGlmKHRoaXMuaW50ZW50X25lcl9tb2RlbF9pbnByb2dyZXNzID09IHRydWUpewogICAgICAgICBpZiAoaW5kZXggPT0gJ3N0eWxlJyl7CiAgICAgICAgICAgIHJldHVybiAiY3Vyc29yOiBub3QtYWxsb3dlZCI7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIGlmKGluZGV4ID09ICd0aXRsZScpewogICAgICAgICAgICAgIHJldHVybiB0aGlzLnRsdCgnYWx0ZXJfdHJhaW5pbmdfcHJvZ3Jlc3NfbXNnJyk7CiAgICAgICAgICB9CiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNsZWFyX3NlYXJjaF9uYW1lKCkgewogICAgICB0aGlzLnNlYXJjaFF1ZXJ5ID0gbnVsbDsKICAgIH0sCiAgICBzeW5jX3Byb2R1Y3RzKCkgewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2FsdGVyX3Byb2R1Y3Rfc3dhbF9tc2cnKSwKICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9zeW5jX21zZycpLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9jb25maXJtX21zZycpLAogICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfc3lub255bXMoKSwgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHRlbXBsYXRlX2lkOiB0aGlzLnJldGFpbF9ib3RfdGVtcGxhdGVfaWQsCiAgICAgICAgICBpc19zeW5jOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKGRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5TWU5DX0lOUFJPR1JFU1NfTU9ERUxTLk1TR19DT0RFKXsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdhbHRlcl9wcm9kdWN0X3N5bmNlZF9tc2cnKSwKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9pbl9wcm9ncmVzc19tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDU1MDAsCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9lcnJvcl9vY2N1cnJlZF9tc2cnKSwKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9zd2FsX3RyeV9hZ2Fpbl9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBmZXRjaF9hZGRlZF9zeW5vbnltcygpIHsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9zeW5vbnltcygpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgdGVtcGxhdGVfaWQ6IHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCwKICAgICAgICAgIGlzX2dldDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEVfTU9ERUxTLk1TR19DT0RFKSB7CiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuZGF0YS5TeW5vbnltcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0X2RhdGEgPSBkYXRhLmRhdGEuZGF0YS5TeW5vbnltczsKICAgICAgICAgICAgICB0aGlzLnNldF9jdXJyZW50X3Byb2R1Y3QoMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgICAgIH0pLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgfSwKICAgIC8vIGZldGNoX3Byb2R1Y3RfbGlzdCgpIHsKICAgIC8vICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgLy8gICBheGlvcwogICAgLy8gICAgIC5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9zeW5vbnltcygpLCB7CiAgICAvLyAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAvLyAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgLy8gICAgICAgaXNfZ2V0X3Byb2R1Y3RfbGlzdDogdHJ1ZSwKICAgIC8vICAgICB9LAogICAgLy8gICAgIHsKICAgIC8vICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgfSwKICAgIC8vICAgICB9KQogICAgLy8gICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgLy8gICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gIlN1Y2Nlc3MiKSB7CiAgICAvLyAgICAgICAgIHRoaXMucHJvZHVjdF9uYW1lc19saXN0ID0gZGF0YS5wcm9kdWN0X25hbWVzX2xpc3Q7CiAgICAvLyAgICAgICAgIGlmICh0aGlzLnByb2R1Y3RfbmFtZXNfbGlzdC5sZW5ndGggPiAwKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy5jdXJyZW50X3Byb2R1Y3RfbmFtZSA9IHRoaXMucHJvZHVjdF9uYW1lc19saXN0WzBdOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9CiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICAvLyB9LCAxMDAwKTsKICAgIC8vICAgICB9KQogICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgICAgaWYgKAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgICApIHsKICAgIC8vICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vIH0sCiAgICBhZGRfYWx0ZXJuYXRlX25hbWUoKSB7CiAgICAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgICBpZiAoQm9vbGVhbih0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpID09PSB0cnVlKXsKICAgICAgICBpZih0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggPiAwKXsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9tdWx0aXBsZV9zZWxlY3RfbXNnJyksCiAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdhbHRlcl9wcm9kdWN0X25hbWVfbXNnMScpICsgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lICsgdGhpcy50bHQoJ2FsdGVyX3Byb2R1Y3RfbmFtZV9tc2czJyksCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jaGVja2VkX2xpc3QpewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiBpbiB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YSl7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdFtpXS5pZCA9PSB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YVtqXS5pZCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0X2RhdGFbal0uc3lub255bXMucHVzaCh0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRlX3Byb2R1Y3RfbmFtZSA9IG51bGw7CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3Quc3lub255bXMucHVzaCh0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpOwogICAgICAgICAgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lID0gbnVsbDsKICAgICAgICB9CiAgICAgIH19ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogICAgZWRpdF9hbHRlcm5hdGVfbmFtZShpbmRleCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJsZV9pZCIpLnNjcm9sbFRvcCA9IDA7CiAgICAgIGlmICghdGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lKSB7CiAgICAgICAgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lID0gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnN5bm9ueW1zWwogICAgICAgICAgaW5kZXgKICAgICAgICBdOwogICAgICAgIHRoaXMuY3VycmVudF9lZGl0X2luZGV4ID0gaW5kZXg7CiAgICAgICAgdGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlc2V0X2VkaXQoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVfZWRpdF9hbHRlcm5hdGVfbmFtZSgpIHsKICAgICAgdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnN5bm9ueW1zWwogICAgICAgIHRoaXMuY3VycmVudF9lZGl0X2luZGV4CiAgICAgIF0gPSB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWU7CiAgICAgIHRoaXMucmVzZXRfZWRpdCgpOwogICAgfSwKICAgIGRlbGV0ZV9hbHRlcm5hdGVfbmFtZShpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3Quc3lub255bXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICByZXNldF9lZGl0KCkgewogICAgICB0aGlzLmlzX2VkaXRfYWx0ZXJuYXRlX25hbWUgPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50X2VkaXRfaW5kZXggPSBudWxsOwogICAgICB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUgPSBudWxsOwogICAgfSwKICAgIHNldF9jdXJyZW50X3Byb2R1Y3QoaW5kZXgpIHsKICAgICAgdGhpcy5yZXNldF9lZGl0KCk7CiAgICAgIHRoaXMuY3VycmVudF9hY3RpdmVfcHJvZHVjdCA9IHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdOwogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfcHJvZHVjdF9hY3RpdmUoaW5kZXgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0KSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3QuaWQgPT09CiAgICAgICAgICB0aGlzLnJlc3VsdFF1ZXJ5W2luZGV4XS5pZAogICAgICAgICAgPyAiY3VycmVudC1hY3RpdmUtcHJvZHVjdCIKICAgICAgICAgIDogbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfZWRpdF9zeW5vbnltKGluZGV4LCB0YWcpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lKSA9PT0gdHJ1ZSkgewogICAgICAgIGlmICh0YWcgPT09ICJzcGFuIikgewogICAgICAgICAgcmV0dXJuICJub3QtY3VycmVudC1lZGl0LXN5bm9ueW0tc3BhbiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRfZWRpdF9pbmRleCA9PT0gaW5kZXgKICAgICAgICAgICAgPyAiY3VycmVudC1lZGl0LXN5bm9ueW0iCiAgICAgICAgICAgIDogIm5vdC1jdXJyZW50LWVkaXQtc3lub255bSI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAibm90LWVkaXRpbmctc3lub255bXMiOwogICAgICB9CiAgICB9LAogICAgc2F2ZV9zeW5vbnltcygpIHsKICAgICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdhbHRlcl9wcm9kdWN0X3N3YWxfc2F2ZV9tc2cnKSwKICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9zd2FsX3NhdmVfbXNnMScpLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9zd2FsX2NvbmZpcm1fbXNnJyksCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9zeW5vbnltcygpLCB7CiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgIGlzX2FkZF9vcl9lZGl0OiB0cnVlLAogICAgICAgICAgICAgIHRlbXBsYXRlX2lkOiB0aGlzLnJldGFpbF9ib3RfdGVtcGxhdGVfaWQsCiAgICAgICAgICAgICAgc3lub255bXM6IHRoaXMucHJvZHVjdHNfbGlzdF9kYXRhCiAgICAgICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuVEVNUExBVEVfU1lOT05ZTVNfVVBEQVRFRF9TVUNDRVNTRlVMTFlfTU9ERUxTLk1TR19DT0RFCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgICB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9kYXRhX3JlZmxlY3RfbXNnJyksCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICAgIC8vIHRpbWVyOiA1MDAwLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF9zb21lX2Vycm9yX21zZzEnKSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdhbHRlcl9wcm9kdWN0X3NvbWVfZXJyb3JfX21zZzInKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBCb29sZWFuKGUucmVzcG9uc2UpID09PSB0cnVlICYmCiAgICAgICAgICAgICAgICAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTt9ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogICAgdHJhaW5fbW9kZWwoKSB7CiAgICAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2FsdGVyX3Byb2R1Y3Rfc3dhbF9tb2RlbF9tc2cnKSwKICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnYWx0ZXJfcHJvZHVjdF90cmFpbl9tb2RlbF9tc2cnKSwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ2FsdGVyX3Byb2R1Y3Rfc3dhbF9jb25maXJtX21zZycpLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbmVyX21vZGVsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgdXBkYXRlX21vZGVsOiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy53YW50X3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgid2FudF9tb2RlbF9zdGF0dXMiLHRoaXMud2FudF9zdGF0dXMpOwogICAgICAgICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKTsKICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IodGhpcy50bHQoJ2FsdGVyX3Byb2R1Y3RfaW50ZXJuYWxfc2VydmVyX21zZycpKTsKICAgICAgICAgICAgICB9ZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuVFJBSU5JTkdfTElNSVRfRVhDRUVEX01PREVMUy5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgICAgdHlwZToiZXJyb3IiCiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pO31lbHNlewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["AlternateProductNames.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AlternateProductNames.vue","sourceRoot":"src/portal/Chatbot/Dashboard/ProductManagement","sourcesContent":["<template>\n  <div class=\"alternate_products\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <!-- <div class=\"container\"> -->\n    <div class=\"col-sm-12 my-1\">\n      <div class=\"card-act col-sm-12 my-1\">\n        <div class=\"card-act d-flex \">\n          <div class=\"col-sm-4 pl-0 flex-wrap\">\n            <input \n              class=\"form-control search-bar\" \n              type=\"search\"\n              id=\"search_bar\" \n              v-model.trim=\"searchQuery\" \n              :placeholder=\"tlt('search_here')\"\n              style=\"width:99% !important; \n                height:36px !important; \n                display: inline-block !important;\"\n            />\n            <a\n              type=\"button\"\n              v-if=\"isVisibleSearchClear\"\n              class=\"btn bg-transparent mt-auto mb-auto py-0\"\n              @click=\"clear_search_name\"\n              style=\"margin-left: -40px; z-index: 10\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </a>\n          </div>\n          <div class=\"col-sm-8 pr-0\"\n            style=\"display: flex;\n            margin-bottom: 0.5rem;\n            \">\n            <button\n              @click=\"sync_products\"\n              style=\"margin-right: 1rem\"\n              class=\"darkblue-btn ml-auto\">\n              {{tlt('alternate_product_syn_btn_label')}}\n            </button>\n            <button\n              @click=\"train_model\"\n              style=\"margin-right: 1rem\"\n              :disabled=\"intent_ner_model_inprogress == true\"\n              :style=\"show_model_progress('style')\"\n              :title=\"show_model_progress('title')\"\n              id=\"alternate_product_name_train_model_btn\"\n              class=\"darkblue-btn\">\n              <i class=\"fa fa-spinner fa-spin\" v-show=\"intent_ner_model_inprogress\"></i>\n              {{tlt('alternate_product_train_btn_label')}}\n            </button>\n            <button\n              style=\"margin-right:0px !important;\"\n              id=\"alternate_product_name_save_all_btn\"\n              class=\"darkblue-btn d-block\"\n              @click=\"save_synonyms\"\n              v-if=\"Boolean(current_active_product) === true\"\n            >\n              {{tlt('alternate_product_save_all_btn_label')}}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-sm-12 d-flex\">\n      <div class=\"col-sm-4\">\n        <div class=\"d-flex\" style=\"width: 100%; background: #F7F8FB;\n    border: solid 1px #DBE2E8;\">\n          <div style=\"width: 16%;\">\n            <div class=\"form-check checkbox checkbox-success\" style=\"padding: 10px;\">\n              <label class=\"form-check-label\">\n                <input\n                  class=\"form-check-input\"\n                  id=\"selectall\"\n                  type=\"checkbox\"\n                  @click=\"selected_statements('all')\"\n                />\n                <span class=\"icn\"></span>\n              </label>\n            </div>\n          </div>\n          <p style=\"\n                      margin: 0px;\n                      width: 84%;\n                      font: normal normal normal 16px/22px Roboto;\n                      letter-spacing: 0px;\n                      color: #414141;\n                      padding: 10px;\n                    \"\n          >{{tlt('alternate_product_name_label')}}</p>\n        </div>\n        <div class=\"table-box\" v-if=\"Boolean(current_active_product) === true\">\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <!-- <thead>\n                <tr>\n                  <th scope=\"col\">\n                    <div class=\"form-check checkbox checkbox-success\">\n                      <label class=\"form-check-label\">\n                        <input\n                          class=\"form-check-input\"\n                          id=\"selectall\"\n                          type=\"checkbox\"\n                          @click=\"selected_statements('all')\"\n                        />\n                        <span class=\"icn\"></span>\n                      </label>\n                    </div>\n                  </th>\n                  <th\n                    scope=\"col\"\n                    class=\"text-left\"\n                    style=\"\n                      font: normal normal normal 16px/22px Roboto;\n                      letter-spacing: 0px;\n                      color: #414141;\n                    \"\n                  >\n                    <span> PRODUCT NAME </span>\n                  </th>\n                </tr>\n              </thead> -->\n              <tbody>\n                <tr\n                  v-for=\"(product, index) in resultQuery\"\n                  :key=\"index\"\n                  style=\"cursor: pointer\"\n                  :class=\"check_current_product_active(index)\"\n                >\n                  <td scope=\"row\">\n                    <div class=\"form-check checkbox checkbox-success\">\n                      <label class=\"form-check-label\">\n                        <input\n                          class=\"form-check-input\"\n                          type=\"checkbox\"\n                          @change=\"selected_statements(index)\"\n                        />\n                        <span class=\"icn\"></span>\n                      </label>\n                    </div>\n                  </td>\n                  <td @click=\"set_current_product(index)\">\n                    {{ product.product_name }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-8\">\n        <!-- <div class=\"table-responsive\" v-if=\"spinnerOn\"></div>\n          <div class=\"table-responsive\" v-if=\"product_names_list.length === 0\"></div> -->\n        <div\n          class=\"table-responsive\" id=\"table_id\"\n          v-if=\"Boolean(current_active_product) === true\"\n        >\n          <div class=\"px-3 pt-3\">\n            <h6>{{ productName }}</h6>\n          </div>\n          <hr />\n          <div class=\"card-act d-flex p-3\">\n            <input\n              type=\"text\"\n              v-model.trim=\"alternate_product_name\"\n              class=\"form-control\"\n              :placeholder=\"tlt('add_product_name')\"\n              @keyup.enter=\"check_is_edit\"\n            />\n            <button\n              id=\"alternate_product_name_add_btn\"\n              class=\"darkblue-btn ml-2\"\n              @click=\"add_alternate_name\"\n              v-if=\"!is_edit_alternate_name\"\n            >\n              {{tlt('alternate_product_add_btn_label')}}\n            </button>\n            <button\n              class=\"darkblue-btn ml-2\"\n              @click=\"save_edit_alternate_name\"\n              v-if=\"is_edit_alternate_name\"\n            >\n              {{tlt('alter_product_edit_btn')}}\n            </button>\n          </div>\n          <div class=\"mt-5 p-3\">\n            <h5>{{tlt('alter_product_name_msg')}}  {{productName}}</h5>\n            <div style=\"border-bottom: 1px solid #e3e2e5\"></div>\n            <div\n              v-for=\"(alternate_name, index) in current_active_product.synonyms\"\n              :key=\"index\"\n              class=\"py-2 d-flex\"\n              :class=\"check_current_edit_synonym(index, null)\"\n            >\n              <span> {{ alternate_name }} </span>\n              <span\n                class=\"ml-auto c-p edit-delete-span\"\n                @click=\"edit_alternate_name(index)\"\n              >\n                <img\n                  :src=\"require('@/portal/assets/img/edit-pencil-from-xd.svg')\"\n                  alt=\"Edit\"\n                />\n              </span>\n              <span\n                class=\"ml-2 c-p edit-delete-span\"\n                @click=\"delete_alternate_name(index)\"\n              >\n                <img\n                  :src=\"require('@/portal/assets/img/delete-from-xd.svg')\"\n                  alt=\"Delete\"\n                />\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport Swal from \"sweetalert2\";\nimport { freeze_portal, show_subscription_expired_swal} from \"@/portal/mixins\";\n\nexport default {\n  name: \"AlternateProductNamesPage\",\n  mixins: [\n    freeze_portal,show_subscription_expired_swal\n  ],\n  data() {\n    return {\n      searchQuery: null,\n      spinnerOn: false,\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      // product_names_list: [],\n      current_product_name: null,\n      alternate_product_name: null,\n      alternate_product_list: [],\n      is_edit_alternate_name: false,\n      current_edit_index: null,\n      retail_bot_template_id: null,\n      products_list_data: [],\n      current_active_product: null,\n      isVisibleSearchClear: false,\n      want_status: true,\n      intent_ner_model_inprogress: false,\n      checked_list: [],\n      disable_btn_expired: false,\n    };\n  },\n  computed: {\n    productName(){\n      var products_name = \"\"\n      if(this.checked_list.length != 0){\n        var check = false;\n        for (var i in this.checked_list){\n          if (this.checked_list[i].product_name == this.current_active_product.product_name){\n            check = true;\n          }\n        }\n        if (check){\n          var len = this.checked_list.length - 1;\n          return products_name = this.current_active_product.product_name + (len > 0 ? \" and \" + (len > 0 ? len : '') + \" more\" : '');\n        }else {\n          return this.current_active_product.product_name;\n        }\n      }else {\n        return this.current_active_product.product_name;\n      }\n    },\n    resultQuery(){\n      if(this.searchQuery){\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.checked_list = [];\n      return this.products_list_data.filter((item)=>{\n        return this.searchQuery.toLowerCase().split(' ').every(v => item.product_name.toLowerCase().includes(v))\n      })\n      }else{\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.checked_list = [];\n        return this.products_list_data;\n      }\n    },\n    check_is_edit() {\n      return this.is_edit_alternate_name\n        ? this.save_edit_alternate_name\n        : this.add_alternate_name;\n    },\n  },\n  mounted() {\n    let bot_templates_data = this.$session.get(\"BotTemplates\");\n      for (let i = 0; i < bot_templates_data.length; i++) {\n        if (\n          bot_templates_data[i].domain === \"Retail\" &&\n          bot_templates_data[i].subscribed === true\n        ) {\n          this.retail_bot_template_id = bot_templates_data[i].template_id;\n          break;\n        }\n    }\n    this.$root.$on(\"send_model_status\", data =>{\n      if (data == true){\n        this.check_intent_ner_model_status();\n      }\n    })\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      if ($(this).is(\":checked\")) {\n        // $('div:input').prop('checked',true);\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    // this.fetch_product_list();\n    this.fetch_added_synonyms();\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    this.check_intent_ner_model_status();\n    this.$root.$on(\"AlternateProductNamesPageDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    })\n  },\n  watch:{\n  searchQuery() {\n      if (this.searchQuery === '' || this.searchQuery === null) {\n        this.isVisibleSearchClear = false;\n      } else if (this.searchQuery != null || this.searchQuery !='') {\n        this.isVisibleSearchClear = true;\n      }\n      this.set_current_product(0);\n    },\n  },\n  methods: {\n    selected_statements(index) {\n      if (index == \"all\") {\n        this.checked_list = [];\n        var role_length = this.resultQuery.length;\n        for (var i = 0; i < role_length; i++) {\n          this.checked_list.push(this.resultQuery[i]);\n        }\n      }else {\n        if (event.target.checked == true) {\n          if (!this.checked_list.includes(index)) {\n            this.checked_list.push(this.resultQuery[index]);\n          }\n        } else if (event.target.checked == false) {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked == true) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((role)=> {\n            return role !== this.resultQuery[index];\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    check_intent_ner_model_status(){\n    this.model_status = this.$session.get(\"ModelStatus\");\n    if (this.model_status == \"No Failure\"){\n    this.intent_ner_model_inprogress = false;\n    }\n    else if (Boolean(this.model_status.intent_model) === true \n     || Boolean(this.model_status.ner_model) === true){\n     if(this.model_status.intent_model == \"InProgress\"\n      || this.model_status.ner_model == \"InProgress\"){\n       this.intent_ner_model_inprogress = true;\n     }\n     else{\n       this.intent_ner_model_inprogress = false;\n     }\n    }\n    else{\n      this.intent_ner_model_inprogress = false; \n    }\n    },\n\n    show_model_progress(index){\n      if(this.intent_ner_model_inprogress == true){\n         if (index == 'style'){\n            return \"cursor: not-allowed\";\n          }\n          else if(index == 'title'){\n              return this.tlt('alter_training_progress_msg');\n          }\n      }\n      else{\n        return null;\n      }\n    },\n    clear_search_name() {\n      this.searchQuery = null;\n    },\n    sync_products() {\n      Swal({\n        title: this.tlt('alter_product_swal_msg'),\n        text: this.tlt('alter_product_sync_msg'),\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: this.tlt('alter_product_confirm_msg'),\n      }).then((result) => {\n        if (result.value) {\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.template_synonyms(), {\n          company_id: this.company_id,\n          company_name: this.company_name,\n          template_id: this.retail_bot_template_id,\n          is_sync: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n        })\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if (data.message.MSG_CODE == this.api_status_code.SYNC_INPROGRESS_MODELS.MSG_CODE){\n            Swal({\n              title: this.tlt('alter_product_synced_msg'),\n              text: this.tlt('alter_product_in_progress_msg'),\n              type: \"info\",\n              showCancelButton: false,\n              timer: 5500,\n            })\n          }else {\n            Swal({\n              title: this.tlt('alter_product_error_occurred_msg'),\n              text: this.tlt('alter_product_swal_try_again_msg'),\n              type: \"error\",\n              toast: true,\n              position: \"top-end\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        }).catch((e) => {\n          this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n    }\n      })\n    },\n    fetch_added_synonyms() {\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.template_synonyms(), {\n          company_id: this.company_id,\n          company_name: this.company_name,\n          template_id: this.retail_bot_template_id,\n          is_get: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n        })\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if (data.message.MSG_CODE == this.api_status_code.DATA_AVAILABLE_MODELS.MSG_CODE) {\n            if (data.data.data.Synonyms.length > 0) {\n              this.products_list_data = data.data.data.Synonyms;\n              this.set_current_product(0);\n            }\n          }\n          setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n        }).catch((e) => {\n          this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n    },\n    // fetch_product_list() {\n    //   this.spinnerOn = true;\n    //   axios\n    //     .post(api_calls.template_synonyms(), {\n    //       company_id: this.company_id,\n    //       company_name: this.company_name,\n    //       is_get_product_list: true,\n    //     },\n    //     {\n    //       headers: {\n    //         Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //     },\n    //     })\n    //     .then(({ data }) => {\n    //       this.spinnerOn = false;\n    //       if (data.status === \"Success\") {\n    //         this.product_names_list = data.product_names_list;\n    //         if (this.product_names_list.length > 0) {\n    //           this.current_product_name = this.product_names_list[0];\n    //         }\n    //       }\n    // setTimeout(() => {\n    //   this.freeze_portal();\n    // }, 1000);\n    //     })\n    //     .catch((e) => {\n    //       this.spinnerOn = false;\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    // },\n    add_alternate_name() {\n      if(!this.disable_btn_expired){\n      if (Boolean(this.alternate_product_name) === true){\n        if(this.checked_list.length > 0){\n          Swal.fire({\n            title: this.tlt('alter_product_multiple_select_msg'),\n            text: this.tlt('alter_product_name_msg1') + this.alternate_product_name + this.tlt('alter_product_name_msg3'),\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n          }).then((result) => {\n            if (result.value) {\n              for (var i in this.checked_list){\n                for (var j in this.products_list_data){\n                  if (this.checked_list[i].id == this.products_list_data[j].id){\n                    this.products_list_data[j].synonyms.push(this.alternate_product_name);\n                  }\n                }\n              }\n              this.alternate_product_name = null;\n            }else {\n              this.alternate_product_name = null;\n            }\n          });\n        }else {\n          this.current_active_product.synonyms.push(this.alternate_product_name);\n          this.alternate_product_name = null;\n        }\n      }}else{\n        this.show_subscription_expired_swal();\n      }\n    },\n    edit_alternate_name(index) {\n      window.scrollTo(0, 0);\n      document.getElementById(\"table_id\").scrollTop = 0;\n      if (!this.is_edit_alternate_name) {\n        this.alternate_product_name = this.current_active_product.synonyms[\n          index\n        ];\n        this.current_edit_index = index;\n        this.is_edit_alternate_name = true;\n      } else {\n        this.reset_edit();\n      }\n    },\n    save_edit_alternate_name() {\n      this.current_active_product.synonyms[\n        this.current_edit_index\n      ] = this.alternate_product_name;\n      this.reset_edit();\n    },\n    delete_alternate_name(index) {\n      this.current_active_product.synonyms.splice(index, 1);\n    },\n    reset_edit() {\n      this.is_edit_alternate_name = false;\n      this.current_edit_index = null;\n      this.alternate_product_name = null;\n    },\n    set_current_product(index) {\n      this.reset_edit();\n      this.current_active_product = this.resultQuery[index];\n    },\n    check_current_product_active(index) {\n      if (Boolean(this.current_active_product) === true) {\n        return this.current_active_product.id ===\n          this.resultQuery[index].id\n          ? \"current-active-product\"\n          : null;\n      }\n    },\n    check_current_edit_synonym(index, tag) {\n      if (Boolean(this.is_edit_alternate_name) === true) {\n        if (tag === \"span\") {\n          return \"not-current-edit-synonym-span\";\n        } else {\n          return this.current_edit_index === index\n            ? \"current-edit-synonym\"\n            : \"not-current-edit-synonym\";\n        }\n      } else {\n        return \"not-editing-synonyms\";\n      }\n    },\n    save_synonyms() {\n      if(!this.disable_btn_expired){\n      Swal.fire({\n        title: this.tlt('alter_product_swal_save_msg'),\n        text: this.tlt('alter_product_swal_save_msg1'),\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: this.tlt('alter_product_swal_confirm_msg'),\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(api_calls.template_synonyms(), {\n              company_name: this.$session.get(\"UserInformation\").company_name,\n              company_id: this.$session.get(\"UserInformation\").company_id,\n              is_add_or_edit: true,\n              template_id: this.retail_bot_template_id,\n              synonyms: this.products_list_data\n            },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n        })\n            .then((response) => {\n              this.spinnerOn = false;\n              if (\n               response.data.message.MSG_CODE == this.api_status_code.TEMPLATE_SYNONYMS_UPDATED_SUCCESSFULLY_MODELS.MSG_CODE\n              ) {\n                Swal({\n                  text:\n                    this.tlt('alter_product_data_reflect_msg'),\n                  type: \"success\",\n                  showConfirmButton: true,\n                  // timer: 5000,\n                });\n              } else {\n                Swal({\n                  text: this.tlt('alter_product_some_error_msg1'),\n                  type: \"error\",\n                  showConfirmButton: false,\n                  timer: 2500,\n                });\n              }\n              this.checked_list = [];\n              $(\"input:checkbox\").prop(\"checked\", false);\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              Swal({\n                text: this.tlt('alter_product_some_error__msg2'),\n                type: \"error\",\n                showConfirmButton: false,\n                timer: 2500,\n              });\n              if (\n                Boolean(e.response) === true &&\n                (e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409)\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });}else{\n        this.show_subscription_expired_swal();\n      }\n    },\n    train_model() {\n      if(!this.disable_btn_expired){\n      Swal({\n        title: this.tlt('alter_product_swal_model_msg'),\n        text: this.tlt('alter_product_train_model_msg'),\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: this.tlt('alter_product_swal_confirm_msg'),\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.train_intent_ner_model(),\n              {\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: this.$session.get(\"UserInformation\").subscription,\n                company_name: this.$session.get(\"UserInformation\").company_name,\n                company_id: this.$session.get(\"UserInformation\").company_id,\n                update_model: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.want_status = true;\n              this.$root.$emit(\"want_model_status\",this.want_status);\n              this.check_intent_ner_model_status();\n              if(response.data.message.MSG_CODE == this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE) {\n                toastr.error(this.tlt('alter_product_internal_server_msg'));\n              }else if(response.data.message.MSG_CODE == this.api_status_code.TRAINING_LIMIT_EXCEED_MODELS.MSG_CODE){\n                  Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  timer: 2500,\n                  type:\"error\"\n                  \n                })\n              }\n              else{\n                  Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  timer: 2500,\n                  \n                })\n              }\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });}else{\n        this.show_subscription_expired_swal();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.alternate_products {\n  font-family: \"Roboto\";\n}\n.table-box tbody tr:hover td,\n.table-box tbody tr:hover th {\n  background: #ececec;\n}\n.table th {\n  border-top: none;\n}\n.table-responsive {\n  height: 75vh;\n  overflow-y: auto;\n  border: 1px solid #e3e2e5;\n}\n.table-responsive thead th {\n  top: 0;\n  position: sticky;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n.form-control {\n  line-height: 16px;\n  padding: 10px 15px;\n}\n.current-active-product {\n  background: rgba(0, 0, 0, 0.1);\n}\n.current-edit-synonym {\n  transform: scale(1.02);\n  border: 1px solid #27397b;\n  z-index: 2;\n  background: #dddddd;\n  padding: 0.5rem;\n}\n.not-current-edit-synonym {\n  opacity: 0.2;\n  pointer-events: none;\n}\n.not-editing-synonyms {\n  border-bottom: 1px solid #e3e2e5;\n}\n/* .darkblue-btn {\n  font-family: \"Roboto\";\n  font-weight: 500;\n  border-radius: 0;\n} */\n</style>\n"]}]}