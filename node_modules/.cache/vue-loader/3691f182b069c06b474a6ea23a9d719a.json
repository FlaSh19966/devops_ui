{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Settings/Feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Settings/Feedback.vue","mtime":1643027096180},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAidGltZXJzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGZWVkYmFjayIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIGNoZWNrZWRfbGlzdDogW10sCiAgICAgIHRvdGFsX3BhZ2VzOiBudWxsLAogICAgICBwYWdlX25vOiAxLAogICAgICBwZXJfcGFnZTogMjAsCiAgICAgIG5ld19mZWVkYmFja19saXN0OiBbXSwKICAgICAgbmV3X2ZlZWRiYWNrc190ZXh0OiAiIiwKICAgICAgZmVlZGJhY2tsaXN0OiBbXSwKICAgICAgY29tcGFueW5hbWU6ICIiLAogICAgICBjb21wYW55aWQ6ICIiLAogICAgICBudW1iZXJfb2Zfcm93czogbnVsbCwKICAgICAgZWRpdDogIkZhbHNlIiwKICAgICAgb2xkX2ZlZWRiYWNrX2RhdGE6ICIiLAogICAgICBuZXdfZmVlZGJhY2tfZGF0YTogIiIsCiAgICAgIHNlYXJjaF9uYW1lOiAiIiwKICAgICAgcGFnZV9hcnJheTogW10sCiAgICAgIGFkZF9mZWVkYmFja3NfdGV4dDogIiIsCiAgICAgIGlzR2xvYmFsRWRpdDogZmFsc2UsCiAgICAgIGdsb2JhbF9mZWVkYmFja3NfZWRpdF9saXN0OiBbXSwKICAgICAgc2hvd19ub19mZWVkYmFja3NfbWVzc2FnZTogZmFsc2UsCiAgICAgIGlzSW5zZXJ0OiBmYWxzZSwKICAgICAgaXNTaG93OiBmYWxzZSwKICAgICAgZmVlZGJhY2s6ICIiLAogICAgICBuZXdfZmVlZGJhY2s6ICIiLAogICAgICBvbGRfZmVlZGJhY2s6ICIiLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBmZWVkYmFja19saXN0OiAiIiwKICAgICAgaXNEZWxldGU6ICIiLAogICAgICBzZWFyY2hzdHJpbmc6ICIiLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikpIHsKICAgICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55SWQiKTsKICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlOYW1lIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgICAgICB0b2FzdHIud2FybmluZygiUGxlYXNlIHNlbGVjdCBhIGNvbXBhbnkgbmFtZSBmcm9tIHRoZSBkcm9wZG93biIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGVhcl9maWVsZHMoKXsKICAgICAgdGhpcy5hZGRfZmVlZGJhY2tzX3RleHQ9IiI7CiAgICB9LAogICAgYWRkX2ZlZWRiYWNrcygpIHsKICAgICAgICBpZiAodGhpcy5hZGRfZmVlZGJhY2tzX3RleHQgPT0gIiIgKXsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJQbGVhc2UgRW50ZXIgdGhlIEZlZWRiYWNrIik7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICAgIGFwaV9jYWxscy5mZWVkYmFja191cmwoKSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgIGZlZWRiYWNrOiB0aGlzLmFkZF9mZWVkYmFja3NfdGV4dCwKICAgICAgICAgICAgICAgICAgLy8gZmVlZGJhY2s6ICIiLAogICAgICAgICAgICAgICAgICBpc0luc2VydDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgLy8gcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICAgICAgICAvLyBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgICAgICAgLy8gc2hvd2ZlZWRiYWNrOiAiRmFsc2UiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICkKICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gIkZlZWRiYWNrIHNlbnQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogIkZlZWRiYWNrIHNlbnQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxvYWRfZmVlZGJhY2tzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhcl9maWVsZHMoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmKHJlc3BvbnNlLmRhdGEgPT09ICJGZWVkYmFjayBhbHJlYWR5IEV4aXN0cyIpewogICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgdGV4dDoiRmVlZGJhY2sgc2VudCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOjI1MDAsCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Feedback.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Feedback.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Settings","sourcesContent":["<template>\n  <div>\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"dash-modal container-fluid py-0 px-0 mx-0 my-0\">\n        <div class=\"modal-content py-0 px-0 mx-0 my-0\">\n          <div class=\"modal-head text-center  py-0 px-0 mx-0 my-0\">\n              <h5 class=\"py-1 px-0 mx-0 my-0\">Enter Your Valuable Suggestions</h5>\n              <hr class=\"py-0 px-0 mx-0 my-0\">\n          </div>\n          <div class=\"modal-body my-0 mx-0 pt-2 pb-0 px-2\">\n            <form @submit.prevent=\"add_feedbacks\">\n                <div\n                  class=\"form-group mx-0 my-0 px-0 py-0\"\n                >\n                  <textarea\n                    type=\"text\"\n                    rows=\"19\"\n                    v-model.trim=\"add_feedbacks_text\"\n                    class=\"form-control mx-0 my-0 px-2 py-2\"\n                    placeholder=\"Enter your suggestions here â€¦\"\n                    :id=\"`enter_feedback_id`\"\n                  />\n                </div>\n                <!-- <hr class=\"mx-0 my-2 px-0 py-0\"> -->\n              <div class=\"btn-wrap text-right mx-0 mt-2 mb-0 px-0 py-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link btn-cancel mt-2\"\n                  @click=\"clear_fields\"\n                >\n                  Cancel\n                </button>\n                <button type=\"submit\" class=\"darkblue-btn mt-2\" id=\"save_feedback\">\n                  Submit\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nimport { setTimeout } from \"timers\";\nexport default {\n  name: \"Feedback\",\n  data() {\n    return {\n      spinnerOn: false,\n      checked_list: [],\n      total_pages: null,\n      page_no: 1,\n      per_page: 20,\n      new_feedback_list: [],\n      new_feedbacks_text: \"\",\n      feedbacklist: [],\n      companyname: \"\",\n      companyid: \"\",\n      number_of_rows: null,\n      edit: \"False\",\n      old_feedback_data: \"\",\n      new_feedback_data: \"\",\n      search_name: \"\",\n      page_array: [],\n      add_feedbacks_text: \"\",\n      isGlobalEdit: false,\n      global_feedbacks_edit_list: [],\n      show_no_feedbacks_message: false,\n      isInsert: false,\n      isShow: false,\n      feedback: \"\",\n      new_feedback: \"\",\n      old_feedback: \"\",\n      isEdit: false,\n      feedback_list: \"\",\n      isDelete: \"\",\n      searchstring: \"\",\n    };\n  },\n  created() {\n    if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n        toastr.warning(\"Please select a company name from the dropdown\");\n      }\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    clear_fields(){\n      this.add_feedbacks_text=\"\";\n    },\n    add_feedbacks() {\n        if (this.add_feedbacks_text == \"\" ){\n            toastr.error(\"Please Enter the Feedback\");\n        }\n        else{\n            this.spinnerOn = true;\n            axios\n              .post(\n                api_calls.feedback_url(),\n                {\n                  companyname: this.companyname,\n                  companyid: this.companyid,\n                  email: this.$session.get(\"UserInformation\").email,\n                  license_key: this.$session.get(\"UserInformation\").license_key,\n                  token: this.$session.get(\"UserInformation\").tokens,\n                  subscription: this.$session.get(\"UserInformation\").subscription,\n                  feedback: this.add_feedbacks_text,\n                  // feedback: \"\",\n                  isInsert: true,\n                  // page_no: this.page_no,\n                  // per_page: this.per_page,\n                  // showfeedback: \"False\",\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                this.spinnerOn = false;\n                if (response.data === \"Feedback sent Successfully\") {\n                  Swal({\n                    type: \"success\",\n                    text: \"Feedback sent Successfully\",\n                    allowOutsideClick: false,\n                    allowEscapeKey: false,\n                    timer:2000,\n                  })\n                  .then((result) => {\n                    if (result.value) {\n                      // this.load_feedbacks();\n                       this.clear_fields()\n                    }\n                  });\n                }\n                else if(response.data === \"Feedback already Exists\"){\n                  Swal({\n                    type:\"error\",\n                    text:\"Feedback sent Successfully\",\n                    timer:2000,\n                  })\n                }\n                else {\n                  Swal({\n                    type: \"error\",\n                    text: \"There was an internal server error. Please try again.\",\n                    timer:2500,\n                  });\n                }\n              })\n              .catch((e) => {\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n            // this.spinnerOn = false;\n          }\n    },\n  },\n};\n</script>\n<style scoped>\n.btn-cancel{\n    margin-top: 2px !important;\n    /* border: 1px solid; */\n    padding-bottom: 3px;\n    padding-top: 5px;\n    margin-bottom: 4px;\n}\n/* tr td {\n  height: 50px;\n}\n.edit-column {\n  height: 29px !important;\n} */\n</style>\n"]}]}