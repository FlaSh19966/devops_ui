{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SuperAdminTicketDashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SuperAdminTicketDashboard.vue","mtime":1645594423483},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IHsgc2V0VGltZW91dCwgc2V0SW50ZXJ2YWwgfSBmcm9tICJ0aW1lcnMiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVuY2lsX3N2ZzoKICAgICAgICAnIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUuNTQ2IiBoZWlnaHQ9IjE1LjQ2MSIgdmlld0JveD0iMCAwIDE1LjU0NiAxNS40NjEiPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiM5ZTllOWU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDcuODg4IC0zNTYuNzY5KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik03NTkuNDE2LDM1Ni43NjlhMi4zNTgsMi4zNTgsMCwwLDEsMS43NzcuNjYyYy41MzQuNTEzLDEuMDcyLDEuMDI1LDEuNTY3LDEuNTc1YTIuMywyLjMsMCwwLDEtLjA3MSwzLjMyNWMtMi43MzYsMi43Ni01LjQ5NCw1LjUtOC4yMzgsOC4yNTFhMS4zODEsMS4zODEsMCwwLDEtLjc1OC4yODhjLS43MTkuMTc0LTEuNDI5LjM3OS0yLjE0NC41NzItLjkzMi4yNTEtMS44NjIuNS0yLjc5NS43NTEtLjYuMTU4LS45ODktLjIxMy0uODMyLS44MDdxLjY4OS0yLjU5NSwxLjQwNi01LjE4MmExLjE2NCwxLjE2NCwwLDAsMSwuMjg5LS40ODdxNC4wOTEtNC4xMDcsOC4yLTguMkEyLjI2NSwyLjI2NSwwLDAsMSw3NTkuNDE2LDM1Ni43NjlabS0xLjk4OSwyLjk1Ni02LjU0LDYuNTM4LDMuMDI1LDMuMDI0LDYuNTM4LTYuNTM3Wm00LjAyMywyLjE2NWMuMTE4LS4xMzUuMjI1LS4yNjkuMzQzLS4zOTJhMS4xMzQsMS4xMzQsMCwwLDAsMC0xLjczNGMtLjQ2LS40NjYtLjkyNi0uOTI1LTEuMzg4LTEuMzlhMS4xNjYsMS4xNjYsMCwwLDAtLjg2MS0uMzY4Yy0uNTc4LDAtLjg4MS40LTEuMjE0Ljc2Wm0tMTIuMDg0LDguODYzLDMuMi0uODYzLTIuMzM3LTIuMzMxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTgxMy45NDIsNDIyLjZsLS43ODktLjgsMy44MjEtMy44MTkuNzg0LjhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTkuNjQ4IC01NS45NDcpIi8+PC9nPjwvc3ZnPicsCiAgICAgIGZpbHRlcl9zdGF0dXM6ICdBbGxUaWNrZXRzJywKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDIwLAogICAgICB0b3RhbF9wYWdlczogbnVsbCwKICAgICAgbnVtYmVyX29mX3Jvd3M6IG51bGwsCiAgICAgIHRpY2tldHNfbGlzdDogW10sCiAgICAgIHNvcnRfc3RhdHVzOiAnQWxsJywKICAgICAgY29tcGFueV9saXN0OiBbXSwKICAgICAgcGFnZV9hcnJheTogW10sCiAgICAgIFVzZXJfY29tbWVudHM6IFtdLAogICAgICBDb21tZW50c19saXN0OiBbXSwKICAgICAgY29tbWVudF9pdGVtX2xpc3Q6IFtdLAogICAgICB0aWNrZXRfbnVtYmVyOiAiIiwKICAgICAgY3VycmVudF9zZWxlY3RlZF90aWNrZXRfbnVtYmVyOiAiIiwKICAgICAgdGlja2V0X2Rlc2NyaXB0aW9uOiAiIiwKICAgICAgbmV3X3RpY2tldF9jb21tZW50OiAiIiwKICAgICAgY3VycmVudF9pbWFnZV91cmw6ICIiLAogICAgICAvLyBjdXJyZW50X2ltYWdlX25hbWU6ICIiLAogICAgICBjdXJyZW50X2ltYWdlX25hbWVfaW5fY29tbWVudDoiIiwKICAgICAgSW1hZ2VzX2luX2N1cnJlbnRfY29tbWVudDogIiIsCiAgICAgIG5ld19pbWFnZV9uYW1lOiAiIiwKICAgICAgbmV3X2ltYWdlX2ZpbGU6ICIiLAogICAgICBpbWFnZV9maWxlOiAiIiwKICAgICAgc2VuZF9zb2x1dGlvbl90ZXh0OiAiIiwKICAgICAgdGlja2V0X2lzc3VlX25hbWU6ICIiLAogICAgICB0aWNrZXRfc3RhdHVzOiAiIiwKICAgICAgdGlja2V0X3NvbHV0aW9uOiAiIiwKICAgICAgaXNfc3RhdHVzOiBudWxsLAogICAgICBjdXJyZW50X3N0YXR1czogIiIsCiAgICAgIGlzX3N0YXR1c19jbG9zZWQ6IGZhbHNlLAogICAgICBzZWFyY2hfa2V5OiAiIiwKICAgICAgaXNFZGl0VGlja2V0U3RhdHVzOiBmYWxzZSwKICAgICAgY3VycmVudF90aWNrZXRfc3RhdHVzOiAiIiwKICAgICAgY29tcGFueV90aWNrZXRzX2xpc3Q6IFtdLAogICAgICBzb3J0X2NvbXBhbnlfc3RhdHVzOiAnQWxsJywKICAgICAgaXNfY29sbGFwc2U6IGZhbHNlLAogICAgICBzZW5kX2J5X2NvbXBhbnk6IGZhbHNlLAogICAgICByZXFfY29tcF9pZDogIiIsCiAgICAgIHJlcV9jb21wX25hbWU6ICIiLAogICAgICB0aWNrZXRfY29tcGFueV9pZDoiIiwKICAgICAgdGlja2V0X2NvbXBhbnlfbmFtZToiIiwKICAgICAgaXNWaXNpYmxlU2VhcmNoQ2xlYXI6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzX3NlbmRfYnRuX2VuYWJsZSgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5zZW5kX3NvbHV0aW9uX3RleHQgfHwgdGhpcy5uZXdfaW1hZ2VfbmFtZSB8fCB0aGlzLm5ld190aWNrZXRfY29tbWVudCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBpc19yZW9wZW5fYnRuX2VuYWJsZSgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5uZXdfdGlja2V0X2NvbW1lbnQgfHwgdGhpcy5uZXdfaW1hZ2VfbmFtZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKAogICAgICAhdGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpICYmCiAgICAgIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIgogICAgKSB7CiAgICAgIHRvYXN0ci53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGEgY29tcGFueSBuYW1lIGZyb20gdGhlIGRyb3Bkb3duIik7CiAgICB9IGVsc2UgaWYgKHRoaXMudXNlcl9yb2xlID09ICJTdXBlckFkbWluIikgewogICAgICBpZiAodGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpKSB7CiAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55TmFtZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQogICAgdGhpcy5nZXRfdGlja2V0X2RldGFpbHMoKTsKICB9LAogIHdhdGNoOiB7CiAgICBmaWx0ZXJfc3RhdHVzKCl7CiAgICAgIGlmKHRoaXMuZmlsdGVyX3N0YXR1cyA9PT0gICdBbGxUaWNrZXRzJyl7CiAgICAgICAgdGhpcy5nZXRfdGlja2V0X2RldGFpbHMoKTsgIAogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLmdldF9jb21wYW55X2xpc3QoKTsKICAgICAgfQogICAgfSwKICB9LAogIG1ldGhvZHMgOiB7CiAgICBjaGVja19jb2xsYXBzZShpbmRleCkgewogICAgICBpZiAoJCgnI2NvbGxhcHNlRXhhbXBsZV9fJyArIGluZGV4KS5pcygnLmNvbGxhcHNlLnNob3cnKSA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmlzX2NvbGxhcHNlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX2NvbGxhcHNlID0gZmFsc2U7CiAgICAgICAgdGhpcy5zb3J0X2NvbXBhbnlfc3RhdHVzID0gJ0FsbCc7CiAgICAgIH0KICAgIH0sCiAgICB0cmltX3RpY2tldF9pc3N1ZSh2YWwxKSB7CiAgICAgIGlmICh2YWwxLmxlbmd0aCA+IDUwKSB7CiAgICAgICAgbGV0IHN0cjEgPSB2YWwxLnN1YnN0cmluZygwLCA1MCkgKyAiLi4uLiI7CiAgICAgICAgcmV0dXJuIHN0cjE7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbDE7CiAgICB9LAogICAgdHJpbV90aWNrZXRfZGVzY3JpcHRpb24oZGVzX25hbWUpewogICAgICBpZihkZXNfbmFtZS5sZW5ndGggPiA2MCl7CiAgICAgICAgbGV0IHRpY2tldF9kZXNfbmFtZSA9IGRlc19uYW1lLnN1YnN0cmluZygwLDUwKSArICIuLi4iOwogICAgICAgIHJldHVybiB0aWNrZXRfZGVzX25hbWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGRlc19uYW1lOwogICAgfSwKICAgICBkYXRlX2Zvcm1hdGluZyhzdWJfZGF0ZSkgewogICAgICByZXR1cm4gbW9tZW50KHN1Yl9kYXRlKS5mb3JtYXQoIkQgTU1NIFlZWVkgSEg6bW0gYSIpOwogICAgfSwKICAgIGZvcm1hdF9kYXRlKGRhdGUpIHsKICAgICAgaWYoZGF0ZSA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuICJOL0EiCiAgICAgIH0KICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQoIkRvIE1NTSBZWVlZIik7CiAgICB9LAogICAgZWRpdF90aWNrZXRfc3RhdHVzKCkgewogICAgICBpZiAoIXRoaXMuaXNFZGl0VGlja2V0U3RhdHVzKSB7CiAgICAgICAgdGhpcy5pc0VkaXRUaWNrZXRTdGF0dXMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNFZGl0VGlja2V0U3RhdHVzID0gZmFsc2U7CiAgICAgICAgLy8gdGhpcy5sb2FkX2ludGVudCgpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0sCiAgICBzYXZlX3RpY2tldF9zdGF0dXMoKSB7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMuY3VycmVudF90aWNrZXRfc3RhdHVzID09PSAiIikgewogICAgICAgIHRoaXMuY3VycmVudF90aWNrZXRfc3RhdHVzID0gdGhpcy5jdXJyZW50X3N0YXR1czsKICAgICAgfQogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLnN1cHBvcnRfdGlja2V0KCksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgaXNfZWRpdDogdHJ1ZSwKICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgcmVzcG9uc2U6IHsKICAgICAgICAgICAgICAgIHRpY2tldF9udW1iZXI6IHRoaXMuY3VycmVudF9zZWxlY3RlZF90aWNrZXRfbnVtYmVyLAogICAgICAgICAgICAgICAgdXBkYXRlX3N0YXR1czogdGhpcy5jdXJyZW50X3RpY2tldF9zdGF0dXMsCiAgICAgICAgICAgICAgICBzb2x1dGlvbjogbnVsbCwKICAgICAgICAgICAgICAgIHRpY2tldF9jb21wYW55X2lkOiB0aGlzLnRpY2tldF9jb21wYW55X2lkLAogICAgICAgICAgICAgICAgdGlja2V0X2NvbXBhbnlfbmFtZTp0aGlzLnRpY2tldF9jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIC8vIHBhZ2VubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICAgIC8vIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAiVGlja2V0IFVwZGF0ZWQiKSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiVGlja2V0IHN0YXR1cyB1cGRhdGVkIFN1Y2Nlc3NmdWxseS4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgJCgiI3RpY2tldE1vZGVsRGV0YWlscyIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZF9ieV9jb21wYW55ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF9jb21wYW55X3RpY2tldHModGhpcy5yZXFfY29tcF9uYW1lLCB0aGlzLnJlcV9jb21wX2lkKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfdGlja2V0X2RldGFpbHMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT0gIkRCIE9QRVJBVElPTiBVTlNVQ0NFU1NGVUwiKXsKICAgICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgIlNvbWUgZXJyb3Igb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAkKCIjdGlja2V0TW9kZWxEZXRhaWxzIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICBpZiAodGhpcy5zZW5kX2J5X2NvbXBhbnkgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0X2NvbXBhbnlfdGlja2V0cyh0aGlzLnJlcV9jb21wX25hbWUsIHRoaXMucmVxX2NvbXBfaWQpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF90aWNrZXRfZGV0YWlscygpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAiRXJyb3IiKXsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiU29tZSBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZF9ieV9jb21wYW55ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF9jb21wYW55X3RpY2tldHModGhpcy5yZXFfY29tcF9uYW1lLCB0aGlzLnJlcV9jb21wX2lkKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfdGlja2V0X2RldGFpbHMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICAgICQoIiN0aWNrZXRNb2RlbERldGFpbHMiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgICAgLy8kKCIjdGlja2V0TW9kZWxEZXRhaWxzIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICAgIC8vdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgJCgiI3RpY2tldE1vZGVsRGV0YWlscyIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZF9ieV9jb21wYW55ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF9jb21wYW55X3RpY2tldHModGhpcy5yZXFfY29tcF9uYW1lLCB0aGlzLnJlcV9jb21wX2lkKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfdGlja2V0X2RldGFpbHMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICB9LAogICAgb3Blbl9jb21tZW50X21vZGVsKGluZGV4LCBrZXkpIHsKICAgICAgaWYgKGtleSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuQ29tbWVudHNfbGlzdCA9IFtdOwogICAgICAgIHRoaXMuQ29tbWVudHNfbGlzdCA9IEJvb2xlYW4odGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLkNvbW1lbnRzKQogICAgICAgICAgPyB0aGlzLnRpY2tldHNfbGlzdFtpbmRleF0uQ29tbWVudHMKICAgICAgICAgIDogW107CiAgICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkX3RpY2tldF9udW1iZXIgPSB0aGlzLnRpY2tldHNfbGlzdFsKICAgICAgICAgIGluZGV4CiAgICAgICAgXS5UaWNrZXROdW1iZXI7CiAgICAgICAgdGhpcy50aWNrZXRfY29tcGFueV9pZCA9IHRoaXMudGlja2V0c19saXN0W2luZGV4XS5Db21wYW55SWQ7CiAgICAgICAgdGhpcy50aWNrZXRfY29tcGFueV9uYW1lID0gdGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLkNvbXBhbnlOYW1lOwogICAgICAgIHRoaXMudGlja2V0X2Rlc2NyaXB0aW9uID0gdGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLkRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMudGlja2V0X2lzc3VlX25hbWUgPSB0aGlzLnRpY2tldHNfbGlzdFtpbmRleF0uVGlja2V0SXNzdWU7CiAgICAgICAgdGhpcy50aWNrZXRfc3RhdHVzID0gdGhpcy50aWNrZXRzX2xpc3RbaW5kZXhdLkN1cnJlbnRTdGF0dXM7CiAgICAgICAgaWYgKHRoaXMudGlja2V0c19saXN0W2luZGV4XS5Tb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnRpY2tldF9zb2x1dGlvbiA9IHRoaXMudGlja2V0c19saXN0W2luZGV4XS5Tb2x1dGlvbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50aWNrZXRfc29sdXRpb24gPSAiIjsKICAgICAgICB9CiAgICAgICAgaWYodGhpcy50aWNrZXRfc3RhdHVzID09PSAiQ2xvc2VkIikKICAgICAgICB7CiAgICAgICAgICB0aGlzLmlzX3N0YXR1c19jbG9zZWQgPSB0cnVlOwogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy5pc19zdGF0dXNfY2xvc2VkID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMuY3VycmVudF9zdGF0dXMgPSB0aGlzLnRpY2tldHNfbGlzdFtpbmRleF0uQ3VycmVudFN0YXR1czsKICAgICAgICB0aGlzLnNlbmRfYnlfY29tcGFueSA9IGZhbHNlOwogICAgICB9ICAKICAgICAgZWxzZSBpZiAoa2V5ID09PSAnQ29tcGFueV90aWNrZXRzJykgewogICAgICAgIHRoaXMuQ29tbWVudHNfbGlzdCA9IFtdOwogICAgICAgIHRoaXMuQ29tbWVudHNfbGlzdCA9IEJvb2xlYW4odGhpcy5jb21wYW55X3RpY2tldHNfbGlzdFtpbmRleF0uQ29tbWVudHMpCiAgICAgICAgICA/IHRoaXMuY29tcGFueV90aWNrZXRzX2xpc3RbaW5kZXhdLkNvbW1lbnRzCiAgICAgICAgICA6IFtdOwogICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF90aWNrZXRfbnVtYmVyID0gdGhpcy5jb21wYW55X3RpY2tldHNfbGlzdFsKICAgICAgICAgIGluZGV4CiAgICAgICAgXS5UaWNrZXROdW1iZXI7CiAgICAgICAgdGhpcy50aWNrZXRfZGVzY3JpcHRpb24gPSB0aGlzLmNvbXBhbnlfdGlja2V0c19saXN0W2luZGV4XS5EZXNjcmlwdGlvbjsKICAgICAgICB0aGlzLnRpY2tldF9pc3N1ZV9uYW1lID0gdGhpcy5jb21wYW55X3RpY2tldHNfbGlzdFtpbmRleF0uVGlja2V0SXNzdWU7CiAgICAgICAgdGhpcy50aWNrZXRfc3RhdHVzID0gdGhpcy5jb21wYW55X3RpY2tldHNfbGlzdFtpbmRleF0uQ3VycmVudFN0YXR1czsKICAgICAgICB0aGlzLnJlcV9jb21wX2lkID0gdGhpcy5jb21wYW55X3RpY2tldHNfbGlzdFtpbmRleF0uQ29tcGFueUlkOwogICAgICAgIHRoaXMucmVxX2NvbXBfbmFtZSA9IHRoaXMuY29tcGFueV90aWNrZXRzX2xpc3RbaW5kZXhdLkNvbXBhbnlOYW1lOwogICAgICAgIGlmICh0aGlzLmNvbXBhbnlfdGlja2V0c19saXN0W2luZGV4XS5Tb2x1dGlvbiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLnRpY2tldF9zb2x1dGlvbiA9IHRoaXMuY29tcGFueV90aWNrZXRzX2xpc3RbaW5kZXhdLlNvbHV0aW9uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnRpY2tldF9zb2x1dGlvbiA9ICIiOwogICAgICAgIH0KICAgICAgICBpZih0aGlzLnRpY2tldF9zdGF0dXMgPT09ICJDbG9zZWQiKQogICAgICAgIHsKICAgICAgICAgIHRoaXMuaXNfc3RhdHVzX2Nsb3NlZCA9IHRydWU7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLmlzX3N0YXR1c19jbG9zZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jdXJyZW50X3N0YXR1cyA9IHRoaXMuY29tcGFueV90aWNrZXRzX2xpc3RbaW5kZXhdLkN1cnJlbnRTdGF0dXM7CiAgICAgICAgdGhpcy5zZW5kX2J5X2NvbXBhbnkgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgZ2V0X3RpY2tldF9kZXRhaWxzKCkgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgIC5wb3N0KGFwaV9jYWxscy5zdXBwb3J0X3RpY2tldCgpLCB7CiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgZmlsdGVyX2J5OiB0aGlzLnNvcnRfc3RhdHVzLAogICAgICAgIGlzX2dldDogdHJ1ZSwKICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8KICAgICAgfSwKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgIH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoCiAgICAgICAgICAgICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLlRpY2tldHMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEuQ291bnQ7CiAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgICAgICAgIHRoaXMudGlja2V0c19saXN0ID0gcmVzcG9uc2UuZGF0YS5UaWNrZXRzOwogICAgICAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICJubyBleGlzdGluZyB0aWNrZXQgZm91bmQiKSB7CiAgICAgICAgICB0aGlzLnRpY2tldHNfbGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGV4dDogIlRoZXJlIHdhcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgc2VuZF9zb2x1dGlvbigpewogICAgICBpZih0aGlzLnNlbmRfc29sdXRpb25fdGV4dCAhPSAiIiAmJiB0aGlzLmN1cnJlbnRfdGlja2V0X3N0YXR1cyA9PT0gJ0Nsb3NlZCcpewogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGFwaV9jYWxscy5zdXBwb3J0X3RpY2tldCgpLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgIGlzX2VkaXQ6IHRydWUsCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIHJlc3BvbnNlOiB7CiAgICAgICAgICAgICAgICB0aWNrZXRfbnVtYmVyOiB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfdGlja2V0X251bWJlciwKICAgICAgICAgICAgICAgIHNvbHV0aW9uOiB0aGlzLnNlbmRfc29sdXRpb25fdGV4dCwKICAgICAgICAgICAgICAgIHVwZGF0ZV9zdGF0dXM6IHRoaXMuY3VycmVudF90aWNrZXRfc3RhdHVzLAogICAgICAgICAgICAgICAgdGlja2V0X2NvbXBhbnlfaWQ6IHRoaXMudGlja2V0X2NvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICB0aWNrZXRfY29tcGFueV9uYW1lOnRoaXMudGlja2V0X2NvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICAgICAgLy8gcGVycGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICJUaWNrZXQgVXBkYXRlZCIpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJUaWNrZXQgc3RhdHVzIHVwZGF0ZWQgU3VjY2Vzc2Z1bGx5LiIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbmRfYnlfY29tcGFueSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfY29tcGFueV90aWNrZXRzKHRoaXMucmVxX2NvbXBfbmFtZSwgdGhpcy5yZXFfY29tcF9pZCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0X3RpY2tldF9kZXRhaWxzKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJCgiI3RpY2tldE1vZGVsRGV0YWlscyIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiRHVwbGljYXRlIGltYWdlIikgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgIkltYWdlIGFscmVhZHkgZm91bmQuIFBsZWFzZSB1cGxvYWQgYW5vdGhlciBpbWFnZSBvciByZW5hbWUgaXQuIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PSAiREIgT1BFUkFUSU9OIFVOU1VDQ0VTU0ZVTCIpewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OgogICAgICAgICAgICAgICAgICAiU29tZSBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4iLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICAgICAgJCgiI3RpY2tldE1vZGVsRGV0YWlscyIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAiRXJyb3IiKXsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiU29tZSBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyQoIiN0aWNrZXRNb2RlbERldGFpbHMiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgICAgLy90aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGV4dDogIlRoZXJlIHdhcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAkKCIjdGlja2V0TW9kZWxEZXRhaWxzIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH1lbHNlewogICAgICB9CgogICAgfSwKICAgICBvcGVuX2ltYWdlX21vZGVsKGluZGV4KSB7CiAgICAgIGlmICh0aGlzLkNvbW1lbnRzX2xpc3RbaW5kZXhdLmltYWdlX3VybCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5JbWFnZXNfaW5fY3VycmVudF9jb21tZW50ID0gdGhpcy5Db21tZW50c19saXN0W2luZGV4XS5pbWFnZV91cmw7CiAgICAgICAgdGhpcy5jdXJyZW50X2ltYWdlX25hbWVfaW5fY29tbWVudCA9IHRoaXMuQ29tbWVudHNfbGlzdFtpbmRleF0uaW1hZ2VfbmFtZTsKICAgICAgfQogICAgfSwKICAgIFVwbG9hZF9pbWFnZV9maWxlKGV2ZW50KSB7CiAgICAgIGxldCBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgaWYgKGZpbGVzLnNpemUgPiAyMDk3MTUyKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiAiVXBsb2FkIGltYWdlIHdpdGggc2l6ZSBsZXNzIHRoYW4gMk1CIiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMTAwMDAsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubmV3X2ltYWdlX25hbWUgPSBldmVudC50YXJnZXQuZmlsZXNbMF0ubmFtZTsKICAgICAgdGhpcy5uZXdfaW1hZ2VfZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXS50eXBlOwoKICAgICAgaWYgKHRoaXMubmV3X2ltYWdlX25hbWUgIT0gdGhpcy5jdXJyZW50X2ltYWdlX25hbWVfaW5fY29tbWVudCkgewogICAgICB9CiAgICAgIGlmICh0aGlzLm5ld19pbWFnZV9maWxlID09ICJpbWFnZS9wbmciKSB7CiAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlcywgdGhpcy5uZXdfaW1hZ2VfZmlsZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZXdfaW1hZ2VfZmlsZSA9PSAiaW1hZ2UvanBlZyIpIHsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzLCB0aGlzLm5ld19pbWFnZV9maWxlKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm5ld19pbWFnZV9maWxlID09ICJpbWFnZS9qcGciKSB7CiAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlcywgdGhpcy5uZXdfaW1hZ2VfZmlsZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGV4dDogIlBsZWFzZSBTZWxlY3QgYW4gSW1hZ2Ugb2YgdHlwZSBQTkcgb3IgSlBFRyIsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlSW1hZ2UoZmlsZSwgdHlwZSkgewogICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4gewogICAgICAgIHRoaXMuaW1hZ2VfZmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCgogICAgU2VuZF90aWNrZXRfY29tbWVudHMoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLm5ld190aWNrZXRfY29tbWVudCAhPSAiIiB8fAogICAgICAgICh0aGlzLm5ld19pbWFnZV9uYW1lICE9ICIiICYmIHRoaXMubmV3X2ltYWdlX2ZpbGUgIT0gIiIpCiAgICAgICkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogIlBsZWFzZSB3YWl0IHdoaWxlIHdlIGFyZSBhZGRpbmcgeW91ciB0aWNrZXQgY29tbWVudHMuLi4iLAogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICBhcGlfY2FsbHMuc3VwcG9ydF90aWNrZXQoKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICBpc19lZGl0OiB0cnVlLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICByZXNwb25zZTogewogICAgICAgICAgICAgICAgdGlja2V0X251bWJlcjogdGhpcy5jdXJyZW50X3NlbGVjdGVkX3RpY2tldF9udW1iZXIsCiAgICAgICAgICAgICAgICB1cGRhdGVfc3RhdHVzOiB0aGlzLmN1cnJlbnRfdGlja2V0X3N0YXR1cyA/IHRoaXMuY3VycmVudF90aWNrZXRfc3RhdHVzIDogbnVsbCwKICAgICAgICAgICAgICAgIG5ld19jb21tZW50OiB0aGlzLm5ld190aWNrZXRfY29tbWVudAogICAgICAgICAgICAgICAgICA/IHRoaXMubmV3X3RpY2tldF9jb21tZW50CiAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICAgIHRpY2tldF9pbWdfbmFtZTogdGhpcy5uZXdfaW1hZ2VfbmFtZSA/IHRoaXMubmV3X2ltYWdlX25hbWUgOiBudWxsLAogICAgICAgICAgICAgICAgdGlja2V0X2ltZ19maWxlOiB0aGlzLmltYWdlX2ZpbGUgPyB0aGlzLmltYWdlX2ZpbGUgOiBudWxsLAogICAgICAgICAgICAgICAgdGlja2V0X2NvbXBhbnlfaWQ6IHRoaXMudGlja2V0X2NvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICB0aWNrZXRfY29tcGFueV9uYW1lOnRoaXMudGlja2V0X2NvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICAgICAgLy8gcGVycGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICJUaWNrZXQgVXBkYXRlZCIpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJZb3VyIENvbW1lbnRzIGhhcyBiZWVuIGFkZGVkIFN1Y2Nlc3NmdWxseS4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgICQoIiN0aWNrZXRNb2RlbERldGFpbHMiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpOwogICAgICAgICAgICAgIC8vICQoJy5tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VuZF9ieV9jb21wYW55ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF9jb21wYW55X3RpY2tldHModGhpcy5yZXFfY29tcF9uYW1lLCB0aGlzLnJlcV9jb21wX2lkKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5nZXRfdGlja2V0X2RldGFpbHMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiRHVwbGljYXRlIGltYWdlIikgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgIkltYWdlIGFscmVhZHkgZm91bmQuIFBsZWFzZSB1cGxvYWQgYW5vdGhlciBpbWFnZSBvciByZW5hbWUgaXQuIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJFcnJvciIpewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJTb21lIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyQoIiN0aWNrZXRNb2RlbERldGFpbHMiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIC8vdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICQoIiN0aWNrZXRNb2RlbERldGFpbHMiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGVtcHR5X3ZhcmlhYmxlKCkgewogICAgICB0aGlzLkNvbW1lbnRzX2xpc3QgPSBbIiJdOwogICAgICB0aGlzLmNvbW1lbnRfaXRlbV9saXN0ID0gWyIiXTsKICAgICAgdGhpcy5uZXdfdGlja2V0X2NvbW1lbnQgPSAiIjsKICAgICAgdGhpcy5zZW5kX3NvbHV0aW9uX3RleHQgPSAiIjsKICAgICAgdGhpcy5uZXdfaW1hZ2VfbmFtZSA9ICIiOwogICAgICB0aGlzLm5ld19pbWFnZV9maWxlID0gIiI7CiAgICAgIHRoaXMuZmlsZV9jb250ZW50MiA9ICIiOwogICAgICB0aGlzLmlzRWRpdFRpY2tldFN0YXR1cyA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbnRfdGlja2V0X3N0YXR1cyA9ICIiOwogICAgICB0aGlzLnRpY2tldF9jb21wYW55X2lkID0gJyc7CiAgICAgIHRoaXMudGlja2V0X2NvbXBhbnlfbmFtZSA9ICcnOwogICAgfSwKICAgIGdldF9jb21wYW55X2xpc3QoKSB7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgLnBvc3QoYXBpX2NhbGxzLnN1cHBvcnRfdGlja2V0KCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBzb3J0X2J5X2NvbXBhbnk6IHRydWUsCiAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubwogICAgICB9LAogICAgICB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgfSwKICAgICAgfSkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigKICAgICAgICAgICAgIlRoZXJlIHdhcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uIgogICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEuQ291bnQ7CiAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgICAgICAgIHRoaXMuY29tcGFueV9saXN0ID0gcmVzcG9uc2UuZGF0YS5SZXNwb25zZUxpc3Q7CiAgICAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGdldF9jb21wYW55X3RpY2tldHMoa2V5MSwga2V5MikgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgIC5wb3N0KGFwaV9jYWxscy5zdXBwb3J0X3RpY2tldCgpLCB7CiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgZmlsdGVyX2J5OiB0aGlzLnNvcnRfY29tcGFueV9zdGF0dXMsCiAgICAgICAgcmVxX2NvbXBhbnlfbmFtZToga2V5MSwKICAgICAgICByZXFfY29tcGFueV9pZDoga2V5MiwKICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICB9LAogICAgICB9KQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgICAgdG9hc3RyLmVycm9yKAogICAgICAgICAgICAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5UaWNrZXRzICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMucmVxX2NvbXBfaWQgPSAiIjsKICAgICAgICAgIHRoaXMucmVxX2NvbXBfbmFtZSA9ICIiOwogICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEuQ291bnQ7CiAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgICAgICAgIHRoaXMuY29tcGFueV90aWNrZXRzX2xpc3QgPSByZXNwb25zZS5kYXRhLlRpY2tldHM7CiAgICAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gIm5vIGV4aXN0aW5nIHRpY2tldCBmb3VuZCIpIHsKICAgICAgICAgIHRoaXMuY29tcGFueV90aWNrZXRzX2xpc3QgPSBbXTsKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIHBhZ2VfcmVxdWlyZShwYWdlKSB7CiAgICAgIGlmIChwYWdlID09IDAgfHwgcGFnZSA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHBhZ2UgPT0gIi4uLnMiKSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKDEgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgfSBlbHNlIGlmIChwYWdlID09ICIuLi5sIikgewogICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlOwogICAgICAgIH0KICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgaWYgKHRoaXMuZmlsdGVyX3N0YXR1cyA9PT0gJ0FsbFRpY2tldHMnKXsKICAgICAgICAgIHRoaXMuZ2V0X3RpY2tldF9kZXRhaWxzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZ2V0X2NvbXBhbnlfbGlzdCgpOyAKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZXRwYWdpbmF0aW9uKHBhZ2Vfbm8pIHsKICAgICAgdGhpcy5wYWdlX2FycmF5ID0gW107CiAgICAgIGlmICh0aGlzLnRvdGFsX3BhZ2VzIDw9IDcpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IDEpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcykgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudG90YWxfcGFnZXMgLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPD0gNCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZV9ubyArIDM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPj0gdGhpcy50b3RhbF9wYWdlcyAtIDQpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwogICAgICAgIGZvciAobGV0IGkgPSBwYWdlX25vIC0gNDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwogICAgICAgIGZvciAobGV0IGkgPSBwYWdlX25vIC0gMzsgaSA8PSBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfQogICAgfSwKICAKICB9LAp9Cg=="},{"version":3,"sources":["SuperAdminTicketDashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0vBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"SuperAdminTicketDashboard.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Customer Support","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"dash-cont\">\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div class=\"card-header d-block d-sm-flex flex-wrap\">\n            <h4 class=\"mb-sm-0\">Tickets</h4>\n            <div class=\"radio\"\n            style=\"margin-left: 1.5rem;margin-top: 2px;\">\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"AllTickets\"\n                  id=\"filter_status_success\"\n                />\n                <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                All Tickets\n              </label>\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"CompanyTickets\"\n                  id=\"filter_status_failure\"\n                />\n                <span class=\"icn\"></span> Company\n              </label>\n            </div>\n            <div class=\"form-group\"\n            v-if=\"filter_status === 'AllTickets'\"\n             style=\"margin-left: auto;\">\n                <select\n                  @change=\"get_ticket_details\"\n                  v-model=\"sort_status\"\n                  class=\"form-control\"\n                  style=\"height: 34px; padding: 5px;\"\n                  id=\"select_status\"\n                >\n                  <option disabled value=''>Status</option>\n                  <option value=\"All\">All</option>\n                  <option value=\"Open\">Open</option>\n                  <option value=\"Closed\">Closed</option>\n                </select>\n              </div>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"table-box\">\n              <div class=\"table-responsive\" v-show=\"Boolean(tickets_list.length > 0\n              || tickets_list.length != undefined)\">\n                <table class=\"table\" v-if=\"filter_status === 'AllTickets'\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">COMPANY NAME</th>\n                      <th scope=\"col\">TICKET ISSUE</th>\n                      <th scope=\"col\">CREATED DATE</th>\n                      <th scope=\"col\">TICKET STATUS</th>\n                      <th scope=\"col\">TICKET DETAILS</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(ticket, index) in tickets_list\" :key=\"index\">\n                      <td>{{index+1}}</td>\n                      <td>{{ticket.CompanyName}}</td>\n                      <td\n                      :title=\"ticket.TicketIssue\" \n                      style=\"cursor: pointer;\">\n                        {{trim_ticket_issue(ticket.TicketIssue)}}\n                      </td>\n                      <td class=\"text-center\">{{format_date(ticket.CreatedDate)}}</td>\n                      <td\n                        class=\"text-center\"\n                        :style=\"ticket.CurrentStatus === 'Open' ? \n                        'color: #ff1a1a; font-weight: bold;':\n                        'color: #064; font-weight: bold;'\">\n                        {{ticket.CurrentStatus}}\n                      </td>\n                      <td class=\"text-center\" style=\"cursor: pointer;\">\n                        <a\n                          class=\"view-model\"\n                          href=\"#\"\n                          data-toggle=\"modal\"\n                          data-target=\"#ticketModelDetails\"\n                          @click=\"open_comment_model(index, null)\"\n                        >View\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n                <table class=\"table\" v-if=\"filter_status === 'CompanyTickets'\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">COMPANY NAME</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(item, index) in company_list\" :key=\"index\">\n                      <td>{{index+1}}</td>\n                      <td>\n                        <tr class=\"d-block text-center\">\n                          <a\n                            class=\"btn btn-primaryy border-0\"\n                            data-toggle=\"collapse\"\n                            :href=\"'#collapseExample__' + index\"\n                            role=\"button\"\n                            style=\"color: #273679;\"\n                            aria-expanded=\"false\"\n                            :aria-controls=\"'collapseExample__' + index\"\n                            @click=\"check_collapse(index), get_company_tickets(item.CompanyName, item.CompanyId)\"\n                          >\n                            {{item.CompanyName}}</a> \n                        </tr>\n                        <tr :id=\"'collapseExample__' + index\"\n                         class=\"collapse\"\n                         data-parent=\"table\">\n                          <div class=\"card-body\" style=\"margin-left: 2rem;\">\n                            <div class=\"table-box\">\n                              <select\n                                v-show=\"is_collapse\"\n                                @change=\"get_company_tickets(item.CompanyName, item.CompanyId)\"\n                                v-model=\"sort_company_status\"\n                                class=\"form-control\"\n                                style=\"height: 34px; padding: 5px;margin: 3px 0px;\n                                  width: 90px;margin-left: auto;margin-bottom: 0.5rem;\"\n                                id=\"select_status\"\n                              >\n                                <option disabled value=''>Status</option>\n                                <option value=\"All\">All</option>\n                                <option value=\"Open\">Open</option>\n                                <option value=\"Closed\">Closed</option>\n                              </select>\n                              <div class=\"table-responsive\" v-show=\"Boolean(company_tickets_list.length > 0\n                                || company_tickets_list.length != undefined)\">\n                                <table class=\"table\">\n                                  <thead>\n                                    <tr>\n                                      <th scope=\"col\">#</th>\n                                      <th scope=\"col\">TICKET NUMBER</th>\n                                      <th scope=\"col\">TICKET ISSUE</th>\n                                      <th scope=\"col\">CREATED DATE</th>\n                                      <th scope=\"col\">TICKET STATUS</th>\n                                      <th scope=\"col\">TICKET DETAILS</th>\n                                    </tr>\n                                  </thead>\n                                  <tbody>\n                                    <tr v-for=\"(ticket, index1) in company_tickets_list\" :key=\"index1\">\n                                      <td>{{index1+1}}</td>\n                                      <td>{{ticket.TicketNumber}}</td>\n                                      <td\n                                      :title=\"ticket.TicketIssue\" \n                                      style=\"cursor: pointer;\">\n                                        {{trim_ticket_issue(ticket.TicketIssue)}}\n                                      </td>\n                                      <td class=\"text-center\">{{format_date(ticket.CreatedDate)}}</td>\n                                      <td\n                                        class=\"text-center\"\n                                        :style=\"ticket.CurrentStatus === 'Open' ? \n                                        'color: #ff1a1a; font-weight: bold;':\n                                        'color: #064; font-weight: bold;'\">\n                                        {{ticket.CurrentStatus}}\n                                      </td>\n                                      <td class=\"text-center\" style=\"cursor: pointer;\">\n                                        <a\n                                          class=\"view-model\"\n                                          href=\"#\"\n                                          data-toggle=\"modal\"\n                                          data-target=\"#ticketModelDetails\"\n                                          @click=\"open_comment_model(index1, 'Company_tickets')\"\n                                        >View\n                                        </a>\n                                      </td>\n                                    </tr>\n                                  </tbody>\n                                </table>\n                              </div>\n                              <div v-show=\"Boolean(company_tickets_list.length === 0) && !spinnerOn\">\n                                <p class=\"text-center\">\n                                  <strong>\n                                    Currently no tickets to show.</strong\n                                  >\n                                </p>\n                              </div> \n                            </div>\n                            <div v-if=\"company_tickets_list.length !== 0\" class=\"pagin-table\" style=\"margin-top: 2%; margin-bottom: 4%\">\n                              <nav aria-label=\"Page navigation example\">\n                                <ul class=\"pagination justify-content-center\">\n                                  <li class=\"page-item\">\n                                    <a\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page_no - 1)\"\n                                    >\n                                      <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"8.667\"\n                                        height=\"15.204\"\n                                        viewBox=\"0 0 8.667 15.204\"\n                                      >\n                                        <g\n                                          id=\"arrow-point-to-left\"\n                                          transform=\"translate(105.806 15.204) rotate(180)\"\n                                        >\n                                          <path\n                                            id=\"Path_1136\"\n                                            data-name=\"Path 1136\"\n                                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                                            transform=\"translate(0 0)\"\n                                            fill=\"#9499ae\"\n                                          />\n                                        </g>\n                                      </svg>\n                                    </a>\n                                  </li>\n                                  <li\n                                    class=\"page-item\"\n                                    :class=\"{ active: page === page_no }\"\n                                    v-for=\"(page, index) in page_array\"\n                                    :key=\"index\"\n                                  >\n                                    <a\n                                      v-if=\"page == '...s' || page == '...l'\"\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page)\"\n                                      >...</a\n                                    >\n                                    <a\n                                      v-if=\"page != '...s' && page != '...l'\"\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page)\"\n                                      >{{ page }}</a\n                                    >\n                                    <!-- <a class=\"page-link\" href=\"#\" @click=\"page_require(page)\">{{page}}</a> -->\n                                  </li>\n\n                                  <li class=\"page-item\">\n                                    <a\n                                      class=\"page-link\"\n                                      href=\"#\"\n                                      @click=\"page_require(page_no + 1)\"\n                                    >\n                                      <svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"8.667\"\n                                        height=\"15.204\"\n                                        viewBox=\"0 0 8.667 15.204\"\n                                      >\n                                        <g\n                                          id=\"arrow-point-to-right\"\n                                          transform=\"translate(-97.139 0)\"\n                                        >\n                                          <path\n                                            id=\"Path_1136\"\n                                            data-name=\"Path 1136\"\n                                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                                            transform=\"translate(0 0)\"\n                                            fill=\"#9499ae\"\n                                          />\n                                        </g>\n                                      </svg>\n                                    </a>\n                                  </li>\n                                </ul>\n                              </nav>\n                            </div>\n                          </div> \n                        </tr>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div v-show=\"Boolean(tickets_list.length === 0) && !spinnerOn\">\n                <p class=\"text-center\">\n                  <strong>\n                    Currently no tickets to show.</strong\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"pagin-table\" style=\"margin-top: 2%; margin-bottom: 4%\">\n          <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no - 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-left\"\n                      transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n              <li\n                class=\"page-item\"\n                :class=\"{ active: page === page_no }\"\n                v-for=\"(page, index) in page_array\"\n                :key=\"index\"\n              >\n                <a\n                  v-if=\"page == '...s' || page == '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >...</a\n                >\n                <a\n                  v-if=\"page != '...s' && page != '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >{{ page }}</a\n                >\n                <!-- <a class=\"page-link\" href=\"#\" @click=\"page_require(page)\">{{page}}</a> -->\n              </li>\n\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no + 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-right\"\n                      transform=\"translate(-97.139 0)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n        <div\n          class=\"modal fade dash-modal\"\n          id=\"ticketModelDetails\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          data-backdrop=\"static\"\n        >\n      <div\n        class=\"modal-dialog modal-lg\"\n        role=\"document\"\n      >\n        <div class=\"modal-content\" style=\"width: 135%; margin-left: -17%\">\n          <div class=\"modal-header modal-head d-flex align-items-center\"\n          style=\"margin: 0rem;\">\n              <div class=\"head-icn\">\n                <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"info-circle\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"\n                 class=\"svg-inline--fa fa-info-circle fa-w-16 fa-3x\">\n                 <path fill=\"currentColor\" d=\"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z\"\n                class=\"\" style=\"color: #273679;\"></path></svg>\n              </div>\n            <h3 class=\"modal-title\">Ticket Details</h3>\n            <button\n              type=\"button\"\n              class=\"close\"\n              @click=\"empty_variable\"\n              data-dismiss=\"modal\"\n              style=\"padding-top: 1px;\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n          </div>\n          <div class=\"modal-body py-2 px-3\" style=\"width: 808px\">\n           <div class=\"form-group\">\n            <div class=\"row\" style=\"margin-left: 0px; margin-right: 0px;\">\n              <div class=\"col-md-4\" style=\"font-weight: bold;\">\n                Ticket Number  :\n              </div>\n              <div class=\"col-md-8\">\n                {{current_selected_ticket_number}}\n              </div>\n              <div class=\"col-md-4\" style=\"font-weight: bold;padding-top:5px;padding-bottom:5px;\">\n                Ticket issue  :\n              </div>\n              <div class=\"col-md-8\" :title=\"ticket_issue_name\" style=\"padding-top:5px;padding-bottom:5px;cursor: pointer;\">\n                {{ticket_issue_name}}\n              </div>\n              <div class=\"col-md-4\" style=\"font-weight: bold;\">\n                Ticket Description  :\n              </div>\n              <div class=\"col-md-8\"\n              :title=\"ticket_description\" style=\"cursor: pointer;\">\n                {{trim_ticket_description(ticket_description)}}\n              </div>\n              <div class=\"col-md-4\" style=\"font-weight: bold;padding-top:5px;\">\n                Status  :\n              </div>\n              <div\n                v-if=\"!isEditTicketStatus\"\n                class=\"\"\n                :style=\"ticket_status === 'Open' ? \n                'color: #ff1a1a; border-radius: 4px;padding-top:5px;margin-left: 1rem;': \n                'color: #064; border-radius: 4px;padding-top:5px;margin-left: 1rem;'\" \n              >\n                <b>{{ ticket_status }}</b>\n              </div>\n              <div v-if=\"isEditTicketStatus\">\n                <select\n                  v-model=\"current_ticket_status\"\n                  class=\"form-control\"\n                  style=\"height: 34px; padding: 5px;margin-left: 1rem;\"\n                  id=\"select_status\"\n                >\n                  <option disabled value=''>Status</option>\n                  <option value=\"Open\">Open</option>\n                  <option value=\"Closed\">Closed</option>\n                </select>\n              </div>\n              <div style=\"margin-top: 3px;margin-left: 2rem;\">\n                <span\n                  @click=\"edit_ticket_status\"\n                  v-html=\"pencil_svg\"\n                  title=\"Edit Status\"\n                  class=\"ml-auto mr-2 mt-2\"\n                  style=\"cursor: pointer;\"\n                ></span>\n              </div>\n              <button\n                v-show=\"isEditTicketStatus\"\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                style=\"margin-left: 1rem;height: 32px;padding-top: 5px;\"\n                @click=\"save_ticket_status()\"\n              >\n                Save\n              </button>\n            </div>\n            </div>\n            <!-- <p>Some text in the modal.</p> -->\n            <!-- @change=\"fileinput_csv\" -->\n            <div v-if=\"current_ticket_status === 'Closed' && isEditTicketStatus\">\n              <div class=\"form-group\" style=\"margin-bottom: 4px;\">\n                <h6 style=\"margin-left: 0.5rem;font-size: 1.2rem;\">Add Solution</h6>\n              </div>\n              <div\n              class=\"text-right card-act\"\n              style=\"display: flex; margin-top: 0px; margin-bottom: 8px;padding: 15px 0 0;\"\n              >\n                <input\n                  type=\"text\"\n                  class=\"form-control input-comment-section\"\n                  v-model.trim=\"send_solution_text\"\n                  placeholder=\"Add your solution....\"\n                />\n                  <button \n                    type=\"button\"\n                    class=\"darkblue-btn\"\n                    id=\"btn_send_id\"\n                    :disabled=\"is_send_btn_enable == false\"\n                    @click=\"send_solution\"\n                    style=\"margin-left: 10px; height: 38px;\"\n                    :style=\"\n                      is_send_btn_enable\n                        ? ''\n                        : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                    \"\n                  >Solution</button>\n               </div>\n            </div>\n            <div class=\"row\" style=\"margin-left: 0rem;\" v-if=\"!isEditTicketStatus && ticket_solution !== ''\">\n              <div class=\"col-md-4\" style=\"margin-bottom: 4px;font-weight: bold;padding-top:5px;\">\n               Solution :\n              </div>\n              <div class=\"col-md-8\" style=\"padding-top:5px;padding-bottom:5px;padding-left: 12px;\">\n                {{ticket_solution}}\n              </div>\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 4px;margin-top: 1rem;\">\n              <h6 style=\"margin-left: 0.5rem;font-size: 1.2rem;\">Comments</h6>\n              <!-- <div class=\"custom-file\">\n                      <input\n                        type=\"file\"\n                        accept=\".csv\"\n                        class=\"custom-file-input\"\n                        \n                        id=\"inputGroupFilecsv\"\n                        aria-describedby=\"inputGroupFileAddoncsv\"\n                      />\n                      <label\n                        style=\"font-weight: 400; line-height: 15px\"\n                        class=\"custom-file-label form-control\"\n                        for=\"file\"\n                        >\n                        </label\n                      >\n                    </div> -->\n            </div>\n            <div class=\"form-group\" style=\"margin-bottom: 4px\">\n              <div class=\"form-group mx-0 my-0 px-0 py-0\">\n                <div\n                  v-if=\"Comments_list.length != ''\"\n                  class=\"chat-body ScrollStyle\"\n                  style=\"height: 65vh; overflow-y: auto\"\n                >\n                  <div\n                    class=\"chat-inner\"\n                    style=\"position: relative;\"\n                    v-for=\"(comment, index) in Comments_list\"\n                    :key=\"index\"\n                  >\n                    <div\n                      v-if=\"comment.IsSuperAdmin === true\"\n                    >\n                      <div class=\"d-flex\">\n                        <i\n                          class=\"fas fa-user-circle mr-3 fa-2x\"\n                          style=\"color: darkgrey !important;\"\n                        ></i>\n                        <label\n                          style=\"text-align: justify !important; margin-top: 4px !important;\"\n                        >\n                          <strong><b>Cense Team</b></strong>\n                        </label>\n                      </div>\n                      <div class=\"custom-button-box ml-5\">\n                        <p style=\"color: #404040; margin-bottom: 0px;\">\n                          {{ comment.Comment }}\n                        </p>\n                        <span\n                          class=\"img-container\"\n                          v-if=\"comment.image_url != null\"\n                        >\n                          <a\n                            href=\"#\"\n                            data-toggle=\"modal\"\n                            data-target=\"#viewImageModal\"\n                            @click=\"open_image_model(index)\"\n                          >\n                            Attached Image</a\n                          >\n                        </span>\n                        <!-- <span\n                          style=\"display: block; font-size: 12px; color:#808080;\"\n                          ><strong>admin </strong></span\n                        > -->\n                        <label class=\"form-text text-muted comment-box_date\"\n                        style=\"font-size: 12px; margin-top: 6px;\">{{ date_formating(comment.Date) }}\n                        </label>\n                      </div>\n                      <!-- <img v-if=\"comment.image_url != null\" :src=\"comment.image_url\" class=\"center-block p-0 m-0\" style=\"height:140px; width:140px;\"/> -->\n                    </div>\n                    <div v-else>\n                      <div class=\"d-flex\">\n                        <i\n                          class=\"fas fa-user-circle mr-3 fa-2x\"\n                          style=\"color: darkgrey !important;\"\n                        ></i>\n                        <label\n                          style=\"text-align: justify !important; margin-top: 4px !important;\"\n                        >\n                          <strong><b>{{comment.Email}}</b></strong>\n                        </label>\n                      </div>\n                      <div class=\"custom-button-box ml-5\">\n                        <p style=\"color: #404040; margin-bottom: 0px;\">\n                          {{ comment.Comment }}\n                        </p>\n                        <span\n                          class=\"img-container\"\n                          v-if=\"comment.image_url != null\"\n                        >\n                          <a\n                            href=\"#\"\n                            data-toggle=\"modal\"\n                            data-target=\"#viewImageModal\"\n                            style=\"font-size: 15px;\"\n                            @click=\"open_image_model(index)\"\n                          >\n                            Attached Image</a\n                          >\n                        </span>\n                        <!-- <span\n                          style=\"display: block; font-size: 12px; color:#808080;\"\n                          ><strong> {{ comment.Email }} </strong></span\n                        > -->\n                        <label class=\"form-text text-muted comment-box_date\"\n                                style=\"font-size: 12px; margin-top: 6px;\">\n                          {{ date_formating(comment.Date) }}\n                        </label>\n                      </div>\n                      <!-- <img v-if=\"comment.image_url != null\" :src=\"comment.image_url\" class=\"center-block p-0 m-0\" style=\"height:140px; width:140px;\"/> -->\n                    </div>\n                    <!-- <p>{{ Comment.IsSuperAdmin }}</p> -->\n                  </div>\n                </div>\n                <div style=\"padding-left: 10px; margin: 8px 0px;\"\n                v-else>\n                  <p>No Comments available yet ...</p>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"text-right card-act\"\n              style=\"display: flex; margin-top: 0px; margin-bottom: 8px; border-top: solid 1px #EAEAEA; padding: 15px 0 0;\"\n            >\n              <input\n                type=\"text\"\n                class=\"form-control input-comment-section\"\n                v-model.trim=\"new_ticket_comment\"\n                placeholder=\"Type your comment here ...\"\n              />\n              <label for=\"files\" class=\"btn\" style=\"padding: 0px;\">\n                <!-- src=\"/img/icons8_attachfile.png\" -->\n                <!-- class=\"img_icon_comment\" -->\n                <i\n                  id=\"image_file\"\n                  class=\"fa fa-paperclip img_icon_comment\" aria-hidden=\"true\"\n                  :title=\"new_image_name === '' ? 'Upload New Image' : new_image_name\"\n                  style=\"cursor: pointer;\"                  \n                  :style=\"new_image_name ?\n                   'color: #4000ff !important; font-size: 20px;'\n                    : ''\n                \"\n                  alt=\"attachment\"\n                  width=\"18px;\"\n                  height=\"18px;\">\n              </i></label>\n              <!-- :disabled=\"is_send_btn_enable == false\" -->\n              <!-- :style=\"new_image_name ? 'border: 0.5px solid blue; color: green;':''\" -->\n              <input\n                type=\"file\"\n                id=\"files\"\n                accept=\"image/png, image/jpg, image/jpeg\"\n                @change=\"Upload_image_file\"\n                \n                style=\"display: none;\"\n              />\n              <!-- <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-dismiss=\"modal\"\n                    >\n                      Cancel\n                    </button> -->\n              <button \n                type=\"button\"\n                class=\"darkblue-btn\"\n                id=\"btn_send_id\"\n                :disabled=\"is_send_btn_enable == false\"\n                @click=\"Send_ticket_comments\"\n                style=\"margin-left: 10px; height: 38px;\"\n                :style=\"\n                  is_send_btn_enable\n                    ? ''\n                    : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                \"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  style=\"fill: #fff; margin-top: -2px;\"\n                  width=\"40\"\n                  height=\"25\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                </svg>\n              </button>\n            </div>\n            <div\n                class=\"image_name\"\n                :disabled=\"is_send_btn_enable == false\"\n                :style=\"\n                  is_send_btn_enable\n                    ? ''\n                    : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                \"\n                v-if=\"new_image_name != ''\"\n              >\n                <!-- style=\"bottom: 0px; margin-left: 16px;\" -->\n                <!-- {{ new_image_name }} -->\n              </div>\n            <div class=\"user_img\" style=\"margin-top: 4px;\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"viewImageModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\">\n        <!-- Modal content-->\n        <div class=\"modal-content\" \n        style=\"margin-left: auto; margin-right: auto;\">\n          <div class=\"modal-header\" style=\"justify-content: center; padding: 0.5rem;\">\n            <h5 class=\"modal-title\">\n              Image\n            </h5>\n            <button\n              type=\"button\"\n              class=\"close close-img-btn\"\n              style=\"top: 11px; right: 12px;\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n          </div>\n          <div\n            class=\"modal-body\"\n          >\n            <img\n              v-if=\"Images_in_current_comment != ''\"\n              :src=\"Images_in_current_comment\"\n              class=\"center-block p-0 m-0\"\n              style=\"height:auto; width:100%;\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport { setTimeout, setInterval } from \"timers\";\nimport Swal from \"sweetalert2\";\nimport moment from \"moment\";\n\nexport default {\n  data() {\n    return {\n      pencil_svg:\n        ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n      filter_status: 'AllTickets',\n      spinnerOn: false,\n      page_no: 1,\n      per_page: 20,\n      total_pages: null,\n      number_of_rows: null,\n      tickets_list: [],\n      sort_status: 'All',\n      company_list: [],\n      page_array: [],\n      User_comments: [],\n      Comments_list: [],\n      comment_item_list: [],\n      ticket_number: \"\",\n      current_selected_ticket_number: \"\",\n      ticket_description: \"\",\n      new_ticket_comment: \"\",\n      current_image_url: \"\",\n      // current_image_name: \"\",\n      current_image_name_in_comment:\"\",\n      Images_in_current_comment: \"\",\n      new_image_name: \"\",\n      new_image_file: \"\",\n      image_file: \"\",\n      send_solution_text: \"\",\n      ticket_issue_name: \"\",\n      ticket_status: \"\",\n      ticket_solution: \"\",\n      is_status: null,\n      current_status: \"\",\n      is_status_closed: false,\n      search_key: \"\",\n      isEditTicketStatus: false,\n      current_ticket_status: \"\",\n      company_tickets_list: [],\n      sort_company_status: 'All',\n      is_collapse: false,\n      send_by_company: false,\n      req_comp_id: \"\",\n      req_comp_name: \"\",\n      ticket_company_id:\"\",\n      ticket_company_name:\"\",\n      isVisibleSearchClear: false\n    };\n  },\n  computed: {\n    is_send_btn_enable() {\n      if (Boolean(this.send_solution_text || this.new_image_name || this.new_ticket_comment)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    is_reopen_btn_enable() {\n      if (Boolean(this.new_ticket_comment || this.new_image_name)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  created() {\n    if (\n      !this.$session.has(\"CompanyId\") &&\n      this.$session.get(\"UserInformation\").role == \"SuperAdmin\"\n    ) {\n      toastr.warning(\"Please select a company name from the dropdown\");\n    } else if (this.user_role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n      }\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n    this.get_ticket_details();\n  },\n  watch: {\n    filter_status(){\n      if(this.filter_status ===  'AllTickets'){\n        this.get_ticket_details();  \n      }else{\n        this.get_company_list();\n      }\n    },\n  },\n  methods : {\n    check_collapse(index) {\n      if ($('#collapseExample__' + index).is('.collapse.show') === false) {\n        this.is_collapse = true;\n      } else {\n        this.is_collapse = false;\n        this.sort_company_status = 'All';\n      }\n    },\n    trim_ticket_issue(val1) {\n      if (val1.length > 50) {\n        let str1 = val1.substring(0, 50) + \"....\";\n        return str1;\n      }\n      return val1;\n    },\n    trim_ticket_description(des_name){\n      if(des_name.length > 60){\n        let ticket_des_name = des_name.substring(0,50) + \"...\";\n        return ticket_des_name;\n      }\n      return des_name;\n    },\n     date_formating(sub_date) {\n      return moment(sub_date).format(\"D MMM YYYY HH:mm a\");\n    },\n    format_date(date) {\n      if(date == null) {\n        return \"N/A\"\n      }\n      return moment(date).format(\"Do MMM YYYY\");\n    },\n    edit_ticket_status() {\n      if (!this.isEditTicketStatus) {\n        this.isEditTicketStatus = true;\n      } else {\n        this.isEditTicketStatus = false;\n        // this.load_intent();\n      }\n      return;\n    },\n    save_ticket_status() {\n      this.spinnerOn = true;\n      if (this.current_ticket_status === \"\") {\n        this.current_ticket_status = this.current_status;\n      }\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                update_status: this.current_ticket_status,\n                solution: null,\n                ticket_company_id: this.ticket_company_id,\n                ticket_company_name:this.ticket_company_name,\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (response.data.message === \"Ticket Updated\") {\n              Swal({\n                type: \"success\",\n                text: \"Ticket status updated Successfully.\",\n                timer: 2500\n              });\n              this.empty_variable();\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n            } else if(response.data.message == \"DB OPERATION UNSUCCESSFUL\"){\n                Swal({\n                text:\n                  \"Some error occurred. Please try again later.\",\n                type: \"error\",\n                timer: 3000,\n              });\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n              this.empty_variable();\n            } else if(response.data.status == \"Error\"){\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n              this.empty_variable();\n              $(\"#ticketModelDetails\").modal(\"hide\");\n                //$(\"#ticketModelDetails\").modal(\"hide\");\n                //this.empty_variable();\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n               this.empty_variable();\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          });\n    },\n    open_comment_model(index, key) {\n      if (key === null) {\n        this.Comments_list = [];\n        this.Comments_list = Boolean(this.tickets_list[index].Comments)\n          ? this.tickets_list[index].Comments\n          : [];\n        this.current_selected_ticket_number = this.tickets_list[\n          index\n        ].TicketNumber;\n        this.ticket_company_id = this.tickets_list[index].CompanyId;\n        this.ticket_company_name = this.tickets_list[index].CompanyName;\n        this.ticket_description = this.tickets_list[index].Description;\n        this.ticket_issue_name = this.tickets_list[index].TicketIssue;\n        this.ticket_status = this.tickets_list[index].CurrentStatus;\n        if (this.tickets_list[index].Solution !== undefined) {\n          this.ticket_solution = this.tickets_list[index].Solution;\n        } else {\n          this.ticket_solution = \"\";\n        }\n        if(this.ticket_status === \"Closed\")\n        {\n          this.is_status_closed = true;\n        }else{\n          this.is_status_closed = false;\n        }\n        this.current_status = this.tickets_list[index].CurrentStatus;\n        this.send_by_company = false;\n      }  \n      else if (key === 'Company_tickets') {\n        this.Comments_list = [];\n        this.Comments_list = Boolean(this.company_tickets_list[index].Comments)\n          ? this.company_tickets_list[index].Comments\n          : [];\n        this.current_selected_ticket_number = this.company_tickets_list[\n          index\n        ].TicketNumber;\n        this.ticket_description = this.company_tickets_list[index].Description;\n        this.ticket_issue_name = this.company_tickets_list[index].TicketIssue;\n        this.ticket_status = this.company_tickets_list[index].CurrentStatus;\n        this.req_comp_id = this.company_tickets_list[index].CompanyId;\n        this.req_comp_name = this.company_tickets_list[index].CompanyName;\n        if (this.company_tickets_list[index].Solution !== undefined) {\n          this.ticket_solution = this.company_tickets_list[index].Solution;\n        } else {\n          this.ticket_solution = \"\";\n        }\n        if(this.ticket_status === \"Closed\")\n        {\n          this.is_status_closed = true;\n        }else{\n          this.is_status_closed = false;\n        }\n        this.current_status = this.company_tickets_list[index].CurrentStatus;\n        this.send_by_company = true;\n      }\n    },\n    get_ticket_details() {\n      this.spinnerOn = true;\n      axios\n      .post(api_calls.support_ticket(), {\n        company_name: this.companyname,\n        company_id: this.companyid,\n        email: this.$session.get(\"UserInformation\").email,\n        filter_by: this.sort_status,\n        is_get: true,\n        per_page: this.per_page,\n        page_no: this.page_no\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then(response => {\n        this.spinnerOn = false;\n        if (response.data == \"Internal Server Error\") {\n          toastr.error(\n            \"There was an internal server error. Please try again.\"\n          );\n        } else if (response.data.Tickets !== undefined) {\n          this.number_of_rows = response.data.Count;\n          this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          this.tickets_list = response.data.Tickets;\n          this.setpagination(this.page_no);\n        } else if (response.data.message === \"no existing ticket found\") {\n          this.tickets_list = [];\n        }\n      })\n      .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    send_solution(){\n      if(this.send_solution_text != \"\" && this.current_ticket_status === 'Closed'){\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                solution: this.send_solution_text,\n                update_status: this.current_ticket_status,\n                ticket_company_id: this.ticket_company_id,\n                ticket_company_name:this.ticket_company_name,\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (response.data.message === \"Ticket Updated\") {\n              Swal({\n                type: \"success\",\n                text: \"Ticket status updated Successfully.\",\n                timer: 2500\n              }).then(result => {\n                if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n                $(\"#ticketModelDetails\").modal(\"hide\");\n                this.empty_variable();\n              });\n            } else if (response.data == \"Duplicate image\") {\n              Swal({\n                text:\n                  \"Image already found. Please upload another image or rename it.\",\n                type: \"error\",\n                timer: 3000,\n              });\n            } else if(response.data.message == \"DB OPERATION UNSUCCESSFUL\"){\n                Swal({\n                text:\n                  \"Some error occurred. Please try again later.\",\n                type: \"error\",\n                timer: 3000,\n              });\n                this.empty_variable();\n                $(\"#ticketModelDetails\").modal(\"hide\");\n            } else if(response.data.status == \"Error\"){\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n                //$(\"#ticketModelDetails\").modal(\"hide\");\n                //this.empty_variable();\n            } else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          });\n      }else{\n      }\n\n    },\n     open_image_model(index) {\n      if (this.Comments_list[index].image_url != null) {\n        this.Images_in_current_comment = this.Comments_list[index].image_url;\n        this.current_image_name_in_comment = this.Comments_list[index].image_name;\n      }\n    },\n    Upload_image_file(event) {\n      let files = event.target.files[0];\n      if (files.size > 2097152) {\n        Swal({\n          text: \"Upload image with size less than 2MB\",\n          toast: true,\n          position: \"top-end\",\n          type: \"error\",\n          showConfirmButton: false,\n          timer: 10000,\n        });\n        return;\n      }\n      this.new_image_name = event.target.files[0].name;\n      this.new_image_file = event.target.files[0].type;\n\n      if (this.new_image_name != this.current_image_name_in_comment) {\n      }\n      if (this.new_image_file == \"image/png\") {\n        this.createImage(files, this.new_image_file);\n      } else if (this.new_image_file == \"image/jpeg\") {\n        this.createImage(files, this.new_image_file);\n      } else if (this.new_image_file == \"image/jpg\") {\n        this.createImage(files, this.new_image_file);\n      } else {\n        Swal({\n          type: \"error\",\n          text: \"Please Select an Image of type PNG or JPEG\",\n          timer: 2500\n        });\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.image_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n\n    Send_ticket_comments() {\n      if (\n        this.new_ticket_comment != \"\" ||\n        (this.new_image_name != \"\" && this.new_image_file != \"\")\n      ) {\n        Swal({\n          text: \"Please wait while we are adding your ticket comments...\",\n          type: \"info\",\n          toast: true,\n          showConfirmButton: false\n        });\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                update_status: this.current_ticket_status ? this.current_ticket_status : null,\n                new_comment: this.new_ticket_comment\n                  ? this.new_ticket_comment\n                  : null,\n                ticket_img_name: this.new_image_name ? this.new_image_name : null,\n                ticket_img_file: this.image_file ? this.image_file : null,\n                ticket_company_id: this.ticket_company_id,\n                ticket_company_name:this.ticket_company_name,\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (response.data.message === \"Ticket Updated\") {\n              Swal({\n                type: \"success\",\n                text: \"Your Comments has been added Successfully.\",\n                timer: 2500\n              }).then(result => {\n                this.empty_variable();\n               $(\"#ticketModelDetails\").modal(\"hide\");\n              \n              // $('body').removeClass('modal-open');\n              // $('.modal-backdrop').remove();\n                if (this.send_by_company === true) {\n                this.get_company_tickets(this.req_comp_name, this.req_comp_id);\n              } else {\n                this.get_ticket_details();\n              }\n              });\n            } else if (response.data == \"Duplicate image\") {\n              Swal({\n                text:\n                  \"Image already found. Please upload another image or rename it.\",\n                type: \"error\",\n                timer: 3000,\n              });\n            } else if(response.data.status == \"Error\"){\n              Swal({\n                type: \"error\",\n                text: \"Some error occurred. Please try again.\",\n                timer: 2500,\n              });\n              //$(\"#ticketModelDetails\").modal(\"hide\");\n              //this.empty_variable();\n            }\n             else {\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              $(\"#ticketModelDetails\").modal(\"hide\");\n              Swal({\n                type: \"error\",\n                text: \"There was an internal server error. Please try again.\",\n                timer: 2500\n              });\n            }\n          });\n      }\n    },\n    empty_variable() {\n      this.Comments_list = [\"\"];\n      this.comment_item_list = [\"\"];\n      this.new_ticket_comment = \"\";\n      this.send_solution_text = \"\";\n      this.new_image_name = \"\";\n      this.new_image_file = \"\";\n      this.file_content2 = \"\";\n      this.isEditTicketStatus = false;\n      this.current_ticket_status = \"\";\n      this.ticket_company_id = '';\n      this.ticket_company_name = '';\n    },\n    get_company_list() {\n      this.spinnerOn = true;\n      axios\n      .post(api_calls.support_ticket(), {\n        company_name: this.companyname,\n        company_id: this.companyid,\n        email: this.$session.get(\"UserInformation\").email,\n        sort_by_company: true,\n        is_get: true,\n        per_page: this.per_page,\n        page_no: this.page_no\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then(response => {\n        this.spinnerOn = false;\n        if (response.data == \"Internal Server Error\") {\n          toastr.error(\n            \"There was an internal server error. Please try again.\"\n          );\n        } else {\n          this.number_of_rows = response.data.Count;\n          this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          this.company_list = response.data.ResponseList;\n          this.setpagination(this.page_no);\n        }\n      })\n      .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    get_company_tickets(key1, key2) {\n      this.spinnerOn = true;\n      axios\n      .post(api_calls.support_ticket(), {\n        company_name: this.companyname,\n        company_id: this.companyid,\n        email: this.$session.get(\"UserInformation\").email,\n        filter_by: this.sort_company_status,\n        req_company_name: key1,\n        req_company_id: key2,\n        is_get: true,\n        per_page: this.per_page,\n        page_no: this.page_no\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then(response => {\n        this.spinnerOn = false;\n        if (response.data == \"Internal Server Error\") {\n          toastr.error(\n            \"There was an internal server error. Please try again.\"\n          );\n        } else if (response.data.Tickets !== undefined) {\n          this.req_comp_id = \"\";\n          this.req_comp_name = \"\";\n          this.number_of_rows = response.data.Count;\n          this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          this.company_tickets_list = response.data.Tickets;\n          this.setpagination(this.page_no);\n        } else if (response.data.message === \"no existing ticket found\") {\n          this.company_tickets_list = [];\n        }\n      })\n      .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n        event.preventDefault();\n      } else {\n        if (page == \"...s\") {\n          this.page_no = Math.ceil((1 + this.page_no) / 2);\n        } else if (page == \"...l\") {\n          this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n        } else {\n          this.page_no = page;\n        }\n        this.spinnerOn = true;\n        if (this.filter_status === 'AllTickets'){\n          this.get_ticket_details();\n        } else {\n          this.get_company_list(); \n        }\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n  \n  },\n}\n</script>\n\n<style>\n.radio label {\n    margin-bottom: 0.3rem !important;\n}\ni[aria-expanded=\"true\"] {\n  color: #192765;\n  text-align: center;\n}\n.dash-modal .close {\n  top: 0px !important;\n  position: inherit !important;\n}\ni:hover {\n  color: #192765;\n}\n.table thead th {\n  vertical-align: bottom;\n  border-bottom: 0px;\n}\n.comment-box_date{\n  position: absolute;\n  margin-top: 6px;\n  top: 4px;\n  right: 2rem;\n}\n.img_icon_comment {\n  cursor: pointer;\n  position: relative;\n  right: 34px;\n  top: 5px;\n  margin-right: -22px;\n  transform: rotate(136deg);\n}\n.status_in_comment b{\n  /* padding: 2px 10px 2px; */\n  border-radius: 4px;\n}\n.ScrollStyle {\n  /* height: 200px; */\n  min-height: 0px;\n  max-height: 250px;\n  overflow-y: auto;\n  /* border: 1px solid #e3e2e5; */\n}\n.ScrollStyle thead th {\n  top: 0;\n  position: sticky;\n}\n.ScrollStyle::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 12px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.ScrollStyle::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.ScrollStyle::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.ScrollStyle::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n.card-act .darkblue-btn{\n  font-size: 14px;\n    color: #fff;\n    background: #273679;\n    border: solid 1px #273679;\n    padding: 5px 15px;\n    font-weight: 400;\n    line-height: 20px;\n    display: inline-block;\n    border-radius: 4px;\n    cursor: pointer;\n    height: 32px;\n    /* margin-top: 1px; */\n}\n</style>"]}]}