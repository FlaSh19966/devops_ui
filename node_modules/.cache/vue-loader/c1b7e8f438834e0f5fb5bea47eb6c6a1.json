{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Integrations/MessagingFrameworks.vue?vue&type=style&index=0&id=0cd84044&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Integrations/MessagingFrameworks.vue","mtime":1663910265470},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZGVsZXRlLWNhcnQtaXRlbSB7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5kZWxldGUtY2FydC1pdGVtIHN2ZyA6aG92ZXIgewogIGNvbG9yOiAjZjIzZDNkICFpbXBvcnRhbnQ7CiAgZmlsbDogI2YyM2QzZCAhaW1wb3J0YW50Owp9Ci5mYi1jb25uZWN0LWJ0biB7CiAgYmFja2dyb3VuZDogIzAwNmNmZjsKICBib3JkZXI6IDFweCBzb2xpZCAjMDA2Y2ZmOwogIGNvbG9yOiAjZmZmOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiBhbGwgLjNzOwp9Ci5mYi1jb25uZWN0LWJ0bjphY3RpdmUgewogIG9wYWNpdHk6IC41IWltcG9ydGFudDsKfQouZmItY29ubmVjdC1idG46aG92ZXIgewogIG9wYWNpdHk6IC44IWltcG9ydGFudDsKfQouZmItYnV0dG9uIHsKICB3aWR0aDogNDUlOwogIGRpc3BsYXk6IGZsZXg7CiAgYmFja2dyb3VuZDogIzNiNTk5ODsKICBjb2xvcjogI2ZmZjsKICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjNzOwogIHRyYW5zaXRpb246IG9wYWNpdHkgLjNzOwogIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7CiAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOwogIGN1cnNvcjogcG9pbnRlcjsKICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAuM3M7CiAgdHJhbnNpdGlvbjogYWxsIC4zczsKfQouZmItYnV0dG9uOmFjdGl2ZSB7CiAgb3BhY2l0eTogLjUhaW1wb3J0YW50Owp9Ci5mYi1idXR0b246aG92ZXIgewogIG9wYWNpdHk6IC44IWltcG9ydGFudDsKfQouZmItYnV0dG9uIC5pY29uIHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgd2lkdGg6IDE1cHg7CiAgaGVpZ2h0OiAyNXB4Owp9Ci5mYi1idXR0b24gLmljb24gc3ZnIHsKICBtYXgtd2lkdGg6IDEwMCU7CiAgbWF4LWhlaWdodDogMTAwJTsKICAtby1vYmplY3QtZml0OiBjb250YWluOwogIG9iamVjdC1maXQ6IGNvbnRhaW47Cn0KLmxvZ291dC1idXR0b24gewogIG1hcmdpbi1sZWZ0OiBhdXRvOwogIGRpc3BsYXk6IC13ZWJraXQtYm94OwogIGRpc3BsYXk6IC1tcy1mbGV4Ym94OwogIGRpc3BsYXk6IGZsZXg7CiAgcGFkZGluZzogMTBweCAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgYmFja2dyb3VuZDogI2YwZjRmNzsKICBjb2xvcjogIzliYTZiMzsKICB3aWR0aDogOTZweDsKICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyOwogIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjsKICBjdXJzb3I6IHBvaW50ZXI7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgLjNzOwogIHRyYW5zaXRpb246IGFsbCAuM3M7Cn0KLmxvZ291dC1idXR0b246YWN0aXZlIHsKICBvcGFjaXR5OiAuNSFpbXBvcnRhbnQ7Cn0KLmxvZ291dC1idXR0b246aG92ZXIgewogIG9wYWNpdHk6IC44IWltcG9ydGFudDsKfQoubWVzc2VuZ2VyLXBhZ2VzIHsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiAjZjdmN2Y4OwogIGRpc3BsYXk6IC13ZWJraXQtYm94OwogIGRpc3BsYXk6IC1tcy1mbGV4Ym94OwogIGRpc3BsYXk6IGZsZXg7CiAgLyogLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjsgKi8KICAtbXMtZmxleC1hbGlnbjogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcGFkZGluZzogMTBweCAxNXB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9Ci50aGlyZC1wYXJ0eS1sb2dvIHsKICB3aWR0aDogMTUwcHg7CiAgaGVpZ2h0OiA3NXB4OwogIG9iamVjdC1maXQ6IGNvbnRhaW47Cn0KLm1zZ19fc3BhbiB7CiAgcGFkZGluZy1sZWZ0OiAxcmVtOwp9Ci5jYXJkLWFjdCAucmVkLWJ0biB7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjZmZmOwogIGJhY2tncm91bmQ6ICNmMjNkM2Q7CiAgYm9yZGVyOiBzb2xpZCAxcHggI2YyM2QzZDsKICBwYWRkaW5nOiA1cHggMjBweDsKICBmb250LXdlaWdodDogNDAwOwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBib3JkZXItcmFkaXVzOiA0cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouc3dpdGNoIHsKICBtYXJnaW4tbGVmdDogMXJlbTsKfQouY29sLXNtLTN7CiAgbWF4LXdpZHRoOiAyNCU7Cn0KLnJvdyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAgbWFyZ2luLXJpZ2h0OiAtMnB4OwogICAgbWFyZ2luLWxlZnQ6IDE1cHg7Cn0K"},{"version":3,"sources":["MessagingFrameworks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MessagingFrameworks.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Integrations","sourcesContent":["<template>\n  <div class=\"\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"big_spinner\"></div>\n    <!-- <div class=\"container-fluid\"> -->\n      <!-- <div class=\"card dash-card\"> -->\n    <div\n      class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n    >\n      <div class=\"col-sm-12\">\n        <h4 class=\"mb-sm-0\">{{tlt('messenger_framework_header')}}</h4>\n      </div>\n    </div>\n    <!-- <div class=\"card-body container\"> -->\n    <div class=\"col-sm-12\">\n      <div class=\"row m-0 p-0\">\n        <div class=\"col-sm-3 p-3\" >\n          <div class=\"card border-1\" id=\"facebook_messenger_img\">\n            <a\n              href=\"javascript:void(0)\"\n              class=\"mx-auto\"\n              data-toggle=\"modal\"\n              data-target=\"#messaging_framework_card_modal\"\n              @click=\"website_name = 'Messenger'\"\n            >\n              <img\n                :src=\"require('@/portal/assets/img/messenger-logo.png')\"\n                class=\"third-party-logo\"\n                style=\"height: 100px !important\"\n              />\n            </a>\n          </div>\n        </div>\n        <i id =\"check_btn_facebook_messenger\"></i>\n        <div class=\"col-sm-3 p-3\" >\n          <div class=\"card border-1\" id=\"whatsapp_img\">\n            <a\n              href=\"javascript:void(0)\"\n              class=\"mx-auto\"\n              data-toggle=\"modal\"\n              data-target=\"#messaging_framework_card_modal\"\n              @click=\"website_name = 'Whatsapp'\"\n            >\n              <img\n                :src=\"require('@/portal/assets/img/WhatsApp-Logo-PNG6.png')\"\n                class=\"third-party-logo\"\n                style=\"height: 100px !important\"\n              />\n            </a>\n          </div>\n        </div>\n        <i id =\"check_btn_whatsapp\"></i>\n      </div>\n    </div>\n    <div\n      class=\"modal fade dash-modal\"\n      id=\"messaging_framework_card_modal\"\n      role=\"dialog\"\n      aria-labelledby=\"widget_code_modaltitle\"\n      data-keyboard=\"false\"\n      aria-hidden=\"true\"\n      data-backdrop=\"static\"\n    >\n      <div v-if=\"website_name == 'Whatsapp'\" class=\"modal-dialog modal-dialog-centered\" role=\"document\" style=\"max-width: 800px;\">\n        <div class=\"modal-content\">\n          <template v-if=\"website_name == 'Whatsapp'\">\n            <whats-app></whats-app>\n          </template>\n        </div>\n      </div>\n      <div v-if=\"website_name == 'Messenger'\" class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <template v-if=\"website_name == 'Messenger'\">\n            <facebook-messenger></facebook-messenger>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nimport FacebookMessenger from \"./Components/FacebookMessengerDetails.vue\";\nimport WhatsApp from \"./Components/WhatsappDetails.vue\";\n\nexport default {\n  name: \"MessagingFrameworks\",\n  components: {\n    FacebookMessenger,\n    WhatsApp\n  },\n  data() {\n    return {\n      big_spinner: false,\n      website_name: \"\",\n      widget_code: \"\",\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      fb_access_token: \"\",\n      fb_user_id: \"\",\n      user_access_token: null,\n      fb_page_data: [],\n      fb_saved_page_data: []\n      // fb_messaging_url_regex: /[(m.me)\\/?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/i,\n    };\n  },\n  watch: {\n    fb_page_enabled(newVal) {\n      // console.log(newVal);\n      // console.log(this[webs + \"_data\"].is_visible_on_bot);\n    },\n  },\n  mounted() {    \n    this.get_integration_details();\n    this.$root.$on(\"messenger_framework_integrated\",(data, framework) => {\n      if (data == true && framework == \"whatsapp_request_form\"){\n        document.getElementById(\"whatsapp_img\").style.border = \"1px solid #273679\";\n        document.getElementById(\"whatsapp_img\").style.borderRadius = \"0.4rem\";\n        document.getElementById(\"check_btn_whatsapp\").innerHTML = `<i class=\"fa fa-check-circle\" aria-hidden=\"true\" style=\"color:#273679;margin-left: -1.0rem;margin-top:4px\"></i>`;\n      }else if (data == true && framework == \"facebook_details\"){\n        document.getElementById(\"facebook_messenger_img\").style.border = \"1px solid #273679\";\n        document.getElementById(\"facebook_messenger_img\").style.borderRadius = \"0.4rem\";\n        document.getElementById(\"check_btn_facebook_messenger\").innerHTML = `<i class=\"fa fa-check-circle\" aria-hidden=\"true\" style=\"color:#273679;margin-left: -1.0rem;margin-top:4px\"></i>`;\n      }\n    })\n  },\n  methods: {\n    get_integration_details() {\n      this.big_spinner = true;\n      axios\n        .post(\n          api_calls.chatbot_integration_details(),\n          {\n            is_get: true,\n            company_name: this.company_name,\n            company_id: this.company_id,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.big_spinner = false;\n          if (data.message.MSG_CODE != this.api_status_code.STATUS_SUCCESS.MSG_CODE) {\n            if (\"facebook_details\" in data.data && data.data.facebook_details.length != 0) {\n              var is_integrated = true;\n              this.$root.$emit('messenger_framework_integrated',is_integrated, \"facebook_details\");\n            }\n            if (\"whatsapp_request_form\" in data.data && data.data.whatsapp_details.length != 0){\n              var is_integrated = true;\n              this.$root.$emit('messenger_framework_integrated',is_integrated, \"whatsapp_request_form\");\n            }\n          }\n          else if (this.api_status_code.EMPTY_DATA.MSG_CODE == data.message.MSG_CODE) {\n\n          }\n          else {\n            Swal({\n              title:data.message.MSG_CODE,\n              text:data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              timer: 2500,\n              type: \"error\"\n            });\n          }\n        })\n        .catch((e) => {\n          this.big_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.delete-cart-item {\n  cursor: pointer;\n}\n.delete-cart-item svg :hover {\n  color: #f23d3d !important;\n  fill: #f23d3d !important;\n}\n.fb-connect-btn {\n  background: #006cff;\n  border: 1px solid #006cff;\n  color: #fff;\n  cursor: pointer;\n  transition: all .3s;\n}\n.fb-connect-btn:active {\n  opacity: .5!important;\n}\n.fb-connect-btn:hover {\n  opacity: .8!important;\n}\n.fb-button {\n  width: 45%;\n  display: flex;\n  background: #3b5998;\n  color: #fff;\n  padding: 10px 20px;\n  border-radius: 10px;\n  -webkit-transition: opacity .3s;\n  transition: opacity .3s;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-backface-visibility: hidden;\n  cursor: pointer;\n  -webkit-transition: all .3s;\n  transition: all .3s;\n}\n.fb-button:active {\n  opacity: .5!important;\n}\n.fb-button:hover {\n  opacity: .8!important;\n}\n.fb-button .icon {\n  margin-right: 10px;\n  width: 15px;\n  height: 25px;\n}\n.fb-button .icon svg {\n  max-width: 100%;\n  max-height: 100%;\n  -o-object-fit: contain;\n  object-fit: contain;\n}\n.logout-button {\n  margin-left: auto;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 10px 20px;\n  border-radius: 20px;\n  background: #f0f4f7;\n  color: #9ba6b3;\n  width: 96px;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-backface-visibility: hidden;\n  cursor: pointer;\n  -webkit-transition: all .3s;\n  transition: all .3s;\n}\n.logout-button:active {\n  opacity: .5!important;\n}\n.logout-button:hover {\n  opacity: .8!important;\n}\n.messenger-pages {\n  width: 100%;\n  background: #f7f7f8;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  /* -webkit-box-align: center; */\n  -ms-flex-align: center;\n  align-items: center;\n  padding: 10px 15px;\n  border-radius: 4px;\n  margin-bottom: 10px;\n}\n.third-party-logo {\n  width: 150px;\n  height: 75px;\n  object-fit: contain;\n}\n.msg__span {\n  padding-left: 1rem;\n}\n.card-act .red-btn {\n  font-size: 14px;\n  color: #fff;\n  background: #f23d3d;\n  border: solid 1px #f23d3d;\n  padding: 5px 20px;\n  font-weight: 400;\n  line-height: 20px;\n  display: inline-block;\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: center;\n}\n.switch {\n  margin-left: 1rem;\n}\n.col-sm-3{\n  max-width: 24%;\n}\n.row {\n    display: flex;\n    flex-wrap: wrap;\n    margin-right: -2px;\n    margin-left: 15px;\n}\n</style>"]}]}