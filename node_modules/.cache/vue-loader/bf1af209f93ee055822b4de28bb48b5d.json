{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/TrainTestBot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/TrainTestBot.vue","mtime":1643027096168},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRyYWluVGVzdEJvdFBhZ2UiLAogIG1peGluczogWwogICAgZnJlZXplX3BvcnRhbCwKICAgIHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbAogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbHRlcl9zdGF0dXM6IkZhaWx1cmUiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICBxdWVzdGlvbnNfbGlzdDogW10sCiAgICAgIGludGVudF9saXN0OiBbXSwKICAgICAgY3VycmVudF9zZWxlY3RlZF9pbnRlbnQ6IG51bGwsCiAgICAgIHNlbGVjdGVkX3F1ZXN0aW9uX2luZGV4OiBudWxsLAogICAgICBjdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnM6IFtdLAogICAgICBzdGF0dXNfbGlzdDogWyJTdWNjZXNzIiwgIkZhaWx1cmUiXSwKICAgICAgc2VsZWN0ZWRfc3RhdHVzbGlzdDogWyJGYWlsdXJlIl0sCiAgICAgIGNvbXBhbnlfaWQ6IG51bGwsCiAgICAgIGNvbXBhbnlfbmFtZTogbnVsbCwKICAgICAgZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgZmlsZV9jb250ZW50OiAiIiwKICAgICAgcGFnZV9ubzogMSwKICAgICAgbnVtYmVyX29mX3Jvd3M6IDAsCiAgICAgIHRvdGFsX3BhZ2VzOiAxLAogICAgICBwZXJfcGFnZTogMjAsCiAgICAgIHBhZ2VfYXJyYXk6IFtdLAogICAgICBzaG93X25vX3F1ZXN0aW9uc19tZXNzYWdlOiBmYWxzZSwKICAgICAgaW50ZW50X21vZGVsX2lucHJvZ3Jlc3M6IGZhbHNlLAogICAgICB3YW50X3N0YXR1czogdHJ1ZSwKICAgICAgZnVsbHNjcmVlbjogZmFsc2UsCiAgICAgIGRpc2FibGVfYnRuX2V4cGlyZWQ6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgCiAgICB0aGlzLiRyb290LiRvbigiVHJhaW5UZXN0Qm90UGFnZURpc2FibGVkIiwgKGRhdGEpID0+ewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSkKCiAgICAvLyB0aGlzLmNvbXBhbnlfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgIGlmICgKICAgICAgIXRoaXMuJHNlc3Npb24uaGFzKCJDb21wYW55SWQiKSAmJgogICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIKICAgICkgewogICAgICB0b2FzdHIud2FybmluZygiUGxlYXNlIHNlbGVjdCBhIGNvbXBhbnkgbmFtZSBmcm9tIHRoZSBkcm9wZG93biIpOwogICAgfSBlbHNlIGlmICh0aGlzLnVzZXJfcm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgaWYgKHRoaXMuJHNlc3Npb24uaGFzKCJDb21wYW55SWQiKSkgewogICAgICAgIHRoaXMuY29tcGFueV9pZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55SWQiKTsKICAgICAgICB0aGlzLmNvbXBhbnlfbmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55TmFtZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tcGFueV9pZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICAgIHRoaXMuY29tcGFueV9uYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jb21wYW55X2lkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueV9uYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgIH0KICAgIHZhciB2bSA9IHRoaXM7CiAgICAkKCIuZHJvcGRvd24iKS5vbigiaGlkZS5icy5kcm9wZG93biIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAvLyB2YXIgeCA9ICQoZXZlbnQucmVsYXRlZFRhcmdldCkudGV4dCgpOyAvLyBHZXQgdGhlIHRleHQgb2YgdGhlIGVsZW1lbnQKICAgICAgLy8gYWxlcnQoeCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHZtLnNlbGVjdGVkX3N0YXR1c2xpc3QpOwogICAgfSk7CiAgICAkKCIjbXlNb2RhbCIpLm9uKCJoaWRkZW4uYnMubW9kYWwiLCAoKSA9PiB7CiAgICAgIHZtLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50ID0gbnVsbDsKICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oInNlbmRfbW9kZWxfc3RhdHVzIiwgZGF0YSA9PnsKICAgICAgaWYgKGRhdGEgPT0gdHJ1ZSl7CiAgICAgICAgdGhpcy5jaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzKCk7CiAgICAgIH0KICAgIH0pCiAgICB0aGlzLmdldF9pbnRlbnRzX2xpc3QoKTsKICAgIHRoaXMuaW5pdGlhbGl6ZV9xdWVzdGlvbnNfZm9yX2ludGVudCgpOwogICAgdGhpcy5nZXRfcXVlc3Rpb25zX2xpc3QoKTsKICAgIHRoaXMuY2hlY2tfaW50ZW50X21vZGVsX3N0YXR1cygpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hrX2NieF9jcnNyKGluZGV4KXsKICAgICAgaWYodGhpcy5zaG93X25vX3F1ZXN0aW9uc19tZXNzYWdlKXsKICAgICAgICBpZihpbmRleCA9PSAnc3R5bGUnKXsKICAgICAgICAgIHJldHVybiAiY3Vyc29yOiBub3QtYWxsb3dlZCI7CiAgICAgICAgfWVsc2UgaWYoaW5kZXggPT0gJ3RpdGxlJyl7CiAgICAgICAgICByZXR1cm4gIlRoZXJlIGFyZSBubyBmYWlsdXJlIGRhdGEgdG8gYmUgdHJhaW5lZC4iOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzKCl7CiAgICB0aGlzLm1vZGVsX3N0YXR1cyA9IHRoaXMuJHNlc3Npb24uZ2V0KCJNb2RlbFN0YXR1cyIpOwogICAgaWYgKHRoaXMubW9kZWxfc3RhdHVzID09ICJObyBGYWlsdXJlIil7CiAgICB0aGlzLmludGVudF9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICB9CiAgICBlbHNlIGlmIChCb29sZWFuKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCkgPT09IHRydWUpewogICAgIGlmKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIpewogICAgICAgdGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9IHRydWU7CiAgICAgfQogICAgIGVsc2V7CiAgICAgICB0aGlzLmludGVudF9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgfQogICAgfQogICAgZWxzZXsKICAgICAgdGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOyAKICAgIH0KICAgIH0sCiAgICBzaG93X21vZGVsX3Byb2dyZXNzKGluZGV4KXsKICAgICAgaWYodGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9PSB0cnVlKXsKICAgICAgICAgaWYgKGluZGV4ID09ICdzdHlsZScpewogICAgICAgICAgICByZXR1cm4gImN1cnNvcjogbm90LWFsbG93ZWQiOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihpbmRleCA9PSAndGl0bGUnKXsKICAgICAgICAgICAgICByZXR1cm4gIlRyYWluaW5nIGluIFByb2dyZXNzKFRoaXMgcHJvY2VzcyBtaWdodCB0YWtlIGFyb3VuZCA0NSBtaW5zIHRvIGZpbmlzaCkgIjsKICAgICAgICAgIH0KICAgICAgfQogICAgICBlbHNlewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgZ2V0X3F1ZXN0aW9uc19saXN0KCkgewogICAgICB0aGlzLnNob3dfbm9fcXVlc3Rpb25zX21lc3NhZ2UgPSBmYWxzZTsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICB0aGlzLnF1ZXN0aW9uc19saXN0ID0gW107CiAgICAgIGF4aW9zCiAgICAgICAgLmdldChhcGlfY2FsbHMudGVzdF9pbnRlbnRfbW9kZWwoKSwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgbmV3X3F1ZXN0aW9uX2RhdGE6IHRoaXMubmV3X3F1ZXN0aW9uX2RhdGEsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBzdGF0dXM6IHRoaXMuc2VsZWN0ZWRfc3RhdHVzbGlzdCwKICAgICAgICAgICAgcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgICB9LAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgdGhpcy5zaG93X25vX3F1ZXN0aW9uc19tZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gcmVzcG9uc2UuZGF0YS5wYWdlY291bnQ7CiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25zX2xpc3QgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7CiAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLiIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIG9wZW5fbW9kYWxfZm9yX2ludGVudChpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50ID0gdGhpcy5xdWVzdGlvbnNfbGlzdFtpbmRleF0uRXhwZWN0ZWRJbnRlbnQ7CiAgICAgIHRoaXMuc2VsZWN0ZWRfcXVlc3Rpb25faW5kZXggPSBpbmRleDsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zWwogICAgICAgICAgaQogICAgICAgIF0uaW50ZW50ID0gYCR7dGhpcy5jb21wYW55X2lkfV8ke3RoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnR9YDsKICAgICAgfQogICAgICAvLyAkKCIjbXlNb2RhbCIpLm1vZGFsKCJzaG93Iik7CiAgICB9LAogICAgYWRkX3F1ZXN0aW9uKCkgewogICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9ucy51bnNoaWZ0KHsKICAgICAgICBxdWVzdGlvbjogbnVsbCwKICAgICAgICBpbnRlbnQ6IGAke3RoaXMuY29tcGFueV9pZH1fJHt0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50fWAsCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9xdWVzdGlvbihpbmRleCkgewogICAgICBpZiAodGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnMubGVuZ3RoID4gMSkgewogICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICB0ZXh0OiAiQXRsZWFzdCBPbmUgUXVlc2l0b24gaGFzIHRvIGJlIEFkZGVkIiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtcmlnaHQiLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRfaW50ZW50c19saXN0KCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLmdldF91bmFuc3dlcmVkX3VybCgpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBpc0Ryb3Bkb3duOiAiVHJ1ZSIsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgICAgICAgICB0aGlzLmludGVudF9saXN0LnB1c2goCiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YVswXVtpXS5yZXBsYWNlKHRoaXMuY29tcGFueV9pZCArICJfIiwgIiIpCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIHNhdmVfcXVlc3Rpb25zX2Zvcl9pbnRlbnQoKSB7CiAgICAgIGlmIChCb29sZWFuKHRoaXMuc2VsZWN0ZWRfcXVlc3Rpb25faW5kZXgpKSB7CiAgICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnMucHVzaCh7CiAgICAgICAgICBxdWVzdGlvbjogdGhpcy5xdWVzdGlvbnNfbGlzdFt0aGlzLnNlbGVjdGVkX3F1ZXN0aW9uX2luZGV4XS5RdWVzdGlvbiwKICAgICAgICAgIGludGVudDogYCR7dGhpcy5jb21wYW55X2lkfV8ke3RoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnR9YCwKICAgICAgICB9KTsKICAgICAgfQogICAgICBsZXQgcXVlc3Rpb25zX2xpc3QgPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9ucy5maWx0ZXIoCiAgICAgICAgKHF1ZXN0aW9uKSA9PiB7CiAgICAgICAgICByZXR1cm4gQm9vbGVhbihxdWVzdGlvbi5xdWVzdGlvbik7CiAgICAgICAgfQogICAgICApOwogICAgICAkKCIjbXlNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy5hZGRfcXVlc3Rpb25fdXJsKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGVkaXRfaW50ZW50OiBmYWxzZSwKICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgbmV3X3F1ZXN0aW9uX2RhdGE6IHF1ZXN0aW9uc19saXN0LAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmluaXRpYWxpemVfcXVlc3Rpb25zX2Zvcl9pbnRlbnQoKTsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGV4dDogIlRoZXJlIHdhcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4uIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGV4dDogIllvdXIgcXVlc3Rpb24gaGFzIGJlZW4gYWRkZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldF9xdWVzdGlvbnNfbGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJGYWlsdXJlIikgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgdGV4dDogIlRoZSBxdWVzdGlvbnMgYWxyZWFkeSBleGlzdC4iLAogICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gIkVycm9yIikgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gSW50ZXJuYWwgU2VydmVyIEVycm9yLiBQbGVhc2UgVHJ5IEFnYWluLiIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJUaGVyZSB3YXMgYW4gSW50ZXJuYWwgU2VydmVyIEVycm9yLiBQbGVhc2UgVHJ5IEFnYWluLiIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGluaXRpYWxpemVfcXVlc3Rpb25zX2Zvcl9pbnRlbnQoKSB7CiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnRfcXVlc3Rpb25zID0gWwogICAgICAgIHsKICAgICAgICAgIHF1ZXN0aW9uOiBudWxsLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcXVlc3Rpb246IG51bGwsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBxdWVzdGlvbjogbnVsbCwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHF1ZXN0aW9uOiBudWxsLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcXVlc3Rpb246IG51bGwsCiAgICAgICAgfSwKICAgICAgXTsKICAgIH0sCiAgICBkb3dubG9hZF9zYW1wbGUoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMucXVlc3Rpb25faW50ZW50X2NzdigpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAvLyB3aW5kb3cub3BlbihyZXNwb25zZS5kYXRhLkNTVl9VUkwsICJfYmxhbmsiKTsKICAgICAgICAgIHZhciBhID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgIGEuaHJlZiA9IHJlc3BvbnNlLmRhdGEuQ1NWX1VSTDsKICAgICAgICAgIGEuZG93bmxvYWQgLSB0cnVlOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIGEuY2xpY2soKTsKICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyX2ZpbGVfZGV0YWlscygpIHsKICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgdGhpcy5maWxlX2NvbnRlbnQgPSAiIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgfSwKICAgIGZpbGVpbnB1dCgpIHsKICAgICAgdGhpcy5maWxlX2xhYmVsID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdLm5hbWU7CiAgICAgIC8vIHZhciBmaWxlX25hbWUgPSB0aGlzLmNvbXBhbnluYW1lICsgIkludGVudEZpbGUuY3N2IjsKICAgICAgLy8gaWYgKHRoaXMuZmlsZV9sYWJlbCAhPSBmaWxlX25hbWUpIHsKICAgICAgLy8gICBTd2FsKHsKICAgICAgLy8gICAgIHR5cGU6ICJlcnJvciIsCiAgICAgIC8vICAgICB0ZXh0OgogICAgICAvLyAgICAgICAiVXNlcnMgbmVlZCB0byBkb3dubG9hZCB0aGUgSW50ZW50IEZpbGUgZnJvbSAnVXBsb2FkIENTViBGaWxlcycgcG9wLXVwLiBDaGFuZ2VzIHRvIHRoaXMgZmlsZSB3aWxsIGJlIGFjY2VwdGVkIGJ5IHRoZSBzeXN0ZW0uIiwKICAgICAgLy8gICB9KTsKICAgICAgLy8gICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAvLyB9IGVsc2UgewogICAgICB0aGlzLmZpbGVfY29udGVudCA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgLy8gfQogICAgfSwKICAgIGZpbGVfc3VibWl0KCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgdXNlcl9kZXRhaWxzID0gewogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIH07CiAgICAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcl9kZXRhaWxzKTsKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsKICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgIH0pOwogICAgICBpZiAodGhpcy5maWxlX2xhYmVsID09ICJDaG9vc2UgZmlsZSIpIHsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZkLmFwcGVuZCgKICAgICAgICAgICJmaWxlIiwKICAgICAgICAgIHRoaXMuZmlsZV9jb250ZW50LAogICAgICAgICAgdGhpcy5jb21wYW55X25hbWUgKyAiUXVlc3Rpb25zRmlsZS5jc3YiCiAgICAgICAgKTsKICAgICAgICBmZC5hcHBlbmQoImpzb24iLCBibG9iKTsKICAgICAgICAkKCIjZmlsZV91cGxvYWQiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnRlc3RfaW50ZW50X21vZGVsKCksIGZkLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJSZXN1bHRzIHdvdWxkIGJlIGF2YWlsYWJsZSBzb29uIikgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICJSZXN1bHRzIHdvdWxkIGJlIGF2YWlsYWJsZSBzb29uIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAvLyAkKCcjZmlsZV91cGxvYWQnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5sb2FkX3F1ZXN0aW9uc19yZXNwb25zZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIC8vICQoJyNmaWxlX3VwbG9hZCcpLm1vZGFsKCdoaWRlJyk7CiAgICAgICAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkX3F1ZXN0aW9uc19yZXNwb25zZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICQoIiNmaWxlX3VwbG9hZCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQiLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgLy8gJCgnI2ZpbGVfdXBsb2FkJykubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRHcm91cEZpbGUwMSIpLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcXVlc3Rpb25zX3Jlc3BvbnNlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcGFnZV9yZXF1aXJlKHBhZ2UpIHsKICAgICAgaWYgKHBhZ2UgPT0gMCB8fCBwYWdlID09IHRoaXMudG90YWxfcGFnZXMgKyAxKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAocGFnZSA9PSAiLi4ucyIpIHsKICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gIi4uLmwiKSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKHRoaXMudG90YWxfcGFnZXMgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2U7CiAgICAgICAgfQogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICB0aGlzLmdldF9xdWVzdGlvbnNfbGlzdCgpOwogICAgICB9CiAgICB9LAogICAgc2V0cGFnaW5hdGlvbihwYWdlX25vKSB7CiAgICAgIHRoaXMucGFnZV9hcnJheSA9IFtdOwogICAgICBpZiAodGhpcy50b3RhbF9wYWdlcyA8PSA3KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSAxKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IHRoaXMudG90YWxfcGFnZXMpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwogICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnRvdGFsX3BhZ2VzIC0gNDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vIDw9IDQpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfSBlbHNlIGlmIChwYWdlX25vID49IHRoaXMudG90YWxfcGFnZXMgLSA0KSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gcGFnZV9ubyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gcGFnZV9ubyAtIDM7IGkgPD0gcGFnZV9ubyArIDM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGUoKSB7CiAgICAgIC8vIHRoaXMuJGZ1bGxzY3JlZW4udG9nZ2xlKChkb2N1bWVudC5ib2R5KSwgewogICAgICB0aGlzLiRmdWxsc2NyZWVuLnRvZ2dsZSh0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCIuZGFzaC1jb250IiksIHsKICAgICAgICB3cmFwOiBmYWxzZSwKICAgICAgICBjYWxsYmFjazogdGhpcy5mdWxsc2NyZWVuQ2hhbmdlLAogICAgICB9KTsKICAgIH0sCiAgICBmdWxsc2NyZWVuQ2hhbmdlKGZ1bGxzY3JlZW4pIHsKICAgICAgdGhpcy5mdWxsc2NyZWVuID0gZnVsbHNjcmVlbjsKICAgIH0sCiAgICB0cmFpbl9hbmRfdGVzdF9tb2RlbCgpIHsKICAgICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAgIFN3YWwoewogICAgICAgIHRpdGxlOiAiQXJlIFlvdSBTdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3YW50IHRvIFRyYWluICYgVGVzdCBUaGUgTW9kZWw/IiwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbW9kZWwoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIHRlc3RfbW9kZWw6IHRydWUsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLndhbnRfc3RhdHVzID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJ3YW50X21vZGVsX3N0YXR1cyIsdGhpcy53YW50X3N0YXR1cyk7CiAgICAgICAgICAgICAgdGhpcy5jaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzKCk7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHX0NPREUgPT0gNDA0NikgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUmVzdWx0cyB3b3VsZCBiZSBhdmFpbGFibGUgc29vbiIsCiAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEuTVNHLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAzNTAwLAogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyAkKCcjZmlsZV91cGxvYWQnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZF9xdWVzdGlvbnNfcmVzcG9uc2UoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSAxMDM0KSB7CiAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkIiwKICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5NU0csCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyAkKCcjZmlsZV91cGxvYWQnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubG9hZF9xdWVzdGlvbnNfcmVzcG9uc2UoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQiLAogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAvLyAkKCcjZmlsZV91cGxvYWQnKS5tb2RhbCgnaGlkZScpOwogICAgICAgICAgICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRHcm91cEZpbGUwMSIpLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZF9xdWVzdGlvbnNfcmVzcG9uc2UoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyAkKCIjZmlsZV91cGxvYWQiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkIiwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgICAgLy8gJCgnI2ZpbGVfdXBsb2FkJykubW9kYWwoJ2hpZGUnKTsKICAgICAgICAgICAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICB0aGlzLmxvYWRfcXVlc3Rpb25zX3Jlc3BvbnNlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7fWVsc2V7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKQogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbHRlcl9zdGF0dXMoKXsKICAgICAgaWYodGhpcy5maWx0ZXJfc3RhdHVzID09PSAgJ0ZhaWx1cmUnKXsKICAgICAgICB0aGlzLnNlbGVjdGVkX3N0YXR1c2xpc3QgPSBbIkZhaWx1cmUiXTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5zZWxlY3RlZF9zdGF0dXNsaXN0ID0gWyJTdWNjZXNzIl07CiAgICAgIH0KICAKICAgIH0sCiAgICBzZWxlY3RlZF9zdGF0dXNsaXN0KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwubGVuZ3RoID09PSAwKSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkX3N0YXR1c2xpc3QgPSBbIlN1Y2Nlc3MiLCAiRmFpbHVyZSJdOwogICAgICAgICAgdGhpcy5nZXRfcXVlc3Rpb25zX2xpc3QoKTsKICAgICAgICB9LCAyMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0X3F1ZXN0aW9uc19saXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICBjdXJyZW50X3NlbGVjdGVkX2ludGVudChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAoQm9vbGVhbihvbGRWYWwpICYmIEJvb2xlYW4obmV3VmFsKSkgewogICAgICAgIGZvciAoCiAgICAgICAgICBsZXQgaSA9IDAsIG4gPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfaW50ZW50X3F1ZXN0aW9ucy5sZW5ndGg7CiAgICAgICAgICBpIDwgbjsKICAgICAgICAgIGkrKwogICAgICAgICkgewogICAgICAgICAgdGhpcy5jdXJyZW50X3NlbGVjdGVkX2ludGVudF9xdWVzdGlvbnNbCiAgICAgICAgICAgIGkKICAgICAgICAgIF0uaW50ZW50ID0gYCR7dGhpcy5jb21wYW55X2lkfV8ke3RoaXMuY3VycmVudF9zZWxlY3RlZF9pbnRlbnR9YDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["TrainTestBot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4eA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TrainTestBot.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Data Inputs","sourcesContent":["<template>\n  <div>\n    <div class=\"dash-cont\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-act card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          >\n            <!-- <button type=\"button\" @click=\"toggle\" >Fullscreen</button> -->\n            <h4 class=\"mb-sm-0 mr-3\">Improve Prediction</h4>\n            <div class=\"radio my-auto\">\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"Success\"\n                  id=\"filter_status_success\"\n                />\n                <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                Success\n              </label>\n              <label>\n                <input\n                  type=\"radio\"\n                  v-model=\"filter_status\"\n                  value=\"Failure\"\n                  id=\"filter_status_failure\"\n                />\n                <span class=\"icn\"></span> Failure\n              </label>\n            </div>\n            <i\n              class=\"fa fa-expand ml-auto mr-3 mt-auto mb-auto\"\n              @click=\"toggle\"\n              aria-hidden=\"true\"\n              v-if=\"!fullscreen\"\n            ></i>\n            <i\n              class=\"fa fa-compress ml-auto mr-3 mt-auto mb-auto\"\n              @click=\"toggle\"\n              aria-hidden=\"true\"\n              v-if=\"fullscreen\"\n              title=\"Toggle Fullscreen\"\n            ></i>\n            <!-- <button\n              type=\"submit\"\n              class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n              data-target=\"#file_upload\"\n            >  -->\n            <button :style=\"chk_cbx_crsr('style') || show_model_progress('style')\"\n              :title=\"chk_cbx_crsr('title') || show_model_progress('title')\"\n              :disabled=\"show_no_questions_message || intent_model_inprogress == true\"\n              id=\"train_and_test_btn\" class=\"darkblue-btn\"\n              @click=\"train_and_test_model\">\n              <i class=\"fa fa-spinner fa-spin\" v-show=\"intent_model_inprogress\"></i>\n              Train & Test\n            </button>\n          </div>\n          <div class=\"card-body\" id=\"page\">\n            <!-- <div class=\"dropdown ml-auto\" style=\"z-index:1000000\"> -->\n            <!-- <i class=\"fa fa-filter dropdown-toggle\" aria-hidden=\"true\" data-toggle=\"dropdown\"></i> -->\n            <!-- <ul class=\"dropdown-menu \">\n                        <table style=\"width: 100%;\">\n                            <tr\n                            v-for=\"(status,index) in status_list\"\n                            :key=\"index\"\n                            >\n                            <td style=\"display:flex;width: auto; text-align:center\"\n                            >\n                                <input\n                                v-model=\"selected_statuslist\"\n                                type=\"checkbox\"\n                                :id=\"status.replace(/\\s/g,'')+'_checkbox'\"\n                                :value=\"status\"\n                                style=\"margin-top: auto;margin-bottom: auto;\"\n                                >\n                                <label\n                                :for=\"status.replace(/\\s/g,'')+'_checkbox'\"\n                                :title=\"status\"\n                                style=\"margin: auto;\"\n                                >\n                                {{status}}</label>\n                            </td>\n                            </tr>\n                        </table>\n                        </ul> -->\n            <!-- </div> -->\n            <div class=\"dropdown\">\n              <div class=\"table-box\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">Question</th>\n                      <th scope=\"col\">Expected Intent</th>\n                      <th scope=\"col\">Predicted Intent</th>\n                      <th scope=\"col\">Prediction Confidence</th>\n                      <!-- <th scope=\"col\" style=\"min-height: 63px;\">Status</th> -->\n                      <!-- <th\n                        scope=\"col\"\n                        style=\"\n                          display: flex;\n                          min-height: 63px;\n                          margin-top: auto;\n                        \"\n                      >\n                        <div class=\"mt-auto d-flex\">\n                          Status\n                          <i\n                            class=\"fa fa-filter\"\n                            aria-hidden=\"true\"\n                            data-toggle=\"dropdown\"\n                            style=\"cursor: pointer\"\n                          ></i>\n                          <ul\n                            class=\"dropdown-menu p-0\"\n                            style=\"margin-top: 0.6rem\"\n                          >\n                            <table style=\"width: 100%\">\n                              <tr\n                                v-for=\"(status, index) in status_list\"\n                                :key=\"index\"\n                              >\n                                <td\n                                  style=\"\n                                    display: flex;\n                                    width: auto;\n                                    text-align: center;\n                                  \"\n                                >\n                                  <input\n                                    v-model=\"selected_statuslist\"\n                                    type=\"checkbox\"\n                                    :id=\"\n                                      status.replace(/\\s/g, '') + '_checkbox'\n                                    \"\n                                    :value=\"status\"\n                                    style=\"\n                                      margin-top: auto;\n                                      margin-bottom: auto;\n                                    \"\n                                  />\n                                  <label\n                                    :for=\"\n                                      status.replace(/\\s/g, '') + '_checkbox'\n                                    \"\n                                    :title=\"status\"\n                                    style=\"margin: auto\"\n                                  >\n                                    {{ status }}</label\n                                  >\n                                </td>\n                              </tr>\n                            </table>\n                          </ul>\n                        </div>\n                      </th> -->\n                      <th scope=\"col\">Improve</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-if=\"show_no_questions_message\">\n                      <td colspan=\"7\" style=\"text-align: center\">\n                        There are no questions to be displayed yet. If you have\n                        initiated the testing process, please wait for some time\n                        and\n                        <i style=\"cursor: pointer\" @click=\"get_questions_list\">\n                          <b> refresh </b>\n                        </i>\n                        again to fetch results\n                      </td>\n                    </tr>\n                    <tr\n                      v-for=\"(question, index) in questions_list\"\n                      :key=\"index\"\n                    >\n                      <td>{{ index + 1 }}</td>\n                      <td>{{ question.Question }}</td>\n                      <td>{{ question.ExpectedIntent }}</td>\n                      <td>{{ question.ResultIntent }}</td>\n                      <td style=\"text-align: center\">\n                        {{ question.PredictionConfidence }}%\n                      </td>\n                      <!-- <td>{{ question.Status }}</td> -->\n                      <td class=\"text-center\">\n                        <!-- <button class=\"darkblue-btn\" data-toggle=\"modal\" data-target=\"#myModal\" @click=\"open_modal_for_intent(index)\">\n                          Train\n                        </button> -->\n                        <button\n                          class=\"save_node_button\"\n                          data-toggle=\"modal\"\n                          data-target=\"#myModal\"\n                          @click=\"open_modal_for_intent(index)\"\n                          style=\"height: 29px; padding: 0px 10px\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"14\"\n                            height=\"13.997\"\n                            viewBox=\"0 0 14 13.997\"\n                          >\n                            <path\n                              id=\"Union_13\"\n                              data-name=\"Union 13\"\n                              d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                              transform=\"translate(12690.001 -2045.002)\"\n                              fill=\"#fff\"\n                            />\n                          </svg>\n                        </button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"pagin-table\" style=\"margin-top: 2%; margin-bottom: 4%\">\n          <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no - 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-left\"\n                      transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n              <li\n                class=\"page-item\"\n                :class=\"{ active: page === page_no }\"\n                v-for=\"(page, index) in page_array\"\n                :key=\"index\"\n              >\n                <a\n                  v-if=\"page == '...s' || page == '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >...</a\n                >\n                <a\n                  v-if=\"page != '...s' && page != '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page)\"\n                  >{{ page }}</a\n                >\n                <!-- <a class=\"page-link\" href=\"#\" @click=\"page_require(page)\">{{page}}</a> -->\n              </li>\n\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no + 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-right\"\n                      transform=\"translate(-97.139 0)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n        <div\n          id=\"myModal\"\n          class=\"modal fade dash-modal\"\n          role=\"dialog\"\n          data-backdrop=\"static\"\n          data-keyboard=\"false\"\n        >\n          <div class=\"modal-dialog modal-lg\">\n            <!-- Modal content-->\n            <div class=\"modal-content\" style=\"width: 135%; margin-left: -17%\">\n              <form @submit.prevent=\"save_questions_for_intent\">\n                <div class=\"modal-header\" style=\"width: 808px\">\n                  <h5 class=\"modal-title\">\n                    Add Questions for Intent\n                    <!-- {{current_selected_intent}} -->\n                  </h5>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <img src=\"/img/close-icn.png\" alt />\n                  </button>\n                </div>\n                <div class=\"modal-body py-3 px-3\" style=\"width: 808px\">\n                  <!-- <p>Some text in the modal.</p> -->\n                  <div class=\"form-group\">\n                    <label for=\"text\">Current Intent</label>\n                    <multiselect\n                      v-model=\"current_selected_intent\"\n                      :options=\"intent_list\"\n                      :searchable=\"true\"\n                      :close-on-select=\"true\"\n                      :show-labels=\"false\"\n                    >\n                      <span>{{ current_selected_intent }}</span>\n                    </multiselect>\n                  </div>\n                  <div class=\"form-group\" style=\"margin-bottom: 4px\">\n                    <label> Add Questions </label>\n                    <button\n                      class=\"save_node_button\"\n                      @click=\"add_question\"\n                      type=\"button\"\n                      style=\"height: 29px; padding: 0px 10px\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"14\"\n                        height=\"13.997\"\n                        viewBox=\"0 0 14 13.997\"\n                      >\n                        <path\n                          id=\"Union_13\"\n                          data-name=\"Union 13\"\n                          d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                          transform=\"translate(12690.001 -2045.002)\"\n                          fill=\"#fff\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                  <div\n                    style=\"display: flex; margin-top: 2%\"\n                    v-for=\"(\n                      question, index\n                    ) in current_selected_intent_questions\"\n                    :key=\"index\"\n                  >\n                    <input\n                      type=\"text\"\n                      class=\"form-control\"\n                      style=\"height: 40px !important; padding-left: 12px\"\n                      v-model=\"question.question\"\n                      required\n                      placeholder=\"Add Your Question Here\"\n                    />\n                    <button\n                      class=\"save_node_button\"\n                      style=\"\n                        margin-left: 3%;\n                        height: 39px;\n                        padding: 0px 10px;\n                        background: #f23d3d;\n                        border: solid 1px #f23d3d;\n                      \"\n                      @click=\"delete_question(index)\"\n                      type=\"button\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"14\"\n                        height=\"14\"\n                        viewBox=\"0 0 14 14\"\n                      >\n                        <path\n                          id=\"trash-can-outline\"\n                          d=\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\"\n                          transform=\"translate(-4 -3)\"\n                          fill=\"#fff\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                  <div class=\"btn-wrap text-right mx-0 mt-3 mb-0 px-0 pt-3 pb-0\">\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-dismiss=\"modal\"\n                    >\n                      Cancel\n                    </button>\n                    <button type=\"submit\" class=\"darkblue-btn\">\n                      Save\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"modal fade dash-modal\"\n          id=\"file_upload\"\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"exampleModalCenterTitle\"\n          aria-hidden=\"true\"\n          data-backdrop=\"static\"\n          data-keyboard=\"false\"\n        >\n          <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n            <div class=\"modal-content\">\n              <div class=\"modal-body\">\n                <div class=\"modal-head d-flex align-items-center\">\n                  <div class=\"head-icn\">\n                    <img src=\"/img/msg-blue.png\" alt />\n                  </div>\n                  <h3>Upload CSV Files</h3>\n                </div>\n                <button\n                  type=\"button\"\n                  class=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                  @click=\"clear_file_details\"\n                >\n                  <img src=\"/img/close-icn.png\" alt />\n                </button>\n                <form @submit.prevent=\"file_submit\">\n                  <div class=\"form-group\">\n                    <div class=\"custom-file\">\n                      <input\n                        type=\"file\"\n                        accept=\".csv\"\n                        class=\"custom-file-input\"\n                        id=\"inputGroupFile01\"\n                        @change=\"fileinput\"\n                        aria-describedby=\"inputGroupFileAddon01\"\n                      />\n                      <label\n                        style=\"font-weight: 400; line-height: 15px\"\n                        class=\"custom-file-label form-control\"\n                        for=\"file\"\n                        >{{ file_label }}</label\n                      >\n                    </div>\n                  </div>\n                  <div class=\"btn-wrap text-right\">\n                    <a href=\"#\" @click=\"download_sample\">\n                      Download Sample CSV\n                      <i class=\"fa fa-spinner fa-spin\" v-show=\"spinnerOn\"></i>\n                    </a>\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-link\"\n                      data-dismiss=\"modal\"\n                      @click=\"clear_file_details\"\n                    >\n                      Cancel\n                    </button>\n                    <button type=\"submit\" class=\"darkblue-btn\">Submit</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Swal from \"sweetalert2\";\nimport swal from \"sweetalert2\";\nimport Multiselect from \"vue-multiselect\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\n\nexport default {\n  name: \"TrainTestBotPage\",\n  mixins: [\n    freeze_portal,\n    show_subscription_expired_swal\n  ],\n  data() {\n    return {\n      filter_status:\"Failure\",\n      spinnerOn: false,\n      questions_list: [],\n      intent_list: [],\n      current_selected_intent: null,\n      selected_question_index: null,\n      current_selected_intent_questions: [],\n      status_list: [\"Success\", \"Failure\"],\n      selected_statuslist: [\"Failure\"],\n      company_id: null,\n      company_name: null,\n      file_label: \"Choose file\",\n      file_content: \"\",\n      page_no: 1,\n      number_of_rows: 0,\n      total_pages: 1,\n      per_page: 20,\n      page_array: [],\n      show_no_questions_message: false,\n      intent_model_inprogress: false,\n      want_status: true,\n      fullscreen: false,\n      disable_btn_expired: false,\n    };\n  },\n  components: {\n    Multiselect,\n  },\n  mounted() {\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    \n    this.$root.$on(\"TrainTestBotPageDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    })\n\n    // this.company_id = this.$session.get(\"UserInformation\").company_id;\n    if (\n      !this.$session.has(\"CompanyId\") &&\n      this.$session.get(\"UserInformation\").role == \"SuperAdmin\"\n    ) {\n      toastr.warning(\"Please select a company name from the dropdown\");\n    } else if (this.user_role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.company_id = this.$session.get(\"CompanyId\");\n        this.company_name = this.$session.get(\"CompanyName\");\n      } else {\n        this.company_id = this.$session.get(\"UserInformation\").company_id;\n        this.company_name = this.$session.get(\"UserInformation\").company_name;\n      }\n    } else {\n      this.company_id = this.$session.get(\"UserInformation\").company_id;\n      this.company_name = this.$session.get(\"UserInformation\").company_name;\n    }\n    var vm = this;\n    $(\".dropdown\").on(\"hide.bs.dropdown\", function (event) {\n      // var x = $(event.relatedTarget).text(); // Get the text of the element\n      // alert(x);\n      // console.log(vm.selected_statuslist);\n    });\n    $(\"#myModal\").on(\"hidden.bs.modal\", () => {\n      vm.current_selected_intent = null;\n    });\n    this.$root.$on(\"send_model_status\", data =>{\n      if (data == true){\n        this.check_intent_model_status();\n      }\n    })\n    this.get_intents_list();\n    this.initialize_questions_for_intent();\n    this.get_questions_list();\n    this.check_intent_model_status();\n  },\n  methods: {\n    chk_cbx_crsr(index){\n      if(this.show_no_questions_message){\n        if(index == 'style'){\n          return \"cursor: not-allowed\";\n        }else if(index == 'title'){\n          return \"There are no failure data to be trained.\";\n        }\n      }else{\n        return null;\n      }\n    },\n    check_intent_model_status(){\n    this.model_status = this.$session.get(\"ModelStatus\");\n    if (this.model_status == \"No Failure\"){\n    this.intent_model_inprogress = false;\n    }\n    else if (Boolean(this.model_status.intent_model) === true){\n     if(this.model_status.intent_model == \"InProgress\"){\n       this.intent_model_inprogress = true;\n     }\n     else{\n       this.intent_model_inprogress = false;\n     }\n    }\n    else{\n      this.intent_model_inprogress = false; \n    }\n    },\n    show_model_progress(index){\n      if(this.intent_model_inprogress == true){\n         if (index == 'style'){\n            return \"cursor: not-allowed\";\n          }\n          else if(index == 'title'){\n              return \"Training in Progress(This process might take around 45 mins to finish) \";\n          }\n      }\n      else{\n        return null;\n      }\n    },\n    get_questions_list() {\n      this.show_no_questions_message = false;\n      this.spinnerOn = true;\n      this.questions_list = [];\n      axios\n        .get(api_calls.test_intent_model(), {\n          params: {\n            company_name: this.company_name,\n            company_id: this.company_id,\n            new_question_data: this.new_question_data,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            status: this.selected_statuslist,\n            pageno: this.page_no,\n            perpage: this.per_page,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data.MSG === \"Query Executed Successfully\") {\n            if (response.data.results.length === 0) {\n              this.show_no_questions_message = true;\n            }\n            this.total_pages = response.data.pagecount;\n            this.questions_list = response.data.results;\n            this.setpagination(this.page_no);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        })\n        .catch((e) => {\n          // console.log(e);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    open_modal_for_intent(index) {\n      this.current_selected_intent = this.questions_list[index].ExpectedIntent;\n      this.selected_question_index = index;\n      for (let i = 0; i < this.current_selected_intent_questions.length; i++) {\n        this.current_selected_intent_questions[\n          i\n        ].intent = `${this.company_id}_${this.current_selected_intent}`;\n      }\n      // $(\"#myModal\").modal(\"show\");\n    },\n    add_question() {\n      this.current_selected_intent_questions.unshift({\n        question: null,\n        intent: `${this.company_id}_${this.current_selected_intent}`,\n      });\n    },\n    delete_question(index) {\n      if (this.current_selected_intent_questions.length > 1) {\n        this.current_selected_intent_questions.splice(index, 1);\n      } else {\n        swal({\n          type: \"warning\",\n          text: \"Atleast One Quesiton has to be Added\",\n          toast: true,\n          position: \"top-right\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n      }\n    },\n    get_intents_list() {\n      axios\n        .post(\n          api_calls.get_unanswered_url(),\n          {\n            companyid: this.company_id,\n            companyname: this.company_name,\n            isDropdown: \"True\",\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          for (var i in response.data[0]) {\n            this.intent_list.push(\n              response.data[0][i].replace(this.company_id + \"_\", \"\")\n            );\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    save_questions_for_intent() {\n      if (Boolean(this.selected_question_index)) {\n        this.current_selected_intent_questions.push({\n          question: this.questions_list[this.selected_question_index].Question,\n          intent: `${this.company_id}_${this.current_selected_intent}`,\n        });\n      }\n      let questions_list = this.current_selected_intent_questions.filter(\n        (question) => {\n          return Boolean(question.question);\n        }\n      );\n      $(\"#myModal\").modal(\"hide\");\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.add_question_url(),\n          {\n            edit_intent: false,\n            companyname: this.company_name,\n            companyid: this.company_id,\n            new_question_data: questions_list,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          this.initialize_questions_for_intent();\n          if (response.data == \"Internal Server Error\") {\n            Swal({\n              type: \"error\",\n              text: \"There was an internal server error. Please try again.\",\n              timer: 2500,\n            });\n          } else if (response.data.status == \"Success\") {\n            Swal({\n              type: \"success\",\n              text: \"Your question has been added successfully\",\n              allowOutsideClick: false,\n              allowEscapeKey: false,\n              timer: 2500,\n            }).then((result) => {\n              if (result.value) {\n                this.get_questions_list();\n              }\n            });\n          } else if (response.data.status == \"Failure\") {\n            Swal({\n              type: \"warning\",\n              text: \"The questions already exist.\",\n              timer: 2000,\n            });\n          } else if (response.data.status == \"Error\") {\n            Swal({\n              type: \"error\",\n              text: \"There was an Internal Server Error. Please Try Again.\",\n              timer: 2500,\n            });\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          } else {\n            Swal({\n              type: \"error\",\n              text: \"There was an Internal Server Error. Please Try Again.\",\n              timer: 2500,\n            });\n          }\n        });\n    },\n    initialize_questions_for_intent() {\n      this.current_selected_intent_questions = [\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n        {\n          question: null,\n        },\n      ];\n    },\n    download_sample() {\n      axios\n        .post(\n          api_calls.question_intent_csv(),\n          {\n            companyname: this.company_name,\n            companyid: this.company_id,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          // window.open(response.data.CSV_URL, \"_blank\");\n          var a = window.document.createElement(\"a\");\n          a.href = response.data.CSV_URL;\n          a.download - true;\n          document.body.appendChild(a);\n          a.click();\n          document.body.removeChild(a);\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    clear_file_details() {\n      this.file_label = \"Choose file\";\n      this.file_content = \"\";\n      document.getElementById(\"inputGroupFile01\").value = \"\";\n    },\n    fileinput() {\n      this.file_label = event.target.files[0].name;\n      // var file_name = this.companyname + \"IntentFile.csv\";\n      // if (this.file_label != file_name) {\n      //   Swal({\n      //     type: \"error\",\n      //     text:\n      //       \"Users need to download the Intent File from 'Upload CSV Files' pop-up. Changes to this file will be accepted by the system.\",\n      //   });\n      //   this.file_label = \"Choose file\";\n      // } else {\n      this.file_content = event.target.files[0];\n      // }\n    },\n    file_submit() {\n      event.preventDefault();\n      var user_details = {\n        email: this.$session.get(\"UserInformation\").email,\n        token: this.$session.get(\"UserInformation\").tokens,\n        companyname: this.company_name,\n        companyid: this.company_id,\n        license_key: this.$session.get(\"UserInformation\").license_key,\n      };\n      var json = JSON.stringify(user_details);\n      var blob = new Blob([json], {\n        type: \"application/json\",\n      });\n      if (this.file_label == \"Choose file\") {\n      } else {\n        const fd = new FormData();\n        fd.append(\n          \"file\",\n          this.file_content,\n          this.company_name + \"QuestionsFile.csv\"\n        );\n        fd.append(\"json\", blob);\n        $(\"#file_upload\").modal(\"hide\");\n        this.spinnerOn = true;\n        axios\n          .post(api_calls.test_intent_model(), fd, {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          })\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data.Msg == \"Results would be available soon\") {\n              swal({\n                title: \"Results would be available soon\",\n                type: \"success\",\n                timer: 2500,\n              }).then((result) => {\n                if (result.value) {\n                  // $('#file_upload').modal('hide');\n                  // this.$router.go();\n                  // this.load_questions_response();\n                }\n              });\n            } else {\n              swal({\n                title: \"Some Error Occurred\",\n                type: \"error\",\n                timer: 2000,\n              }).then((result) => {\n                // $('#file_upload').modal('hide');\n                this.file_label = \"Choose file\";\n                document.getElementById(\"inputGroupFile01\").value = \"\";\n                this.load_questions_response();\n              });\n            }\n            // $(\"#file_upload\").modal(\"hide\");\n          })\n          .catch((e) => {\n            // console.log(e);\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              Swal({\n                title: \"Some Error Occurred\",\n                type: \"error\",\n                timer: 2000,\n              }).then((result) => {\n                // $('#file_upload').modal('hide');\n                this.file_label = \"Choose file\";\n                document.getElementById(\"inputGroupFile01\").value = \"\";\n                this.load_questions_response();\n              });\n            }\n          });\n      }\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n        event.preventDefault();\n      } else {\n        if (page == \"...s\") {\n          this.page_no = Math.ceil((1 + this.page_no) / 2);\n        } else if (page == \"...l\") {\n          this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n        } else {\n          this.page_no = page;\n        }\n        this.spinnerOn = true;\n        this.get_questions_list();\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    toggle() {\n      // this.$fullscreen.toggle((document.body), {\n      this.$fullscreen.toggle(this.$el.querySelector(\".dash-cont\"), {\n        wrap: false,\n        callback: this.fullscreenChange,\n      });\n    },\n    fullscreenChange(fullscreen) {\n      this.fullscreen = fullscreen;\n    },\n    train_and_test_model() {\n      if(!this.disable_btn_expired){\n      Swal({\n        title: \"Are You Sure?\",\n        text: \"You want to Train & Test The Model?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\",\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.train_intent_model(),\n              {\n                email: this.$session.get(\"UserInformation\").email,\n                token: this.$session.get(\"UserInformation\").tokens,\n                company_name: this.company_name,\n                company_id: this.company_id,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                test_model: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.want_status = true;\n              this.$root.$emit(\"want_model_status\",this.want_status);\n              this.check_intent_model_status();\n              if (response.data.MSG_CODE == 4046) {\n                swal({\n                  title: \"Results would be available soon\",\n                  text: response.data.MSG,\n                  type: \"success\",\n                  timer: 3500,\n                }).then((result) => {\n                  if (result.value) {\n                    // $('#file_upload').modal('hide');\n                    // this.$router.go();\n                    // this.load_questions_response();\n                  }\n                });\n              } else if (response.data.MSG_CODE === 1034) {\n                swal({\n                  title: \"Some Error Occurred\",\n                  text: response.data.MSG,\n                  type: \"error\",\n                  timer: 3000,\n                }).then((result) => {\n                  if (result.value) {\n                    // $('#file_upload').modal('hide');\n                    // this.$router.go();\n                    // this.load_questions_response();\n                  }\n                });\n              } else {\n                swal({\n                  title: \"Some Error Occurred\",\n                  type: \"error\",\n                  timer: 2000,\n                }).then((result) => {\n                  // $('#file_upload').modal('hide');\n                  this.file_label = \"Choose file\";\n                  document.getElementById(\"inputGroupFile01\").value = \"\";\n                  this.load_questions_response();\n                });\n              }\n              // $(\"#file_upload\").modal(\"hide\");\n            })\n            .catch((e) => {\n              // console.log(e);\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              } else {\n                Swal({\n                  title: \"Some Error Occurred\",\n                  type: \"error\",\n                  timer: 2000,\n                }).then((result) => {\n                  // $('#file_upload').modal('hide');\n                  this.file_label = \"Choose file\";\n                  document.getElementById(\"inputGroupFile01\").value = \"\";\n                  this.load_questions_response();\n                });\n              }\n            });\n        }\n      });}else{\n        this.show_subscription_expired_swal()\n      }\n    },\n  },\n  watch: {\n    filter_status(){\n      if(this.filter_status ===  'Failure'){\n        this.selected_statuslist = [\"Failure\"];\n      }else{\n        this.selected_statuslist = [\"Success\"];\n      }\n  \n    },\n    selected_statuslist(newVal, oldVal) {\n      if (newVal.length === 0) {\n        setTimeout(() => {\n          this.selected_statuslist = [\"Success\", \"Failure\"];\n          this.get_questions_list();\n        }, 200);\n      } else {\n        this.get_questions_list();\n      }\n    },\n    current_selected_intent(newVal, oldVal) {\n      if (Boolean(oldVal) && Boolean(newVal)) {\n        for (\n          let i = 0, n = this.current_selected_intent_questions.length;\n          i < n;\n          i++\n        ) {\n          this.current_selected_intent_questions[\n            i\n          ].intent = `${this.company_id}_${this.current_selected_intent}`;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.radio label {\n    margin-bottom: 0.3rem !important;\n}\n.dash-wrap .dropdown-toggle::after {\n  display: none;\n}\ni[aria-expanded=\"true\"] {\n  color: #192765;\n  text-align: center;\n}\n.dash-modal .close {\n  top: 0px !important;\n  position: inherit !important;\n}\ni:hover {\n  color: #192765;\n}\n.fa-expand:hover {\n  transform: scale(1.2);\n}\n.fa-compress:hover {\n  transform: scale(1.2);\n}\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  /* display: inline-block; */\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n.table thead th {\n  vertical-align: bottom;\n  border-bottom: 0px;\n}\n.fullscreen {\n  overflow: auto;\n}\n</style>\n"]}]}