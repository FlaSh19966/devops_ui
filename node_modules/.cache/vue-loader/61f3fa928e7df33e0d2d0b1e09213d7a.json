{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/HR Management/JobPosition.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/HR Management/JobPosition.vue","mtime":1655466542524},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkpvYlBvc2l0aW9uIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVuY2lsX3N2ZzoKICAgICAgICAnIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUuNTQ2IiBoZWlnaHQ9IjE1LjQ2MSIgdmlld0JveD0iMCAwIDE1LjU0NiAxNS40NjEiPjxkZWZzPjxzdHlsZT4uYXtmaWxsOiM5ZTllOWU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDcuODg4IC0zNTYuNzY5KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik03NTkuNDE2LDM1Ni43NjlhMi4zNTgsMi4zNTgsMCwwLDEsMS43NzcuNjYyYy41MzQuNTEzLDEuMDcyLDEuMDI1LDEuNTY3LDEuNTc1YTIuMywyLjMsMCwwLDEtLjA3MSwzLjMyNWMtMi43MzYsMi43Ni01LjQ5NCw1LjUtOC4yMzgsOC4yNTFhMS4zODEsMS4zODEsMCwwLDEtLjc1OC4yODhjLS43MTkuMTc0LTEuNDI5LjM3OS0yLjE0NC41NzItLjkzMi4yNTEtMS44NjIuNS0yLjc5NS43NTEtLjYuMTU4LS45ODktLjIxMy0uODMyLS44MDdxLjY4OS0yLjU5NSwxLjQwNi01LjE4MmExLjE2NCwxLjE2NCwwLDAsMSwuMjg5LS40ODdxNC4wOTEtNC4xMDcsOC4yLTguMkEyLjI2NSwyLjI2NSwwLDAsMSw3NTkuNDE2LDM1Ni43NjlabS0xLjk4OSwyLjk1Ni02LjU0LDYuNTM4LDMuMDI1LDMuMDI0LDYuNTM4LTYuNTM3Wm00LjAyMywyLjE2NWMuMTE4LS4xMzUuMjI1LS4yNjkuMzQzLS4zOTJhMS4xMzQsMS4xMzQsMCwwLDAsMC0xLjczNGMtLjQ2LS40NjYtLjkyNi0uOTI1LTEuMzg4LTEuMzlhMS4xNjYsMS4xNjYsMCwwLDAtLjg2MS0uMzY4Yy0uNTc4LDAtLjg4MS40LTEuMjE0Ljc2Wm0tMTIuMDg0LDguODYzLDMuMi0uODYzLTIuMzM3LTIuMzMxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTgxMy45NDIsNDIyLjZsLS43ODktLjgsMy44MjEtMy44MTkuNzg0LjhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTkuNjQ4IC01NS45NDcpIi8+PC9nPjwvc3ZnPicsCiAgICAgIHBvaW50X2NpcmNsZV9zdmc6CiAgICAgICAgJzxzdmcgZGF0YS12LThjYjhkOWZlPSIiIGRhdGEtdG9vbHRpcD0idG9vbHRpcCIgZGF0YS1wbGFjZW1lbnQ9ImJvdHRvbSIgdGl0bGU9IiIgZGF0YS10b2dnbGU9Im1vZGFsIiBkYXRhLXRhcmdldD0iI2NvbmZpZ2FwaW1vZGFsNCIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgaGVpZ2h0PSIyNCIgd2lkdGg9IjI0IiB2ZXJzaW9uPSIxLjEiIGRhdGEtb3JpZ2luYWwtdGl0bGU9IkhlbHAiPjxnIGRhdGEtdi04Y2I4ZDlmZT0iIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0xMDI4LjQpIj48cGF0aCBkYXRhLXYtOGNiOGQ5ZmU9IiIgZD0ibTIyIDEyYzAgNS41MjMtNC40NzcgMTAtMTAgMTAtNS41MjI4IDAtMTAtNC40NzctMTAtMTAgMC01LjUyMjggNC40NzcyLTEwIDEwLTEwIDUuNTIzIDAgMTAgNC40NzcyIDEwIDEweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxMDI5LjQpIiBmaWxsPSIjMjk4MGI5Ij48L3BhdGg+PHBhdGggZGF0YS12LThjYjhkOWZlPSIiIGQ9Im0yMiAxMmMwIDUuNTIzLTQuNDc3IDEwLTEwIDEwLTUuNTIyOCAwLTEwLTQuNDc3LTEwLTEwIDAtNS41MjI4IDQuNDc3Mi0xMCAxMC0xMCA1LjUyMyAwIDEwIDQuNDc3MiAxMCAxMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMTAyOC40KSIgZmlsbD0iIzI3MzY3OSI+PC9wYXRoPjwvZz48L3N2Zz4nLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB0b3RhbF9wYWdlczogbnVsbCwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDE1LAogICAgICBwYWdlX2FycmF5OiBbXSwKICAgICAgaXNWaXNpYmxlU2VhcmNoQ2xlYXI6IGZhbHNlLAogICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICBudW1iZXJfb2Zfcm93czogbnVsbCwKICAgICAgc2VhcmNoX25hbWU6ICIiLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgY2hlY2tlZF9saXN0OiBbXSwKICAgICAgY3VycmVudF9zZWxlY3RlZF9wb3NpdGlvbjogIiIsCiAgICAgIGN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb25faW5kZXg6IDAsCiAgICAgIGN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb25faGlnaGxpZ2h0OiAiIiwKICAgICAgc2VsZWN0ZWRfcG9zaXRpb25fZm9ybV9saXN0OiBbIiJdLAogICAgICBzZWxlY3RlZF9wb3NpdGlvbl9kZXNjcmlwdGlvbjogIiIsCiAgICAgIGlzRWRpdFBvc2l0aW9uOiBmYWxzZSwKICAgICAgYWRkX2Zvcm1fbGlzdDogW3sga2V5X25hbWU6ICJDYW5kaWRhdGUgRW1haWwiLCB0eXBlOiAiZW1haWwiIH1dLAogICAgICBuZXdfcG9zaXRpb25fbmFtZTogIiIsCiAgICAgIG5ld19wb3NpdGlvbl9kZXNjcmlwdGlvbjogIiIsCiAgICAgIGlzX2hpcmluZzogZmFsc2UsCiAgICAgIGpvYl9wb3NpdGlvbnM6IFtdLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWFyY2hfbmFtZSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoX25hbWUgPT09ICIiKSB7CiAgICAgICAgdGhpcy5nZXRfcG9zaXRpb25zKCk7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoX25hbWUgIT09ICIiKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRfcG9zaXRpb25zKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYWxsc2VhcmNoKCkgewogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHsKICAgICAgICB0aGlzLnNlYXJjaF9wb3NpdGlvbigpOwogICAgICB9CiAgICB9LAogICAgY2xlYXJfc2VhcmNoX25hbWUoKSB7CiAgICAgIHRoaXMuc2VhcmNoX25hbWUgPSAiIjsKICAgIH0sCiAgICBzZWFyY2hfcG9zaXRpb24gKCkgewogICAgICBpZiAodGhpcy5zZWFyY2hfbmFtZSAhPSAiIikgewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGFwaV9jYWxscy5ocl9wb3NpdGlvbl9kZXRhaWxzKCksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBpc19zZWFyY2g6IHRydWUsCiAgICAgICAgICAgICAgc2VhcmNoX2tleTogdGhpcy5zZWFyY2hfbmFtZSwKICAgICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgICBwYWdlX25vOiAxLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICIiICYmCiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJgogICAgICAgICAgICByZXNwb25zZS5kYXRhICE9ICJJbnRlcm5hbCBzZXJ2ZXIgRXJyb3IiICYmCiAgICAgICAgICAgICghcmVzcG9uc2UuZGF0YS5lcnJvcnMpCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwoCiAgICAgICAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgdGhpcy5qb2JfcG9zaXRpb25zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgIHRoaXMuc2hvd19wb3NpdGlvbnMoMCk7CiAgICAgICAgICAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICJObyBSZXN1bHRzIEZvdW5kIikgCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6ICJObyBSZXN1bHRzIEZvdW5kIiwKICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5nZXRfcG9zaXRpb25zKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6ICJFbnRlciBwcm9wZXIgZGF0YSBmb3Igc2VhcmNoaW5nIiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlX2hpcmluZ19zdGF0dXMgKCkgewogICAgICBpZiAodGhpcy5pc19oaXJpbmcpIHsKICAgICAgICB0aGlzLmlzX2hpcmluZyA9IGZhbHNlOwogICAgICB9ZWxzZSB7CiAgICAgICAgdGhpcy5pc19oaXJpbmcgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWRfcG9zaXRpb24gKHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgaWYodmFsdWUgPT0gImFsbCIpewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmpvYl9wb3NpdGlvbnMpIHsKICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRoaXMuam9iX3Bvc2l0aW9uc1tpXS5Qb3NpdGlvbk5hbWUpOwogICAgICAgICAgfQogICAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgJCgiIyIrW2ldKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgICQoIiNzZWxlY3RhbGwiKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfWVsc2UgaWYgKCFldmVudC50YXJnZXQuY2hlY2tlZCl7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2hlY2tlZCl7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkKSB7CiAgICAgICAgICAgIHNlbGVjdGFsbC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuY2hlY2tlZF9saXN0LmZpbHRlcigoUG9zaXRpb25OYW1lKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBQb3NpdGlvbk5hbWUgIT0gUG9zaXRpb25OYW1lOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hlY2tlZF9saXN0KTsKICAgIH0sCiAgICBzaG93X3Bvc2l0aW9ucyhpbmRleCkgewogICAgICB0aGlzLmlzRWRpdFBvc2l0aW9uID0gZmFsc2U7CiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9wb3NpdGlvbiA9IHRoaXMuam9iX3Bvc2l0aW9uc1tpbmRleF07CiAgICAgIHRoaXMub2xkX3Bvc2l0aW9uX25hbWUgPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb24uUG9zaXRpb25OYW1lOwogICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb25faGlnaGxpZ2h0ID0gdGhpcy5jdXJyZW50X3NlbGVjdGVkX3Bvc2l0aW9uLlBvc2l0aW9uTmFtZTsKICAgICAgdGhpcy5zZWxlY3RlZF9wb3NpdGlvbl9kZXNjcmlwdGlvbiA9IHRoaXMuY3VycmVudF9zZWxlY3RlZF9wb3NpdGlvbi5Qb3NpdGlvbkRldGFpbHMucG9zaXRpb25fZGVzY3JpcHRpb247CiAgICAgIHRoaXMuc2VsZWN0ZWRfcG9zaXRpb25fZm9ybV9saXN0ID0gdGhpcy5jdXJyZW50X3NlbGVjdGVkX3Bvc2l0aW9uLlBvc2l0aW9uRGV0YWlscy5yZXF1aXJlbWVudF9mb3JtOwogICAgICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb25faW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5pc19oaXJpbmcgPSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb24uaXNfaGlyaW5nOwogICAgfSwKICAgIGRlbGV0ZV9wb3NpdGlvbigpIHsKICAgICAgY29uc29sZS5sb2coIkRlbGV0ZSIsIHRoaXMuY2hlY2tlZF9saXN0KTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy5ocl9wb3NpdGlvbl9kZXRhaWxzKCksCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgaXNfZGVsZXRlOiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbl9saXN0OiB0aGlzLmNoZWNrZWRfbGlzdAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgdGhpcy5nZXRfcG9zaXRpb25zKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRfcG9zaXRpb25zKCkgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMuaHJfcG9zaXRpb25fZGV0YWlscygpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGlzX2dldDogdHJ1ZSwKICAgICAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5qb2JfcG9zaXRpb25zID0gW107CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSAiIiAmJgogICAgICAgICAgICByZXNwb25zZS5kYXRhICE9IG51bGwgJiYKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSAiSW50ZXJuYWwgc2VydmVyIEVycm9yIiAmJgogICAgICAgICAgICAoIXJlc3BvbnNlLmRhdGEuZXJyb3JzKQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKAogICAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMuam9iX3Bvc2l0aW9ucyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgdGhpcy5zaG93X3Bvc2l0aW9ucygwKTsKICAgICAgICAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmpvYl9wb3NpdGlvbnMgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZWRpdF9wb3NpdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb25faGlnaGxpZ2h0ID09ICIiIHx8IHRoaXMuc2VsZWN0ZWRfcG9zaXRpb25fZGVzY3JpcHRpb24gPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHRleHQ6ICJGaWVsZHMgY2Fubm90IGJlIGVtcHR5IiwKICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgdGVtcCA9IHsKICAgICAgICByZXF1aXJlbWVudF9mb3JtOiB0aGlzLnNlbGVjdGVkX3Bvc2l0aW9uX2Zvcm1fbGlzdCwKICAgICAgICBwb3NpdGlvbl9kZXNjcmlwdGlvbjogdGhpcy5zZWxlY3RlZF9wb3NpdGlvbl9kZXNjcmlwdGlvbgogICAgICB9CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMuaHJfcG9zaXRpb25fZGV0YWlscygpLAogICAgICAgICAgewogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgIHBvc2l0aW9uX25hbWU6IHRoaXMuY3VycmVudF9zZWxlY3RlZF9wb3NpdGlvbl9oaWdobGlnaHQsCiAgICAgICAgICAgIG9sZF9wb3NpdGlvbl9uYW1lOiB0aGlzLm9sZF9wb3NpdGlvbl9uYW1lLAogICAgICAgICAgICBpc19lZGl0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbl9kZXRhaWxzOiB0ZW1wLAogICAgICAgICAgICBpc19oaXJpbmc6IHRoaXMuaXNfaGlyaW5nCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IiAKICAgICAgICAgICkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGV4dDogIlBvc2l0aW9uIEVkaXRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFVuU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJTb21lIGVycm9yIG9jY3VycmVkIiwKICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuaXNFZGl0UG9zaXRpb24gPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZ2V0X3Bvc2l0aW9ucygpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlX3Bvc2l0aW9uKCkgewogICAgICBpZiAodGhpcy5uZXdfcG9zaXRpb25fbmFtZSA9PSAiIiB8fCB0aGlzLm5ld19wb3NpdGlvbl9kZXNjcmlwdGlvbiA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgdGV4dDogIkZpZWxkcyBjYW5ub3QgYmUgZW1wdHkiLAogICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciB0ZW1wID0gewogICAgICAgIHJlcXVpcmVtZW50X2Zvcm06IHRoaXMuYWRkX2Zvcm1fbGlzdCwKICAgICAgICBwb3NpdGlvbl9kZXNjcmlwdGlvbjogdGhpcy5uZXdfcG9zaXRpb25fZGVzY3JpcHRpb24KICAgICAgfQogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLmhyX3Bvc2l0aW9uX2RldGFpbHMoKSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgcG9zaXRpb25fbmFtZTogdGhpcy5uZXdfcG9zaXRpb25fbmFtZSwKICAgICAgICAgICAgaXNfc2F2ZTogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb25fZGV0YWlsczogdGVtcCwKICAgICAgICAgICAgaXNfaGlyaW5nOiB0aGlzLmlzX2hpcmluZwogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoIHJlc3BvbnNlLmRhdGEuTVNHID09ICdEb2N1bWVudCBpbnNlcnRlZCcgJiYKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSAiIiAmJgogICAgICAgICAgICByZXNwb25zZS5kYXRhICE9IG51bGwgJiYKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YSAhPSAiSW50ZXJuYWwgc2VydmVyIEVycm9yIikgCiAgICAgICAgICB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0ZXh0OiAiSm9iIFBvc2l0aW9uIENyZWF0ZWQiLAogICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEucGFnZWNvdW50OwogICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKAogICAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlCiAgICAgICAgICAgICk7CiAgICAgICAgICAgICQoIiNjcmVhdGVfcG9zaXRpb25fbW9kZWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgICB0aGlzLmdldF9wb3NpdGlvbnMoKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJQb3NpdGlvbiBhbHJlYWR5IGV4aXN0cyIpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIHRleHQ6ICJQb3NpdGlvbiBhbHJlYWR5IGV4aXN0cyIsCiAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgYWRkX29wdGlvbihpbmRleCkgewogICAgICBpZiAoIXRoaXMuaXNFZGl0UG9zaXRpb24pIHsKICAgICAgICB0aGlzLmFkZF9mb3JtX2xpc3RbaW5kZXhdLm9wdGlvbnMucHVzaCgiIik7CiAgICAgIH1lbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdGVkX3Bvc2l0aW9uX2Zvcm1fbGlzdFtpbmRleF0ub3B0aW9ucy5wdXNoKCIiKTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZV9vcHRpb24oaW5kZXgsIG51bSl7CiAgICAgIGlmICghdGhpcy5pc0VkaXRQb3NpdGlvbikgewogICAgICAgIHRoaXMuYWRkX2Zvcm1fbGlzdFtpbmRleF0ub3B0aW9ucy5zcGxpY2UobnVtLCAxKTsKICAgICAgfWVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRfcG9zaXRpb25fZm9ybV9saXN0W2luZGV4XS5vcHRpb25zLnNwbGljZShudW0sIDEpOwogICAgICB9CiAgICB9LAogICAgYWRkX3RvX2Zvcm1fbGlzdChvcHRpb24sIGlub3J0eXApIHsKICAgICAgaWYgKCF0aGlzLmlzRWRpdFBvc2l0aW9uKSB7CiAgICAgICAgaWYgKG9wdGlvbiA9PSAiYWRkIikgewogICAgICAgICAgaWYgKGlub3J0eXAgPT0gInRleHQiKSB7CiAgICAgICAgICAgIHRoaXMuYWRkX2Zvcm1fbGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXlfbmFtZTogIiIsCiAgICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpbm9ydHlwID09ICJudW1iZXIiKSB7CiAgICAgICAgICAgIHRoaXMuYWRkX2Zvcm1fbGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXlfbmFtZTogIiIsCiAgICAgICAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlub3J0eXAgPT0gImNob2ljZSIpIHsKICAgICAgICAgICAgdGhpcy5hZGRfZm9ybV9saXN0LnB1c2goewogICAgICAgICAgICAgIGtleV9uYW1lOiAiIiwKICAgICAgICAgICAgICB0eXBlOiAiY2hvaWNlIiwKICAgICAgICAgICAgICBvcHRpb25zOiBbXSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaW5vcnR5cCA9PSAibXVsdGljaG9pY2UiKSB7CiAgICAgICAgICAgIHRoaXMuYWRkX2Zvcm1fbGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXlfbmFtZTogIiIsCiAgICAgICAgICAgICAgdHlwZTogIm11bHRpY2hvaWNlIiwKICAgICAgICAgICAgICBvcHRpb25zOiBbXSwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaW5vcnR5cCA9PSAiZmlsZSIpIHsKICAgICAgICAgICAgdGhpcy5hZGRfZm9ybV9saXN0LnB1c2goewogICAgICAgICAgICAgIGtleV9uYW1lOiAiIiwKICAgICAgICAgICAgICB0eXBlOiAiZmlsZSIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09ICJyZW1vdmUiKSB7CiAgICAgICAgICB0aGlzLmFkZF9mb3JtX2xpc3Quc3BsaWNlKGlub3J0eXAsIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAob3B0aW9uID09ICJhZGQiKSB7CiAgICAgICAgICBpZiAoaW5vcnR5cCA9PSAidGV4dCIpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9wb3NpdGlvbl9mb3JtX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAga2V5X25hbWU6ICIiLAogICAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaW5vcnR5cCA9PSAibnVtYmVyIikgewogICAgICAgICAgICB0aGlzLnNlbGVjdGVkX3Bvc2l0aW9uX2Zvcm1fbGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXlfbmFtZTogIiIsCiAgICAgICAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlub3J0eXAgPT0gImNob2ljZSIpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9wb3NpdGlvbl9mb3JtX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAga2V5X25hbWU6ICIiLAogICAgICAgICAgICAgIHR5cGU6ICJjaG9pY2UiLAogICAgICAgICAgICAgIG9wdGlvbnM6IFtdLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChpbm9ydHlwID09ICJtdWx0aWNob2ljZSIpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9wb3NpdGlvbl9mb3JtX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAga2V5X25hbWU6ICIiLAogICAgICAgICAgICAgIHR5cGU6ICJtdWx0aWNob2ljZSIsCiAgICAgICAgICAgICAgb3B0aW9uczogW10sCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlub3J0eXAgPT0gImZpbGUiKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfcG9zaXRpb25fZm9ybV9saXN0LnB1c2goewogICAgICAgICAgICAgIGtleV9uYW1lOiAiIiwKICAgICAgICAgICAgICB0eXBlOiAiZmlsZSIsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAob3B0aW9uID09ICJyZW1vdmUiKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkX3Bvc2l0aW9uX2Zvcm1fbGlzdC5zcGxpY2UoaW5vcnR5cCwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkX3Bvc2l0aW9uX29wZW5fbW9kYWwoKSB7CiAgICAgIHRoaXMuaXNFZGl0UG9zaXRpb24gPSBmYWxzZTsKICAgICAgJCgiI2NyZWF0ZV9wb3NpdGlvbl9tb2RlbCIpLm1vZGFsKCJzaG93Iik7CiAgICB9LAogICAgZWRpdF9wb3NpdGlvbl9kZXRhaWxzKCkgewogICAgICBpZiAoIXRoaXMuaXNFZGl0UG9zaXRpb24pIHsKICAgICAgICB0aGlzLmlzRWRpdFBvc2l0aW9uID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzRWRpdFBvc2l0aW9uID0gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuOwogICAgfSwKICAgIGVtcHR5X3ZhcmlhYmxlKCkgewogICAgICB0aGlzLm5ld19wb3NpdGlvbl9uYW1lID0gIiI7CiAgICAgIHRoaXMubmV3X3Bvc2l0aW9uX2Rlc2NyaXB0aW9uID0gIiI7CiAgICAgIHRoaXMuYWRkX2Zvcm1fbGlzdCA9IFtdOwogICAgICB0aGlzLmlzRWRpdFBvc2l0aW9uID0gZmFsc2U7CiAgICAgICQoIiNjcmVhdGVfcG9zaXRpb25fbW9kZWwiKS5tb2RhbCgiaGlkZSIpOwogICAgfSwKICAgIHBhZ2VfcmVxdWlyZShwYWdlKSB7CiAgICAgIGlmIChwYWdlID09IDAgfHwgcGFnZSA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkgewogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnNlYXJjaF9uYW1lID09ICIiKSB7CiAgICAgICAgICBpZiAocGFnZSA9PSAiLi4ucyIpIHsKICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gIi4uLmwiKSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKHRoaXMudG90YWxfcGFnZXMgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2U7CiAgICAgICAgfQogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICBhcGlfY2FsbHMuaHJfcG9zaXRpb25fZGV0YWlscygpLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgICBwZXJfcGFnZTogMTAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmpvYl9wb3NpdGlvbnMgPSBbXTsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gIiIgJiYKICAgICAgICAgICAgICByZXNwb25zZS5kYXRhICE9IG51bGwgJiYKICAgICAgICAgICAgICByZXNwb25zZS5kYXRhICE9ICJJbnRlcm5hbCBzZXJ2ZXIgRXJyb3IiICYmCiAgICAgICAgICAgICAgKCFyZXNwb25zZS5kYXRhLmVycm9ycykKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCgKICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB0aGlzLmpvYl9wb3NpdGlvbnMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgdGhpcy5zaG93X3Bvc2l0aW9ucygwKTsKICAgICAgICAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmpvYl9wb3NpdGlvbnMgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfWVsc2UgewogICAgICAgICAgaWYgKHBhZ2UgPT0gIi4uLnMiKSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKDEgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgfSBlbHNlIGlmIChwYWdlID09ICIuLi5sIikgewogICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlOwogICAgICAgIH0KICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLmhyX3Bvc2l0aW9uX2RldGFpbHMoKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgIGlzX3NlYXJjaDogdHJ1ZSwKICAgICAgICAgICAgICBzZWFyY2hfa2V5OiB0aGlzLnNlYXJjaF9uYW1lLAogICAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICJEQiBPUEVSQVRJT04gVU5TVUNDRVNTRlVMIikgewogICAgICAgICAgICAgICAgdGhpcy5qb2JfcG9zaXRpb25zID0gW107CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuam9iX3Bvc2l0aW9ucyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICBpZiAodGhpcy5qb2JfcG9zaXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF9wb3NpdGlvbiA9IHRoaXMuam9iX3Bvc2l0aW9uc1swXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5pc0VkaXRQb3NpdGlvbiA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgfQogICAgfSwKICAgIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKICAgICAgaWYgKHRoaXMudG90YWxfcGFnZXMgPD0gNykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gMSkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzKSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b3RhbF9wYWdlcyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA8PSA0KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA+PSB0aGlzLnRvdGFsX3BhZ2VzIC0gNCkgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSAzOyBpIDw9IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9CiAgICB9LAogICAgcGFnaW5hdGlvbl9jbGFzcyhpbmRleCkgewogICAgICBpZiAoaW5kZXggPT0gdGhpcy5wYWdlX25vKSB7CiAgICAgICAgcmV0dXJuICIgYWN0aXZlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19jdXJyZW50X3Bvc2l0aW9uKGluZGV4KSB7CiAgICAgIHZhciByZXR1cm5fdmFyID0gIiI7CiAgICAgIGlmICh0aGlzLmpvYl9wb3NpdGlvbnNbaW5kZXhdLlBvc2l0aW9uTmFtZSA9PSB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRfcG9zaXRpb25faGlnaGxpZ2h0KSB7CiAgICAgICAgcmV0dXJuX3ZhciArPSAiY3VycmVudC1hY3RpdmUtcG9zaXRpb24iOwogICAgICB9CiAgICAgIHJldHVybiByZXR1cm5fdmFyOwogICAgfQogIH0sCn07Cg=="},null]}