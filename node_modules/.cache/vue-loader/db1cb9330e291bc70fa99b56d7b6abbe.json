{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Pages/Login.vue","mtime":1663910265474},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHNpZGViYXJpdGVtcyBmcm9tICIuLi9MYXlvdXQvU2lkZUJhckl0ZW0iOwppbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAidGltZXJzIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIGRhdGU6ICIiLAogICAgICAgIGxvZ2luX3NvdXJjZSA6ICJQT1JUQUwiLAogICAgICAgIHNzb19zb3VyY2UgOiBudWxsLAogICAgICB9LAogICAgICBvcGVuX21vZGFsOiBmYWxzZSwKICAgICAgZm9yZ290X3Bhc3N3b3JkX2VtYWlsOiAiIiwKICAgICAgaXNfbGFuZ3VhZ2U6IHRoaXMuJHNlc3Npb24uZ2V0KCJQcmVmZXJyZWRMYW5ndWFnZSIpLAogICAgICByZWdfZW1haWw6IC9eKFswLTlhLXpBLVpdKFstLlx3XSpbMC05YS16QS1aXSkqQChbMC05YS16QS1aXVstXHddKlswLTlhLXpBLVpdXC4pK1thLXpBLVpdezIsOX0pJC8sCiAgICAgIHNob3dfdmFsaWRhdGlvbl9zdHJpbmc6IGZhbHNlLAogICAgICBsb2dpbl90eXBlOiAiUG9ydGFsIiwKICAgICAgaXNfc3VwZXJfYWRtaW46IGZhbHNlLAogICAgICBvcGVuX2JvdF9hcGlfcmVzcG9uc2VfcmVjZWl2ZWQ6IGZhbHNlLAogICAgICBsb2dpbl9idXR0b25fc3Bpbm5lcjogZmFsc2UsCiAgICAgIGlzX3N1Ym1pdHRpbmc6IGZhbHNlLAogICAgICBhbGxvd2VkX2F0dGVtcHRzX3JlbWFpbmluZzogbnVsbCwKICAgICAgaXNfdXNlcl9sb2NrZWQ6IGZhbHNlLAogICAgICB1c2VyX2xvY2tlZF9kYXRlX2FsbG93ZWQ6IG51bGwsCiAgICAgIG1haW5zcGlubmVyT246IGZhbHNlLAogICAgICBpc19mcmVlX3RyaWFsX2V4cGlyZSA6IGZhbHNlLAogICAgICAKICAgIH07CiAgfSwKICBiZWZvcmVDcmVhdGUoKSB7CiAgICBpZih0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikgJiYgQm9vbGVhbih0aGlzLiRyb3V0ZS5xdWVyeS5pc19zaG9waWZ5X2JpbGxpbmdfcmVkaXJlY3QpKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJEYXNoYm9hcmQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaXNfc2hvcGlmeV9iaWxsaW5nX3JlZGlyZWN0OiB0cnVlCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIGVsc2UgaWYgKAogICAgICB0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikgJiYKICAgICAgIShCb29sZWFuKHRoaXMuJHJvdXRlLnF1ZXJ5LmVtYWlsKSAmJiBCb29sZWFuKHRoaXMuJHJvdXRlLnF1ZXJ5LnRva2VuKSkKICAgICkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kYXNoYm9hcmQiKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsZXQgbF90eXBlID0gQ29va2llcy5nZXQoImxvZ2luX3R5cGUiKTsKICAgIGlmICgobF90eXBlICE9PSB1bmRlZmluZWQpICYmIChsX3R5cGUgIT09ICJ1bmRlZmluZWQiKSApIHsKICAgICAgdGhpcy5sb2dpbl90eXBlID0gQ29va2llcy5nZXQoImxvZ2luX3R5cGUiKTsKICAgIH0gCiAgICBpZih0aGlzLmxvZ2luX3R5cGUgPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMubG9naW5fdHlwZSA9ICJQb3J0YWwiCiAgICB9CiAgfSwKICBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBlbWFpbCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmVtYWlsOwogICAgdmFyIHRva2VuX2lkID0gdGhpcy4kcm91dGUucXVlcnkudG9rZW47CiAgICBpZiAoZW1haWwgJiYgdG9rZW5faWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoImxvZ2luIik7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnZhbGlkYXRlX2xvZ2luKCksIHsKICAgICAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgICAgIHRva2VuOiB0b2tlbl9pZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkVtYWlsIGFscmVhZHkgdmVyaWZpZWQiKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICB0aGlzLnRsdCgnbGlua19leHBpcmVkX21zZycsICdjb2RlJyksCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJFbWFpbCB2ZXJpZmljYXRpb24gc3VjY2Vzc2Z1bCIpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICB0aGlzLnRsdCgnbG9naW5fZW1haWxfdmVyaWZ5X3N1Y2Nlc3MnLCAnY29kZScpLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVXNlciBEb2Vzbid0IEV4aXN0IikgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnbG9naW5fdXNlcl9ub3RfZXhpc3QnLCAnY29kZScpLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDIwMDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZW1haWxfdmFsaWRhdGUoKSB7CiAgICAgIGlmICh0aGlzLnJlZ19lbWFpbC50ZXN0KHRoaXMuZm9yZ290X3Bhc3N3b3JkX2VtYWlsKSkgewogICAgICAgIHRoaXMuc2hvd192YWxpZGF0aW9uX3N0cmluZyA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd192YWxpZGF0aW9uX3N0cmluZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyAgdG9nZ2xlX2RvbWFpbihldmVudCkgewogICAgLy8gICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09ICJQb3J0YWwiKSB7CiAgICAvLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvbWFpbl9pbnB1dCIpLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAgIC8vICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQudmFsdWUgPT0gIkJvdCIpIHsKICAgIC8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG9tYWluX2lucHV0Iikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIC8vICAgfX0sCiAgICBjbGVhcl9maWVsZHMoKSB7CiAgICAgIHRoaXMuZm9yZ290X3Bhc3N3b3JkID0gIiI7CiAgICAgICQoIiN1c2VybW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICB0aGlzLnVzZXIuZW1haWwgPSAiIjsKICAgICAgdGhpcy51c2VyLnBhc3N3b3JkID0gIiI7CgogICAgfSwKICAgIGZvcmdvdF9wYXNzd29yZCgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKAogICAgICAgIHRoaXMuc2hvd192YWxpZGF0aW9uX3N0cmluZyA9PSBmYWxzZSAmJgogICAgICAgIHRoaXMuZm9yZ290X3Bhc3N3b3JkX2VtYWlsICE9ICIiCiAgICAgICkgewogICAgICAgIHN3YWwoewogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnbG9naW5fc3VibWl0X3lvdXJfZGV0YWlscycsICdjb2RlJyksCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdChhcGlfY2FsbHMuZm9yZ290X3Bhc3N3b3JkKCksIHsKICAgICAgICAgICAgZW1haWw6IHRoaXMuZm9yZ290X3Bhc3N3b3JkX2VtYWlsLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5pbmNsdWRlcygiZW1haWwgYWRkcmVzcyIpKSB7CiAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgncmVnaXN0ZXJlZF9lbWFpbF9jaGVjaycsICdjb2RlJyksCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkEgbWFpbCBoYXMgYmVlbiBzZW50IHRvIHlvdXIgZW1haWwiKSB7CiAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OgogICAgICAgICAgICAgICAgICB0aGlzLnRsdCgnbG9naW5fcmVzZXRfcGFzc3dvcmQnLCAnY29kZScpLAogICAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgJCgiI3VzZXJtb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnc29tZV9lcnJvcl9vY2N1cnJlZF9tc2cnLCAnY29kZScpLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgJCgiI3VzZXJtb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcGFzc3dvcmRfdG9nZ2xlKCkgewogICAgICB2YXIgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9ybV9wYXNzd29yZCIpOwogICAgICBpZiAocGFzc3dvcmQudHlwZSA9PSAidGV4dCIpIHsKICAgICAgICBwYXNzd29yZC50eXBlID0gInBhc3N3b3JkIjsKICAgICAgfSBlbHNlIGlmIChwYXNzd29yZC50eXBlID09ICJwYXNzd29yZCIpIHsKICAgICAgICBwYXNzd29yZC50eXBlID0gInRleHQiOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlKCkgewogICAgICB0aGlzLmlzX3N1Ym1pdHRpbmcgPSB0cnVlOwogICAgICBpZiAodGhpcy51c2VyLm5hbWUgPT0gIiIgfHwgdGhpcy51c2VyLnBhc3N3b3JkID09ICIiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2xvZ2luX2VudGVyX2VtYWlsX3B3ZF9tc2cnLCAnY29kZScpLAogICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc19zdWJtaXR0aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5sb2dpbl9idXR0b25fc3Bpbm5lciA9IHRydWU7CiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwaW5uZXIiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgICAgdGhpcy5jYWxsX2FwaSgpOwogICAgICB9CiAgICB9LAogICAgcmVkaXIoZGF0YSkgewogICAgICAvLyBpZiAoIXRoaXMuaXNfc3VwZXJfYWRtaW4pewogICAgICAgIGxldCByZXNldF9maWVsZHMgPSB0cnVlOwogICAgICAgIHRoaXMubG9naW5fYnV0dG9uX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Bpbm5lciIpLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjAuNSI7CiAgICAgIC8vIH0gCiAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuRU1BSUxfTk9UX1ZFUklGSUVEXzEwMjMuTVNHX0NPREUpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgIHRoaXMudGx0KCdsb2dpbl9hY2NvdW50X3ZhbGlkYXRlZCcsICdjb2RlJykrJzxicj4nK3RoaXMudGx0KCdsb2dpbl9jaGVja19lbWFpbF9kZXRhaWxzJywgJ2NvZGUnKSwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLlVTRVJfSEFTX0JFRU5fTE9DS0VELk1TR19DT0RFKSB7CiAgICAgICAgcmVzZXRfZmllbGRzID0gZmFsc2U7CiAgICAgICAgIHN3YWwoewogICAgICAgICAgdGV4dDoKICAgICAgICAgICAgdGhpcy50bHQoJ2xvZ2luX2FjY291bnRfZ290X2xvY2tlZCcsICdjb2RlJyksCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsgICAKICAgICAgfSBlbHNlIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSkgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgIHRoaXMudGx0KCdsb2dpbl9pbnRlcm5hbF9zZXJ2ZXJfbXNnJywgJ2NvZGUnKSwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFICA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5VU0VSX05PVF9BUFBST1ZFRF8xMDE5Lk1TR19DT0RFKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBodG1sOgogICAgICAgICAgICB0aGlzLnRsdCgncmVnaXN0cmF0aW9uX2RlY2xpbmVkX21zZycsICdjb2RlJyksCiAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFICA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5VU0VSX0FMUkVBRFlfTE9HR0VEX0lOXzEwMjEuTVNHX0NPREUpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBodG1sOiB0aGlzLnRsdCgndXNlcl9hbHJlYWR5X2xvZ2dlZCcsICdjb2RlJyksCiAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFICA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5JTlZBTElEX0NSRURFTlRJQUxTXzAwMDUuTVNHX0NPREUpIHsKICAgICAgICByZXNldF9maWVsZHMgPSBmYWxzZTsKICAgICAgICBpZighaXNOYU4oZGF0YS5tZXNzYWdlLmFsbG93ZWRfYXR0ZW1wdHMpKXsKICAgICAgICAgIHRoaXMuYWxsb3dlZF9hdHRlbXB0c19yZW1haW5pbmcgPSBkYXRhLm1lc3NhZ2UuYWxsb3dlZF9hdHRlbXB0czsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBodG1sOiB0aGlzLnRsdCgnbG9naW5faW52YWxpZF9jcmVkZW50aWFsczEnLCAnY29kZScpLAogICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgneW91X2hhdmVfbXNnJywgJ2NvZGUnKStgICR7dGhpcy5hbGxvd2VkX2F0dGVtcHRzX3JlbWFpbmluZ30gYCt0aGlzLnRsdCgnYWNjb3VudF9nZXRfbG9ja2VkX21zZycsICdjb2RlJyksCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBodG1sOiB0aGlzLnRsdCgnbG9naW5faW52YWxpZF9jcmVkZW50aWFsczEnLCAnY29kZScpLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFICA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5BUElfUkFURV9MSU1JVF9FWENFRURFRC5NU0dfQ09ERSkgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6CiAgICAgICAgICAgIHRoaXMudGx0KCdsb2dpbl9tb250aGx5X2FwaV9leGNlZWQnLCAnY29kZScpLAogICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKGRhdGEubWVzc2FnZS5NU0dfQ09ERSAgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuUkVORVdfUEFTU1dPUkQuTVNHX0NPREUpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBodG1sOgogICAgICAgICAgICB0aGlzLnRsdCgnbG9naW5fcmVuZXdfcGFzc3dvcmQnLCAnY29kZScpLAogICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYoQm9vbGVhbihkYXRhLmRhdGEuaXNfc3VwZXJfYWRtaW5fbG9naW4pKXsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiU3VwZXJBZG1pbkludGVybWVkaWF0ZVNjcmVlbiIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgZGF0YTogZGF0YS5kYXRhLmFsbF91c2Vyc19saXN0CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zdGFydCgpOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VySW5mb3JtYXRpb24iLCBkYXRhLmRhdGEudXNlcmluZm9ybWF0aW9uKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiYXQiLCBkYXRhLmRhdGEudXNlcmluZm9ybWF0aW9uLmFjY2Vzc190b2tlbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInJ0IiwgZGF0YS5kYXRhLnVzZXJpbmZvcm1hdGlvbi5yZWZyZXNoX3Rva2VuKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmxvZ2luX3R5cGUgPT0gIkJvdCIpIHsKICAgICAgICBDb29raWVzLnJlbW92ZSgibG9naW5fdHlwZSIpOwogICAgICAgIENvb2tpZXMuc2V0KCJsb2dpbl90eXBlIiwgdGhpcy5sb2dpbl90eXBlLCB7IGV4cGlyZXM6IDM2NSB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnN0YXJ0KCk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJJbmZvcm1hdGlvbiIsIGRhdGEuZGF0YS51c2VyaW5mb3JtYXRpb24pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJhdCIsIGRhdGEuZGF0YS51c2VyaW5mb3JtYXRpb24uYWNjZXNzX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicnQiLCBkYXRhLmRhdGEudXNlcmluZm9ybWF0aW9uLnJlZnJlc2hfdG9rZW4pOwogICAgICAgIHRoaXMuY2hlY2tfdGVtcGxhdGVfc3Vic2NyaXB0aW9uKCdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKTsKICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kaXJlY3RyZXNwb25zZWJvdCIpOwogICAgICB9IGVsc2UgaWYgKGRhdGEubWVzc2FnZS5NU0dfQ09ERSAgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuVVNFUl9JU19MT0NLRUQuTVNHX0NPREUpIHsKICAgICAgICByZXNldF9maWVsZHMgPSBmYWxzZTsKICAgICAgICBpZihkYXRhLmRhdGEubG9ja2VkX2F0ICE9IG51bGwgJiYgZGF0YS5kYXRhLmxvY2tlZF9hdCAhPSB1bmRlZmluZWQpewogICAgICAgICAgdGhpcy5pc191c2VyX2xvY2tlZCA9IHRydWU7CiAgICAgICAgICAvLyB0aGlzLnVzZXJfbG9ja2VkX2RhdGVfYWxsb3dlZCA9IG1vbWVudChtb21lbnQobmV3IERhdGUobWVzc2FnZS5sb2NrZWRfYXQpKS5hZGQoMSwgJ2QnKSkuZm9ybWF0KCJNTU0gRG8sIGg6bW0gYSIpOwogICAgICAgICAgdGhpcy51c2VyX2xvY2tlZF9kYXRlX2FsbG93ZWQgPSBtb21lbnQobW9tZW50KG5ldyBEYXRlKGRhdGEuZGF0YS5sb2NrZWRfYXQpKS5hZGQoMSwgJ2QnKSkuY2FsZW5kYXIoKTsKICAgICAgICB9CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdsb2dpbl9hY2NvdW50X2xvY2tlZCcsICdjb2RlJyksCiAgICAgICAgICBodG1sOiB0aGlzLnRsdCgndXNlcl9hY2NvdW50X2xvY2tlZF9tc2cnLCAnY29kZScpKyBgICR7dGhpcy51c2VyX2xvY2tlZF9kYXRlX2FsbG93ZWR9LiA8YSBocmVmPSJtYWlsdG86c3VwcG9ydEBjZW5zZS5haT9zdWJqZWN0PUhlbHAlMjBSZXF1aXJlZCUyMC0lMjBDZW5zZSUyMFBvcnRhbCUyMEFjY291bnQlMjBMb2NrZWQiIGNsYXNzPSJjdGN0LXVzIj5gK3RoaXMudGx0KCdjb250YWN0X3VzX2xpbmsnKStgPC9hPiBgK3RoaXMudGx0KCdhbGVydF9tc2cxJywgJ2NvZGUnKSwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFICA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5SRUdJU1RFUl9BTkRfTE9HSU5fU09VUkNFX0RPTlRfTUFUQ0guTVNHX0NPREUpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2xvZ2luX3NvdXJjZV9kaWZmZXJlbnRfbXNnJywgJ2NvZGUnKSwKICAgICAgICAgIGh0bWw6IHRoaXMudGx0KCdhY2NvdW50X3JlZ2lzdGVyZWRfbXNnJywgJ2NvZGUnKStgICR7ZGF0YS5tZXNzYWdlLnJlZ2lzdGVyX3NvdXJjZX0uIGArdGhpcy50bHQoJ2FsZXJ0X21zZzInLCAnY29kZScpLAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKCiAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFICA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5TU09fU0VSVkVSX0VSUk9SLk1TR19DT0RFKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGl0bGU6IHRoaXMudGx0KCdsb2dpbl9lcnJvcl93aXRoX3NzbycsICdjb2RlJyksCiAgICAgICAgICBodG1sOiB0aGlzLnRsdCgnc29tZV9lcnJvcl9wbGVhc2VfdHJ5X2FnYWluJywgJ2NvZGUnKSwKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CgogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIENvb2tpZXMucmVtb3ZlKCJsb2dpbl90eXBlIik7CiAgICAgICAgQ29va2llcy5zZXQoImxvZ2luX3R5cGUiLCB0aGlzLmxvZ2luX3R5cGUsIHsgZXhwaXJlczogMzY1IH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckluZm9ybWF0aW9uIiwgZGF0YS5kYXRhLnVzZXJpbmZvcm1hdGlvbik7CiAgICAgICAgaWYgKGRhdGEuZGF0YS51c2VyaW5mb3JtYXRpb24uc3Vic2NyaXB0aW9uID09ICdGcmVlJyAmJiBkYXRhLmRhdGEudXNlcmluZm9ybWF0aW9uLnN1YnNjcmlwdGlvbl9zdGF0dXMgIT0gJ2ZyZWV0cmlhbCcpIHsKICAgICAgICAgICAgdGhpcy5pc19mcmVlX3RyaWFsX2V4cGlyZSA9IHRydWUgOwogICAgICAgIH0KICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnd2hhdHNhcHBfc3Vic2NyaXB0aW9uJyxkYXRhLmRhdGEudXNlcmluZm9ybWF0aW9uLndoYXRzYXBwX3N1YnNjcmlwdGlvbikKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicmV0YWlsX3dlYl9mcmFtZXdvcmsiLCBkYXRhLmRhdGEucmV0YWlsX3dlYl9mcmFtZXdvcmspOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdChhcGlfY2FsbHMuYm90X3Jlc3BvbnNlX3Rva2VuKCksIHsKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLlNUQVRVU19TVUNDRVNTX0NPUkUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFRva2VuIiwgcmVzcG9uc2UuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnJlbW92ZSgiVGVtcG9yYXJ5Qm90VG9rZW4iKTsKICAgICAgICAgICAgICBidXMuJGVtaXQoIlRva2VuIGNoYW5nZWQiLCAiVHJ1ZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckZpcnN0TmFtZSIsIGRhdGEuZGF0YS51c2VyaW5mb3JtYXRpb24uZmlyc3RfbmFtZSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJMYXN0TmFtZSIsIGRhdGEuZGF0YS51c2VyaW5mb3JtYXRpb24ubGFzdF9uYW1lKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicnQiLCBkYXRhLmRhdGEudXNlcmluZm9ybWF0aW9uLnJlZnJlc2hfdG9rZW4pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJhdCIsIGRhdGEuZGF0YS51c2VyaW5mb3JtYXRpb24uYWNjZXNzX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiUmVzdHJpY3Rpb25MaXN0IiwgZGF0YS5kYXRhLnJlc3RyaWN0aW9uX2xpc3QpOwogICAgICAgIGRvY3VtZW50LmNvb2tpZSA9CiAgICAgICAgICAiY29tcGFueV9pZD0iICsgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgZG9jdW1lbnQuY29va2llID0KICAgICAgICAgICJjb21wYW55X25hbWU9IiArIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICAgICAgZG9jdW1lbnQuY29va2llID0gCiAgICAgICAgICAiY29tcGFueV9lbWFpbD0iICsgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsOyAKICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbl9zcGlubmVyID0gdHJ1ZTsKICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Bpbm5lciIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgdGhpcy5jaGVja190ZW1wbGF0ZV9zdWJzY3JpcHRpb24obnVsbCwgZGF0YS5kYXRhLm1lbnViaW5kKTsKICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyB0aGlzLnVwZGF0ZV9tZW51X2xpc3QobWVzc2FnZS5tZW51YmluZCk7CiAgICAgICAgLy8gfSwgMTAwKTsKICAgICAgfQogICAgICBpZihyZXNldF9maWVsZHMpewogICAgICAgIHRoaXMudXNlci5lbWFpbCA9ICIiOwogICAgICB9CiAgICAgIHRoaXMudXNlci5wYXNzd29yZCA9ICIiOwogICAgICB0aGlzLnVzZXIubG9naW5fc291cmNlID0gIlBPUlRBTCI7CiAgICAgIHRoaXMudXNlci5zc29fc291cmNlID0gbnVsbDsKICAgIH0sCiAgICBjaGVja190ZW1wbGF0ZV9zdWJzY3JpcHRpb24ocGFyYW0sIG1lbnUpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGFwaV9jYWxscy5vcGVuX2JvdF90ZW1wbGF0ZV9zdWJzY3JpcHRpb25fYXBpKCksIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgfSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgdGhpcy5vcGVuX2JvdF9hcGlfcmVzcG9uc2VfcmVjZWl2ZWQgPSB0cnVlOwogICAgICAgICAgaWYgKHBhcmFtID09PSBudWxsKXsKICAgICAgICAgICAgdGhpcy51cGRhdGVfbWVudV9saXN0KG1lbnUpOwogICAgICAgICAgfQogICAgICAgICAgaWYoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5TVUNDRVNTRlVMX0RCX1FVRVJZX01PREVMUy5NU0dfQ09ERSl7CiAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RUZW1wbGF0ZXMiLCBkYXRhLmRhdGEudGVtcGxhdGVzKQogICAgICAgICAgICBpZihwYXJhbSA9PT0gJ3B1c2hfZGlyZWN0X3Jlc3BvbnNlX2JvdCcpewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgbmFtZTogIkRpcmVjdCBSZXNwb25zZSBCb3QiLAogICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICByZWxvYWQ6IHRydWUKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZihwYXJhbSA9PT0gJ3B1c2hfZGlyZWN0X3Jlc3BvbnNlX2JvdCcpewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgbmFtZTogIkRpcmVjdCBSZXNwb25zZSBCb3QiLAogICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICByZWxvYWQ6IHRydWUKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goKGUpPT4gewogICAgICAgICAgdGhpcy5vcGVuX2JvdF9hcGlfcmVzcG9uc2VfcmVjZWl2ZWQgPSB0cnVlOwogICAgICAgICAgaWYgKHBhcmFtID09PSBudWxsKXsKICAgICAgICAgICAgdGhpcy51cGRhdGVfbWVudV9saXN0KG1lbnUpOwogICAgICAgICAgfQogICAgICAgICAgaWYocGFyYW0gPT09ICdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKXsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgIG5hbWU6ICJEaXJlY3QgUmVzcG9uc2UgQm90IiwKICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgcmVsb2FkOiB0cnVlCiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2FsbF9hcGkoKSB7CiAgICAgIHRoaXMudXNlci5kYXRlID0gbW9tZW50KCkudG9JU09TdHJpbmcoKTsKICAgICAgdGhpcy5hbGxvd2VkX2F0dGVtcHRzX3JlbWFpbmluZyA9IDA7CiAgICAgIHRoaXMuaXNfdXNlcl9sb2NrZWQgPSBmYWxzZTsKICAgICAgdGhpcy51c2VyX2xvY2tlZF9kYXRlX2FsbG93ZWQgPSBudWxsOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy5sb2dpbigpLCB0aGlzLnVzZXIpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICB0aGlzLnJlZGlyKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgdGhpcy5tYWluc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbl9zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3Bpbm5lciIpLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAvLyAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICBodG1sOiB0aGlzLnRsdCgnc29tZV9lcnJvcl9vY2N1cnJlZF9tc2cnLCdjb2RlJykrJzxicj4nK3RoaXMudGx0KCdwbGVhc2VfdHJ5X2FnYWluX21zZycsJ2NvZGUnKSwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgIH0pOwogICAgICAgICAgLy8gdG9hc3RyLmVycm9yKCJUaGVyZSBpcyBhbiBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3IuIik7CiAgICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlX21lbnVfbGlzdChtZXNzYWdlKSB7CiAgICAgIGxldCBtZW51ID0ge307CiAgICAgIGxldCBtYWluX21lbnVfbGlzdCA9IG1lc3NhZ2UuZmlsdGVyKAogICAgICAgIChhcnIpID0+IGFyci5Jc01hc3Rlck1lbnUgPT0gdHJ1ZSAmJiBhcnIuRW5hYmxlZCA9PSB0cnVlCiAgICAgICk7CiAgICAgIGxldCBtYWluX21lbnVfbGlzdF9maWx0ZXJlZCA9IFtdOwogICAgICBsZXQgc3ViX21lbnVfbGlzdCA9IG1lc3NhZ2UuZmlsdGVyKAogICAgICAgIChhcnIpID0+CiAgICAgICAgICBhcnIuSGFzU3ViTWVudXMgPT0gZmFsc2UgJiYKICAgICAgICAgIGFyci5FbmFibGVkID09IHRydWUgJiYKICAgICAgICAgIGFyci5Jc1N1Yk1lbnUgPT0gdHJ1ZQogICAgICApOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBtYWluX21lbnVfbGlzdC5sZW5ndGg7IGkgPCBuOyBpICs9IDEpIHsKICAgICAgICBsZXQgbWVudUZpbHRlciA9IHNpZGViYXJpdGVtcy5maWx0ZXIoKHNpZGViYXIpID0+IHsKICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIHNpZGViYXIubmFtZSA9PT0gbWFpbl9tZW51X2xpc3RbaV0uTWVudUl0ZW0gJiYKICAgICAgICAgICAgQm9vbGVhbihzaWRlYmFyLnN2Z19odG1sKQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgICAgICBpZiAobWVudUZpbHRlci5sZW5ndGggPiAwKSB7CiAgICAgICAgICBtYWluX21lbnVfbGlzdF9maWx0ZXJlZC5wdXNoKG1lbnVGaWx0ZXJbMF0pOwogICAgICAgICAgbWVudVttZW51RmlsdGVyWzBdLm5hbWVdID0gewogICAgICAgICAgICBtYWluX21lbnU6IG1lbnVGaWx0ZXJbMF0sCiAgICAgICAgICAgIHN1Yl9tZW51X2xpc3Q6IFtdLAogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IHN1Yl9tZW51X2xpc3QubGVuZ3RoOyBpIDwgbjsgaSArPSAxKSB7CiAgICAgICAgICBmb3IgKHZhciBqIGluIHNpZGViYXJpdGVtcykgewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgc2lkZWJhcml0ZW1zW2pdLm5hbWUgPT09IHN1Yl9tZW51X2xpc3RbaV0uTWVudUl0ZW0gJiYKICAgICAgICAgICAgICBCb29sZWFuKHNpZGViYXJpdGVtc1tqXS5wYWdlX3BhdGggJiYgc2lkZWJhcml0ZW1zW2pdLm1hc3Rlcl9tZW51ID09PSBzdWJfbWVudV9saXN0W2ldLk1hc3Rlck1lbnUpCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIG1lbnVbc3ViX21lbnVfbGlzdFtpXS5NYXN0ZXJNZW51XS5zdWJfbWVudV9saXN0LnB1c2goCiAgICAgICAgICAgICAgICBzaWRlYmFyaXRlbXNbal0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgLy8gZGVidWdnZXI7CiAgICAgIH0KICAgICAgbWVudSA9IE9iamVjdC52YWx1ZXMobWVudSk7CgogICAgICAvLyBmb3IgKGxldCBpID0gMCwgbiA9IG1lc3NhZ2UubGVuZ3RoOyBpIDwgbjsgaSArPSAxKSB7CiAgICAgIC8vICAgaWYgKG1lc3NhZ2VbaV0uRW5hYmxlZCAmJiBtZXNzYWdlW2ldLklzTWFzdGVyTWVudSkgewogICAgICAvLyAgICAgbGV0IG1lbnVGaWx0ZXIgPSBzaWRlYmFyaXRlbXMuZmlsdGVyKChzaWRlYmFyKSA9PiB7CiAgICAgIC8vICAgICAgIHJldHVybiAoCiAgICAgIC8vICAgICAgICAgc2lkZWJhci5uYW1lID09PSBtZXNzYWdlW2ldLk1lbnVJdGVtICYmIEJvb2xlYW4oc2lkZWJhci5zdmdfaHRtbCkKICAgICAgLy8gICAgICAgKTsKICAgICAgLy8gICAgIH0pOwogICAgICAvLyAgICAgaWYgKG1lbnVGaWx0ZXIubGVuZ3RoID4gMCkgewogICAgICAvLyAgICAgICBtYWluX21lbnUgPSBtZW51RmlsdGVyWzBdOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAgIC8vICAgICBtZXNzYWdlW2ldLkhhc1N1Yk1lbnVzID09IGZhbHNlICYmCiAgICAgIC8vICAgICBtZXNzYWdlW2ldLkVuYWJsZWQgJiYKICAgICAgLy8gICAgIG1lc3NhZ2VbaV0uSXNTdWJNZW51ICYmCiAgICAgIC8vICAgICBPYmplY3Qua2V5cyhtYWluX21lbnUpLmxlbmd0aCA+IDAKICAgICAgLy8gICApIHsKICAgICAgLy8gICAgIGZvciAodmFyIGogaW4gc2lkZWJhcml0ZW1zKSB7CiAgICAgIC8vICAgICAgIGlmICgKICAgICAgLy8gICAgICAgICBzaWRlYmFyaXRlbXNbal0ubmFtZSA9PT0gbWVzc2FnZVtpXS5NZW51SXRlbSAmJgogICAgICAvLyAgICAgICAgIEJvb2xlYW4oc2lkZWJhcml0ZW1zW2pdLnBhZ2VfcGF0aCkKICAgICAgLy8gICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgc3VibWVudXMucHVzaChzaWRlYmFyaXRlbXNbal0pOwogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfQogICAgICAvLyAgIGlmICgKICAgICAgLy8gICAgIGkgPT0gbiAtIDEgfHwKICAgICAgLy8gICAgIChtZXNzYWdlW2ldLklzTWFzdGVyTWVudSA9PSB0cnVlICYmCiAgICAgIC8vICAgICAgIG1lc3NhZ2VbaV0uSGFzU3ViTWVudXMgPT09IGZhbHNlICYmCiAgICAgIC8vICAgICAgICFCb29sZWFuKG1lc3NhZ2VbaV0uSXNTdWJNZW51KSAmJgogICAgICAvLyAgICAgICBtZXNzYWdlW2ldLkVuYWJsZWQpCiAgICAgIC8vICAgKSB7CiAgICAgIC8vICAgICBtZW51LnB1c2goewogICAgICAvLyAgICAgICBtYWluX21lbnU6IG1haW5fbWVudSwKICAgICAgLy8gICAgICAgc3ViX21lbnVfbGlzdDogc3VibWVudXMsCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICAgIG1haW5fbWVudSA9IFtdOwogICAgICAvLyAgICAgc3VibWVudXMgPSBbXTsKICAgICAgLy8gICB9IGVsc2UgaWYgKAogICAgICAvLyAgICAgaSA8IG4gLSAxICYmCiAgICAgIC8vICAgICBtZXNzYWdlW2kgKyAxXS5Jc01hc3Rlck1lbnUgJiYKICAgICAgLy8gICAgICghQm9vbGVhbihtZXNzYWdlW2kgKyAxXS5Jc1N1Yk1lbnUpIHx8CiAgICAgIC8vICAgICAgIG1lc3NhZ2VbaSArIDFdLkhhc1N1Yk1lbnVzID09IHRydWUpICYmCiAgICAgIC8vICAgICBPYmplY3Qua2V5cyhtYWluX21lbnUpLmxlbmd0aCA+IDAKICAgICAgLy8gICApIHsKICAgICAgLy8gICAgIG1lbnUucHVzaCh7CiAgICAgIC8vICAgICAgIG1haW5fbWVudTogbWFpbl9tZW51LAogICAgICAvLyAgICAgICBzdWJfbWVudV9saXN0OiBzdWJtZW51cywKICAgICAgLy8gICAgIH0pOwogICAgICAvLyAgICAgbWFpbl9tZW51ID0gW107CiAgICAgIC8vICAgICBzdWJtZW51cyA9IFtdOwogICAgICAvLyAgIH0KICAgICAgLy8gfQogICAgICB0aGlzLiRzZXNzaW9uLnNldCgiQ2hhdGJvdE1lbnUiLCBtZW51KTsKICAgICAgLy8gd2hpbGUgKCF0aGlzLm9wZW5fYm90X2FwaV9yZXNwb25zZV9yZWNlaXZlZCl7CiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvZGFzaGJvYXJkIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIkRhc2hib2FyZCIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaXNfZnJlZV90cmlhbDp0aGlzLmlzX2ZyZWVfdHJpYWxfZXhwaXJlCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIC8vIH0KICAgIH0sCiAgICBhc3luYyBsb2dpbldpdGhHb29nbGUoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy8gZmlyc3QKICAgICAgICAvLyBjb25zb2xlLmxvZygiZmlyc3QiKQogICAgICAgIGNvbnN0IGdvb2dsZVVzZXIgPSBhd2FpdCB0aGlzLiRnQXV0aC5zaWduSW4oKTsKICAgICAgICBjb25zdCBnb29nbGVfa2V5cyA9IE9iamVjdC5rZXlzKGdvb2dsZVVzZXIpOwogICAgICAgIGxldCBwcm9maWxlID0gZ29vZ2xlVXNlci5nZXRCYXNpY1Byb2ZpbGUoKTsKICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvZmlsZSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coZ29vZ2xlVXNlcik7CiAgICAgICAgLy8gY29uc29sZS5sb2cocHJvZmlsZSk7CiAgICAgICAgY29uc3Qgc3NvX3Rva2VuID0gZ29vZ2xlVXNlcltnb29nbGVfa2V5c1sxXV0uaWRfdG9rZW4gIT09IHVuZGVmaW5lZAogICAgICAgICAgICA/IGdvb2dsZVVzZXJbZ29vZ2xlX2tleXNbMV1dLmlkX3Rva2VuCiAgICAgICAgICAgIDogZ29vZ2xlVXNlcltnb29nbGVfa2V5c1syXV0uaWRfdG9rZW47CiAgICAgICAgdGhpcy51c2VyLmxvZ2luX3NvdXJjZSA9ICJTU08iOwogICAgICAgIHRoaXMudXNlci5zc29fc291cmNlID0gImdvb2dsZSI7CiAgICAgICAgdGhpcy51c2VyLnNzb190b2tlbiA9IHNzb190b2tlbjsKICAgICAgICB0aGlzLnVzZXIuZW1haWwgPSBwcm9maWxlW2tleXNbNV1dOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcik7CiAgICAgICAgdGhpcy5tYWluc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICB0aGlzLmNhbGxfYXBpKCk7CiAgICAgIH0gCiAgICAgIGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMubWFpbnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsb2dpbl9jYXJkX2hlaWdodCgpewogICAgICBpZigodGhpcy5pc191c2VyX2xvY2tlZCA9PT0gdHJ1ZSkgfHwgKHRoaXMuYWxsb3dlZF9hdHRlbXB0c19yZW1haW5pbmchPW51bGwgJiYgdGhpcy5hbGxvd2VkX2F0dGVtcHRzX3JlbWFpbmluZyA+IDApKSB7CiAgICAgICAgcmV0dXJuICJsb2dpbi1jYXJkLXRhbGwiCiAgICAgIH0KICAgICAgcmV0dXJuICJsb2dpbi1jYXJkLWRlZmF1bHQiCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Pages","sourcesContent":["<template>\n  <div>\n    <div id=\"body\" class=\"log-wrap d-flex align-items-center\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"mainspinnerOn\"></div>\n    <!-- <div id=\"body\" class=\"log-wrap d-flex align-items-center\"> -->\n      <div class=\"container\" id=\"login_card\" style=\"padding: 50px 50px 0px\">\n        <div class=\"log-blk\" style=\"border-radius: 20px; box-shadow: 0px 1px 22px #00000014\">\n          <div class=\"row no-gutters\">\n            <div class=\"col-lg-6\" :class=\"login_card_height\">\n              <!-- <div class=\"title-sec d-flex align-items-center\"> -->\n              <div class=\"title-sec d-flex\">\n                <div class=\"inner-title\">\n                  <div class=\"sec-logo\">\n                    <img src=\"/img/logonew.png\" style=\"width: 100%; padding: 0px 70px 0px;\" alt />\n                  </div>\n                  <h2>{{tlt('login_page_welcome_back_label','code')}}!</h2>\n                  <p style=\"margin-bottom: 50px; opacity: 0.9;\"\n                  :style=\"(is_language === 'pt')? 'width:112%; margin-left: -20px;':''\">{{tlt('login_page_cense_tagline1','code')}} {{tlt('login_page_cense_tagline2', 'code')}}</p>\n                  <a href=\"javascript: void(0)\" @click=\"$router.push({name: 'Register'})\" class=\"white-btn\" style=\"padding: 5px 20px;\n    width: 50%;\n    height: 40px;\">{{tlt('sign_up_btn', 'code')}}</a>\n                  <!-- <a href=\"https://website.cense.ai/register\" class=\"white-btn\"\n                    >Sign Up</a\n                  > -->\n                  <!-- {{tlt('sign_up_btn', 'code')}} -->\n                </div>\n              </div>\n            </div>\n            <div class=\"col-lg-6\" :class=\"login_card_height\">\n              <!-- <div class=\"log-sec d-flex align-items-center\"> -->\n              <div class=\"log-sec d-flex\">\n                <div class=\"log-frm\">\n                  <h2>{{tlt('login_btn', 'code')}}</h2>\n                  <br />\n                  <center>\n                    <div class=\"radio\" style=\"margin-bottom: 30px;\">\n                      <label style=\"margin-right: 65px;\">\n                        <input\n                          type=\"radio\"\n                          value=\"Portal\"\n                          v-model=\"login_type\"\n                        />\n                        <span class=\"icn\"></span> {{tlt('login_page_portal_option', 'code')}}\n                      </label>\n                      <label>\n                        <input type=\"radio\" value=\"Bot\" v-model=\"login_type\" />\n                        <span class=\"icn\"></span> {{tlt('login_page_bot_option', 'code')}}\n                      </label>\n                    </div>\n                  </center>\n                  <form @submit.prevent=\"create\" style=\"padding: 0px 10px 0px;\">\n                    <div class=\"form-group\" style=\"margin-top: 30px\">\n                      <!-- <img class=\"view-fail\" src=\"/img/email-icn.png\" alt /> -->\n                      <input\n                        type=\"email\"\n                        v-model=\"user.email\"\n                        class=\"form-control email\"\n                        :placeholder=\"tlt('email_text', 'code')\"\n                        id=\"login_username\"\n                        required\n                        style=\"border-radius: 29px; padding: 3px 30px 3px 43px; font-size: 15px;\"\n                        :class=\"{invalid:is_submitting && !user.email.trim()}\"\n                      />\n                    </div>\n                    <div class=\"form-group\" style=\"margin-bottom: 5px;\">\n                        <!-- <img class=\"view-fail\" src=\"/img/lock-icn.png\" alt /> -->\n                      <input\n                        type=\"password\"\n                        v-model=\"user.password\"\n                        id=\"form_password\"\n                        class=\"form-control pass\"\n                        :placeholder=\"tlt('pwd_label', 'code')\"\n                        style=\"border-radius: 29px; padding:3px 0px 3px 43px; font-size: 15px;\"\n                        :class=\"{invalid:is_submitting && !user.password.trim()}\"                       \n                      />\n                      <a\n                        href=\"javascript:void(0)\"\n                        @click=\"password_toggle\"\n                        class=\"view-pass\"\n                        style=\"top: 7px;\"\n                      >\n                        <img src=\"/img/eye-icn.png\" alt />\n                      </a>\n                    </div>\n                    <div class=\"checkbox\" style=\"margin-right: 15px;\">\n                      <a\n                        href=\"#\"\n                        class=\"forgot\"\n                        data-toggle=\"modal\"\n                        data-target=\"#usermodal\"\n                        >{{tlt('login_page_forgot_pwd_label', 'code')}}?</a\n                      >\n                    </div>\n                    <div class=\"btn-wrap\">\n                      <button type=\"submit\" style=\"width: max-content; min-width:170px; padding: 0px 20px; height: 40px\" \n                      class=\"darkblue-btn\">\n                        <span style=\"font: normal normal 600 17px/27px Poppins\">\n                          <!-- {{tlt('login_btn', 'code')}} -->\n                          {{tlt('login_btn', 'code')}}\n                          <i\n                            class=\"fa fa-spinner fa-spin\"\n                            id=\"spinner\"\n                            v-if=\"login_button_spinner\"\n                          ></i>\n                        </span>\n                      </button>\n                      <div class=\"text-center\" v-if=\"(allowed_attempts_remaining!=null && allowed_attempts_remaining > 0)\">\n                        <span style=\"color: red; font-size:14px;\">\n                          {{tlt('you_have' ,'code')}} {{allowed_attempts_remaining}} {{tlt('attempt' ,'code')}}{{(allowed_attempts_remaining > 1) ? 's': ''}} {{tlt('account_locked', 'code')}}\n                        </span>\n                      </div>\n                    <div class=\"text-center\" v-if=\"is_user_locked\">\n                      <span style=\"color: red; font-size:14px;\">\n                       {{tlt('too_many_attempt','code')}} {{user_locked_date_allowed}}. <a href=\"mailto:support@cense.ai?subject=Help%20Required%20-%20Cense%20Portal%20Account%20Locked\" class=\"ctct-us\" > {{tlt('contact_us_link')}}</a> {{tlt('alert_msg', 'code')}}\n                      </span>\n                    </div>\n                    <span class=\"divider-bar\"></span>\n                      <h6\n                        class=\"\n                          text-center\n                          divider-text\n                          mb-0\n                          mt-2\n                        \"\n                      >\n                        Or\n                      </h6>\n                      <a\n                        @click=\"loginWithGoogle()\"\n                        class=\"\n                          btn\n                          google-btn\n                          bg-white\n                          d-block d-flex\n                          align-items-center\n                          text-decoration-none\n                          justify-content-center\n                        \"\n                      >\n                        <img\n                          src=\"@/portal/assets/img/google-icon.svg\"\n                          alt=\"google\"\n                          class=\"me-3\"\n                          width=\"28rem\"\n                        />\n                        <span>{{tlt('login_page_google_login_link', 'code')}}</span>\n                      </a>\n                      <!-- <div class=\"action-btns\">\n                      <div\n                      class=\"\n                        position-relative\n                        d-flex\n                        align-items-center\n                        justify-content-center\n                        mt-4\n                        py-4\n                      \"\n                    >\n                      <span class=\"divider-bar\"></span>\n                      <h6\n                        class=\"\n                          position-absolute\n                          text-center\n                          divider-text\n                          bg-light\n                          mb-0\n                        \"\n                      >\n                        Or\n                      </h6>\n                    </div>\n                      <a\n                        @click=\"loginWithGoogle()\"\n                        class=\"\n                          btn\n                          google-btn\n                          bg-white\n                          shadow-sm\n                          mt-4\n                          d-block d-flex\n                          align-items-center\n                          text-decoration-none\n                          justify-content-center\n                        \"\n                      >\n                        <img\n                          src=\"/assets/img/google-icon.svg\"\n                          alt=\"google\"\n                          class=\"me-3\"\n                        />\n                        <span>Connect with Google</span>\n                      </a>\n                    </div> -->\n                    \n                    </div>\n                   \n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <footer>\n            <div style=\"margin-top: 50px; text-align: center;\">\n              Ⓒ {{ new Date().getFullYear() }} {{tlt('all_rights_reserved_msg','code')}}\n              <a href=\"https://cense.ai/privacy-policy\">{{tlt('policy_msg','code')}}</a>\n              <img\n                src=\"@/portal/assets/img/flags/US.png\"\n                alt=\"\"\n                class=\"ml-1 c-p\"\n                title=\"English\"\n                @click=\"change_locale_language('en')\"\n              />\n              <img\n                src=\"@/portal/assets/img/flags/india.png\"\n                alt=\"\"\n                height=\"23px\"\n                width=\"23px\"\n                class=\"ml-1 c-p\"\n                title=\"Hindi\"\n                @click=\"change_locale_language('hi')\"\n              />\n              <!-- <div class=\"vl ml-1\" style=\"display: inline;\"></div>\n              <img\n                src=\"@/portal/assets/img/flags/ES.png\"\n                height=\"17px\"\n                width=\"23px\"\n                alt=\"\"\n                class=\"ml-1 c-p\"\n                title=\"spanish\"\n                @click=\"change_locale_language('es')\"\n              /> -->\n              <!-- <div class=\"vl ml-1\" style=\"display: inline;\"></div> -->\n              <img\n                src=\"@/portal/assets/img/flags/PT.png\"\n                height=\"17px\"\n                width=\"23px\"\n                alt=\"\"\n                class=\"ml-1 c-p\"\n                title=\"Portuguese\"\n                @click=\"change_locale_language('pt')\"\n              />\n            </div>\n          </footer>\n        </div>\n      </div>\n      <div\n        class=\"modal fade dash-modal\"\n        id=\"usermodal\"\n        tabindex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"usermodeltitle\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"modal-head d-flex align-items-center\">\n                <div class=\"head-icn\">\n                  <img src=\"/img/user-blue.png\" alt />\n                </div>\n                <h3>{{tlt('login_page_forgot_pwd_header', 'code')}}</h3>\n              </div>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                @click=\"clear_fields\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n              <form @submit=\"forgot_password\">\n                <div class=\"form-group\">\n                  <label>{{tlt('forgot_pwd_model_email_label' ,'code')}}</label>\n                  <input\n                    id=\"email_forgot_pwd\"\n                    type=\"email\"\n                    class=\"form-control\"\n                    v-model=\"forgot_password_email\"\n                    :placeholder=\"tlt('enter_email_text', 'code')\"\n                    @input=\"email_validate\"\n                  />\n                </div>\n                <div\n                  style=\"color: red\"\n                  v-if=\"show_validation_string && forgot_password_email != ''\"\n                >\n                  {{tlt('forgot_pwd_model_email_condition_label', 'code')}}\n                </div>\n                <div class=\"btn-wrap text-right\">\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-link\"\n                    data-dismiss=\"modal\"\n                    @click=\"clear_fields\"\n                  >\n                    {{tlt('forgot_pwd_model_cancel_btn', 'code')}}\n                  </button>\n                  <button type=\"submit\" class=\"darkblue-btn\" style=\"width: 20%;\">{{tlt('forgot_pwd_model_send_btn' ,'code')}}</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport sidebaritems from \"../Layout/SideBarItem\";\nimport { setTimeout } from \"timers\";\nimport api_calls from \"@/portal/api_calls\";\nimport { bus } from \"@/portal/main\";\nimport Cookies from \"js-cookie\";\nimport moment from \"moment\";\nexport default {\n  data() {\n    return {\n      user: {\n        email: \"\",\n        password: \"\",\n        date: \"\",\n        login_source : \"PORTAL\",\n        sso_source : null,\n      },\n      open_modal: false,\n      forgot_password_email: \"\",\n      is_language: this.$session.get(\"PreferredLanguage\"),\n      reg_email: /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,\n      show_validation_string: false,\n      login_type: \"Portal\",\n      is_super_admin: false,\n      open_bot_api_response_received: false,\n      login_button_spinner: false,\n      is_submitting: false,\n      allowed_attempts_remaining: null,\n      is_user_locked: false,\n      user_locked_date_allowed: null,\n      mainspinnerOn: false,\n      is_free_trial_expire : false,\n      \n    };\n  },\n  beforeCreate() {\n    if(this.$session.has(\"UserInformation\") && Boolean(this.$route.query.is_shopify_billing_redirect)){\n      this.$router.push({\n        name: \"Dashboard\",\n        params: {\n          is_shopify_billing_redirect: true\n        }\n      });\n    }\n    else if (\n      this.$session.has(\"UserInformation\") &&\n      !(Boolean(this.$route.query.email) && Boolean(this.$route.query.token))\n    ) {\n      this.$router.push(\"/bot/dashboard\");\n    }\n  },\n  created() {\n    let l_type = Cookies.get(\"login_type\");\n    if ((l_type !== undefined) && (l_type !== \"undefined\") ) {\n      this.login_type = Cookies.get(\"login_type\");\n    } \n    if(this.login_type == undefined) {\n      this.login_type = \"Portal\"\n    }\n  },\n  beforeMount() {\n    var email = this.$route.query.email;\n    var token_id = this.$route.query.token;\n    if (email && token_id) {\n      this.$router.replace(\"login\");\n      axios\n        .post(api_calls.validate_login(), {\n          email: email,\n          token: token_id,\n        })\n        .then((response) => {\n          if (response.data == \"Email already verified\") {\n            swal({\n              text:\n                this.tlt('link_expired_msg', 'code'),\n            });\n          } else if (response.data == \"Email verification successful\") {\n            swal({\n              type: \"success\",\n              text:\n                this.tlt('login_email_verify_success', 'code'),\n              timer: 3000,\n            });\n          } else if (response.data == \"User Doesn't Exist\") {\n            swal({\n              text: this.tlt('login_user_not_exist', 'code'),\n              type: \"error\",\n              timer: 2000,\n            });\n          }\n        });\n    }\n  },\n  methods: {\n    email_validate() {\n      if (this.reg_email.test(this.forgot_password_email)) {\n        this.show_validation_string = false;\n      } else {\n        this.show_validation_string = true;\n      }\n    },\n    //  toggle_domain(event) {\n    //   if (event.target.value == \"Portal\") {\n    //     document.getElementById(\"domain_input\").style.display = \"\";\n    //   } else if (event.target.value == \"Bot\") {\n    //     document.getElementById(\"domain_input\").style.display = \"none\";\n    //   }},\n    clear_fields() {\n      this.forgot_password = \"\";\n      $(\"#usermodal\").modal(\"hide\");\n      this.user.email = \"\";\n      this.user.password = \"\";\n\n    },\n    forgot_password() {\n      event.preventDefault();\n      if (\n        this.show_validation_string == false &&\n        this.forgot_password_email != \"\"\n      ) {\n        swal({\n          toast: true,\n          text: this.tlt('login_submit_your_details', 'code'),\n          showConfirmButton: false,\n          type: \"info\",\n          timer: 2500\n        });\n        axios\n          .post(api_calls.forgot_password(), {\n            email: this.forgot_password_email,\n          })\n          .then((response) => {\n            if (response.data.includes(\"email address\")) {\n              swal({\n                text: this.tlt('registered_email_check', 'code'),\n                type: \"error\",\n              });\n            } else if (response.data == \"A mail has been sent to your email\") {\n              swal({\n                text:\n                  this.tlt('login_reset_password', 'code'),\n                timer: 3000,\n              });\n              $(\"#usermodal\").modal(\"hide\");\n            } else {\n              swal({\n                text: this.tlt('some_error_occurred_msg', 'code'),\n                timer: 2500,\n              });\n              $(\"#usermodal\").modal(\"hide\");\n            }\n          });\n      }\n    },\n    password_toggle() {\n      var password = document.getElementById(\"form_password\");\n      if (password.type == \"text\") {\n        password.type = \"password\";\n      } else if (password.type == \"password\") {\n        password.type = \"text\";\n      }\n    },\n    create() {\n      this.is_submitting = true;\n      if (this.user.name == \"\" || this.user.password == \"\") {\n        swal({\n          type: \"warning\",\n          title: this.tlt('login_enter_email_pwd_msg', 'code'),\n          timer: 2500,\n        });\n      } else {\n        this.is_submitting = false;\n        this.login_button_spinner = true;\n        // document.getElementById(\"spinner\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", true);\n        this.call_api();\n      }\n    },\n    redir(data) {\n      // if (!this.is_super_admin){\n        let reset_fields = true;\n        this.login_button_spinner = false;\n        // document.getElementById(\"spinner\").style.opacity = \"0\";\n        document.getElementById(\"body\").style.opacity = \"0.5\";\n      // } \n      if (data.message.MSG_CODE == this.api_status_code.EMAIL_NOT_VERIFIED_1023.MSG_CODE) {\n        swal({\n          html:\n            this.tlt('login_account_validated', 'code')+'<br>'+this.tlt('login_check_email_details', 'code'),\n          type: \"error\",\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if(data.message.MSG_CODE == this.api_status_code.USER_HAS_BEEN_LOCKED.MSG_CODE) {\n        reset_fields = false;\n         swal({\n          text:\n            this.tlt('login_account_got_locked', 'code'),\n          type: \"error\",\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);   \n      } else if (data.message.MSG_CODE  == this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE) {\n        swal({\n          type: \"error\",\n          html:\n            this.tlt('login_internal_server_msg', 'code'),\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (data.message.MSG_CODE  == this.api_status_code.USER_NOT_APPROVED_1019.MSG_CODE) {\n        swal({\n          type: \"warning\",\n          html:\n            this.tlt('registration_declined_msg', 'code'),\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (data.message.MSG_CODE  == this.api_status_code.USER_ALREADY_LOGGED_IN_1021.MSG_CODE) {\n        swal({\n          type: \"error\",\n          html: this.tlt('user_already_logged', 'code'),\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (data.message.MSG_CODE  == this.api_status_code.INVALID_CREDENTIALS_0005.MSG_CODE) {\n        reset_fields = false;\n        if(!isNaN(data.message.allowed_attempts)){\n          this.allowed_attempts_remaining = data.message.allowed_attempts;\n          swal({\n            type: \"error\",\n            html: this.tlt('login_invalid_credentials1', 'code'),\n            text: this.tlt('you_have_msg', 'code')+` ${this.allowed_attempts_remaining} `+this.tlt('account_get_locked_msg', 'code'),\n            showConfirmButton: true,\n          });\n        } else {\n          swal({\n            type: \"error\",\n            html: this.tlt('login_invalid_credentials1', 'code'),\n            showConfirmButton: true,\n          });\n        }\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (data.message.MSG_CODE  == this.api_status_code.API_RATE_LIMIT_EXCEEDED.MSG_CODE) {\n        swal({\n          type: \"error\",\n          html:\n            this.tlt('login_monthly_api_exceed', 'code'),\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (data.message.MSG_CODE  == this.api_status_code.RENEW_PASSWORD.MSG_CODE) {\n        swal({\n          type: \"error\",\n          html:\n            this.tlt('login_renew_password', 'code'),\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if(Boolean(data.data.is_super_admin_login)){\n        this.$router.push({\n          name: \"SuperAdminIntermediateScreen\",\n          params: {\n            data: data.data.all_users_list\n          }\n        });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", data.data.userinformation);\n        this.$session.set(\"at\", data.data.userinformation.access_token);\n        this.$session.set(\"rt\", data.data.userinformation.refresh_token);\n      } else if (this.login_type == \"Bot\") {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", data.data.userinformation);\n        this.$session.set(\"at\", data.data.userinformation.access_token);\n        this.$session.set(\"rt\", data.data.userinformation.refresh_token);\n        this.check_template_subscription('push_direct_response_bot');\n        // this.$router.push(\"/bot/directresponsebot\");\n      } else if (data.message.MSG_CODE  == this.api_status_code.USER_IS_LOCKED.MSG_CODE) {\n        reset_fields = false;\n        if(data.data.locked_at != null && data.data.locked_at != undefined){\n          this.is_user_locked = true;\n          // this.user_locked_date_allowed = moment(moment(new Date(message.locked_at)).add(1, 'd')).format(\"MMM Do, h:mm a\");\n          this.user_locked_date_allowed = moment(moment(new Date(data.data.locked_at)).add(1, 'd')).calendar();\n        }\n        swal({\n          type: \"error\",\n          title: this.tlt('login_account_locked', 'code'),\n          html: this.tlt('user_account_locked_msg', 'code')+ ` ${this.user_locked_date_allowed}. <a href=\"mailto:support@cense.ai?subject=Help%20Required%20-%20Cense%20Portal%20Account%20Locked\" class=\"ctct-us\">`+this.tlt('contact_us_link')+`</a> `+this.tlt('alert_msg1', 'code'),\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (data.message.MSG_CODE  == this.api_status_code.REGISTER_AND_LOGIN_SOURCE_DONT_MATCH.MSG_CODE) {\n        swal({\n          type: \"error\",\n          title: this.tlt('login_source_different_msg', 'code'),\n          html: this.tlt('account_registered_msg', 'code')+` ${data.message.register_source}. `+this.tlt('alert_msg2', 'code'),\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n\n      } else if (data.message.MSG_CODE  == this.api_status_code.SSO_SERVER_ERROR.MSG_CODE) {\n        swal({\n          type: \"error\",\n          title: this.tlt('login_error_with_sso', 'code'),\n          html: this.tlt('some_error_please_try_again', 'code'),\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n\n      }\n      else {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", data.data.userinformation);\n        if (data.data.userinformation.subscription == 'Free' && data.data.userinformation.subscription_status != 'freetrial') {\n            this.is_free_trial_expire = true ;\n        }\n        this.$session.set('whatsapp_subscription',data.data.userinformation.whatsapp_subscription)\n        this.$session.set(\"retail_web_framework\", data.data.retail_web_framework);\n        axios\n          .post(api_calls.bot_response_token(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            username: this.$session.get(\"UserInformation\").email,\n          })\n          .then((response) => {\n            if (this.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE === response.data.message.MSG_CODE){\n              this.$session.set(\"BotToken\", response.data.data);\n              this.$session.remove(\"TemporaryBotToken\");\n              bus.$emit(\"Token changed\", \"True\");\n            }\n          });\n        this.$session.set(\"UserFirstName\", data.data.userinformation.first_name);\n        this.$session.set(\"UserLastName\", data.data.userinformation.last_name);\n        this.$session.set(\"rt\", data.data.userinformation.refresh_token);\n        this.$session.set(\"at\", data.data.userinformation.access_token);\n        this.$session.set(\"RestrictionList\", data.data.restriction_list);\n        document.cookie =\n          \"company_id=\" + this.$session.get(\"UserInformation\").company_id;\n        document.cookie =\n          \"company_name=\" + this.$session.get(\"UserInformation\").company_name;\n        document.cookie = \n          \"company_email=\" + this.$session.get(\"UserInformation\").email; \n        this.login_button_spinner = true;\n        // document.getElementById(\"spinner\").style.opacity = \"1\";\n        this.check_template_subscription(null, data.data.menubind);\n        // setTimeout(() => {\n        // this.update_menu_list(message.menubind);\n        // }, 100);\n      }\n      if(reset_fields){\n        this.user.email = \"\";\n      }\n      this.user.password = \"\";\n      this.user.login_source = \"PORTAL\";\n      this.user.sso_source = null;\n    },\n    check_template_subscription(param, menu) {\n      axios\n        .get(api_calls.open_bot_template_subscription_api(), {\n          params: {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(({data}) => {\n          this.open_bot_api_response_received = true;\n          if (param === null){\n            this.update_menu_list(menu);\n          }\n          if(data.message.MSG_CODE === this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE){\n            this.$session.set(\"BotTemplates\", data.data.templates)\n            if(param === 'push_direct_response_bot'){\n              this.$router.push({\n               name: \"Direct Response Bot\",\n               params: {\n                 reload: true\n               }\n              });\n            }\n          } else {\n            if(param === 'push_direct_response_bot'){\n              this.$router.push({\n               name: \"Direct Response Bot\",\n               params: {\n                 reload: true\n               }\n              });\n            }\n          }\n        }).catch((e)=> {\n          this.open_bot_api_response_received = true;\n          if (param === null){\n            this.update_menu_list(menu);\n          }\n          if(param === 'push_direct_response_bot'){\n              this.$router.push({\n               name: \"Direct Response Bot\",\n               params: {\n                 reload: true\n               }\n              });\n            }\n          console.log(e);\n        });\n    },\n    call_api() {\n      this.user.date = moment().toISOString();\n      this.allowed_attempts_remaining = 0;\n      this.is_user_locked = false;\n      this.user_locked_date_allowed = null;\n      axios\n        .post(api_calls.login(), this.user)\n        .then((response) => {\n          this.redir(response.data);\n          this.mainspinnerOn = false;\n        })\n        .catch((e) => {\n          console.log(e)\n          this.login_button_spinner = false;\n          // document.getElementById(\"spinner\").style.opacity = \"0\";\n          $('button[type=\"submit\"]').prop(\"disabled\", false);\n          document.getElementById(\"body\").style.opacity = \"1\";\n        // $('button[type=\"submit\"]').prop(\"disabled\", false);\n          swal({\n            html: this.tlt('some_error_occurred_msg','code')+'<br>'+this.tlt('please_try_again_msg','code'),\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          // toastr.error(\"There is an internal server error.\");\n        });\n    },\n    update_menu_list(message) {\n      let menu = {};\n      let main_menu_list = message.filter(\n        (arr) => arr.IsMasterMenu == true && arr.Enabled == true\n      );\n      let main_menu_list_filtered = [];\n      let sub_menu_list = message.filter(\n        (arr) =>\n          arr.HasSubMenus == false &&\n          arr.Enabled == true &&\n          arr.IsSubMenu == true\n      );\n\n      for (let i = 0, n = main_menu_list.length; i < n; i += 1) {\n        let menuFilter = sidebaritems.filter((sidebar) => {\n          return (\n            sidebar.name === main_menu_list[i].MenuItem &&\n            Boolean(sidebar.svg_html)\n          );\n        });\n        if (menuFilter.length > 0) {\n          main_menu_list_filtered.push(menuFilter[0]);\n          menu[menuFilter[0].name] = {\n            main_menu: menuFilter[0],\n            sub_menu_list: [],\n          };\n        }\n      }\n      try {\n        for (let i = 0, n = sub_menu_list.length; i < n; i += 1) {\n          for (var j in sidebaritems) {\n            if (\n              sidebaritems[j].name === sub_menu_list[i].MenuItem &&\n              Boolean(sidebaritems[j].page_path && sidebaritems[j].master_menu === sub_menu_list[i].MasterMenu)\n            ) {\n              menu[sub_menu_list[i].MasterMenu].sub_menu_list.push(\n                sidebaritems[j]\n              );\n            }\n          }\n        }\n      } catch (e) {\n        console.log(e);\n        // debugger;\n      }\n      menu = Object.values(menu);\n\n      // for (let i = 0, n = message.length; i < n; i += 1) {\n      //   if (message[i].Enabled && message[i].IsMasterMenu) {\n      //     let menuFilter = sidebaritems.filter((sidebar) => {\n      //       return (\n      //         sidebar.name === message[i].MenuItem && Boolean(sidebar.svg_html)\n      //       );\n      //     });\n      //     if (menuFilter.length > 0) {\n      //       main_menu = menuFilter[0];\n      //     }\n      //   } else if (\n      //     message[i].HasSubMenus == false &&\n      //     message[i].Enabled &&\n      //     message[i].IsSubMenu &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     for (var j in sidebaritems) {\n      //       if (\n      //         sidebaritems[j].name === message[i].MenuItem &&\n      //         Boolean(sidebaritems[j].page_path)\n      //       ) {\n      //         submenus.push(sidebaritems[j]);\n      //       }\n      //     }\n      //   }\n      //   if (\n      //     i == n - 1 ||\n      //     (message[i].IsMasterMenu == true &&\n      //       message[i].HasSubMenus === false &&\n      //       !Boolean(message[i].IsSubMenu) &&\n      //       message[i].Enabled)\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   } else if (\n      //     i < n - 1 &&\n      //     message[i + 1].IsMasterMenu &&\n      //     (!Boolean(message[i + 1].IsSubMenu) ||\n      //       message[i + 1].HasSubMenus == true) &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   }\n      // }\n      this.$session.set(\"ChatbotMenu\", menu);\n      // while (!this.open_bot_api_response_received){\n        // this.$router.push(\"/bot/dashboard\");\n        this.$router.push({\n          name: \"Dashboard\",\n          params: {\n            is_free_trial:this.is_free_trial_expire\n          }\n        });\n      // }\n    },\n    async loginWithGoogle() {\n      try {\n        // first\n        // console.log(\"first\")\n        const googleUser = await this.$gAuth.signIn();\n        const google_keys = Object.keys(googleUser);\n        let profile = googleUser.getBasicProfile();\n        const keys = Object.keys(profile);\n        // console.log(googleUser);\n        // console.log(profile);\n        const sso_token = googleUser[google_keys[1]].id_token !== undefined\n            ? googleUser[google_keys[1]].id_token\n            : googleUser[google_keys[2]].id_token;\n        this.user.login_source = \"SSO\";\n        this.user.sso_source = \"google\";\n        this.user.sso_token = sso_token;\n        this.user.email = profile[keys[5]];\n        // console.log(this.user);\n        this.mainspinnerOn = true;\n        this.call_api();\n      } \n      catch (error) {\n        this.mainspinnerOn = false;\n        console.log(error);\n      }\n    },\n  },\n  computed: {\n    login_card_height(){\n      if((this.is_user_locked === true) || (this.allowed_attempts_remaining!=null && this.allowed_attempts_remaining > 0)) {\n        return \"login-card-tall\"\n      }\n      return \"login-card-default\"\n    }\n  }\n};\n</script>\n<style >\n .custom-select.is-valid, .form-control.is-valid, .was-validated .custom-select:valid, .was-validated .form-control:valid {\n    border-color: #53b9d0;\n}\n</style>\n<style scoped>\n.vl {\n  border-left: 1px solid #bbb;\n  font-size: 15px;\n}\n@media (min-width: 992px){\n  .container {\n    max-width: 960px;\n}\n}\n@media (min-width: 1200px){\n  .container {\n    max-width: 960px;\n}\n}\n.title-sec .white-btn {\n  text-transform: initial;\n  min-width: 170px;\n}\n.title-sec p {\n  font: normal normal normal 17px/27px Poppins;\n  opacity: 0.7;\n  font-weight: 300;\n}\n.white-btn {\n  font: normal normal 600 16px/27px Poppins;\n  color: #0E2A64;\n}\n.darkblue-btn {\n  border-radius: 30px;\n  width: 50%;\n  margin: auto;\n}\n.log-sec{\n    padding: 50px;\n    position: relative;\n    height: 100%;\n}\n.log-sec h2{\n  font: normal normal 600 28px/53px Poppins;\n  color: #0E2A64;\n  margin: 10px 0px 0px;\n}\n.form-group, .log-wrap form .radio {\n    margin: 0px 15px 15px;\n}\n.radio label {\n  font-size: 16px;\n}\n\n.view-fail {\n  position: absolute;\n  left: 12px;\n  top: 12px;\n  display: block;\n}\n\n.view-fail img {\n  width: 26px;\n  display: block;\n}\n\n.forgot {\n  font: normal normal normal 13px/20px Poppins;\n}\n.invalid{\n  border-color: red;\n}\n.ctct-us{\n  color: red;\n  text-decoration: underline;\n}\n.login-card-tall {\n  height: 510px\n}\n.login-card-default {\n  height: 450px;\n}\n</style>\n"]}]}