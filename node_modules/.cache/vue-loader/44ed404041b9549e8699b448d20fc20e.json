{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/MultiLineChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/MultiLineChart.vue","mtime":1643027096188},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzLTMiOwpleHBvcnQgZGVmYXVsdCB7CiAgICAgbmFtZTogIk11bHRpTGluZUNoYXJ0IiwKICAgIC8vIHByb3BzOiB7CiAgICAvLyAgICAgZGF0YTpBcnJheSwKICAgIC8vICAgICB4S2V5OiBTdHJpbmcsCiAgICAvLyAgICAgeUtleTogU3RyaW5nLAogICAgLy8gfSwKICBtb3VudGVkKCkgewogIC8vICAgICB2YXIgbXlEYXRhID0gImRhdGUJTmV3IFlvcmsJU2FuIEZyYW5jaXNjbwlBdXN0aW5cblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDEJNjMuNAk2Mi43CTcyLjJcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDIJNTguMAk1OS45CTY3LjdcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDMJNTMuMwk1OS4xCTY5LjRcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDQJNTUuNwk1OC44CTY4LjBcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDUJNjQuMgk1OC43CTcyLjRcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDYJNTguOAk1Ny4wCTc3LjBcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDcJNTcuOQk1Ni43CTgyLjNcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDgJNjEuOAk1Ni44CTc4LjlcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMDkJNjkuMwk1Ni43CTY4LjhcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTAJNzEuMgk2MC4xCTY4LjdcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTEJNjguNwk2MS4xCTcwLjNcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTIJNjEuOAk2MS41CTc1LjNcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTMJNjMuMAk2NC4zCTc2LjZcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTQJNjYuOQk2Ny4xCTY2LjZcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTUJNjEuNwk2NC42CTY4LjBcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTYJNjEuOAk2MS42CTcwLjZcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTcJNjIuOAk2MS4xCTcxLjFcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTgJNjAuOAk1OS4yCTcwLjBcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMTkJNjIuMQk1OC45CTYxLjZcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMjAJNjUuMQk1Ny4yCTU3LjRcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMjEJNTUuNgk1Ni40CTY0LjNcblwKICAvLyAgICAgICAgICAgICAgICAgICAgICAgMjAxMTEwMjIJNTQuNAk2MC43CTcyLjRcbiI7CiAgLy8gICB2YXIgbWFyZ2luID0gewogIC8vICAgICAgIHRvcDogMjAsCiAgLy8gICAgICAgcmlnaHQ6IDgwLAogIC8vICAgICAgIGJvdHRvbTogMzAsCiAgLy8gICAgICAgbGVmdDogNTAKICAvLyAgICAgfSwKICAvLyAgICAgd2lkdGggPSA5MDAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwKICAvLyAgICAgaGVpZ2h0ID0gNTAwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CgogIC8vICAgLy8gdmFyIHBhcnNlRGF0ZSA9IGQzLnRpbWVGb3JtYXQoIiVkLSViLSV5Iik7CiAgLy8gICB2YXIgcGFyc2VEYXRlID0gZDMudGltZVBhcnNlKCIlWS0lbS0lZCAlSDolTTolUyIpOwoKCiAgLy8gICB2YXIgeCA9IGQzLnNjYWxlVGltZSgpCiAgLy8gICAgIC5yYW5nZShbMCwgd2lkdGhdKTsKCiAgLy8gICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkKICAvLyAgICAgLnJhbmdlKFtoZWlnaHQsIDBdKTsKCiAgLy8gICAvLyB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCk7CiAgLy8gICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKS5yYW5nZShkMy5zY2hlbWVDYXRlZ29yeTEwKTsKCiAgLy8gICB2YXIgeEF4aXMgPSBkMy5heGlzQm90dG9tKCkKICAvLyAgIC5zY2FsZSh4KTsKCiAgLy8gICB2YXIgeUF4aXMgPSBkMy5heGlzTGVmdCgpCiAgLy8gICAuc2NhbGUoeSk7CgogIC8vICAgdmFyIGxpbmUgPSBkMy5saW5lKCkKICAvLyAgIC5jdXJ2ZShkMy5jdXJ2ZU1vbm90b25lWCkKICAvLyAgIC54KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC5kYXRlKTsgfSkKICAvLyAgIC55KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZC50ZW1wZXJhdHVyZSk7IH0pOwoKCgogIC8vICAgLy8gdmFyIGxpbmUgPSBkMy5saW5lKCkKICAvLyAgIC8vICAgICAuY3VydmUoZDMuY3VydmVNb25vdG9uZVgpCiAgLy8gICAvLyAgIC54KGZ1bmN0aW9uKGQpIHsKICAvLyAgIC8vICAgICByZXR1cm4geChkLmRhdGUpOwogIC8vICAgLy8gICB9KQogIC8vICAgLy8gICAueShmdW5jdGlvbihkKSB7CiAgLy8gICAvLyAgICAgcmV0dXJuIHkoZC50ZW1wZXJhdHVyZSk7CiAgLy8gICAvLyAgIH0pOwogIC8vICAgLy8gY29uc29sZS5sb2cobGluZSwibGluZSIpOwogIC8vICAgLy8gdmFyIGxpbmUgPSBkMy5saW5lKCkKICAvLyAgIC8vICAgLmludGVycG9sYXRlKCJiYXNpcyIpCiAgLy8gICAvLyAgIC54KGZ1bmN0aW9uKGQpIHsKICAvLyAgIC8vICAgICByZXR1cm4geChkLmRhdGUpOwogIC8vICAgLy8gICB9KQogIC8vICAgLy8gICAueShmdW5jdGlvbihkKSB7CiAgLy8gICAvLyAgICAgcmV0dXJuIHkoZC50ZW1wZXJhdHVyZSk7CiAgLy8gICAvLyAgIH0pOwoKICAvLyAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNtdWx0aWxpbmVjaGFydCIpLmFwcGVuZCgic3ZnIikKICAvLyAgICAgLmF0dHIoIndpZHRoIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCkKICAvLyAgICAgLmF0dHIoImhlaWdodCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKQogIC8vICAgICAuYXBwZW5kKCJnIikKICAvLyAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIG1hcmdpbi5sZWZ0ICsgIiwiICsgbWFyZ2luLnRvcCArICIpIik7CgogIC8vICAgdmFyIGRhdGEgPSBkMy50c3ZQYXJzZShteURhdGEpOwogIC8vICAgLy8gY29uc29sZS5sb2coZGF0YSk7CgoKCiAgLy8gICBjb2xvci5kb21haW4oZDMua2V5cyhkYXRhWzBdKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7CiAgLy8gICAgIHJldHVybiBrZXkgIT09ICJkYXRlIjsKICAvLyAgIH0pKTsKICAvLyAgIC8vIGNvbnN0IGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKCkKICAvLyAgIC8vIC5kb21haW4oZDMua2V5cyhkYXRhWzBdKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7CiAgLy8gICAvLyAgIHJldHVybiBrZXkgIT09ICJkYXRlIjsKICAvLyAgIC8vIH0pKS5yYW5nZShkMy5xdWFudGl6ZSh0ID0+IGQzLmludGVycG9sYXRlQ3ViZWhlbGl4RGVmYXVsdCAgKHQgKiAwLjggKyAwLjEpLCBkYXRhLmxlbmd0aCkucmV2ZXJzZSgpKTsKCiAgLy8gICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZCkgewogIC8vICAgICBkLmRhdGUgPSBwYXJzZURhdGUoZC5kYXRlKTsKICAvLyAgIH0pOwoKICAvLyAgIHZhciBjaXRpZXMgPSBjb2xvci5kb21haW4oKS5tYXAoZnVuY3Rpb24obmFtZSkgewogIC8vICAgICByZXR1cm4gewogIC8vICAgICAgIG5hbWU6IG5hbWUsCiAgLy8gICAgICAgdmFsdWVzOiBkYXRhLm1hcChmdW5jdGlvbihkKSB7CiAgLy8gICAgICAgICByZXR1cm4gewogIC8vICAgICAgICAgICBkYXRlOiBkLmRhdGUsCiAgLy8gICAgICAgICAgIHRlbXBlcmF0dXJlOiArZFtuYW1lXQogIC8vICAgICAgICAgfTsKICAvLyAgICAgICB9KQogIC8vICAgICB9OwogIC8vICAgfSk7CiAgLy8gICAvLyBjb25zb2xlLmxvZyhjaXRpZXMpOwoKICAvLyAgIHguZG9tYWluKGQzLmV4dGVudChkYXRhLCBmdW5jdGlvbihkKSB7CiAgLy8gICAgIHJldHVybiBkLmRhdGU7CiAgLy8gICB9KSk7CgogIC8vICAgeS5kb21haW4oWwogIC8vICAgICBkMy5taW4oY2l0aWVzLCBmdW5jdGlvbihjKSB7CiAgLy8gICAgICAgcmV0dXJuIGQzLm1pbihjLnZhbHVlcywgZnVuY3Rpb24odikgewogIC8vICAgICAgICAgcmV0dXJuIHYudGVtcGVyYXR1cmU7CiAgLy8gICAgICAgfSk7CiAgLy8gICAgIH0pLAogIC8vICAgICBkMy5tYXgoY2l0aWVzLCBmdW5jdGlvbihjKSB7CiAgLy8gICAgICAgcmV0dXJuIGQzLm1heChjLnZhbHVlcywgZnVuY3Rpb24odikgewogIC8vICAgICAgICAgcmV0dXJuIHYudGVtcGVyYXR1cmU7CiAgLy8gICAgICAgfSk7CiAgLy8gICAgIH0pCiAgLy8gICBdKTsKCiAgLy8gICB2YXIgbGVnZW5kID0gc3ZnLnNlbGVjdEFsbCgnZycpCiAgLy8gICAgIC5kYXRhKGNpdGllcykKICAvLyAgICAgLmVudGVyKCkKICAvLyAgICAgLmFwcGVuZCgnZycpCiAgLy8gICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKTsKCiAgLy8gICBsZWdlbmQuYXBwZW5kKCdyZWN0JykKICAvLyAgICAgLmF0dHIoJ3gnLCB3aWR0aCAtIDIwKQogIC8vICAgICAuYXR0cigneScsIGZ1bmN0aW9uKGQsIGkpIHsKICAvLyAgICAgICByZXR1cm4gaSAqIDIwOwogIC8vICAgICB9KQogIC8vICAgICAuYXR0cignd2lkdGgnLCAxMCkKICAvLyAgICAgLmF0dHIoJ2hlaWdodCcsIDEwKQogIC8vICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbihkKSB7CiAgLy8gICAgICAgcmV0dXJuIGNvbG9yKGQubmFtZSk7CiAgLy8gICAgIH0pOwoKICAvLyAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKQogIC8vICAgICAuYXR0cigneCcsIHdpZHRoIC0gOCkKICAvLyAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbihkLCBpKSB7CiAgLy8gICAgICAgcmV0dXJuIChpICogMjApICsgOTsKICAvLyAgICAgfSkKICAvLyAgICAgLnRleHQoZnVuY3Rpb24oZCkgewogIC8vICAgICAgIHJldHVybiBkLm5hbWU7CiAgLy8gICAgIH0pOwoKICAvLyAgIHN2Zy5hcHBlbmQoImciKQogIC8vICAgICAuYXR0cigiY2xhc3MiLCAieCBheGlzIikKICAvLyAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgaGVpZ2h0ICsgIikiKQogIC8vICAgICAuY2FsbCh4QXhpcyk7CgogIC8vICAgc3ZnLmFwcGVuZCgiZyIpCiAgLy8gICAgIC5hdHRyKCJjbGFzcyIsICJ5IGF4aXMiKQogIC8vICAgICAuY2FsbCh5QXhpcykKICAvLyAgICAgLmFwcGVuZCgidGV4dCIpCiAgLy8gICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAicm90YXRlKC05MCkiKQogIC8vICAgICAuYXR0cigieSIsIDYpCiAgLy8gICAgIC5hdHRyKCJkeSIsICIuNzFlbSIpCiAgLy8gICAgIC5zdHlsZSgidGV4dC1hbmNob3IiLCAiZW5kIikKICAvLyAgICAgLnRleHQoIlRlbXBlcmF0dXJlICjCukYpIik7CgogIC8vICAgdmFyIGNpdHkgPSBzdmcuc2VsZWN0QWxsKCIuY2l0eSIpCiAgLy8gICAgIC5kYXRhKGNpdGllcykKICAvLyAgICAgLmVudGVyKCkuYXBwZW5kKCJnIikKICAvLyAgICAgLmF0dHIoImNsYXNzIiwgImNpdHkiKTsKCiAgLy8gICBjaXR5LmFwcGVuZCgicGF0aCIpCiAgLy8gICAgIC5hdHRyKCJjbGFzcyIsICJsaW5lIikKICAvLyAgICAgLmF0dHIoImQiLCBmdW5jdGlvbihkKSB7CiAgLy8gICAgICAgICBjb25zb2xlLmxvZygoZC52YWx1ZXMpKTsKICAvLyAgICAgICByZXR1cm4gbGluZShkLnZhbHVlcyk7CiAgLy8gICAgIH0pCiAgLy8gICAgIC5zdHlsZSgic3Ryb2tlIiwgZnVuY3Rpb24oZCkgewogIC8vICAgICAgIHJldHVybiBjb2xvcihkLm5hbWUpOwogIC8vICAgICB9KTsKCiAgLy8gICBjaXR5LmFwcGVuZCgidGV4dCIpCiAgLy8gICAgIC5kYXR1bShmdW5jdGlvbihkKSB7CiAgLy8gICAgICAgcmV0dXJuIHsKICAvLyAgICAgICAgIG5hbWU6IGQubmFtZSwKICAvLyAgICAgICAgIHZhbHVlOiBkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGggLSAxXQogIC8vICAgICAgIH07CiAgLy8gICAgIH0pCiAgLy8gICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkKSB7CiAgLy8gICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIHgoZC52YWx1ZS5kYXRlKSArICIsIiArIHkoZC52YWx1ZS50ZW1wZXJhdHVyZSkgKyAiKSI7CiAgLy8gICAgIH0pCiAgLy8gICAgIC5hdHRyKCJ4IiwgMykKICAvLyAgICAgLmF0dHIoImR5IiwgIi4zNWVtIikKICAvLyAgICAgLnRleHQoZnVuY3Rpb24oZCkgewogIC8vICAgICAgIHJldHVybiBkLm5hbWU7CiAgLy8gICAgIH0pOwoKICAvLyAgIHZhciBtb3VzZUcgPSBzdmcuYXBwZW5kKCJnIikKICAvLyAgICAgLmF0dHIoImNsYXNzIiwgIm1vdXNlLW92ZXItZWZmZWN0cyIpOwoKICAvLyAgIG1vdXNlRy5hcHBlbmQoInBhdGgiKSAvLyB0aGlzIGlzIHRoZSBibGFjayB2ZXJ0aWNhbCBsaW5lIHRvIGZvbGxvdyBtb3VzZQogIC8vICAgICAuYXR0cigiY2xhc3MiLCAibW91c2UtbGluZSIpCiAgLy8gICAgIC5zdHlsZSgic3Ryb2tlIiwgImJsYWNrIikKICAvLyAgICAgLnN0eWxlKCJzdHJva2Utd2lkdGgiLCAiMXB4IikKICAvLyAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKTsKICAgICAgCiAgLy8gICB2YXIgbGluZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsaW5lJyk7CgogIC8vICAgdmFyIG1vdXNlUGVyTGluZSA9IG1vdXNlRy5zZWxlY3RBbGwoJy5tb3VzZS1wZXItbGluZScpCiAgLy8gICAgIC5kYXRhKGNpdGllcykKICAvLyAgICAgLmVudGVyKCkKICAvLyAgICAgLmFwcGVuZCgiZyIpCiAgLy8gICAgIC5hdHRyKCJjbGFzcyIsICJtb3VzZS1wZXItbGluZSIpOwoKICAvLyAgIG1vdXNlUGVyTGluZS5hcHBlbmQoImNpcmNsZSIpCiAgLy8gICAgIC5hdHRyKCJyIiwgNykKICAvLyAgICAgLnN0eWxlKCJzdHJva2UiLCBmdW5jdGlvbihkKSB7CiAgLy8gICAgICAgcmV0dXJuIGNvbG9yKGQubmFtZSk7CiAgLy8gICAgIH0pCiAgLy8gICAgIC5zdHlsZSgiZmlsbCIsICJub25lIikKICAvLyAgICAgLnN0eWxlKCJzdHJva2Utd2lkdGgiLCAiMXB4IikKICAvLyAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKTsKCiAgLy8gICBtb3VzZVBlckxpbmUuYXBwZW5kKCJ0ZXh0IikKICAvLyAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMTAsMykiKTsKCiAgLy8gICBtb3VzZUcuYXBwZW5kKCdzdmc6cmVjdCcpIC8vIGFwcGVuZCBhIHJlY3QgdG8gY2F0Y2ggbW91c2UgbW92ZW1lbnRzIG9uIGNhbnZhcwogIC8vICAgICAuYXR0cignd2lkdGgnLCB3aWR0aCkgLy8gY2FuJ3QgY2F0Y2ggbW91c2UgZXZlbnRzIG9uIGEgZyBlbGVtZW50CiAgLy8gICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpCiAgLy8gICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKQogIC8vICAgICAuYXR0cigncG9pbnRlci1ldmVudHMnLCAnYWxsJykKICAvLyAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkgeyAvLyBvbiBtb3VzZSBvdXQgaGlkZSBsaW5lLCBjaXJjbGVzIGFuZCB0ZXh0CiAgLy8gICAgICAgZDMuc2VsZWN0KCIubW91c2UtbGluZSIpCiAgLy8gICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMCIpOwogIC8vICAgICAgIGQzLnNlbGVjdEFsbCgiLm1vdXNlLXBlci1saW5lIGNpcmNsZSIpCiAgLy8gICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMCIpOwogIC8vICAgICAgIGQzLnNlbGVjdEFsbCgiLm1vdXNlLXBlci1saW5lIHRleHQiKQogIC8vICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKTsKICAvLyAgICAgfSkKICAvLyAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHsgLy8gb24gbW91c2UgaW4gc2hvdyBsaW5lLCBjaXJjbGVzIGFuZCB0ZXh0CiAgLy8gICAgICAgZDMuc2VsZWN0KCIubW91c2UtbGluZSIpCiAgLy8gICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMSIpOwogIC8vICAgICAgIGQzLnNlbGVjdEFsbCgiLm1vdXNlLXBlci1saW5lIGNpcmNsZSIpCiAgLy8gICAgICAgICAuc3R5bGUoIm9wYWNpdHkiLCAiMSIpOwogIC8vICAgICAgIGQzLnNlbGVjdEFsbCgiLm1vdXNlLXBlci1saW5lIHRleHQiKQogIC8vICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjEiKTsKICAvLyAgICAgfSkKICAvLyAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbigpIHsgLy8gbW91c2UgbW92aW5nIG92ZXIgY2FudmFzCiAgLy8gICAgICAgdmFyIG1vdXNlID0gZDMubW91c2UodGhpcyk7CiAgLy8gICAgICAgZDMuc2VsZWN0KCIubW91c2UtbGluZSIpCiAgLy8gICAgICAgICAuYXR0cigiZCIsIGZ1bmN0aW9uKCkgewogIC8vICAgICAgICAgICB2YXIgZCA9ICJNIiArIG1vdXNlWzBdICsgIiwiICsgaGVpZ2h0OwogIC8vICAgICAgICAgICBkICs9ICIgIiArIG1vdXNlWzBdICsgIiwiICsgMDsKICAvLyAgICAgICAgICAgcmV0dXJuIGQ7CiAgLy8gICAgICAgICB9KTsKCiAgLy8gICAgICAgZDMuc2VsZWN0QWxsKCIubW91c2UtcGVyLWxpbmUiKQogIC8vICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uKGQsIGkpIHsKICAvLyAgICAgICAgICAgLy8gY29uc29sZS5sb2cod2lkdGgvbW91c2VbMF0pCiAgLy8gICAgICAgICAgIHZhciB4RGF0ZSA9IHguaW52ZXJ0KG1vdXNlWzBdKSwKICAvLyAgICAgICAgICAgICAgIGJpc2VjdCA9IGQzLmJpc2VjdG9yKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuZGF0ZTsgfSkucmlnaHQ7CiAgLy8gICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkLCJkYXRhLWQiKQogIC8vICAgICAgICAgICAgICAgaWR4ID0gYmlzZWN0KGQudmFsdWVzLCB4RGF0ZSk7CiAgICAgICAgICAgIAogIC8vICAgICAgICAgICB2YXIgYmVnaW5uaW5nID0gMCwKICAvLyAgICAgICAgICAgICAgIGVuZCA9IGxpbmVzW2ldLmdldFRvdGFsTGVuZ3RoKCksCiAgLy8gICAgICAgICAgICAgICB0YXJnZXQgPSBudWxsOwoKICAvLyAgICAgICAgICAgd2hpbGUgKHRydWUpewogIC8vICAgICAgICAgICAgIHRhcmdldCA9IE1hdGguZmxvb3IoKGJlZ2lubmluZyArIGVuZCkgLyAyKTsKICAvLyAgICAgICAgICAgICBwb3MgPSBsaW5lc1tpXS5nZXRQb2ludEF0TGVuZ3RoKHRhcmdldCk7CiAgLy8gICAgICAgICAgICAgaWYgKCh0YXJnZXQgPT09IGVuZCB8fCB0YXJnZXQgPT09IGJlZ2lubmluZykgJiYgcG9zLnggIT09IG1vdXNlWzBdKSB7CiAgLy8gICAgICAgICAgICAgICAgIGJyZWFrOwogIC8vICAgICAgICAgICAgIH0KICAvLyAgICAgICAgICAgICBpZiAocG9zLnggPiBtb3VzZVswXSkgICAgICBlbmQgPSB0YXJnZXQ7CiAgLy8gICAgICAgICAgICAgZWxzZSBpZiAocG9zLnggPCBtb3VzZVswXSkgYmVnaW5uaW5nID0gdGFyZ2V0OwogIC8vICAgICAgICAgICAgIGVsc2UgYnJlYWs7IC8vcG9zaXRpb24gZm91bmQKICAvLyAgICAgICAgICAgfQogICAgICAgICAgICAKICAvLyAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnNlbGVjdCgndGV4dCcpCiAgLy8gICAgICAgICAgICAgLnRleHQoeS5pbnZlcnQocG9zLnkpLnRvRml4ZWQoMikpOwogICAgICAgICAgICAgIAogIC8vICAgICAgICAgICByZXR1cm4gInRyYW5zbGF0ZSgiICsgbW91c2VbMF0gKyAiLCIgKyBwb3MueSArIikiOwogIC8vICAgICAgICAgfSk7CiAgLy8gICAgIH0pOwoKCiAgLy8gICAvLyNyZWdpb24gIAoKICAgIHZhciBwYXJzZURhdGUgPSBkMy50aW1lLmZvcm1hdCgiJWIiKS5wYXJzZTsKCgogICAgdmFyIGFwaV9kYXRhID0gCiAgICAgICAgWwogICAgICAgICAgICB7IlNBTEVTIjoxMzQwLjQ1MDQxOTk5OTk5OSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiVGh1LCAxNyBNYXIgMjAxNiAxMDoxODo0NyBHTVQiLCJDQVRFR09SWSI6IlN0b25lZnJ1aXRzIiwiTU9OVEgiOiIwMyJ9LAogICAgICAgICAgICB7IlNBTEVTIjoxNzAuOTAxOTQwMDAwMDAwMDUsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlRodSwgMTcgTWFyIDIwMTYgMTE6NTM6MTIgR01UIiwiQ0FURUdPUlkiOiJDdWN1bWJlcnMiLCJNT05USCI6IjAzIn0sCiAgICAgICAgICAgIHsiU0FMRVMiOjc0Ljc5OTk5OTk5OTk5OTk4LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJGcmksIDE4IE1hciAyMDE2IDEyOjEzOjU1IEdNVCIsIkNBVEVHT1JZIjoiU3JpIExhbmthbiBHcm9jZXJpZXMiLCJNT05USCI6IjAzIn0sCiAgICAgICAgICAgIHsiU0FMRVMiOjYyLjkzOTM2MDAwMDAwMDAxLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTYXQsIDE5IE1hciAyMDE2IDE5OjQyOjEwIEdNVCIsIkNBVEVHT1JZIjoiVmVnZ2llcyIsIk1PTlRIIjoiMDMifSwKICAgICAgICAgICAgeyJTQUxFUyI6MjE4LjQ3Nzg4MDAwMDAwMDEsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMjAgTWFyIDIwMTYgMTc6MTI6MDYgR01UIiwiQ0FURUdPUlkiOiJNdXNocm9vbXMiLCJNT05USCI6IjAzIn0sCiAgICAgICAgICAgIHsiU0FMRVMiOjI2Mi41OTk1MjM2MzYzNjM4LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTdW4sIDIwIE1hciAyMDE2IDE3OjM0OjIyIEdNVCIsIkNBVEVHT1JZIjoiVHJvcGljYWwgRnJ1aXRzIiwiTU9OVEgiOiIwMyJ9LAogICAgICAgICAgICB7IlNBTEVTIjo2OS41OTMyMDAwMDAwMDAwMSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiU3VuLCAyMCBNYXIgMjAxNiAxOTowMjoxNSBHTVQiLCJDQVRFR09SWSI6IkNhYmJhZ2VzIiwiTU9OVEgiOiIwMyJ9LAogICAgICAgICAgICB7IlNBTEVTIjo2NzEuODM0OTYwMDAwMDAwNSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiV2VkLCAyMyBNYXIgMjAxNiAwMTowNDowNiBHTVQiLCJDQVRFR09SWSI6IkJhbmFuYXMiLCJNT05USCI6IjAzIn0sCiAgICAgICAgICAgIHsiU0FMRVMiOjExNi4yMDEyODU0NTQ1NDU0NywiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiV2VkLCAyMyBNYXIgMjAxNiAwMTozNToxMyBHTVQiLCJDQVRFR09SWSI6Ik51dHMiLCJNT05USCI6IjAzIn0sCiAgICAgICAgICAgIHsiU0FMRVMiOjI5NS4yMDAwMDAwMDAwMDAyLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJXZWQsIDIzIE1hciAyMDE2IDA0OjMxOjE3IEdNVCIsIkNBVEVHT1JZIjoiQXZvY2Fkb2VzIiwiTU9OVEgiOiIwMyJ9LAogICAgICAgICAgICB7IlNBTEVTIjo0Ny41LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUaHUsIDI0IE1hciAyMDE2IDAzOjEzOjA3IEdNVCIsIkNBVEVHT1JZIjoiSGVyYnMiLCJNT05USCI6IjAzIn0sCiAgICAgICAgICAgIHsiU0FMRVMiOjE2OS4yMDI1NjAwMDAwMDAwMywiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiVGh1LCAyNCBNYXIgMjAxNiAwNDoxMjozMiBHTVQiLCJDQVRFR09SWSI6IlB1bXBraW5zIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjMwNy42NDk5OTk5OTk5OTk3LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUaHUsIDI0IE1hciAyMDE2IDA0OjQzOjU5IEdNVCIsIkNBVEVHT1JZIjoiRWdncyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjo5NzUuMTIwMDU0NTQ1NDU1MywiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiVGh1LCAyNCBNYXIgMjAxNiAwNToyMjo1MCBHTVQiLCJDQVRFR09SWSI6Ik90aGVyIFZlZ2llcyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjoxMTIuNDQ0NywiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiRnJpLCAyNSBNYXIgMjAxNiAwMTo0ODo0NSBHTVQiLCJDQVRFR09SWSI6IkNoaWxsaWVzIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjU5Ny4wOTA1MzYzNjM2MzY1LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJGcmksIDI1IE1hciAyMDE2IDAzOjI4OjAzIEdNVCIsIkNBVEVHT1JZIjoiQ2l0cnVzIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjE2Ni44MTIsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IkZyaSwgMjUgTWFyIDIwMTYgMDM6NTA6MDggR01UIiwiQ0FURUdPUlkiOiJjYXJyb3RzIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjM2MC45MjEwNiwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiRnJpLCAyNSBNYXIgMjAxNiAwNDo0MToxOSBHTVQiLCJDQVRFR09SWSI6ImNhcHNpY3VtIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjU3Ljg4MzYzNjM2MzYzNjM3LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTYXQsIDI2IE1hciAyMDE2IDIyOjUxOjI3IEdNVCIsIkNBVEVHT1JZIjoiT3RoZXIgRnJ1aXRzIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjg4NC40NDExMTk5OTk5OTk3LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTYXQsIDI2IE1hciAyMDE2IDIzOjM3OjM4IEdNVCIsIkNBVEVHT1JZIjoiUG90YXRvZXMiLCJNT05USCI6IjAzIn0seyJTQUxFUyI6MzA0LjkyNTQ2MDAwMDAwMDA0LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTdW4sIDI3IE1hciAyMDE2IDAwOjI1OjA3IEdNVCIsIkNBVEVHT1JZIjoiUGVhcnMiLCJNT05USCI6IjAzIn0seyJTQUxFUyI6MzAzLjIyNjAwMDAwMDAwMDQsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMjcgTWFyIDIwMTYgMDA6Mjg6NTAgR01UIiwiQ0FURUdPUlkiOiJCdW5jaCBWZWdpZXMiLCJNT05USCI6IjAzIn0seyJTQUxFUyI6NjIwLjY2NzM5OTk5OTk5OTcsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMjcgTWFyIDIwMTYgMDE6MDg6MDMgR01UIiwiQ0FURUdPUlkiOiJUb21hdG9lcyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjo2MjkuODUxNjgwMDAwMDAwNCwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiU3VuLCAyNyBNYXIgMjAxNiAwMTo0NTo1OCBHTVQiLCJDQVRFR09SWSI6IkFwcGxlcyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjozNzIuODIwOTk5OTk5OTk5MjMsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMjcgTWFyIDIwMTYgMDM6Mzg6MTYgR01UIiwiQ0FURUdPUlkiOiJMZXR0dWNlcyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjoxNTQuNDg1LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTdW4sIDI3IE1hciAyMDE2IDIzOjA4OjQwIEdNVCIsIkNBVEVHT1JZIjoiTXVsdGkgYnV5IiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjM4Ny45MTU3OTk5OTk5OTk5LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJNb24sIDI4IE1hciAyMDE2IDAyOjE1OjExIEdNVCIsIkNBVEVHT1JZIjoiTWVsb25zIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjE4MC4yMTcyNzI3MjcyNzI4LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJNb24sIDI4IE1hciAyMDE2IDIyOjU5OjM0IEdNVCIsIkNBVEVHT1JZIjoiT2x5bXBpYW4gUHJvZHVjdHMiLCJNT05USCI6IjAzIn0seyJTQUxFUyI6NjMzLjM2ODI0MzYzNjM2MzgsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6Ik1vbiwgMjggTWFyIDIwMTYgMjM6NTc6MjggR01UIiwiQ0FURUdPUlkiOiJPbmlvbnMiLCJNT05USCI6IjAzIn0seyJTQUxFUyI6ODU0LjMwMDk2LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJXZWQsIDMwIE1hciAyMDE2IDAzOjAyOjA5IEdNVCIsIkNBVEVHT1JZIjoiR3JhcGVzIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjEwOC4wLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJXZWQsIDMwIE1hciAyMDE2IDA0OjE1OjU5IEdNVCIsIkNBVEVHT1JZIjoiRmxvd2VycyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjo4Ny4xMDc0MTk5OTk5OTk5OSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiV2VkLCAzMCBNYXIgMjAxNiAyMTo0MDoxNSBHTVQiLCJDQVRFR09SWSI6IlJvb3QgVmVnaWVzIiwiTU9OVEgiOiIwMyJ9LHsiU0FMRVMiOjczLjcsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlRodSwgMzEgTWFyIDIwMTYgMDA6MjM6NTAgR01UIiwiQ0FURUdPUlkiOiJDdXQgVmVnZ2llcyIsIk1PTlRIIjoiMDMifSx7IlNBTEVTIjoyMTYuNTA0MTAwMDAwMDAwMDIsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlRodSwgMzEgTWFyIDIwMTYgMDE6Mjc6NDMgR01UIiwiQ0FURUdPUlkiOiJBc2lhbiBWZWdpZXMiLCJNT05USCI6IjAzIn0seyJTQUxFUyI6MTY3Ljg3OTk5OTk5OTk5OTk3LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUaHUsIDMxIE1hciAyMDE2IDAxOjU5OjA3IEdNVCIsIkNBVEVHT1JZIjoiQmVycmllcyIsIk1PTlRIIjoiMDMifSwKICAgICAgICAgICAgeyJTQUxFUyI6NjAyLjIyNTk0NTQ1NDU0NTgsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IkZyaSwgMDEgQXByIDIwMTYgMDA6MjY6MjMgR01UIiwiQ0FURUdPUlkiOiJDaXRydXMiLCJNT05USCI6IjA0In0sCiAgICAgICAgICAgIHsiU0FMRVMiOjk2NC4wNTI3ODAwMDAwMDA4LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJGcmksIDAxIEFwciAyMDE2IDAwOjQxOjAxIEdNVCIsIkNBVEVHT1JZIjoiT3RoZXIgVmVnaWVzIiwiTU9OVEgiOiIwNCJ9LAogICAgICAgICAgICB7IlNBTEVTIjoxMDcuODc5OTk5OTk5OTk5OTgsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IkZyaSwgMDEgQXByIDIwMTYgMDQ6NTA6MjQgR01UIiwiQ0FURUdPUlkiOiJDYWJiYWdlcyIsIk1PTlRIIjoiMDQifSwKICAgICAgICAgICAgeyJTQUxFUyI6ODYuNTU1NiwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiRnJpLCAwMSBBcHIgMjAxNiAwNDo1MDoyNCBHTVQiLCJDQVRFR09SWSI6IlJvb3QgVmVnaWVzIiwiTU9OVEgiOiIwNCJ9LAogICAgICAgICAgICB7IlNBTEVTIjo2NzUuOTI5OTAwMDAwMDAwMiwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiRnJpLCAwMSBBcHIgMjAxNiAwNDo1NToyNCBHTVQiLCJDQVRFR09SWSI6IkJhbmFuYXMiLCJNT05USCI6IjA0In0sCiAgICAgICAgICAgIHsiU0FMRVMiOjE5Ny4yMDgwODAwMDAwMDAwNSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiRnJpLCAwMSBBcHIgMjAxNiAwODowNjoyNiBHTVQiLCJDQVRFR09SWSI6IkFzaWFuIFZlZ2llcyIsIk1PTlRIIjoiMDQifSwKICAgICAgICAgICAgeyJTQUxFUyI6MTA4LjAsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IkZyaSwgMDEgQXByIDIwMTYgMjE6NTI6MTIgR01UIiwiQ0FURUdPUlkiOiJGbG93ZXJzIiwiTU9OVEgiOiIwNCJ9LAogICAgICAgICAgICB7IlNBTEVTIjoxNS4yMDAwMDAwMDAwMDAwMDMsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlNhdCwgMDIgQXByIDIwMTYgMDA6MjI6MTQgR01UIiwiQ0FURUdPUlkiOiJTcmkgTGFua2FuIEdyb2NlcmllcyIsIk1PTlRIIjoiMDQifSwKICAgICAgICAgICAgeyJTQUxFUyI6MTE4LjYzMjAwMDAwMDAwMDA5LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTYXQsIDAyIEFwciAyMDE2IDAwOjIyOjE0IEdNVCIsIkNBVEVHT1JZIjoiY2Fycm90cyIsIk1PTlRIIjoiMDQifSwKICAgICAgICAgICAgeyJTQUxFUyI6MTI5LjAsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMDMgQXByIDIwMTYgMDA6MDA6NTIgR01UIiwiQ0FURUdPUlkiOiJNdWx0aSBidXkiLCJNT05USCI6IjA0In0sCiAgICAgICAgICAgIHsiU0FMRVMiOjE3NC4xNzUwODAwMDAwMDAwNCwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiU3VuLCAwMyBBcHIgMjAxNiAwMDowMDo1MiBHTVQiLCJDQVRFR09SWSI6ImNhcHNpY3VtIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjIzMC41NjI3MjcyNzI3MjczMywiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiU3VuLCAwMyBBcHIgMjAxNiAwMDozNDoxOSBHTVQiLCJDQVRFR09SWSI6Ik9seW1waWFuIFByb2R1Y3RzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjk2Ljg0NjE0NzI3MjcyNzI4LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTdW4sIDAzIEFwciAyMDE2IDAwOjM3OjQ5IEdNVCIsIkNBVEVHT1JZIjoiTnV0cyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjo0MzkuMTA4OTY1NDU0NTQ1MzQsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMDMgQXByIDIwMTYgMDE6NDI6MTggR01UIiwiQ0FURUdPUlkiOiJUb21hdG9lcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjo1MTIuMDU2OTIwMDAwMDAwMSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiU3VuLCAwMyBBcHIgMjAxNiAwMjo0NDo1OSBHTVQiLCJDQVRFR09SWSI6IkdyYXBlcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjoxNTEuMDQ3OSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiU3VuLCAwMyBBcHIgMjAxNiAwMjo1MzowMCBHTVQiLCJDQVRFR09SWSI6IlB1bXBraW5zIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjQzLjAsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMDMgQXByIDIwMTYgMDI6NTM6MDAgR01UIiwiQ0FURUdPUlkiOiJDdXQgVmVnZ2llcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjoxMzcuODA2MDc5OTk5OTk5OTUsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlN1biwgMDMgQXByIDIwMTYgMDY6MDk6NTAgR01UIiwiQ0FURUdPUlkiOiJDdWN1bWJlcnMiLCJNT05USCI6IjA0In0seyJTQUxFUyI6MTE5LjAxNDUsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6Ik1vbiwgMDQgQXByIDIwMTYgMDE6MTg6MDAgR01UIiwiQ0FURUdPUlkiOiJDaGlsbGllcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjoyNzYuMTAwODc5OTk5OTk5OSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiTW9uLCAwNCBBcHIgMjAxNiAwMTo0NjowMSBHTVQiLCJDQVRFR09SWSI6Ik11c2hyb29tcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjoyMDIuODg0NzQwMDAwMDAwMDgsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6Ik1vbiwgMDQgQXByIDIwMTYgMDM6NTI6MDggR01UIiwiQ0FURUdPUlkiOiJNZWxvbnMiLCJNT05USCI6IjA0In0seyJTQUxFUyI6MTMxLjM1Mjc2LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUdWUsIDA1IEFwciAyMDE2IDAxOjQ2OjQyIEdNVCIsIkNBVEVHT1JZIjoiVHJvcGljYWwgRnJ1aXRzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjkwLjU1ODE4MTgxODE4MTgxLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUdWUsIDA1IEFwciAyMDE2IDA0OjAxOjA3IEdNVCIsIkNBVEVHT1JZIjoiT3RoZXIgRnJ1aXRzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjE4Ny42MzIyNTk5OTk5OTk5MiwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiVHVlLCAwNSBBcHIgMjAxNiAwNDo0OToyNiBHTVQiLCJDQVRFR09SWSI6IlBlYXJzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjQ5Ni4zNzgwODAwMDAwMDAzLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUdWUsIDA1IEFwciAyMDE2IDA1OjAwOjI5IEdNVCIsIkNBVEVHT1JZIjoiT25pb25zIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjIwLjQ0MTc0LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUdWUsIDA1IEFwciAyMDE2IDIyOjM2OjM0IEdNVCIsIkNBVEVHT1JZIjoiVmVnZ2llcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjo2NDIuODIxOTQwMDAwMDAwMiwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiV2VkLCAwNiBBcHIgMjAxNiAwMjoxNjoxMyBHTVQiLCJDQVRFR09SWSI6IlBvdGF0b2VzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjI3NS44MDAwMDAwMDAwMDAyLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJXZWQsIDA2IEFwciAyMDE2IDAzOjI2OjUyIEdNVCIsIkNBVEVHT1JZIjoiQXZvY2Fkb2VzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjM5Ljk2LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJXZWQsIDA2IEFwciAyMDE2IDAzOjI3OjU4IEdNVCIsIkNBVEVHT1JZIjoiR3JvY2VyaWVzLURyeSBHb29kcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjo2MTguOTY1Nzc5OTk5OTk5NywiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiV2VkLCAwNiBBcHIgMjAxNiAwNDo0Nzo1MyBHTVQiLCJDQVRFR09SWSI6IlN0b25lZnJ1aXRzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjM0OC41MTIwMDAwMDAwMDAyLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUaHUsIDA3IEFwciAyMDE2IDAyOjQ1OjEzIEdNVCIsIkNBVEVHT1JZIjoiTGV0dHVjZXMiLCJNT05USCI6IjA0In0seyJTQUxFUyI6MjkzLjEwMDAwMDAwMDAwMDI1LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJUaHUsIDA3IEFwciAyMDE2IDAzOjI0OjQ4IEdNVCIsIkNBVEVHT1JZIjoiQnVuY2ggVmVnaWVzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjIyNy4zNDk5OTk5OTk5OTk4NSwiWUVBUiI6IjIwMTYiLCJEQVRFTkVXIjoiRnJpLCAwOCBBcHIgMjAxNiAwMTowNDo0NCBHTVQiLCJDQVRFR09SWSI6IkVnZ3MiLCJNT05USCI6IjA0In0seyJTQUxFUyI6MTM4Ljk3MTk5OTk5OTk5OTk4LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJGcmksIDA4IEFwciAyMDE2IDA0OjIxOjU0IEdNVCIsIkNBVEVHT1JZIjoiSGVyYnMiLCJNT05USCI6IjA0In0seyJTQUxFUyI6NTAyLjM3MjM4MDAwMDAwMDI1LCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTYXQsIDA5IEFwciAyMDE2IDAzOjM0OjUwIEdNVCIsIkNBVEVHT1JZIjoiQXBwbGVzIiwiTU9OVEgiOiIwNCJ9LHsiU0FMRVMiOjc0LjI3MDAwMDAwMDAwMDAxLCJZRUFSIjoiMjAxNiIsIkRBVEVORVciOiJTYXQsIDA5IEFwciAyMDE2IDA0OjIyOjM3IEdNVCIsIkNBVEVHT1JZIjoiQmVycmllcyIsIk1PTlRIIjoiMDQifSx7IlNBTEVTIjoyLjAsIllFQVIiOiIyMDE2IiwiREFURU5FVyI6IlNhdCwgMDkgQXByIDIwMTYgMDQ6MjI6MzcgR01UIiwiQ0FURUdPUlkiOiJDdXQgRnJ1aXRzIiwiTU9OVEgiOiIwNCJ9CiAgICAgICAgXQoKICAgIHZhciBtYXAgPSBhcGlfZGF0YS5yZWR1Y2UoKHIsIGkpID0+ICgocltpLkRBVEVORVddID0gcltpLkRBVEVORVddIHx8IFtdKS5wdXNoKHsKICAgICAgLy8gZGF0ZSA6IGkuREFURU5FVywKICAgICAgLy8gc2FsZXM6IGkuU0FMRVMKICAgICAgaQogICAgfSksIHIpLCB7fSk7CgogICAgdmFyIGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhtYXApOwogICAgLy8gY29uc29sZS5sb2coZW50cmllcyk7CiAgICAvLyBjb25zdCBkYXRhID0gW107CiAgICAvLyAgIGZvcihsZXQgaSA9MDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICBkYXRhLnB1c2goewogICAgLy8gICAgICAgbmFtZSA6IGVudHJpZXNbaV1bMF0sCiAgICAvLyAgICAgICB2YWx1ZXM6IFtdLAogICAgLy8gICAgIH0pCiAgICAvLyAgICAgZm9yKGxldCBqID0wIDsgaiA8IGVudHJpZXNbaV1bMV0ubGVuZ3RoOyBqKyspIHsKICAgIC8vICAgICAgIGRhdGFbaV0udmFsdWVzLnB1c2goewogICAgLy8gICAgICAgICBkYXRlOiBlbnRyaWVzW2ldWzFdW2pdLmRhdGUsCiAgICAvLyAgICAgICAgIHNhbGVzOiBlbnRyaWVzW2ldWzFdW2pdLnNhbGVzCiAgICAvLyAgICAgICB9KQogICAgLy8gICAgIH0KICAgIC8vICAgfQoKICAgIHZhciBjYXRlZ29yaWVzID0gYXBpX2RhdGEucmVkdWNlKChyLGkpID0+ICgoKHJbaS5DQVRFR09SWV0gPSByW2kuQ0FURUdPUlldIHx8IFtdICkucHVzaCh7CiAgICAgIGNhdGVnb3JpZSA6IGkuQ0FURUdPUlkKICAgIH0pLCByKSksIHt9ICk7CiAgICAvLyBjb25zb2xlLmxvZyhjYXRlZ29yaWVzKTsKICAgIHZhciBjYXRlZ29yeV9saXN0ID0gT2JqZWN0LmtleXMoY2F0ZWdvcmllcyk7IAogICAgLy8gY29uc29sZS5sb2coY2F0ZWdvcnlfbGlzdCk7CiAgICB2YXIgbWFwID0gYXBpX2RhdGEucmVkdWNlKChyLCBpKSA9PiAoKChyW2kuTU9OVEhdID0gcltpLk1PTlRIXSB8fCBbXSkucHVzaCh7CiAgICAgIGNhdGVnb3J5OiBpLkNBVEVHT1JZLAogICAgICB2YWx1ZXM6IGkuU0FMRVMKICAgIH0pLCByKSksIHt9KTsKICAgIC8vIGNvbnNvbGUubG9nKG1hcCk7CiAgICB2YXIgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG1hcCk7CiAgICBjb25zb2xlLmxvZyhlbnRyaWVzKQoKICAgIHZhciBzZWNvbmRfZGF0YSA9IFtdOwogICAgICBmb3IobGV0IGkgPTA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc29sZS5sb2coZW50cmllc1tpXVswXSk7CiAgICAgICAgc2Vjb25kX2RhdGEucHVzaCh7CiAgICAgICAgICBkYXRlIDogZW50cmllc1tpXVswXQogICAgICAgIH0pCiAgICAgICAgZm9yKGxldCBqID0wIDsgaiA8IGVudHJpZXNbaV1bMV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIHZhciB4ID0gT2JqZWN0LnZhbHVlcyhlbnRyaWVzW2ldWzFdW2pdKTsKICAgICAgICAgIHZhciBhID0geFswXSwKICAgICAgICAgICAgYiA9IHhbMV07CiAgICAgICAgICBzZWNvbmRfZGF0YVtpXVthXSA9IGI7CiAgICAgICAgICAvLyBzZWNvbmRfZGF0YS5jb25jYXQoewogICAgICAgICAgLy8gICBbYV0gOiBiCiAgICAgICAgICAvLyAgIC8vIGRhdGU6IGVudHJpZXNbaV1bMV1bal0uZGF0ZSwKICAgICAgICAgIC8vICAgLy8gc2FsZXM6IGVudHJpZXNbaV1bMV1bal0uc2FsZXMKICAgICAgICAgIC8vICAgLy8gZW50cmllc1tpXVsxXVtqXS5DQVRFR09SWSA6IGVudHJpZXNbaV1bMV1bal0uQ0FURUdPUlkKICAgICAgICAgIC8vIH0pCiAgICAgICAgfQogICAgICB9CiAgICBjb25zb2xlLmxvZygic2Vjb25kIG9nIGRhdGEiLHNlY29uZF9kYXRhKQogICAgc2Vjb25kX2RhdGEuZm9yRWFjaChmdW5jdGlvbihkKSB7CiAgICAgIGQuZGF0ZSA9IChuZXcgRGF0ZShkLmRhdGUpKTsKICAgIH0pOwogICAgY29uc29sZS5sb2coc2Vjb25kX2RhdGEpOyAKCgogICAgIHZhciBteURhdGEgPSAiZGF0ZQlOZXcgWW9yawlTYW4gRnJhbmNpc2NvCUF1c3RpblxuXAoyMDExMTAwMQk2My40CTYyLjcJNzIuMlxuXAoyMDExMTAwMgk1OC4wCTU5LjkJNjcuN1xuXAoyMDExMTAwMwk1My4zCTU5LjEJNjkuNFxuXAoyMDExMTAwNAk1NS43CTU4LjgJNjguMFxuXAoyMDExMTAwNQk2NC4yCTU4LjcJNzIuNFxuXAoyMDExMTAwNgk1OC44CTU3LjAJNzcuMFxuXAoyMDExMTAwNwk1Ny45CTU2LjcJODIuM1xuXAoyMDExMTAwOAk2MS44CTU2LjgJNzguOVxuXAoyMDExMTAwOQk2OS4zCTU2LjcJNjguOFxuXAoyMDExMTAxMAk3MS4yCTYwLjEJNjguN1xuXAoyMDExMTAxMQk2OC43CTYxLjEJNzAuM1xuXAoyMDExMTAxMgk2MS44CTYxLjUJNzUuM1xuXAoyMDExMTAxMwk2My4wCTY0LjMJNzYuNlxuXAoyMDExMTAxNAk2Ni45CTY3LjEJNjYuNlxuXAoyMDExMTAxNQk2MS43CTY0LjYJNjguMFxuXAoyMDExMTAxNgk2MS44CTYxLjYJNzAuNlxuXAoyMDExMTAxNwk2Mi44CTYxLjEJNzEuMVxuXAoyMDExMTAxOAk2MC44CTU5LjIJNzAuMFxuXAoyMDExMTAxOQk2Mi4xCTU4LjkJNjEuNlxuXAoyMDExMTAyMAk2NS4xCTU3LjIJNTcuNFxuXAoyMDExMTAyMQk1NS42CTU2LjQJNjQuM1xuXAoyMDExMTAyMgk1NC40CTYwLjcJNzIuNFxuIjsKCiAgICB2YXIgbWFyZ2luID0gewogICAgICAgIHRvcDogMjAsCiAgICAgICAgcmlnaHQ6IDgwLAogICAgICAgIGJvdHRvbTogMzAsCiAgICAgICAgbGVmdDogNTAKICAgICAgfSwKICAgICAgd2lkdGggPSA5MDAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwKICAgICAgaGVpZ2h0ID0gNTAwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CgogICAgLy8gdmFyIHBhcnNlRGF0ZSA9IGQzLnRpbWUuZm9ybWF0KCIlWSVtJWQiKS5wYXJzZTsKCiAgICB2YXIgeCA9IGQzLnRpbWUuc2NhbGUoKQogICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7CgogICAgdmFyIHkgPSBkMy5zY2FsZS5saW5lYXIoKQogICAgICAucmFuZ2UoW2hlaWdodCwgMF0pOwoKICAgIHZhciBjb2xvciA9IGQzLnNjYWxlLmNhdGVnb3J5MTAoKTsKCiAgICB2YXIgeEF4aXMgPSBkMy5zdmcuYXhpcygpCiAgICAgIC5zY2FsZSh4KQogICAgICAub3JpZW50KCJib3R0b20iKTsKCiAgICB2YXIgeUF4aXMgPSBkMy5zdmcuYXhpcygpCiAgICAgIC5zY2FsZSh5KQogICAgICAub3JpZW50KCJsZWZ0Iik7CgogICAgdmFyIGxpbmUgPSBkMy5zdmcubGluZSgpCiAgICAgIC5pbnRlcnBvbGF0ZSgiYmFzaXMiKQogICAgICAueChmdW5jdGlvbihkKSB7CiAgICAgICAgcmV0dXJuIHgoZC5kYXRlKTsKICAgICAgfSkKICAgICAgLnkoZnVuY3Rpb24oZCkgewogICAgICAgIHJldHVybiB5KGQudGVtcGVyYXR1cmUpOwogICAgICB9KTsKCiAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCIjbXVsdGlsaW5lY2hhcnQiKS5hcHBlbmQoInN2ZyIpCiAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpCiAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAgICAgLmFwcGVuZCgiZyIpCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyBtYXJnaW4ubGVmdCArICIsIiArIG1hcmdpbi50b3AgKyAiKSIpOwoKICAgIHZhciBkYXRhID0gZDMudHN2LnBhcnNlKG15RGF0YSk7CgogICAgY29uc29sZS5sb2coZDMudHN2LnBhcnNlKG15RGF0YSksImFiY2RlZiIpOwoKICAgIGRhdGEgPSBbXTsKICAgIGRhdGEgPSBzZWNvbmRfZGF0YTsKCiAgICBjb2xvci5kb21haW4oZDMua2V5cyhkYXRhWzBdKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7CiAgICAgIHJldHVybiBrZXkgIT09ICJkYXRlIjsKICAgIH0pKTsKCiAgICAvLyBkYXRhLmZvckVhY2goZnVuY3Rpb24oZCkgewogICAgLy8gICBjb25zb2xlLmxvZyhkKTsKICAgIC8vICAgZC5kYXRlID0gcGFyc2VEYXRlKGQuZGF0ZSk7CiAgICAvLyB9KTsKCiAgICB2YXIgY2l0aWVzID0gY29sb3IuZG9tYWluKCkubWFwKGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIHZhbHVlczogZGF0YS5tYXAoZnVuY3Rpb24oZCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGF0ZTogZC5kYXRlLAogICAgICAgICAgICB0ZW1wZXJhdHVyZTogK2RbbmFtZV0KICAgICAgICAgIH07CiAgICAgICAgfSkKICAgICAgfTsKICAgIH0pOwogICAgY29uc29sZS5sb2coY2l0aWVzKQoKICAgIHguZG9tYWluKGQzLmV4dGVudChkYXRhLCBmdW5jdGlvbihkKSB7CiAgICAgIHJldHVybiBkLmRhdGU7CiAgICB9KSk7CgogICAgeS5kb21haW4oWwogICAgICBkMy5taW4oY2l0aWVzLCBmdW5jdGlvbihjKSB7CiAgICAgICAgcmV0dXJuIGQzLm1pbihjLnZhbHVlcywgZnVuY3Rpb24odikgewogICAgICAgICAgcmV0dXJuIHYudGVtcGVyYXR1cmU7CiAgICAgICAgfSk7CiAgICAgIH0pLAogICAgICBkMy5tYXgoY2l0aWVzLCBmdW5jdGlvbihjKSB7CiAgICAgICAgcmV0dXJuIGQzLm1heChjLnZhbHVlcywgZnVuY3Rpb24odikgewogICAgICAgICAgcmV0dXJuIHYudGVtcGVyYXR1cmU7CiAgICAgICAgfSk7CiAgICAgIH0pCiAgICBdKTsKCiAgICB2YXIgbGVnZW5kID0gc3ZnLnNlbGVjdEFsbCgnZycpCiAgICAgIC5kYXRhKGNpdGllcykKICAgICAgLmVudGVyKCkKICAgICAgLmFwcGVuZCgnZycpCiAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKTsKCiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JykKICAgICAgLmF0dHIoJ3gnLCB3aWR0aCAtIDIwKQogICAgICAuYXR0cigneScsIGZ1bmN0aW9uKGQsIGkpIHsKICAgICAgICByZXR1cm4gaSAqIDIwOwogICAgICB9KQogICAgICAuYXR0cignd2lkdGgnLCAxMCkKICAgICAgLmF0dHIoJ2hlaWdodCcsIDEwKQogICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbihkKSB7CiAgICAgICAgcmV0dXJuIGNvbG9yKGQubmFtZSk7CiAgICAgIH0pOwoKICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKQogICAgICAuYXR0cigneCcsIHdpZHRoIC0gOCkKICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbihkLCBpKSB7CiAgICAgICAgcmV0dXJuIChpICogMjApICsgOTsKICAgICAgfSkKICAgICAgLnRleHQoZnVuY3Rpb24oZCkgewogICAgICAgIHJldHVybiBkLm5hbWU7CiAgICAgIH0pOwoKICAgIHN2Zy5hcHBlbmQoImciKQogICAgICAuYXR0cigiY2xhc3MiLCAieCBheGlzIikKICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgaGVpZ2h0ICsgIikiKQogICAgICAuY2FsbCh4QXhpcyk7CgogICAgc3ZnLmFwcGVuZCgiZyIpCiAgICAgIC5hdHRyKCJjbGFzcyIsICJ5IGF4aXMiKQogICAgICAuY2FsbCh5QXhpcykKICAgICAgLmFwcGVuZCgidGV4dCIpCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAicm90YXRlKC05MCkiKQogICAgICAuYXR0cigieSIsIDYpCiAgICAgIC5hdHRyKCJkeSIsICIuNzFlbSIpCiAgICAgIC5zdHlsZSgidGV4dC1hbmNob3IiLCAiZW5kIikKICAgICAgLnRleHQoIlRlbXBlcmF0dXJlICjCukYpIik7CgogICAgdmFyIGNpdHkgPSBzdmcuc2VsZWN0QWxsKCIuY2l0eSIpCiAgICAgIC5kYXRhKGNpdGllcykKICAgICAgLmVudGVyKCkuYXBwZW5kKCJnIikKICAgICAgLmF0dHIoImNsYXNzIiwgImNpdHkiKTsKCiAgICBjaXR5LmFwcGVuZCgicGF0aCIpCiAgICAgIC5hdHRyKCJjbGFzcyIsICJsaW5lIikKICAgICAgLmF0dHIoImQiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgcmV0dXJuIGxpbmUoZC52YWx1ZXMpOwogICAgICB9KQogICAgICAuc3R5bGUoInN0cm9rZSIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICByZXR1cm4gY29sb3IoZC5uYW1lKTsKICAgICAgfSk7CgogICAgY2l0eS5hcHBlbmQoInRleHQiKQogICAgICAuZGF0dW0oZnVuY3Rpb24oZCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiBkLm5hbWUsCiAgICAgICAgICB2YWx1ZTogZC52YWx1ZXNbZC52YWx1ZXMubGVuZ3RoIC0gMV0KICAgICAgICB9OwogICAgICB9KQogICAgICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24oZCkgewogICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyB4KGQudmFsdWUuZGF0ZSkgKyAiLCIgKyB5KGQudmFsdWUudGVtcGVyYXR1cmUpICsgIikiOwogICAgICB9KQogICAgICAuYXR0cigieCIsIDMpCiAgICAgIC5hdHRyKCJkeSIsICIuMzVlbSIpCiAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHsKICAgICAgICByZXR1cm4gZC5uYW1lOwogICAgICB9KTsKCiAgICB2YXIgbW91c2VHID0gc3ZnLmFwcGVuZCgiZyIpCiAgICAgIC5hdHRyKCJjbGFzcyIsICJtb3VzZS1vdmVyLWVmZmVjdHMiKTsKCiAgICBtb3VzZUcuYXBwZW5kKCJwYXRoIikgLy8gdGhpcyBpcyB0aGUgYmxhY2sgdmVydGljYWwgbGluZSB0byBmb2xsb3cgbW91c2UKICAgICAgLmF0dHIoImNsYXNzIiwgIm1vdXNlLWxpbmUiKQogICAgICAuc3R5bGUoInN0cm9rZSIsICJibGFjayIpCiAgICAgIC5zdHlsZSgic3Ryb2tlLXdpZHRoIiwgIjFweCIpCiAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIik7CiAgICAgIAogICAgdmFyIGxpbmVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGluZScpOwoKICAgIHZhciBtb3VzZVBlckxpbmUgPSBtb3VzZUcuc2VsZWN0QWxsKCcubW91c2UtcGVyLWxpbmUnKQogICAgICAuZGF0YShjaXRpZXMpCiAgICAgIC5lbnRlcigpCiAgICAgIC5hcHBlbmQoImciKQogICAgICAuYXR0cigiY2xhc3MiLCAibW91c2UtcGVyLWxpbmUiKTsKCiAgICBtb3VzZVBlckxpbmUuYXBwZW5kKCJjaXJjbGUiKQogICAgICAuYXR0cigiciIsIDcpCiAgICAgIC5zdHlsZSgic3Ryb2tlIiwgZnVuY3Rpb24oZCkgewogICAgICAgIHJldHVybiBjb2xvcihkLm5hbWUpOwogICAgICB9KQogICAgICAuc3R5bGUoImZpbGwiLCAibm9uZSIpCiAgICAgIC5zdHlsZSgic3Ryb2tlLXdpZHRoIiwgIjFweCIpCiAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIik7CgogICAgbW91c2VQZXJMaW5lLmFwcGVuZCgidGV4dCIpCiAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDEwLDMpIik7CgogICAgbW91c2VHLmFwcGVuZCgnc3ZnOnJlY3QnKSAvLyBhcHBlbmQgYSByZWN0IHRvIGNhdGNoIG1vdXNlIG1vdmVtZW50cyBvbiBjYW52YXMKICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpIC8vIGNhbid0IGNhdGNoIG1vdXNlIGV2ZW50cyBvbiBhIGcgZWxlbWVudAogICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KQogICAgICAuYXR0cignZmlsbCcsICdub25lJykKICAgICAgLmF0dHIoJ3BvaW50ZXItZXZlbnRzJywgJ2FsbCcpCiAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbigpIHsgLy8gb24gbW91c2Ugb3V0IGhpZGUgbGluZSwgY2lyY2xlcyBhbmQgdGV4dAogICAgICAgIGQzLnNlbGVjdCgiLm1vdXNlLWxpbmUiKQogICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKTsKICAgICAgICBkMy5zZWxlY3RBbGwoIi5tb3VzZS1wZXItbGluZSBjaXJjbGUiKQogICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjAiKTsKICAgICAgICBkMy5zZWxlY3RBbGwoIi5tb3VzZS1wZXItbGluZSB0ZXh0IikKICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIwIik7CiAgICAgIH0pCiAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7IC8vIG9uIG1vdXNlIGluIHNob3cgbGluZSwgY2lyY2xlcyBhbmQgdGV4dAogICAgICAgIGQzLnNlbGVjdCgiLm1vdXNlLWxpbmUiKQogICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjEiKTsKICAgICAgICBkMy5zZWxlY3RBbGwoIi5tb3VzZS1wZXItbGluZSBjaXJjbGUiKQogICAgICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgIjEiKTsKICAgICAgICBkMy5zZWxlY3RBbGwoIi5tb3VzZS1wZXItbGluZSB0ZXh0IikKICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsICIxIik7CiAgICAgIH0pCiAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24oKSB7IC8vIG1vdXNlIG1vdmluZyBvdmVyIGNhbnZhcwogICAgICAgIHZhciBtb3VzZSA9IGQzLm1vdXNlKHRoaXMpOwogICAgICAgIGQzLnNlbGVjdCgiLm1vdXNlLWxpbmUiKQogICAgICAgICAgLmF0dHIoImQiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIGQgPSAiTSIgKyBtb3VzZVswXSArICIsIiArIGhlaWdodDsKICAgICAgICAgICAgZCArPSAiICIgKyBtb3VzZVswXSArICIsIiArIDA7CiAgICAgICAgICAgIHJldHVybiBkOwogICAgICAgICAgfSk7CgogICAgICAgIGQzLnNlbGVjdEFsbCgiLm1vdXNlLXBlci1saW5lIikKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkLCBpKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHdpZHRoL21vdXNlWzBdKQogICAgICAgICAgICB2YXIgeERhdGUgPSB4LmludmVydChtb3VzZVswXSksCiAgICAgICAgICAgICAgICBiaXNlY3QgPSBkMy5iaXNlY3RvcihmdW5jdGlvbihkKSB7IHJldHVybiBkLmRhdGU7IH0pLnJpZ2h0OwogICAgICAgICAgICAgIHZhciAgaWR4ID0gYmlzZWN0KGQudmFsdWVzLCB4RGF0ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgYmVnaW5uaW5nID0gMCwKICAgICAgICAgICAgICAgIGVuZCA9IGxpbmVzW2ldLmdldFRvdGFsTGVuZ3RoKCksCiAgICAgICAgICAgICAgICB0YXJnZXQgPSBudWxsOwoKICAgICAgICAgICAgd2hpbGUgKHRydWUpewogICAgICAgICAgICAgIHRhcmdldCA9IE1hdGguZmxvb3IoKGJlZ2lubmluZyArIGVuZCkgLyAyKTsKICAgICAgICAgICAgICB2YXIgcG9zID0gbGluZXNbaV0uZ2V0UG9pbnRBdExlbmd0aCh0YXJnZXQpOwogICAgICAgICAgICAgIGlmICgodGFyZ2V0ID09PSBlbmQgfHwgdGFyZ2V0ID09PSBiZWdpbm5pbmcpICYmIHBvcy54ICE9PSBtb3VzZVswXSkgewogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKHBvcy54ID4gbW91c2VbMF0pICAgICAgZW5kID0gdGFyZ2V0OwogICAgICAgICAgICAgIGVsc2UgaWYgKHBvcy54IDwgbW91c2VbMF0pIGJlZ2lubmluZyA9IHRhcmdldDsKICAgICAgICAgICAgICBlbHNlIGJyZWFrOyAvL3Bvc2l0aW9uIGZvdW5kCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5zZWxlY3QoJ3RleHQnKQogICAgICAgICAgICAgIC50ZXh0KHkuaW52ZXJ0KHBvcy55KS50b0ZpeGVkKDIpKTsKICAgICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIG1vdXNlWzBdICsgIiwiICsgcG9zLnkgKyIpIjsKICAgICAgICAgIH0pOwogICAgICB9KTsKICAgICAgCgogIH0KCn0K"},{"version":3,"sources":["MultiLineChart.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA","file":"MultiLineChart.vue","sourceRoot":"src/portal/analytics/components","sourcesContent":["    \n<template>\n<div id=\"multilinechart\">\n\n</div>\n</template>\n<script>\nimport * as d3 from \"d3-3\";\nexport default {\n     name: \"MultiLineChart\",\n    // props: {\n    //     data:Array,\n    //     xKey: String,\n    //     yKey: String,\n    // },\n  mounted() {\n  //     var myData = \"date\tNew York\tSan Francisco\tAustin\\n\\\n  //                       20111001\t63.4\t62.7\t72.2\\n\\\n  //                       20111002\t58.0\t59.9\t67.7\\n\\\n  //                       20111003\t53.3\t59.1\t69.4\\n\\\n  //                       20111004\t55.7\t58.8\t68.0\\n\\\n  //                       20111005\t64.2\t58.7\t72.4\\n\\\n  //                       20111006\t58.8\t57.0\t77.0\\n\\\n  //                       20111007\t57.9\t56.7\t82.3\\n\\\n  //                       20111008\t61.8\t56.8\t78.9\\n\\\n  //                       20111009\t69.3\t56.7\t68.8\\n\\\n  //                       20111010\t71.2\t60.1\t68.7\\n\\\n  //                       20111011\t68.7\t61.1\t70.3\\n\\\n  //                       20111012\t61.8\t61.5\t75.3\\n\\\n  //                       20111013\t63.0\t64.3\t76.6\\n\\\n  //                       20111014\t66.9\t67.1\t66.6\\n\\\n  //                       20111015\t61.7\t64.6\t68.0\\n\\\n  //                       20111016\t61.8\t61.6\t70.6\\n\\\n  //                       20111017\t62.8\t61.1\t71.1\\n\\\n  //                       20111018\t60.8\t59.2\t70.0\\n\\\n  //                       20111019\t62.1\t58.9\t61.6\\n\\\n  //                       20111020\t65.1\t57.2\t57.4\\n\\\n  //                       20111021\t55.6\t56.4\t64.3\\n\\\n  //                       20111022\t54.4\t60.7\t72.4\\n\";\n  //   var margin = {\n  //       top: 20,\n  //       right: 80,\n  //       bottom: 30,\n  //       left: 50\n  //     },\n  //     width = 900 - margin.left - margin.right,\n  //     height = 500 - margin.top - margin.bottom;\n\n  //   // var parseDate = d3.timeFormat(\"%d-%b-%y\");\n  //   var parseDate = d3.timeParse(\"%Y-%m-%d %H:%M:%S\");\n\n\n  //   var x = d3.scaleTime()\n  //     .range([0, width]);\n\n  //   var y = d3.scaleLinear()\n  //     .range([height, 0]);\n\n  //   // var color = d3.scaleOrdinal(d3.schemeCategory10);\n  //   var color = d3.scaleOrdinal().range(d3.schemeCategory10);\n\n  //   var xAxis = d3.axisBottom()\n  //   .scale(x);\n\n  //   var yAxis = d3.axisLeft()\n  //   .scale(y);\n\n  //   var line = d3.line()\n  //   .curve(d3.curveMonotoneX)\n  //   .x(function(d) { return x(d.date); })\n  //   .y(function(d) { return y(d.temperature); });\n\n\n\n  //   // var line = d3.line()\n  //   //     .curve(d3.curveMonotoneX)\n  //   //   .x(function(d) {\n  //   //     return x(d.date);\n  //   //   })\n  //   //   .y(function(d) {\n  //   //     return y(d.temperature);\n  //   //   });\n  //   // console.log(line,\"line\");\n  //   // var line = d3.line()\n  //   //   .interpolate(\"basis\")\n  //   //   .x(function(d) {\n  //   //     return x(d.date);\n  //   //   })\n  //   //   .y(function(d) {\n  //   //     return y(d.temperature);\n  //   //   });\n\n  //   var svg = d3.select(\"#multilinechart\").append(\"svg\")\n  //     .attr(\"width\", width + margin.left + margin.right)\n  //     .attr(\"height\", height + margin.top + margin.bottom)\n  //     .append(\"g\")\n  //     .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  //   var data = d3.tsvParse(myData);\n  //   // console.log(data);\n\n\n\n  //   color.domain(d3.keys(data[0]).filter(function(key) {\n  //     return key !== \"date\";\n  //   }));\n  //   // const color = d3.scaleOrdinal()\n  //   // .domain(d3.keys(data[0]).filter(function(key) {\n  //   //   return key !== \"date\";\n  //   // })).range(d3.quantize(t => d3.interpolateCubehelixDefault  (t * 0.8 + 0.1), data.length).reverse());\n\n  //   data.forEach(function(d) {\n  //     d.date = parseDate(d.date);\n  //   });\n\n  //   var cities = color.domain().map(function(name) {\n  //     return {\n  //       name: name,\n  //       values: data.map(function(d) {\n  //         return {\n  //           date: d.date,\n  //           temperature: +d[name]\n  //         };\n  //       })\n  //     };\n  //   });\n  //   // console.log(cities);\n\n  //   x.domain(d3.extent(data, function(d) {\n  //     return d.date;\n  //   }));\n\n  //   y.domain([\n  //     d3.min(cities, function(c) {\n  //       return d3.min(c.values, function(v) {\n  //         return v.temperature;\n  //       });\n  //     }),\n  //     d3.max(cities, function(c) {\n  //       return d3.max(c.values, function(v) {\n  //         return v.temperature;\n  //       });\n  //     })\n  //   ]);\n\n  //   var legend = svg.selectAll('g')\n  //     .data(cities)\n  //     .enter()\n  //     .append('g')\n  //     .attr('class', 'legend');\n\n  //   legend.append('rect')\n  //     .attr('x', width - 20)\n  //     .attr('y', function(d, i) {\n  //       return i * 20;\n  //     })\n  //     .attr('width', 10)\n  //     .attr('height', 10)\n  //     .style('fill', function(d) {\n  //       return color(d.name);\n  //     });\n\n  //   legend.append('text')\n  //     .attr('x', width - 8)\n  //     .attr('y', function(d, i) {\n  //       return (i * 20) + 9;\n  //     })\n  //     .text(function(d) {\n  //       return d.name;\n  //     });\n\n  //   svg.append(\"g\")\n  //     .attr(\"class\", \"x axis\")\n  //     .attr(\"transform\", \"translate(0,\" + height + \")\")\n  //     .call(xAxis);\n\n  //   svg.append(\"g\")\n  //     .attr(\"class\", \"y axis\")\n  //     .call(yAxis)\n  //     .append(\"text\")\n  //     .attr(\"transform\", \"rotate(-90)\")\n  //     .attr(\"y\", 6)\n  //     .attr(\"dy\", \".71em\")\n  //     .style(\"text-anchor\", \"end\")\n  //     .text(\"Temperature (ÂºF)\");\n\n  //   var city = svg.selectAll(\".city\")\n  //     .data(cities)\n  //     .enter().append(\"g\")\n  //     .attr(\"class\", \"city\");\n\n  //   city.append(\"path\")\n  //     .attr(\"class\", \"line\")\n  //     .attr(\"d\", function(d) {\n  //         console.log((d.values));\n  //       return line(d.values);\n  //     })\n  //     .style(\"stroke\", function(d) {\n  //       return color(d.name);\n  //     });\n\n  //   city.append(\"text\")\n  //     .datum(function(d) {\n  //       return {\n  //         name: d.name,\n  //         value: d.values[d.values.length - 1]\n  //       };\n  //     })\n  //     .attr(\"transform\", function(d) {\n  //       return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\";\n  //     })\n  //     .attr(\"x\", 3)\n  //     .attr(\"dy\", \".35em\")\n  //     .text(function(d) {\n  //       return d.name;\n  //     });\n\n  //   var mouseG = svg.append(\"g\")\n  //     .attr(\"class\", \"mouse-over-effects\");\n\n  //   mouseG.append(\"path\") // this is the black vertical line to follow mouse\n  //     .attr(\"class\", \"mouse-line\")\n  //     .style(\"stroke\", \"black\")\n  //     .style(\"stroke-width\", \"1px\")\n  //     .style(\"opacity\", \"0\");\n      \n  //   var lines = document.getElementsByClassName('line');\n\n  //   var mousePerLine = mouseG.selectAll('.mouse-per-line')\n  //     .data(cities)\n  //     .enter()\n  //     .append(\"g\")\n  //     .attr(\"class\", \"mouse-per-line\");\n\n  //   mousePerLine.append(\"circle\")\n  //     .attr(\"r\", 7)\n  //     .style(\"stroke\", function(d) {\n  //       return color(d.name);\n  //     })\n  //     .style(\"fill\", \"none\")\n  //     .style(\"stroke-width\", \"1px\")\n  //     .style(\"opacity\", \"0\");\n\n  //   mousePerLine.append(\"text\")\n  //     .attr(\"transform\", \"translate(10,3)\");\n\n  //   mouseG.append('svg:rect') // append a rect to catch mouse movements on canvas\n  //     .attr('width', width) // can't catch mouse events on a g element\n  //     .attr('height', height)\n  //     .attr('fill', 'none')\n  //     .attr('pointer-events', 'all')\n  //     .on('mouseout', function() { // on mouse out hide line, circles and text\n  //       d3.select(\".mouse-line\")\n  //         .style(\"opacity\", \"0\");\n  //       d3.selectAll(\".mouse-per-line circle\")\n  //         .style(\"opacity\", \"0\");\n  //       d3.selectAll(\".mouse-per-line text\")\n  //         .style(\"opacity\", \"0\");\n  //     })\n  //     .on('mouseover', function() { // on mouse in show line, circles and text\n  //       d3.select(\".mouse-line\")\n  //         .style(\"opacity\", \"1\");\n  //       d3.selectAll(\".mouse-per-line circle\")\n  //         .style(\"opacity\", \"1\");\n  //       d3.selectAll(\".mouse-per-line text\")\n  //         .style(\"opacity\", \"1\");\n  //     })\n  //     .on('mousemove', function() { // mouse moving over canvas\n  //       var mouse = d3.mouse(this);\n  //       d3.select(\".mouse-line\")\n  //         .attr(\"d\", function() {\n  //           var d = \"M\" + mouse[0] + \",\" + height;\n  //           d += \" \" + mouse[0] + \",\" + 0;\n  //           return d;\n  //         });\n\n  //       d3.selectAll(\".mouse-per-line\")\n  //         .attr(\"transform\", function(d, i) {\n  //           // console.log(width/mouse[0])\n  //           var xDate = x.invert(mouse[0]),\n  //               bisect = d3.bisector(function(d) { return d.date; }).right;\n  //               console.log(d,\"data-d\")\n  //               idx = bisect(d.values, xDate);\n            \n  //           var beginning = 0,\n  //               end = lines[i].getTotalLength(),\n  //               target = null;\n\n  //           while (true){\n  //             target = Math.floor((beginning + end) / 2);\n  //             pos = lines[i].getPointAtLength(target);\n  //             if ((target === end || target === beginning) && pos.x !== mouse[0]) {\n  //                 break;\n  //             }\n  //             if (pos.x > mouse[0])      end = target;\n  //             else if (pos.x < mouse[0]) beginning = target;\n  //             else break; //position found\n  //           }\n            \n  //           d3.select(this).select('text')\n  //             .text(y.invert(pos.y).toFixed(2));\n              \n  //           return \"translate(\" + mouse[0] + \",\" + pos.y +\")\";\n  //         });\n  //     });\n\n\n  //   //#region  \n\n    var parseDate = d3.time.format(\"%b\").parse;\n\n\n    var api_data = \n        [\n            {\"SALES\":1340.450419999999,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 17 Mar 2016 10:18:47 GMT\",\"CATEGORY\":\"Stonefruits\",\"MONTH\":\"03\"},\n            {\"SALES\":170.90194000000005,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 17 Mar 2016 11:53:12 GMT\",\"CATEGORY\":\"Cucumbers\",\"MONTH\":\"03\"},\n            {\"SALES\":74.79999999999998,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 18 Mar 2016 12:13:55 GMT\",\"CATEGORY\":\"Sri Lankan Groceries\",\"MONTH\":\"03\"},\n            {\"SALES\":62.93936000000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 19 Mar 2016 19:42:10 GMT\",\"CATEGORY\":\"Veggies\",\"MONTH\":\"03\"},\n            {\"SALES\":218.4778800000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 20 Mar 2016 17:12:06 GMT\",\"CATEGORY\":\"Mushrooms\",\"MONTH\":\"03\"},\n            {\"SALES\":262.5995236363638,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 20 Mar 2016 17:34:22 GMT\",\"CATEGORY\":\"Tropical Fruits\",\"MONTH\":\"03\"},\n            {\"SALES\":69.59320000000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 20 Mar 2016 19:02:15 GMT\",\"CATEGORY\":\"Cabbages\",\"MONTH\":\"03\"},\n            {\"SALES\":671.8349600000005,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 23 Mar 2016 01:04:06 GMT\",\"CATEGORY\":\"Bananas\",\"MONTH\":\"03\"},\n            {\"SALES\":116.20128545454547,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 23 Mar 2016 01:35:13 GMT\",\"CATEGORY\":\"Nuts\",\"MONTH\":\"03\"},\n            {\"SALES\":295.2000000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 23 Mar 2016 04:31:17 GMT\",\"CATEGORY\":\"Avocadoes\",\"MONTH\":\"03\"},\n            {\"SALES\":47.5,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 03:13:07 GMT\",\"CATEGORY\":\"Herbs\",\"MONTH\":\"03\"},\n            {\"SALES\":169.20256000000003,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 04:12:32 GMT\",\"CATEGORY\":\"Pumpkins\",\"MONTH\":\"03\"},{\"SALES\":307.6499999999997,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 04:43:59 GMT\",\"CATEGORY\":\"Eggs\",\"MONTH\":\"03\"},{\"SALES\":975.1200545454553,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 05:22:50 GMT\",\"CATEGORY\":\"Other Vegies\",\"MONTH\":\"03\"},{\"SALES\":112.4447,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 01:48:45 GMT\",\"CATEGORY\":\"Chillies\",\"MONTH\":\"03\"},{\"SALES\":597.0905363636365,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 03:28:03 GMT\",\"CATEGORY\":\"Citrus\",\"MONTH\":\"03\"},{\"SALES\":166.812,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 03:50:08 GMT\",\"CATEGORY\":\"carrots\",\"MONTH\":\"03\"},{\"SALES\":360.92106,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 04:41:19 GMT\",\"CATEGORY\":\"capsicum\",\"MONTH\":\"03\"},{\"SALES\":57.88363636363637,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 26 Mar 2016 22:51:27 GMT\",\"CATEGORY\":\"Other Fruits\",\"MONTH\":\"03\"},{\"SALES\":884.4411199999997,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 26 Mar 2016 23:37:38 GMT\",\"CATEGORY\":\"Potatoes\",\"MONTH\":\"03\"},{\"SALES\":304.92546000000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 00:25:07 GMT\",\"CATEGORY\":\"Pears\",\"MONTH\":\"03\"},{\"SALES\":303.2260000000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 00:28:50 GMT\",\"CATEGORY\":\"Bunch Vegies\",\"MONTH\":\"03\"},{\"SALES\":620.6673999999997,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 01:08:03 GMT\",\"CATEGORY\":\"Tomatoes\",\"MONTH\":\"03\"},{\"SALES\":629.8516800000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 01:45:58 GMT\",\"CATEGORY\":\"Apples\",\"MONTH\":\"03\"},{\"SALES\":372.82099999999923,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 03:38:16 GMT\",\"CATEGORY\":\"Lettuces\",\"MONTH\":\"03\"},{\"SALES\":154.485,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 23:08:40 GMT\",\"CATEGORY\":\"Multi buy\",\"MONTH\":\"03\"},{\"SALES\":387.9157999999999,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 28 Mar 2016 02:15:11 GMT\",\"CATEGORY\":\"Melons\",\"MONTH\":\"03\"},{\"SALES\":180.2172727272728,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 28 Mar 2016 22:59:34 GMT\",\"CATEGORY\":\"Olympian Products\",\"MONTH\":\"03\"},{\"SALES\":633.3682436363638,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 28 Mar 2016 23:57:28 GMT\",\"CATEGORY\":\"Onions\",\"MONTH\":\"03\"},{\"SALES\":854.30096,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 30 Mar 2016 03:02:09 GMT\",\"CATEGORY\":\"Grapes\",\"MONTH\":\"03\"},{\"SALES\":108.0,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 30 Mar 2016 04:15:59 GMT\",\"CATEGORY\":\"Flowers\",\"MONTH\":\"03\"},{\"SALES\":87.10741999999999,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 30 Mar 2016 21:40:15 GMT\",\"CATEGORY\":\"Root Vegies\",\"MONTH\":\"03\"},{\"SALES\":73.7,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 31 Mar 2016 00:23:50 GMT\",\"CATEGORY\":\"Cut Veggies\",\"MONTH\":\"03\"},{\"SALES\":216.50410000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 31 Mar 2016 01:27:43 GMT\",\"CATEGORY\":\"Asian Vegies\",\"MONTH\":\"03\"},{\"SALES\":167.87999999999997,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 31 Mar 2016 01:59:07 GMT\",\"CATEGORY\":\"Berries\",\"MONTH\":\"03\"},\n            {\"SALES\":602.2259454545458,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 00:26:23 GMT\",\"CATEGORY\":\"Citrus\",\"MONTH\":\"04\"},\n            {\"SALES\":964.0527800000008,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 00:41:01 GMT\",\"CATEGORY\":\"Other Vegies\",\"MONTH\":\"04\"},\n            {\"SALES\":107.87999999999998,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 04:50:24 GMT\",\"CATEGORY\":\"Cabbages\",\"MONTH\":\"04\"},\n            {\"SALES\":86.5556,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 04:50:24 GMT\",\"CATEGORY\":\"Root Vegies\",\"MONTH\":\"04\"},\n            {\"SALES\":675.9299000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 04:55:24 GMT\",\"CATEGORY\":\"Bananas\",\"MONTH\":\"04\"},\n            {\"SALES\":197.20808000000005,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 08:06:26 GMT\",\"CATEGORY\":\"Asian Vegies\",\"MONTH\":\"04\"},\n            {\"SALES\":108.0,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 21:52:12 GMT\",\"CATEGORY\":\"Flowers\",\"MONTH\":\"04\"},\n            {\"SALES\":15.200000000000003,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 02 Apr 2016 00:22:14 GMT\",\"CATEGORY\":\"Sri Lankan Groceries\",\"MONTH\":\"04\"},\n            {\"SALES\":118.63200000000009,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 02 Apr 2016 00:22:14 GMT\",\"CATEGORY\":\"carrots\",\"MONTH\":\"04\"},\n            {\"SALES\":129.0,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:00:52 GMT\",\"CATEGORY\":\"Multi buy\",\"MONTH\":\"04\"},\n            {\"SALES\":174.17508000000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:00:52 GMT\",\"CATEGORY\":\"capsicum\",\"MONTH\":\"04\"},{\"SALES\":230.56272727272733,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:34:19 GMT\",\"CATEGORY\":\"Olympian Products\",\"MONTH\":\"04\"},{\"SALES\":96.84614727272728,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:37:49 GMT\",\"CATEGORY\":\"Nuts\",\"MONTH\":\"04\"},{\"SALES\":439.10896545454534,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 01:42:18 GMT\",\"CATEGORY\":\"Tomatoes\",\"MONTH\":\"04\"},{\"SALES\":512.0569200000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 02:44:59 GMT\",\"CATEGORY\":\"Grapes\",\"MONTH\":\"04\"},{\"SALES\":151.0479,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 02:53:00 GMT\",\"CATEGORY\":\"Pumpkins\",\"MONTH\":\"04\"},{\"SALES\":43.0,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 02:53:00 GMT\",\"CATEGORY\":\"Cut Veggies\",\"MONTH\":\"04\"},{\"SALES\":137.80607999999995,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 06:09:50 GMT\",\"CATEGORY\":\"Cucumbers\",\"MONTH\":\"04\"},{\"SALES\":119.0145,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 04 Apr 2016 01:18:00 GMT\",\"CATEGORY\":\"Chillies\",\"MONTH\":\"04\"},{\"SALES\":276.1008799999999,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 04 Apr 2016 01:46:01 GMT\",\"CATEGORY\":\"Mushrooms\",\"MONTH\":\"04\"},{\"SALES\":202.88474000000008,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 04 Apr 2016 03:52:08 GMT\",\"CATEGORY\":\"Melons\",\"MONTH\":\"04\"},{\"SALES\":131.35276,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 01:46:42 GMT\",\"CATEGORY\":\"Tropical Fruits\",\"MONTH\":\"04\"},{\"SALES\":90.55818181818181,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 04:01:07 GMT\",\"CATEGORY\":\"Other Fruits\",\"MONTH\":\"04\"},{\"SALES\":187.63225999999992,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 04:49:26 GMT\",\"CATEGORY\":\"Pears\",\"MONTH\":\"04\"},{\"SALES\":496.3780800000003,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 05:00:29 GMT\",\"CATEGORY\":\"Onions\",\"MONTH\":\"04\"},{\"SALES\":20.44174,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 22:36:34 GMT\",\"CATEGORY\":\"Veggies\",\"MONTH\":\"04\"},{\"SALES\":642.8219400000002,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 02:16:13 GMT\",\"CATEGORY\":\"Potatoes\",\"MONTH\":\"04\"},{\"SALES\":275.8000000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 03:26:52 GMT\",\"CATEGORY\":\"Avocadoes\",\"MONTH\":\"04\"},{\"SALES\":39.96,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 03:27:58 GMT\",\"CATEGORY\":\"Groceries-Dry Goods\",\"MONTH\":\"04\"},{\"SALES\":618.9657799999997,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 04:47:53 GMT\",\"CATEGORY\":\"Stonefruits\",\"MONTH\":\"04\"},{\"SALES\":348.5120000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 07 Apr 2016 02:45:13 GMT\",\"CATEGORY\":\"Lettuces\",\"MONTH\":\"04\"},{\"SALES\":293.10000000000025,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 07 Apr 2016 03:24:48 GMT\",\"CATEGORY\":\"Bunch Vegies\",\"MONTH\":\"04\"},{\"SALES\":227.34999999999985,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 08 Apr 2016 01:04:44 GMT\",\"CATEGORY\":\"Eggs\",\"MONTH\":\"04\"},{\"SALES\":138.97199999999998,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 08 Apr 2016 04:21:54 GMT\",\"CATEGORY\":\"Herbs\",\"MONTH\":\"04\"},{\"SALES\":502.37238000000025,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 09 Apr 2016 03:34:50 GMT\",\"CATEGORY\":\"Apples\",\"MONTH\":\"04\"},{\"SALES\":74.27000000000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 09 Apr 2016 04:22:37 GMT\",\"CATEGORY\":\"Berries\",\"MONTH\":\"04\"},{\"SALES\":2.0,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 09 Apr 2016 04:22:37 GMT\",\"CATEGORY\":\"Cut Fruits\",\"MONTH\":\"04\"}\n        ]\n\n    var map = api_data.reduce((r, i) => ((r[i.DATENEW] = r[i.DATENEW] || []).push({\n      // date : i.DATENEW,\n      // sales: i.SALES\n      i\n    }), r), {});\n\n    var entries = Object.entries(map);\n    // console.log(entries);\n    // const data = [];\n    //   for(let i =0; i < entries.length; i++) {\n    //     data.push({\n    //       name : entries[i][0],\n    //       values: [],\n    //     })\n    //     for(let j =0 ; j < entries[i][1].length; j++) {\n    //       data[i].values.push({\n    //         date: entries[i][1][j].date,\n    //         sales: entries[i][1][j].sales\n    //       })\n    //     }\n    //   }\n\n    var categories = api_data.reduce((r,i) => (((r[i.CATEGORY] = r[i.CATEGORY] || [] ).push({\n      categorie : i.CATEGORY\n    }), r)), {} );\n    // console.log(categories);\n    var category_list = Object.keys(categories); \n    // console.log(category_list);\n    var map = api_data.reduce((r, i) => (((r[i.MONTH] = r[i.MONTH] || []).push({\n      category: i.CATEGORY,\n      values: i.SALES\n    }), r)), {});\n    // console.log(map);\n    var entries = Object.entries(map);\n    console.log(entries)\n\n    var second_data = [];\n      for(let i =0; i < entries.length; i++) {\n        console.log(entries[i][0]);\n        second_data.push({\n          date : entries[i][0]\n        })\n        for(let j =0 ; j < entries[i][1].length; j++) {\n          var x = Object.values(entries[i][1][j]);\n          var a = x[0],\n            b = x[1];\n          second_data[i][a] = b;\n          // second_data.concat({\n          //   [a] : b\n          //   // date: entries[i][1][j].date,\n          //   // sales: entries[i][1][j].sales\n          //   // entries[i][1][j].CATEGORY : entries[i][1][j].CATEGORY\n          // })\n        }\n      }\n    console.log(\"second og data\",second_data)\n    second_data.forEach(function(d) {\n      d.date = (new Date(d.date));\n    });\n    console.log(second_data); \n\n\n     var myData = \"date\tNew York\tSan Francisco\tAustin\\n\\\n20111001\t63.4\t62.7\t72.2\\n\\\n20111002\t58.0\t59.9\t67.7\\n\\\n20111003\t53.3\t59.1\t69.4\\n\\\n20111004\t55.7\t58.8\t68.0\\n\\\n20111005\t64.2\t58.7\t72.4\\n\\\n20111006\t58.8\t57.0\t77.0\\n\\\n20111007\t57.9\t56.7\t82.3\\n\\\n20111008\t61.8\t56.8\t78.9\\n\\\n20111009\t69.3\t56.7\t68.8\\n\\\n20111010\t71.2\t60.1\t68.7\\n\\\n20111011\t68.7\t61.1\t70.3\\n\\\n20111012\t61.8\t61.5\t75.3\\n\\\n20111013\t63.0\t64.3\t76.6\\n\\\n20111014\t66.9\t67.1\t66.6\\n\\\n20111015\t61.7\t64.6\t68.0\\n\\\n20111016\t61.8\t61.6\t70.6\\n\\\n20111017\t62.8\t61.1\t71.1\\n\\\n20111018\t60.8\t59.2\t70.0\\n\\\n20111019\t62.1\t58.9\t61.6\\n\\\n20111020\t65.1\t57.2\t57.4\\n\\\n20111021\t55.6\t56.4\t64.3\\n\\\n20111022\t54.4\t60.7\t72.4\\n\";\n\n    var margin = {\n        top: 20,\n        right: 80,\n        bottom: 30,\n        left: 50\n      },\n      width = 900 - margin.left - margin.right,\n      height = 500 - margin.top - margin.bottom;\n\n    // var parseDate = d3.time.format(\"%Y%m%d\").parse;\n\n    var x = d3.time.scale()\n      .range([0, width]);\n\n    var y = d3.scale.linear()\n      .range([height, 0]);\n\n    var color = d3.scale.category10();\n\n    var xAxis = d3.svg.axis()\n      .scale(x)\n      .orient(\"bottom\");\n\n    var yAxis = d3.svg.axis()\n      .scale(y)\n      .orient(\"left\");\n\n    var line = d3.svg.line()\n      .interpolate(\"basis\")\n      .x(function(d) {\n        return x(d.date);\n      })\n      .y(function(d) {\n        return y(d.temperature);\n      });\n\n    var svg = d3.select(\"#multilinechart\").append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    var data = d3.tsv.parse(myData);\n\n    console.log(d3.tsv.parse(myData),\"abcdef\");\n\n    data = [];\n    data = second_data;\n\n    color.domain(d3.keys(data[0]).filter(function(key) {\n      return key !== \"date\";\n    }));\n\n    // data.forEach(function(d) {\n    //   console.log(d);\n    //   d.date = parseDate(d.date);\n    // });\n\n    var cities = color.domain().map(function(name) {\n      return {\n        name: name,\n        values: data.map(function(d) {\n          return {\n            date: d.date,\n            temperature: +d[name]\n          };\n        })\n      };\n    });\n    console.log(cities)\n\n    x.domain(d3.extent(data, function(d) {\n      return d.date;\n    }));\n\n    y.domain([\n      d3.min(cities, function(c) {\n        return d3.min(c.values, function(v) {\n          return v.temperature;\n        });\n      }),\n      d3.max(cities, function(c) {\n        return d3.max(c.values, function(v) {\n          return v.temperature;\n        });\n      })\n    ]);\n\n    var legend = svg.selectAll('g')\n      .data(cities)\n      .enter()\n      .append('g')\n      .attr('class', 'legend');\n\n    legend.append('rect')\n      .attr('x', width - 20)\n      .attr('y', function(d, i) {\n        return i * 20;\n      })\n      .attr('width', 10)\n      .attr('height', 10)\n      .style('fill', function(d) {\n        return color(d.name);\n      });\n\n    legend.append('text')\n      .attr('x', width - 8)\n      .attr('y', function(d, i) {\n        return (i * 20) + 9;\n      })\n      .text(function(d) {\n        return d.name;\n      });\n\n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(xAxis);\n\n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis)\n      .append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 6)\n      .attr(\"dy\", \".71em\")\n      .style(\"text-anchor\", \"end\")\n      .text(\"Temperature (ÂºF)\");\n\n    var city = svg.selectAll(\".city\")\n      .data(cities)\n      .enter().append(\"g\")\n      .attr(\"class\", \"city\");\n\n    city.append(\"path\")\n      .attr(\"class\", \"line\")\n      .attr(\"d\", function(d) {\n        return line(d.values);\n      })\n      .style(\"stroke\", function(d) {\n        return color(d.name);\n      });\n\n    city.append(\"text\")\n      .datum(function(d) {\n        return {\n          name: d.name,\n          value: d.values[d.values.length - 1]\n        };\n      })\n      .attr(\"transform\", function(d) {\n        return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\";\n      })\n      .attr(\"x\", 3)\n      .attr(\"dy\", \".35em\")\n      .text(function(d) {\n        return d.name;\n      });\n\n    var mouseG = svg.append(\"g\")\n      .attr(\"class\", \"mouse-over-effects\");\n\n    mouseG.append(\"path\") // this is the black vertical line to follow mouse\n      .attr(\"class\", \"mouse-line\")\n      .style(\"stroke\", \"black\")\n      .style(\"stroke-width\", \"1px\")\n      .style(\"opacity\", \"0\");\n      \n    var lines = document.getElementsByClassName('line');\n\n    var mousePerLine = mouseG.selectAll('.mouse-per-line')\n      .data(cities)\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"mouse-per-line\");\n\n    mousePerLine.append(\"circle\")\n      .attr(\"r\", 7)\n      .style(\"stroke\", function(d) {\n        return color(d.name);\n      })\n      .style(\"fill\", \"none\")\n      .style(\"stroke-width\", \"1px\")\n      .style(\"opacity\", \"0\");\n\n    mousePerLine.append(\"text\")\n      .attr(\"transform\", \"translate(10,3)\");\n\n    mouseG.append('svg:rect') // append a rect to catch mouse movements on canvas\n      .attr('width', width) // can't catch mouse events on a g element\n      .attr('height', height)\n      .attr('fill', 'none')\n      .attr('pointer-events', 'all')\n      .on('mouseout', function() { // on mouse out hide line, circles and text\n        d3.select(\".mouse-line\")\n          .style(\"opacity\", \"0\");\n        d3.selectAll(\".mouse-per-line circle\")\n          .style(\"opacity\", \"0\");\n        d3.selectAll(\".mouse-per-line text\")\n          .style(\"opacity\", \"0\");\n      })\n      .on('mouseover', function() { // on mouse in show line, circles and text\n        d3.select(\".mouse-line\")\n          .style(\"opacity\", \"1\");\n        d3.selectAll(\".mouse-per-line circle\")\n          .style(\"opacity\", \"1\");\n        d3.selectAll(\".mouse-per-line text\")\n          .style(\"opacity\", \"1\");\n      })\n      .on('mousemove', function() { // mouse moving over canvas\n        var mouse = d3.mouse(this);\n        d3.select(\".mouse-line\")\n          .attr(\"d\", function() {\n            var d = \"M\" + mouse[0] + \",\" + height;\n            d += \" \" + mouse[0] + \",\" + 0;\n            return d;\n          });\n\n        d3.selectAll(\".mouse-per-line\")\n          .attr(\"transform\", function(d, i) {\n            // console.log(width/mouse[0])\n            var xDate = x.invert(mouse[0]),\n                bisect = d3.bisector(function(d) { return d.date; }).right;\n              var  idx = bisect(d.values, xDate);\n            \n            var beginning = 0,\n                end = lines[i].getTotalLength(),\n                target = null;\n\n            while (true){\n              target = Math.floor((beginning + end) / 2);\n              var pos = lines[i].getPointAtLength(target);\n              if ((target === end || target === beginning) && pos.x !== mouse[0]) {\n                  break;\n              }\n              if (pos.x > mouse[0])      end = target;\n              else if (pos.x < mouse[0]) beginning = target;\n              else break; //position found\n            }\n            \n            d3.select(this).select('text')\n              .text(y.invert(pos.y).toFixed(2));\n              \n            return \"translate(\" + mouse[0] + \",\" + pos.y +\")\";\n          });\n      });\n      \n\n  }\n\n}\n</script>\n  <style>\n    \n    \n    .axis path,\n    .axis line {\n      fill: none;\n      stroke: #000;\n      shape-rendering: crispEdges;\n    }\n    \n    /* .x.axis path {\n      display: none;\n    } */\n    \n    .line {\n      fill: none;\n      stroke: steelblue;\n      stroke-width: 1.5px;\n    }\n  </style>"]}]}