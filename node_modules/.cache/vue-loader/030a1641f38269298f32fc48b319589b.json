{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/ResetPassword.vue?vue&type=style&index=0&id=04d9994c&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/ResetPassword.vue","mtime":1656322475516},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGFpbmVyIHsKICB3aWR0aDogYXV0bwp9Cg=="},{"version":3,"sources":["ResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgLA;AACA;AACA","file":"ResetPassword.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Pages","sourcesContent":["<template>\n  <div class=\"log-wrap d-flex align-items-center\">\n    <div class=\"container\">\n      <div class=\"log-blk\">\n        <div class=\"row no-gutters\">\n          <div class=\"col-lg-12\">\n            <div class=\"log-sec d-flex align-items-center\">\n              <div class=\"log-frm\">\n                <h4 style=\"text-align: center;\">{{tlt('reset_pwd_heading')}}</h4>\n                <form @submit=\"submit_reset_password\">\n                    <div class=\"form-group\">\n                        <input\n                        type=\"password\"\n                        id=\"old_password\"\n                        v-model=\"old_password\"\n                        class=\"form-control pass\"\n                        :placeholder=\"tlt('old_password')\"\n                        />\n                        <div\n                        class=\"is-invalid\"\n                        style=\"color:red\"\n                        v-show=\"validOldPassword!=true && old_password!=''\"\n                        >{{ validOldPassword }}</div>\n                        <a href=\"#\" @click=\"password_toggle\" class=\"view-pass\">\n                        <img src=\"/img/eye-icn.png\" alt />\n                        </a>\n                  </div>\n                  <div class=\"form-group\">\n                    <input\n                      type=\"password\"\n                      id=\"new_password\"\n                      v-model=\"new_password\"\n                      class=\"form-control pass\"\n                      placeholder=\"tlt('new_password')\"\n                    />\n                    <div\n                      class=\"is-invalid\"\n                      style=\"color:red\"\n                      v-show=\"validPassword!=true && new_password!=''\"\n                    >{{ validPassword }}</div>\n                    <a href=\"#\" @click=\"password_toggle\" class=\"view-pass\">\n                      <img src=\"/img/eye-icn.png\" alt />\n                    </a>\n                  </div>\n                  <div class=\"form-group\">\n                    <input\n                      type=\"password\"\n                      id=\"confirm_password\"\n                      v-model=\"confirm_password\"\n                      class=\"form-control pass\"\n                      placeholder=\"tlt('enter_new_password')\"\n                    />\n                    <div\n                      class=\"is-invalid\"\n                      style=\"color:red\"\n                      v-show=\"validConfirmPassword!=true && confirm_password!=''\"\n                    >{{ validConfirmPassword }}</div>\n                    <a href=\"#\" @click=\"password_toggle\" class=\"view-pass\">\n                      <img src=\"/img/eye-icn.png\" alt />\n                    </a>\n                  </div>\n                  <div class=\"btn-wrap\">\n                    <button type=\"submit\" class=\"darkblue-btn\">{{tlt('submit_btn')}}</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\n\nexport default {\n  data() {\n    return {\n      old_password: \"\",\n      new_password: \"\",\n      confirm_password: \"\",\n      reg_pwd: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#@$!%*?&])[A-Za-z\\d#@$!%*?&]{8,}/,\n      password_valid: null,\n      password_match: null\n    };\n  },\n  computed: {\n      validOldPassword() {\n      if (this.reg_pwd.test(this.old_password)) {\n        this.password_valid = true;\n        return true;\n      } else {\n        return this.tlt('reset_pwd_condition');\n      }\n    },\n    validPassword() {\n      if (this.reg_pwd.test(this.new_password)) {\n        this.password_valid = true;\n        return true;\n      } else {\n        return this.tlt('confirm_pwd_condition');\n      }\n    },\n    validConfirmPassword() {\n      if (\n        this.reg_pwd.test(this.confirm_password) ||\n        this.confirm_password == \"\"\n      ) {\n        this.password_match = true;\n        return true;\n      } else {\n        return this.tlt('confirm_pwd_condition');\n      }\n    }\n  },\n  methods: {\n    password_toggle() {\n      event.preventDefault();\n      var password = event.target.parentElement.parentElement.children[0].id;\n      var doc = document.getElementById(password);\n      if (doc.type == \"text\") {\n        doc.type = \"password\";\n      } else if (doc.type == \"password\") {\n        doc.type = \"text\";\n      }\n    },\n    submit_reset_password() {\n      event.preventDefault();\n      if (this.password_valid == true && this.password_match == true) {\n        var token_id = this.$route.query.token\n        var email = this.$route.query.email;\n\n        this.call_api(token_id, email);\n      }\n    },\n    call_api(token_id, email) {\n      var date = new Date();\n      axios\n        .post(api_calls.reset_password_update(), {\n          token: token_id,\n          email: email,\n          newpassword: this.new_password,\n          oldpassword: this.old_password,\n          date: date,\n        })\n        .then(response => {\n          if (response.data.includes(\"expired\")) {\n            swal({\n              text: this.tlt('link_expired_msg'),\n              timer:2000,\n            });\n          } else if (response.data == \"Password Reset\") {\n            swal({\n              text:\n                this.tlt('password_updated_msg'),\n              timer:3000,\n            });\n          } else if (response.data == \"User Doesn't Exist\") {\n            swal({\n              text: this.tlt('user_does_not_exist'),\n              timer:2000,   \n            });\n          }\n        });\n      this.new_password = \"\";\n      this.confirm_password = \"\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  width: auto\n}\n</style>\n"]}]}