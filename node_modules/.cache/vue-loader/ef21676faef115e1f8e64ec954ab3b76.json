{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Customer Support/CustomerTicketing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Customer Support/CustomerTicketing.vue","mtime":1663910265458},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7ICBjbG9zZV9tb2RhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG1peGluczogWyBjbG9zZV9tb2RhbF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbXBhbnluYW1lOiBudWxsLAogICAgICBjb21wYW55aWQ6IG51bGwsCiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIHRpY2tldF9saXN0OiBbXSwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDIwLAogICAgICBwYWdlX2FycmF5OiBbXSwKICAgICAgdG90YWxfcGFnZXM6IG51bGwsCiAgICAgIG51bWJlcl9vZl9yb3dzOiBudWxsLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBDb21tZW50c19saXN0OiBbXSwKICAgICAgY29tbWVudF9pdGVtX2xpc3Q6IFtdLAogICAgICB0aWNrZXRfbnVtYmVyOiAiIiwKICAgICAgY3VycmVudF9zZWxlY3RlZF90aWNrZXRfbnVtYmVyOiAiIiwKICAgICAgbmV3X3RpY2tldF9jb21tZW50OiAiIiwKICAgICAgY3VycmVudF9pbWFnZV9uYW1lX2luX2NvbW1lbnQ6ICIiLAogICAgICBJbWFnZXNfaW5fY3VycmVudF9jb21tZW50OiAiIiwKICAgICAgbmV3X2ltYWdlX25hbWU6ICIiLAogICAgICBuZXdfaW1hZ2VfZmlsZTogIiIsCiAgICAgIGltYWdlX2ZpbGU6ICIiLAogICAgICB0aWNrZXRfaXNzdWVfbmFtZTogIiIsCiAgICAgIHRpY2tldF9zdGF0dXM6ICIiLAogICAgICBpc3N1ZV9uYW1lOiAiIiwKICAgICAgaXNzdWVfZGVzY3JpcHRpb246ICIiLAogICAgICBpc3N1ZV9jb21tZW50OiAiIiwKICAgICAgZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgaXNfc3RhdHVzOiBudWxsLAogICAgICBzaG93X3RpY2tldF9zdGF0dXM6ICJPcGVuIiwKICAgICAgY3VycmVudF9zdGF0dXM6ICIiLAogICAgICBpc19zdGF0dXNfY2xvc2VkOiBmYWxzZSwKICAgICAgY3VycmVudF90aWNrZXRfZGVzY3JpcHRpb246ICIiLAogICAgICBzZWFyY2hfa2V5OiAiIiwKICAgICAgaXNWaXNpYmxlU2VhcmNoQ2xlYXI6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzX3NlbmRfYnRuX2VuYWJsZSgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5uZXdfdGlja2V0X2NvbW1lbnQgfHwgdGhpcy5uZXdfaW1hZ2VfbmFtZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBpc19yZW9wZW5fYnRuX2VuYWJsZSgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5uZXdfdGlja2V0X2NvbW1lbnQgfHwgdGhpcy5uZXdfaW1hZ2VfbmFtZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzZWFyY2hfa2V5KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hfa2V5ID09PSAiIikgewogICAgICAgIHRoaXMudGlja2V0X3N0YXR1c19kcm9wZG93bigpOwogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaF9rZXkgIT09ICIiKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAoCiAgICAgICF0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgJiYKICAgICAgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iCiAgICApIHsKICAgICAgdG9hc3RyLndhcm5pbmcodGhpcy50bHQoJ3NlbGVjdF9jb21wYW55X25hbWVfbXNnMScpKTsKICAgIH0gZWxzZSBpZiAodGhpcy51c2VyX3JvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikpIHsKICAgICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDb21wYW55SWQiKTsKICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlOYW1lIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgdGhpcy5jb21wYW55bmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWU7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gJCgnLm1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uKCl7CiAgICAvLyAgICQoIltkYXRhLWRpc21pc3M9bW9kYWxdIikudHJpZ2dlcih7IHR5cGU6ICJjbGljayIgfSk7CiAgICAvLyB9KTsKICAgIHRoaXMudGlja2V0X3N0YXR1c19kcm9wZG93bigpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHRpY2tldF9zdGF0dXNfZHJvcGRvd24oKSB7CiAgICAgIGlmICh0aGlzLnNob3dfdGlja2V0X3N0YXR1cyAhPSAiIikgewogICAgICAgIHRoaXMuaXNfc3RhdHVzID0gdGhpcy5zaG93X3RpY2tldF9zdGF0dXM7CiAgICAgIH0KICAgICAgdGhpcy50aWNrZXRfbGlzdCA9IFtdOwogICAgICB0aGlzLnBhZ2Vfbm8gPSAxOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMuc3VwcG9ydF90aWNrZXQoKSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgZmlsdGVyX2J5OiB0aGlzLmlzX3N0YXR1cywKICAgICAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSAmJgogICAgICAgICAgICByZXNwb25zZS5kYXRhLmRhdGEuVGlja2V0ICE9IHVuZGVmaW5lZAogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfZGF0YTsKICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlOwogICAgICAgICAgICB0aGlzLnRpY2tldF9saXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhLlRpY2tldDsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gMTsKCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLk5PX0VYSVNUSU5HX1RJQ0tFVC5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9ub190aWNrZXRfZm91bmQnKSwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSAKICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIHRyaW1fdGlja2V0X2lzc3VlX25hbWUobmFtZSkgewogICAgICBpZiAobmFtZS5sZW5ndGggPiA0MCkgewogICAgICAgIGxldCBzdHJpbmdfbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDAsIDMwKSArICIuLi4iOwogICAgICAgIHJldHVybiBzdHJpbmdfbmFtZTsKICAgICAgfQogICAgICByZXR1cm4gbmFtZTsKICAgIH0sCiAgICAvLyB0cmltX3RpY2tldF9kZXNjcmlwdGlvbihkZXNfbmFtZSkgewogICAgLy8gICBpZiAoZGVzX25hbWUubGVuZ3RoID4gNjApIHsKICAgIC8vICAgICBsZXQgdGlja2V0X2Rlc19uYW1lID0gZGVzX25hbWUuc3Vic3RyaW5nKDAsIDUwKSArICIuLi4iOwogICAgLy8gICAgIHJldHVybiB0aWNrZXRfZGVzX25hbWU7CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIGRlc19uYW1lOwogICAgLy8gfSwKICAgIGRhdGVfZm9ybWF0aW5nKHN1Yl9kYXRlKSB7CiAgICAgIHJldHVybiBtb21lbnQoc3ViX2RhdGUpLmZvcm1hdCgiRCBNTU0gWVlZWSBISDptbSBhIik7CiAgICB9LAoKICAgIGNsZWFyX3NlYXJjaF9uYW1lKCkgewogICAgICB0aGlzLnNlYXJjaF9rZXkgPSAiIjsKICAgIH0sCiAgICBvcGVuX2NvbW1lbnRfbW9kZWwoaW5kZXgpIHsKICAgICAgdGhpcy5Db21tZW50c19saXN0ID0gW107CiAgICAgIHRoaXMuQ29tbWVudHNfbGlzdCA9IEJvb2xlYW4odGhpcy50aWNrZXRfbGlzdFtpbmRleF0uQ29tbWVudHMpCiAgICAgICAgPyB0aGlzLnRpY2tldF9saXN0W2luZGV4XS5Db21tZW50cwogICAgICAgIDogW107CiAgICAgIHRoaXMuY3VycmVudF9zZWxlY3RlZF90aWNrZXRfbnVtYmVyID0gdGhpcy50aWNrZXRfbGlzdFsKICAgICAgICBpbmRleAogICAgICBdLlRpY2tldE51bWJlcjsKICAgICAgdGhpcy50aWNrZXRfaXNzdWVfbmFtZSA9IHRoaXMudGlja2V0X2xpc3RbaW5kZXhdLlRpY2tldElzc3VlOwogICAgICB0aGlzLnRpY2tldF9zdGF0dXMgPSB0aGlzLnRpY2tldF9saXN0W2luZGV4XS5DdXJyZW50U3RhdHVzOwogICAgICB0aGlzLmN1cnJlbnRfdGlja2V0X2Rlc2NyaXB0aW9uID0gdGhpcy50aWNrZXRfbGlzdFtpbmRleF0uRGVzY3JpcHRpb247CiAgICAgIGlmICh0aGlzLnRpY2tldF9zdGF0dXMgPT09ICJDbG9zZWQiKSB7CiAgICAgICAgdGhpcy5pc19zdGF0dXNfY2xvc2VkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX3N0YXR1c19jbG9zZWQgPSBmYWxzZTsKICAgICAgfQogICAgICAvL3RoaXMuY3VycmVudF9pbWFnZV9uYW1lID0gdGhpcy5Db21tZW50c19saXN0W2luZGV4XS5pbWFnZV9uYW1lOwogICAgICB0aGlzLmN1cnJlbnRfc3RhdHVzID0gdGhpcy50aWNrZXRfbGlzdFtpbmRleF0uQ3VycmVudFN0YXR1czsKICAgIH0sCgogICAgcmVvcGVuX2NvbW1lbnQoKSB7CiAgICAgIGlmICh0aGlzLm5ld190aWNrZXRfY29tbWVudCAhPSAiIikgewogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGFwaV9jYWxscy5zdXBwb3J0X3RpY2tldCgpLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICAgIGlzX2VkaXQ6IHRydWUsCiAgICAgICAgICAgICAgcmVvcGVuOiB0cnVlLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICByZXNwb25zZTogewogICAgICAgICAgICAgICAgdGlja2V0X251bWJlcjogdGhpcy5jdXJyZW50X3NlbGVjdGVkX3RpY2tldF9udW1iZXIsCiAgICAgICAgICAgICAgICBuZXdfY29tbWVudDogdGhpcy5uZXdfdGlja2V0X2NvbW1lbnQsCiAgICAgICAgICAgICAgICB0aWNrZXRfaW1nX25hbWU6IHRoaXMubmV3X2ltYWdlX25hbWUKICAgICAgICAgICAgICAgICAgPyB0aGlzLm5ld19pbWFnZV9uYW1lCiAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICAgIHRpY2tldF9pbWdfZmlsZTogdGhpcy5pbWFnZV9maWxlID8gdGhpcy5pbWFnZV9maWxlIDogbnVsbAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5USUNLRVRfVVBEQVRFRC5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfc3RhdHVzX3VwZGF0ZWQnKSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICAgICAgJCgiI215TW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgICAgaWYodGhpcy5zZWFyY2hfa2V5ICE9ICIiKXsKICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hfa2V5ID0gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnRpY2tldF9zdGF0dXNfZHJvcGRvd24oKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5JTUdfRFVQTElDQVRFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9pbWdfYWxyZWFkeV9mb3VuZCcpLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuVU5TVUNDRVNTRlVMX0RCX1FVRVJZLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9lcnJvcl9vY2N1cnJlZDInKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuZW1wdHlfdmFyaWFibGUoKTsKICAgICAgICAgICAgICAkKCIjbXlNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfaW50ZXJuYWxfc2VydmVyX21zZzInKSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgLy8kKCIjbXlNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgLy90aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgJCgiI215TW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfaW50ZXJuYWxfc2VydmVyX21zZzMnKSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICB9CiAgICB9LAogICAgb3Blbl9pbWFnZV9tb2RlbChpbmRleCkgewogICAgICBpZiAodGhpcy5Db21tZW50c19saXN0W2luZGV4XS5pbWFnZV91cmwgIT0gbnVsbCkgewogICAgICAgIHRoaXMuSW1hZ2VzX2luX2N1cnJlbnRfY29tbWVudCA9IHRoaXMuQ29tbWVudHNfbGlzdFtpbmRleF0uaW1hZ2VfdXJsOwogICAgICAgIHRoaXMuY3VycmVudF9pbWFnZV9uYW1lX2luX2NvbW1lbnQgPSB0aGlzLkNvbW1lbnRzX2xpc3RbCiAgICAgICAgICBpbmRleAogICAgICAgIF0uaW1hZ2VfbmFtZTsKICAgICAgfQogICAgfSwKICAgIFVwbG9hZF9pbWFnZV9maWxlKGV2ZW50KSB7CiAgICAgIGxldCBmaWxlcyA9IGV2ZW50LnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKICAgICAgaWYgKGZpbGVzWzBdLnNpemUgPiAyMDk3MTUyKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X3VwbG9hZF9pbWdfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDEwMDAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMubmV3X2ltYWdlX25hbWUgPSBldmVudC50YXJnZXQuZmlsZXNbMF0ubmFtZTsKICAgICAgdGhpcy5uZXdfaW1hZ2VfZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXS50eXBlOwoKICAgICAgaWYgKHRoaXMubmV3X2ltYWdlX25hbWUgIT0gdGhpcy5jdXJyZW50X2ltYWdlX25hbWVfaW5fY29tbWVudCkgewogICAgICB9CiAgICAgIGlmICh0aGlzLm5ld19pbWFnZV9maWxlID09ICJpbWFnZS9wbmciKSB7CiAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlc1swXSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZXdfaW1hZ2VfZmlsZSA9PSAiaW1hZ2UvanBlZyIpIHsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm5ld19pbWFnZV9maWxlID09ICJpbWFnZS9qcGciKSB7CiAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9zZWxlY3RfaW1nX3R5cGUnKSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVJbWFnZShmaWxlLCB0eXBlKSB7CiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgdGhpcy5pbWFnZV9maWxlID0gZS50YXJnZXQucmVzdWx0LnNwbGl0KCJiYXNlNjQsIilbMV07CiAgICAgIH07CiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKCiAgICBTZW5kX3RpY2tldF9jb21tZW50cygpIHsKICAgICAgaWYodGhpcy5uZXdfdGlja2V0X2NvbW1lbnQgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfYWRkX2NvbW1lbnRfd2FybmluZycpLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZigodGhpcy5uZXdfaW1hZ2VfbmFtZSA9PSAiIiAmJiB0aGlzLm5ld19pbWFnZV9maWxlICE9ICIiKSB8fCAodGhpcy5uZXdfaW1hZ2VfbmFtZSAhPSAiIiAmJiB0aGlzLm5ld19pbWFnZV9maWxlID09ICIiKSkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9hdHRhY2hfaW1hZ2VfY29tbWVudF93YXJuaW5nJyksCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoCiAgICAgICAgdGhpcy5uZXdfdGlja2V0X2NvbW1lbnQgIT0gIiIgfHwKICAgICAgICAodGhpcy5uZXdfaW1hZ2VfbmFtZSAhPSAiIiAmJiB0aGlzLm5ld19pbWFnZV9maWxlICE9ICIiKQogICAgICApIHsKICAgICAgICAKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICBhcGlfY2FsbHMuc3VwcG9ydF90aWNrZXQoKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICBpc19lZGl0OiB0cnVlLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICByZXNwb25zZTogewogICAgICAgICAgICAgICAgdGlja2V0X251bWJlcjogdGhpcy5jdXJyZW50X3NlbGVjdGVkX3RpY2tldF9udW1iZXIsCiAgICAgICAgICAgICAgICBuZXdfY29tbWVudDogdGhpcy5uZXdfdGlja2V0X2NvbW1lbnQKICAgICAgICAgICAgICAgICAgPyB0aGlzLm5ld190aWNrZXRfY29tbWVudAogICAgICAgICAgICAgICAgICA6IG51bGwsCiAgICAgICAgICAgICAgICB0aWNrZXRfaW1nX25hbWU6IHRoaXMubmV3X2ltYWdlX25hbWUKICAgICAgICAgICAgICAgICAgPyB0aGlzLm5ld19pbWFnZV9uYW1lCiAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICAgIHRpY2tldF9pbWdfZmlsZTogdGhpcy5pbWFnZV9maWxlID8gdGhpcy5pbWFnZV9maWxlIDogbnVsbAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyBwYWdlbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgICAvLyBwZXJwYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5USUNLRVRfVVBEQVRFRC5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfY29tbWVudF9hZGRlZCcpLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgICAvLyAkKCIjYnRuLWNsb3NlLWNvbW1lbnQiKS5jbGljaygpOwogICAgICAgICAgICAgICAgaWYodGhpcy5zZWFyY2hfa2V5ICE9ICIiKXsKICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hfa2V5ID0gIiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTsKICAgICAgICAgICAgICAgIC8vICQoJy5tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgdGhpcy50aWNrZXRfc3RhdHVzX2Ryb3Bkb3duKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuSU1HX0RVUExJQ0FURS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICAgIHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfaW1nX2FscmVhZHlfZm91bmQnKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X2ludGVybmFsX3NlcnZlcl9tc2c0JyksCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vJCgiI215TW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIC8vdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICAgICAgICAgICQoIiNteU1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X2ludGVybmFsX3NlcnZlcl9tc2c1JyksCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vICBsZXQgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bl9zZW5kX2lkJyk7CiAgICAgICAgICAvLyAgY29uc29sZS5sb2coYnRuKQogICAgICAgICAgLy8gICAgIGJ0bi5zZXRBdHRyaWJ1dGUoImRhdGEtZGlzbWlzcyIgLCAibW9kYWwiKTsKICAgICAgICAgIC8vICAgICAvLyAkKGAjJHtpZH1gKS5hdHRyKCJkYXRhLWRpc21pc3MiLCJtb2RhbCIpOyAKICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnYXR0YWNoZWQnICkKICAgICAgICAgIC8vICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgICAvLyAgICAgICAgIC8vICQoYCMke2lkfWApLmF0dHIoImRhdGEtZGlzbWlzcyIsIm1vZGFsIik7IAogICAgICAgICAgLy8gICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLWRpc21pc3MiKTsKICAgICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3JlbW92ZWQnKSAKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAvLyAgICAgfSwwKQogICAgICAgICAgdGhpcy5jbG9zZV9tb2RhbCgnYnRuX3NlbmRfaWQnKQogICAgICB9CiAgICB9LAogICAgdGlja2V0X3N1Ym1pdCgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMuaXNzdWVfbmFtZSA9PSAiIikgewogICAgICAgIHRvYXN0ci53YXJuaW5nKHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfZW50ZXJfbmFtZScpKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzc3VlX2Rlc2NyaXB0aW9uID09ICIiKSB7CiAgICAgICAgdG9hc3RyLndhcm5pbmcodGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9icmllZl9kZXNjcmlwdGlvbicpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgLy8gU3dhbCh7CiAgICAgICAgLy8gICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X3N1Ym1pdF90aWNrZXRfZGV0YWlsJyksCiAgICAgICAgLy8gICB0eXBlOiAiaW5mbyIsCiAgICAgICAgLy8gICB0b2FzdDogdHJ1ZSwKICAgICAgICAvLyAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZQogICAgICAgIC8vIH0pOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLnN1cHBvcnRfdGlja2V0KCksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgaXNfc2F2ZTogdHJ1ZSwKICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgcmVzcG9uc2U6IHsKICAgICAgICAgICAgICAgIHRpY2tldF9pbWdfbmFtZToKICAgICAgICAgICAgICAgICAgdGhpcy5maWxlX2xhYmVsID09ICJDaG9vc2UgZmlsZSIgPyBudWxsIDogdGhpcy5maWxlX2xhYmVsLAogICAgICAgICAgICAgICAgdGlja2V0X2ltZ19maWxlOiB0aGlzLmltZ19maWxlID8gdGhpcy5pbWdfZmlsZSA6IG51bGwsCiAgICAgICAgICAgICAgICBuZXdfY29tbWVudDogdGhpcy5pc3N1ZV9jb21tZW50ID8gdGhpcy5pc3N1ZV9jb21tZW50IDogbnVsbCwKICAgICAgICAgICAgICAgIHRpY2tldF9pc3N1ZTogdGhpcy5pc3N1ZV9uYW1lLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuaXNzdWVfZGVzY3JpcHRpb24KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuVElDS0VUX0NSRUFURUQuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X2FkZGVkX3N1Y2Nlc3NmdWwnKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5jbGVhcl9maWVsZHMoKTsKICAgICAgICAgICAgICB0aGlzLnRpY2tldF9zdGF0dXNfZHJvcGRvd24oKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5JTUdfRFVQTElDQVRFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9pbWdfYWxyZWFkeV9mb3VuZDEnKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLlVOU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfZXJyb3Jfb2NjdXJyZWQxJyksCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmNsZWFyX2ZpZWxkcygpOwogICAgICAgICAgICAgIAogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X2ludGVybmFsX3NlcnZlcl9tc2c2JyksCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIAogICAgICAgICAgICAgIC8vJCgiI3RpY2tldG1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICAvL3RoaXMuY2xlYXJfZmllbGRzKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9pbnRlcm5hbF9zZXJ2ZXJfbXNnNycpLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLmNsZWFyX2ZpZWxkcygpOwogICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgICAvLyBsZXQgYnRuID1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZV90aWNrZXQnKTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGJ0bikKICAgICAgICAgIC8vICAgICBidG4uc2V0QXR0cmlidXRlKCJkYXRhLWRpc21pc3MiICwgIm1vZGFsIik7CiAgICAgICAgICAvLyAgICAgLy8gJChgIyR7aWR9YCkuYXR0cigiZGF0YS1kaXNtaXNzIiwibW9kYWwiKTsgCiAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2F0dGFjaGVkJyApCiAgICAgICAgICAvLyAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgLy8gICAgICAgICAvLyAkKGAjJHtpZH1gKS5hdHRyKCJkYXRhLWRpc21pc3MiLCJtb2RhbCIpOyAKICAgICAgICAgIC8vICAgICAgICAgYnRuLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1kaXNtaXNzIik7CiAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdmVkJykgCiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgLy8gICAgIH0sMCkKICAgICAgICAgIHRoaXMuY2xvc2VfbW9kYWwoJ3NhdmVfdGlja2V0JykKICAgICAgfQogICAgfSwKICAgIGNhbGxzZWFyY2goKSB7CiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykgewogICAgICAgIGlmICh0aGlzLmlzRWRpdEludGVudCkgewogICAgICAgICAgdGhpcy52ZXJpZnlfY2hhbmdlcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlYXJjaF90aWNrZXQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hfdGlja2V0KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hfa2V5ICE9ICIiKSB7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLnN1cHBvcnRfdGlja2V0KCksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgaXNfc2VhcmNoOiB0cnVlLAogICAgICAgICAgICAgIHNlYXJjaF9rZXk6IHRoaXMuc2VhcmNoX2tleSwKICAgICAgICAgICAgICBmaWx0ZXJfYnk6IHRoaXMuaXNfc3RhdHVzLAogICAgICAgICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICB0aGlzLnRpY2tldF9saXN0ID0gW107CiAgICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gMTsKICAgICAgICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlOwogICAgICAgICAgICAgIHRoaXMudGlja2V0X2xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEuUmVzcG9uc2VMaXN0OwogICAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLk1JU1NJTkdfU0VBUkNIX0tFWS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X3NlYXJjaF9tc2cnKSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfZXJyb3Jfb2NjdXJyZWQzJyksCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMudGlja2V0X3N0YXR1c19kcm9wZG93bigpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLkVNUFRZX0RBVEEuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X25vX3Jlc3VsdF9mb3VuZCcpLAogICAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5OT19EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X3R5cGVfc29tZXRoaW5nX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHBhZ2VfcmVxdWlyZShwYWdlKSB7CiAgICAgIGlmIChwYWdlID09IDAgfHwgcGFnZSA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkgewogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnNlYXJjaF9rZXkgPT0gIiIpIHsKICAgICAgICAgIGlmIChwYWdlID09ICIuLi5zIikgewogICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKDEgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gIi4uLmwiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2U7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICBhcGlfY2FsbHMuc3VwcG9ydF90aWNrZXQoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgICAgICAgICBmaWx0ZXJfYnk6IHRoaXMuaXNfc3RhdHVzLAogICAgICAgICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhOwogICAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlOwogICAgICAgICAgICAgICAgdGhpcy50aWNrZXRfbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5UaWNrZXQ7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFwaV9zdGF0dXNfY29kZS5OT19EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9ub190aWNrZXRfZm91bmQxJyksCiAgICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLkVNUFRZX0RBVEEuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9ub190aWNrZXRfZm91bmQyJyksCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuTUlTU0lOR19TRUFSQ0hfS0VZLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2N1c3RvbWVyX3RpY2tldF9ub190aWNrZXRfZm91bmQzJyksCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnY3VzdG9tZXJfdGlja2V0X2ludGVybmFsX3NlcnZlcl9tc2c2JyksCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnBhZ2VubyA9PSAiLi4ucyIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhZ2VubyA9PSAiLi4ubCIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gdGhpcy5wYWdlbm87CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgICBhcGlfY2FsbHMuc3VwcG9ydF90aWNrZXQoKSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgICAgICAgICBmaWx0ZXJfYnk6IHRoaXMuaXNfc3RhdHVzLAogICAgICAgICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhOwogICAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlOwogICAgICAgICAgICAgICAgdGhpcy50aWNrZXRfbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5UaWNrZXQ7ICAKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBpX3N0YXR1c19jb2RlLk5PX0RBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfbm9fdGlja2V0X2ZvdW5kNCcpLAogICAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfaW50ZXJuYWxfc2VydmVyX21zZzYnKSwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0cGFnaW5hdGlvbihwYWdlX25vKSB7CiAgICAgIHRoaXMucGFnZV9hcnJheSA9IFtdOwogICAgICBpZiAodGhpcy50b3RhbF9wYWdlcyA8PSA3KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSAxKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IHRoaXMudG90YWxfcGFnZXMpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwogICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnRvdGFsX3BhZ2VzIC0gNDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vIDw9IDQpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfSBlbHNlIGlmIChwYWdlX25vID49IHRoaXMudG90YWxfcGFnZXMgLSA0KSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gcGFnZV9ubyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgICAgICBmb3IgKGxldCBpID0gcGFnZV9ubyAtIDM7IGkgPD0gcGFnZV9ubyArIDM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0aW9uX2NsYXNzKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSB0aGlzLnBhZ2Vfbm8pIHsKICAgICAgICByZXR1cm4gIiBhY3RpdmUiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIGZpbGVpbnB1dChlKSB7CiAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICBpZiAoZmlsZXNbMF0uc2l6ZSA+IDIwOTcxNTIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfdXBsb2FkX2ltZ19tczInKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMTAwMDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gCiAgICAgIGlmIChmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvcG5nIiB8fCBmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvanBlZyIpIHsKICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuOwogICAgICAgIHRoaXMub2xkX2ltYWdlX25hbWUgPSB0aGlzLmZpbGVfbGFiZWw7CiAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gZmlsZXNbMF0ubmFtZTsKICAgICAgICB0aGlzLm5ld19pbWFnZV9maWxlID0gZmlsZXNbMF0udHlwZTsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlMShmaWxlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9hc3RyLmVycm9yKHRoaXMudGx0KCdjdXN0b21lcl90aWNrZXRfc2VsZWN0X2ltZ190eXBlMicpKTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZUltYWdlMShmaWxlLCB0eXBlKSB7CiAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgdGhpcy5pbWdfZmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCgogICAgY2xlYXJfZmllbGRzKCkgewogICAgICB0aGlzLmltZ19maWxlID0gIiI7CiAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgIHRoaXMuaXNzdWVfY29tbWVudCA9ICIiOwogICAgICB0aGlzLmlzc3VlX25hbWUgPSAiIjsKICAgICAgdGhpcy5pc3N1ZV9kZXNjcmlwdGlvbiA9ICIiOwogICAgfSwKICAgIGVtcHR5X3ZhcmlhYmxlKCkgewogICAgICAvLyB0aGlzLnNlYXJjaF9rZXkgPSAiIjsKICAgICAgdGhpcy5Db21tZW50c19saXN0ID0gWyIiXTsKICAgICAgdGhpcy5jb21tZW50X2l0ZW1fbGlzdCA9IFsiIl07CiAgICAgIHRoaXMubmV3X3RpY2tldF9jb21tZW50ID0gIiI7CiAgICAgIHRoaXMubmV3X2ltYWdlX25hbWUgPSAiIjsKICAgICAgdGhpcy5uZXdfaW1hZ2VfZmlsZSA9ICIiOwogICAgICB0aGlzLmZpbGVfY29udGVudDIgPSAiIjsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["CustomerTicketing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerTicketing.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Customer Support","sourcesContent":["<template>\n  <div>\n    <div class=\"dash-cont\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          >\n            <h4 class=\"mb-sm-0\">{{tlt('customer_page_ticket_title')}}</h4>\n            <div class=\"card-act d-flex\">\n              <input\n                class=\"form-control search-bar\"\n                id=\"search_bar\"\n                :placeholder=\"tlt('search_here')\"\n                v-model.trim=\"search_key\"\n                v-on:keyup=\"callsearch\"\n              />\n              <a\n                type=\"button\"\n                v-if=\"isVisibleSearchClear\"\n                class=\"btn bg-transparent mt-auto mb-auto py-0\"\n                @click=\"clear_search_name\"\n                style=\"margin-left: -40px; z-index: 10\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </a>\n              <a\n                href=\"javascript:void(0)\"\n                class=\"darkblue-btn\"\n                @click=\"search_ticket()\"\n                id=\"search_btn\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                  width=\"14\"\n                  height=\"14\"\n                >\n                  <path\n                    d=\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n              </a>\n              <a\n                href=\"#\"\n                class=\"darkblue-btn\"\n                data-target=\"#ticketmodal\"\n                data-toggle=\"modal\"\n                id=\"add_ticket_btn\"\n                title=\"Add new ticket\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"14\"\n                  height=\"13.997\"\n                  viewBox=\"0 0 14 13.997\"\n                >\n                  <path\n                    id=\"Union_13\"\n                    data-name=\"Union 13\"\n                    d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                    transform=\"translate(12690.001 -2045.002)\"\n                    fill=\"#fff\"\n                  />\n                </svg>\n                {{tlt('customer_page_add_ticket_btn')}}\n              </a>\n              <div class=\"form-group mb-0\">\n                <select\n                  class=\"form-control\"\n                  v-model=\"show_ticket_status\"\n                  @change=\"ticket_status_dropdown\"\n                  id=\"select_ticket_status\"\n                >\n                  <option value=\"Open\">{{tlt('ticket_dropdown_open_label')}}</option>\n                  <option value=\"Closed\">{{tlt('ticket_dropdown_closed')}}</option>\n                  <option value=\"All\">{{tlt('ticket_dropdown_all')}}</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class=\"card-body\" id=\"page\">\n            <div\n              class=\"table-box\"\n              v-show=\"\n                Boolean(\n                  ticket_list.length > 0 || ticket_list.length != undefined\n                )\n              \"\n            >\n              <div class=\"table-responsive\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <!-- <th scope=\"col\">\n                        <div class=\"form-check checkbox checkbox-success\">\n                          <label class=\"form-check-label\">\n                            <input\n                              class=\"form-check-input\"\n                              @change=\"selected_tickets('all')\"\n                              id=\"selectall\"\n                              type=\"checkbox\"\n                            />\n                            <span class=\"icn\"></span>\n                          </label>\n                        </div>\n                      </th> -->\n                      <th scope=\"col\" style=\"width: 5%;\">#</th>\n                      <th scope=\"col\" style=\"width: 15%;\">{{tlt('customer_page_ticket_issue_label')}}</th>\n                      <!-- <th scope=\"col\">DESCRIPTION</th> -->\n                      <th scope=\"col\" style=\"width: 18%\">{{tlt('customer_page_ticket_date_label')}}</th>\n                      <th scope=\"col\" style=\"width: 15%;\">{{tlt('customer_page_curr_status_label')}}</th>\n                      <th scope=\"col\" style=\"width: 15%;\">\n                        {{tlt('customer_page_comments_label')}}\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(ticket, index) in ticket_list\" :key=\"index\">\n                      <td class=\"text-center\">{{ index + 1 }}</td>\n                      <td\n                        :title=\"ticket.TicketIssue.length > 40 ? ticket.TicketIssue :''\"\n                        style=\"cursor: pointer;\"\n                        class=\"ticket_issue_data\"\n                      >\n                        {{ trim_ticket_issue_name(ticket.TicketIssue) }}\n                      </td>\n                      <!-- <td\n                        :title=\"ticket.Description\"\n                        style=\"cursor: pointer;\"\n                        class=\"ticket_issue_data\"\n                      >\n                        {{ trim_ticket_description(ticket.Description) }}\n                      </td> -->\n                      <td class=\"text-center\">{{ date_formating(ticket.CreatedDate) }}</td>\n                      <td\n                        class=\"text-center\"\n                        :style=\"\n                          ticket.CurrentStatus === 'Open'\n                            ? 'color: #ff1a1a; font-weight: bold;'\n                            : 'color: #064; font-weight: bold;'\n                        \"\n                      >\n                        {{ ticket.CurrentStatus }}\n                      </td>\n                      <td class=\"text-center\">\n                        <a\n                          class=\"view-model\"\n                          href=\"#\"\n                          data-toggle=\"modal\"\n                          data-target=\"#myModal\"\n                          @click=\"open_comment_model(index)\"\n                          style=\"height: 29px; padding: 0px 10px\"\n                        >\n                          <!-- @click=\"open_modal_for_intent(index)\" -->\n                          <!-- <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            width=\"14\"\n                            height=\"13.997\"\n                            viewBox=\"0 0 14 13.997\"\n                          >\n                            <path\n                              id=\"Union_13\"\n                              data-name=\"Union 13\"\n                              d=\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\"\n                              transform=\"translate(12690.001 -2045.002)\"\n                              fill=\"#fff\"\n                            />\n                          </svg> -->\n                          {{tlt('view_btn')}}\n                        </a>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n            <div v-show=\"Boolean(ticket_list.length === 0) && !spinnerOn\">\n              <p class=\"text-center\">\n                <strong>\n                  {{tlt('customer_page_no_ticket_label')}}.</strong\n                >\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class=\"pagin-table\" style=\"margin-top:2%;margin-bottom:4%\">\n          <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no - 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-left\"\n                      transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n              <li\n                :class=\"'page-item ' + pagination_class(pageno)\"\n                v-for=\"pageno in page_array\"\n                :key=\"pageno\"\n              >\n                <a\n                  v-if=\"pageno == '...s' || pageno == '...l'\"\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(pageno)\"\n                  >...</a\n                >\n                <a v-else class=\"page-link\" href=\"#\" @click=\"page_require(pageno)\">{{\n                  pageno\n                }}</a>\n              </li>\n              <li class=\"page-item\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"page_require(page_no + 1)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                  >\n                    <g\n                      id=\"arrow-point-to-right\"\n                      transform=\"translate(-97.139 0)\"\n                    >\n                      <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                      />\n                    </g>\n                  </svg>\n                </a>\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"myModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <!-- Modal content-->\n        <div class=\"modal-content\" style=\"width: 135%; margin-left: -17%\">\n          <div\n            class=\"modal-header\"\n            style=\"width: 808px; padding: 20px; display: block; padding-bottom: 5px;\n            margin-top: 0.2rem;\"\n          >\n          <div style=\"justify-content: left;\">\n            <h5 class=\"span_issue_name\">\n              {{tlt('t_view_model_issue_name_label')}}:\n            </h5>\n\n            <div class=\"ScrollStyle issue_name_div\" style=\"width: 80%;\">\n              <p\n                v-if=\"ticket_issue_name != ''\"\n                class=\"para_issue_name\"\n                style=\"\"\n              >\n                {{ ticket_issue_name }}\n              </p>\n            </div>\n\n            <div style=\"margin-left: 3.5rem; position: absolute; top: 1.4rem; right: 4rem;\">\n              <h5 style=\"font-size: 17px; font-weight: 500; line-height: 1.5;\">\n                {{tlt('t_view_model_comments_label')}}:\n                <span\n                  v-if=\"ticket_status != ''\"\n                  class=\"status_in_comment\"\n                  :style=\"\n                    ticket_status === 'Open'\n                      ? 'color: #ff1a1a; border-radius: 4px;'\n                      : 'color: #064; border-radius: 4px;'\n                  \"\n                  ><b>{{ ticket_status }}</b></span\n                >\n              </h5>\n            </div>\n          </div>\n            <div class=\"description_in_viewmodal\"\n                  style=\"margin-top: 10px;\">\n                <h5 class=\"description_heading\" style=\"margin-bottom: 0px;\">{{tlt('t_view_model_ticket_desc_label')}}:</h5>\n                <div class=\"ScrollStyle\">\n                <p \n                  id=\"ticket_description_id\"\n                  class=\"form-control description_in_comment_model\"\n                  v-if=\"current_ticket_description != ''\"\n                >{{ current_ticket_description }}</p>\n                </div>\n            </div>\n            <div class=\"comment_heading\"><h5>{{tlt('t_view_model_comment_label')}}:</h5></div>\n            <button\n              type=\"button\"\n              class=\"close\"\n              id=\"btn-close-comment\"\n              style=\"position: absolute !important; top: 20px !important;\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n              @click=\"empty_variable\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n          </div>\n          <div class=\"modal-body py-2 px-3\" style=\"width: 808px\">\n            <div class=\"form-group\" style=\"margin-bottom: 4px;\">\n              <div class=\"form-group mx-0 my-0 px-0 py-0\">\n                <div \n                  v-if=\"Comments_list.length != ''\"\n                  class=\"chat-body ScrollStyle\"\n                  style=\"height: 35vh !important; overflow-y: auto\"\n                >\n                  <div\n                    class=\"chat-inner\"\n                    style=\"position: relative;\"\n                    v-for=\"(comment, index) in Comments_list\"\n                    :key=\"index\"\n                  >\n                    <div v-if=\"comment.IsSuperAdmin === true\">\n                      <div class=\"d-flex\">\n                        <i\n                          class=\"fas fa-user-circle mr-3 fa-2x\"\n                          style=\"color: darkgrey !important;\"\n                        ></i>\n                        <label\n                          style=\"text-align: justify !important; margin-top: 4px !important;\"\n                        >\n                          <strong><b>{{tlt('cense_team_label')}}</b></strong>\n                        </label>\n                      </div>\n                      <div class=\"custom-button-box ml-5\">\n                        <p style=\"color: #404040; margin-bottom: 0px;\">\n                          {{ comment.Comment }}\n                        </p>\n                        <span\n                          class=\"img-container\"\n                          v-if=\"comment.image_url != null\"\n                        >\n                          <a\n                            href=\"#\"\n                            data-toggle=\"modal\"\n                            data-target=\"#viewImageModal\"\n                            @click=\"open_image_model(index)\"\n                          >\n                            {{tlt('attached_img_label')}}</a\n                          >\n                        </span>\n                        <label\n                          class=\"form-text text-muted comment-box_date\"\n                          style=\"font-size: 12px; margin-top: 6px;\"\n                          >{{ date_formating(comment.Date) }}\n                        </label>\n                      </div>\n                      <!-- <img v-if=\"comment.image_url != null\" :src=\"comment.image_url\" class=\"center-block p-0 m-0\" style=\"height:140px; width:140px;\"/> -->\n                    </div>\n                    <div v-else>\n                      <div class=\"d-flex\">\n                        <i\n                          class=\"fas fa-user-circle mr-3 fa-2x\"\n                          style=\"color: darkgrey !important;\"\n                        ></i>\n                        <label\n                          style=\"text-align: justify !important; margin-top: 4px !important;\"\n                        >\n                          <strong\n                            ><b>{{ comment.Email }}</b></strong\n                          >\n                        </label>\n                      </div>\n                      <div class=\"custom-button-box ml-5\">\n                        <p style=\"color: #404040; margin-bottom: 0px;\">\n                          {{ comment.Comment }}\n                        </p>\n                        <span\n                          class=\"img-container\"\n                          v-if=\"comment.image_url != null\"\n                        >\n                          <a\n                            href=\"#\"\n                            data-toggle=\"modal\"\n                            data-target=\"#viewImageModal\"\n                            style=\"font-size: 15px;\"\n                            @click=\"open_image_model(index)\"\n                          >\n                            {{tlt('attached_img_label')}}</a\n                          >\n                        </span>\n                        <label\n                          class=\"form-text text-muted comment-box_date\"\n                          style=\"font-size: 12px; margin-top: 6px;\"\n                        >\n                          {{ date_formating(comment.Date) }}\n                        </label>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div style=\"padding-left: 10px; margin: 8px 0px;\" v-else>\n                  <p>{{tlt('t_view_model_no_comments')}} ...</p>\n                </div>\n              </div>\n            </div>\n            <div\n              class=\"text-right card-act\"\n              style=\"display: flex; margin-top: 0px; margin-bottom: 8px; border-top: solid 1px #EAEAEA; padding: 15px 0 0;\"\n            >\n              <input\n                type=\"text\"\n                class=\"form-control input-comment-section\"\n                v-model.trim=\"new_ticket_comment\"\n                :placeholder=\"tlt('type_comment_label')\"\n              />\n              <label for=\"files\" class=\"btn\" style=\"padding: 0px;\">\n                <i\n                  id=\"image_file\"\n                  class=\"fa fa-paperclip img_icon_comment\"\n                  aria-hidden=\"true\"\n                  :title=\"new_image_name\"\n                  style=\"cursor: pointer;\"\n                  :style=\"\n                    new_image_name\n                      ? 'color: #4000ff !important; font-size: 20px;'\n                      : ''\n                  \"\n                  alt=\"attachment\"\n                  width=\"18px;\"\n                  height=\"18px;\"\n                >\n                </i\n              ></label>\n              <input\n                type=\"file\"\n                id=\"files\"\n                accept=\"image/png, image/jpg, image/jpeg\"\n                @change=\"Upload_image_file\"\n                style=\"display: none;\"\n              />\n              <button\n                v-show=\"is_status_closed\"\n                type=\"button\"\n                class=\"darkblue-btn\"\n                id=\"btn-reopen\"\n                @click=\"reopen_comment\"\n                :disabled=\"is_reopen_btn_enable == false\"\n                :style=\"\n                  is_reopen_btn_enable\n                    ? ''\n                    : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important; height: 35px;'\n                \"\n              >\n                {{tlt('reopen_btn')}}\n              </button>\n              <button\n                v-show=\"!is_status_closed\"\n                type=\"button\"\n                class=\"darkblue-btn\"\n                id=\"btn_send_id\"\n                :disabled=\"is_send_btn_enable == false\"\n                @click=\"Send_ticket_comments\"\n                data-dismiss=\"\"\n                style=\"margin-left: 10px; height: 35px;\"\n                :style=\"\n                  is_send_btn_enable\n                    ? ''\n                    : 'background: rgb(187, 187, 187) !important;border: 1px solid rgb(229, 229, 229) !important;'\n                \"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  style=\"fill: #fff; margin-top: -2px;\"\n                  width=\"40\"\n                  height=\"25\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                </svg>\n              </button>\n            </div>\n            <div\n              class=\"image_name\"\n              :disabled=\"is_send_btn_enable == false\"\n              :style=\"\n                is_send_btn_enable\n                  ? ''\n                  : 'background: rgb(187, 187, 187) !important;'\n              \"\n            >\n            <!-- border: 1px solid rgb(229, 229, 229) !important; -->\n              <!-- style=\"bottom: 0px; margin-left: 16px;\" -->\n              <!-- {{ new_image_name }} -->\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"modal fade dash-modal\"\n      id=\"ticketmodal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"ticketmodalTitle\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>{{tlt('ticket_model_add_ticket_header')}}</h3>\n              <button\n                type=\"button\"\n                class=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n                style=\"top: 35px;\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n\n            <form >\n              <div class=\"form-group\">\n                <label>{{tlt('ticket_model_title_label')}}</label>\n                <input\n                  type=\"text\"\n                  id=\"issue_ticket\"\n                  class=\"form-control\"\n                  v-model.trim=\"issue_name\"\n                  :placeholder=\"tlt('ticket_title')\"\n                  required\n                  maxlength=\"100\"\n                />\n              </div>\n\n              <div class=\"form-group\">\n                <label>{{tlt('ticket_model_desc_label')}}</label>\n\n                <textarea\n                  id=\"description_ticket\"\n                  v-model.trim=\"issue_description\"\n                  class=\"form-control\"\n                  :placeholder=\"tlt('enter_description')\"\n                  required\n                  rows=\"5\"\n                ></textarea>\n              </div>\n              <div class=\"form-group\" style=\"line-height:30px\">\n                <label>{{tlt('ticket_model_upload_file')}}</label>\n                <div class=\"custom-file\">\n                  <input\n                    id=\"file_ticket\"\n                    class=\"custom-file-input form-control\"\n                    @change=\"fileinput\"\n                    type=\"file\"\n                  />\n                  <label\n                    style=\"font-weight:400; padding: 15px;\"\n                    class=\"custom-file-label form-control\"\n                    for=\"file\"\n                    >{{ file_label }}</label\n                  >\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <label>{{tlt('ticket_model_comments_label')}}</label>\n                <input\n                  type=\"text\"\n                  id=\"ticket_comment\"\n                  v-model.trim=\"issue_comment\"\n                  class=\"form-control\"\n                  :placeholder=\"tlt('enter_comments')\"\n                />\n              </div>\n              <div class=\"btn-wrap text-right\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"\"\n                  @click=\"clear_fields\"\n                >\n                  {{tlt('cancel_btn')}}\n                </button>\n                <button type=\"submit\" class=\"darkblue-btn\" id=\"save_ticket\" data-dismiss=\"\" @click=\"ticket_submit\">\n                  {{tlt('save_btn')}}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"viewImageModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\">\n        <!-- Modal content-->\n        <div\n          class=\"modal-content\"\n          style=\"margin-left: auto; margin-right: auto;\"\n        >\n          <div\n            class=\"modal-header\"\n            style=\"justify-content: center; padding: 0.5rem;\"\n          >\n            <h5 class=\"modal-title\">\n              {{tlt('image_label')}}\n            </h5>\n            <button\n              type=\"button\"\n              class=\"close close-img-btn\"\n              style=\"top: 11px; right: 12px;\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <img\n              v-if=\"Images_in_current_comment != ''\"\n              :src=\"Images_in_current_comment\"\n              class=\"center-block p-0 m-0\"\n              style=\"height:auto; width:100%;\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Swal from \"sweetalert2\";\nimport moment from \"moment\";\nimport {  close_modal } from \"@/portal/mixins\";\nexport default {\n    mixins: [ close_modal],\n  data() {\n    return {\n      companyname: null,\n      companyid: null,\n      spinnerOn: false,\n      ticket_list: [],\n      page_no: 1,\n      per_page: 20,\n      page_array: [],\n      total_pages: null,\n      number_of_rows: null,\n      isEdit: false,\n      Comments_list: [],\n      comment_item_list: [],\n      ticket_number: \"\",\n      current_selected_ticket_number: \"\",\n      new_ticket_comment: \"\",\n      current_image_name_in_comment: \"\",\n      Images_in_current_comment: \"\",\n      new_image_name: \"\",\n      new_image_file: \"\",\n      image_file: \"\",\n      ticket_issue_name: \"\",\n      ticket_status: \"\",\n      issue_name: \"\",\n      issue_description: \"\",\n      issue_comment: \"\",\n      file_label: \"Choose file\",\n      is_status: null,\n      show_ticket_status: \"Open\",\n      current_status: \"\",\n      is_status_closed: false,\n      current_ticket_description: \"\",\n      search_key: \"\",\n      isVisibleSearchClear: false\n    };\n  },\n  computed: {\n    is_send_btn_enable() {\n      if (Boolean(this.new_ticket_comment || this.new_image_name)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    is_reopen_btn_enable() {\n      if (Boolean(this.new_ticket_comment || this.new_image_name)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n  watch: {\n    search_key() {\n      if (this.search_key === \"\") {\n        this.ticket_status_dropdown();\n        this.isVisibleSearchClear = false;\n      } else if (this.search_key !== \"\") {\n        this.isVisibleSearchClear = true;\n      }\n    }\n  },\n  created() {\n    if (\n      !this.$session.has(\"CompanyId\") &&\n      this.$session.get(\"UserInformation\").role == \"SuperAdmin\"\n    ) {\n      toastr.warning(this.tlt('select_company_name_msg1'));\n    } else if (this.user_role == \"SuperAdmin\") {\n      if (this.$session.has(\"CompanyId\")) {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n      }\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n  },\n  mounted() {\n    // $('.modal').on('hidden.bs.modal', function(){\n    //   $(\"[data-dismiss=modal]\").trigger({ type: \"click\" });\n    // });\n    this.ticket_status_dropdown();\n  },\n\n  methods: {\n    ticket_status_dropdown() {\n      if (this.show_ticket_status != \"\") {\n        this.is_status = this.show_ticket_status;\n      }\n      this.ticket_list = [];\n      this.page_no = 1;\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.support_ticket(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            is_get: true,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            filter_by: this.is_status,\n            page_no: 1,\n            per_page: this.per_page\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n          this.spinnerOn = false;\n          if (\n            this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE &&\n            response.data.data.Ticket != undefined\n          ) {\n            this.number_of_rows = response.data.pagination.total_data;\n            this.total_pages = response.data.pagination.total_page;\n            this.ticket_list = response.data.data.Ticket;\n            this.page_no = 1;\n\n          } else if (this.api_status_code.NO_EXISTING_TICKET.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              text: this.tlt('customer_ticket_no_ticket_found'),\n              toast: true,\n              position: \"top-end\",\n              type: \"warning\",\n              showConfirmButton: false,\n              timer: 2500,\n            });\n          } \n          else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\",\n              timer: 2500\n            })\n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\"\n            })\n          }\n          this.setpagination(this.page_no);\n        })\n        .catch(e => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    trim_ticket_issue_name(name) {\n      if (name.length > 40) {\n        let string_name = name.substring(0, 30) + \"...\";\n        return string_name;\n      }\n      return name;\n    },\n    // trim_ticket_description(des_name) {\n    //   if (des_name.length > 60) {\n    //     let ticket_des_name = des_name.substring(0, 50) + \"...\";\n    //     return ticket_des_name;\n    //   }\n    //   return des_name;\n    // },\n    date_formating(sub_date) {\n      return moment(sub_date).format(\"D MMM YYYY HH:mm a\");\n    },\n\n    clear_search_name() {\n      this.search_key = \"\";\n    },\n    open_comment_model(index) {\n      this.Comments_list = [];\n      this.Comments_list = Boolean(this.ticket_list[index].Comments)\n        ? this.ticket_list[index].Comments\n        : [];\n      this.current_selected_ticket_number = this.ticket_list[\n        index\n      ].TicketNumber;\n      this.ticket_issue_name = this.ticket_list[index].TicketIssue;\n      this.ticket_status = this.ticket_list[index].CurrentStatus;\n      this.current_ticket_description = this.ticket_list[index].Description;\n      if (this.ticket_status === \"Closed\") {\n        this.is_status_closed = true;\n      } else {\n        this.is_status_closed = false;\n      }\n      //this.current_image_name = this.Comments_list[index].image_name;\n      this.current_status = this.ticket_list[index].CurrentStatus;\n    },\n\n    reopen_comment() {\n      if (this.new_ticket_comment != \"\") {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              reopen: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                new_comment: this.new_ticket_comment,\n                ticket_img_name: this.new_image_name\n                  ? this.new_image_name\n                  : null,\n                ticket_img_file: this.image_file ? this.image_file : null\n              }\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (this.api_status_code.TICKET_UPDATED.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"success\",\n                text: this.tlt('customer_ticket_status_updated'),\n                timer: 2500\n              }).then(result => {\n                this.empty_variable();\n                $(\"#myModal\").modal(\"hide\");\n                if(this.search_key != \"\"){\n                  this.search_key = \"\";\n                }\n                this.ticket_status_dropdown();\n              });\n            } else if (this.api_status_code.IMG_DUPLICATE.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text:\n                  this.tlt('customer_ticket_img_already_found'),\n                type: \"error\",\n                timer: 3000\n              });\n            } else if (this.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: this.tlt('customer_ticket_error_occurred2'),\n                type: \"error\",\n                timer: 3000\n              });\n              this.empty_variable();\n              $(\"#myModal\").modal(\"hide\");\n            } else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg2'),\n                timer: 2500\n              });\n              //$(\"#myModal\").modal(\"hide\");\n              //this.empty_variable();\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              this.empty_variable();\n              $(\"#myModal\").modal(\"hide\");\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg3'),\n                timer: 2500\n              });\n            }\n          });\n      } else {\n      }\n    },\n    open_image_model(index) {\n      if (this.Comments_list[index].image_url != null) {\n        this.Images_in_current_comment = this.Comments_list[index].image_url;\n        this.current_image_name_in_comment = this.Comments_list[\n          index\n        ].image_name;\n      }\n    },\n    Upload_image_file(event) {\n      let files = event.target.files || e.dataTransfer.files;\n      if (files[0].size > 2097152) {\n        Swal({\n          text: this.tlt('customer_ticket_upload_img_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"error\",\n          showConfirmButton: false,\n          timer: 10000\n        });\n        return;\n      }\n      this.new_image_name = event.target.files[0].name;\n      this.new_image_file = event.target.files[0].type;\n\n      if (this.new_image_name != this.current_image_name_in_comment) {\n      }\n      if (this.new_image_file == \"image/png\") {\n        this.createImage(files[0]);\n      } else if (this.new_image_file == \"image/jpeg\") {\n        this.createImage(files[0]);\n      } else if (this.new_image_file == \"image/jpg\") {\n        this.createImage(files[0]);\n      } else {\n        Swal({\n          type: \"error\",\n          text: this.tlt('customer_ticket_select_img_type'),\n          timer: 2500\n        });\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.image_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n\n    Send_ticket_comments() {\n      if(this.new_ticket_comment == \"\") {\n        Swal({\n          text: this.tlt('customer_ticket_add_comment_warning'),\n          type: \"warning\",\n          position: \"top-end\",\n          toast: true,\n          showConfirmButton: false,\n          timer: 2500\n        });\n        return;\n      } else if((this.new_image_name == \"\" && this.new_image_file != \"\") || (this.new_image_name != \"\" && this.new_image_file == \"\")) {\n        Swal({\n          text: this.tlt('customer_ticket_attach_image_comment_warning'),\n          type: \"warning\",\n          position: \"top-end\",\n          toast: true,\n          showConfirmButton: false,\n          timer: 2500\n        });\n        return;\n      }\n      if (\n        this.new_ticket_comment != \"\" ||\n        (this.new_image_name != \"\" && this.new_image_file != \"\")\n      ) {\n        \n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_edit: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_number: this.current_selected_ticket_number,\n                new_comment: this.new_ticket_comment\n                  ? this.new_ticket_comment\n                  : null,\n                ticket_img_name: this.new_image_name\n                  ? this.new_image_name\n                  : null,\n                ticket_img_file: this.image_file ? this.image_file : null\n              }\n              // pageno: this.page_no,\n              // perpage: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            \n            this.spinnerOn = false;\n            if (this.api_status_code.TICKET_UPDATED.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"success\",\n                text: this.tlt('customer_ticket_comment_added'),\n                timer: 2500\n              }).then(result => {\n                this.empty_variable();\n                // $(\"#btn-close-comment\").click();\n                if(this.search_key != \"\"){\n                  this.search_key = \"\";\n                }\n                // $('body').removeClass('modal-open');\n                // $('.modal-backdrop').remove();\n                this.ticket_status_dropdown();\n              });\n            } else if (this.api_status_code.IMG_DUPLICATE.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text:\n                  this.tlt('customer_ticket_img_already_found'),\n                type: \"error\",\n                timer: 3000\n              });\n            } else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg4'),\n                timer: 2500\n              });\n              //$(\"#myModal\").modal(\"hide\");\n              //this.empty_variable();\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              this.empty_variable();\n              $(\"#myModal\").modal(\"hide\");\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg5'),\n                timer: 2500\n              });\n            }\n          });\n          //  let btn = document.getElementById('btn_send_id');\n          //  console.log(btn)\n          //     btn.setAttribute(\"data-dismiss\" , \"modal\");\n          //     // $(`#${id}`).attr(\"data-dismiss\",\"modal\"); \n          //     console.log('attached' )\n          //     setTimeout(()=>{\n          //         // $(`#${id}`).attr(\"data-dismiss\",\"modal\"); \n          //         btn.removeAttribute(\"data-dismiss\");\n          //         console.log('removed') \n                  \n          //     },0)\n          this.close_modal('btn_send_id')\n      }\n    },\n    ticket_submit() {\n      event.preventDefault();\n      if (this.issue_name == \"\") {\n        toastr.warning(this.tlt('customer_ticket_enter_name'));\n      } else if (this.issue_description == \"\") {\n        toastr.warning(this.tlt('customer_ticket_brief_description'));\n      } else {\n        this.spinnerOn = true;\n        // Swal({\n        //   text: this.tlt('customer_ticket_submit_ticket_detail'),\n        //   type: \"info\",\n        //   toast: true,\n        //   showConfirmButton: false\n        // });\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_save: true,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              response: {\n                ticket_img_name:\n                  this.file_label == \"Choose file\" ? null : this.file_label,\n                ticket_img_file: this.img_file ? this.img_file : null,\n                new_comment: this.issue_comment ? this.issue_comment : null,\n                ticket_issue: this.issue_name,\n                description: this.issue_description\n              }\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (this.api_status_code.TICKET_CREATED.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: this.tlt('customer_ticket_added_successful'),\n                type: \"success\",\n                timer: 2500\n              });\n              this.clear_fields();\n              this.ticket_status_dropdown();\n            } else if (this.api_status_code.IMG_DUPLICATE.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text:\n                  this.tlt('customer_ticket_img_already_found1'),\n                type: \"error\",\n                timer: 3000\n              });\n            } else if (this.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: this.tlt('customer_ticket_error_occurred1'),\n                type: \"error\",\n                timer: 3000\n              });\n              this.clear_fields();\n              \n            } else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg6'),\n                timer: 2500\n              });\n              \n              //$(\"#ticketmodal\").modal(\"hide\");\n              //this.clear_fields();\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n            \n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            } else {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg7'),\n                timer: 2500\n              });\n              this.clear_fields();\n              \n            }\n          });\n          // console.log(\"--------------------------------\")\n          // let btn =document.getElementById('save_ticket');\n          // console.log(btn)\n          //     btn.setAttribute(\"data-dismiss\" , \"modal\");\n          //     // $(`#${id}`).attr(\"data-dismiss\",\"modal\"); \n          //     console.log('attached' )\n          //     setTimeout(()=>{\n          //         // $(`#${id}`).attr(\"data-dismiss\",\"modal\"); \n          //         btn.removeAttribute(\"data-dismiss\");\n          //         console.log('removed') \n                  \n          //     },0)\n          this.close_modal('save_ticket')\n      }\n    },\n    callsearch() {\n      if (event.keyCode === 13) {\n        if (this.isEditIntent) {\n          this.verify_changes();\n        } else {\n          this.search_ticket();\n        }\n      }\n    },\n    search_ticket() {\n      if (this.search_key != \"\") {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.support_ticket(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              is_search: true,\n              search_key: this.search_key,\n              filter_by: this.is_status,\n              page_no: 1,\n              per_page: this.per_page\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            this.spinnerOn = false;\n            if (this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE) {\n              this.ticket_list = [];\n              this.page_no = 1;\n              this.number_of_rows = response.data.pagination.total_data;\n              this.total_pages = response.data.pagination.total_page;\n              this.ticket_list = response.data.data.ResponseList;\n              this.setpagination(this.page_no);\n            } else if (this.api_status_code.MISSING_SEARCH_KEY.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_search_msg'),\n                timer: 2500\n              });\n            } else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_error_occurred3'),\n                timer: 2500\n              });\n              this.ticket_status_dropdown();\n            } else if (this.api_status_code.EMPTY_DATA.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: this.tlt('customer_ticket_no_result_found'),\n                toast: true,\n                position: \"top-end\",\n                type: \"warning\",\n                showConfirmButton: false,\n                timer: 2000\n              });\n            } else if (this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                text: response.data.message.MSG,\n                toast: true,\n                position: \"top-end\",\n                type: \"info\",\n                showConfirmButton: false,\n                timer: 2000\n              });\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\",\n                timer: 2500\n              })\n            }\n          })\n          .catch(e => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        Swal({\n          text: this.tlt('customer_ticket_type_something_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500\n        });\n      }\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n      } else {\n        if (this.search_key == \"\") {\n          if (page == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (page == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = page;\n          }\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.support_ticket(),\n              {\n                company_name: this.companyname,\n                company_id: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: this.$session.get(\"UserInformation\").subscription,\n                is_get: true,\n                filter_by: this.is_status,\n                page_no: this.page_no,\n                per_page: this.per_page\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`\n                }\n              }\n            )\n            .then(response => {\n              this.spinnerOn = false;\n              if (this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE) {\n                this.number_of_rows = response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page;\n                this.ticket_list = response.data.data.Ticket;\n              } else if (this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE) {\n                 Swal({\n                  text: this.tlt('customer_ticket_no_ticket_found1'),\n                  toast: true,\n                  position: \"top-end\",\n                  type: \"info\",\n                  showConfirmButton: false,\n                  timer: 2500,\n                });\n              } else if (this.api_status_code.EMPTY_DATA.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  type: \"warning\",\n                  toast: true,\n                  position: \"top-end\",\n                  text: this.tlt('customer_ticket_no_ticket_found2'),\n                  showConfirmButton: false,\n                  timer: 2500\n                });\n              } else if (this.api_status_code.MISSING_SEARCH_KEY.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  type: \"warning\",\n                  text: this.tlt('customer_ticket_no_ticket_found3'),\n                  timer: 2500\n                });\n              } else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                type: \"error\",\n                text: this.tlt('customer_ticket_internal_server_msg6'),\n                timer: 2500\n              });\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\",\n                  timer: 2500\n                })\n              }\n              this.setpagination(this.page_no);\n            })\n            .catch(e => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        } else {\n          if (this.pageno == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (this.pageno == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = this.pageno;\n          }\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.support_ticket(),\n              {\n                company_name: this.companyname,\n                company_id: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: this.$session.get(\"UserInformation\").subscription,\n                is_get: true,\n                filter_by: this.is_status,\n                page_no: this.page_no,\n                per_page: this.per_page\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`\n                }\n              }\n            )\n            .then(response => {\n              this.spinnerOn = false;\n              if (this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE) {\n                this.number_of_rows = response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page;\n                this.ticket_list = response.data.data.Ticket;  \n              } else if (this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  text: this.tlt('customer_ticket_no_ticket_found4'),\n                  toast: true,\n                  position: \"top-end\",\n                  type: \"info\",\n                  showConfirmButton: false,\n                  timer: 2500,\n                });\n\n              } else if (this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  type: \"error\",\n                  text: this.tlt('customer_ticket_internal_server_msg6'),\n                  timer: 2500\n                });\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\",\n                  timer: 2500\n                })\n              }\n              this.setpagination(this.page_no);\n            })\n            .catch(e => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    fileinput(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].size > 2097152) {\n        Swal({\n          text: this.tlt('customer_ticket_upload_img_ms2'),\n          toast: true,\n          position: \"top-end\",\n          type: \"error\",\n          showConfirmButton: false,\n          timer: 10000\n        });\n        return;\n      } \n      if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n        if (!files.length) return;\n        this.old_image_name = this.file_label;\n        this.file_label = files[0].name;\n        this.new_image_file = files[0].type;\n        this.createImage1(files[0]);\n      } else {\n        toastr.error(this.tlt('customer_ticket_select_img_type2'));\n      }\n    },\n    createImage1(file, type) {\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.img_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n\n    clear_fields() {\n      this.img_file = \"\";\n      this.file_label = \"Choose file\";\n      this.issue_comment = \"\";\n      this.issue_name = \"\";\n      this.issue_description = \"\";\n    },\n    empty_variable() {\n      // this.search_key = \"\";\n      this.Comments_list = [\"\"];\n      this.comment_item_list = [\"\"];\n      this.new_ticket_comment = \"\";\n      this.new_image_name = \"\";\n      this.new_image_file = \"\";\n      this.file_content2 = \"\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.ticket_issue_data {\n  /* display: inline-block; */\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n}\n\n.main-container {\n  width: 100%;\n  height: 300px;\n  border: 1px solid;\n}\ntextarea.form-control {\n  resize: none;\n  overflow-y: auto;\n}\n.view-model {\n  color: #494d69;\n  font-weight: 500;\n}\n\n.view-model:hover {\n  color: #606060;\n}\n\n.save_node_button {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: 1px solid #273679;\n  padding: 6px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  border-radius: 4px;\n  cursor: pointer;\n  float: right;\n}\n\n.custom-file {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  height: calc(2.25rem + 2px);\n  margin-bottom: 0;\n  margin-top: 10px;\n}\n\n.input-comment-section {\n  height: 35px !important;\n  padding-left: 14px;\n  padding-right: 40px;\n  font-size: 13px;\n  color: #494d69;\n}\n\n.dash-modal .close {\n  top: 20px;\n  opacity: 0.5;\n}\n\n.img_icon_comment {\n  cursor: pointer;\n  position: relative;\n  right: 34px;\n  top: 5px;\n  margin-right: -22px;\n  transform: rotate(136deg);\n}\n.form-group label {\n  margin: 0 0 0px;\n  font-size: 14px;\n  line-height: 4px;\n}\n.custom-button-box {\n  /* border: 0.5px solid #ccc; */\n  padding-bottom: 0px !important;\n  padding: 1rem;\n  margin-top: -26px;\n}\n.ml-5,\n.mx-5 {\n  margin-left: 1.5rem !important;\n}\n\n.fa-2x {\n  font-size: 1.6em;\n}\n.comment-box_date {\n  position: absolute;\n  margin-top: 6px;\n  top: 4px;\n  right: 2rem;\n}\n\n.status_in_comment b {\n  border-radius: 4px;\n}\n\n.card-act .darkblue-btn {\n  font-size: 14px;\n  color: #fff;\n  background: #273679;\n  border: solid 1px #273679;\n  padding: 5px 15px;\n  font-weight: 400;\n  line-height: 20px;\n  display: inline-block;\n  border-radius: 4px;\n  cursor: pointer;\n  height: 32px;\n}\n.reopen-comment {\n  margin-left: 6px;\n}\n\n.span_issue_name {\n  margin-bottom: 0.2rem;\n  margin-left: 7px;\n  /* font-size: 20px;\n  color: #494D69; */\n}\n.para_issue_name {\n  margin-bottom: 0.2rem;\n  margin-left: 7px;\n  font-size: 17px;\n  line-height: 1.5;\n  color: rgb(64, 64, 64);\n}\n.description_in_comment_model{\n    border: none;\n    /* width: 80%; */\n    color: rgb(64, 64, 64);\n    padding: 0px 5px;\n    padding-left: 0px;\n    line-height: 1.5;\n}\n.comment_heading{\n  margin-top: 10px;\n    margin-left: 6px;\n    /* font-weight: 500;\n    font-size: 20px;\n    color: #494D69; */\n}\n.description_in_viewmodal{\n  margin-left: 6px;  \n  font-weight: 500;\n}\n.issue_name_div{\n  min-height: 0px !important;\n  max-height: 54px !important;\n  overflow-y: auto !important;\n}\ndiv.chat-body{\n  min-height: 35vh;\n  max-height: 40vh;\n  width: auto;\n}\n.ScrollStyle {\n  min-height: 0px;\n  max-height: 74px;\n  width: 80%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  /* border: 1px solid #e3e2e5; */\n}\n\n.ScrollStyle::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.ScrollStyle::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.ScrollStyle::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.ScrollStyle::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n #myModal.modal{\n    overflow-y: auto !important;\n}\n</style>\n"]}]}