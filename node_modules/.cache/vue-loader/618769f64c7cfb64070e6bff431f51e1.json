{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Pages/IntermediateScreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Pages/IntermediateScreen.vue","mtime":1655466542528},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICJ2dWUyLWRhdGVwaWNrZXIiOwppbXBvcnQgInZ1ZTItZGF0ZXBpY2tlci9pbmRleC5jc3MiOwppbXBvcnQgIi4uLy4uLy4uLy4uLy4uL3B1YmxpYy9jc3Mvc2Vnb2UtdWkuY3NzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgZmluZ2VycHJpbnQgZnJvbSAiQC9wb3J0YWwvY29tcG9uZW50cy9maW5nZXJwcmludCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGF0ZVBpY2tlciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeV9zdHJpbmc6IG51bGwsCiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBzZWxlY3RlZF9kYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAgIGN1cnJfZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICBzZWxlY3RlZF90aW1lOiAiIiwKICAgICAgdGltZV9zbG90czogW10sCiAgICAgIGNvbXBhbnlfbG9nbzogbnVsbCwKICAgICAgbWluaW11bV9ub3RpY2VfZGF5czogMSwKICAgICAgbWVldGluZ19kYXlzX3JhbmdlOiAiIiwKICAgICAgc2VsZWN0ZWRfZmlsZXM6ICcnLAogICAgICByZWdfZW1haWw6IC9eKFswLTlhLXpBLVpdKFstLlx3XSpbMC05YS16QS1aXSkqQChbMC05YS16QS1aXVstXHddKlswLTlhLXpBLVpdXC4pK1thLXpBLVpdezIsOX0pJC8sCiAgICAgIHJlcXVpcmVtZW50X2Zvcm06IFtdLAogICAgICBwb3NpdGlvbl9kZXNjcmlwdGlvbjogJycsCiAgICAgIGlzX3N1Ym1pdCA6IGZhbHNlLAogICAgICBzcGlubmVyT24gOmZhbHNlCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIHNlbGVjdGVkX2RhdGUodmFsKSB7CiAgICAvLyAgIHRoaXMuZ2V0X2hyX3NjaGVkdWxlKCk7CiAgICAvLyB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5xdWVyeV9zdHJpbmcgPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldF9mb3JtX2RhdGEoKTsKICAgIC8vIGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9ib3QvaW50ZXJtZWRpYXRlLXNjcmVlbj9zY2hlZHVsZV9hcHBvaW50bWVudD10cnVlJmNvbXBhbnlfaWQ9d29vdGVzdDEyNzY3MiZjb21wYW55X25hbWU9V29vVGVzdDEmY2FuZGlkYXRlX2VtYWlsPWFrc2hheWJhZGhlJTQwdGVybmFlbmdnLmFjLmluJnBvc2l0aW9uPVB5dGhvbiZjb250YWN0X251bWJlcj05ODY5NTMzOTA3Jm5hbWU9QWtzaGF5JTIwQmFkaGUKICAgIGlmICgKICAgICAgQm9vbGVhbih0aGlzLnF1ZXJ5X3N0cmluZykgJiYKICAgICAgdGhpcy5xdWVyeV9zdHJpbmcubm90aWZ5X2NhbmRpZGF0ZSA9PSAidHJ1ZSIKICAgICkgewogICAgICB0aGlzLmhyX3NlbmRfZW1haWwoKTsKICAgIH0gZWxzZSBpZiAoCiAgICAgIEJvb2xlYW4odGhpcy5xdWVyeV9zdHJpbmcpICYmCiAgICAgIHRoaXMucXVlcnlfc3RyaW5nLnNjaGVkdWxlX2FwcG9pbnRtZW50ID09ICJ0cnVlIgogICAgKSB7CiAgICAgIHRoaXMuZ2V0X2hyX3NjaGVkdWxlKCk7CiAgICB9IGVsc2UgaWYoCiAgICAgIEJvb2xlYW4odGhpcy5xdWVyeV9zdHJpbmcpICYmCiAgICAgIHRoaXMucXVlcnlfc3RyaW5nLmFwcGxpY2F0aW9uX2Zvcm0gPT0gInRydWUiCiAgICApIHsKICAgICAgdGhpcy5nZXRfZm9ybV9kYXRhKCk7CiAgICB9CiAgICBheGlvcwogICAgICAucG9zdChhcGlfY2FsbHMuaHJfZ2V0X3NjaGVkdWxlX2FwcG9pbnRtZW50KCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnlfbmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLnF1ZXJ5X3N0cmluZy5jb21wYW55X2lkLAogICAgICAgIGdldF9zY2hlZHVsaW5nX2luZm86IHRydWUsCiAgICAgIH0pCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgIHRoaXMuY29tcGFueV9sb2dvID0gcmVzcG9uc2UuZGF0YS5jb21wYW55X2xvZ287CiAgICAgICAgICB0aGlzLm1pbmltdW1fbm90aWNlX2RheXMgPSByZXNwb25zZS5kYXRhLm1pbmltdW1fbm90aWNlX2RheXM7CiAgICAgICAgICB0aGlzLm1lZXRpbmdfZGF5c19yYW5nZSA9IHJlc3BvbnNlLmRhdGEubWVldGluZ19kYXlzX3JhbmdlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBpZiAoCiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RfdGltZXNsb3QodmFsKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgIHZtLnNlbGVjdGVkX3RpbWUgPSB2YWw7CiAgICB9LAogICAgY29udGFpbnNLZXkoa2V5KSB7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5X3N0cmluZykuaW5jbHVkZXMoa2V5KTsKICAgIH0sCiAgICBkaXNhYmxlZEJlZm9yZVRvZGF5KGRhdGUpIHsKICAgICAgY29uc29sZS5sb2coZGF0ZSk7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgY29uc3QgcmFuZ2UgPSBuZXcgRGF0ZSgpOwogICAgICB0b2RheS5zZXREYXRlKHRvZGF5LmdldERhdGUoKSArIHRoaXMubWluaW11bV9ub3RpY2VfZGF5cyk7CiAgICAgIHJhbmdlLnNldERhdGUocmFuZ2UuZ2V0RGF0ZSgpICsgdGhpcy5tZWV0aW5nX2RheXNfcmFuZ2UpOwogICAgICByZXR1cm4gZGF0ZSA8IHRvZGF5IHx8IGRhdGUgPiByYW5nZTsKICAgIH0sCiAgICBnZXRfaHJfc2NoZWR1bGUoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmhyX2dldF9zY2hlZHVsZV9hcHBvaW50bWVudCgpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnlfaWQsCiAgICAgICAgICBEYXRlOiBtb21lbnQodGhpcy5zZWxlY3RlZF9kYXRlKS5mb3JtYXQoIllZWVktTU0tREQiKSwKICAgICAgICAgIGFwcG9pbnRtZW50X2RhdGU6IG1vbWVudCh0aGlzLnNlbGVjdGVkX2RhdGUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1zZyA9PSAiUGxlYXNlIHVwZGF0ZSB5b3VyIHNjaGVkdWxlciBzZXR0aW5ncyIpIHsKICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSB1cGRhdGUgeW91ciBzY2hlZHVsZXIgc2V0dGluZ3MiKTsKICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgdGl0bGU6ICJQbGVhc2UgdXBkYXRlIHlvdXIgc2NoZWR1bGVyIHNldHRpbmdzIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge30pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubXNnID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHt9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnRpbWVfc2xvdHMgPSByZXNwb25zZS5kYXRhLmF2YWlsYWJsZV90aW1lX3Nsb3RzOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPQogICAgICAgICAgICAgICdTb21lIGVycm9yIG9jY3VyZWQsIHBsZWFzZSBjb250YWN0IHVzIGF0IDxhIGhyZWY9Im1haWx0bzpzdXBwb3J0QGNlbnNlLmFpIj5zdXBwb3J0QGNlbnNlLmFpPC9hPic7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtX2FwcG9pbnRtZW50KCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZF90aW1lID09ICIiKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIFNlbGVjdCBhIHRpbWUgc2xvdCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgIHRleHQ6CiAgICAgICAgICAiWW91IGhhdmUgc2VsZWN0ZWQgdGhpcyAiICsKICAgICAgICAgIG1vbWVudCh0aGlzLnNlbGVjdGVkX2RhdGUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpICsKICAgICAgICAgICIgZGF0ZSBhbmQgIiArCiAgICAgICAgICB0aGlzLnNlbGVjdGVkX3RpbWUgKwogICAgICAgICAgIiB0aGlzIHRpbWUgc2xvdCBmb3IgaW50ZXJ2aWV3LiIsCiAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIENvbmZpcm0hIiwKICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmhyX3NjaGVkdWxlX2FwcG9pbnRtZW50KCksIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLnF1ZXJ5X3N0cmluZy5jb21wYW55X2lkLAogICAgICAgICAgICAgIERhdGU6IG1vbWVudCh0aGlzLnNlbGVjdGVkX2RhdGUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLAogICAgICAgICAgICAgIGFwcG9pbnRtZW50X2RhdGU6IG1vbWVudCh0aGlzLnNlbGVjdGVkX2RhdGUpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLAogICAgICAgICAgICAgIGNhbmRpZGF0ZV9lbWFpbDogdGhpcy5xdWVyeV9zdHJpbmcuY2FuZGlkYXRlX2VtYWlsLAogICAgICAgICAgICAgIGNhbmRpZGF0ZV9uYW1lOiB0aGlzLnF1ZXJ5X3N0cmluZy5uYW1lLAogICAgICAgICAgICAgIGNhbmRpZGF0ZV9jb250YWN0X251bWJlcjogdGhpcy5xdWVyeV9zdHJpbmcuY29udGFjdF9udW1iZXIsCiAgICAgICAgICAgICAgY2FuZGlkYXRlX3Zpc2l0X2RhdGU6IG1vbWVudCh0aGlzLnNlbGVjdGVkX2RhdGUpLmZvcm1hdCgKICAgICAgICAgICAgICAgICJZWVlZLU1NLUQiCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBjYW5kaWRhdGVfdmlzaXRfc2xvdDogdGhpcy5zZWxlY3RlZF90aW1lLAogICAgICAgICAgICAgIGNhbmRpZGF0ZV9wb3NpdGlvbjogdGhpcy5xdWVyeV9zdHJpbmcucG9zaXRpb24sCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubXNnICE9IHVuZGVmaW5lZCAmJgogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tc2cgPT0gIkFwcG9pbnRtZW50IEFkZGVkIFN1Y2Nlc3NmdWxseSIKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOgogICAgICAgICAgICAgICAgICAgICJJbnRlcnZpZXcgYXBwb2ludG1lbnQgYm9va2VkIHN1Y2Nlc3NmdWxseSAiICsKICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5X3N0cmluZy5uYW1lLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1zZyA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiLAogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLm1zZyA9PSAiVG9rZW4gSW52YWxpZCIgfHwKICAgICAgICAgICAgICAgICJJbnRlcnZpZXcgYWxyZWFkeSBzY2hlZHVsZSIKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiTGluayBFeHBpcmVkIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPQogICAgICAgICAgICAgICAgICAnU29tZSBlcnJvciBvY2N1cmVkLCBwbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPSJtYWlsdG86c3VwcG9ydEBjZW5zZS5haSI+c3VwcG9ydEBjZW5zZS5haTwvYT4nOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgLy8gdGhpcy5pbnNlcnRfdmFyaWFibGUoJ3F1aWxsJywgdGhpcy5zbG90X3ZhcmlhYmxlKTsKICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhyX3NlbmRfZW1haWwoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLmhyX2JvdF9ub3RpZnlfY2FuZGlkYXRlKCksIHRoaXMucXVlcnlfc3RyaW5nKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJFbWFpbCBpcyBiZWluZyBzZW50IHRvIGNhbmRpZGF0ZSIpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZToKICAgICAgICAgICAgICAgICJFbWFpbCBTZW50IFN1Y2Nlc3NmdWxseSB0byBDYW5kaWRhdGUgIiArCiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5X3N0cmluZy5uYW1lLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7fSk7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9CiAgICAgICAgICAgICAgIkVtYWlsIFNlbnQgU3VjY2Vzc2Z1bGx5IHRvIENhbmRpZGF0ZSwgY2xvc2UgdGhpcyB3aW5kb3cuIjsKICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuTVNHID09ICJQbGVhc2UgdXBncmFkZSB5b3VyIHBsYW4gdG8gc2VuZCBlbWFpbHMiCiAgICAgICAgICApIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogIlBsZWFzZSB1cGdyYWRlIHlvdXIgcGxhbiB0byBzZW5kIGVtYWlscyIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7fSk7CiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJQbGVhc2UgdXBncmFkZSB5b3VyIHBsYW4gdG8gc2VuZCBlbWFpbHMuIjsKICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuTVNHID09CiAgICAgICAgICAgICJZb3UgaGF2ZSByZWFjaGVkIHRoZSBRdW90YSBhbGxvdHRlZCBmb3Igc2VuZGluZyBlbWFpbHMiCiAgICAgICAgICApIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogIllvdSBoYXZlIHJlYWNoZWQgdGhlIFF1b3RhIGFsbG90dGVkIGZvciBzZW5kaW5nIGVtYWlscyIsCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHt9KTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0KICAgICAgICAgICAgICAiWW91IGhhdmUgcmVhY2hlZCB0aGUgUXVvdGEgYWxsb3R0ZWQgZm9yIHNlbmRpbmcgZW1haWxzLiBQbGVhc2UgZ2V0IGEgRW1haWwgQWRkIE9uLiI7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJBbHJlYWR5IE5vdGlmaWVkIikgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIHRpdGxlOiAiQWxyZWFkeSBOb3RpZmllZCB0byB0aGlzIGNhbmRpZGF0ZSIsCiAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHt9KTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIkFscmVhZHkgTm90aWZpZWQgdG8gdGhpcyBjYW5kaWRhdGUiOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIHRpdGxlOiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHt9KTsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0KICAgICAgICAgICAgICAnU29tZSBlcnJvciBvY2N1cmVkLCBwbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPSJtYWlsdG86c3VwcG9ydEBjZW5zZS5haSI+c3VwcG9ydEBjZW5zZS5haTwvYT4nOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0KICAgICAgICAgICAgICAnU29tZSBlcnJvciBvY2N1cmVkLCBwbGVhc2UgY29udGFjdCB1cyBhdCA8YSBocmVmPSJtYWlsdG86c3VwcG9ydEBjZW5zZS5haSI+c3VwcG9ydEBjZW5zZS5haTwvYT4nOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAvLyB0aGlzLmluc2VydF92YXJpYWJsZSgncXVpbGwnLCB0aGlzLnNsb3RfdmFyaWFibGUpOwogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdGVkX29wdGlvbnMoaW5kZXgsbGlzdF9vcHRpb25zKXsKICAgICAgaWYoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gdHJ1ZSl7CiAgICAgICAgbGlzdF9vcHRpb25zLmtleV92YWx1ZS5wdXNoKGxpc3Rfb3B0aW9ucy5vcHRpb25zW2luZGV4XSkKICAgICAgfWVsc2V7CiAgICAgICAgbGlzdF9vcHRpb25zLmtleV92YWx1ZS5zcGxpY2UoaW5kZXgsMSk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RfcmFkaW9fYnV0dG9uKGluZGV4LHJlcXVpcmVtZW50KXsKICAgICAgcmVxdWlyZW1lbnQua2V5X3ZhbHVlID0gcmVxdWlyZW1lbnQub3B0aW9uc1tpbmRleF07CiAgICB9LAogICAgdXBsb2FkX2ZpbGVzKGUpewogICAgICB0aGlzLnNlbGVjdGVkX2ZpbGVzID0gZS50YXJnZXQuZmlsZXM7CiAgICAgIGlmKHRoaXMuc2VsZWN0ZWRfZmlsZXMubGVuZ3RoID4gMCl7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfZmlsZXNbMF0uc2l6ZSA+IDUwOTcxNTIpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0ZXh0OiAiVXBsb2FkIGltYWdlIHdpdGggc2l6ZSBzaG91bGQgYmUgbGVzcyB0aGFuIDJNQiIsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfZmlsZXMgPScnOwogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5zZWxlY3RlZF9maWxlcyA9Jyc7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlX2FwcGxpY2F0aW9uX2Zvcm0oKXsKICAgICAgbGV0IGVtYWlsX3ZhbHVlID0gJyc7CiAgICAgIGZvciggbGV0IGkgPTA7IGk8dGhpcy5yZXF1aXJlbWVudF9mb3JtLmxlbmd0aDsgaSsrKXsKICAgICAgICBpZih0aGlzLnJlcXVpcmVtZW50X2Zvcm1baV0udHlwZSA9PSAnZmlsZScgJiYgdGhpcy5zZWxlY3RlZF9maWxlcyAhPSAnJyl7CiAgICAgICAgICB0aGlzLnJlcXVpcmVtZW50X2Zvcm1baV0ua2V5X3ZhbHVlLnB1c2godGhpcy5zZWxlY3RlZF9maWxlc1swXS5uYW1lKTsgICAgICAgIAogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yZXF1aXJlbWVudF9mb3JtW2ldLmtleV92YWx1ZSA9PSAnJyB8fCB0aGlzLnJlcXVpcmVtZW50X2Zvcm1baV0ua2V5X3ZhbHVlID09IFtdIHx8IHRoaXMucmVxdWlyZW1lbnRfZm9ybVtpXS5rZXlfdmFsdWUgPT0ge318fAogICAgICAgICAgICB0aGlzLnJlcXVpcmVtZW50X2Zvcm1baV0ua2V5X3ZhbHVlID09IG51bGwKICAgICAgICApewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGV4dDogIlBsZWFzZSBmaWxsIGFsbCBnaXZlbiBmaWVsZCIsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBpZih0aGlzLnJlcXVpcmVtZW50X2Zvcm1baV0udHlwZSA9PSAnZW1haWwnKXsKICAgICAgICAgIGVtYWlsX3ZhbHVlID0gdGhpcy5yZXF1aXJlbWVudF9mb3JtW2ldLmtleV92YWx1ZTsKICAgICAgICAgICBpZiAoIXRoaXMucmVnX2VtYWlsLnRlc3QoZW1haWxfdmFsdWUpKXsKICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGV4dDogIlBsZWFzZSBlbnRyZSB2YWxpZCBlbWFpbCIsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4KICAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciB1c2VyX2RldGFpbHMgPXsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnlpZCwKICAgICAgICBwb3NpdGlvbl9uYW1lOnRoaXMucXVlcnlfc3RyaW5nLnBvc2l0aW9ubmFtZSwKICAgICAgICBjYW5kaWRhdGVfZW1haWwgOiBlbWFpbF92YWx1ZSwKICAgICAgICByZXF1aXJlbWVudF9mb3JtOnRoaXMucmVxdWlyZW1lbnRfZm9ybSwKICAgICAgICBpc19zYXZlOnRydWUKICAgICAgfTsKICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeSh1c2VyX2RldGFpbHMpOwogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtqc29uXSwgewogICAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgfSk7CiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvciAobGV0IGo9MCA7ajx0aGlzLnNlbGVjdGVkX2ZpbGVzLmxlbmd0aDtqKyspewogICAgICAgIGZkLmFwcGVuZCgKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfZmlsZXNbal0ubmFtZSwKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfZmlsZXNbal0KICAgICAgICApCiAgICAgIH0KICAgICAgZmQuYXBwZW5kKCJqc29uIiwgYmxvYik7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MKICAgICAgLnBvc3QoCiAgICAgICAgYXBpX2NhbGxzLmhyX3JlcXVpcmVtZW50X2Zvcm0oKSxmZAogICAgICApCiAgICAgIC50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIHRoaXMucmVxdWlyZW1lbnRfZm9ybSA9IFtdOwogICAgICAgIHRoaXMuaXNfc3VibWl0ID0gdHJ1ZTsKICAgICAgICBpZiAoCiAgICAgICAgICByZXNwb25zZS5kYXRhLm1zZyAhPSB1bmRlZmluZWQgJiYKICAgICAgICAgIHJlc3BvbnNlLmRhdGEubXNnID09ICJBcHBsaWNhdGlvbiBBZGRlZCBTdWNjZXNzZnVsbHkiCiAgICAgICAgKSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZToKICAgICAgICAgICAgICAiRm9ybSBTdWJtaXR0ZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tc2cgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgcmVzcG9uc2UuZGF0YS5tc2cgPT0iQ2FuZGlkYXRlIGFwcGxpY2F0aW9uIGFscmVhZHkgZXhpc3RzIgogICAgICAgICkgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6ICJDYW5kaWRhdGUgYXBwbGljYXRpb24gYWxyZWFkeSBleGlzdHMiLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIHRpbWVyOiAzMDAwLAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9CiAgICAgICAgICAgICdTb21lIGVycm9yIG9jY3VyZWQsIHBsZWFzZSBjb250YWN0IHVzIGF0IDxhIGhyZWY9Im1haWx0bzpzdXBwb3J0QGNlbnNlLmFpIj5zdXBwb3J0QGNlbnNlLmFpPC9hPic7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIGlmICgKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICApIHsKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRfZm9ybV9kYXRhKCl7CiAgICAgIHZhciB1c2VyX2RldGFpbHMgPXsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMucXVlcnlfc3RyaW5nLmNvbXBhbnlpZCwKICAgICAgICBwb3NpdGlvbl9uYW1lOnRoaXMucXVlcnlfc3RyaW5nLnBvc2l0aW9ubmFtZSwKICAgICAgICBpc19nZXQ6dHJ1ZSwKICAgICAgfTsKICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeSh1c2VyX2RldGFpbHMpOwogICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtqc29uXSwgewogICAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgfSk7CiAgICAgIGNvbnN0IGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZkLmFwcGVuZCgianNvbiIsIGJsb2IpOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zIAogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLmhyX3JlcXVpcmVtZW50X2Zvcm0oKSxmZAogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy5wb3NpdGlvbl9kZXNjcmlwdGlvbiA9IHJlc3BvbnNlLmRhdGEucG9zaXRpb25fZGVzY3JpcHRpb247CiAgICAgICAgICB0aGlzLnJlcXVpcmVtZW50X2Zvcm0gPSByZXNwb25zZS5kYXRhLnJlcXVpcmVtZW50X2Zvcm07CiAgICAgICAgICBmb3IobGV0IGogPTAgO2o8dGhpcy5yZXF1aXJlbWVudF9mb3JtLmxlbmd0aCA7aisrKXsKICAgICAgICAgICAgaWYodGhpcy5yZXF1aXJlbWVudF9mb3JtW2pdLnR5cGUgIT0gJ211bHRpY2hvaWNlJyAmJiB0aGlzLnJlcXVpcmVtZW50X2Zvcm1bal0udHlwZSAhPSdmaWxlJyl7CiAgICAgICAgICAgICAgdGhpcy5yZXF1aXJlbWVudF9mb3JtW2pdWydrZXlfdmFsdWUnXT0gJyc7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHRoaXMucmVxdWlyZW1lbnRfZm9ybVtqXVsna2V5X3ZhbHVlJ109IFtdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICApIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["IntermediateScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IntermediateScreen.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Pages","sourcesContent":["<template>\n  <div class=\"log-wrap d-flex align-items-center\">\n    <div\n      class=\"spinner\"\n      v-show=\"spinnerOn\"\n    ></div>\n    <div class=\"container\" style=\"min-width: 35%\">\n      <div class=\"log-blk\" style=\"margin-top: 20px\">\n        <div class=\"row no-gutters\">\n          <div class=\"col-lg-12\">\n            <div\n              v-if=\"containsKey('notify_candidate')\"\n              class=\"log-sec d-flex align-items-center\"\n            >\n              <div class=\"log-frm\">\n                <img\n                  src=\"/img/cense_image.png\"\n                  alt=\"\"\n                  style=\"width: 100%; padding: 0px 70px\"\n                />\n              </div>\n              <div class=\"log-frm\" style=\"text-align: center; max-width: 100%\">\n                <p v-html=\"message\"></p>\n              </div>\n            </div>\n            <div\n              v-if=\"containsKey('schedule_appointment')\"\n              class=\"log-sec align-items-center\"\n            >\n              <div\n                class=\"log-frm\"\n                style=\"margin-bottom: 20px; text-align: center\"\n              >\n                <img\n                  v-if=\"company_logo\"\n                  :src=\"company_logo\"\n                  alt=\"\"\n                  style=\"width: 70%; padding: 0px 70px\"\n                />\n                <img\n                  v-else\n                  src=\"/img/cense_image.png\"\n                  alt=\"\"\n                  style=\"width: 100%; padding: 0px 70px\"\n                />\n              </div>\n              <div\n                class=\"log-frm\"\n                style=\"text-align: center; max-width: 100%; margin-bottom: 20px\"\n              >\n                <p style=\"font-size: 20px; font-weight: 600\">\n                  Congratulations {{ query_string.name }} you have been\n                  shortlisted for your applied position\n                  {{ query_string.position }}.\n                  <br />\n                  Please select date &#38; time for interview\n                </p>\n              </div>\n              <div\n                class=\"form-group create-schedule-input d-flex\"\n                style=\"justify-content: center\"\n              >\n                <input\n                  type=\"text\"\n                  v-model=\"query_string.name\"\n                  class=\"form-control required\"\n                  placeholder=\"Candidate Name\"\n                  disabled\n                />\n                <!-- <div\n                  class=\"required-box \"\n                  :class=\"{'disabled':edit_scheduling}\"\n                >\n                  <span class=\"required-text\">*</span>\n                </div> -->\n              </div>\n              <div\n                class=\"form-group create-schedule-input d-flex\"\n                style=\"justify-content: center\"\n              >\n                <input\n                  v-model=\"query_string.candidate_email\"\n                  class=\"form-control\"\n                  placeholder=\"Candidate Email\"\n                  disabled\n                />\n              </div>\n              <div\n                class=\"form-group create-schedule-input d-flex\"\n                style=\"justify-content: center\"\n              >\n                <input\n                  type=\"text\"\n                  v-model=\"query_string.contact_number\"\n                  class=\"form-control\"\n                  placeholder=\"Contact Number\"\n                  disabled\n                />\n              </div>\n              <!-- <div class=\"log-frm\" style=\"text-align:center; max-width: 100%; margin-bottom: 10px;\">\n                <p>Selected Date : {{selected_date}}</p>\n              </div> -->\n              <div\n                style=\"text-align: center; margin-bottom: 10px\"\n              >\n              <p style=\"font-size: 20px; font-weight: 600\">\n                  Select a Date &#38; Time\n                </p>\n              </div>\n              <div class=\"form-group row\" style=\"justify-content: center;\">\n              \n                <date-picker\n                  class=\"form-group ml-0\"\n                  v-model=\"selected_date\"\n                  format=\"YYYY-MM-DD\"\n                  @change=\"get_hr_schedule\"\n                  placeholder=\"Select date\"\n                  :disabled-date=\"disabledBeforeToday\"\n                  type=\"date\"\n                  :inline=\"true\"\n                ></date-picker>\n              <div\n                class=\"form-group create-schedule-input d-flex\"\n                style=\"justify-content: center; height: 280px\"\n              >\n                <div class=\"timeslot-main\" style=\"width: 100%; overflow-y: scroll;\">\n                  <div\n                    class=\"times\"\n                    style=\"\n                      padding-right: 5px;\n                      overflow: auto;\n                    \"\n                  >\n                    <div\n                      class=\"spot-list\"\n                      style=\"\n                        overflow: hidden;\n                        white-space: nowrap;\n                        -webkit-user-select: none;\n                        -ms-user-select: none;\n                        user-select: none;\n                      \"\n                    >\n                      <div\n                        class=\"list-item\"\n                        style=\"margin-bottom: 10px; font-size: 16px\"\n                        v-for=\"(time, index) in time_slots\"\n                        :key=\"index\"\n                      >\n                        <button\n                          class=\"time-btn\"\n                          :class=\"time == selected_time ? 'time-active' : ''\"\n                          @click=\"select_timeslot(time)\"\n                        >\n                          {{ time }}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- <select\n                  v-model=\"selected_time\"\n                  class=\"form-control\"\n                  placeholder=\"\"\n                  required\n                >\n                  <option v-if=\"time_slots.length > 0\" selected value>\n                    Select Time Slot\n                  </option>\n                  <option v-else selected value>No Time Slot Availabe</option>\n                  <option\n                    :value=\"time\"\n                    v-for=\"(time, index) in time_slots\"\n                    :key=\"index\"\n                  >\n                    {{ time }}\n                  </option>\n                </select> -->\n              </div> \n              </div>\n              <div class=\"btn-wrap d-flex justify-content-between\">\n                <button\n                  @click=\"confirm_appointment\"\n                  class=\"darkblue-btn ml-auto mr-auto text-uppercase\"\n                  style=\"width: auto\"\n                >\n                  Book an interview\n                </button>\n              </div>\n            </div>\n            <div v-if=\"containsKey('application_form')\"\n              class=\"log-sec align-items-center\">\n              <div v-if=\"!is_submit\">\n                <div class=\"col-sm-12 form-group mb-0\">\n                  <p style=\" color: #1454c7 !important; font-weight: bold !important; font-size: 25px !important;\n                    height: 3rem !important;text-align: center;width: 99%;\">\n                    Application form</p>\n                </div>\n                <div class=\"col-sm-12 form-group\" style=\"border:1px solid rgb(178 206 235)!important;border-radius:12px;\">\n                  <form @submit.prevent=\"save_application_form\" >\n                    <div v-for=\"(requirement, index) in requirement_form\"\n                        :key=\"index\"\n                    >\n                      <div class=\"form-group\" v-if=\"requirement.type === 'text'\">\n                        <label class=\"font-weight-bold text-md\">{{requirement.key_name}}</label>\n                        <input\n                          type=\"text\"\n                          class=\"form-control\"\n                          placeholder=\"Enter your name\"\n                          v-model=\"requirement.key_value\"\n                        >\n                      </div>\n                      <div class=\"form-group\" v-if=\"requirement.type === 'email'\">\n                        <label class=\"font-weight-bold text-md\">{{requirement.key_name}}</label>\n                        <input\n                          type=\"email\"\n                          class=\"form-control\"\n                          placeholder=\"Enter your Email\"\n                          v-model=\"requirement.key_value\"\n                        >\n                      </div>\n                      <div id = \"radio-bttn\" class=\"align-items-center form-group mb-2\" v-if=\"requirement.type === 'choice'\">\n                        <label class=\"mr-3 align-items-center font-weight-bold\">{{requirement.key_name}}</label>\n                        <div v-for=\"(option,indx) in requirement.options\"\n                            :key=\"indx\" class=\"mr-2\" style=\"position: relative;bottom:2px;\">\n                          <input\n                            type=\"radio\"\n                            value= option\n                            class=\"\"\n                            style=\"position: relative;top: 2px;\"\n                            placeholder=\"Enter your Email\"\n                            v-model=\"selected_options.key_value\"\n                            name=\"available_option\"\n                            @click=\"select_radio_button(indx,requirement)\"\n                          >\n                        <label class=\"ml-2\"> {{option}} </label>\n                        </div>\n                      </div>\n                      <div class=\"form-group\" v-if=\"requirement.type === 'number'\">\n                        <label class=\"font-weight-bold text-md\">{{requirement.key_name}}</label>\n                        <input\n                          type=\"number\"\n                          placeholder=\"Year of experience\"\n                          v-model=\"requirement.key_value\"\n                          value=\"0\"\n                          id=\"year-exp\"\n                          style=\"box-shadow: none;border: solid 1px #DBE2E8;font-size: 16px;\n                                line-height: 30px;height: auto;outline: none;color: #9499AE;font-weight: 400;\n                                background-position: 15px 10px !important;width: 20 %;padding-left: 10px;margin-left: 10px;}\" \n                          min=\"0\"\n                        >\n                      </div>\n                      <div  id =\"multi-choice\" class=\"form-group  align-items-center\" v-if=\"requirement.type === 'multichoice'\">\n                        <label class=\"font-weight-bold text-md\">{{requirement.key_name}}</label>\n                          <div v-for=\"(option,indx) in requirement.options\"\n                            :key=\"indx\"\n                          >\n                            <div class=\"form-check checkbox checkbox-success d-flex align-items-center mb-2\" id=\"single-option\">\n                              <label class=\"\">\n                                <input\n                                  class=\"\"\n                                  type=\"checkbox\"\n                                  @change=\"selected_options(indx,requirement)\"\n                                >\n                                <span class=\"icn\"></span>\n                              </label>\n                              <span class=\"mb-1\" style=\"position: relative;\">{{option}}</span>\n                            </div>\n                          </div>\n                      </div>\n                      <div class=\"form-group d-flex mb-1 \" v-if=\"requirement.type== 'file'\">\n                        <label class=\"mt-3 pl-0 font-weight-bold text-md\">{{requirement.key_name}}</label>\n                        <input type=\"file\" id=\"upload_file\" class=\"form-control pl-2\" style=\"margin-left: 1.5rem;\" @change=\"upload_files\">\n                      </div>                  \n                    </div>\n                    <div style =\"text-align: center;\" >\n                      <button type=\"submit\" class=\"col-sm-2  mt-4 ml-3 pt-2 pl-2 pr-2 mb-2\" id=\"save-bttn\"\n                      style=\"width: 13%;background: #1454c7!important;font-size: 14px; color: #fff; background: #1454c7; border: solid 1px #273679; padding: 6px 15px; \n                      font-weight: 400; line-height: 20px; display: inline-block; border-radius: 4px; cursor: pointer;\">\n                      Save</button>  \n                    </div>\n                  </form>\n                </div>\n              </div>\n              <div class=\"col-sm-12 form-group mb-0\" v-else>\n                <p style=\" color: #1454c7 !important; font-weight: bold !important; font-size: 25px !important;\n                  height: 3rem !important;text-align: center;width: 99%;\">\n                  Thank you!!!</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport DatePicker from \"vue2-datepicker\";\nimport \"vue2-datepicker/index.css\";\nimport \"../../../../../public/css/segoe-ui.css\";\nimport moment from \"moment\";\nimport fingerprint from \"@/portal/components/fingerprint\";\n\nexport default {\n  components: {\n    DatePicker,\n  },\n  data() {\n    return {\n      query_string: null,\n      message: \"\",\n      selected_date: new Date().toISOString(),\n      curr_date: new Date().toISOString(),\n      selected_time: \"\",\n      time_slots: [],\n      company_logo: null,\n      minimum_notice_days: 1,\n      meeting_days_range: \"\",\n      selected_files: '',\n      reg_email: /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,\n      requirement_form: [],\n      position_description: '',\n      is_submit : false,\n      spinnerOn :false\n    };\n  },\n  watch: {\n    // selected_date(val) {\n    //   this.get_hr_schedule();\n    // }\n  },\n  created() {\n    this.query_string = this.$route.query;\n  },\n  mounted() {\n    this.get_form_data();\n    // http://localhost:8080/bot/intermediate-screen?schedule_appointment=true&company_id=wootest127672&company_name=WooTest1&candidate_email=akshaybadhe%40ternaengg.ac.in&position=Python&contact_number=9869533907&name=Akshay%20Badhe\n    if (\n      Boolean(this.query_string) &&\n      this.query_string.notify_candidate == \"true\"\n    ) {\n      this.hr_send_email();\n    } else if (\n      Boolean(this.query_string) &&\n      this.query_string.schedule_appointment == \"true\"\n    ) {\n      this.get_hr_schedule();\n    } else if(\n      Boolean(this.query_string) &&\n      this.query_string.application_form == \"true\"\n    ) {\n      this.get_form_data();\n    }\n    axios\n      .post(api_calls.hr_get_schedule_appointment(), {\n        company_name: this.query_string.company_name,\n        company_id: this.query_string.company_id,\n        get_scheduling_info: true,\n      })\n      .then((response) => {\n        if (response.data != null) {\n          this.company_logo = response.data.company_logo;\n          this.minimum_notice_days = response.data.minimum_notice_days;\n          this.meeting_days_range = response.data.meeting_days_range;\n        } else {\n        }\n      })\n      .catch((e) => {\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n  },\n  methods: {\n    select_timeslot(val) {\n      var vm = this;\n      console.log(val);\n      vm.selected_time = val;\n    },\n    containsKey(key) {\n      return Object.keys(this.query_string).includes(key);\n    },\n    disabledBeforeToday(date) {\n      console.log(date);\n      const today = new Date();\n      const range = new Date();\n      today.setDate(today.getDate() + this.minimum_notice_days);\n      range.setDate(range.getDate() + this.meeting_days_range);\n      return date < today || date > range;\n    },\n    get_hr_schedule() {\n      axios\n        .post(api_calls.hr_get_schedule_appointment(), {\n          company_name: this.query_string.company_name,\n          company_id: this.query_string.company_id,\n          Date: moment(this.selected_date).format(\"YYYY-MM-DD\"),\n          appointment_date: moment(this.selected_date).format(\"YYYY-MM-DD\"),\n        })\n        .then((response) => {\n          if (response.data != null) {\n            if (response.data.msg == \"Please update your scheduler settings\") {\n              toastr.error(\"Please update your scheduler settings\");\n              Swal.fire({\n                title: \"Please update your scheduler settings\",\n                type: \"info\",\n                timer: 3000,\n              }).then((result) => {});\n            } else if (response.data.msg == \"Internal Server Error\") {\n              Swal.fire({\n                title: \"Internal Server Error\",\n                type: \"error\",\n                timer: 3000,\n              }).then((result) => {});\n            } else {\n              this.time_slots = response.data.available_time_slots;\n            }\n          } else {\n            this.message =\n              'Some error occured, please contact us at <a href=\"mailto:support@cense.ai\">support@cense.ai</a>';\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    confirm_appointment() {\n      if (this.selected_time == \"\") {\n        Swal.fire({\n          title: \"Please Select a time slot\",\n          type: \"warning\",\n          timer: 3000,\n        });\n        return;\n      }\n      Swal.fire({\n        title: \"Are you sure?\",\n        text:\n          \"You have selected this \" +\n          moment(this.selected_date).format(\"YYYY-MM-DD\") +\n          \" date and \" +\n          this.selected_time +\n          \" this time slot for interview.\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\",\n      }).then((result) => {\n        if (result.value) {\n          axios\n            .post(api_calls.hr_schedule_appointment(), {\n              company_name: this.query_string.company_name,\n              company_id: this.query_string.company_id,\n              Date: moment(this.selected_date).format(\"YYYY-MM-DD\"),\n              appointment_date: moment(this.selected_date).format(\"YYYY-MM-DD\"),\n              candidate_email: this.query_string.candidate_email,\n              candidate_name: this.query_string.name,\n              candidate_contact_number: this.query_string.contact_number,\n              candidate_visit_date: moment(this.selected_date).format(\n                \"YYYY-MM-D\"\n              ),\n              candidate_visit_slot: this.selected_time,\n              candidate_position: this.query_string.position,\n            })\n            .then((response) => {\n              if (\n                response.data.msg != undefined &&\n                response.data.msg == \"Appointment Added Successfully\"\n              ) {\n                Swal.fire({\n                  title:\n                    \"Interview appointment booked successfully \" +\n                    this.query_string.name,\n                  type: \"success\",\n                  timer: 3000,\n                });\n              } else if (response.data.msg == \"Internal Server Error\") {\n                Swal.fire({\n                  title: \"Internal Server Error\",\n                  type: \"error\",\n                  timer: 3000,\n                });\n              } else if (\n                response.data.msg == \"Token Invalid\" ||\n                \"Interview already schedule\"\n              ) {\n                Swal.fire({\n                  title: \"Link Expired\",\n                  type: \"warning\",\n                  timer: 3000,\n                });\n              } else {\n                this.message =\n                  'Some error occured, please contact us at <a href=\"mailto:support@cense.ai\">support@cense.ai</a>';\n              }\n            })\n            .catch((e) => {\n              // this.insert_variable('quill', this.slot_variable);\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });\n    },\n    hr_send_email() {\n      axios\n        .post(api_calls.hr_bot_notify_candidate(), this.query_string)\n        .then((response) => {\n          if (response.data.MSG == \"Email is being sent to candidate\") {\n            Swal.fire({\n              title:\n                \"Email Sent Successfully to Candidate \" +\n                this.query_string.name,\n              type: \"success\",\n              timer: 3000,\n            }).then((result) => {});\n            this.message =\n              \"Email Sent Successfully to Candidate, close this window.\";\n          } else if (\n            response.data.MSG == \"Please upgrade your plan to send emails\"\n          ) {\n            Swal.fire({\n              title: \"Please upgrade your plan to send emails\",\n              type: \"error\",\n              timer: 3000,\n            }).then((result) => {});\n            this.message = \"Please upgrade your plan to send emails.\";\n          } else if (\n            response.data.MSG ==\n            \"You have reached the Quota allotted for sending emails\"\n          ) {\n            Swal.fire({\n              title: \"You have reached the Quota allotted for sending emails\",\n              type: \"warning\",\n              timer: 3000,\n            }).then((result) => {});\n            this.message =\n              \"You have reached the Quota allotted for sending emails. Please get a Email Add On.\";\n          } else if (response.data.MSG == \"Already Notified\") {\n            Swal.fire({\n              title: \"Already Notified to this candidate\",\n              type: \"info\",\n              timer: 3000,\n            }).then((result) => {});\n            this.message = \"Already Notified to this candidate\";\n          } else if (response.data.MSG == \"Internal Server Error\") {\n            Swal.fire({\n              title: \"Internal Server Error\",\n              type: \"error\",\n              timer: 3000,\n            }).then((result) => {});\n            this.message =\n              'Some error occured, please contact us at <a href=\"mailto:support@cense.ai\">support@cense.ai</a>';\n          } else {\n            this.message =\n              'Some error occured, please contact us at <a href=\"mailto:support@cense.ai\">support@cense.ai</a>';\n          }\n        })\n        .catch((e) => {\n          // this.insert_variable('quill', this.slot_variable);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    selected_options(index,list_options){\n      if(event.target.checked == true){\n        list_options.key_value.push(list_options.options[index])\n      }else{\n        list_options.key_value.splice(index,1);\n      }\n    },\n    select_radio_button(index,requirement){\n      requirement.key_value = requirement.options[index];\n    },\n    upload_files(e){\n      this.selected_files = e.target.files;\n      if(this.selected_files.length > 0){\n        if (this.selected_files[0].size > 5097152) {\n          Swal({\n            text: \"Upload image with size should be less than 2MB\",\n            toast: true,\n            position: \"top-end\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n          this.selected_files ='';\n        }\n      }else{\n        this.selected_files ='';\n      }\n    },\n    save_application_form(){\n      let email_value = '';\n      for( let i =0; i<this.requirement_form.length; i++){\n        if(this.requirement_form[i].type == 'file' && this.selected_files != ''){\n          this.requirement_form[i].key_value.push(this.selected_files[0].name);        \n        }\n        if (this.requirement_form[i].key_value == '' || this.requirement_form[i].key_value == [] || this.requirement_form[i].key_value == {}||\n            this.requirement_form[i].key_value == null\n        ){\n            Swal({\n            text: \"Please fill all given field\",\n            toast: true,\n            position: \"top-end\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n          return\n        }\n        if(this.requirement_form[i].type == 'email'){\n          email_value = this.requirement_form[i].key_value;\n           if (!this.reg_email.test(email_value)){\n           Swal({\n            text: \"Please entre valid email\",\n            toast: true,\n            position: \"top-end\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2000\n            });\n            return\n           }\n        }\n      }\n      var user_details ={\n        company_name: this.query_string.companyname,\n        company_id: this.query_string.companyid,\n        position_name:this.query_string.positionname,\n        candidate_email : email_value,\n        requirement_form:this.requirement_form,\n        is_save:true\n      };\n      var json = JSON.stringify(user_details);\n      var blob = new Blob([json], {\n        type: \"application/json\",\n      });\n      const fd = new FormData();\n      for (let j=0 ;j<this.selected_files.length;j++){\n        fd.append(\n          this.selected_files[j].name,\n          this.selected_files[j]\n        )\n      }\n      fd.append(\"json\", blob);\n      this.spinnerOn = true;\n      axios\n      .post(\n        api_calls.hr_requirement_form(),fd\n      )\n      .then((response)=>{\n        this.spinnerOn = false;\n        this.requirement_form = [];\n        this.is_submit = true;\n        if (\n          response.data.msg != undefined &&\n          response.data.msg == \"Application Added Successfully\"\n        ) {\n          Swal.fire({\n            title:\n              \"Form Submitted Successfully\",\n            type: \"success\",\n            timer: 3000,\n          });\n        } else if (response.data.msg == \"Internal Server Error\") {\n          Swal.fire({\n            title: \"Internal Server Error\",\n            type: \"error\",\n            timer: 3000,\n          });\n        } else if (\n          response.data.msg ==\"Candidate application already exists\"\n        ) {\n          Swal.fire({\n            title: \"Candidate application already exists\",\n            type: \"warning\",\n            timer: 3000,\n          });\n        } else {\n          this.message =\n            'Some error occured, please contact us at <a href=\"mailto:support@cense.ai\">support@cense.ai</a>';\n        }\n      })\n      .catch((e) => {\n        this.spinnerOn = false;\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n    },\n    get_form_data(){\n      var user_details ={\n        company_name: this.query_string.companyname,\n        company_id: this.query_string.companyid,\n        position_name:this.query_string.positionname,\n        is_get:true,\n      };\n      var json = JSON.stringify(user_details);\n      var blob = new Blob([json], {\n        type: \"application/json\",\n      });\n      const fd = new FormData();\n      fd.append(\"json\", blob);\n      this.spinnerOn = true;\n      axios \n        .post(\n          api_calls.hr_requirement_form(),fd\n        )\n        .then((response)=>{\n          this.spinnerOn = false;\n          this.position_description = response.data.position_description;\n          this.requirement_form = response.data.requirement_form;\n          for(let j =0 ;j<this.requirement_form.length ;j++){\n            if(this.requirement_form[j].type != 'multichoice' && this.requirement_form[j].type !='file'){\n              this.requirement_form[j]['key_value']= '';\n            }else{\n              this.requirement_form[j]['key_value']= [];\n            }\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.timeslot-main::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.timeslot-main::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.timeslot-main::-webkit-scrollbar-thumb {\n  background: #7d7d7d;\n  border-radius: 10px;\n}\n.timeslot-main::-webkit-scrollbar-thumb:hover {\n  background: #7d7d7d;\n  border-radius: 10px;\n}\n.time-btn {\n  width: 100%;\n  height: 40px;\n  background: white;\n  color: var(--primary-color, rgb(0, 105, 255));\n  border: 3px solid\n    var(\n      --primary-color-level2,\n      rgba(0, 105, 255, 0.5)\n    );\n\n  position: relative;\n  padding: 0px 10px;\n  font-weight: 700;\n  vertical-align: top;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n  transition-property: width, transform;\n}\n.time-btn:hover {\n  border-color: var(--primary-color, rgb(0, 105, 255));\n  border-width: 3px;\n}\n.time-active {\n  border-color: var(--primary-color, rgb(0, 105, 255));\n  background-color: rgb(0, 105, 255);\n  color: white;\n  border-width: 3px;\n}\n/* .time-active {\n\n} */\n.form-group {\n  padding: 5px 15px 5px 15px;\n}\n.form-control {\n  font-size: 16px;\n  padding: 5px 15px 5px 30px;\n}\n@media (max-width:450px) {\n  #save-bttn {\n    width: 30% !important;\n  }\n  #single-option{\n    padding-left: 0 !important;\n  }\n}\n@media (min-width:451px) {\n  #multi-choice {\n    display: flex !important;\n  }\n  #radio-bttn {\n    display: flex !important;\n  }\n  #single-option{\n    padding-left: 20px !important;\n  }\n}\n@media (max-width:380px) {\n  #year-exp{\n    padding-left: 5px !important;\n    margin-left: 0 !important;\n  }\n}\n</style>\n<style>\n</style>"]}]}