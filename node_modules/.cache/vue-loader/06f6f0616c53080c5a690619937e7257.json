{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/Linechart.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/Linechart.vue","mtime":1643027096188},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi8qIC5vdmVybGF5IHsKICBmaWxsOiBub25lOwogIHBvaW50ZXItZXZlbnRzOiBhbGw7Cn0KCgouZm9jdXMgdGV4dCB7CiAgZm9udC1zaXplOiAxNHB4Owp9CgoudG9vbHRpcCB7CiAgZmlsbDogd2hpdGU7CiAgc3Ryb2tlOiAjMDAwOwp9CgoudG9vbHRpcC1kYXRlLAoudG9vbHRpcC1saWtlcyB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLmZvY3VzIGNpcmNsZSB7CiAgZmlsbDogI2YxZjNmMzsKICBzdHJva2U6ICM2ZjI1N2Y7CiAgc3Ryb2tlLXdpZHRoOiA1cHg7Cn0KCi5ob3Zlci1saW5lIHsKICBzdHJva2U6ICM2ZjI1N2Y7CiAgc3Ryb2tlLXdpZHRoOiAycHg7CiAgc3Ryb2tlLWRhc2hhcnJheTogMywgMzsKfQoubGluZSB7CiAgZmlsbDogbm9uZTsKICBzdHJva2U6ICM2RjI1N0Y7CiAgc3Ryb2tlLXdpZHRoOiA1cHg7Cn0KLnRvb2xUaXAgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBkaXNwbGF5OiBub25lOwogIG1pbi13aWR0aDogODBweDsKICBoZWlnaHQ6IGF1dG87CiAgYmFja2dyb3VuZDogbm9uZSByZXBlYXQgc2Nyb2xsIDAgMCAjZmZmZmZmOwogIGJvcmRlcjogMXB4IHNvbGlkICM2RjI1N0Y7CiAgcGFkZGluZzogMTRweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0gKi8K"},{"version":3,"sources":["Linechart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0bA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Linechart.vue","sourceRoot":"src/portal/analytics/components","sourcesContent":["<template>\n  <!-- <svg :width=\"width\" :height=\"height\" ref=\"svg\">\n    <g ref=\"chart\">\n      <path :d=\"path\" stroke=\"#273679\" stroke-width=\"2\" fill=\"none\" />\n    </g>\n    <g ref=\"circle\" />\n    <g ref=\"axis\" />\n  </svg> -->\n  <svg width=\"960\" height=\"500\" id=\"svg\"></svg>  \n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport { max, min } from \"d3\";\n\nexport default {\n  name: \"LineChart\",\n  props: {\n    title: String,\n    xKey: String,\n    yKey: String,\n    data: Array\n  },\n  // data() {\n  //   return {\n  //     width: 900,\n  //     height: 500,\n  //     path: \"\",\n  //     selected: null,\n  //     focus: null\n  //   };\n  // },\n  computed: {\n    // xSelector(d) {\n    //   return d => d[this.xKey];\n    // },\n    // ySelector(d) {\n    //   return d => d[this.yKey];\n    // },\n    // dataMax() {\n    //   return max(this.data, d => {\n    //     return d[this.yKey];\n    //   });\n    // },\n    // dataMin() {\n    //   return min(this.data, d => {\n    //     return d[this.yKey];\n    //   });\n    // },\n  },\n  mounted() {\n    var vm = this;\n\n    // const xScale = d3\n    // //   .scaleLinear()\n    // //   .range([0, 400])\n    // // //   .domain([0, this.data.length]);\n    // // .domain(d3.extent(this.data, function(d){\n    // // return (d.CATEGORY)}))\n    // .scaleBand()\n    // // .ordinal()\n    // .range([0, 400])\n    // .domain(this.data.map(function(d) { return d[vm.xKey] }));\n    //   const xTemp = d3\n    // .scaleBand()\n    // .range([0, 400]);\n\n    // const yScale = d3\n    //   .scaleLinear()\n    //   .range([0, 420])\n    //   .domain([this.dataMax, 0]);\n\n    // const path = d3\n    //   .line()\n    //   .x(d => xScale(this.xSelector(d)))\n    //   .y(d => yScale(this.ySelector(d)))\n    //   .curve(d3.curveLinear);\n    // this.path = path(this.data);\n\n    // const margin = { top: 40, left: 40, bottom: 40, right: 0 };\n    // const yAxis = d3.axisLeft(yScale);\n    // const xAxis = (d3.axisBottom(xScale));\n    // // .ticks(this.width / 80).tickSizeOuter(0));\n\n    // const chartWidth = this.width - (margin.left + margin.right);\n    // const chartHeight = this.height - (margin.top + margin.bottom);\n    // var bisectX = d3.bisector(function(d) {\n    //   return d[vm.xKey];\n    // }).left;\n\n    // d3.select(this.$refs.chart)\n    //   .attr(\"width\", chartWidth)\n    //   .attr(\"height\", chartHeight)\n    //   .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n    // d3.select(this.$refs.axis)\n    //   .append(\"g\")\n    //   .attr(\"transform\", `translate(${margin.left}, ${margin.top})`)\n    //   .attr(\"class\", \"axis y\")\n    //   .call(yAxis)\n    //   .append(\"text\")\n    //     .attr(\"class\", \"axis-title\")\n    //     .attr(\"transform\", \"rotate(-90)\")\n    //     .attr(\"y\", 6)\n    //     .attr(\"dy\", \".71em\")\n    //     .style(\"text-anchor\", \"end\")\n    //     .attr(\"fill\", \"#5D6971\")\n    //     .text(this.yKey);\n\n    // d3.select(this.$refs.axis)\n    //   .append(\"g\")\n    //   .attr(\n    //     \"transform\",\n    //     `translate(${margin.left}, ${chartHeight + margin.top})`\n    //   )\n    //   .attr(\"class\", \"axis x\")\n    //   .call(xAxis)\n    // //   .selectAll(\"text\")  \n    // //   .style(\"text-anchor\", \"end\")\n    // //   .attr(\"dx\", \"-.8em\")\n    // //   .attr(\"dy\", \"0em\")\n    // //  .attr(\"transform\", \"rotate(-50)\");\n    // .selectAll(\".tick text\")\n    //   .call(wrap, xScale.bandwidth());\n\n    //   function wrap(text, width) {\n    //     console.log(width);\n    //     text.each(function() {\n    //       var text = d3.select(this),\n    //           words = text.text().split(/\\s+/).reverse(),\n    //           word,\n    //           line = [],\n    //           lineNumber = 0,\n    //           lineHeight = 1.1, // ems\n    //           y = text.attr(\"y\"),\n    //           dy = parseFloat(text.attr(\"dy\")),\n    //           tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n    //       while (word = words.pop()) {\n    //         line.push(word);\n    //         tspan.text(line.join(\" \"));\n    //         if (tspan.node().getComputedTextLength() > width) {\n    //           line.pop();\n    //           tspan.text(line.join(\" \"));\n    //           line = [word];\n    //           tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n    //         }\n    //       }\n    //     });\n    //   }\n\n\n    // //  const tooltip = this.$refs.chart.append(\"g\");\n    // //  const svg = d3.select(this.$refs.chart);\n\n    // //     svg.on(\"touchmove mousemove\", function() {\n    // //     const {date, value} = bisect(d3.mouse(this)[0]);\n\n    // //     tooltip\n    // //             .attr(\"transform\", `translate(${x(vm.xKey)},${y(vm.yKey)})`)\n    // //             .call(callout, `${value.toLocaleString(undefined, {style: \"currency\", currency: \"USD\"})}\n    // //     ${date.toLocaleString(undefined, {month: \"short\", day: \"numeric\", year: \"numeric\"})}`);\n    // //     });\n\n    // //     svg.on(\"touchend mouseleave\", () => tooltip.call(callout, null));\n    // // callout = (g, value) => {\n    // //     if (!value) return g.style(\"display\", \"none\");\n\n    // //     g\n    // //         .style(\"display\", null)\n    // //         .style(\"pointer-events\", \"none\")\n    // //         .style(\"font\", \"10px sans-serif\");\n\n    // //     const path = g.selectAll(\"path\")\n    // //         .data([null])\n    // //         .join(\"path\")\n    // //         .attr(\"fill\", \"white\")\n    // //         .attr(\"stroke\", \"black\");\n\n    // //     const text = g.selectAll(\"text\")\n    // //         .data([null])\n    // //         .join(\"text\")\n    // //         .call(text => text\n    // //         .selectAll(\"tspan\")\n    // //         .data((value + \"\").split(/\\n/))\n    // //         .join(\"tspan\")\n    // //             .attr(\"x\", 0)\n    // //             .attr(\"y\", (d, i) => `${i * 1.1}em`)\n    // //             .style(\"font-weight\", (_, i) => i ? null : \"bold\")\n    // //             .text(d => d));\n\n    // //     const {x, y, width: w, height: h} = text.node().getBBox();\n\n    // //     text.attr(\"transform\", `translate(${-w / 2},${15 - y})`);\n    // //     path.attr(\"d\", `M${-w / 2 - 10},5H-5l5,-5l5,5H${w / 2 + 10}v${h + 20}h-${w + 20}z`);\n    // //     }\n\n    // //     function bisect(){\n    // //         const bisect = d3.bisector(d => d.CATEGORY).left;\n    // //         return mx => {\n    // //             const date = x.invert(mx);\n    // //             const index = bisect(data, date, 1);\n    // //             const a = data[index - 1];\n    // //             const b = data[index];\n    // //             return CATEGORY - a.CATEGORY > b.CATEGORY - CATEGORY ? b : a;\n    // //         };\n    // //     }\n            \n\n    // this.focus = d3\n    //   .select(this.$refs.chart)\n    //   // .append(\"div\").attr(\"class\", \"toolTip\");\n    //   .append(\"g\")\n    //   .attr(\"class\", \"focus\")\n    //   .style(\"display\", \"none\");\n\n    // this.focus\n    //   .append(\"line\")\n    //   .attr(\"class\", \"x-hover-line hover-line\")\n    //   .attr(\"y1\", 0)\n    //   .attr(\"y2\", chartHeight);\n\n    // this.focus\n    //   .append(\"line\")\n    //   .attr(\"class\", \"y-hover-line hover-line\")\n    //   .attr(\"x1\", chartWidth)\n    //   .attr(\"x2\", chartWidth);\n\n    // this.focus.append(\"circle\").attr(\"r\", 7.5);\n\n    // this.focus\n    //   .append(\"text\")\n    //   .attr(\"x\", 15)\n    //   .attr(\"dy\", \".31em\");\n\n    // d3.select(this.$refs.chart)\n    //   .append(\"rect\")\n    //   .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    //   .attr(\"class\", \"overlay\")\n    //   .attr(\"width\", chartWidth)\n    //   .attr(\"height\", chartHeight)\n    //   .on(\"mouseover\", function() {\n    //     vm.focus.style(\"display\", null);\n    //      var x = d3.select(this).attr('id');\n    //     //  console.log(x);\n    //   })\n    //   .on(\"mouseout\", function() {\n    //     vm.focus.style(\"display\", \"none\");\n    //   })\n    //   .on(\"mousemove\", mousemove);\n    // function mousemove() {\n    //   // alert(\"Hi\")\n    //   // var x0 = xScale.invert(d3.mouse(this)[0])\n    //   //   // console.log(x0);\n    //   //   i = bisectX(vm.data, x0, 1),\n    //   //   // i = this.data,\n    //   //   d0 = vm.data[i - 1],\n    //   //   d1 = vm.data[i],\n    //   //   d = x0 - d0[vm.xKey] > d1[vm.xKey] - x0 ? d1 : d0;\n    //   // vm.focus.attr(\n    //   //   \"transform\",\n    //   //   \"translate(\" + xScale(d.x) + \",\" + yScale(d.y) + \")\"\n    //   // );\n    //   // vm.focus.select(\"text\").text(function() {\n    //   //   return d[vm.yKey];\n    //   // });\n    //   // vm.focus.select(\".x-hover-line\").attr(\"y2\", chartHeight - yScale(d[vm.yKey]));\n    //   // vm.focus.select(\".y-hover-line\").attr(\"x2\", chartWidth + chartWidth);\n    //   var xPos = d3.mouse(this)[0];\n    //   var domain = xScale.domain(); \n    //   var range = xScale.range();\n    //    var rangePoints = d3.range(range[0], range[1], xScale.step())\n    // var yPos = domain[d3.bisect(rangePoints, xPos) -1];\n    // console.log(xPos,yPos);\n\n    // // vm.focus.attr(\n    // //     \"transform\",\n    // //     \"translate(\" + xScale(vm.xSelector(xPos)) + \",\" + yScale(vm.ySelector(yPos)) + \")\"\n    // //   );\n    // //  vm.focus.select(\"text\").text(function() {\n    // //     return yPos;\n    // //   });\n    // //   vm.focus.select(\".x-hover-line\").attr(\"y2\", chartHeight - 10);\n    // //   vm.focus.select(\".y-hover-line\").attr(\"x2\", chartWidth + chartWidth);\n    //   // vm.focus\n    //   //         .style(\"left\", d3.event.pageX - 40 + \"px\")\n    //   //         .style(\"top\", d3.event.pageY - 70 + \"px\")\n    //   //         .style(\"display\", \"inline-block\")\n    //   //         .html(\"<p> Hello </p>\"+ \"<br>\");\n\n    // }\n\n    var svg = d3.select(\"#svg\"),\n    margin = {top: 20, right: 20, bottom: 30, left: 40},\n    width = +svg.attr(\"width\") - margin.left - margin.right,\n    height = +svg.attr(\"height\") - margin.top - margin.bottom;\n\n    var parseTime = d3.timeParse(\"%M\"),\n        bisectDate = d3.bisector(function(d) { return d.DATENEW; }).left;\n\n    var x = d3.scaleTime().range([0, width]);\n    // var x = d3.scaleBand().range([0, width]);\n    var y = d3.scaleLinear().range([height, 0]);\n\n    var line = d3.line()\n        .x(function(d) { return x(d.DATENEW); })\n        .y(function(d) { return y(d.SALES); });\n\n    var g = svg.append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    // d3.json(\"data.json\", function(error, data) {\n        // if (error) throw error;\n      var data = \n      // [{\"year\":\"Bob\",\"value\":33},{\"year\":\"Robin\",\"value\":12},{\"year\":\"Anne\",\"value\":41},{\"year\":\"Mark\",\"value\":16},{\"year\":\"Joe\",\"value\":59},{\"year\":\"Eve\",\"value\":38},{\"year\":\"Karen\",\"value\":21},{\"year\":\"Kirsty\",\"value\":25},{\"year\":\"Chris\",\"value\":30},{\"year\":\"Lisa\",\"value\":47},{\"year\":\"Tom\",\"value\":5},{\"year\":\"Stacy\",\"value\":20},{\"year\":\"Charles\",\"value\":13},{\"year\":\"Mary\",\"value\":29}];\n       [\n            {\"SALES\":1340.450419999999,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 17 Mar 2016 10:18:47 GMT\",\"CATEGORY\":\"Stonefruits\",\"MONTH\":\"03\"},\n            {\"SALES\":170.90194000000005,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 17 Mar 2016 11:53:12 GMT\",\"CATEGORY\":\"Cucumbers\",\"MONTH\":\"03\"},\n            {\"SALES\":74.79999999999998,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 18 Mar 2016 12:13:55 GMT\",\"CATEGORY\":\"Sri Lankan Groceries\",\"MONTH\":\"03\"},\n            {\"SALES\":62.93936000000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 19 Mar 2016 19:42:10 GMT\",\"CATEGORY\":\"Veggies\",\"MONTH\":\"03\"},\n            {\"SALES\":218.4778800000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 20 Mar 2016 17:12:06 GMT\",\"CATEGORY\":\"Mushrooms\",\"MONTH\":\"03\"},\n            {\"SALES\":262.5995236363638,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 20 Mar 2016 17:34:22 GMT\",\"CATEGORY\":\"Tropical Fruits\",\"MONTH\":\"03\"},\n            {\"SALES\":69.59320000000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 20 Mar 2016 19:02:15 GMT\",\"CATEGORY\":\"Cabbages\",\"MONTH\":\"03\"},\n            {\"SALES\":671.8349600000005,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 23 Mar 2016 01:04:06 GMT\",\"CATEGORY\":\"Bananas\",\"MONTH\":\"03\"},\n            {\"SALES\":116.20128545454547,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 23 Mar 2016 01:35:13 GMT\",\"CATEGORY\":\"Nuts\",\"MONTH\":\"03\"},\n            {\"SALES\":295.2000000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 23 Mar 2016 04:31:17 GMT\",\"CATEGORY\":\"Avocadoes\",\"MONTH\":\"03\"},\n            {\"SALES\":47.5,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 03:13:07 GMT\",\"CATEGORY\":\"Herbs\",\"MONTH\":\"03\"},\n            {\"SALES\":169.20256000000003,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 04:12:32 GMT\",\"CATEGORY\":\"Pumpkins\",\"MONTH\":\"03\"},{\"SALES\":307.6499999999997,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 04:43:59 GMT\",\"CATEGORY\":\"Eggs\",\"MONTH\":\"03\"},{\"SALES\":975.1200545454553,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 24 Mar 2016 05:22:50 GMT\",\"CATEGORY\":\"Other Vegies\",\"MONTH\":\"03\"},{\"SALES\":112.4447,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 01:48:45 GMT\",\"CATEGORY\":\"Chillies\",\"MONTH\":\"03\"},{\"SALES\":597.0905363636365,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 03:28:03 GMT\",\"CATEGORY\":\"Citrus\",\"MONTH\":\"03\"},{\"SALES\":166.812,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 03:50:08 GMT\",\"CATEGORY\":\"carrots\",\"MONTH\":\"03\"},{\"SALES\":360.92106,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 25 Mar 2016 04:41:19 GMT\",\"CATEGORY\":\"capsicum\",\"MONTH\":\"03\"},{\"SALES\":57.88363636363637,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 26 Mar 2016 22:51:27 GMT\",\"CATEGORY\":\"Other Fruits\",\"MONTH\":\"03\"},{\"SALES\":884.4411199999997,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 26 Mar 2016 23:37:38 GMT\",\"CATEGORY\":\"Potatoes\",\"MONTH\":\"03\"},{\"SALES\":304.92546000000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 00:25:07 GMT\",\"CATEGORY\":\"Pears\",\"MONTH\":\"03\"},{\"SALES\":303.2260000000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 00:28:50 GMT\",\"CATEGORY\":\"Bunch Vegies\",\"MONTH\":\"03\"},{\"SALES\":620.6673999999997,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 01:08:03 GMT\",\"CATEGORY\":\"Tomatoes\",\"MONTH\":\"03\"},{\"SALES\":629.8516800000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 01:45:58 GMT\",\"CATEGORY\":\"Apples\",\"MONTH\":\"03\"},{\"SALES\":372.82099999999923,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 03:38:16 GMT\",\"CATEGORY\":\"Lettuces\",\"MONTH\":\"03\"},{\"SALES\":154.485,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 27 Mar 2016 23:08:40 GMT\",\"CATEGORY\":\"Multi buy\",\"MONTH\":\"03\"},{\"SALES\":387.9157999999999,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 28 Mar 2016 02:15:11 GMT\",\"CATEGORY\":\"Melons\",\"MONTH\":\"03\"},{\"SALES\":180.2172727272728,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 28 Mar 2016 22:59:34 GMT\",\"CATEGORY\":\"Olympian Products\",\"MONTH\":\"03\"},{\"SALES\":633.3682436363638,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 28 Mar 2016 23:57:28 GMT\",\"CATEGORY\":\"Onions\",\"MONTH\":\"03\"},{\"SALES\":854.30096,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 30 Mar 2016 03:02:09 GMT\",\"CATEGORY\":\"Grapes\",\"MONTH\":\"03\"},{\"SALES\":108.0,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 30 Mar 2016 04:15:59 GMT\",\"CATEGORY\":\"Flowers\",\"MONTH\":\"03\"},{\"SALES\":87.10741999999999,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 30 Mar 2016 21:40:15 GMT\",\"CATEGORY\":\"Root Vegies\",\"MONTH\":\"03\"},{\"SALES\":73.7,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 31 Mar 2016 00:23:50 GMT\",\"CATEGORY\":\"Cut Veggies\",\"MONTH\":\"03\"},{\"SALES\":216.50410000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 31 Mar 2016 01:27:43 GMT\",\"CATEGORY\":\"Asian Vegies\",\"MONTH\":\"03\"},{\"SALES\":167.87999999999997,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 31 Mar 2016 01:59:07 GMT\",\"CATEGORY\":\"Berries\",\"MONTH\":\"03\"},\n            {\"SALES\":602.2259454545458,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 00:26:23 GMT\",\"CATEGORY\":\"Citrus\",\"MONTH\":\"04\"},\n            {\"SALES\":964.0527800000008,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 00:41:01 GMT\",\"CATEGORY\":\"Other Vegies\",\"MONTH\":\"04\"},\n            {\"SALES\":107.87999999999998,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 04:50:24 GMT\",\"CATEGORY\":\"Cabbages\",\"MONTH\":\"04\"},\n            {\"SALES\":86.5556,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 04:50:24 GMT\",\"CATEGORY\":\"Root Vegies\",\"MONTH\":\"04\"},\n            {\"SALES\":675.9299000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 04:55:24 GMT\",\"CATEGORY\":\"Bananas\",\"MONTH\":\"04\"},\n            {\"SALES\":197.20808000000005,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 08:06:26 GMT\",\"CATEGORY\":\"Asian Vegies\",\"MONTH\":\"04\"},\n            {\"SALES\":108.0,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 01 Apr 2016 21:52:12 GMT\",\"CATEGORY\":\"Flowers\",\"MONTH\":\"04\"},\n            {\"SALES\":15.200000000000003,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 02 Apr 2016 00:22:14 GMT\",\"CATEGORY\":\"Sri Lankan Groceries\",\"MONTH\":\"04\"},\n            {\"SALES\":118.63200000000009,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 02 Apr 2016 00:22:14 GMT\",\"CATEGORY\":\"carrots\",\"MONTH\":\"04\"},\n            {\"SALES\":129.0,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:00:52 GMT\",\"CATEGORY\":\"Multi buy\",\"MONTH\":\"04\"},\n            {\"SALES\":174.17508000000004,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:00:52 GMT\",\"CATEGORY\":\"capsicum\",\"MONTH\":\"04\"},{\"SALES\":230.56272727272733,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:34:19 GMT\",\"CATEGORY\":\"Olympian Products\",\"MONTH\":\"04\"},{\"SALES\":96.84614727272728,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 00:37:49 GMT\",\"CATEGORY\":\"Nuts\",\"MONTH\":\"04\"},{\"SALES\":439.10896545454534,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 01:42:18 GMT\",\"CATEGORY\":\"Tomatoes\",\"MONTH\":\"04\"},{\"SALES\":512.0569200000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 02:44:59 GMT\",\"CATEGORY\":\"Grapes\",\"MONTH\":\"04\"},{\"SALES\":151.0479,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 02:53:00 GMT\",\"CATEGORY\":\"Pumpkins\",\"MONTH\":\"04\"},{\"SALES\":43.0,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 02:53:00 GMT\",\"CATEGORY\":\"Cut Veggies\",\"MONTH\":\"04\"},{\"SALES\":137.80607999999995,\"YEAR\":\"2016\",\"DATENEW\":\"Sun, 03 Apr 2016 06:09:50 GMT\",\"CATEGORY\":\"Cucumbers\",\"MONTH\":\"04\"},{\"SALES\":119.0145,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 04 Apr 2016 01:18:00 GMT\",\"CATEGORY\":\"Chillies\",\"MONTH\":\"04\"},{\"SALES\":276.1008799999999,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 04 Apr 2016 01:46:01 GMT\",\"CATEGORY\":\"Mushrooms\",\"MONTH\":\"04\"},{\"SALES\":202.88474000000008,\"YEAR\":\"2016\",\"DATENEW\":\"Mon, 04 Apr 2016 03:52:08 GMT\",\"CATEGORY\":\"Melons\",\"MONTH\":\"04\"},{\"SALES\":131.35276,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 01:46:42 GMT\",\"CATEGORY\":\"Tropical Fruits\",\"MONTH\":\"04\"},{\"SALES\":90.55818181818181,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 04:01:07 GMT\",\"CATEGORY\":\"Other Fruits\",\"MONTH\":\"04\"},{\"SALES\":187.63225999999992,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 04:49:26 GMT\",\"CATEGORY\":\"Pears\",\"MONTH\":\"04\"},{\"SALES\":496.3780800000003,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 05:00:29 GMT\",\"CATEGORY\":\"Onions\",\"MONTH\":\"04\"},{\"SALES\":20.44174,\"YEAR\":\"2016\",\"DATENEW\":\"Tue, 05 Apr 2016 22:36:34 GMT\",\"CATEGORY\":\"Veggies\",\"MONTH\":\"04\"},{\"SALES\":642.8219400000002,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 02:16:13 GMT\",\"CATEGORY\":\"Potatoes\",\"MONTH\":\"04\"},{\"SALES\":275.8000000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 03:26:52 GMT\",\"CATEGORY\":\"Avocadoes\",\"MONTH\":\"04\"},{\"SALES\":39.96,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 03:27:58 GMT\",\"CATEGORY\":\"Groceries-Dry Goods\",\"MONTH\":\"04\"},{\"SALES\":618.9657799999997,\"YEAR\":\"2016\",\"DATENEW\":\"Wed, 06 Apr 2016 04:47:53 GMT\",\"CATEGORY\":\"Stonefruits\",\"MONTH\":\"04\"},{\"SALES\":348.5120000000002,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 07 Apr 2016 02:45:13 GMT\",\"CATEGORY\":\"Lettuces\",\"MONTH\":\"04\"},{\"SALES\":293.10000000000025,\"YEAR\":\"2016\",\"DATENEW\":\"Thu, 07 Apr 2016 03:24:48 GMT\",\"CATEGORY\":\"Bunch Vegies\",\"MONTH\":\"04\"},{\"SALES\":227.34999999999985,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 08 Apr 2016 01:04:44 GMT\",\"CATEGORY\":\"Eggs\",\"MONTH\":\"04\"},{\"SALES\":138.97199999999998,\"YEAR\":\"2016\",\"DATENEW\":\"Fri, 08 Apr 2016 04:21:54 GMT\",\"CATEGORY\":\"Herbs\",\"MONTH\":\"04\"},{\"SALES\":502.37238000000025,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 09 Apr 2016 03:34:50 GMT\",\"CATEGORY\":\"Apples\",\"MONTH\":\"04\"},{\"SALES\":74.27000000000001,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 09 Apr 2016 04:22:37 GMT\",\"CATEGORY\":\"Berries\",\"MONTH\":\"04\"},{\"SALES\":2.0,\"YEAR\":\"2016\",\"DATENEW\":\"Sat, 09 Apr 2016 04:22:37 GMT\",\"CATEGORY\":\"Cut Fruits\",\"MONTH\":\"04\"}\n        ]\n        data.forEach(function(d) {\n          // d.DATENEW = new Date(d.DATENEW);\n          d.DATENEW = new Date(d.DATENEW);\n          d.SALES = +d.SALES;\n        });\n      // console.log(data, x.domain(d3.map(data, function(d) { return d.DATENEW; })),y.domain([d3.min(data, function(d) { return d.SALES; }) / 1.005, d3.max(data, function(d) { return d.SALES; }) * 1.005]));\n        x.domain(d3.extent (data, function(d) { return d.DATENEW; }));\n        y.domain([d3.min(data, function(d) { return d.SALES; }) / 1.005, d3.max(data, function(d) { return d.SALES; }) * 1.005]);\n\n    //     x.domain(data.map(function(d) { return d.DATENEW }))\n    // y.domain([\n    //   0,\n    //   d3.max(data, function(d) {\n    //     return d.SALES;\n    //   })\n    // ]);\n\n        g.append(\"g\")\n            .attr(\"class\", \"axis axis--x\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x));\n\n        g.append(\"g\")\n            .attr(\"class\", \"axis axis--y\")\n            .call(d3.axisLeft(y).ticks(6).tickFormat(function(d) { return parseInt(d / 1000) + \"k\"; }))\n          .append(\"text\")\n            .attr(\"class\", \"axis-title\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", 6)\n            .attr(\"dy\", \".71em\")\n            .style(\"text-anchor\", \"end\")\n            .attr(\"fill\", \"#5D6971\")\n            .text(\"Population)\");\n\n        g.append(\"path\")\n            .datum(data)\n            .attr(\"class\", \"line\")\n            .attr(\"d\", line);\n\n        var focus = g.append(\"g\")\n            .attr(\"class\", \"focus\")\n            .style(\"display\", \"none\");\n\n        focus.append(\"line\")\n            .attr(\"class\", \"x-hover-line hover-line\")\n            .attr(\"y1\", 0)\n            .attr(\"y2\", height);\n\n        focus.append(\"line\")\n            .attr(\"class\", \"y-hover-line hover-line\")\n            .attr(\"x1\", width)\n            .attr(\"x2\", width);\n\n        focus.append(\"circle\")\n            .attr(\"r\", 7.5);\n\n        focus.append(\"text\")\n            .attr(\"x\", 15)\n            .attr(\"dy\", \".31em\");\n\n        svg.append(\"rect\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n            .attr(\"class\", \"overlay\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .on(\"mouseover\", function() { focus.style(\"display\", null); })\n            .on(\"mouseout\", function() { focus.style(\"display\", \"none\"); })\n            .on(\"mousemove\", mousemove);\n\n        function mousemove() {\n            // console.log(x.invert(d3.mouse(this)))\n          // var x0 = x.invert(d3.mouse(this)[1]),\n          //     i = bisectDate(data, x0, 1),\n          //     d0 = data[i - 1],\n          //     d1 = data[i],\n          //     d = x0 - d0.DATENEW > d1.DATENEW - x0 ? d1 : d0;\n          // focus.attr(\"transform\", \"translate(\" + x(d.DATENEW) + \",\" + y(d.SALES) + \")\");\n          // focus.select(\"text\").text(function() { console.log(d); return d.SALES; });\n          // focus.select(\".x-hover-line\").attr(\"y2\", height - y(d.SALES));\n          // focus.select(\".y-hover-line\").attr(\"x2\", width + width);\n        }\n    // });\n  },\n  methods: {\n    xPoint(d) {\n      const yScale = d3\n        .scaleLinear()\n        .range([0, 420])\n        .domain([0, this.dataMax]);\n      return yScale(this.ySelector(d));\n    },\n    yPoint(d) {\n      const xScale = d3\n        .scaleLinear()\n        .range([0, 400])\n        .domain([0, 10]);\n      return xScale(this.xSelector(d));\n    }\n  }\n};\n</script>\n\n<style>\n/* .overlay {\n  fill: none;\n  pointer-events: all;\n}\n\n\n.focus text {\n  font-size: 14px;\n}\n\n.tooltip {\n  fill: white;\n  stroke: #000;\n}\n\n.tooltip-date,\n.tooltip-likes {\n  font-weight: bold;\n}\n.focus circle {\n  fill: #f1f3f3;\n  stroke: #6f257f;\n  stroke-width: 5px;\n}\n\n.hover-line {\n  stroke: #6f257f;\n  stroke-width: 2px;\n  stroke-dasharray: 3, 3;\n}\n.line {\n  fill: none;\n  stroke: #6F257F;\n  stroke-width: 5px;\n}\n.toolTip {\n  position: absolute;\n  display: none;\n  min-width: 80px;\n  height: auto;\n  background: none repeat scroll 0 0 #ffffff;\n  border: 1px solid #6F257F;\n  padding: 14px;\n  text-align: center;\n} */\n</style>\n"]}]}