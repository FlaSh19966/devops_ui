{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/SuperAdminIntermediateScreen.vue?vue&type=style&index=0&id=576bd64e&scoped=true&lang=css&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/SuperAdminIntermediateScreen.vue","mtime":1660042032579},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogICAgLnNlYXJjaC1jb250YWluZXJ7CiAgICAgIGZsb2F0OiByaWdodDsKICAgIH0KCiAgICAuZm9ybS1zZWFyY2h7CiAgICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgICB0b3A6IDJweDsKICAgICAgcmlnaHQ6IDkxcHg7CiAgICAgIGJvcmRlcjogbm9uZTsKICAgIH0KCiAgICAuaW5wdXQtZmllbGR7CiAgICAgIGJvcmRlcjogc29saWQgMXB4ICNEQkUyRTg7CiAgICAgIGhlaWdodDogMzRweDsKICAgICAgd2lkdGg6IDMwMHB4OwogICAgICBib3JkZXItcmFkaXVzOiAuMjVyZW07CiAgICB9CgogICAgaW5wdXRbdHlwZT10ZXh0XXsKICAgICAgLyogYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsKICAgICAgcGFkZGluZy1sZWZ0OiA2cHg7ICovCiAgICAgIHBhZGRpbmc6IDEwcHggMTVweDsKICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAgIGNvbG9yOiAjOTQ5OUFFOwogICAgICBvdXRsaW5lOiBub25lOwogICAgfQoKICAgIC5idG4tc3VibWl0ewogICAgICBib3JkZXI6bm9uZTsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBsaW5lLWhlaWdodDogMzBweDsKICAgICAgbWFyZ2luOiAwcHg7CiAgICAgIHBhZGRpbmc6IDAgMTBweDsKICAgICAgdG9wOiAwOwogICAgICByaWdodDogMThweDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNXB4OwogICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNXB4OwogICAgfQoKQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTFweCkgewogIC5mb3JtLXNlYXJjaHsKICAgIHJpZ2h0OiAtNzFweDsKICB9CiAgCn0KQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo3NjdweCkgewogIC5mb3JtLXNlYXJjaHsKICAgIHJpZ2h0OiAtMTJyZW07CiAgfQogIAp9CkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQzMXB4KSBhbmQgKG1heC13aWR0aDo1NzZweCkgewogIC5mb3JtLXNlYXJjaHsKICAgIHJpZ2h0OiAtMnJlbTsKICB9Cn0KCkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDMwcHgpIHsKICAuZm9ybS1zZWFyY2h7CiAgICByaWdodDogLThyZW07CiAgfQp9CkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6Mzc1cHgpIHsKICAuZm9ybS1zZWFyY2h7CiAgICByaWdodDogLTExcmVtOwogIH0gIAp9CgpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjMyMHB4KSB7CiAgLmZvcm0tc2VhcmNoewogICAgcmlnaHQ6IC0xNC4zcmVtOwogIH0KfQo="},{"version":3,"sources":["SuperAdminIntermediateScreen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuiBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"SuperAdminIntermediateScreen.vue","sourceRoot":"src/portal/Chatbot/Dashboard/Pages","sourcesContent":["<template>\n  <div>\n    <top-navbar\n      v-if=\"$route.name != 'Workflow' && $route.name != 'OpenBot'\"\n    ></top-navbar>\n    <!-- <div class=\"dash-cont\"> -->\n    <div class=\"container\" style=\"margin-top: 5rem\">\n      <div\n      class=\"spinner\"\n      id=\"spinner\"\n      v-show=\"spinnerOn != undefined && spinnerOn == true\"\n    ></div>\n      <div class=\"row\"> \n        <div class=\"col-sm-8 ml-auto mr-auto\">\n          <div class=\"d-flex\">\n            <div>\n            <h3>Hello Cense Admin,</h3>\n            <p>Please select the account into which you want to login:</p>   \n            </div>\n            <div class=\"search-container ml-auto\">\n              <!-- <form action=\"\" class=\"form-search\"> -->\n                <input type=\"text\" name=\"search\" class=\"input-field\"\n                    id=\"search_bar\" \n                  v-model.trim=\"searchQuery\" \n                  placeholder=\"Search here\">\n                <a\n                  type=\"button\"\n                  v-if=\"isVisibleSearchClear\"\n                  class=\"btn bg-transparent mt-auto mb-auto py-0 btn-submit\"\n                  @click=\"clear_search_name\"\n                  >\n                  <img src=\"/img/close-icn.png\" alt />\n                </a>\n              <!-- </form> -->\n            </div>\n          </div>\n          <table class=\"table\" style=\"border: 1px solid #e6e6e6\">\n            <!-- <thead>\n              <tr>\n                <th>#</th>\n                <th>Company Name</th>\n                <th>Email</th>\n                <th>Login</th>\n              </tr>\n            </thead> -->\n            <tbody>\n              <tr>\n                <th>#</th>\n                <th>Company Name</th>\n                <th>Email</th>\n                <th>Login</th>\n              </tr>\n              <tr\n                v-for=\"(account, index) in resultQuery\"\n                :key=\"index\"\n              >\n                <td>{{ index + 1 }}</td>\n                <td>{{ account.CompanyName }}</td>\n                <td>{{ account.Email }}</td>\n                <td>\n                  <!-- <button class=\"btn btn-primary\"> Login </button> -->\n                  <!-- <input type=\"radio\" name=\"abcd\" id=\"1234fd\" style=\"cursor:pointer;\" /> -->\n                  <a href=\"javascript: void(0)\" @click=\"login_account(index)\"\n                    >Go</a\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport TopNavbar from \"../Layout/TopNavbar.vue\";\nimport Swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport moment from \"moment\";\nimport { bus } from \"@/portal/main\";\nimport sidebaritems from \"../Layout/SideBarItem\";\nimport Cookies from \"js-cookie\";\n\nexport default {\n  name: \"SuperAdminIntermediateScreen\",\n  data() {\n    return {\n      searchQuery: null,\n      super_admin_login_data: [],\n      is_super_admin: true,\n      super_admin_chosen_account_data: null,\n      spinnerOn: false,\n      retail_web_framework: null,\n      isVisibleSearchClear: false\n    };\n  },\n  computed: {\n    resultQuery(){\n      if(this.searchQuery){\n      return this.super_admin_login_data.filter((item)=>{\n        return this.searchQuery.toLowerCase().split(' ').every(v => item.CompanyName.toLowerCase().includes(v) ||\n        item.Email.toLowerCase().includes(v))\n      })\n      }else{\n        return this.super_admin_login_data;\n      }\n    },\n\n  },\n\n  watch:{\n  searchQuery() {\n      if (this.searchQuery === '' || this.searchQuery === null) {\n        this.isVisibleSearchClear = false;\n      } else if (this.searchQuery != null || this.searchQuery !='') {\n        this.isVisibleSearchClear = true;\n      }\n    },\n  },\n  components: {\n    TopNavbar,\n  },\n  mounted() {\n    // console.log(this.$route.params);\n    if (Boolean(this.$route.params)) {\n      this.super_admin_login_data = this.$route.params.data;\n    } else {\n      this.$router.push({\n        name: \"Login\",\n      });\n    }\n  },\n  methods: {\n    login_account(index) { \n      Swal({\n        type: \"question\",\n        text: `Are you sure you want to login into the account of ${this.resultQuery[index].Email} which belongs to ${this.resultQuery[index].CompanyName}`,\n      }).then((result) => {\n        // console.log(result.value);\n        if (result.value) {\n          this.spinnerOn = true;\n          // console.log(`Login into ${this.super_admin_login_data[index].Email}`);\n          axios\n            .post(\n              api_calls.super_admin_login(),\n              {\n                email: this.resultQuery[index].Email,\n                date: moment().toISOString(),\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              if (response.data.message.MSG_CODE === this.api_status_code.LOGIN_SUCCESSFUL.MSG_CODE){\n                this.super_admin_chosen_account_data = response.data.data;\n                this.retail_web_framework = response.data.data.retail_web_framework;\n                // this.$root.$emit(\"super_admin_login\", data);\n                this.signout_api();\n              }else if (response.data.message.MSG_CODE == this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE) {\n                Swal({\n                  type: \"error\",\n                  text: this.tlt('add_role_internal_server_msg'),\n                  timer:3000,     \n                });\n              }\n              else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              console.log(e);\n            });\n        }\n      });\n    },\n    clear_search_name() {\n      this.searchQuery = null;\n    },\n\n    signout_api() {\n      bus.$emit(\"Logout has been clicked\", \"True\");\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.clear_access_token_url(),\n          {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            email: this.$session.get(\"UserInformation\").email,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(() => {\n          this.execute_signout();\n        })\n        .catch(() => {\n          this.execute_signout();\n        });\n    },\n    execute_signout() {\n      axios\n        .post(\n          api_calls.signout_url(),\n          {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            email: this.$session.get(\"UserInformation\").email,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"rt\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          if (\n            response.data.message.MSG_CODE == this.api_status_code.USER_LOGGED_OUT_1032.MSG_CODE ||\n            response.data.message.MSG_CODE == this.api_status_code.TOKEN_INVALID_0001.MSG_CODE ||\n            response.data.message.MSG_CODE == this.api_status_code.INVALID_CREDENTIALS_0005.MSG_CODE\n          ) {\n            this.$session.destroy();\n            this.$session.set(\"retail_web_framework\", this.retail_web_framework);\n            this.spinnerOn = false;\n            this.$root.$emit(\"Clear_Refresh_Token_Interval\", {\n              clear_interval: true,\n            });\n            bus.$emit(\"Logged out\", \"True\");\n            bus.$emit(\"Disable the bot chat now\", \"True\", \"Loggedout\");\n            this.redir(this.super_admin_chosen_account_data);\n          } else {\n            this.spinnerOn = false;\n            this.redir(this.super_admin_chosen_account_data);\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"success\"\n            })\n          }\n        })\n        .catch(() => {\n          this.$session.destroy();\n          this.spinnerOn = false;\n          bus.$emit(\"Logged out\", \"True\");\n          bus.$emit(\"Disable the bot chat now\", \"True\", \"Loggedout\");\n          this.redir(this.super_admin_chosen_account_data);\n        });\n    },\n    redir(message) {\n      // console.log(\"redir\");\n      if (message == \"Email hasn't been verified.\") {\n        swal({\n          html:\n            \"<h6>Your account has not been validated for login.<br>Please visit your e-mail</h6>\",\n          timer: 3000,\n          type: \"error\",\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"Internal Server Error\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>There was an internal server error. Please try again.</h6>\",\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"User has not been approved yet.\") {\n        swal({\n          type: \"warning\",\n          html:\n            \"<h6>Your registration has not been approved or it has been declined by Admin. Kindly check your mail</h6>\",\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"You are already logged in!\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>This user is already logged in</h6>\",\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"Invalid Credentials\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>Invalid Credentials!</h6>\",\n          showConfirmButton: false,\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message == \"API LIMIT EXCEEDED\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>Your monthly api requests has exceeded. Please Upgrade your plans to login</h6>\",\n          timer: 3000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if (message.MSG == \"Password should be Renewed\") {\n        swal({\n          type: \"error\",\n          html:\n            \"<h6>Your password has been expired. Please Renew your password</h6>\",\n          timer: 2500,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else if(Boolean(message.is_super_admin_login)){\n        this.$router.push({\n          name: \"SuperAdminIntermediateScreen\",\n          params: {\n            data: message.all_users_list\n          }\n        });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set('whatsapp_subscription',message.userinformation.whatsapp_subscription)\n      } else if (this.login_type == \"Bot\") {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set('whatsapp_subscription',message.userinformation.whatsapp_subscription)\n        this.check_template_subscription('push_direct_response_bot');\n        // this.$router.push(\"/bot/directresponsebot\");\n      } else if (message.MSG == \"User Is Locked\") {\n        swal({\n          type: \"error\",\n          html: \"<h6>This user has been locked</h6>\",\n          timer: 2000,\n        });\n        document.getElementById(\"body\").style.opacity = \"1\";\n        $('button[type=\"submit\"]').prop(\"disabled\", false);\n      } else {\n        Cookies.remove(\"login_type\");\n        Cookies.set(\"login_type\", this.login_type, { expires: 365 });\n        this.$session.start();\n        this.$session.set(\"UserInformation\", message.userinformation);\n        this.$session.set('whatsapp_subscription',message.userinformation.whatsapp_subscription)\n        if(this.is_super_admin){\n          axios\n            .post(api_calls.super_admin_bot_login(), {\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              username: this.$session.get(\"UserInformation\").email,\n            })\n            .then((response) => {\n              if (this.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE === response.data.message.MSG_CODE){\n                this.$session.set(\"BotToken\", response.data.data);\n                this.$session.remove(\"TemporaryBotToken\");\n                bus.$emit(\"Token changed\", \"True\");\n              }\n            });\n        } else {\n            axios\n            .post(api_calls.bot_response_token(), {\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              username: this.$session.get(\"UserInformation\").email,\n            })\n            .then((response) => {\n              if (this.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE === response.data.message.MSG_CODE){\n                this.$session.set(\"BotToken\", response.data.data);\n                this.$session.remove(\"TemporaryBotToken\");\n                bus.$emit(\"Token changed\", \"True\");\n              }\n            });\n        }\n        this.$session.set(\"UserFirstName\", message.userinformation.first_name);\n        this.$session.set(\"UserLastName\", message.userinformation.last_name);\n        this.$session.set(\"rt\", message.userinformation.refresh_token);\n        this.$session.set(\"at\", message.userinformation.access_token);\n        this.$session.set(\"RestrictionList\", message.restriction_list);\n        document.cookie =\n          \"company_id=\" + this.$session.get(\"UserInformation\").company_id;\n        document.getElementById(\"spinner\").style.opacity = \"1\";\n        this.check_template_subscription(null);\n        // setTimeout(() => {\n        this.update_menu_list(message.menubind);\n        // }, 100);\n      }\n    },\n    check_template_subscription(param) {\n      axios\n        .get(api_calls.open_bot_template_subscription_api(), {\n          params: {\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n          },\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(({data}) => {\n          // console.log(data , \"superadmin\")\n                 \n          if(data.message.MSG_CODE === this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE){\n            this.$session.set(\"BotTemplates\", data.data.templates)\n            if(param === 'push_direct_response_bot'){\n              this.$router.push(\"/bot/directresponsebot\");\n            }\n          } else {\n            if(param === 'push_direct_response_bot'){\n              this.$router.push(\"/bot/directresponsebot\");\n            }\n          }\n        }).catch((e)=> {\n          if(param === 'push_direct_response_bot'){\n              this.$router.push(\"/bot/directresponsebot\");\n            }\n          console.log(e);\n        });\n        this.$session.set(\"is_super_admin\", true);\n    },\n    update_menu_list(message) {\n      let menu = {};\n      let main_menu_list = message.filter(\n        (arr) => arr.IsMasterMenu == true && arr.Enabled == true\n      );\n      let main_menu_list_filtered = [];\n      let sub_menu_list = message.filter(\n        (arr) =>\n          arr.HasSubMenus == false &&\n          arr.Enabled == true &&\n          arr.IsSubMenu == true\n      );\n\n      for (let i = 0, n = main_menu_list.length; i < n; i += 1) {\n        let menuFilter = sidebaritems.filter((sidebar) => {\n          return (\n            sidebar.name === main_menu_list[i].MenuItem &&\n            Boolean(sidebar.svg_html)\n          );\n        });\n        if (menuFilter.length > 0) {\n          main_menu_list_filtered.push(menuFilter[0]);\n          menu[menuFilter[0].name] = {\n            main_menu: menuFilter[0],\n            sub_menu_list: [],\n          };\n        }\n      }\n      try {\n        for (let i = 0, n = sub_menu_list.length; i < n; i += 1) {\n          for (var j in sidebaritems) {\n            if (\n              sidebaritems[j].name === sub_menu_list[i].MenuItem &&\n              Boolean(sidebaritems[j].page_path && sidebaritems[j].master_menu === sub_menu_list[i].MasterMenu)\n            ) {\n              // console.log(sidebaritems[j].name)\n              menu[sub_menu_list[i].MasterMenu].sub_menu_list.push(\n                sidebaritems[j]\n              );\n            }\n          }\n        }\n      } catch (e) {\n        console.log(e);\n        // debugger;\n      }\n      menu = Object.values(menu);\n\n      // for (let i = 0, n = message.length; i < n; i += 1) {\n      //   if (message[i].Enabled && message[i].IsMasterMenu) {\n      //     let menuFilter = sidebaritems.filter((sidebar) => {\n      //       return (\n      //         sidebar.name === message[i].MenuItem && Boolean(sidebar.svg_html)\n      //       );\n      //     });\n      //     if (menuFilter.length > 0) {\n      //       main_menu = menuFilter[0];\n      //     }\n      //   } else if (\n      //     message[i].HasSubMenus == false &&\n      //     message[i].Enabled &&\n      //     message[i].IsSubMenu &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     for (var j in sidebaritems) {\n      //       if (\n      //         sidebaritems[j].name === message[i].MenuItem &&\n      //         Boolean(sidebaritems[j].page_path)\n      //       ) {\n      //         submenus.push(sidebaritems[j]);\n      //       }\n      //     }\n      //   }\n      //   if (\n      //     i == n - 1 ||\n      //     (message[i].IsMasterMenu == true &&\n      //       message[i].HasSubMenus === false &&\n      //       !Boolean(message[i].IsSubMenu) &&\n      //       message[i].Enabled)\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   } else if (\n      //     i < n - 1 &&\n      //     message[i + 1].IsMasterMenu &&\n      //     (!Boolean(message[i + 1].IsSubMenu) ||\n      //       message[i + 1].HasSubMenus == true) &&\n      //     Object.keys(main_menu).length > 0\n      //   ) {\n      //     menu.push({\n      //       main_menu: main_menu,\n      //       sub_menu_list: submenus,\n      //     });\n      //     main_menu = [];\n      //     submenus = [];\n      //   }\n      // }\n      this.$session.set(\"ChatbotMenu\", menu);\n      this.$router.push(\"/bot/dashboard\");\n    }\n  },\n};\n</script>\n\n<style scoped>\n    .search-container{\n      float: right;\n    }\n\n    .form-search{\n      position:absolute;\n      top: 2px;\n      right: 91px;\n      border: none;\n    }\n\n    .input-field{\n      border: solid 1px #DBE2E8;\n      height: 34px;\n      width: 300px;\n      border-radius: .25rem;\n    }\n\n    input[type=text]{\n      /* background-color: #f8f8f8;\n      padding-left: 6px; */\n      padding: 10px 15px;\n      display: inline-block;\n      font-size: 14px;\n      font-weight: 400;\n      background: #fff;\n      color: #9499AE;\n      outline: none;\n    }\n\n    .btn-submit{\n      border:none;\n      position: absolute;\n      line-height: 30px;\n      margin: 0px;\n      padding: 0 10px;\n      top: 0;\n      right: 18px;\n      cursor: pointer;\n      border-top-right-radius: 5px;\n      border-bottom-right-radius: 5px;\n    }\n\n@media screen and (max-width:991px) {\n  .form-search{\n    right: -71px;\n  }\n  \n}\n@media screen and (max-width:767px) {\n  .form-search{\n    right: -12rem;\n  }\n  \n}\n@media screen and (min-width: 431px) and (max-width:576px) {\n  .form-search{\n    right: -2rem;\n  }\n}\n\n@media screen and (max-width:430px) {\n  .form-search{\n    right: -8rem;\n  }\n}\n@media screen and (max-width:375px) {\n  .form-search{\n    right: -11rem;\n  }  \n}\n\n@media screen and (max-width:320px) {\n  .form-search{\n    right: -14.3rem;\n  }\n}\n</style>"]}]}