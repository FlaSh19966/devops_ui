{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/AlternateProductNames.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/AlternateProductNames.vue","mtime":1645594423491},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzLmpzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWx9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFsdGVybmF0ZVByb2R1Y3ROYW1lc1BhZ2UiLAogIG1peGluczogWwogICAgZnJlZXplX3BvcnRhbCxzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwKICBdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hRdWVyeTogbnVsbCwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgLy8gcHJvZHVjdF9uYW1lc19saXN0OiBbXSwKICAgICAgY3VycmVudF9wcm9kdWN0X25hbWU6IG51bGwsCiAgICAgIGFsdGVybmF0ZV9wcm9kdWN0X25hbWU6IG51bGwsCiAgICAgIGFsdGVybmF0ZV9wcm9kdWN0X2xpc3Q6IFtdLAogICAgICBpc19lZGl0X2FsdGVybmF0ZV9uYW1lOiBmYWxzZSwKICAgICAgY3VycmVudF9lZGl0X2luZGV4OiBudWxsLAogICAgICByZXRhaWxfYm90X3RlbXBsYXRlX2lkOiBudWxsLAogICAgICBwcm9kdWN0c19saXN0X2RhdGE6IFtdLAogICAgICBjdXJyZW50X2FjdGl2ZV9wcm9kdWN0OiBudWxsLAogICAgICBpc1Zpc2libGVTZWFyY2hDbGVhcjogZmFsc2UsCiAgICAgIHdhbnRfc3RhdHVzOiB0cnVlLAogICAgICBpbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3M6IGZhbHNlLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcHJvZHVjdE5hbWUoKXsKICAgICAgdmFyIHByb2R1Y3RzX25hbWUgPSAiIgogICAgICBpZih0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggIT0gMCl7CiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7CiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNoZWNrZWRfbGlzdCl7CiAgICAgICAgICBpZiAodGhpcy5jaGVja2VkX2xpc3RbaV0ucHJvZHVjdF9uYW1lID09IHRoaXMuY3VycmVudF9hY3RpdmVfcHJvZHVjdC5wcm9kdWN0X25hbWUpewogICAgICAgICAgICBjaGVjayA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjaGVjayl7CiAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoIC0gMTsKICAgICAgICAgIHJldHVybiBwcm9kdWN0c19uYW1lID0gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZSArIChsZW4gPiAwID8gIiBhbmQgIiArIChsZW4gPiAwID8gbGVuIDogJycpICsgIiBtb3JlIiA6ICcnKTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZTsKICAgICAgICB9CiAgICAgIH1lbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnByb2R1Y3RfbmFtZTsKICAgICAgfQogICAgfSwKICAgIHJlc3VsdFF1ZXJ5KCl7CiAgICAgIGlmKHRoaXMuc2VhcmNoUXVlcnkpewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICByZXR1cm4gdGhpcy5wcm9kdWN0c19saXN0X2RhdGEuZmlsdGVyKChpdGVtKT0+ewogICAgICAgIHJldHVybiB0aGlzLnNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5ldmVyeSh2ID0+IGl0ZW0ucHJvZHVjdF9uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModikpCiAgICAgIH0pCiAgICAgIH1lbHNlewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrX2lzX2VkaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzX2VkaXRfYWx0ZXJuYXRlX25hbWUKICAgICAgICA/IHRoaXMuc2F2ZV9lZGl0X2FsdGVybmF0ZV9uYW1lCiAgICAgICAgOiB0aGlzLmFkZF9hbHRlcm5hdGVfbmFtZTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IGJvdF90ZW1wbGF0ZXNfZGF0YSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJCb3RUZW1wbGF0ZXMiKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90X3RlbXBsYXRlc19kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmICgKICAgICAgICBib3RfdGVtcGxhdGVzX2RhdGFbaV0uZG9tYWluID09PSAiUmV0YWlsIiAmJgogICAgICAgIGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS5zdWJzY3JpYmVkID09PSB0cnVlCiAgICAgICkgewogICAgICAgIHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCA9IGJvdF90ZW1wbGF0ZXNfZGF0YVtpXS50ZW1wbGF0ZV9pZDsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgdGhpcy4kcm9vdC4kb24oInNlbmRfbW9kZWxfc3RhdHVzIiwgZGF0YSA9PnsKICAgICAgaWYgKGRhdGEgPT0gdHJ1ZSl7CiAgICAgICAgdGhpcy5jaGVja19pbnRlbnRfbmVyX21vZGVsX3N0YXR1cygpOwogICAgICB9CiAgICB9KQogICAgdmFyIHZtID0gdGhpczsKICAgICQoIiNzZWxlY3RhbGwiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgkKHRoaXMpLmlzKCI6Y2hlY2tlZCIpKSB7CiAgICAgICAgLy8gJCgnZGl2OmlucHV0JykucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0uY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICB9CiAgICB9KTsKICAgIC8vIHRoaXMuZmV0Y2hfcHJvZHVjdF9saXN0KCk7CiAgICB0aGlzLmZldGNoX2FkZGVkX3N5bm9ueW1zKCk7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgIHRoaXMuY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKTsKICAgIHRoaXMuJHJvb3QuJG9uKCJBbHRlcm5hdGVQcm9kdWN0TmFtZXNQYWdlRGlzYWJsZWQiLCAoZGF0YSkgPT57CiAgICAgIGlmKGRhdGE9PT10cnVlKXsKICAgICAgICB0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQgPSB0cnVlOwogICAgICB9CiAgICB9KQogIH0sCiAgd2F0Y2g6ewogIHNlYXJjaFF1ZXJ5KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeSA9PT0gJycgfHwgdGhpcy5zZWFyY2hRdWVyeSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaFF1ZXJ5ICE9IG51bGwgfHwgdGhpcy5zZWFyY2hRdWVyeSAhPScnKSB7CiAgICAgICAgdGhpcy5pc1Zpc2libGVTZWFyY2hDbGVhciA9IHRydWU7CiAgICAgIH0KICAgICAgdGhpcy5zZXRfY3VycmVudF9wcm9kdWN0KDApOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdGVkX3N0YXRlbWVudHMoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09ICJhbGwiKSB7CiAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICB2YXIgcm9sZV9sZW5ndGggPSB0aGlzLnJlc3VsdFF1ZXJ5Lmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvbGVfbGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2godGhpcy5yZXN1bHRRdWVyeVtpXSk7CiAgICAgICAgfQogICAgICB9ZWxzZSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgIGlmICghdGhpcy5jaGVja2VkX2xpc3QuaW5jbHVkZXMoaW5kZXgpKSB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2godGhpcy5yZXN1bHRRdWVyeVtpbmRleF0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gZmFsc2UpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CiAgICAgICAgICBpZiAoc2VsZWN0YWxsLmNoZWNrZWQgPT0gdHJ1ZSkgewogICAgICAgICAgICBzZWxlY3RhbGwuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoKHJvbGUpPT4gewogICAgICAgICAgICByZXR1cm4gcm9sZSAhPT0gdGhpcy5yZXN1bHRRdWVyeVtpbmRleF07CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gdGVtcDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19pbnRlbnRfbmVyX21vZGVsX3N0YXR1cygpewogICAgdGhpcy5tb2RlbF9zdGF0dXMgPSB0aGlzLiRzZXNzaW9uLmdldCgiTW9kZWxTdGF0dXMiKTsKICAgIGlmICh0aGlzLm1vZGVsX3N0YXR1cyA9PSAiTm8gRmFpbHVyZSIpewogICAgdGhpcy5pbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3MgPSBmYWxzZTsKICAgIH0KICAgIGVsc2UgaWYgKEJvb2xlYW4odGhpcy5tb2RlbF9zdGF0dXMuaW50ZW50X21vZGVsKSA9PT0gdHJ1ZSAKICAgICB8fCBCb29sZWFuKHRoaXMubW9kZWxfc3RhdHVzLm5lcl9tb2RlbCkgPT09IHRydWUpewogICAgIGlmKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIKICAgICAgfHwgdGhpcy5tb2RlbF9zdGF0dXMubmVyX21vZGVsID09ICJJblByb2dyZXNzIil7CiAgICAgICB0aGlzLmludGVudF9uZXJfbW9kZWxfaW5wcm9ncmVzcyA9IHRydWU7CiAgICAgfQogICAgIGVsc2V7CiAgICAgICB0aGlzLmludGVudF9uZXJfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOwogICAgIH0KICAgIH0KICAgIGVsc2V7CiAgICAgIHRoaXMuaW50ZW50X25lcl9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7IAogICAgfQogICAgfSwKCiAgICBzaG93X21vZGVsX3Byb2dyZXNzKGluZGV4KXsKICAgICAgaWYodGhpcy5pbnRlbnRfbmVyX21vZGVsX2lucHJvZ3Jlc3MgPT0gdHJ1ZSl7CiAgICAgICAgIGlmIChpbmRleCA9PSAnc3R5bGUnKXsKICAgICAgICAgICAgcmV0dXJuICJjdXJzb3I6IG5vdC1hbGxvd2VkIjsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYoaW5kZXggPT0gJ3RpdGxlJyl7CiAgICAgICAgICAgICAgcmV0dXJuICJUcmFpbmluZyBpbiBQcm9ncmVzcyAoVGhpcyBwcm9jZXNzIG1pZ2h0IHRha2UgYXJvdW5kIDQ1IG1pbnMgdG8gZmluaXNoKSAiOwogICAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcl9zZWFyY2hfbmFtZSgpIHsKICAgICAgdGhpcy5zZWFyY2hRdWVyeSA9IG51bGw7CiAgICB9LAogICAgc3luY19wcm9kdWN0cygpIHsKICAgICAgU3dhbCh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiIFlvdSB3YW50IHRvIHN5bmMgcHJvZHVjdHMgZGF0YT8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9zeW5vbnltcygpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgdGVtcGxhdGVfaWQ6IHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCwKICAgICAgICAgIGlzX3N5bmM6IHRydWUsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gIlN1Y2Nlc3MiKXsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6ICJQcm9kdWN0cyBhcmUgYmVpbmcgc3luY2VkIiwKICAgICAgICAgICAgICB0ZXh0OiAiVGhpcyBtaWdodCB0YWtlIHNvbWUgdGltZSIsCiAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiA1NTAwLAogICAgICAgICAgICB9KQogICAgICAgICAgfWVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQhIiwKICAgICAgICAgICAgICB0ZXh0OiAiUGxlYXNlIHRyeSBhZ2FpbiEiLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDMwMDAsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgfQogICAgICB9KQogICAgfSwKICAgIGZldGNoX2FkZGVkX3N5bm9ueW1zKCkgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3N5bm9ueW1zKCksIHsKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICB0ZW1wbGF0ZV9pZDogdGhpcy5yZXRhaWxfYm90X3RlbXBsYXRlX2lkLAogICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5TeW5vbnltcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0X2RhdGEgPSBkYXRhLmRhdGEuU3lub255bXM7CiAgICAgICAgICAgICAgdGhpcy5zZXRfY3VycmVudF9wcm9kdWN0KDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgIH0sCiAgICAvLyBmZXRjaF9wcm9kdWN0X2xpc3QoKSB7CiAgICAvLyAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgYXhpb3MKICAgIC8vICAgICAucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfc3lub255bXMoKSwgewogICAgLy8gICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgLy8gICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgIC8vICAgICAgIGlzX2dldF9wcm9kdWN0X2xpc3Q6IHRydWUsCiAgICAvLyAgICAgfSwKICAgIC8vICAgICB7CiAgICAvLyAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgfSkKICAgIC8vICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICJTdWNjZXNzIikgewogICAgLy8gICAgICAgICB0aGlzLnByb2R1Y3RfbmFtZXNfbGlzdCA9IGRhdGEucHJvZHVjdF9uYW1lc19saXN0OwogICAgLy8gICAgICAgICBpZiAodGhpcy5wcm9kdWN0X25hbWVzX2xpc3QubGVuZ3RoID4gMCkgewogICAgLy8gICAgICAgICAgIHRoaXMuY3VycmVudF9wcm9kdWN0X25hbWUgPSB0aGlzLnByb2R1Y3RfbmFtZXNfbGlzdFswXTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIHRoaXMuZnJlZXplX3BvcnRhbCgpOwogICAgLy8gfSwgMTAwMCk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLyB9LAogICAgYWRkX2FsdGVybmF0ZV9uYW1lKCkgewogICAgICBpZighdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKXsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lKSA9PT0gdHJ1ZSl7CiAgICAgICAgaWYodGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoID4gMCl7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogIk11bHRpcGxlIHByb2R1Y3RzIGFyZSBzZWxlY3RlZCIsCiAgICAgICAgICAgIHRleHQ6ICdUaGUgJyArIHRoaXMuYWx0ZXJuYXRlX3Byb2R1Y3RfbmFtZSArICcgc3lub255bSB3aWxsIGJlIGFkZGVkIGluIGFsbCBzZWxlY3RlZCBwcm9kdWN0cycsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jaGVja2VkX2xpc3QpewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiBpbiB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YSl7CiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdFtpXS5pZCA9PSB0aGlzLnByb2R1Y3RzX2xpc3RfZGF0YVtqXS5pZCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0X2RhdGFbal0uc3lub255bXMucHVzaCh0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRlX3Byb2R1Y3RfbmFtZSA9IG51bGw7CiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUgPSBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3Quc3lub255bXMucHVzaCh0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUpOwogICAgICAgICAgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lID0gbnVsbDsKICAgICAgICB9CiAgICAgIH19ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogICAgZWRpdF9hbHRlcm5hdGVfbmFtZShpbmRleCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWJsZV9pZCIpLnNjcm9sbFRvcCA9IDA7CiAgICAgIGlmICghdGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lKSB7CiAgICAgICAgdGhpcy5hbHRlcm5hdGVfcHJvZHVjdF9uYW1lID0gdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnN5bm9ueW1zWwogICAgICAgICAgaW5kZXgKICAgICAgICBdOwogICAgICAgIHRoaXMuY3VycmVudF9lZGl0X2luZGV4ID0gaW5kZXg7CiAgICAgICAgdGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnJlc2V0X2VkaXQoKTsKICAgICAgfQogICAgfSwKICAgIHNhdmVfZWRpdF9hbHRlcm5hdGVfbmFtZSgpIHsKICAgICAgdGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0LnN5bm9ueW1zWwogICAgICAgIHRoaXMuY3VycmVudF9lZGl0X2luZGV4CiAgICAgIF0gPSB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWU7CiAgICAgIHRoaXMucmVzZXRfZWRpdCgpOwogICAgfSwKICAgIGRlbGV0ZV9hbHRlcm5hdGVfbmFtZShpbmRleCkgewogICAgICB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3Quc3lub255bXMuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICByZXNldF9lZGl0KCkgewogICAgICB0aGlzLmlzX2VkaXRfYWx0ZXJuYXRlX25hbWUgPSBmYWxzZTsKICAgICAgdGhpcy5jdXJyZW50X2VkaXRfaW5kZXggPSBudWxsOwogICAgICB0aGlzLmFsdGVybmF0ZV9wcm9kdWN0X25hbWUgPSBudWxsOwogICAgfSwKICAgIHNldF9jdXJyZW50X3Byb2R1Y3QoaW5kZXgpIHsKICAgICAgdGhpcy5yZXNldF9lZGl0KCk7CiAgICAgIHRoaXMuY3VycmVudF9hY3RpdmVfcHJvZHVjdCA9IHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdOwogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfcHJvZHVjdF9hY3RpdmUoaW5kZXgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X2FjdGl2ZV9wcm9kdWN0KSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRfYWN0aXZlX3Byb2R1Y3QuaWQgPT09CiAgICAgICAgICB0aGlzLnJlc3VsdFF1ZXJ5W2luZGV4XS5pZAogICAgICAgICAgPyAiY3VycmVudC1hY3RpdmUtcHJvZHVjdCIKICAgICAgICAgIDogbnVsbDsKICAgICAgfQogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfZWRpdF9zeW5vbnltKGluZGV4LCB0YWcpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5pc19lZGl0X2FsdGVybmF0ZV9uYW1lKSA9PT0gdHJ1ZSkgewogICAgICAgIGlmICh0YWcgPT09ICJzcGFuIikgewogICAgICAgICAgcmV0dXJuICJub3QtY3VycmVudC1lZGl0LXN5bm9ueW0tc3BhbiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRfZWRpdF9pbmRleCA9PT0gaW5kZXgKICAgICAgICAgICAgPyAiY3VycmVudC1lZGl0LXN5bm9ueW0iCiAgICAgICAgICAgIDogIm5vdC1jdXJyZW50LWVkaXQtc3lub255bSI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAibm90LWVkaXRpbmctc3lub255bXMiOwogICAgICB9CiAgICB9LAogICAgc2F2ZV9zeW5vbnltcygpIHsKICAgICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiBgWW91IHdhbnQgdG8gc2F2ZSB0aGVzZSBTeW5vbnltcyBEYXRhP2AsCiAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIENvbmZpcm0hIiwKICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3N5bm9ueW1zKCksIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgaXNfYWRkX29yX2VkaXQ6IHRydWUsCiAgICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHRoaXMucmV0YWlsX2JvdF90ZW1wbGF0ZV9pZCwKICAgICAgICAgICAgICBzeW5vbnltczogdGhpcy5wcm9kdWN0c19saXN0X2RhdGEKICAgICAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gIlN1Y2Nlc3MiCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAgICAgICAiWW91ciBkYXRhIGlzIGJlaW5nIHNhdmVkIG5vdywgcGxlYXNlIHJldHJhaW4gdGhlIE1vZGVsIGZyb20gTkVSIFRyYWluaW5nIHBhZ2UodW5kZXIgVHJhaW5pbmcgQ2VudHJlIE1lbnUpIGZvciB0aGUgY2hhbmdlcyB0byBiZSByZWZsZWN0ZWQhIiwKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgLy8gdGltZXI6IDUwMDAsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBCb29sZWFuKGUucmVzcG9uc2UpID09PSB0cnVlICYmCiAgICAgICAgICAgICAgICAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpCiAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTt9ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogICAgdHJhaW5fbW9kZWwoKSB7CiAgICAgIGlmKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogIkFyZSBZb3UgU3VyZT8iLAogICAgICAgIHRleHQ6ICJZb3Ugd2FudCB0byBUcmFpbiBUaGUgTW9kZWw/IiwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgIGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbmVyX21vZGVsKCksCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgICAgdXBkYXRlX21vZGVsOiB0cnVlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy53YW50X3N0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgid2FudF9tb2RlbF9zdGF0dXMiLHRoaXMud2FudF9zdGF0dXMpOwogICAgICAgICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X25lcl9tb2RlbF9zdGF0dXMoKTsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gNDA0NikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5NU0cpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gMTAzNCkgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHJlc3BvbnNlLmRhdGEuTVNHKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7fWVsc2V7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AlternateProductNames.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AlternateProductNames.vue","sourceRoot":"src/portal/Chatbot/Dashboard/ProductManagement","sourcesContent":["<template>\n  <div class=\"alternate_products\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <!-- <div class=\"container\"> -->\n    <div class=\"col-sm-12 my-1\">\n      <div class=\"card-act col-sm-12 my-1\">\n        <div class=\"card-act d-flex \">\n          <div class=\"col-sm-4 pl-0 flex-wrap\">\n            <input \n              class=\"form-control search-bar\" \n              type=\"search\"\n              id=\"search_bar\" \n              v-model.trim=\"searchQuery\" \n              placeholder=\"Search here\"\n              style=\"width:99% !important; \n                height:36px !important; \n                display: inline-block !important;\"\n            />\n            <a\n              type=\"button\"\n              v-if=\"isVisibleSearchClear\"\n              class=\"btn bg-transparent mt-auto mb-auto py-0\"\n              @click=\"clear_search_name\"\n              style=\"margin-left: -40px; z-index: 10\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </a>\n          </div>\n          <div class=\"col-sm-8 pr-0\"\n            style=\"display: flex;\n            margin-bottom: 0.5rem;\n            \">\n            <button\n              @click=\"sync_products\"\n              style=\"margin-right: 1rem\"\n              class=\"darkblue-btn ml-auto\">\n              SYNC\n            </button>\n            <button\n              @click=\"train_model\"\n              style=\"margin-right: 1rem\"\n              :disabled=\"intent_ner_model_inprogress == true\"\n              :style=\"show_model_progress('style')\"\n              :title=\"show_model_progress('title')\"\n              id=\"alternate_product_name_train_model_btn\"\n              class=\"darkblue-btn\">\n              <i class=\"fa fa-spinner fa-spin\" v-show=\"intent_ner_model_inprogress\"></i>\n              TRAIN MODEL\n            </button>\n            <button\n              style=\"margin-right:0px !important;\"\n              id=\"alternate_product_name_save_all_btn\"\n              class=\"darkblue-btn d-block\"\n              @click=\"save_synonyms\"\n              v-if=\"Boolean(current_active_product) === true\"\n            >\n              SAVE ALL\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-sm-12 d-flex\">\n      <div class=\"col-sm-4\">\n        <div class=\"d-flex\" style=\"width: 100%; background: #F7F8FB;\n    border: solid 1px #DBE2E8;\">\n          <div style=\"width: 16%;\">\n            <div class=\"form-check checkbox checkbox-success\" style=\"padding: 10px;\">\n              <label class=\"form-check-label\">\n                <input\n                  class=\"form-check-input\"\n                  id=\"selectall\"\n                  type=\"checkbox\"\n                  @click=\"selected_statements('all')\"\n                />\n                <span class=\"icn\"></span>\n              </label>\n            </div>\n          </div>\n          <p style=\"\n                      margin: 0px;\n                      width: 84%;\n                      font: normal normal normal 16px/22px Roboto;\n                      letter-spacing: 0px;\n                      color: #414141;\n                      padding: 10px;\n                    \"\n          >PRODUCT NAME</p>\n        </div>\n        <div class=\"table-box\" v-if=\"Boolean(current_active_product) === true\">\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <!-- <thead>\n                <tr>\n                  <th scope=\"col\">\n                    <div class=\"form-check checkbox checkbox-success\">\n                      <label class=\"form-check-label\">\n                        <input\n                          class=\"form-check-input\"\n                          id=\"selectall\"\n                          type=\"checkbox\"\n                          @click=\"selected_statements('all')\"\n                        />\n                        <span class=\"icn\"></span>\n                      </label>\n                    </div>\n                  </th>\n                  <th\n                    scope=\"col\"\n                    class=\"text-left\"\n                    style=\"\n                      font: normal normal normal 16px/22px Roboto;\n                      letter-spacing: 0px;\n                      color: #414141;\n                    \"\n                  >\n                    <span> PRODUCT NAME </span>\n                  </th>\n                </tr>\n              </thead> -->\n              <tbody>\n                <tr\n                  v-for=\"(product, index) in resultQuery\"\n                  :key=\"index\"\n                  style=\"cursor: pointer\"\n                  :class=\"check_current_product_active(index)\"\n                >\n                  <td scope=\"row\">\n                    <div class=\"form-check checkbox checkbox-success\">\n                      <label class=\"form-check-label\">\n                        <input\n                          class=\"form-check-input\"\n                          type=\"checkbox\"\n                          @change=\"selected_statements(index)\"\n                        />\n                        <span class=\"icn\"></span>\n                      </label>\n                    </div>\n                  </td>\n                  <td @click=\"set_current_product(index)\">\n                    {{ product.product_name }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-8\">\n        <!-- <div class=\"table-responsive\" v-if=\"spinnerOn\"></div>\n          <div class=\"table-responsive\" v-if=\"product_names_list.length === 0\"></div> -->\n        <div\n          class=\"table-responsive\" id=\"table_id\"\n          v-if=\"Boolean(current_active_product) === true\"\n        >\n          <div class=\"px-3 pt-3\">\n            <h6>{{ productName }}</h6>\n          </div>\n          <hr />\n          <div class=\"card-act d-flex p-3\">\n            <input\n              type=\"text\"\n              v-model.trim=\"alternate_product_name\"\n              class=\"form-control\"\n              placeholder=\"Add another name for product\"\n              @keyup.enter=\"check_is_edit\"\n            />\n            <button\n              id=\"alternate_product_name_add_btn\"\n              class=\"darkblue-btn ml-2\"\n              @click=\"add_alternate_name\"\n              v-if=\"!is_edit_alternate_name\"\n            >\n              ADD\n            </button>\n            <button\n              class=\"darkblue-btn ml-2\"\n              @click=\"save_edit_alternate_name\"\n              v-if=\"is_edit_alternate_name\"\n            >\n              EDIT\n            </button>\n          </div>\n          <div class=\"mt-5 p-3\">\n            <h5>Alternate Product Name for  {{productName}}</h5>\n            <div style=\"border-bottom: 1px solid #e3e2e5\"></div>\n            <div\n              v-for=\"(alternate_name, index) in current_active_product.synonyms\"\n              :key=\"index\"\n              class=\"py-2 d-flex\"\n              :class=\"check_current_edit_synonym(index, null)\"\n            >\n              <span> {{ alternate_name }} </span>\n              <span\n                class=\"ml-auto c-p edit-delete-span\"\n                @click=\"edit_alternate_name(index)\"\n              >\n                <img\n                  :src=\"require('@/portal/assets/img/edit-pencil-from-xd.svg')\"\n                  alt=\"Edit\"\n                />\n              </span>\n              <span\n                class=\"ml-2 c-p edit-delete-span\"\n                @click=\"delete_alternate_name(index)\"\n              >\n                <img\n                  :src=\"require('@/portal/assets/img/delete-from-xd.svg')\"\n                  alt=\"Delete\"\n                />\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport Swal from \"sweetalert2\";\nimport { freeze_portal, show_subscription_expired_swal} from \"@/portal/mixins\";\n\nexport default {\n  name: \"AlternateProductNamesPage\",\n  mixins: [\n    freeze_portal,show_subscription_expired_swal\n  ],\n  data() {\n    return {\n      searchQuery: null,\n      spinnerOn: false,\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      // product_names_list: [],\n      current_product_name: null,\n      alternate_product_name: null,\n      alternate_product_list: [],\n      is_edit_alternate_name: false,\n      current_edit_index: null,\n      retail_bot_template_id: null,\n      products_list_data: [],\n      current_active_product: null,\n      isVisibleSearchClear: false,\n      want_status: true,\n      intent_ner_model_inprogress: false,\n      checked_list: [],\n      disable_btn_expired: false,\n    };\n  },\n  computed: {\n    productName(){\n      var products_name = \"\"\n      if(this.checked_list.length != 0){\n        var check = false;\n        for (var i in this.checked_list){\n          if (this.checked_list[i].product_name == this.current_active_product.product_name){\n            check = true;\n          }\n        }\n        if (check){\n          var len = this.checked_list.length - 1;\n          return products_name = this.current_active_product.product_name + (len > 0 ? \" and \" + (len > 0 ? len : '') + \" more\" : '');\n        }else {\n          return this.current_active_product.product_name;\n        }\n      }else {\n        return this.current_active_product.product_name;\n      }\n    },\n    resultQuery(){\n      if(this.searchQuery){\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.checked_list = [];\n      return this.products_list_data.filter((item)=>{\n        return this.searchQuery.toLowerCase().split(' ').every(v => item.product_name.toLowerCase().includes(v))\n      })\n      }else{\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.checked_list = [];\n        return this.products_list_data;\n      }\n    },\n    check_is_edit() {\n      return this.is_edit_alternate_name\n        ? this.save_edit_alternate_name\n        : this.add_alternate_name;\n    },\n  },\n  mounted() {\n    let bot_templates_data = this.$session.get(\"BotTemplates\");\n    for (let i = 0; i < bot_templates_data.length; i++) {\n      if (\n        bot_templates_data[i].domain === \"Retail\" &&\n        bot_templates_data[i].subscribed === true\n      ) {\n        this.retail_bot_template_id = bot_templates_data[i].template_id;\n        break;\n      }\n    }\n    this.$root.$on(\"send_model_status\", data =>{\n      if (data == true){\n        this.check_intent_ner_model_status();\n      }\n    })\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      if ($(this).is(\":checked\")) {\n        // $('div:input').prop('checked',true);\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    // this.fetch_product_list();\n    this.fetch_added_synonyms();\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    this.check_intent_ner_model_status();\n    this.$root.$on(\"AlternateProductNamesPageDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    })\n  },\n  watch:{\n  searchQuery() {\n      if (this.searchQuery === '' || this.searchQuery === null) {\n        this.isVisibleSearchClear = false;\n      } else if (this.searchQuery != null || this.searchQuery !='') {\n        this.isVisibleSearchClear = true;\n      }\n      this.set_current_product(0);\n    },\n  },\n  methods: {\n    selected_statements(index) {\n      if (index == \"all\") {\n        this.checked_list = [];\n        var role_length = this.resultQuery.length;\n        for (var i = 0; i < role_length; i++) {\n          this.checked_list.push(this.resultQuery[i]);\n        }\n      }else {\n        if (event.target.checked == true) {\n          if (!this.checked_list.includes(index)) {\n            this.checked_list.push(this.resultQuery[index]);\n          }\n        } else if (event.target.checked == false) {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked == true) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((role)=> {\n            return role !== this.resultQuery[index];\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    check_intent_ner_model_status(){\n    this.model_status = this.$session.get(\"ModelStatus\");\n    if (this.model_status == \"No Failure\"){\n    this.intent_ner_model_inprogress = false;\n    }\n    else if (Boolean(this.model_status.intent_model) === true \n     || Boolean(this.model_status.ner_model) === true){\n     if(this.model_status.intent_model == \"InProgress\"\n      || this.model_status.ner_model == \"InProgress\"){\n       this.intent_ner_model_inprogress = true;\n     }\n     else{\n       this.intent_ner_model_inprogress = false;\n     }\n    }\n    else{\n      this.intent_ner_model_inprogress = false; \n    }\n    },\n\n    show_model_progress(index){\n      if(this.intent_ner_model_inprogress == true){\n         if (index == 'style'){\n            return \"cursor: not-allowed\";\n          }\n          else if(index == 'title'){\n              return \"Training in Progress (This process might take around 45 mins to finish) \";\n          }\n      }\n      else{\n        return null;\n      }\n    },\n    clear_search_name() {\n      this.searchQuery = null;\n    },\n    sync_products() {\n      Swal({\n        title: \"Are you sure?\",\n        text: \" You want to sync products data?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\",\n      }).then((result) => {\n        if (result.value) {\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.template_synonyms(), {\n          company_id: this.company_id,\n          company_name: this.company_name,\n          template_id: this.retail_bot_template_id,\n          is_sync: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n        })\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if (data.status == \"Success\"){\n            Swal({\n              title: \"Products are being synced\",\n              text: \"This might take some time\",\n              type: \"info\",\n              showCancelButton: false,\n              timer: 5500,\n            })\n          }else {\n            Swal({\n              title: \"Some Error Occurred!\",\n              text: \"Please try again!\",\n              type: \"error\",\n              toast: true,\n              position: \"top-end\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        }).catch((e) => {\n          this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n    }\n      })\n    },\n    fetch_added_synonyms() {\n      this.spinnerOn = true;\n      axios\n        .post(api_calls.template_synonyms(), {\n          company_id: this.company_id,\n          company_name: this.company_name,\n          template_id: this.retail_bot_template_id,\n          is_get: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n        })\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if (data.status === \"Success\") {\n            if (data.data.Synonyms.length > 0) {\n              this.products_list_data = data.data.Synonyms;\n              this.set_current_product(0);\n            }\n          }\n          setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n        }).catch((e) => {\n          this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n    },\n    // fetch_product_list() {\n    //   this.spinnerOn = true;\n    //   axios\n    //     .post(api_calls.template_synonyms(), {\n    //       company_id: this.company_id,\n    //       company_name: this.company_name,\n    //       is_get_product_list: true,\n    //     },\n    //     {\n    //       headers: {\n    //         Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //     },\n    //     })\n    //     .then(({ data }) => {\n    //       this.spinnerOn = false;\n    //       if (data.status === \"Success\") {\n    //         this.product_names_list = data.product_names_list;\n    //         if (this.product_names_list.length > 0) {\n    //           this.current_product_name = this.product_names_list[0];\n    //         }\n    //       }\n    // setTimeout(() => {\n    //   this.freeze_portal();\n    // }, 1000);\n    //     })\n    //     .catch((e) => {\n    //       this.spinnerOn = false;\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    // },\n    add_alternate_name() {\n      if(!this.disable_btn_expired){\n      if (Boolean(this.alternate_product_name) === true){\n        if(this.checked_list.length > 0){\n          Swal.fire({\n            title: \"Multiple products are selected\",\n            text: 'The ' + this.alternate_product_name + ' synonym will be added in all selected products',\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n          }).then((result) => {\n            if (result.value) {\n              for (var i in this.checked_list){\n                for (var j in this.products_list_data){\n                  if (this.checked_list[i].id == this.products_list_data[j].id){\n                    this.products_list_data[j].synonyms.push(this.alternate_product_name);\n                  }\n                }\n              }\n              this.alternate_product_name = null;\n            }else {\n              this.alternate_product_name = null;\n            }\n          });\n        }else {\n          this.current_active_product.synonyms.push(this.alternate_product_name);\n          this.alternate_product_name = null;\n        }\n      }}else{\n        this.show_subscription_expired_swal();\n      }\n    },\n    edit_alternate_name(index) {\n      window.scrollTo(0, 0);\n      document.getElementById(\"table_id\").scrollTop = 0;\n      if (!this.is_edit_alternate_name) {\n        this.alternate_product_name = this.current_active_product.synonyms[\n          index\n        ];\n        this.current_edit_index = index;\n        this.is_edit_alternate_name = true;\n      } else {\n        this.reset_edit();\n      }\n    },\n    save_edit_alternate_name() {\n      this.current_active_product.synonyms[\n        this.current_edit_index\n      ] = this.alternate_product_name;\n      this.reset_edit();\n    },\n    delete_alternate_name(index) {\n      this.current_active_product.synonyms.splice(index, 1);\n    },\n    reset_edit() {\n      this.is_edit_alternate_name = false;\n      this.current_edit_index = null;\n      this.alternate_product_name = null;\n    },\n    set_current_product(index) {\n      this.reset_edit();\n      this.current_active_product = this.resultQuery[index];\n    },\n    check_current_product_active(index) {\n      if (Boolean(this.current_active_product) === true) {\n        return this.current_active_product.id ===\n          this.resultQuery[index].id\n          ? \"current-active-product\"\n          : null;\n      }\n    },\n    check_current_edit_synonym(index, tag) {\n      if (Boolean(this.is_edit_alternate_name) === true) {\n        if (tag === \"span\") {\n          return \"not-current-edit-synonym-span\";\n        } else {\n          return this.current_edit_index === index\n            ? \"current-edit-synonym\"\n            : \"not-current-edit-synonym\";\n        }\n      } else {\n        return \"not-editing-synonyms\";\n      }\n    },\n    save_synonyms() {\n      if(!this.disable_btn_expired){\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: `You want to save these Synonyms Data?`,\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\",\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(api_calls.template_synonyms(), {\n              company_name: this.$session.get(\"UserInformation\").company_name,\n              company_id: this.$session.get(\"UserInformation\").company_id,\n              is_add_or_edit: true,\n              template_id: this.retail_bot_template_id,\n              synonyms: this.products_list_data\n            },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n        })\n            .then((response) => {\n              this.spinnerOn = false;\n              if (\n                response.data.status === \"Success\"\n              ) {\n                Swal({\n                  text:\n                    \"Your data is being saved now, please retrain the Model from NER Training page(under Training Centre Menu) for the changes to be reflected!\",\n                  type: \"success\",\n                  showConfirmButton: true,\n                  // timer: 5000,\n                });\n              } else {\n                Swal({\n                  text: \"Some Error Occurred. Please Try Again\",\n                  type: \"error\",\n                  showConfirmButton: false,\n                  timer: 2500,\n                });\n              }\n              this.checked_list = [];\n              $(\"input:checkbox\").prop(\"checked\", false);\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              Swal({\n                text: \"Some Error Occurred. Please Try Again\",\n                type: \"error\",\n                showConfirmButton: false,\n                timer: 2500,\n              });\n              if (\n                Boolean(e.response) === true &&\n                (e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409)\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });}else{\n        this.show_subscription_expired_swal();\n      }\n    },\n    train_model() {\n      if(!this.disable_btn_expired){\n      Swal({\n        title: \"Are You Sure?\",\n        text: \"You want to Train The Model?\",\n        type: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, Confirm!\",\n        allowOutsideClick: false,\n        allowEscapeKey: false,\n      }).then((result) => {\n        if (result.value) {\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.train_intent_ner_model(),\n              {\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                subscription: this.$session.get(\"UserInformation\").subscription,\n                company_name: this.$session.get(\"UserInformation\").company_name,\n                company_id: this.$session.get(\"UserInformation\").company_id,\n                update_model: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.want_status = true;\n              this.$root.$emit(\"want_model_status\",this.want_status);\n              this.check_intent_ner_model_status();\n              if (response.data.MSG_CODE === 4046) {\n                toastr.success(response.data.MSG);\n              } else if (response.data.MSG_CODE === 1034) {\n                toastr.error(response.data.MSG);\n              } else {\n                toastr.error(\"Internal Server Error\");\n              }\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });}else{\n        this.show_subscription_expired_swal();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.alternate_products {\n  font-family: \"Roboto\";\n}\n.table-box tbody tr:hover td,\n.table-box tbody tr:hover th {\n  background: #ececec;\n}\n.table th {\n  border-top: none;\n}\n.table-responsive {\n  height: 75vh;\n  overflow-y: auto;\n  border: 1px solid #e3e2e5;\n}\n.table-responsive thead th {\n  top: 0;\n  position: sticky;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n.form-control {\n  line-height: 16px;\n  padding: 10px 15px;\n}\n.current-active-product {\n  background: rgba(0, 0, 0, 0.1);\n}\n.current-edit-synonym {\n  transform: scale(1.02);\n  border: 1px solid #27397b;\n  z-index: 2;\n  background: #dddddd;\n  padding: 0.5rem;\n}\n.not-current-edit-synonym {\n  opacity: 0.2;\n  pointer-events: none;\n}\n.not-editing-synonyms {\n  border-bottom: 1px solid #e3e2e5;\n}\n/* .darkblue-btn {\n  font-family: \"Roboto\";\n  font-weight: 500;\n  border-radius: 0;\n} */\n</style>\n"]}]}