{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/ProductsRanking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/ProductsRanking.vue","mtime":1655807120965},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzLmpzIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2R1Y3RzUmFua2luZ1BhZ2UiLAogIG1peGluczogWwogICAgZnJlZXplX3BvcnRhbCwKICAgIHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbAogIF0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIG1vbnRoczogMTAsCiAgICAgIHByb2R1Y3RzX2xpc3Q6IG51bGwsCiAgICAgIG1vc3RfcHJvZHVjdHNfbGlzdDogW10sCiAgICAgIGxlYXN0X3Byb2R1Y3RzX2xpc3Q6IFtdLAogICAgICB1bnNvbGRfcHJvZHVjdHNfbGlzdDogW10sCiAgICAgIGZpbHRlcl9wcm9kdWN0czogIk1vc3QiLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaF9wcm9kdWN0c19yYW5raW5nKCk7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgIHRoaXMuJHJvb3QuJG9uKCJQcm9kdWN0c1JhbmtpbmdQYWdlRGlzYWJsZWQiLCAoZGF0YSkgPT4gewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CgogIH0sCiAgd2F0Y2g6IHsKICAgIGZpbHRlcl9wcm9kdWN0cygpIHsKICAgICAgaWYgKHRoaXMuZmlsdGVyX3Byb2R1Y3RzID09ICJNb3N0IikgewogICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0ID0gdGhpcy5tb3N0X3Byb2R1Y3RzX2xpc3Q7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5maWx0ZXJfcHJvZHVjdHMgPT0gIkxlYXN0IikgewogICAgICAgICAgdGhpcy5wcm9kdWN0c19saXN0ID0gdGhpcy5sZWFzdF9wcm9kdWN0c19saXN0OwogICAgICB9IGVsc2UgaWYgKHRoaXMuZmlsdGVyX3Byb2R1Y3RzID09ICJVbnNvbGQiKSB7CiAgICAgICAgICB0aGlzLnByb2R1Y3RzX2xpc3QgPSB0aGlzLnVuc29sZF9wcm9kdWN0c19saXN0OwogICAgICB9CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZG93bmxvYWRfY3N2KCkgewogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIHZhciByb3dzID0gW107CiAgICAgIHZhciBmaWxlbmFtZSA9ICIiOwoKICAgICAgdmFyIGNzdiA9ICJwcm9kdWN0X2lkLHF1YW50aXR5LHRpdGxlLHZhcmlhbnRfaWQsdmFyaWFudF90aXRsZVxuIjsKICAgICAgaWYodGhpcy5maWx0ZXJfcHJvZHVjdHMgPT0gJ01vc3QnKXsKICAgICAgICBmaWxlbmFtZSA9ICJNb3N0IHNhbGVhYmxlIHByb2R1Y3RzIHJlcG9ydC5jc3YiOwogICAgICB9ZWxzZSBpZih0aGlzLmZpbHRlcl9wcm9kdWN0cyA9PSAnTGVhc3QnKXsKICAgICAgICBmaWxlbmFtZSA9ICJMZWFzdCBzYWxlYWJsZSBwcm9kdWN0cyByZXBvcnQuY3N2IjsKICAgICAgfWVsc2UgaWYodGhpcy5maWx0ZXJfcHJvZHVjdHMgPT0gJ1Vuc29sZCcpewogICAgICAgIGZpbGVuYW1lID0gIlVuc29sZCBwcm9kdWN0cyByZXBvcnQuY3N2IjsKICAgICAgfQoKICAgICAgcm93cyA9IHRoaXMucHJvZHVjdHNfbGlzdC5tYXAoKG9iaikgPT4gT2JqZWN0LnZhbHVlcyhvYmopKTsKICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBjc3YgKz0gcm93LmpvaW4oIiwiKTsKICAgICAgICBjc3YgKz0gIlxuIjsKICAgICAgfSk7CgogICAgICB2YXIgaGlkZGVuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgaGlkZGVuRWxlbWVudC5ocmVmID0gImRhdGE6dGV4dC9jc3Y7Y2hhcnNldD11dGYtOCwiICsgZW5jb2RlVVJJKGNzdik7CiAgICAgIGhpZGRlbkVsZW1lbnQudGFyZ2V0ID0gIl9ibGFuayI7CiAgICAgIGhpZGRlbkVsZW1lbnQuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgaGlkZGVuRWxlbWVudC5jbGljaygpOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgfSwKICAgIGZldGNoX3Byb2R1Y3RzX3JhbmtpbmcoKSB7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSAiTGFzdCAzMCBkYXlzIikgewogICAgICAgIHRoaXMubW9udGhzID0gMTsKICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQudmFsdWUgPT0gIkxhc3QgMyBtb250aHMiKSB7CiAgICAgICAgdGhpcy5tb250aHMgPSAzOwogICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSAiTGFzdCA2IG1vbnRocyIpIHsKICAgICAgICB0aGlzLm1vbnRocyA9IDY7CiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09ICJMYXN0IDEyIG1vbnRocyIpIHsKICAgICAgICB0aGlzLm1vbnRocyA9IDEyOwogICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLm1vbnRocyA9IDE7CiAgICAgIH0KICAgICAgYXhpb3MKICAgICAgICAucG9zdChhcGlfY2FsbHMucHJvZHVjdHNfcmVwb3J0KCksIHsKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICByZWNvcmRzX3RpbWVsaW5lOiB0aGlzLm1vbnRocywKICAgICAgICAgIGlzX2dldDogdHJ1ZSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMubW9zdF9wcm9kdWN0c19saXN0ID0gZGF0YS5zb3J0ZWRfbGlzdDsKICAgICAgICAgICAgdGhpcy5sZWFzdF9wcm9kdWN0c19saXN0ID0gWy4uLmRhdGEuc29ydGVkX2xpc3RdLnJldmVyc2UoKTsKICAgICAgICAgICAgdGhpcy51bnNvbGRfcHJvZHVjdHNfbGlzdCA9IGRhdGEudW5zb2xkOwogICAgICAgICAgICBpZih0aGlzLmZpbHRlcl9wcm9kdWN0cyA9PSAiTW9zdCIpewogICAgICAgICAgICAgIHRoaXMucHJvZHVjdHNfbGlzdCA9IHRoaXMubW9zdF9wcm9kdWN0c19saXN0OwogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmZpbHRlcl9wcm9kdWN0cyA9PSAiTGVhc3QiKXsKICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzX2xpc3QgPSB0aGlzLmxlYXN0X3Byb2R1Y3RzX2xpc3Q7CiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuZmlsdGVyX3Byb2R1Y3RzID09ICJVbnNvbGQiKXsKICAgICAgICAgICAgICB0aGlzLnByb2R1Y3RzX2xpc3QgPSB0aGlzLnVuc29sZF9wcm9kdWN0c19saXN0OwogICAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgc2hvd19zd2FsX25vdGlmaWNhdGlvbigpewogICAgICBpZighdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKXsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ3Byb2R1Y3RfcmFua19zd2FsX21zZycpLAogICAgICAgICAgICB0ZXh0OiAiWW91IHdhbnQgdG8gc2VuZCBhIHJlcG9ydCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiLAogICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ3Byb2R1Y3RfcmFua19zd2FsX2NvbmZpcm1fbXNnJykKICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUgPT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLnNlbmRfcmVwb3J0KCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9ZWxzZSB7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSwKICAgIHNlbmRfcmVwb3J0KCl7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5maWx0ZXJfcHJvZHVjdHMpOwogICAgICBheGlvcwogICAgICAgIC5wb3N0KGFwaV9jYWxscy5wcm9kdWN0c19yZXBvcnQoKSwgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHJlY29yZHNfdGltZWxpbmU6IHRoaXMubW9udGhzLAogICAgICAgICAgaXNfc2VuZDogdHJ1ZSwKICAgICAgICAgIHJlcG9ydF90eXBlOiB0aGlzLmZpbHRlcl9wcm9kdWN0cwogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIGlmKGRhdGEubWVzc2FnZSA9PSAiUkVQT1JUIElTIEJFSU5HIFNFTlQiKXsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgncHJvZHVjdF9yYW5rX3N3YWxfZW1haWxfc2VudF9tc2cnKSwKICAgICAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihkYXRhLm1lc3NhZ2UgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudGx0KCdwcm9kdWN0X3JhbmtfaW50ZXJuYWxfc2VydmVyX21zZycpLAogICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ProductsRanking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductsRanking.vue","sourceRoot":"src/portal/Chatbot/Dashboard/ProductManagement","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div id=\"products_ranking_radio\" class=\"p-0 ml-0\" style=\"max-height: 500px;\">\n      <div class=\"col-sm-12 d-flex mb-3 p-0\">\n        <!-- <div class=\"col-sm-6\" style=\"text-align: center;\">\n        <h4 class=\"mb-sm-0\">Most Saleable Products</h4>\n        </div>\n        <div class=\"col-sm-6\" style=\"text-align: center;\">\n        <h4 class=\"mb-sm-0\">Least Saleable Products</h4>\n        </div> -->\n        <div class=\"radio my-auto\">\n          <label>\n            <input\n              type=\"radio\"\n              v-model=\"filter_products\"\n              value=\"Most\"\n            />\n            <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n            {{tlt('product_ranking_most_label')}}\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              v-model=\"filter_products\"\n              value=\"Least\"\n            />\n            <span class=\"icn\"></span> {{tlt('product_ranking_least_label')}}\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              v-model=\"filter_products\"\n              value=\"Unsold\"\n            />\n            <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n            {{tlt('product_ranking_unsold_label')}}\n          </label>\n        </div>\n        <div class=\"form-group mb-0 ml-auto\" style=\"width: 135px\">\n          <select\n            class=\"form-control\"\n            style=\"padding: 5px 0px\"\n            @change=\"fetch_products_ranking\"            \n            id=\"exampleFormControlSelect1\"\n          >\n            <option>{{tlt('product_rank_dropdown_30_day_option')}}</option>\n            <option>{{tlt('product_rank_dropdown_3_month_option')}}</option>\n            <option>{{tlt('product_rank_dropdown_6_month_option')}}</option>\n            <option>{{tlt('product_rank_dropdown_12_month_option')}}</option>\n          </select>\n        </div>\n        <a\n          href=\"#\"\n          class=\"darkblue-btn\"\n          @click=\"download_csv\"\n          title=\"Download CSV report\"\n          style=\"padding: 4px 13px; height: 33px; margin-left: 10px;\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            width=\"14\"\n            height=\"14\"\n          >\n            <path\n              d=\"M8.124046569796448,3.7048888423811563 V-0.0004725085692590319 H0.8684480275323758 C0.385950724471816,-0.0004725085692590319 -0.0022237975393094665,0.29105224477757613 -0.0022237975393094665,0.6534147886572829 v12.641821079713173 c0,0.3623625438797103 0.3881745220111289,0.6538872972265442 0.8706718250716886,0.6538872972265442 h12.18940555100364 c0.4824973030605619,0 0.8706718250716886,-0.2915247533468346 0.8706718250716886,-0.6538872972265442 V4.358776139607697 H8.994718394868137 c-0.47886950378942883,0 -0.8706718250716886,-0.2942492837519449 -0.8706718250716886,-0.6538872972265442 zm2.773452542780442,5.758567464241761 l-3.497924057225508,2.6073755976908415 c-0.24124865153028063,0.18009145977781071 -0.6308742932498614,0.18009145977781071 -0.872122944780142,0 l-3.497924057225508,-2.6073755976908415 C2.661306427325829,9.189096094828278 2.9196057354304337,8.718024787784655 3.437655471348084,8.718024787784655 H5.802255036271947 v-2.1796243240884783 c0,-0.24084848781177734 0.2597504278130543,-0.4359248648176966 0.5804478833811269,-0.4359248648176966 h1.1608957667622521 c0.3206974555680725,0 0.5804478833811269,0.1950763770059196 0.5804478833811269,0.4359248648176966 v2.1796243240884783 h2.3645995649238625 c0.5180497359176551,0 0.7763490440222554,0.47107130704362293 0.4088529778565816,0.7454315188382611 zM13.674579454628462,2.86028441679687 L10.122963968190199,0.1902446197884852 c-0.16325096720094195,-0.12260386822997718 -0.38454672273999646,-0.1907171283577423 -0.6167258760924463,-0.1907171283577423 H9.284942336558702 v3.4873989185415644 h4.643583067049007 v-0.16619635471174685 c0,-0.1716454155219681 -0.09069498177830096,-0.33784177023371487 -0.2539459489792431,-0.46044563846369135 z\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </a>\n        <button @click=\"show_swal_notification()\"\n         class=\"darkblue-btn\"\n         style=\"margin-left: 10px; cursor: pointer; font-size: 1rem; padding: 6px 15px;\">{{tlt('product_rank_send_report_btn')}}\n        </button>\n      </div>\n    </div>\n    <div v-show=\"Boolean(most_products_list.length===0 && unsold_products_list.length===0) && !spinnerOn\">\n      <p class=\"text-center\">\n        <br>\n        <strong>\n          {{tlt('product_ranking_find_any_data_text')}}\n        </strong>\n      </p>\n    </div> \n    <div v-if=\"Boolean((most_products_list.length > 0 || unsold_products_list.length> 0 )&& !spinnerOn)\"\n    class=\"col-sm-12 d-flex p-0\">\n      <div class=\"p-0\" style=\"width: 100%\" v-if=\"products_list.length>0 \">\n        <div class=\"table-box\">\n          <div class=\"table-responsive\">\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th style=\"color: #414141;\" scope=\"col\">#</th>\n                <th style=\"text-align: left; color: #414141;\" scope=\"col\">{{tlt('product_ranking_name_label')}}</th>\n                <th style=\"text-align: center; color: #414141;\" scope=\"col\">{{tlt('product_ranking_variant_label')}}</th>\n                <th style=\"color: #414141;\" scope=\"col\">{{tlt('product_ranking_quantity_label')}}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(products, index) in products_list\" :key=\"index\">\n                <td style=\"text-align: center;\">{{ index + 1 }}</td>\n                <td style=\"width: 200px\">{{ products.title }}</td>\n                <td style=\"text-align: center; width: 100px\">{{ products.variant_title }}</td>\n                <td style=\"text-align: center; width: 105px\">\n                  {{ products.quantity }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          </div>\n        </div>\n        <!-- </div> -->\n        <!-- <div class=\"col-sm-6\">\n          <div class=\"table-box\">\n                <table class=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">#</th>\n                      <th scope=\"col\">Product Name</th>\n                      <th scope=\"col\">Variant</th>\n                      <th scope=\"col\">Quantity Sold</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr\n                    v-for=\"(products, index) in products_list\"\n                      :key=\"index\"\n                    >\n                      <td>{{ index + 1 }}</td>\n                      <td>{{ products.title }}</td>\n                      <td style=\"width: 100px;\">{{ products.variant_title }}</td>\n                      <td style=\"text-align: center; width: 105px;\">{{ products.quantity }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n        </div> -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport Swal from \"sweetalert2\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\n\nexport default {\n  name: \"ProductsRankingPage\",\n  mixins: [\n    freeze_portal,\n    show_subscription_expired_swal\n  ],\n  data() {\n    return {\n      spinnerOn: false,\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      months: 10,\n      products_list: null,\n      most_products_list: [],\n      least_products_list: [],\n      unsold_products_list: [],\n      filter_products: \"Most\",\n      disable_btn_expired: false,\n    };\n  },\n  mounted() {\n    this.fetch_products_ranking();\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    this.$root.$on(\"ProductsRankingPageDisabled\", (data) => {\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    });\n\n  },\n  watch: {\n    filter_products() {\n      if (this.filter_products == \"Most\") {\n          this.products_list = this.most_products_list;\n      } else if (this.filter_products == \"Least\") {\n          this.products_list = this.least_products_list;\n      } else if (this.filter_products == \"Unsold\") {\n          this.products_list = this.unsold_products_list;\n      }\n    },\n  },\n  methods: {\n    download_csv() {\n      this.spinnerOn = true;\n      var rows = [];\n      var filename = \"\";\n\n      var csv = \"product_id,quantity,title,variant_id,variant_title\\n\";\n      if(this.filter_products == 'Most'){\n        filename = \"Most saleable products report.csv\";\n      }else if(this.filter_products == 'Least'){\n        filename = \"Least saleable products report.csv\";\n      }else if(this.filter_products == 'Unsold'){\n        filename = \"Unsold products report.csv\";\n      }\n\n      rows = this.products_list.map((obj) => Object.values(obj));\n      rows.forEach(function (row) {\n        csv += row.join(\",\");\n        csv += \"\\n\";\n      });\n\n      var hiddenElement = document.createElement(\"a\");\n      hiddenElement.href = \"data:text/csv;charset=utf-8,\" + encodeURI(csv);\n      hiddenElement.target = \"_blank\";\n      hiddenElement.download = filename;\n      hiddenElement.click();\n      this.spinnerOn = false;\n    },\n    fetch_products_ranking() {\n      this.spinnerOn = true;\n      if (event.target.value == \"Last 30 days\") {\n        this.months = 1;\n      } else if (event.target.value == \"Last 3 months\") {\n        this.months = 3;\n      } else if (event.target.value == \"Last 6 months\") {\n        this.months = 6;\n      } else if (event.target.value == \"Last 12 months\") {\n        this.months = 12;\n      } else if (event.target.value == undefined) {\n        this.months = 1;\n      }\n      axios\n        .post(api_calls.products_report(), {\n          company_id: this.company_id,\n          company_name: this.company_name,\n          records_timeline: this.months,\n          is_get: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(({ data }) => {\n          this.spinnerOn = false;\n            this.most_products_list = data.sorted_list;\n            this.least_products_list = [...data.sorted_list].reverse();\n            this.unsold_products_list = data.unsold;\n            if(this.filter_products == \"Most\"){\n              this.products_list = this.most_products_list;\n            }else if(this.filter_products == \"Least\"){\n              this.products_list = this.least_products_list;\n            }else if(this.filter_products == \"Unsold\"){\n              this.products_list = this.unsold_products_list;\n            }\n        }).catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n        });\n    },\n    show_swal_notification(){\n      if(!this.disable_btn_expired){\n        Swal.fire({\n            title: this.tlt('product_rank_swal_msg'),\n            text: \"You want to send a report                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: this.tlt('product_rank_swal_confirm_msg')\n        }).then((result) => {\n          if (result.value == true) {\n            this.send_report()\n          }\n        })\n      }else {\n        this.show_subscription_expired_swal();\n      }\n    },\n    send_report(){\n      this.spinnerOn = true;\n      // console.log(this.filter_products);\n      axios\n        .post(api_calls.products_report(), {\n          company_id: this.company_id,\n          company_name: this.company_name,\n          records_timeline: this.months,\n          is_send: true,\n          report_type: this.filter_products\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(({ data }) => {\n          this.spinnerOn = false;\n          if(data.message == \"REPORT IS BEING SENT\"){\n            Swal({\n                type: \"success\",\n                text: this.tlt('product_rank_swal_email_sent_msg'),\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                timer: 2500,\n              });\n          }\n          else if(data.message == \"Internal Server Error\"){\n            Swal({\n                type: this.tlt('product_rank_internal_server_msg'),\n                allowOutsideClick: false,\n                allowEscapeKey: false,\n                timer: 2500,\n              });\n          }\n        }).catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.darkblue-btn:hover {\n  background: #192765;\n  color: #fff;\n}\n.table th {\n  border-top: none;\n}\n.table-responsive {\n  max-height: 500px;\n  overflow-y: auto;\n  border: 1px solid #e3e2e5;\n}\n.table-responsive thead th {\n  top: 0;\n  position: sticky;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n}\n</style>"]}]}