{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Layout/DashboardLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Layout/DashboardLayout.vue","mtime":1663910265474},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BOYXZiYXIgZnJvbSAiLi9Ub3BOYXZiYXIudnVlIjsKaW1wb3J0IFNpZGVCYXIgZnJvbSAiLi9TaWRlQmFyLnZ1ZSI7CmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IHsgU2xpZGVZRG93blRyYW5zaXRpb24sIFpvb21DZW50ZXJUcmFuc2l0aW9uIH0gZnJvbSAidnVlMi10cmFuc2l0aW9ucyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCB7IGJ1cyB9IGZyb20gIkAvcG9ydGFsL21haW4iOwppbXBvcnQgU2V0dXAgZnJvbSAiLi9TZXR1cC52dWUiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRhc2hib2FyZC1sYXlvdXQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICBkaXNwbGF5X2xpc3Q6IHRoaXMuJHNlc3Npb24uaGFzKCJDaGF0Ym90TWVudSIpCiAgICAgICAgPyB0aGlzLiRzZXNzaW9uLmdldCgiQ2hhdGJvdE1lbnUiKQogICAgICAgIDogW10sCiAgICAgIHVzZXJfcm9sZTogdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJJbmZvcm1hdGlvbiIpCiAgICAgICAgPyB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZQogICAgICAgIDogIiIsCiAgICAgIHJlZnJlc2hfdG9rZW5fYXBpX29uOiBmYWxzZSwKICAgICAgand0X3Rva2VuX2ludGVydmFsOiBudWxsLAogICAgICBtb2RlbHNfc3RhdHVzX2ludGVydmFsOiBudWxsLAogICAgICBpc19yZXRhaWw6IGZhbHNlLAogICAgICBzZW5kX3N0YXR1czogdHJ1ZSwKICAgICAgc2V0dXBfYXBpX2NhbGxfcmVzcG9uc2VfcmVjZWl2ZWQ6IGZhbHNlLAogICAgICBleHBpcnlfZGF5X2RhdGVfbWFwcGluZzogewogICAgICAgIDA6ICJ3aXRoaW4gYSBkYXkiLAogICAgICAgIDE6ICJpbiBhIGRheSIsCiAgICAgICAgMjogImluIDIgZGF5cyIsCiAgICAgICAgMzogImluIDMgZGF5cyIsCiAgICAgICAgNDogImluIDQgZGF5cyIsCiAgICAgICAgNTogImluIDUgZGF5cyIsCiAgICAgICAgNjogImluIDYgZGF5cyIsCiAgICAgICAgNzogImluIGEgd2VlayIKICAgICAgfSwKICAgICAgc2lkZWJhcl9rZXk6IDAsCiAgICAgIGRpc2FibGVfc2lkZWJhcjogZmFsc2UsCiAgICAgIGlzX2ZyZWVfdHJpYWw6ZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgVG9wTmF2YmFyLAogICAgU2lkZUJhciwKICAgIFNsaWRlWURvd25UcmFuc2l0aW9uLAogICAgWm9vbUNlbnRlclRyYW5zaXRpb24sCiAgICBTZXR1cAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikpIHsKICAgICAgdGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgKICAgICAgICAgICAgYXBpX2NhbGxzLnJlZnJlc2hfdG9rZW5fdXJsKCksCiAgICAgICAgICAgIHt9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJydCIpfWAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgcmVzcG9uc2UuZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwpOwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMubW9kZWxzX3N0YXR1c19pbnRlcnZhbCk7CiAgICAgICAgICAgIHRoaXMubW9kZWxzX3N0YXR1c19pbnRlcnZhbCA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuand0X3Rva2VuX2ludGVydmFsID0gbnVsbDsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvbG9naW4iKTsKICAgICAgICAgIH0pOwogICAgICB9LCAxNCAqIDYwICogMTAwMCk7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoCiAgICAgICAgICBhcGlfY2FsbHMudG9rZW5fdmVyaWZpY2F0aW9uX3VybCgpLAogICAgICAgICAgewogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKAogICAgICAgICAgICByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuVE9LRU5fSU5WQUxJRF8wMDAxLk1TR19DT0RFIHx8CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5JTlZBTElEX0NSRURFTlRJQUxTXzAwMDUuTVNHX0NPREUKICAgICAgICAgICkgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgICB0aGlzLnRsdCgnbGF5b3V0X2Rhc2hib2FyZF9sb2dnZWRpbl9hZ2FpbicsICdjb2RlJyksCiAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlCiAgICAgICAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CiAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9sb2dpbiIpOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU0VTU0lPTl9UT0tFTl9WQUxJRC5NU0dfQ09ERSkgewogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuand0X3Rva2VuX2ludGVydmFsKTsKICAgICAgICAgIHRoaXMuand0X3Rva2VuX2ludGVydmFsID0gbnVsbDsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2xvZ2luIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgIH0KICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikpIHsKICAgICAgYnVzLiRlbWl0KCJZb3UgY2FuIGVuYWJsZSBib3QgY2hhdCBub3ciLCAiVHJ1ZSIpOwogICAgfQogICAgbGV0IHZhbGlkX3RvID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnZhbGlkX3RvLAogICAgICBkYXRlX3NldmVuX2RheXNfYWdvID0gbmV3IERhdGUoKSwKICAgICAgY3VycmVudF9kYXkgPSBuZXcgRGF0ZSgpOwogICAgZGF0ZV9zZXZlbl9kYXlzX2Fnby5zZXREYXRlKGRhdGVfc2V2ZW5fZGF5c19hZ28uZ2V0RGF0ZSgpIC0gNyk7CiAgICBsZXQgaXNfdmFsaWRpdHlfZXhwaXJpbmdfc29vbiA9IHRoaXMuZGF0ZUNoZWNrRXhwaXJ5KAogICAgICBkYXRlX3NldmVuX2RheXNfYWdvLAogICAgICBjdXJyZW50X2RheSwKICAgICAgdmFsaWRfdG8KICAgICk7CiAgICBsZXQgc3RhcnQgPSBtb21lbnQoY3VycmVudF9kYXkpLAogICAgICBlbmQgPSBtb21lbnQodmFsaWRfdG8pLAogICAgICBkYXlzX3JlbWFpbmluZyA9IGVuZC5kaWZmKHN0YXJ0LCAiZGF5cyIpOwogICAgdmFyIHN1YnNjcmlwdG9uX3N0YXR1cyA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb25fc3RhdHVzOwogICAgbGV0IHVzZXJfZXhwaXJ5X2luZm9ybWVkID0gQm9vbGVhbih0aGlzLiRzZXNzaW9uLmdldCgiVXNlckV4cGlyeUluZm9ybWVkIikpOwogICAgaWYgKAogICAgICBkYXlzX3JlbWFpbmluZyBpbiBPYmplY3Qua2V5cyh0aGlzLmV4cGlyeV9kYXlfZGF0ZV9tYXBwaW5nKSAmJgogICAgICAhdXNlcl9leHBpcnlfaW5mb3JtZWQgJiYgc3Vic2NyaXB0b25fc3RhdHVzICE9ICJhY3RpdmUiCiAgICApIHsKICAgICAgc3dhbCh7CiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHRleHQ6IHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3RyaWFsX3BlcmlvZF9leHBpcmUnLCAnY29kZScpICsgYCAke3RoaXMuZXhwaXJ5X2RheV9kYXRlX21hcHBpbmdbZGF5c19yZW1haW5pbmddfSxgICsgdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfdXBncmFkZV9wbGFuX3RleHQnLCAnY29kZScpICsgdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfdXBncmFkZV9wbGFuX3RleHQyJywgJ2NvZGUnKSwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjonIzMwODVkNicsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3N1YnNjcmliZV9ub3cnLCAnY29kZScpLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX2xhdGVyX2J0bicsICdjb2RlJyksCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywKICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSA9PSB0cnVlKQogICAgICAgIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnU2V0dGluZ3MnLHBhcmFtczp7U3Vic2NyaXB0aW9uOnRydWV9fSk7ICAgICAKICAgICAgICB9CiAgICAgICAgfSkKICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJFeHBpcnlJbmZvcm1lZCIsIHRydWUpOwogICAgfSAKICAgIGlmIChkYXlzX3JlbWFpbmluZyA8IDAgJiYgIXVzZXJfZXhwaXJ5X2luZm9ybWVkKSB7CiAgICAgIHN3YWwoewogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnbGF5b3V0X2Rhc2hib2FyZF90cmlhbF9wZXJpb2RfZXhwaXJlMScsICdjb2RlJyksCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6JyMzMDg1ZDYnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLnRsdCgnbGF5b3V0X2Rhc2hib2FyZF9zdWJzY3JpYmVfbm93JywgJ2NvZGUnKSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiB0aGlzLnRsdCgnbGF5b3V0X2Rhc2hib2FyZF9sYXRlcl9idG4nLCAnY29kZScpLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIGlmIChyZXN1bHQudmFsdWUgPT0gdHJ1ZSkKICAgICAgICB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ1NldHRpbmdzJyxwYXJhbXM6e1N1YnNjcmlwdGlvbjp0cnVlfX0pOyAgICAgCiAgICAgICAgfQogICAgICAgIH0pCiAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VyRXhwaXJ5SW5mb3JtZWQiLCB0cnVlKTsKICAgIH0KICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikpIHsKICAgICAgdGhpcy5jaGVja19tb2RlbF9zdGF0dXMoKTsKICAgICAgdGhpcy5tb2RlbHNfc3RhdHVzX2ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsKICAgICAgICB0aGlzLmNoZWNrX21vZGVsX3N0YXR1cygpOwogICAgICB9LCAxMCAqIDYwICogMTAwMCk7CiAgICB9IAogIH0sCiAgYmVmb3JlQ3JlYXRlKCkgewogICAgaWYodGhpcy4kcm91dGUucGFyYW1zLmlzX3Nob3BpZnlfYmlsbGluZ19yZWRpcmVjdCA9PT0gdHJ1ZSkgewogICAgICBzd2FsKHsKICAgICAgICB0aXRsZTogIlRoYW5rIFlvdSEhIiwKICAgICAgICBodG1sOiBgWW91ciBTdWJzY3JpcHRpb24gb2YgQ2Vuc2UgQXBwIHdpdGggU2hvcGlmeSBpcyBub3cgQWN0aXZlLiEgXG4gQ29udGludWUgYnJvd3NpbmcgdGhyb3VnaCBvdXIgcG9ydGFsIGZvciBtYWtpbmcgeW91ciBib3QgbW9yZSBpbnRlcmFjdGl2ZS4hIWAsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UKICAgICAgfSkKICAgIH0KICAgIGlmKHRoaXMuJHJvdXRlLnBhcmFtcy5zdHJpcGVfcGF5bWVudF9yZWRpcmVjdCA9PT0gdHJ1ZSkgewogICAgICBpZih0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9kYXRhID09PSAnU3VjY2VzcycpewogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF90eXBlID09PSAnc3Vic2NyaXB0aW9uJyl7CiAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgdGl0bGU6ICJUaGFuayBZb3UhISIsCiAgICAgICAgICAgIGh0bWw6ICJZb3VyIFN1YnNjcmlwdGlvbiBvZiBDZW5zZSBBcHAgaXMgbm93IEFjdGl2ZS4hIFxuIENvbnRpbnVlIGJyb3dzaW5nIHRocm91Z2ggb3VyIHBvcnRhbCBmb3IgbWFraW5nIHlvdXIgYm90IG1vcmUgaW50ZXJhY3RpdmUuISEiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF90eXBlID09PSAncGF5bWVudCcpewogICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiAiVGhhbmsgWW91ISEiLAogICAgICAgICAgICB0ZXh0OiAiWW91ciBBZGQgb24gaXMgbm93IEFjdGl2ZS4hIFxuIENvbnRpbnVlIGJyb3dzaW5nIHRocm91Z2ggb3VyIHBvcnRhbCBmb3IgbWFraW5nIHlvdXIgYm90IG1vcmUgaW50ZXJhY3RpdmUuISEiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZih0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9kYXRhID09PSAnRmFpbHVyZScpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRpdGxlOiAiT29wcyEhIiwKICAgICAgICAgIGh0bWw6IGA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmxlZnQiPiBJdCBzZWVtcyB0aGVyZSB3YXMgc29tZSBlcnJvciBpbiBwcm9jZXNzaW5nIHlvdXIgcGF5bWVudCByZXF1ZXN0ISA8YnI+IElmIHlvdSB0aGluayB0aGlzIHdhcyBhIG1pc3Rha2UsIHBsZWFzZSByZWFjaCBvdXQgdG8gdXMgYXQgPGEgaHJlZj0ibWFpbHRvOnN1cHBvcnRAY2Vuc2UuYWk/c3ViamVjdD1QYXltZW50IEZhaWx1cmUgRGlzcHV0ZSR7Qm9vbGVhbih0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9jZW5zZV9yZWZlcmVuY2VfaWQpID09PSB0cnVlID8gYDpDZW5zZVBheW1lbnQjJHt0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9jZW5zZV9yZWZlcmVuY2VfaWR9YCA6IG51bGx9PnN1cHBvcnRAY2Vuc2UuYWk8L2E+LiA8YnI+IDxicj4gJHtCb29sZWFuKHRoaXMuJHJvdXRlLnBhcmFtcy5wYXltZW50X3Jlc3BvbnNlX2NlbnNlX3JlZmVyZW5jZV9pZCkgPT09IHRydWUgPyBgUGxlYXNlIG5vdGUgdGhlIHJlZmVyZW5jZSBJRDxiPkNlbnNlUGF5bWVudCMke3RoaXMuJHJvdXRlLnBhcmFtcy5wYXltZW50X3Jlc3BvbnNlX2NlbnNlX3JlZmVyZW5jZV9pZH0gPC9iPiBmb3IgYWxsIGZ1cnRoZXIgY29tbXVuaWNhdGlvbiByZWdhcmRpbmcgdGhpcyBwYXltZW50YDogbnVsbH0gPC9kaXY+YCwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgIH0pCiAgICAgIH0KICAgIH0KICAgIGxldCBzdWJzY3JpcHRpb24gPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uOwogICAgbGV0IHN1YnNjcmlwdGlvbl9zdGF0dXMgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uX3N0YXR1czsKICAgIGlmKHN1YnNjcmlwdGlvbiA9PSAnRnJlZScgJiYgc3Vic2NyaXB0aW9uX3N0YXR1cyAhPSAnZnJlZXRyaWFsJyl7CiAgICAgIHRoaXMuaXNfZnJlZV90cmlhbCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pc19mcmVlX3RyaWFsOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9zdWJzY3JpcHRpb24tcmVuZXdhbCIpOwogICAgfQogICAgdHJ5IHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgKICAgICAgICAgIGFwaV9jYWxscy5zZXR1cF9zdGF0dXMoKSwKICAgICAgICAgIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgdXBkYXRlOiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5pc19jb21wbGV0ZWQgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICB0aGlzLmlzX3JldGFpbCA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5pc19yZXRhaWwgPSBmYWxzZTsKCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSkgewogICAgICAgICAgICB0aGlzLmlzX3JldGFpbCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pc19yZXRhaWwgPSBmYWxzZTsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNldHVwX2FwaV9jYWxsX3Jlc3BvbnNlX3JlY2VpdmVkID0gdHJ1ZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICAgIGlmICgKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnNldHVwX2FwaV9jYWxsX3Jlc3BvbnNlX3JlY2VpdmVkID0gZmFsc2U7CiAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgICAgICBhcGlfY2FsbHMuc2V0dXBfc3RhdHVzKCksCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmYWxzZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuaXNfY29tcGxldGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzX3JldGFpbCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNfcmV0YWlsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNfcmV0YWlsID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc19yZXRhaWwgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB0aGlzLnNldHVwX2FwaV9jYWxsX3Jlc3BvbnNlX3JlY2VpdmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkuY2F0Y2goZT0+ewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNldHVwX2FwaV9jYWxsX3Jlc3BvbnNlX3JlY2VpdmVkID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9sb2dpbiIpOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiQ2hhdGJvdE1lbnUiKSkgewogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lICE9ICJEaXJlY3QgUmVzcG9uc2UgQm90IikgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvZGlyZWN0cmVzcG9uc2Vib3QiKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIG1lbnUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ2hhdGJvdE1lbnUiKTsKICAgICAgZm9yICh2YXIgaSBpbiBtZW51KSB7CiAgICAgICAgdmFyIG1hdGNoZWQgPSBmYWxzZTsKICAgICAgICBpZiAobWVudVtpXS5zdWJfbWVudV9saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICBpZiAobWVudVtpXS5tYWluX21lbnUubmFtZSA9PT0gdGhpcy4kcm91dGUubmFtZSkgewogICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKG1lbnVbaV0uc3ViX21lbnVfbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBmb3IgKHZhciBqIGluIG1lbnVbaV0uc3ViX21lbnVfbGlzdCkgewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgbWVudVtpXS5zdWJfbWVudV9saXN0W2pdLm5hbWUgPT09IHRoaXMuJHJvdXRlLm5hbWUgfHwKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZS5uYW1lID09PSAiV29ya2Zsb3ciIHx8CiAgICAgICAgICAgICAgdGhpcy4kcm91dGUubmFtZSA9PT0gIlRlc3QgQ2xvc2VkIEJvdCIgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gIldoYXRzQXBwIENoYXQgTmV3UGFnZSIgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gJ1N1YnNjcmlwdGlvbiBSZW5ld2FsJwogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAobWF0Y2hlZCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfSBlbHNlIGlmIChpID09IG1lbnUubGVuZ3RoIC0gMSAmJiBtYXRjaGVkID09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kYXNoYm9hcmQiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJJbmZvcm1hdGlvbiIpKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvbG9naW4iKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHJvb3QuJG9uKCJTZXNzaW9uX0V4cGlyZWQiLCBkYXRhID0+IHsKICAgICAgaWYgKGRhdGEubWVzc2FnZS5NU0cgPT09ICJZb3UgYXJlIGxvZ2dlZCBpbiBvbiBhbm90aGVyIGRldmljZS4iKSB7CiAgICAgICAgc3dhbAogICAgICAgICAgLmZpcmUoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfc3dhbF9vb3BzMicsICdjb2RlJyksCiAgICAgICAgICAgIHRleHQ6CiAgICAgICAgICAgICAgdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfbG9nZ2VkX2FnYWluJywnY29kZScpLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJzaWduX291dCIpOwogICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGRhdGEubXNnID09PSAiUGVybWlzc2lvbnMgVXBkYXRlZCIpIHsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicGVybWlzc2lvbnMiLCBkYXRhLnBlcm1pc3Npb25zKTsKICAgICAgICB0aGlzLmdldFRva2VuKCk7CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMucmVmcmVzaF90b2tlbl9hcGlfb24pIHsKICAgICAgICB0aGlzLnJlZnJlc2hfdG9rZW5fYXBpX29uID0gdHJ1ZTsKICAgICAgICB0aGlzLmdldFRva2VuKCk7CiAgICAgIH0KICAgIH0pOwoKICAgIHRoaXMuJHJvb3QuJG9uKCJDbGVhcl9SZWZyZXNoX1Rva2VuX0ludGVydmFsIiwgZGF0YSA9PiB7CiAgICAgIGlmIChkYXRhLmNsZWFyX2ludGVydmFsKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmp3dF90b2tlbl9pbnRlcnZhbCk7CiAgICAgICAgdGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwgPSBudWxsOwogICAgICB9CiAgICB9KTsKICAgIGxldCBpc19maXJzdF9sb2dpbiA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zaG93X3BvcnRhbF9ndWlkZTsKICAgIGlmIChCb29sZWFuKGlzX2ZpcnN0X2xvZ2luKSkgewogICAgICAvLyB0aGlzLiRyb290LiRlbWl0KCJzaG93X3RvdXJfZ3VpZGUiLCB0cnVlKTsKICAgIH0KICAgIHRoaXMuJHJvb3QuJG9uKCJ3YW50X21vZGVsX3N0YXR1cyIsIGRhdGEgPT57CiAgICAgIGlmIChkYXRhID09IHRydWUpewogICAgICAgIHRoaXMuY2hlY2tfbW9kZWxfc3RhdHVzKCk7CiAgICAgIH0KICAgIH0pCiAgICB0aGlzLiRyb290LiRvbigiU2lkZUJhck1lbnVVcGRhdGVkIiwgKGRhdGEpID0+IHsKICAgICAgaWYgKGRhdGEgPT09IHRydWUpewogICAgICAgIHRoaXMuc2lkZWJhcl9rZXkgKz0xOwogICAgICB9CiAgICB9KTsKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiU2V0dGluZ1RvcG5hdmJhckRpc2FibGUiKSA9PSB0cnVlKSB7CiAgICAgIHRoaXMuZGlzYWJsZV9zaWRlYmFyID0gdHJ1ZTsKICAgIH1lbHNlewogICAgICAgdGhpcy5kaXNhYmxlX3NpZGViYXIgPSBmYWxzZTsKICAgIH0KICAgIHRoaXMuJHJvb3QuJG9uKCJEYXNoYm9hcmRTaWRlYmFyRGlzYWJsZSIsIChkYXRhKSA9PiB7CiAgICAgIGlmKGRhdGE9PT10cnVlKXsKICAgICAgICB0aGlzLmRpc2FibGVfc2lkZWJhciA9IHRydWU7CiAgICAgIH1lbHNlewogICAgICAgICB0aGlzLmRpc2FibGVfc2lkZWJhciA9IGZhbHNlOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRva2VuKCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KAogICAgICAgICAgYXBpX2NhbGxzLnJlZnJlc2hfdG9rZW5fdXJsKCksCiAgICAgICAgICB7fSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgicnQiKX1gCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICApCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5yZWZyZXNoX3Rva2VuX2FwaV9vbiA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgcmVzcG9uc2UuZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9sb2dpbiIpOwogICAgICAgIH0pOwogICAgfSwKICAgIGRhdGVDaGVja0V4cGlyeShmcm9tLCB0bywgY2hlY2spIHsKICAgICAgdmFyIGZEYXRlLCBsRGF0ZSwgY0RhdGU7CiAgICAgIGZEYXRlID0gRGF0ZS5wYXJzZShmcm9tKTsKICAgICAgbERhdGUgPSBEYXRlLnBhcnNlKHRvKTsKICAgICAgY0RhdGUgPSBEYXRlLnBhcnNlKGNoZWNrKTsKICAgICAgaWYgKGNEYXRlIDw9IGxEYXRlICYmIGNEYXRlID49IGZEYXRlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGNoZWNrX21vZGVsX3N0YXR1cygpewogICAgICBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGFwaV9jYWxscy5tb2RlbHNfdHJhaW5pbmdfc3RhdHVzKCksCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgaXNfZ2V0OiB0cnVlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIk1vZGVsU3RhdHVzIiwgcmVzcG9uc2UuZGF0YS5kYXRhLm1vZGVsX3N0YXR1cyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZihyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUpewogICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJNb2RlbFN0YXR1cyIsIHJlc3BvbnNlLmRhdGEuZGF0YS5tb2RlbF9zdGF0dXMpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIk1vZGVsU3RhdHVzIiwge30pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoInNlbmRfbW9kZWxfc3RhdHVzIix0aGlzLnNlbmRfc3RhdHVzKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIk1vZGVsU3RhdHVzIiwge30pOwogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgc2lkZWJhcl9kaXNhYmxlKCl7CiAgICAgIGlmICh0aGlzLmRpc2FibGVfc2lkZWJhciA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiAncG9pbnRlci1ldmVudHM6bm9uZTsnICAgIAogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gJycKICAgICAgfQogICAgfQogIH0KfTsK"},null]}