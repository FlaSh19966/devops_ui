{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/analytics/components/NewPieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/analytics/components/NewPieChart.vue","mtime":1648724697498},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGQzID0gcmVxdWlyZSgiZDMtMyIpOwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiTmV3UGllIiwKICAgIHByb3BzOiB7CiAgICBkYXRhOiBBcnJheSwKICAgIHhLZXk6IFN0cmluZywKICAgIHlLZXk6IFN0cmluZywKICAgIGN1cnJlbmN5X2tleTogU3RyaW5nLAogICAgaWRlbXBvdGVuY3lfa2V5IDogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAxCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIHRoaXMuZGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGJbdm0ueUtleV0gLSBhW3ZtLnlLZXldOwogICAgICAgICB9KTsKICAgICAgICB2YXIgc3VtX3l2YWwgPSAwCiAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3VtX3l2YWwgPSBzdW1feXZhbCArICB0aGlzLmRhdGFbaV1bdGhpcy55S2V5XQogICAgICAgIH0KICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgdGhpcy5kYXRhW2ldLnBlcmNlbnQgPSAoKHRoaXMuZGF0YVtpXVt0aGlzLnlLZXldIC8gc3VtX3l2YWwpICogMTAwKQogICAgICAgIH0KICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KGAjbmV3cGllJHt0aGlzLmlkZW1wb3RlbmN5X2tleX1gKTsKICAgICAgICB2YXIgY2FudmFzID0gZDMuc2VsZWN0KGAjY2FudmFzJHt0aGlzLmlkZW1wb3RlbmN5X2tleX1gKTsKICAgICAgICB2YXIgYXJ0ID0gZDMuc2VsZWN0KCIjYXJ0IiArIHRoaXMuaWRlbXBvdGVuY3lfa2V5KTsKICAgICAgICB2YXIgbGFiZWxzID0gZDMuc2VsZWN0KCIjbGFiZWxzIiArIHRoaXMuaWRlbXBvdGVuY3lfa2V5KTsKICAgICAgIAoKICAgICAgICAvLyBDcmVhdGUgdGhlIHBpZSBsYXlvdXQgZnVuY3Rpb24uCiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGFkZCBjb252ZW5pZW5jZQogICAgICAgIC8vIGRhdGEgdG8gb3VyIGV4aXN0aW5nIGRhdGEsIGxpa2UgCiAgICAgICAgLy8gdGhlIHN0YXJ0IGFuZ2xlIGFuZCBlbmQgYW5nbGUKICAgICAgICAvLyBmb3IgZWFjaCBkYXRhIGVsZW1lbnQuCiAgICAgICAgdmFyIGpod19waWUgPSBkMy5sYXlvdXQucGllKCkKICAgICAgICBqaHdfcGllLnZhbHVlKGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICAgIC8vIFRlbGxzIHRoZSBsYXlvdXQgZnVuY3Rpb24gd2hhdAogICAgICAgICAgICAvLyBwcm9wZXJ0eSBvZiBvdXIgZGF0YSBvYmplY3QgdG8KICAgICAgICAgICAgLy8gdXNlIGFzIHRoZSB2YWx1ZS4KICAgICAgICAgICAgcmV0dXJuIGRbdm0ueUtleV07CiAgICAgICAgfSk7CgogICAgICAgIC8vIFN0b3JlIG91ciBjaGFydCBkaW1lbnNpb25zCiAgICAgICAgdmFyIGNEaW0gPSB7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwMCwKICAgICAgICAgICAgICAgIHdpZHRoOiA0NTAsCiAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogMCwKICAgICAgICAgICAgICAgIG91dGVyUmFkaXVzOiA5MCwKICAgICAgICAgICAgICAgIGxhYmVsUmFkaXVzOiAxMDUKICAgICAgICAgICAgfQoKICAgICAgICAvLyBTZXQgdGhlIHNpemUgb2Ygb3VyIFNWRyBlbGVtZW50CiAgICAgICAgc3ZnLmF0dHIoewogICAgICAgICAgICBoZWlnaHQ6IGNEaW0uaGVpZ2h0LAogICAgICAgICAgICB3aWR0aDogY0RpbS53aWR0aAogICAgICAgIH0pOwoKICAgICAgICAvLyBUaGlzIHRyYW5zbGF0ZSBwcm9wZXJ0eSBtb3ZlcyB0aGUgb3JpZ2luIG9mIHRoZSBncm91cCdzIGNvb3JkaW5hdGUKICAgICAgICAvLyBzcGFjZSB0byB0aGUgY2VudGVyIG9mIHRoZSBTVkcgZWxlbWVudCwgc2F2aW5nIHVzIHRyYW5zbGF0aW5nIGV2ZXJ5CiAgICAgICAgLy8gY29vcmRpbmF0ZSBpbmRpdmlkdWFsbHkuIAogICAgICAgIGNhbnZhcy5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKCIgKyAoY0RpbS53aWR0aCAvIDIuMSkgKyAiLCIgKyAoY0RpbS53aWR0aCAvIDMuNCkgKyAiKSIpOwoKICAgICAgICB2YXIgcGllZF9kYXRhID0gamh3X3BpZSh0aGlzLmRhdGEpOwoKICAgICAgICAvLyBUaGUgcGllZF9hcmMgZnVuY3Rpb24gd2UgbWFrZSBoZXJlIHdpbGwgY2FsY3VsYXRlIHRoZSBwYXRoCiAgICAgICAgLy8gaW5mb3JtYXRpb24gZm9yIGVhY2ggd2VkZ2UgYmFzZWQgb24gdGhlIGRhdGEgc2V0LiBUaGlzIGlzIAogICAgICAgIC8vIHVzZWQgaW4gdGhlICJkIiBhdHRyaWJ1dGUuCiAgICAgICAgdmFyIHBpZWRfYXJjID0gZDMuc3ZnLmFyYygpCiAgICAgICAgICAgICAgICAuaW5uZXJSYWRpdXMoMCkKICAgICAgICAgICAgICAgIC5vdXRlclJhZGl1cyg5MCkKICAgICAgICAgICAgICAgIC5wYWRBbmdsZSgwLjApCiAgICAgICAgICAgICAgICAuY29ybmVyUmFkaXVzKDApCgogICAgICAgIC8vIFRoaXMgaXMgYW4gb3JkaW5hbCBzY2FsZSB0aGF0IHJldHVybnMgMTAgcHJlZGVmaW5lZCBjb2xvcnMuCiAgICAgICAgLy8gSXQgaXMgcGFydCBvZiBkMyBjb3JlLgogICAgICAgIC8vIHZhciBwaWVkX2NvbG9ycyA9IGQzLnNjYWxlLmNhdGVnb3J5MjAoKTsKICAgICAgICAvLyB2YXIgcGllZF9jb2xvcnMgPSAgIGQzLnNjYWxlLm9yZGluYWwoKQogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFsiIzAwQzdFNiIsIiMzRkJDMTEiLCAiI0VBMzM3OSIsICIjRkJCMzE3IiwgIiM1ZDYyYjUiLCAiIzI5YzNiZSIsICIjZjE3MjZlIiwgICIjNjJiNThmIiwgIiNkMDc0M2MiLCIjY2EwMDIwIiwiI2Y0YTU4MiIsIiM5MmM1ZGUiLCIjMDU3MWIwIiwgIiNkM2ZlMTQiLCAiI2ZlYzdmOCIsICIjMGI3YjNlIiwgIiMwYmYwZTkiLCcjRTY2NkIzJywgJyMzMzk5MUEnLCAnI0NDOTk5OScsICcjQjNCMzFBJywgJyMwMEU2ODAnLAogICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgJyNGRjlBQTInLCAnI0ZGQjdCMicsICcjRkZEQUMxJywgJyNCNUVBRDcnLCAnIzYzZDJhOCcsICIjMjI1YTRiIiwgIiNlNWRmNzMiLCAnIzY2NjZGRicsJyNmZjAwMDAJJywnI2EyNzk4ZicsJyNkN2M2Y2YnLCcjZTg4NzU4JywnI2IxM2ExNScsJyM2ZDM2NTYnLCcjZmZmYTkwJywnI2E0ZmZhYScsJyNhNmNiZmYnLCcjODUwMGY5JywnI2IwNzdiYScsJwkjNzY1Mjg0JywnIzk4NGI2NycsJyM5YzYyNGUnLCcjZmViOGZmJywnIzliZTNiZCcsJyM3NzU5MzQnLCcjMDA4Mzg1JywnIzZhMmNhMScsJyNlNjBlNjgnLCcjZmY2ZDAxJywnI2ZlZTlkMycKICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIF0pOwogICAgICAgICB2YXIgcGllZF9jb2xvcnMgPSAgIGQzLnNjYWxlLm9yZGluYWwoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFsiI0ZCQjMxNyIsIiNGRjk3NTAiLCIjM0ZCQzExIiwiIzAwQzdFNiIsIiNFQTMzNzkiLCIjMDE2NWZjIiwiIzQxZmRmZSIsIiMyNGEwZWQiLCIjMWFjMWRkIiwiIzdkZjlmZiIsIiMzZjAwZmYiLCIjMDhmZjA4IiwiI2FlZmY2ZSIsIiM1NmZjYTIiLCIjNDVjZWEyIiwiIzA2YzJhYyIsIiNmZTY3MDAiLCIjZmYzNTAzIiwiI2Q5MDE2NiIsIiNiZTAzZmQiLCIjYWQwYWZkIiwiIzY2MDBmZiIsIiNkMDFjMWYiLCIjZjExNzJmIiwiI2ZmZjYwMCIsIiNmY2QxMTYiLCIjY2ZmZjA0IiwiI2ZmYzMyNCIsIiNmNGM0MzAiLCIjRkU3RDY4IiwiIzcxMDE5MyIsCiAgICAgICAgICAgICIjMDQ5MkMyIiwiIzk4OTdBOSIsIiM2MzJBMEQiLCIjOUE3OTRFIiwiIzE1MUUzRCIsIiM1OTc4OEQiLCIjMUU0NTZFIiwiIzAxNjA2NCIsIiM0OEFBQUQiLCIjN0U3RDlDIiwiIzMwMzE1MCIsIiM2MDlEOUUiLCIjMjg3RTlFIiwiI0U0QTgzNCIsIiMwMjg5MTAiLAogICAgICAgICAgICAiIzM3MzczNyIsIiM2QzYyNkQiLCIjNTg0RDVCIiwiIzRENEM1QyJdKTsKCiAgICAgICAgLy8gTGV0J3Mgc3RhcnQgZHJhd2luZyB0aGUgYXJjcy4KICAgICAgICB2YXIgZW50ZXJpbmdBcmNzID0gYXJ0LnNlbGVjdEFsbCgiLndlZGdlIit0aGlzLmlkZW1wb3RlbmN5X2tleSkuZGF0YShwaWVkX2RhdGEpLmVudGVyKCk7CiAgICAgICAgLy8gZGVidWdnZXI7CiAgICAgICAgZW50ZXJpbmdBcmNzLmFwcGVuZCgicGF0aCIpCiAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsICJ3ZWRnZSIrdGhpcy5pZGVtcG90ZW5jeV9rZXkpCiAgICAgICAgICAgIC5hdHRyKCJpZCIsIGZ1bmN0aW9uKGQsIGkpIHsKICAgICAgICAgICAgICAgIHJldHVybiAgaTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8gLmF0dHIoImQiLCBwaWVkX2FyYykKICAgICAgICAgICAgLmF0dHIoImZpbGwiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBpZWRfY29sb3JzKGkpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgICAgIC5kZWxheShmdW5jdGlvbihkLGkpIHsKICAgICAgICAgICAgcmV0dXJuIGkgKjE1MDsgfSkKICAgICAgICAgICAgLmR1cmF0aW9uKDM4MDApCiAgICAgICAgCS5hdHRyVHdlZW4oJ2QnLCBmdW5jdGlvbihkKSB7CgkJICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGUoZC5zdGFydEFuZ2xlKzAuMSwgZC5lbmRBbmdsZSk7CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICBkLmVuZEFuZ2xlID0gaSh0KTsgCiAgICAgICAgICAgICAgICByZXR1cm4gcGllZF9hcmMoZCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmF0dHIoImQiLCBwaWVkX2FyYykKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIGQzLnNlbGVjdEFsbCgicGF0aCIpCiAgICAgICAgICAgIC8vIC50cmFuc2l0aW9uKCkKICAgICAgICAgICAgLy8gLmVhc2UoImJvdW5jZSIpCiAgICAgICAgICAgIC8vIC5kdXJhdGlvbigyMDAwKQogICAgICAgICAgICAvLyAuYXR0clR3ZWVuKCJkIiwgdHdlZW5QaWUpCiAgICAgICAgICAgIC8vIC50cmFuc2l0aW9uKCkKICAgICAgICAgICAgLy8gLmR1cmF0aW9uKGZ1bmN0aW9uKGQsIGkpIHsKICAgICAgICAgICAgLy8gICAgICAgICByZXR1cm4gaSAqIDEwMDsKICAgICAgICAgICAgLy8gICAgIH0pLmR1cmF0aW9uKDQyMDApCiAgICAgICAgICAgIC8vICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24oZCkgeyAgIAogICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJoZXUiKQogICAgICAgICAgICAvLyAgICAgdmFyIGkgPSBkMy5pbnRlcnBvbGF0ZShkLnN0YXJ0QW5nbGUrMC4xLCBkLmVuZEFuZ2xlKTsKICAgICAgICAgICAgLy8gICAgIHJldHVybiBmdW5jdGlvbih0KSB7CiAgICAgICAgICAgIC8vICAgICAgICAgZC5lbmRBbmdsZSA9IGkodCk7CiAgICAgICAgICAgIC8vICAgICByZXR1cm4gcGllZF9hcmMoZCk7CiAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAvLyBmdW5jdGlvbiB0d2VlblBpZShiKSB7CiAgICAgICAgLy8gICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGUoe3N0YXJ0QW5nbGU6IDEuMSpNYXRoLlBJLCBlbmRBbmdsZTogMS4xKk1hdGguUEl9LCBiKTsKICAgICAgICAvLyAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHsgcmV0dXJuIHBpZWRfYXJjKGkodCkpOyB9OwogICAgICAgIC8vIH0KICAgICAgICAvLyBmdW5jdGlvbiB0d2VlblBpZShiKSB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCJoZXlsbyIpCiAgICAgICAgLy8gdmFyIGkgPSBkMy5pbnRlcnBvbGF0ZSh7c3RhcnRBbmdsZTogMCwgZW5kQW5nbGU6IDB9LCBiKTsKICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24odCkgeyByZXR1cm4gcGllZF9hcmMoaSh0KSk7IH07CiAgICAgICAgLy8gfQoKICAgICAgICAvLyBOb3cgd2UnbGwgZHJhdyBvdXIgbGFiZWwgbGluZXMsIGV0Yy4KICAgICAgICB2YXIgdG9vbHRpcCA9IAogICAgICAgICAgICAgICAgZDMuc2VsZWN0KGAjY2hhcnQke3RoaXMuaWRlbXBvdGVuY3lfa2V5fWApLmFwcGVuZCgiZGl2IikuYXR0cigiY2xhc3MiLCAidG9vbFRpcCIpCgogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAKICAgICAgICB2YXIgZW50ZXJpbmdMYWJlbHMgPSBsYWJlbHMuc2VsZWN0QWxsKCIubGFiZWwiKS5kYXRhKHBpZWRfZGF0YSkuZW50ZXIoKTsKICAgICAgICB2YXIgbGFiZWxHcm91cHMgPSBlbnRlcmluZ0xhYmVscy5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsICJsYWJlbCIpOwogICAgICAgIGxhYmVsR3JvdXBzLmFwcGVuZCgiY2lyY2xlIikuYXR0cih7CiAgICAgICAgICAgIHg6IDAsCiAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgIHI6IDIsCiAgICAgICAgICAgIGZpbGw6ICIjMDAwIiwKICAgICAgICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgICB2YXIgY2VudHJvaWQgPSBwaWVkX2FyYy5jZW50cm9pZChkKTsKICAgICAgICAgICAgICAgIHJldHVybiAidHJhbnNsYXRlKCIgKyBwaWVkX2FyYy5jZW50cm9pZChkKSArICIpIjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdjbGFzcyc6ICJsYWJlbC1jaXJjbGUiCiAgICAgICAgfSk7CgogICAgICAgIC8vICJXaGVuIGFtIEkgZXZlciBnb2luZyB0byB1c2UgdGhpcz8iIEkgc2FpZCBpbiAKICAgICAgICAvLyAxMHRoIGdyYWRlIHRyaWcuCiAgICAgICAgdmFyIHRleHRMaW5lcyA9IGxhYmVsR3JvdXBzLmFwcGVuZCgibGluZSIpLmF0dHIoewogICAgICAgICAgICB4MTogZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgICAgICAgIC8vIHJldHVybiBwaWVkX2FyYy5jZW50cm9pZChkKVswXTsKICAgICAgICAgICAgICAgIHZhciBjZW50cm9pZCA9IHBpZWRfYXJjLmNlbnRyb2lkKGQpOwogICAgICAgICAgICAgICAgdmFyIG1pZEFuZ2xlID0gTWF0aC5hdGFuMihjZW50cm9pZFsxXSwgY2VudHJvaWRbMF0pOwogICAgICAgICAgICAgICAgdmFyIHggPSBNYXRoLmNvcyhtaWRBbmdsZSkgKiBjRGltLm91dGVyUmFkaXVzOwogICAgICAgICAgICAgICAgcmV0dXJuIHg7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHkxOiBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBpZWRfYXJjLmNlbnRyb2lkKGQpWzFdOwogICAgICAgICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllZF9hcmMuY2VudHJvaWQoZCk7CiAgICAgICAgICAgICAgICB2YXIgbWlkQW5nbGUgPSBNYXRoLmF0YW4yKGNlbnRyb2lkWzFdLCBjZW50cm9pZFswXSk7CiAgICAgICAgICAgICAgICB2YXIgeSA9IE1hdGguc2luKG1pZEFuZ2xlKSAqIGNEaW0ub3V0ZXJSYWRpdXM7CiAgICAgICAgICAgICAgICByZXR1cm4geTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgeDI6IGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICAgICAgICB2YXIgY2VudHJvaWQgPSBwaWVkX2FyYy5jZW50cm9pZChkKTsKICAgICAgICAgICAgICAgIHZhciBtaWRBbmdsZSA9IE1hdGguYXRhbjIoY2VudHJvaWRbMV0sIGNlbnRyb2lkWzBdKTsKICAgICAgICAgICAgICAgIHZhciB4ID0gTWF0aC5jb3MobWlkQW5nbGUpICogY0RpbS5sYWJlbFJhZGl1czsKICAgICAgICAgICAgICAgIHJldHVybiB4OwogICAgICAgICAgICB9LAogICAgICAgICAgICB5MjogZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgICAgICAgIHZhciBjZW50cm9pZCA9IHBpZWRfYXJjLmNlbnRyb2lkKGQpOwogICAgICAgICAgICAgICAgdmFyIG1pZEFuZ2xlID0gTWF0aC5hdGFuMihjZW50cm9pZFsxXSwgY2VudHJvaWRbMF0pOwogICAgICAgICAgICB2YXIgeSA9IE1hdGguc2luKG1pZEFuZ2xlKSAqIGNEaW0ubGFiZWxSYWRpdXM7CiAgICAgICAgICAgICAgICByZXR1cm4geTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdjbGFzcyc6ICJsYWJlbC1saW5lIgogICAgICAgIH0pOwoKICAgICAgICB2YXIgdGV4dExhYmVscyA9IGxhYmVsR3JvdXBzLmFwcGVuZCgidGV4dCIpLmF0dHIoewogICAgICAgICAgICB4OiBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllZF9hcmMuY2VudHJvaWQoZCk7CiAgICAgICAgICAgICAgICB2YXIgbWlkQW5nbGUgPSBNYXRoLmF0YW4yKGNlbnRyb2lkWzFdLCBjZW50cm9pZFswXSk7CiAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGguY29zKG1pZEFuZ2xlKSAqIGNEaW0ubGFiZWxSYWRpdXM7CiAgICAgICAgICAgICAgICB2YXIgc2lnbiA9ICh4ID4gMCkgPyAxIDogLTEKICAgICAgICAgICAgICAgIHZhciBsYWJlbFggPSB4ICsgKDUgKiBzaWduKQogICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsWDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgeTogZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICAgICAgICAgIHZhciBjZW50cm9pZCA9IHBpZWRfYXJjLmNlbnRyb2lkKGQpOwogICAgICAgICAgICAgICAgdmFyIG1pZEFuZ2xlID0gTWF0aC5hdGFuMihjZW50cm9pZFsxXSwgY2VudHJvaWRbMF0pOwogICAgICAgICAgICAgICAgdmFyIHkgPSBNYXRoLnNpbihtaWRBbmdsZSkgKiBjRGltLmxhYmVsUmFkaXVzOwogICAgICAgICAgICAgICAgcmV0dXJuIHk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAndGV4dC1hbmNob3InOiBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllZF9hcmMuY2VudHJvaWQoZCk7CiAgICAgICAgICAgICAgICB2YXIgbWlkQW5nbGUgPSBNYXRoLmF0YW4yKGNlbnRyb2lkWzFdLCBjZW50cm9pZFswXSk7CiAgICAgICAgICAgICAgICB2YXIgeCA9IE1hdGguY29zKG1pZEFuZ2xlKSAqIGNEaW0ubGFiZWxSYWRpdXM7CiAgICAgICAgICAgICAgICByZXR1cm4gKHggPiAwKSA/ICJzdGFydCIgOiAiZW5kIjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICdjbGFzcyc6ICdsYWJlbC10ZXh0JwogICAgICAgIH0pLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgaWYoZC5kYXRhW3ZtLnhLZXldLmxlbmd0aCA+IDE1KXsKICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGFbdm0ueEtleV0uc3Vic3RyaW5nKDAsMTUpKycuLi4gLSAnICsgZC5kYXRhW3ZtLnlLZXldKycgLSAoJysgZC5kYXRhLnBlcmNlbnQudG9GaXhlZCgyKSsnJSknOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBgJHtkLmRhdGFbdm0ueEtleV19IC0gJHtkLmRhdGFbdm0ueUtleV19IC0gKCR7ZC5kYXRhLnBlcmNlbnQudG9GaXhlZCgyKX0gJSkgYAogICAgICAgIH0pOwogICAgICAgIGQzLnNlbGVjdEFsbCgnLmxhYmVsIHRleHQnKS5jYWxsKHNob3dfbG9uZ19sYWJlbHMpOwogICAgICAgIGZ1bmN0aW9uIHNob3dfbG9uZ19sYWJlbHMoc2VsZWN0aW9uKSB7CiAgICAgICAgICAgIHNlbGVjdGlvbi5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChkLGkpIHsgCiAgICAgICAgICAgICAgICBpZihkLmRhdGFbdm0ueEtleV0ubGVuZ3RoID4gMTUpewogICAgICAgICAgICAgICAgICB0b29sdGlwCiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCJsZWZ0IiwgZDMuZXZlbnQucGFnZVggLSA0MCArICJweCIpCiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCJ0b3AiLCBkMy5ldmVudC5wYWdlWSAtIDcwICsgInB4IikKICAgICAgICAgICAgICAgICAgICAuc3R5bGUoImRpc3BsYXkiLCAiaW5saW5lLWJsb2NrIikKICAgICAgICAgICAgICAgICAgICAuaHRtbChgJHtkLmRhdGFbdm0ueEtleV19ICgke2QuZGF0YS5wZXJjZW50LnRvRml4ZWQoMil9ICUpIGApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgc2VsZWN0aW9uLm9uKCJtb3VzZW91dCIsIGZ1bmN0aW9uKGQsaSkgewogICAgICAgICAgICAgICAgdG9vbHRpcC5zdHlsZSgiZGlzcGxheSIsICJub25lIik7IC8vIGhpZGUgdG9vbHRpcCBmb3IgdGhhdCBlbGVtZW50CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgc2VsZWN0aW9uLm9uKCJtb3VzZW1vdmUiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgICB0b29sdGlwCiAgICAgICAgICAgICAgICAuc3R5bGUoInRvcCIsIGQzLmV2ZW50LmxheWVyWSArIDEwICsgInB4IikgCiAgICAgICAgICAgICAgICAuc3R5bGUoImxlZnQiLCBkMy5ldmVudC5sYXllclggKyAxMCArICJweCIpOyAKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKCiAgICAgICAgdmFyIGFscGhhID0gMC41OwogICAgICAgIHZhciBzcGFjaW5nID0gMTI7CgogICAgICAgIGZ1bmN0aW9uIHJlbGF4KCkgewogICAgICAgICAgICB2YXIgYWdhaW4gPSBmYWxzZTsKICAgICAgICAgICAgdGV4dExhYmVscy5lYWNoKGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICAgIHZhciAgYSA9IHRoaXM7CiAgICAgICAgICAgIHZhciAgIGRhID0gZDMuc2VsZWN0KGEpOwogICAgICAgICAgICB2YXIgIHkxID0gZGEuYXR0cigieSIpOwogICAgICAgICAgICAgICAgdGV4dExhYmVscy5lYWNoKGZ1bmN0aW9uIChkLCBqKSB7CiAgICAgICAgICAgICAgICB2YXIgIGIgPSB0aGlzOwogICAgICAgICAgICAgICAgICAgIC8vIGEgJiBiIGFyZSB0aGUgc2FtZSBlbGVtZW50IGFuZCBkb24ndCBjb2xsaWRlLgogICAgICAgICAgICAgICAgICAgIGlmIChhID09IGIpIHJldHVybjsKICAgICAgICAgICAgICAgIHZhciBkYiA9IGQzLnNlbGVjdChiKTsKICAgICAgICAgICAgICAgICAgICAvLyBhICYgYiBhcmUgb24gb3Bwb3NpdGUgc2lkZXMgb2YgdGhlIGNoYXJ0IGFuZAogICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGNvbGxpZGUKICAgICAgICAgICAgICAgICAgICBpZiAoZGEuYXR0cigidGV4dC1hbmNob3IiKSAhPSBkYi5hdHRyKCJ0ZXh0LWFuY2hvciIpKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgLy8gTm93IGxldCdzIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbgogICAgICAgICAgICAgICAgICAgIC8vIHRoZXNlIGVsZW1lbnRzLiAKICAgICAgICAgICAgICAgIHZhciAgeTIgPSBkYi5hdHRyKCJ5Iik7CiAgICAgICAgICAgICAgICB2YXIgICBkZWx0YVkgPSB5MSAtIHkyOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIE91ciBzcGFjaW5nIGlzIGdyZWF0ZXIgdGhhbiBvdXIgc3BlY2lmaWVkIHNwYWNpbmcsCiAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhleSBkb24ndCBjb2xsaWRlLgogICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YVkpID4gc3BhY2luZykgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBsYWJlbHMgY29sbGlkZSwgd2UnbGwgcHVzaCBlYWNoIAogICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoZSB0d28gbGFiZWxzIHVwIGFuZCBkb3duIGEgbGl0dGxlIGJpdC4KICAgICAgICAgICAgICAgICAgICBhZ2FpbiA9IHRydWU7CiAgICAgICAgICAgICAgICB2YXIgIHNpZ24gPSBkZWx0YVkgPiAwID8gMSA6IC0xOwogICAgICAgICAgICAgICAgdmFyICBhZGp1c3QgPSBzaWduICogYWxwaGE7CiAgICAgICAgICAgICAgICAgICAgZGEuYXR0cigieSIsK3kxICsgYWRqdXN0KTsKICAgICAgICAgICAgICAgICAgICBkYi5hdHRyKCJ5IiwreTIgLSBhZGp1c3QpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyBBZGp1c3Qgb3VyIGxpbmUgbGVhZGVycyBoZXJlCiAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhleSBmb2xsb3cgdGhlIGxhYmVscy4gCiAgICAgICAgICAgIGlmKGFnYWluKSB7CiAgICAgICAgICAgIHZhciBsYWJlbEVsZW1lbnRzID0gdGV4dExhYmVsc1swXTsKICAgICAgICAgICAgICAgIHRleHRMaW5lcy5hdHRyKCJ5MiIsZnVuY3Rpb24oZCxpKSB7CiAgICAgICAgICAgICAgICB2YXIgIGxhYmVsRm9yTGluZSA9IGQzLnNlbGVjdChsYWJlbEVsZW1lbnRzW2ldKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWxGb3JMaW5lLmF0dHIoInkiKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChyZWxheCwzMCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIGQzLnNlbGVjdEFsbCgiLndlZGdlIit2bS5pZGVtcG90ZW5jeV9rZXkpLm9uKCJtb3VzZW92ZXIiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIC8vICAgICB2YXIgeCA9IGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdpZCcpOwogICAgICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2coeCx2bS5kYXRhW3hdKTsKICAgICAgICAgICAgLy8gICAgIHRvb2x0aXAKICAgICAgICAgICAgLy8gICAgICAgICAuc3R5bGUoImxlZnQiLCBkMy5ldmVudC5wYWdlWCAtIDQwICsgInB4IikKICAgICAgICAgICAgLy8gICAgICAgICAuc3R5bGUoInRvcCIsIGQzLmV2ZW50LnBhZ2VZIC0gNzAgKyAicHgiKQogICAgICAgICAgICAvLyAgICAgICAgIC5zdHlsZSgiZGlzcGxheSIsICJpbmxpbmUtYmxvY2siKQogICAgICAgICAgICAvLyAgICAgICAgIC5odG1sKCh2bS5kYXRhW3hdW3ZtLnhLZXldKSArICI8YnI+IiAgKyB2bS5jdXJyZW5jeV9rZXkgKyAnICcgKyAoKE51bWJlci5pc0ludGVnZXIodm0uZGF0YVt4XVt2bS55S2V5XSkpID8gKHZtLmRhdGFbeF1bdm0ueUtleV0pIDogKHZtLmRhdGFbeF1bdm0ueUtleV0pLnRvRml4ZWQoMikpKTsKICAgICAgICAgICAgLy8gfSk7CgogICAgICAgICAgICAvLyBkMy5zZWxlY3RBbGwoIi53ZWRnZSIrdm0uaWRlbXBvdGVuY3lfa2V5KS5vbigibW91c2VvdXQiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgLy8gICAgIHRvb2x0aXAuc3R5bGUoImRpc3BsYXkiLCAibm9uZSIpOyAvLyBoaWRlIHRvb2x0aXAgZm9yIHRoYXQgZWxlbWVudAogICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgIC8vIGQzLnNlbGVjdEFsbCgiLndlZGdlIit2bS5pZGVtcG90ZW5jeV9rZXkpLm9uKCJtb3VzZW1vdmUiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIC8vICAgICB0b29sdGlwCiAgICAgICAgICAgIC8vICAgICAuc3R5bGUoInRvcCIsIGQzLmV2ZW50LmxheWVyWSArIDEwICsgInB4IikgCiAgICAgICAgICAgIC8vICAgICAuc3R5bGUoImxlZnQiLCBkMy5ldmVudC5sYXllclggKyAxMCArICJweCIpOyAKICAgICAgICAgICAgLy8gfSk7CgogICAgICAgIH0KCiAgICAgICAgcmVsYXgoKTsKICAgICAgICB9LCAxNDAwKTsKCiAgICB9Cn0K"},null]}