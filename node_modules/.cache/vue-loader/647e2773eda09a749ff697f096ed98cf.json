{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Data Inputs/Chatscreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Data Inputs/Chatscreen.vue","mtime":1660716745058},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBmaW5nZXJwcmludCBmcm9tICJAL3BvcnRhbC9jb21wb25lbnRzL2ZpbmdlcnByaW50IjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBnZW5lcmF0ZV90aW1lLCBmcmVlemVfcG9ydGFsIH0gZnJvbSAiQC9wb3J0YWwvbWl4aW5zIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjaGF0c2NyZWVuIiwKICBtaXhpbnM6IFtnZW5lcmF0ZV90aW1lLCBmcmVlemVfcG9ydGFsXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3Blbl9tb2RhbDogZmFsc2UsCiAgICAgIGNoYXQ6IFtdLAogICAgICBpbnRlbnQ6ICIiLAogICAgICBpbnRlbnRfdmFsdWU6ICIiLAogICAgICB0b19zZW5kOiAiIiwKICAgICAgaW50ZW50X2xpc3Q6IFtdLAogICAgICBpbmRleDogbnVsbCwKICAgICAgbmV3X3F1ZXN0aW9uczogMCwKICAgICAgLy8gY2hhdF93aWRnZXQ6IHsKICAgICAgLy8gICBsb2dvOiAiIiwKICAgICAgLy8gICB0aXRsZTogIiIsCiAgICAgIC8vICAgc3R5bGU6ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6NjBweCIsCiAgICAgIC8vIH0sCiAgICAgIGNoYXRfd2lkZ2V0OiB7CiAgICAgICAgbG9nbzogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHN0eWxlOiAiIiwKICAgICAgICBib3RfdGhlbWU6ICIiLAogICAgICAgIGJ1dHRvbl90aGVtZTogIiIsCiAgICAgICAgdXNlcl9yZXNwb25zZV9iZ19jb2xvcjogIiIsCiAgICAgICAgYnV0dG9uX2FsaWdubWVudDogIiIsCiAgICAgICAgYm90X2ljb246ICIiLAogICAgICAgIGJvdF9iYWNrZ3JvdW5kX2ltYWdlOiAiIiwKICAgICAgICBidXR0b25faG9yaXpvbnRhbF9zcGFjaW5nOiAiMyIsCiAgICAgICAgYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmc6ICI1IiwKICAgICAgICBoZWFkZXJfYmFja2dyb3VuZDogIiIsCiAgICAgICAgaXNfcG93ZXJlZF9ieV9jZW5zZTogdHJ1ZSwKICAgICAgfSwKICAgICAgdXNlcl9yb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIGludGVudF9yZXNwb25zZTogIiIsCiAgICAgIHJlc3BvbnNlc19tYXA6IHt9LAogICAgICB3YW50X3N0YXR1czogdHJ1ZSwKICAgICAgZGlzYWJsZV9idG5fZXhwaXJlZDpmYWxzZSwKICAgICAgaW50ZW50X2NvcmVfbW9kZWxfaW5wcm9ncmVzczogZmFsc2UsCiAgICB9OwogIH0sCiAgLy8gbW91bnRlZCgpIHsKICAvLyAgIGNvbnNvbGUubG9nKCJIRUxPT09PT09PTy8qICAqLyIpCiAgLy8gICAvLyB0aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAvLyAgIC8vIC8vIGNvbnNvbGUubG9nKCJjb21wYW55aWQiLCB0aGlzLmNvbXBhbnlpZCk7CiAgLy8gICAvLyB0aGlzLnNob3cgPSBmYWxzZTsKICAvLyB9LAogIHByb3BzOiB7CiAgICBpc1RleHRUb0JvdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlLAogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjc3NQcm9wcygpIHsKICAgICAgbGV0IGJvdEF0dHJpYnV0ZXMgPSB7CiAgICAgICAgaGVhZF9jb2xvcjogdGhpcy5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZCwKICAgICAgfTsKICAgICAgaWYgKHRoaXMuY29tcGFueWlkID09PSAicmV0YWlsaWdlbmNlODQ5MjYiKSB7CiAgICAgICAgYm90QXR0cmlidXRlcy5oZWFkX2NvbG9yID0gdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc2V4Y2hhbmdlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICItLWJvdC1oZWFkLWNvbG9yIjogIiNmZmYiLAogICAgICAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6ICIjMmIzMTg0IiwKICAgICAgICAgICItLWJvdC1idXR0b24tY29sb3IiOiAiI2ZkY2YzOCIsCiAgICAgICAgICAiLS1ib3QtbGluay1jb2xvciI6ICIjMmIzMTg0IiwKICAgICAgICAgICItLXVzZXItcmVzcG9uc2UtYmctY29sb3IiOiAiIzI3MzY3OSIsCiAgICAgICAgICAiLS1ib3QtYnV0dG9uLWJhY2tncm91bmQiOiAiIzFkYWFlMSIsCiAgICAgICAgICAiLS1ib3QtYnV0dG9ucy1hbGlnbm1lbnQiOiAiY2VudGVyIiwKICAgICAgICAgICItLWJvdC1idXR0b25zLXZlcnRpY2FsLXNwYWNpbmciOiAiNSUiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbnMtaG9yaXpvbnRhbC1zcGFjaW5nIjogIjMlIiwKICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgIi0tYm90LWhlYWQtY29sb3IiOiBib3RBdHRyaWJ1dGVzLmhlYWRfY29sb3IsCiAgICAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6IHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lLAogICAgICAgICItLWJvdC1idXR0b24tY29sb3IiOiB0aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSwKICAgICAgICAiLS1ib3QtbGluay1jb2xvciI6IHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lLAogICAgICAgICItLXVzZXItcmVzcG9uc2UtYmctY29sb3IiOiB0aGlzLmNoYXRfd2lkZ2V0LnVzZXJfcmVzcG9uc2VfYmdfY29sb3IsCiAgICAgICAgIi0tYm90LWJ1dHRvbi1iYWNrZ3JvdW5kIjogdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUsCiAgICAgICAgIi0tYm90LWJ1dHRvbnMtYWxpZ25tZW50IjogdGhpcy5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50LnZhbHVlLAogICAgICAgICItLWJvdC1idXR0b25zLXZlcnRpY2FsLXNwYWNpbmciOiBgJHt0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl92ZXJ0aWNhbF9zcGFjaW5nfSVgLAogICAgICAgICItLWJvdC1idXR0b25zLWhvcml6b250YWwtc3BhY2luZyI6IGAke3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZ30lYCwKICAgICAgfTsKICAgIH0sCiAgICBib3RfaW1nX2ljb24oKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgImJhY2tncm91bmQtaW1hZ2UiOiBgdXJsKCR7dGhpcy5jaGF0X3dpZGdldC5ib3RfaWNvbn0pYCwKICAgICAgfTsKICAgIH0sCiAgICBjaGF0X2JvdF9iYWNrZ3JvdW5kX2ltYWdlKCkgewogICAgICByZXR1cm4gewogICAgICAgICJiYWNrZ3JvdW5kLWltYWdlIjogYHVybCgke3RoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2V9KWAsCiAgICAgIH07CiAgICB9LAogICAgLy8gY3NzUHJvcHMoKSB7CiAgICAvLyAgIGlmICh0aGlzLmNvbXBhbnlpZCA9PT0gInJldGFpbGlnZW5jZTg0OTI2IikgewogICAgLy8gICAgIHJldHVybiB7CiAgICAvLyAgICAgICAiLS1ib3QtaGVhZC1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgICAgIi0tYm90LWJ1dHRvbi1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgICAgIi0tYm90LWxpbmstY29sb3IiOiAiIzk5MDAwMGQxIiwKICAgIC8vICAgICB9OwogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiB7CiAgICAvLyAgICAgIi0tYm90LWhlYWQtY29sb3IiOiAiI0ZGRkZGRiIsCiAgICAvLyAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6ICIjMjczNjc5IiwKICAgIC8vICAgICAiLS1ib3QtYnV0dG9uLWNvbG9yIjogIiMyNzM2NzkiLAogICAgLy8gICAgICItLWJvdC1saW5rLWNvbG9yIjogIiMyNzM2NzkiLAogICAgLy8gICB9OwogICAgLy8gfSwKICB9LAogIHdhdGNoOiB7CiAgICBpbnRlbnQobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgIT09ICJOb19pbnRlbnQiKSB7CiAgICAgICAgdGhpcy5pbnRlbnRfcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlc19tYXBbbmV3VmFsXTsKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBheGlvcwogICAgICAucG9zdCgKICAgICAgICBhcGlfY2FsbHMuZ2V0X3VuYW5zd2VyZWRfdXJsKCksCiAgICAgICAgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBpc0Ryb3Bkb3duOiAiVHJ1ZSIsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIC8vIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgICAgIC8vICAgdGhpcy5pbnRlbnRfbGlzdC5wdXNoKAogICAgICAgIC8vICAgICByZXNwb25zZS5kYXRhWzBdW2ldLnJlcGxhY2UodGhpcy5jb21wYW55aWQgKyAiXyIsICIiKQogICAgICAgIC8vICAgKTsKICAgICAgICAvLyB9CiAgICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhLmRhdGFbMF0pIHsKICAgICAgICAgIHRoaXMuaW50ZW50X2xpc3QucHVzaCgKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhWzBdW2ldCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGFwaV9jYWxscy5sb2FkX3F1ZXN0aW9uX3Jlc3BvbnNlX3VybCgpLAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgcm9sZTogdGhpcy51c2VyX3JvbGUsCiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICBwYWdlX25vOiAxLAogICAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLmludGVudF9saXN0Lmxlbmd0aCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYocmVzLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgbGV0IGludGVudHNMaXN0ID0gcmVzLmRhdGEuZGF0YS5zaG93X2ludGVudF9maWVsZC5pbnRlbnRfaW50ZW50bGlzdDsKICAgICAgICAgICAgICBsZXQgaW50ZW50UmVzcG9uc2VzID0KICAgICAgICAgICAgICAgIHJlcy5kYXRhLmRhdGEuc2hvd19pbnRlbnRfZmllbGQuaW50ZW50X3Jlc3BvbnNlbGlzdDsKICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IGludGVudFJlc3BvbnNlcy5sZW5ndGg7IGkgPCBuOyBpICs9IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VzX21hcFsKICAgICAgICAgICAgICAgICAgaW50ZW50c0xpc3RbaV0ucmVwbGFjZShgJHt0aGlzLmNvbXBhbnlpZH1fYCwgIiIpCiAgICAgICAgICAgICAgICBdID0gaW50ZW50UmVzcG9uc2VzW2ldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmKHJlcy5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gdGhpcy5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSl7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgIGlmICgKICAgICAgICAgIChCb29sZWFuKGUucmVzcG9uc2UpKSAmJiAoCiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KQogICAgICAgICkgewogICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgLy8gaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIpKSB7CiAgICAgIGF4aW9zCiAgICAgIC5wb3N0KAogICAgICAgIGFwaV9jYWxscy5nZXRfd2lkZ2V0X3NldHRpbmdzKCksCiAgICAgICAgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNTaG93OiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmKHRoaXMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSl7CgogICAgICAgIHRoaXMuY2hhdF93aWRnZXQudGl0bGUgPSByZXNwb25zZS5kYXRhLmRhdGEuVGl0bGU7CiAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gcmVzcG9uc2UuZGF0YS5kYXRhLkltYWdlVXJsOwogICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lID0gcmVzcG9uc2UuZGF0YS5kYXRhLkJ1dHRvblRoZW1lOwogICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gcmVzcG9uc2UuZGF0YS5kYXRhLkJvdFRoZW1lOwogICAgICAgIHRoaXMuY2hhdF93aWRnZXQudXNlcl9yZXNwb25zZV9iZ19jb2xvciA9IHJlc3BvbnNlLmRhdGEuZGF0YS5Vc2VyUmVzcG9uc2VCZ0NvbG9yID09PSB1bmRlZmluZWQgPwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQudXNlcl9yZXNwb25zZV9iZ19jb2xvciA6IHJlc3BvbnNlLmRhdGEuZGF0YS5Vc2VyUmVzcG9uc2VCZ0NvbG9yOwogICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2FsaWdubWVudCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5Cb3RTdHlsaW5nOwogICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPSByZXNwb25zZS5kYXRhLmRhdGEuQm90SW1hZ2VVcmw7CiAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9CiAgICAgICAgICByZXNwb25zZS5kYXRhLmRhdGEuQnV0dG9uU3R5bGluZy52ZXJ0aWNhbDsKICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPQogICAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhLkJ1dHRvblN0eWxpbmcuaG9yaXpvbnRhbDsKICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJvdF9iYWNrZ3JvdW5kX2ltYWdlID0gcmVzcG9uc2UuZGF0YS5kYXRhLkJnSW1hZ2VVcmw7CiAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5IZWFkZXJUaGVtZTsKICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmlzX3Bvd2VyZWRfYnlfY2Vuc2UgPSByZXNwb25zZS5kYXRhLmRhdGEuSXNQb3dlcmVkQnlDZW5zZSA9PT0gdW5kZWZpbmVkID8gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuaXNfcG93ZXJlZF9ieV9jZW5zZSA6IHJlc3BvbnNlLmRhdGEuZGF0YS5Jc1Bvd2VyZWRCeUNlbnNlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2FsaWdubWVudCA9ICJmbGV4LWVuZCI7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPSAiL2ltZy9Cb3RfaW1nLnBuZyI7CiAgICAgICAgfQogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIiwgdGhpcy5jaGF0X3dpZGdldCk7CiAgICAgICAgbGV0IHN0eWxpbmdfdmFsdWUgPSByZXNwb25zZS5kYXRhLmRhdGEuSGVhZGVyU3R5bGluZy52YWx1ZTsKICAgICAgICBsZXQgdGVtcF9zdHJpbmcgPSAiIjsKICAgICAgICBpZiAoc3R5bGluZ192YWx1ZSA9PT0gImxlZnQiKSB7CiAgICAgICAgICB0ZW1wX3N0cmluZyA9ICJtYXJnaW4tbGVmdDogMDttYXJnaW4tcmlnaHQ6IGF1dG87IjsKICAgICAgICB9IGVsc2UgaWYgKHN0eWxpbmdfdmFsdWUgPT09ICJyaWdodCIpIHsKICAgICAgICAgIHRlbXBfc3RyaW5nID0gIm1hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogMDsiOwogICAgICAgIH0gZWxzZSBpZiAoc3R5bGluZ192YWx1ZSA9PT0gImNlbnRlciIpIHsKICAgICAgICAgIHRlbXBfc3RyaW5nID0gIm1hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wX3N0cmluZyA9ICJtYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87IjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5zdHlsZSA9CiAgICAgICAgICAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOmF1dG87bWF4LXdpZHRoOjEwMCUgIWltcG9ydGFudDsiICsKICAgICAgICAgIHRlbXBfc3RyaW5nOwogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBpZiAoZS5yZXNwb25zZSkgewogICAgICAgICAgaWYgKAogICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lID09ICJnb2d5YiIpIHsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5zdHlsZSA9CiAgICAgICAgICAgICAgIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDo2MHB4O21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmxvZ28gPSAiL2ltZy9jZW5zZV9pbWFnZS5wbmciOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl92ZXJ0aWNhbF9zcGFjaW5nID0gIjUiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPSAiMyI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UgPSAiIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZCA9ICIjZmZmZmZmIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUgPSAiIzFkYWFlMSI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gIiMyNzM2NzkiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LnVzZXJfcmVzcG9uc2VfYmdfY29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lID09ICJNVCBDYXJlIgogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQubG9nbyA9ICIvaW1nL3JvYm9tYXRlX2xvZ28ucG5nIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5zdHlsZSA9CiAgICAgICAgICAgICAgIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6NTBweDt3aWR0aDo5NXB4O21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl92ZXJ0aWNhbF9zcGFjaW5nID0gIjUiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPSAiMyI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UgPSAiIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZCA9ICIjZmZmZmZmIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUgPSAiIzFkYWFlMSI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gIiMyNzM2NzkiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LnVzZXJfcmVzcG9uc2VfYmdfY29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmxvZ28gPSAiL2ltZy9jZW5zZV9pbWFnZS5wbmciOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0KICAgICAgICAgICAgICAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOjYwcHg7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPSAiL2ltZy9Cb3RfaW1nLnBuZyI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmcgPSAiNSI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZyA9ICIzIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSA9ICIiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmhlYWRlcl9iYWNrZ3JvdW5kID0gIiNmZmZmZmYiOwogICAgICAgICAgICB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl90aGVtZSA9ICIjMWRhYWUxIjsKICAgICAgICAgICAgdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUgPSAiIzI3MzY3OSI7CiAgICAgICAgICAgIHRoaXMuY2hhdF93aWRnZXQudXNlcl9yZXNwb25zZV9iZ19jb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIiwgdGhpcy5jaGF0X3dpZGdldCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIC8vIH0gZWxzZSB7CiAgICAvLyAgIHRoaXMuY2hhdF93aWRnZXQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIpOwogICAgLy8gICB0aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDphdXRvIjsKICAgIC8vIH0KICAgIHRoaXMuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgfSwKICBtb3VudGVkKCkgewogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMuZnJlZXplX3BvcnRhbCgpOwogICAgfSwgMTAwMCk7CiAgICAgIAogIC8vICAgLy8gLy8gY29uc29sZS5sb2coImNvbXBhbnlpZCIsIHRoaXMuY29tcGFueWlkKTsKICAgICB0aGlzLiRyb290LiRvbigiY2hhdHNjcmVlbkRpc2FibGVkIiwgKGRhdGEpID0+ewogICAgICBpZihkYXRhPT09dHJ1ZSl7CiAgICAgICAgdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSkKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuJHJvb3QuJG9uKCJzZW5kX21vZGVsX3N0YXR1cyIsIGRhdGEgPT57CiAgICAgIGlmIChkYXRhID09IHRydWUpewogICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgICAgIH0KICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja19pbnRlbnRfY29yZV9tb2RlbF9zdGF0dXMoKXsKICAgICAgdmFyIG1vZGVsX3N0YXR1cyA9IHRoaXMuJHNlc3Npb24uZ2V0KCJNb2RlbFN0YXR1cyIpOwogICAgICBpZiAobW9kZWxfc3RhdHVzID09ICJObyBGYWlsdXJlIil7CiAgICAgIHRoaXMuaW50ZW50X2NvcmVfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOwogICAgICB9CiAgICAgIGVsc2UgaWYoQm9vbGVhbihtb2RlbF9zdGF0dXMuaW50ZW50X21vZGVsKSA9PT0gdHJ1ZQogICAgICAgIHx8IEJvb2xlYW4obW9kZWxfc3RhdHVzLmRpYWxvZ3VlX21vZGVsKSA9PT0gdHJ1ZSkKICAgICAgICB7CiAgICAgICAgaWYobW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIgfHwgbW9kZWxfc3RhdHVzLmRpYWxvZ3VlX21vZGVsID09ICJJblByb2dyZXNzIil7CiAgICAgICAgICB0aGlzLmludGVudF9jb3JlX21vZGVsX2lucHJvZ3Jlc3MgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBlbHNlewogICAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7IAogICAgICB9CiAgICB9LAogICAgc2hvd19tb2RlbF9wcm9ncmVzcyhpbmRleCl7CiAgICAgIGlmKHRoaXMuaW50ZW50X2NvcmVfbW9kZWxfaW5wcm9ncmVzcyA9PSB0cnVlKXsKICAgICAgICAgaWYgKGluZGV4ID09ICdzdHlsZScpewogICAgICAgICAgICByZXR1cm4gImN1cnNvcjogbm90LWFsbG93ZWQiOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihpbmRleCA9PSAndGl0bGUnKXsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy50bHQoJ2FsdGVyX3RyYWluaW5nX3Byb2dyZXNzX21zZycpOwogICAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzaG93X3BvcHVwKCkgewogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zdG9wID0gZmFsc2U7CiAgICB9LAogICAgc2VuZF9tZXNzYWdlKCkgewogICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgc2VuZGluZzogdHJ1ZSwKICAgICAgICBzZW50OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgIH0pOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICBpZiAodGhpcy50b19zZW5kICE9ICIiICYmIHRoaXMudG9fc2VuZCAhPSBudWxsKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICBhcGlfY2FsbHMuY2hhdF91cmwoKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgcXVlc3Rpb246IHRoaXMudG9fc2VuZCwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLkVNUFRZX0RBVEFfTU9ERUxTLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUl9NT0RFTFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoKTsKICAgICAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSB0aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRV9NT0RFTFMuTVNHX0NPREUpewogICAgICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEuTXNnLkludGVudC5yZXBsYWNlKAogICAgICAgICAgICAgICAgLy8gICB0aGlzLmNvbXBhbnlpZCArICJfIiwKICAgICAgICAgICAgICAgIC8vICAgIiIKICAgICAgICAgICAgICAgIC8vICksCiAgICAgICAgICAgICAgICByZWNlaXZlZDogcmVzcG9uc2UuZGF0YS5kYXRhLkludGVudCwKICAgICAgICAgICAgICAgIEVudGl0aWVzOiByZXNwb25zZS5kYXRhLmRhdGEuRW50aXRpZXMsCiAgICAgICAgICAgICAgICBjb25maWRlbmNlOiByZXNwb25zZS5kYXRhLmRhdGEuSW50ZW50X3ZhbHVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgLy8gdGhpcy5pbnRlbnRfdmFsdWUgPSByZXNwb25zZS5kYXRhLk1zZy5JbnRlbnQucmVwbGFjZSgKICAgICAgICAgICAgICAvLyAgIHRoaXMuY29tcGFueWlkICsgIl8iLAogICAgICAgICAgICAgIC8vICAgIiIKICAgICAgICAgICAgICAvLyApOyAgCiAgICAgICAgICAgICAgdGhpcy5pbnRlbnRfdmFsdWUgPSByZXNwb25zZS5kYXRhLmRhdGEuSW50ZW50OwogICAgICAgICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMudG9fc2VuZCA9ICIiOwogICAgfSwKICAgIGNsaWNrX3Byb21wdCh0eXBlKSB7CiAgICAgIHZhciBkaXZjbGlja3BvcHVwID0gZXZlbnQudGFyZ2V0LmlubmVyVGV4dDsKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgfSwgNTAwKTsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICh0eXBlICE9ICJjb2xsYXBzaWJsZSIpIHsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnByb21wdF91cmwoKSwgewogICAgICAgICAgICB1aWQ6ICJjZW5zZSIsCiAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNoYXQ6IGV2ZW50LnRhcmdldC5pbm5lclRleHQsCiAgICAgICAgICAgIGxldmVsOiBldmVudC50YXJnZXQuYXR0cmlidXRlcy52YWx1ZS5ub2RlVmFsdWUsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvbGxhcHNpYmxlID09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLmNyZWF0ZV9jaGF0KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIHRoaXMubGV2ZWwgPSByZXNwb25zZS5kYXRhLmxldmVsOwogICAgICAgICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJjb2xsYXBzaWJsZSIpIHsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoYXBpX2NhbGxzLnByb21wdF91cmwoKSwgewogICAgICAgICAgICB1aWQ6ICJjZW5zZSIsCiAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNoYXQ6ICIiLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICB0aGlzLmNoYXQucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaW50ZW50X2ZpZWxkcyhpbmRleCkgewogICAgICB0aGlzLmluZGV4ID0gaW5kZXg7CiAgICAgIHRoaXMuaW50ZW50ID0gdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZDsKICAgICAgaWYgKHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPT0gIk5vX2ludGVudCIpIHsKICAgICAgICB0aGlzLmludGVudCA9ICIiOwogICAgICB9CiAgICB9LAogICAgZWRpdF9zdWJtaXQoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLmludGVudCA9PSAiIiB8fCB0aGlzLmludGVudF92YWx1ZSA9PSAiIikgewogICAgICAgIHRvYXN0ci5lcnJvcih0aGlzLnRsdCgnZW50ZXJfdmFsdWVfbXNnJykpOwogICAgICB9IGVsc2UgaWYgKAogICAgICAgICF0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgJiYKICAgICAgICB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIKICAgICAgKSB7CiAgICAgICAgdG9hc3RyLndhcm5pbmcodGhpcy50bHQoJ2ludGVudF9wYWdlX3NlbGVjdF9jb21wYW55X21zZycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoCiAgICAgICAgICAgIGFwaV9jYWxscy5lZGl0X2ludGVudF91cmwoKSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICBxdWVzdGlvbjogdGhpcy5jaGF0W3RoaXMuaW5kZXggLSAxXS5zZW50LAogICAgICAgICAgICAgIC8vIGVkaXRpbnRlbnQ6IHRoaXMuY29tcGFueWlkICsgIl8iICsgdGhpcy5pbnRlbnQsCiAgICAgICAgICAgICAgLy8gaW50ZW50dmFsdWU6IHRoaXMuY29tcGFueWlkICsgIl8iICsgdGhpcy5pbnRlbnRfdmFsdWUsCiAgICAgICAgICAgICAgZWRpdGludGVudDogdGhpcy5pbnRlbnQsCiAgICAgICAgICAgICAgaW50ZW50dmFsdWU6IHRoaXMuaW50ZW50X3ZhbHVlLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICB0aGlzLm5ld19xdWVzdGlvbnMgKz0gMTsKICAgICAgICAgICAgdmFyIGNoYXRfbmFtZSA9ICJDaGF0TWVzc2FnZSIgKyB0aGlzLmNvbXBhbnluYW1lOwogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IHRoaXMuYXBpX3N0YXR1c19jb2RlLklOVEVOVF9FRElUX1NVQ0NFU1NfMzAwMF9NT0RFTFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcyh0aGlzLnRsdCgndmFsdWVzX3VwZGF0ZWRfbXNnJykpOwogICAgICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KGNoYXRfbmFtZSwgdGhpcy5tZXRhKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY2hhdFt0aGlzLmluZGV4XS5yZWNlaXZlZCA9IHRoaXMuaW50ZW50OwogICAgICAgICAgICAkKCIjaW50ZW50bW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJCgiI2ludGVudG1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYnV0dG9uX2ZpbGwoKSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInN2ZyIpLnN0eWxlLmZpbGwgPSAiIzI3MzY3OSI7CiAgICAgIGlmICh0aGlzLnRvX3NlbmQgPT0gIiIpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdmciKS5zdHlsZS5maWxsID0gIiM4YThhOGE2MyI7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVfY2hhdChtZXNzYWdlKSB7CiAgICAgIHRoaXMuY2hhdC5wdXNoKG1lc3NhZ2UpOwogICAgfSwKICAgIHVwZGF0ZV9zY3JvbGxiYXIodHlwZSkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5Iikuc2Nyb2xsVG9wID0KICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGF0LWJvZHkiKS5zY3JvbGxIZWlnaHQgLQogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLmxhc3RDaGlsZC5zY3JvbGxIZWlnaHQ7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIHRyYWluX2ludGVudF9tb2RlbCgpIHsKICAgICAgaWYoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCl7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLm5ld19xdWVzdGlvbnMgPCAxKSB7CiAgICAgICAgdG9hc3RyLmVycm9yKHRoaXMudGx0KCdlZGl0X29uZV9xdWVzdGlvbl9tc2cnKSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZXdfcXVlc3Rpb25zID49IDEpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnc3dhbF9hbGVydF9tc2cnKSwKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCd0cmFpbl9tb2RlbF9tc2cnKSwKICAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdjb25maXJtX21zZycpLAogICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlLAogICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgICAgYXBpX2NhbGxzLnRyYWluX2ludGVudF9tb2RlbCgpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikKICAgICAgICAgICAgICAgICAgICAuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgICAgZXBvY2hzOiAxMDAsCiAgICAgICAgICAgICAgICAgIHVwZGF0ZV9tb2RlbDogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gNDA0NikgewogICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhyZXNwb25zZS5kYXRhLk1TRyk7CiAgICAgICAgICAgICAgICAgIHRoaXMud2FudF9zdGF0dXMgPSB0cnVlOwogICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJ3YW50X21vZGVsX3N0YXR1cyIsdGhpcy53YW50X3N0YXR1cyk7CiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gMTAzNCkgewogICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IocmVzcG9uc2UuZGF0YS5NU0cpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},null]}