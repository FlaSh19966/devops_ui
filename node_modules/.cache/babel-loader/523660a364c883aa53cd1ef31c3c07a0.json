{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/analytics/components/TabulatorTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/analytics/components/TabulatorTable.vue","mtime":1643027096188},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRhYnVsYXRvciBmcm9tICJ0YWJ1bGF0b3ItdGFibGVzIjsKCnZhciBkMyA9IHJlcXVpcmUoImQzLTMiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGFidWxhdG9yVGFibGUiLAogIHByb3BzOiB7CiAgICBkYXRhOiBBcnJheSwKICAgIHhLZXk6IFN0cmluZywKICAgIHlLZXk6IFN0cmluZywKICAgIGN1cnJlbmN5X2tleTogU3RyaW5nLAogICAgaGVhZGluZzogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciB2bSA9IHRoaXM7CiAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbmN5X2tleSk7IC8vZGVmaW5lIHNvbWUgc2FtcGxlIGRhdGEKCiAgICB2YXIgdGFibGVkYXRhID0gW3sKICAgICAgaWQ6IDEsCiAgICAgIG5hbWU6ICJPbGkgQm9iIiwKICAgICAgYWdlOiAiMTIiLAogICAgICBjb2w6ICJyZWQiLAogICAgICBkb2I6ICIiCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICBuYW1lOiAiTWFyeSBNYXkiLAogICAgICBhZ2U6ICIxIiwKICAgICAgY29sOiAiYmx1ZSIsCiAgICAgIGRvYjogIjE0LzA1LzE5ODIiCiAgICB9LCB7CiAgICAgIGlkOiAzLAogICAgICBuYW1lOiAiQ2hyaXN0aW5lIExvYm93c2tpIiwKICAgICAgYWdlOiAiNDIiLAogICAgICBjb2w6ICJncmVlbiIsCiAgICAgIGRvYjogIjIyLzA1LzE5ODIiCiAgICB9LCB7CiAgICAgIGlkOiA0LAogICAgICBuYW1lOiAiQnJlbmRvbiBQaGlsaXBzIiwKICAgICAgYWdlOiAiMTI1IiwKICAgICAgY29sOiAib3JhbmdlIiwKICAgICAgZG9iOiAiMDEvMDgvMTk4MCIKICAgIH0sIHsKICAgICAgaWQ6IDUsCiAgICAgIG5hbWU6ICJNYXJncmV0IE1hcm1hanVrZSIsCiAgICAgIGFnZTogIjE2IiwKICAgICAgY29sOiAieWVsbG93IiwKICAgICAgZG9iOiAiMzEvMDEvMTk5OSIKICAgIH1dOwogICAgdmFyIHN1bV95dmFsID0gMDsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICBzdW1feXZhbCA9IHN1bV95dmFsICsgdGhpcy5kYXRhW2ldW3RoaXMueUtleV07CiAgICB9CgogICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuZGF0YS5sZW5ndGg7IF9pKyspIHsKICAgICAgdGhpcy5kYXRhW19pXS5wZXJjZW50ID0gdGhpcy5kYXRhW19pXVt0aGlzLnlLZXldIC8gc3VtX3l2YWwgKiAxMDA7CiAgICB9IC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgIHRoaXMuZGF0YVtpXVt0aGlzLnlLZXldID0gTnVtYmVyKHRoaXMuZGF0YVtpXVt0aGlzLnlLZXldLnRvRml4ZWQoMikpOwogICAgLy8gfQoKCiAgICB2YXIgY29sdW1ucyA9IFt7CiAgICAgIHRpdGxlOiB0aGlzLnhLZXksCiAgICAgIGZpZWxkOiB0aGlzLnhLZXkKICAgIH0sIHsKICAgICAgdGl0bGU6IHRoaXMueUtleSwKICAgICAgZmllbGQ6IHRoaXMueUtleSwKICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIoY2VsbCwgZm9ybWF0dGVyUGFyYW1zLCBvblJlbmRlcmVkKSB7CiAgICAgICAgLy9jZWxsIC0gdGhlIGNlbGwgY29tcG9uZW50CiAgICAgICAgLy9mb3JtYXR0ZXJQYXJhbXMgLSBwYXJhbWV0ZXJzIHNldCBmb3IgdGhlIGNvbHVtbgogICAgICAgIC8vb25SZW5kZXJlZCAtIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZm9ybWF0dGVyIGhhcyBiZWVuIHJlbmRlcmVkCiAgICAgICAgcmV0dXJuIHZtLmN1cnJlbmN5X2tleSArICcgJyArIGNlbGwuZ2V0VmFsdWUoKS50b0ZpeGVkKDIpOwogICAgICB9LAogICAgICB0b29sdGlwOiBmdW5jdGlvbiB0b29sdGlwKGNlbGwpIHsKICAgICAgICByZXR1cm4gY2VsbC5nZXREYXRhKCkucGVyY2VudC50b0ZpeGVkKDIpID09ICIwLjAwIiA/ICIiLmNvbmNhdChjZWxsLmdldERhdGEoKS5wZXJjZW50KSA6ICIiLmNvbmNhdChjZWxsLmdldERhdGEoKS5wZXJjZW50LnRvRml4ZWQoMiksICIlIik7CiAgICAgIH0KICAgIH1dOyAvL2NyZWF0ZSBUYWJ1bGF0b3Igb24gRE9NIGVsZW1lbnQgd2l0aCBpZCAidGFidWxhdG9yLXRhYmxlIgoKICAgIHZhciB0YWJsZSA9IG5ldyBUYWJ1bGF0b3IoIiN0YWJ1bGF0b3ItdGFibGUiLCB7CiAgICAgIG1heEhlaWdodDogIjUwMHB4IiwKICAgICAgZGF0YTogdGhpcy5kYXRhLAogICAgICAvL2Fzc2lnbiBkYXRhIHRvIHRhYmxlCiAgICAgIGxheW91dDogImZpdENvbHVtbnMiLAogICAgICAvL2ZpdCBjb2x1bW5zIHRvIHdpZHRoIG9mIHRhYmxlIChvcHRpb25hbCkKICAgICAgY29sdW1uczogY29sdW1ucywKICAgICAgdG9vbHRpcEdlbmVyYXRpb25Nb2RlOiAiaG92ZXIiCiAgICB9KTsgLy90cmlnZ2VyIGRvd25sb2FkIG9mIGRhdGEuY3N2IGZpbGUKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaGVhZGluZyk7CiAgICAvLyBkb2N1bWVudAogICAgLy8gICAuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkLWNzdiIpCiAgICAvLyAgIC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgIC8vICAgICB0YWJsZS5kb3dubG9hZCgiY3N2IiwgYCR7dm0uaGVhZGluZyArIG5ldyBEYXRlKCl9LmNzdmApOwogICAgLy8gICB9KTsKICB9Cn07"},{"version":3,"sources":["TabulatorTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"text-right\">\n      <!-- <button class=\"btn btn-primary mb-1\" id=\"download-csv\">Download As CSV</button> -->\n      <!-- <i class=\"fa fa-file-excel-o\"></i>\n      <i class=\"fas fa-file-excel\" aria-hidden=\"true\" id=\"download-csv\"></i>-->\n    </div>\n    <div id=\"tabulator-table\"></div>\n  </div>\n</template>\n\n<script>\nimport Tabulator from \"tabulator-tables\";\nconst d3 = require(\"d3-3\");\n\nexport default {\n  name: \"TabulatorTable\",\n  props: {\n    data: Array,\n    xKey: String,\n    yKey: String,\n    currency_key: String,\n    heading: String,\n  },\n  data() {\n    return {};\n  },\n  mounted() {\n    const vm = this;\n    console.log(this.currency_key);\n    //define some sample data\n    var tabledata = [\n      { id: 1, name: \"Oli Bob\", age: \"12\", col: \"red\", dob: \"\" },\n      { id: 2, name: \"Mary May\", age: \"1\", col: \"blue\", dob: \"14/05/1982\" },\n      {\n        id: 3,\n        name: \"Christine Lobowski\",\n        age: \"42\",\n        col: \"green\",\n        dob: \"22/05/1982\",\n      },\n      {\n        id: 4,\n        name: \"Brendon Philips\",\n        age: \"125\",\n        col: \"orange\",\n        dob: \"01/08/1980\",\n      },\n      {\n        id: 5,\n        name: \"Margret Marmajuke\",\n        age: \"16\",\n        col: \"yellow\",\n        dob: \"31/01/1999\",\n      },\n    ];\n    var sum_yval = 0;\n    for (let i = 0; i < this.data.length; i++) {\n      sum_yval = sum_yval + this.data[i][this.yKey];\n    }\n    for (let i = 0; i < this.data.length; i++) {\n      this.data[i].percent = (this.data[i][this.yKey] / sum_yval) * 100;\n    }\n\n    // for (let i = 0; i < this.data.length; i++) {\n    //   this.data[i][this.yKey] = Number(this.data[i][this.yKey].toFixed(2));\n    // }\n    let columns = [\n      { title: this.xKey, field: this.xKey },\n      {\n        title: this.yKey,\n        field: this.yKey,\n        formatter: function (cell, formatterParams, onRendered) {\n          //cell - the cell component\n          //formatterParams - parameters set for the column\n          //onRendered - function to call when the formatter has been rendered\n          return vm.currency_key + ' ' + cell.getValue().toFixed(2);\n        },\n        tooltip(cell) {\n          return cell.getData().percent.toFixed(2) == \"0.00\"\n            ? `${cell.getData().percent}`\n            : `${cell.getData().percent.toFixed(2)}%`;\n        },\n      },\n    ];\n    //create Tabulator on DOM element with id \"tabulator-table\"\n    var table = new Tabulator(\"#tabulator-table\", {\n      maxHeight: \"500px\",\n      data: this.data, //assign data to table\n      layout: \"fitColumns\", //fit columns to width of table (optional)\n      columns: columns,\n      tooltipGenerationMode: \"hover\",\n    });\n\n    //trigger download of data.csv file\n    // console.log(this.heading);\n    // document\n    //   .getElementById(\"download-csv\")\n    //   .addEventListener(\"click\", function () {\n    //     table.download(\"csv\", `${vm.heading + new Date()}.csv`);\n    //   });\n  },\n};\n</script>"],"sourceRoot":"src/portal/analytics/components"}]}