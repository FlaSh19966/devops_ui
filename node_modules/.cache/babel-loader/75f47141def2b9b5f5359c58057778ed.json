{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Newtestbot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Newtestbot.vue","mtime":1645594423491},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50MzItYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvdmltYWxlc2gvQ0VOU0UvY2hhdGJvdC1wb3J0YWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGZpbmdlcnByaW50IGZyb20gIkAvcG9ydGFsL2NvbXBvbmVudHMvZmluZ2VycHJpbnQiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBTb2NrZXQgfSBmcm9tICJwaG9lbml4LXNvY2tldCI7CmltcG9ydCB7IHNldFRpbWVvdXQsIHNldEludGVydmFsIH0gZnJvbSAidGltZXJzIjsKaW1wb3J0IFJlY29yZGVyIGZyb20gIkAvcG9ydGFsL2NvbXBvbmVudHMvcmVjb3JkZXIiOwppbXBvcnQgU2Nyb2xsYmFyIGZyb20gInNtb290aC1zY3JvbGxiYXIiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IjsKaW1wb3J0IGRlYm91bmNlIGZyb20gInZ1ZS1kZWJvdW5jZS9zcmMvZGVib3VuY2UiOwppbXBvcnQgY291bnRyeV9jb2RlIGZyb20gIi4uL0Rhc2hib2FyZC9jb3VudHJ5X2NvZGVfZGF0YS5qc29uIjsKaW1wb3J0IENvdW50cnlDb2RlcyBmcm9tICIuLi9EYXNoYm9hcmQvQ291bnRyeUNvZGVzLmpzb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNsb3NlZC1mb3JtLXJlc3BvbnNlLWJvdCIsCiAgY29tcG9uZW50czogewogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIHBvcHVwX21zZzogIllvdSBjYW4gdHlwZSDigJhSZXN0YXJ04oCdICBhdCA8L2JyPmFueSAgdGltZSB0byBnZXQgYmFjazwvYnI+IHRvIHRoZSBNYWluIE1lbnUiLAogICAgICByZWZyZXNoZWRfb3JfY2xvc2VkOiB0cnVlLAogICAgICBxdXNfYW5zOiAiYW5zd2VycyIsCiAgICAgIHRvX3NlbmQ6ICIiLAogICAgICBjZW5zZV9lbnF1aXJ5OiBmYWxzZSwKICAgICAgaXNfdHlwaW5nOiBmYWxzZSwKICAgICAgdXNlcl9uYW1lOiAiIiwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGNoYXQ6IFtdLAogICAgICBmaW5nZXJwcmludDogbnVsbCwKICAgICAgYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlOiB0aGlzLiRzZXNzaW9uLmdldCgiUmVzcG9uc2VCb3RUb2tlbiIpID8gdGhpcy4kc2Vzc2lvbi5nZXQoIlJlc3BvbnNlQm90VG9rZW4iKSA6ICIiLAogICAgICBmaXJzdF9jbGljazogZmFsc2UsCiAgICAgIGxldmVsOiAwLAogICAgICByZWNvZ25pdGlvbjogbnVsbCwKICAgICAganNvbl9kYXRhOiB7CiAgICAgICAgY3JlYXRlX2FwcG9pbnRtZW50OiAneyJVc2VyIjogeyJQaHlzaWNpYW4iOiB7IklEIjogIkRUMDAwMDAwMDAwMDAwMDAwMjM3In0sIlVzZXJOYW1lIjoiYWMiLCJJRCI6IlVTMDAwMDAwMDAwMDAwMDAwMTM4IiwiQWNjb3VudCI6IHsiSUQiOiAiQ08wMDAyMyJ9LCJUb2tlbiI6ICJaMXJTR0dtMFhwTVdqdDNnaUFFclBQV1o4NFRRTjlGc0ZNQkxzVSsvTEF1Nnl1YWxNZzZFUDJic3J3WmpMUHdtM2o0RHBQY0djNUxjSXAzTmpnZlVzQT09IiwiU3BlY2lhbHR5IjogeyJJRCI6ICJQRzAwMDAwMDAwMDAwMDAwMDE0MSIsICJOYW1lIjogIkFDIiwgIkNvZGUiOiAiQUMifSwiRG9tYWluIjogImdvZ3JlZW5iaWxscy5jb20ifSwiQXBwb2ludG1lbnQiOiB7IkRhdGUiOiAiMDgvMzAvMjAxOCIsICJJc0pTT05Ob3RlIjogMCwgIlBhdGllbnQiOiB7IkNhc2VJRCI6ICIifX19JywKICAgICAgICB2aXNpdHNfZmluYWxpemVkOiAneyJVc2VyIjogeyJQaHlzaWNpYW4iOiB7IklEIjogIkRUMDAwMDAwMDAwMDAwMDExODg2In0sIlVzZXJOYW1lIjogImNoIiwiSUQiOiAiVVMwMDAwMDAwMDAwMDAwMDAxNDMiLCJBY2NvdW50Ijp7IklEIjoiQ08wMDAyMyJ9LCJUb2tlbiI6ImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUoxYzJWeUlqb2lZWFprYUhWMElpd2laWGh3SWpveE5USTVORGd5TmpZemZRLnYxYzBIYnVXdVpYWHBKZkRyWFZjMUhQVnVmZmJuR2NMcWtwZzB6bTZBb1EiLCJTcGVjaWFsdHkiOiB7IklEIjogIlBHMDAwMDAwMDAwMDAwMDAwMTQyIiwiQ29kZSI6ICJjaCJ9LCJEb21haW4iOiAiZ3JlZW55b3VyYmlsbHMuY29tIn0sIlNlYXJjaFBhcmFtZXRlcnMiOiB7IlN0YXR1cyI6ICIiLCJPcmRlckJ5IjogIiIsIkZyb21EYXRlIjogIjAxLzAxLzIwMTgiLCJDb3VudCI6ICIxMCIsIlNlYXJjaFRleHQiOiAiIiwiVHlwZU9mVmlzaXQiOiAiQUxMIiwiU29ydE9yZGVyIjogImFwcG9pbnRtZW50IiwiU3RhcnRJbmRleCI6ICIxIiwiRW5kSW5kZXgiOiAiMTAiLCJUb0RhdGUiOiAiMDgvMDYvMjAxOCJ9fScsCiAgICAgICAgYXBwb2ludG1lbnRzX2NvdW50OiAneyJVc2VyIjogeyJQaHlzaWNpYW4iOiB7IklEIjogIkRUMDAwMDAwMDAwMDAwMDExODg2In0sIlVzZXJOYW1lIjogImNoIiwiSUQiOiAiVVMwMDAwMDAwMDAwMDAwMDAxNDMiLCJBY2NvdW50Ijp7IklEIjoiQ08wMDAyMyJ9LCJUb2tlbiI6ImV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUoxYzJWeUlqb2lZWFprYUhWMElpd2laWGh3SWpveE5USTVORGd5TmpZemZRLnYxYzBIYnVXdVpYWHBKZkRyWFZjMUhQVnVmZmJuR2NMcWtwZzB6bTZBb1EiLCJTcGVjaWFsdHkiOiB7IklEIjogIlBHMDAwMDAwMDAwMDAwMDAwMTQyIiwiQ29kZSI6ICJjaCJ9LCJEb21haW4iOiAiZ3JlZW55b3VyYmlsbHMuY29tIn0sIlNlYXJjaFBhcmFtZXRlcnMiOiB7IlN0YXR1cyI6ICIiLCJPcmRlckJ5IjogIiIsIkZyb21EYXRlIjogIjAxLzAxLzIwMTgiLCJDb3VudCI6ICIxMCIsIlNlYXJjaFRleHQiOiAiIiwiVHlwZU9mVmlzaXQiOiAiQUxMIiwiU29ydE9yZGVyIjogImFwcG9pbnRtZW50IiwiU3RhcnRJbmRleCI6ICIxIiwiRW5kSW5kZXgiOiAiMTAiLCJUb0RhdGUiOiAiMDgvMDYvMjAxOCJ9fScsCiAgICAgICAgY3JlYXRlX3RpY2tldDogJ3siQWNjb3VudE5hbWUiOm51bGwsIkNhbGxiYWNrUGhvbmUiOiIiLCJDb21wYW55SUQiOiJDTzAwMDIzIiwiRGVzY3JpcHRpb24iOiJEZSIsIkRvbWFpbk5hbWUiOm51bGwsIkVtYWlsQ0MiOiJhYmhheS53QGNvZGVhcnJheS50ZWNoIiwiRW1haWxEZWZhdWx0IjoibWFuaXNoLnlAY29kZWFycmF5LnRlY2giLCJQcmlvcml0eSI6IjMiLCJQcmlvcml0eUlEIjowLCJSYWlzZWRCeSI6Imxhd3VzZXIiLCJTdGF0dXMiOjAsIlN0YXR1c0NvZGUiOm51bGwsIlN0YXR1c1RleHQiOm51bGwsIlNUeXBlIjoiV1AiLCJTdWJqZWN0IjoiRGUiLCJTdWJUeXBlIjoiU0FNRC1QIiwiVGlja2V0SUQiOjAsIlRpY2tldE51bWJlciI6bnVsbCwiVHlwZSI6MCwiVHlwZVRleHQiOiJXZWJzaXRlIFByb2JsZW0iLCJsaXN0RmlsZXMxIjpbImNocTEucGRmIl19JywKICAgICAgICBnZXRfcmVwb3J0OiAneyJjb21wYW55SWQiOiAiQ08wMDAyMyJ9JwogICAgICB9LAogICAgICBwaG9uZV9udW1iZXI6ICIiLAogICAgICBzdG9wOiB0cnVlLAogICAgICBkZW1vdXJsYmluZDogZmFsc2UsCiAgICAgIHJldmlld3N1cmxiaW5kOiBmYWxzZSwKICAgICAgcmV2aWV3c3VybDogImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL3BhQWVXODZlUVo0IiwKICAgICAgZGVtb3VybDogWyJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC92aWRlb3Nlcmllcz9LY3JKbTlVeFczcyZpbmRleD0xMyZsaXN0PVBMX2pYbGloOGRna1RFOENyUHBpV2NBOUt4UWVLSFpBbnQmdD0wcyIsICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC92aWRlb3Nlcmllcz9xelMycUlOSTZJTSZsaXN0PVBMX2pYbGloOGRna1J1NWRkR1hBR3FaNHVMTGtvSnpDajgmaW5kZXg9MiJdLAogICAgICBjaGF0X3dpZGdldDogewogICAgICAgIGxvZ286ICIiLAogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICBzdHlsZTogIiIKICAgICAgfSwKICAgICAgc2VsZWN0ZWRfZGF0ZTogIiIsCiAgICAgIHNlbGVjdGVkX3RpbWU6ICIiLAogICAgICByZWFzb25fb2ZfdmlzaXQ6ICIiLAogICAgICBwYXRpZW50X25hbWU6ICIiLAogICAgICB2aXNpdG9yX251bWJlcjogIiIsCiAgICAgIGZ1bGxfdGltZV9zbG90czogW10sCiAgICAgIHRpbWVfc2xvdHM6IFtdLAogICAgICBUT0RBWV9EQVRFOiAiIiwKICAgICAgY2hhbm5lbDogbnVsbCwKICAgICAgY2hhdF9zb2NrZXQ6IG51bGwsCiAgICAgIHZvaWNlX3NvY2tldDogbnVsbCwKICAgICAgbGl2ZV9jaGF0X29uOiBmYWxzZSwKICAgICAgbGl2ZV9jaGF0X3Rva2VuOiBudWxsLAogICAgICBjaGF0X2dyb3VwX25hbWU6IG51bGwsCiAgICAgIHRvX3Njcm9sbDogZmFsc2UsCiAgICAgIGZvcm1fcGF5bG9hZDogbnVsbCwKICAgICAgcmVmcmVzaF90aW1lOiAwLAogICAgICBwaG9uZV9udW1iZXJfdmFsaWRpdHk6IC9bMC05XXsxMCwxMX0kLywKICAgICAgZW1wdHlfc3RyaW5nX3ZhbGlkaXR5OiAvXiQvLAogICAgICAvL2hhcnNoCiAgICAgIGlzZXhjaGFuZ2U6IGZhbHNlLAogICAgICBjdXJyZW5jeWV4Y2hhbmdlX2xpc3Q6IG51bGwsCiAgICAgIHNlbGVjdGVkX2luZGljYXRpb246IFtdLAogICAgICByZXM6IHt9LAogICAgICBpc2Nsb3NlZGJvdG9uOiBmYWxzZSwKICAgICAgaXNmb3Jtb246IGZhbHNlLAogICAgICBmb3JtX25hbWU6IG51bGwsCiAgICAgIGxhc3RjbG9zZWRib3RpbnB1dG5vZGU6IG51bGwsCiAgICAgIGNsb3NlZF9mb3JtX3JlcGx5X2RhdGE6IG51bGwsCiAgICAgIHNlbGVjdGVkbm9kZWlkOiBudWxsLAogICAgICBib3RfbmFtZTogbnVsbCwKICAgICAgYm90X3R5cGU6IG51bGwsCiAgICAgIGlmZmlyc3R0aW1lOiB0cnVlLAogICAgICBpc2VtYWlsOiBmYWxzZSwKICAgICAgaXNfcGhvbmVfbnVtYmVyOiBmYWxzZSwKICAgICAgaXNfdGV4dF9hcmVhOiBmYWxzZSwKICAgICAgY29udmVyc2F0aW9uX2lkOiAiIiwKICAgICAgaXNfcGhvbmVfbnVtYmVyX290cDogZmFsc2UsCiAgICAgIG5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXI6IG51bGwsCiAgICAgIGlzX3Bob25lX251bWJlcl9lcnJfbXNnOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuY29udmVyc2F0aW9uX2lkID0gdGhpcy5nZW5lcmF0ZVVVSUQoKTsKICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKTsKICAgIHRoaXMuJHNlc3Npb24uc2V0KCJjb252ZXJzYXRpb25faWQiLCB0aGlzLmNvbnZlcnNhdGlvbl9pZCk7IC8vIGNvbnNvbGUubG9nKGNvdW50cnlfY29kZSk7CiAgICAvLyBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGNvdW50cnlfY29kZSkpOwoKICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIikpIHsvLyB0aGlzLmNoYXQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIik7CiAgICB9CgogICAgaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIpKSB7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndpZGdldF9zZXR0aW5nX3VybCgpLCB7CiAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgaXNTaG93OiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC50aXRsZSA9IHJlc3BvbnNlLmRhdGEuV2lkZ2V0VGl0bGU7CiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQubG9nbyA9IHJlc3BvbnNlLmRhdGEuSW1hZ2VVcmw7CgogICAgICAgIF90aGlzLiRzZXNzaW9uLnNldCgiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIsIF90aGlzLmNoYXRfd2lkZ2V0KTsKCiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOmF1dG8iOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChfdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSA9PSAiZ29neWIiKSB7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5zdHlsZSA9ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6NjBweCI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvY2Vuc2VfaW1hZ2UucG5nIjsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lID09ICJNVCBDYXJlIikgewogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQubG9nbyA9ICIvaW1nL3JvYm9tYXRlX2xvZ28ucG5nIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6NTBweDt3aWR0aDo5NXB4IjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQubG9nbyA9ICIvaW1nL2NlbnNlX2ltYWdlLnBuZyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5zdHlsZSA9ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6NjBweCI7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kc2Vzc2lvbi5zZXQoIkNoYXRCb3RJbWFnZVBhcmFtZXRlcnMiLCBfdGhpcy5jaGF0X3dpZGdldCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jaGF0X3dpZGdldCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIik7CiAgICAgIHRoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOmF1dG8iOwogICAgfQoKICAgIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIlJlc3BvbnNlQm90VG9rZW4iKSkgewogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5ib3RfcmVzcG9uc2VfdG9rZW4oKSwgewogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLiRzZXNzaW9uLnNldCgiUmVzcG9uc2VCb3RUb2tlbiIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBfdGhpcy5yZWZyZXNoX2NoYXRib3QoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnJlZnJlc2hfY2hhdGJvdCgpOwogICAgfSAvL2hhcnNoCgoKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkgPT0gIi5lSnhUY3NzdlNzMU16NnRJemtqTVMwODFORGV4TklRS0tVREZNa3BLQ29xdDlQWEx5OHYxMGxCVTZ5WG41LW9sbHVvYkdSaGE2aHFZNnhxWUtCZ2FXQmtaVzVtYTZobWJtNWdZbVNvQkFHYTlIcDAuWFIzVHV3Llg3N0ZfN0xEdE9McDJWdDlzbkZEU28zMW5UdyIpIHsKICAgICAgdGhpcy5pc2V4Y2hhbmdlID0gdHJ1ZTsKICAgIH0KCiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5ib3RfdXNlcl9kYXRhKCksIHsKICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgdHo6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSwKICAgICAgZGF0ZXRpbWU6IGQudG9JU09TdHJpbmcoKSwKICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHt9KTsKCiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmJvdGRhdGEgPT0gdW5kZWZpbmVkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnRGFzaGJvYXJkJwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYm90X25hbWUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuYm90ZGF0YS5ib3RfbmFtZTsKICAgICAgdGhpcy5ib3RfdHlwZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5ib3RkYXRhLmJvdF90eXBlOyAvLyBheGlvcwogICAgICAvLyAgIC5wb3N0KGFwaV9jYWxscy5jbG9zZWRfZm9ybV9yZXNwb25zZV9hcGkoKSx7CiAgICAgIC8vICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAvLyAgICAgdWlkOiAiY2xvc2VkX2Zvcm1fdXNlciIsCiAgICAgIC8vICAgICBjaGF0OiBudWxsLAogICAgICAvLyAgICAgbm9kZV9zZWxlY3RlZDogbnVsbCwKICAgICAgLy8gICAgIGJvdF9uYW1lOiB0aGlzLmJvdF9uYW1lLAogICAgICAvLyAgIH0pCiAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgLy8gICAgIGlmKHJlc3BvbnNlLmRhdGEuZXJyb3I9PXVuZGVmaW5lZCl7CiAgICAgIC8vICAgICAgIHRoaXMuY2xvc2VkX2JvdF9jaGF0KHJlc3BvbnNlLmRhdGEpOwogICAgICAvLyAgICAgICB0aGlzLmlzY2xvc2VkYm90b249dHJ1ZTsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBDb3VudHJ5Q29kZXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICBpZiAoYS5jb2RlIDwgYi5jb2RlKSB7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CgogICAgICBpZiAoYS5jb2RlID4gYi5jb2RlKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfSk7CiAgICB0aGlzLnNob3cgPSBmYWxzZTsKCiAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSAiVHJhaW4gdGhlIEJvdCIpIHsKICAgICAgJCgiLmNoYXQtd3JhcCIpLmNzcygicmlnaHQiLCAiYXV0byIpOwogICAgfQoKICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICJEaXJlY3QgUmVzcG9uc2UgQm90IikgewogICAgICAkKCIuY2hhdC13cmFwIikuY3NzKCJtYXJnaW5Ub3AiLCAiNSUiKTsKICAgIH0KCiAgICAkKCdbZGF0YS10b2dnbGU9InBvcG92ZXIiXScpLnBvcG92ZXIoewogICAgICBodG1sOiB0cnVlLAogICAgICBjb250ZW50OiAkKCIjcG9wb3Zlcl9jb250ZW50IikKICAgIH0pLm9uKCJzaG93LmJzLnBvcG92ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICQoIiNwb3BvdmVyX2NvbnRlbnQiKS5hZGRDbGFzcygiZC1ibG9jayIpOwogICAgfSkub24oImhpZGUuYnMucG9wb3ZlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgJCgiI3BvcG92ZXJfY29udGVudCIpLmFkZENsYXNzKCJkLW5vbmUiKTsKICAgIH0pOwogICAgJCgiI3BvcG92ZXJfY29udGVudCIpLmNzcygiekluZGV4IiwgOTk5OSk7CiAgICBidXMuJG9uKCJMb2dvdXQgaGFzIGJlZW4gY2xpY2tlZCIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGlmIChkYXRhID09ICJUcnVlIikgewogICAgICAgICQoJ1tkYXRhLXRvZ2dsZT0icG9wb3ZlciJdJykucG9wb3ZlcigiaGlkZSIpOwogICAgICB9CiAgICB9KTsKICAgIHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cuU3BlZWNoUmVjb2duaXRpb247CiAgICB3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0OwogICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLnN1Ym1pdF9jdXN0b21fZm9ybSgpOwoKICAgIGlmICh0aGlzLmlzY2xvc2VkYm90b24gJiYgdGhpcy5pc2Zvcm1vbikgewogICAgICB0aGlzLnN1Ym1pdF9jbG9zZWRfZm9ybV9kYXRhKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZVVVSUQ6IGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpIHsKICAgICAgLy8gUHVibGljIERvbWFpbi9NSVQKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy9UaW1lc3RhbXAKCiAgICAgIHZhciBkMiA9IHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlLm5vdyAmJiBwZXJmb3JtYW5jZS5ub3coKSAqIDEwMDAgfHwgMDsgLy9UaW1lIGluIG1pY3Jvc2Vjb25kcyBzaW5jZSBwYWdlLWxvYWQgb3IgMCBpZiB1bnN1cHBvcnRlZAoKICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNjsgLy9yYW5kb20gbnVtYmVyIGJldHdlZW4gMCBhbmQgMTYKCiAgICAgICAgaWYgKGQgPiAwKSB7CiAgICAgICAgICAvL1VzZSB0aW1lc3RhbXAgdW50aWwgZGVwbGV0ZWQKICAgICAgICAgIHIgPSAoZCArIHIpICUgMTYgfCAwOwogICAgICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9Vc2UgbWljcm9zZWNvbmRzIHNpbmNlIHBhZ2UtbG9hZCBpZiBzdXBwb3J0ZWQKICAgICAgICAgIHIgPSAoZDIgKyByKSAlIDE2IHwgMDsKICAgICAgICAgIGQyID0gTWF0aC5mbG9vcihkMiAvIDE2KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IHIgJiAweDMgfCAweDgpLnRvU3RyaW5nKDE2KTsKICAgICAgfSk7CiAgICB9LAogICAgdm9pY2VfY29tbXVuaWNhdGlvbjogZnVuY3Rpb24gdm9pY2VfY29tbXVuaWNhdGlvbigpIHsKICAgICAgaWYgKC9DaHJvbWl1bS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAgICAgICB0aGlzLmNhbGxfY2xvdWRfYXBpKCk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LlNwZWVjaFJlY29nbml0aW9uICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMucmVjb2duaXRpb24gPSBuZXcgd2luZG93LlNwZWVjaFJlY29nbml0aW9uKCk7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI21pY3JvcGhvbmUiKS5jbGFzc0xpc3QuYWRkKCJ2b2ljZS1vbiIpOwoKICAgICAgICB0aGlzLnJlY29nbml0aW9uLm9ucmVzdWx0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciBzcGVlY2hUb1RleHQgPSBlLnJlc3VsdHNbMF1bMF0udHJhbnNjcmlwdDsKICAgICAgICB9OwoKICAgICAgICB0aGlzLnJlY29nbml0aW9uLm9uZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI21pY3JvcGhvbmUiKS5jbGFzc0xpc3QucmVtb3ZlKCJ2b2ljZS1vbiIpOyAvL0FnYWluIOKAkyBnaXZlIHRoZSB1c2VyIGZlZWRiYWNrIHRoYXQgeW91IGFyZSBub3QgbGlzdGVuaW5nIGFueW1vcmUuIElmIHlvdSB3aXNoIHRvIGFjaGlldmUgY29udGludW91cyByZWNvZ25pdGlvbiDigJMgeW91IGNhbiB3cml0ZSBhIHNjcmlwdCB0byBzdGFydCB0aGUgcmVjb2duaXplciBhZ2FpbiBoZXJlLgogICAgICAgIH07CgogICAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICAgIHRoaXMucmVjb2duaXRpb24ub25yZXN1bHQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucmVzdWx0cyA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgLy9Tb21ldGhpbmcgaXMgd3JvbmfigKYKICAgICAgICAgICAgdGhpcy5yZWNvZ25pdGlvbi5zdG9wKCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBpID0gZXZlbnQucmVzdWx0SW5kZXg7IGkgPCBldmVudC5yZXN1bHRzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIGlmIChldmVudC5yZXN1bHRzW2ldLmlzRmluYWwpIHsKICAgICAgICAgICAgICAvL0ZpbmFsIHJlc3VsdHMKICAgICAgICAgICAgICB2bS50b19zZW5kID0gZXZlbnQucmVzdWx0c1tpXVswXS50cmFuc2NyaXB0OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaW5hbCByZXN1bHRzOiAiICsgZXZlbnQucmVzdWx0c1tpXVswXS50cmFuc2NyaXB0KTsgLy9PZiBjb3Vyc2Ug4oCTIGhlcmUgaXMgdGhlIHBsYWNlIHRvIGRvIHVzZWZ1bCB0aGluZ3Mgd2l0aCB0aGUgcmVzdWx0cy4KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvL2kuZS4gaW50ZXJpbS4uLgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbnRlcmltIHJlc3VsdHM6ICIgKyBldmVudC5yZXN1bHRzW2ldWzBdLnRyYW5zY3JpcHQpOyAvL1lvdSBjYW4gdXNlIHRoZXNlIHJlc3VsdHMgdG8gZ2l2ZSB0aGUgdXNlciBuZWFyIHJlYWwgdGltZSBleHBlcmllbmNlLgogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vZW5kIGZvciBsb29wCgogICAgICAgIH07CgogICAgICAgIHRoaXMucmVjb2duaXRpb24uc3RhcnQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbGxfY2xvdWRfYXBpKCk7CiAgICAgIH0KICAgIH0sCiAgICBjYWxsX2Nsb3VkX2FwaTogZnVuY3Rpb24gY2FsbF9jbG91ZF9hcGkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI21pY3JvcGhvbmUiKS5jbGFzc0xpc3QuYWRkKCJ2b2ljZS1vbiIpOwogICAgICB2YXIgYXVkaW9Db250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7CiAgICAgIHZhciBidWZmZXJfbGlzdCwgYnVmZmVyX2kzMjsKICAgICAgdmFyIHJlY29yZGVyID0gbmV3IFJlY29yZGVyKGF1ZGlvQ29udGV4dCwgewogICAgICAgIC8vIEFuIGFycmF5IG9mIDI1NSBOdW1iZXJzCiAgICAgICAgLy8gWW91IGNhbiB1c2UgdGhpcyB0byB2aXN1YWxpemUgdGhlIGF1ZGlvIHN0cmVhbQogICAgICAgIC8vIElmIHlvdSB1c2UgcmVhY3QsIGNoZWNrIG91dCByZWFjdC13YXZlLXN0cmVhbQogICAgICAgIG9uQW5hbHlzZWQ6IGZ1bmN0aW9uIG9uQW5hbHlzZWQoZGF0YSkge30KICAgICAgfSk7CiAgICAgIHZhciB2b2ljZV9jaGFubmVsLAogICAgICAgICAgd2F2X3BhcmFtZXRlcnMsCiAgICAgICAgICByZWNCdWZmZXJzID0gW10sCiAgICAgICAgICByZWNMZW5ndGgsCiAgICAgICAgICBtZXRhX2RhdGE7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGF4aW9zLmdldChhcGlfY2FsbHMudm9pY2VfY2hhbm5lbF9hcGkoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIudm9pY2Vfc29ja2V0ID0gbmV3IFNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX0xJVkVfQ0hBVF9XRUJTT0NLRVRfRU5EUE9JTlQsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBjb21wYW55OiBfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIHZvaWNlX2NoYW5uZWxfbmFtZTogcmVzcG9uc2UuZGF0YS52b2ljZV9jaGFubmVsX25hbWUsCiAgICAgICAgICAgIHRva2VuOiByZXNwb25zZS5kYXRhLnRva2VuLAogICAgICAgICAgICBpc192b2ljZTogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIudm9pY2Vfc29ja2V0LmNvbm5lY3QoKTsKCiAgICAgICAgdm9pY2VfY2hhbm5lbCA9IF90aGlzMi52b2ljZV9zb2NrZXQuY2hhbm5lbCgidm9pY2VfdG9fdGV4dDoiICsgcmVzcG9uc2UuZGF0YS52b2ljZV9jaGFubmVsX25hbWUpOwogICAgICAgIHZvaWNlX2NoYW5uZWwuam9pbigpOwogICAgICB9KTsKICAgICAgdmFyIGJsb2IgPSBudWxsOwogICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7CiAgICAgICAgYXVkaW86IHRydWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgcmVjb3JkZXIuaW5pdChzdHJlYW0pOwogICAgICAgIHN0YXJ0UmVjb3JkaW5nKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coIlVoIG9oLi4uIHVuYWJsZSB0byBnZXQgc3RyZWFtLi4uIiwgZXJyKTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBzdGFydFJlY29yZGluZygpIHsKICAgICAgICByZWNvcmRlci5zdGFydCgpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgc3RvcFJlY29yZGluZygpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzdG9wUmVjb3JkaW5nKCkgewogICAgICAgIHJlY29yZGVyLnN0b3AoKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgYmxvYiA9IF9yZWYuYmxvYiwKICAgICAgICAgICAgICBidWZmZXIgPSBfcmVmLmJ1ZmZlcjsKICAgICAgICAgIC8vIGJ1ZmZlcl9saXN0ID0gYnVmZmVyWzBdOwogICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7CgogICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYnVmZmVyX2xpc3QgPSByZWFkZXIucmVzdWx0OwogICAgICAgICAgICB2YXIgdGVtcCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcl9saXN0KTsKICAgICAgICAgICAgd2F2X3BhcmFtZXRlcnMgPSB3YXZfZmlsZV9wcm9jZXNzaW5nX3JlYWRfcGFyYW1ldGVycyh0ZW1wKTsKICAgICAgICAgICAgaW5pdF9lbmNvZGVyKGJ1ZmZlcl9saXN0KTsKICAgICAgICAgIH07IC8vIFJlY29yZGVyLmRvd25sb2FkKGJsb2IsICJteS1maWxlIik7CiAgICAgICAgICAvLyBidWZmZXIgaXMgYW4gQXVkaW9CdWZmZXIKCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGluaXRfZW5jb2RlcihkYXRhKSB7CiAgICAgICAgdmFyIGFycmF5QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7CiAgICAgICAgdmFyIGVuY0RhdGEgPSBbXTsKICAgICAgICB2YXIgcmVzdWx0ID0gZW5jb2RlRmxhYyhhcnJheUJ1ZmZlciwgZW5jRGF0YSk7IC8vIGNvbnNvbGUubG9nKCJlbmNvZGVkIGRhdGEgYXJyYXk6ICIsIGVuY0RhdGEpOwoKICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJDb252ZXJzaW9uIGZhaWxlZCEhIik7CiAgICAgICAgfQoKICAgICAgICB2YXIgbWV0YURhdGEgPSByZXN1bHQubWV0YURhdGE7CgogICAgICAgIGlmICghcmVzdWx0LmVycm9yKSB7CiAgICAgICAgICAvL3VzaW5nIGRhdGEtdXRpbC5qcyB1dGlsaXR5IGZ1bmN0aW9uKHMpCiAgICAgICAgICB2YXIgYmxvYl9kb3dubG9hZCA9IGV4cG9ydEZsYWNGaWxlKGVuY0RhdGEsIG1ldGFEYXRhKTsgLy8gdmFyIGRvd25fZmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYl9kb3dubG9hZCk7CiAgICAgICAgICAvLyBsZXQgZmlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgIC8vIGZpbGUuaHJlZiA9IGRvd25fZmlsZTsKICAgICAgICAgIC8vIGZpbGUuZG93bmxvYWQgPSAib3V0cHV0LmZsYWMiOwogICAgICAgICAgLy8gZmlsZS5jbGljaygpCgogICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iX2Rvd25sb2FkKTsKCiAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgcmVhZGVyX3N0cmluZyA9IHJlYWRlci5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgICAgICAgdm9pY2VfY2hhbm5lbC5wdXNoKCJ2b2ljZV9wYWNrZXRzX3NlbnQiLCB7CiAgICAgICAgICAgICAgc3RyZWFtOiByZWFkZXJfc3RyaW5nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2b2ljZV9jaGFubmVsLm9uKCJ2b2ljZV90b190ZXh0X3JlcGx5IiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbWljcm9waG9uZSIpLmNsYXNzTGlzdC5yZW1vdmUoInZvaWNlLW9uIik7CgogICAgICAgICAgICAgIGlmIChkYXRhLnRleHQucmVzdWx0cyAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIHZtLnRvX3NlbmQgPSBkYXRhLnRleHQucmVzdWx0c1swXS5hbHRlcm5hdGl2ZXNbMF0udHJhbnNjcmlwdDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJXZSBjb3VsZCBub3QgcmVjb2duaXplIHlvdXIgdm9pY2UuIFBsZWFzZSB0cnkgYWdhaW4gb3IgdHlwZSBpbi4iKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZtLmJ1dHRvbl9maWxsKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGVuY29kZUZsYWMoYmluRGF0YSwgcmVjQnVmZmVycykgewogICAgICAgIHZhciB1aThfZGF0YSA9IG5ldyBVaW50OEFycmF5KGJpbkRhdGEpOwogICAgICAgIHZhciBzYW1wbGVfcmF0ZSA9IDAsCiAgICAgICAgICAgIGNoYW5uZWxzID0gMCwKICAgICAgICAgICAgYnBzID0gMCwKICAgICAgICAgICAgdG90YWxfc2FtcGxlcyA9IDAsCiAgICAgICAgICAgIGJsb2NrX2FsaWduLAogICAgICAgICAgICBwb3NpdGlvbiA9IDAsCiAgICAgICAgICAgIHJlY0xlbmd0aCA9IDAsCiAgICAgICAgICAgIG1ldGFfZGF0YTsKICAgICAgICAvKioKICAgICAgICAgKiAgcmVjb3Jkcy9zYXZlcyB0aGUgb3V0cHV0IGRhdGEgb2YgbGliZmxhYy1lbmNvZGUgbWV0aG9kCiAgICAgICAgICovCgogICAgICAgIGZ1bmN0aW9uIHdyaXRlX2NhbGxiYWNrX2ZuKGJ1ZmZlciwgYnl0ZXMsIHNhbXBsZXMsIGN1cnJlbnRfZnJhbWUpIHsKICAgICAgICAgIHJlY0J1ZmZlcnMucHVzaChidWZmZXIpOwogICAgICAgICAgcmVjTGVuZ3RoICs9IGJ5dGVzOyAvLyByZWNMZW5ndGggKz0gYnVmZmVyLmJ5dGVMZW5ndGg7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtZXRhZGF0YV9jYWxsYmFja19mbihkYXRhKSB7CiAgICAgICAgICBtZXRhX2RhdGEgPSBkYXRhOwogICAgICAgIH0gLy8gY2hlY2s6IGlzIGZpbGUgYSBjb21wYXRpYmxlIHdhdi1maWxlPwoKCiAgICAgICAgaWYgKHdhdl9maWxlX3Byb2Nlc3NpbmdfY2hlY2tfd2F2X2Zvcm1hdCh1aThfZGF0YSkgPT0gZmFsc2UpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGVycm9yOiAiV3JvbmcgV0FWIGZpbGUgZm9ybWF0IiwKICAgICAgICAgICAgc3RhdHVzOiAwCiAgICAgICAgICB9OwogICAgICAgIH0gLy8gZ2V0IFdBVi9QQ00gcGFyYW1ldGVycyBmcm9tIGRhdGEgLyBmaWxlCgoKICAgICAgICB2YXIgd2F2X3BhcmFtZXRlcnMgPSB3YXZfZmlsZV9wcm9jZXNzaW5nX3JlYWRfcGFyYW1ldGVycyh1aThfZGF0YSk7CiAgICAgICAgdmFyIHRvdF9zYW1wbGVzID0gMDsKICAgICAgICB2YXIgY29tcHJlc3Npb25fbGV2ZWwgPSA1OwogICAgICAgIHZhciBmbGFjX29rID0gMTsKICAgICAgICB2YXIgaXNfdmVyaWZ5ID0gdHJ1ZTsKICAgICAgICB2YXIgZmxhY19lbmNvZGVyID0gRmxhYy5jcmVhdGVfbGliZmxhY19lbmNvZGVyKHdhdl9wYXJhbWV0ZXJzLnNhbXBsZV9yYXRlLCB3YXZfcGFyYW1ldGVycy5jaGFubmVscywgd2F2X3BhcmFtZXRlcnMuYnBzLCBjb21wcmVzc2lvbl9sZXZlbCwgdG90X3NhbXBsZXMsIGlzX3ZlcmlmeSk7CgogICAgICAgIGlmIChmbGFjX2VuY29kZXIgIT0gMCkgewogICAgICAgICAgdmFyIGluaXRfc3RhdHVzID0gRmxhYy5pbml0X2VuY29kZXJfc3RyZWFtKGZsYWNfZW5jb2Rlciwgd3JpdGVfY2FsbGJhY2tfZm4sIG1ldGFkYXRhX2NhbGxiYWNrX2ZuLCAwKTsKICAgICAgICAgIGZsYWNfb2sgJj0gaW5pdF9zdGF0dXMgPT0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIG1zZyA9ICJFcnJvciBpbml0aWFsaXppbmcgdGhlIGRlY29kZXIuIjsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGVycm9yOiBtc2csCiAgICAgICAgICAgIHN0YXR1czogMQogICAgICAgICAgfTsKICAgICAgICB9IC8vIGNvbnZlcnQgdGhlIFBDTS1EYXRhIHRvIHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgZm9yIHRoZSBsaWJmbGFjIGxpYnJhcnkgbWV0aG9kcyAoMzItYml0IGFycmF5IG9mIHNhbXBsZXMpCiAgICAgICAgLy8gY3JlYXRlcyBhIG5ldyBhcnJheSAoMzItYml0KSBhbmQgc3RvcmVzIHRoZSAxNi1iaXQgZGF0YSBvZiB0aGUgd2F2LWZpbGUgYXMgMzItYml0IGRhdGEKCgogICAgICAgIHZhciBidWZmZXJfaTMyID0gd2F2X2ZpbGVfcHJvY2Vzc2luZ19jb252ZXJ0XzE2Yml0ZGF0YV90bzMyYml0ZGF0YSh1aThfZGF0YS5idWZmZXIpOwogICAgICAgIHZhciBmbGFjX3JldHVybiA9IEZsYWMuRkxBQ19fc3RyZWFtX2VuY29kZXJfcHJvY2Vzc19pbnRlcmxlYXZlZChmbGFjX2VuY29kZXIsIGJ1ZmZlcl9pMzIsIGJ1ZmZlcl9pMzIubGVuZ3RoIC8gd2F2X3BhcmFtZXRlcnMuY2hhbm5lbHMpOwoKICAgICAgICBpZiAoZmxhY19yZXR1cm4gIT0gdHJ1ZSkgewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yOiBGTEFDX19zdHJlYW1fZW5jb2Rlcl9wcm9jZXNzX2ludGVybGVhdmVkIHJldHVybmVkIGZhbHNlLiAiICsgZmxhY19yZXR1cm4pOwogICAgICAgIH0KCiAgICAgICAgZmxhY19vayAmPSBGbGFjLkZMQUNfX3N0cmVhbV9lbmNvZGVyX2ZpbmlzaChmbGFjX2VuY29kZXIpOwogICAgICAgIEZsYWMuRkxBQ19fc3RyZWFtX2VuY29kZXJfZGVsZXRlKGZsYWNfZW5jb2Rlcik7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG1ldGFEYXRhOiBtZXRhX2RhdGEsCiAgICAgICAgICBzdGF0dXM6IGZsYWNfb2sKICAgICAgICB9OwogICAgICB9CgogICAgICBmdW5jdGlvbiB3YXZfZmlsZV9wcm9jZXNzaW5nX2NoZWNrX3dhdl9mb3JtYXQodWk4X2RhdGEpIHsKICAgICAgICAvLyBjaGVjazogaXMgZmlsZSBhIGNvbXBhdGlibGUgd2F2LWZpbGU/CiAgICAgICAgaWYgKHVpOF9kYXRhLmxlbmd0aCA8IDQ0IHx8IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgdWk4X2RhdGEuc3ViYXJyYXkoMCwgNCkpICE9ICJSSUZGIiB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHVpOF9kYXRhLnN1YmFycmF5KDgsIDE2KSkgIT0gIldBVkVmbXQgIiB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHVpOF9kYXRhLnN1YmFycmF5KDM2LCA0MCkpICE9ICJkYXRhIikgewogICAgICAgICAgY29uc29sZS5sb2coIkVSUk9SOiB3cm9uZyBmb3JtYXQgZm9yIHdhdi1maWxlLiIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqICBjaGVja3MgaWYgdGhlIGdpdmVuIHVpOF9kYXRhICh1aThhcnJheSkgaXMgb2YgYSBmbGFjLWZpbGUKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZmxhY19maWxlX3Byb2Nlc3NpbmdfY2hlY2tfZmxhY19mb3JtYXQodWk4X2RhdGEpIHsKICAgICAgICAvLyBjaGVjazogaXMgZmlsZSBhIGNvbXBhdGlibGUgZmxhYy1maWxlPwogICAgICAgIGlmICh1aThfZGF0YS5sZW5ndGggPCA0MiB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHVpOF9kYXRhLnN1YmFycmF5KDAsIDQpKSAhPSAiZkxhQyIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFUlJPUjogd3JvbmcgZm9ybWF0IGZvciBmbGFjLWZpbGUuIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyh1aThfZGF0YS5idWZmZXIpOyAvL2NoZWNrIGxhc3QgNyBiaXRzIG9mIDR0aCBieXRlIGZvciBtZXRhLWRhdGEgQkxPQ0sgdHlwZTogbXVzdCBiZSBTVFJFQU1JTkZPICgwKQoKICAgICAgICBpZiAoKHZpZXcuZ2V0VWludDgoNCkgJiAweDdmKSAhPSAwKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRVJST1I6IHdyb25nIGZvcm1hdCBmb3IgZmxhYy1maWxlLiIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHdhdl9maWxlX3Byb2Nlc3NpbmdfcmVhZF9wYXJhbWV0ZXJzKHVpOF9kYXRhKSB7CiAgICAgICAgdmFyIHNhbXBsZV9yYXRlID0gMCwKICAgICAgICAgICAgY2hhbm5lbHMgPSAwLAogICAgICAgICAgICBicHMgPSAwLAogICAgICAgICAgICB0b3RhbF9zYW1wbGVzID0gMCwKICAgICAgICAgICAgYmxvY2tfYWxpZ247IC8vIGdldCBXQVYvUENNIHBhcmFtZXRlcnMgZnJvbSBkYXRhIC8gZmlsZQoKICAgICAgICBzYW1wbGVfcmF0ZSA9ICgodWk4X2RhdGFbMjddIDw8IDggfCB1aThfZGF0YVsyNl0pIDw8IDggfCB1aThfZGF0YVsyNV0pIDw8IDggfCB1aThfZGF0YVsyNF07CiAgICAgICAgY2hhbm5lbHMgPSB1aThfZGF0YVsyMl07CiAgICAgICAgYnBzID0gdWk4X2RhdGFbMzRdOwogICAgICAgIGJsb2NrX2FsaWduID0gdWk4X2RhdGFbMzJdOwogICAgICAgIHRvdGFsX3NhbXBsZXMgPSAoKCh1aThfZGF0YVs0M10gPDwgOCB8IHVpOF9kYXRhWzQyXSkgPDwgOCB8IHVpOF9kYXRhWzQxXSkgPDwgOCB8IHVpOF9kYXRhWzQwXSkgLyBibG9ja19hbGlnbjsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc2FtcGxlX3JhdGU6IHNhbXBsZV9yYXRlLAogICAgICAgICAgY2hhbm5lbHM6IGNoYW5uZWxzLAogICAgICAgICAgYnBzOiBicHMsCiAgICAgICAgICB0b3RhbF9zYW1wbGVzOiB0b3RhbF9zYW1wbGVzLAogICAgICAgICAgYmxvY2tfYWxpZ246IGJsb2NrX2FsaWduCiAgICAgICAgfTsKICAgICAgfQogICAgICAvKioKICAgICAgICogIGNvbnZlcnRzIHRoZSBQQ00gZGF0YSBvZiB0aGUgd2F2IGZpbGUgKGVhY2ggc2FtcGxlIHN0b3JlZCBhcyAxNiBiaXQgdmFsdWUpIGludG8KICAgICAgICogIGEgZm9ybWF0IGV4cGVjdGVkIGJ5IHRoZSBsaWJmbGFjLWVuY29kZXIgbWV0aG9kIChlYWNoIHNhbXBsZSBzdG9yZWQgYXMgMzIgYml0IHZhbHVlIGluIGEgMzItYml0IGFycmF5KQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiB3YXZfZmlsZV9wcm9jZXNzaW5nX2NvbnZlcnRfMTZiaXRkYXRhX3RvMzJiaXRkYXRhKGFycmF5YnVmZmVyKSB7CiAgICAgICAgLy8gY29udmVydCB0aGUgUENNLURhdGEgdG8gdGhlIGFwcHJvcHJpYXRlIGZvcm1hdCBmb3IgdGhlIGxpYmZsYWMgbGlicmFyeSBtZXRob2RzICgzMi1iaXQgYXJyYXkgb2Ygc2FtcGxlcykKICAgICAgICAvLyBjcmVhdGVzIGEgbmV3IGFycmF5ICgzMi1iaXQpIGFuZCBzdG9yZXMgdGhlIDE2LWJpdCBkYXRhIG9mIHRoZSB3YXYtZmlsZSBhcyAzMi1iaXQgZGF0YQogICAgICAgIHZhciBhYl9pMTYgPSBuZXcgRGF0YVZpZXcoYXJyYXlidWZmZXIsIDQ0KTsKICAgICAgICB2YXIgYnVmX2xlbmd0aCA9IGFiX2kxNi5ieXRlTGVuZ3RoOwogICAgICAgIHZhciBidWYzMl9sZW5ndGggPSBidWZfbGVuZ3RoIC8gMjsKICAgICAgICB2YXIgYnVmZmVyX2kzMiA9IG5ldyBVaW50MzJBcnJheShidWYzMl9sZW5ndGgpOwogICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcl9pMzIuYnVmZmVyKTsKICAgICAgICB2YXIgaW5kZXggPSAwOwoKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ1Zl9sZW5ndGg7IGogKz0gMikgewogICAgICAgICAgdmlldy5zZXRJbnQzMihpbmRleCwgYWJfaTE2LmdldEludDE2KGosIHRydWUpLCB0cnVlKTsKICAgICAgICAgIGluZGV4ICs9IDQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYnVmZmVyX2kzMjsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZXhwb3J0RmxhY0ZpbGUocmVjQnVmZmVycywgbWV0YURhdGEpIHsKICAgICAgICB2YXIgcmVjTGVuZ3RoID0gZ2V0TGVuZ3RoKHJlY0J1ZmZlcnMpOwoKICAgICAgICBpZiAobWV0YURhdGEpIHsKICAgICAgICAgIGFkZEZMQUNNZXRhRGF0YShyZWNCdWZmZXJzLCBtZXRhRGF0YSk7CiAgICAgICAgfSAvL2NvbnZlcnQgYnVmZmVycyBpbnRvIG9uZSBzaW5nbGUgYnVmZmVyCgoKICAgICAgICB2YXIgc2FtcGxlcyA9IG1lcmdlQnVmZmVycyhyZWNCdWZmZXJzLCByZWNMZW5ndGgpOwogICAgICAgIHZhciB0aGVfYmxvYiA9IG5ldyBCbG9iKFtzYW1wbGVzXSk7CiAgICAgICAgcmV0dXJuIHRoZV9ibG9iOwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRMZW5ndGgocmVjQnVmZmVycykgewogICAgICAgIC8vZ2V0IGxlbmd0aAogICAgICAgIHZhciByZWNMZW5ndGggPSAwOwoKICAgICAgICBmb3IgKHZhciBpID0gcmVjQnVmZmVycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgcmVjTGVuZ3RoICs9IHJlY0J1ZmZlcnNbaV0uYnl0ZUxlbmd0aDsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZWNMZW5ndGg7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGFkZEZMQUNNZXRhRGF0YShjaHVua3MsIG1ldGFkYXRhKSB7CiAgICAgICAgdmFyIG9mZnNldCA9IDQ7CiAgICAgICAgdmFyIGRhdGEgPSBjaHVua3NbMF07IC8vMXN0IGRhdGEgY2h1bmsgc2hvdWxkIGNvbnRhaW4gRkxBQyBpZGVudGlmaWVyICJmTGFDIgoKICAgICAgICBpZiAoZGF0YS5sZW5ndGggPCA0IHx8IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgZGF0YS5zdWJhcnJheSgwLCA0KSkgIT0gImZMYUMiKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCJVbmtub3duIGRhdGEgZm9ybWF0OiBjYW5ub3QgYWRkIGFkZGl0aW9uYWwgRkxBQyBtZXRhIGRhdGEgdG8gaGVhZGVyIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvL2ZpcnN0IGNodW5rIG9ubHkgY29udGFpbnMgdGhlIGZsYWMgaWRlbnRpZmllciBzdHJpbmc/CgoKICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT0gNCkgewogICAgICAgICAgZGF0YSA9IGNodW5rc1sxXTsgLy9nZXQgMm5kIGRhdGEgY2h1bmsgd2hpY2ggc2hvdWxkIGNvbnRhaW4gU1RSRUFNSU5GTyBtZXRhLWRhdGEgYmxvY2sgKGFuZCBwcm9iYWJseSBtb3JlKQoKICAgICAgICAgIG9mZnNldCA9IDA7CiAgICAgICAgfQoKICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhkYXRhLmJ1ZmZlcik7IC8vTk9URSBieSBkZWZhdWx0LCB0aGUgZW5jb2RlciB3cml0ZXMgYSAybmQgbWV0YS1kYXRhIGJsb2NrICh0eXBlIFZPUkJJU19DT01NRU5UKSB3aXRoIGVuY29kZXIvdmVyc2lvbiBpbmZvIC0+IGRvIG5vdCBzZXQgImlzIGxhc3QiIHRvIFRSVUUgZm9yIGZpcnN0IG9uZQogICAgICAgIC8vCS8vIHdyaXRlICJpcyBsYXN0IG1ldGEgZGF0YSBibG9jayIgJiB0eXBlIFNUUkVBTUlORk8gdHlwZSAoMCkgYXMgbGl0dGxlIGVuZGlhbiBjb21iaW5lZCB1aW50MSAmIHVpbnQ3IC0+IHVpbnQ4OgogICAgICAgIC8vCXZhciBpc0xhc3QgPSAxOy8vMSBiaXQKICAgICAgICAvLwl2YXIgc3RyZWFtSW5mb1R5cGUgPSAwOy8vNyBiaXQKICAgICAgICAvLwl2aWV3LnNldFVpbnQ4KDAgKyBvZmZzZXQsIGlzTGFzdCA8PCA3IHwgc3RyZWFtSW5mb1R5cGUsIHRydWUpOy8vOCBiaXQKICAgICAgICAvLyBibG9jay1oZWFkZXI6IFNUUkVBTUlORk8gdHlwZSwgYmxvY2sgbGVuZ3RoIC0+IGFscmVhZHkgc2V0CiAgICAgICAgLy8gYmxvY2stY29udGVudDogbWluX2Jsb2Nrc2l6ZSwgbWluX2Jsb2Nrc2l6ZSAtPiBhbHJlYWR5IHNldAogICAgICAgIC8vIHdyaXRlIG1pbl9mcmFtZXNpemUgYXMgbGl0dGxlIGVuZGlhbiB1aW50MjQ6CgogICAgICAgIHZpZXcuc2V0VWludDgoOCArIG9mZnNldCwgbWV0YWRhdGEubWluX2ZyYW1lc2l6ZSA+PiAxNiwgdHJ1ZSk7IC8vMjQgYml0CgogICAgICAgIHZpZXcuc2V0VWludDgoOSArIG9mZnNldCwgbWV0YWRhdGEubWluX2ZyYW1lc2l6ZSA+PiA4LCB0cnVlKTsgLy8yNCBiaXQKCiAgICAgICAgdmlldy5zZXRVaW50OCgxMCArIG9mZnNldCwgbWV0YWRhdGEubWluX2ZyYW1lc2l6ZSwgdHJ1ZSk7IC8vMjQgYml0CiAgICAgICAgLy8gd3JpdGUgbWF4X2ZyYW1lc2l6ZSBhcyBsaXR0bGUgZW5kaWFuIHVpbnQyNDoKCiAgICAgICAgdmlldy5zZXRVaW50OCgxMSArIG9mZnNldCwgbWV0YWRhdGEubWF4X2ZyYW1lc2l6ZSA+PiAxNiwgdHJ1ZSk7IC8vMjQgYml0CgogICAgICAgIHZpZXcuc2V0VWludDgoMTIgKyBvZmZzZXQsIG1ldGFkYXRhLm1heF9mcmFtZXNpemUgPj4gOCwgdHJ1ZSk7IC8vMjQgYml0CgogICAgICAgIHZpZXcuc2V0VWludDgoMTMgKyBvZmZzZXQsIG1ldGFkYXRhLm1heF9mcmFtZXNpemUsIHRydWUpOyAvLzI0IGJpdAogICAgICAgIC8vIGJsb2NrLWNvbnRlbnQ6IHNhbXBsZVJhdGUsIGNoYW5uZWxzLCBiaXRzUGVyU2FtcGxlIC0+IGFscmVhZHkgc2V0CiAgICAgICAgLy8gd3JpdGUgdG90YWxfc2FtcGxlcyBhcyBsaXR0bGUgZW5kaWFuIHVpbnQzNjoKICAgICAgICAvL1RPRE8gc2V0IGxhc3QgNCBiaXRzIHRvIGhhbGYgb2YgdGhlIHZhbHVlIGluIGluZGV4IDE3CgogICAgICAgIHZpZXcuc2V0VWludDgoMTggKyBvZmZzZXQsIG1ldGFkYXRhLnRvdGFsX3NhbXBsZXMgPj4gMjQsIHRydWUpOyAvLzM2IGJpdAoKICAgICAgICB2aWV3LnNldFVpbnQ4KDE5ICsgb2Zmc2V0LCBtZXRhZGF0YS50b3RhbF9zYW1wbGVzID4+IDE2LCB0cnVlKTsgLy8zNiBiaXQKCiAgICAgICAgdmlldy5zZXRVaW50OCgyMCArIG9mZnNldCwgbWV0YWRhdGEudG90YWxfc2FtcGxlcyA+PiA4LCB0cnVlKTsgLy8zNiBiaXQKCiAgICAgICAgdmlldy5zZXRVaW50OCgyMSwgbWV0YWRhdGEudG90YWxfc2FtcGxlcywgdHJ1ZSk7IC8vMzYgYml0CgogICAgICAgIHdyaXRlTWQ1KHZpZXcsIDIyICsgb2Zmc2V0LCBtZXRhZGF0YS5tZDVzdW0pOyAvLzE2ICogOCBiaXQKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbWVyZ2VCdWZmZXJzKGNoYW5uZWxCdWZmZXIsIHJlY29yZGluZ0xlbmd0aCkgewogICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShyZWNvcmRpbmdMZW5ndGgpOwogICAgICAgIHZhciBvZmZzZXQgPSAwOwogICAgICAgIHZhciBsbmcgPSBjaGFubmVsQnVmZmVyLmxlbmd0aDsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsbmc7IGkrKykgewogICAgICAgICAgdmFyIGJ1ZmZlciA9IGNoYW5uZWxCdWZmZXJbaV07CiAgICAgICAgICByZXN1bHQuc2V0KGJ1ZmZlciwgb2Zmc2V0KTsKICAgICAgICAgIG9mZnNldCArPSBidWZmZXIubGVuZ3RoOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gd3JpdGVNZDUodmlldywgb2Zmc2V0LCBzdHIpIHsKICAgICAgICB2YXIgaW5kZXg7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aCAvIDI7ICsraSkgewogICAgICAgICAgaW5kZXggPSBpICogMjsKICAgICAgICAgIHZpZXcuc2V0VWludDgoaSArIG9mZnNldCwgcGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyAyKSwgMTYpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzdGFydF92aWRlb19jYWxsOiBmdW5jdGlvbiBzdGFydF92aWRlb19jYWxsKCkge30sCiAgICByZWZyZXNoX2NoYXRib3Q6IGZ1bmN0aW9uIHJlZnJlc2hfY2hhdGJvdCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkID0gdHJ1ZTsgLy8gZGVidWdnZXI7CgogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgY2hhdDogIiIsCiAgICAgICAgZGF0YTogIiIsCiAgICAgICAgdXNlcl9pZDogIiIsCiAgICAgICAgcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgcmVmcmVzaGVkX29yX2Nsb3NlZDogdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczMucmVmcmVzaGVkX29yX2Nsb3NlZCA9IGZhbHNlOwoKICAgICAgICBpZiAoX3RoaXMzLmlmZmlyc3R0aW1lKSB7CiAgICAgICAgICBfdGhpczMuaWZmaXJzdHRpbWUgPSBmYWxzZTsKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jbG9zZWRfZm9ybV9yZXNwb25zZV9hcGkoKSwgewogICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHVpZDogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGNoYXQ6IG51bGwsCiAgICAgICAgICAgIG5vZGVfc2VsZWN0ZWQ6IG51bGwsCiAgICAgICAgICAgIGJvdF9uYW1lOiBfdGhpczMuYm90X25hbWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9pZDogX3RoaXMzLmNvbnZlcnNhdGlvbl9pZAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5lcnJvcik7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVycm9yID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnYXlhJyk7CiAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwoKICAgICAgICAgICAgICBfdGhpczMuY2xvc2VkX2JvdF9jaGF0KHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICBfdGhpczMuaXNjbG9zZWRib3RvbiA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlID09ICJzdXBwb3J0IikgewogICAgICAgICAgX3RoaXMzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2ZWQ6ICJJcyB0aGVyZSBhbnl0aGluZyBlbHNlIEkgY2FuIGhlbHAgeW91IHdpdGg/IiwKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IF90aGlzMy5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzMy5jb21wYW55aWQgPT0gIkN1c3RvbWVySGFwcGluZXNzOTUxODUiIHx8IF90aGlzMy5jb21wYW55aWQgPT0gIjN4NWl2ZTk5NTM0IiB8fCBfdGhpczMuY29tcGFueWlkID09ICJGb3JlaWdueGNoYW5nZTE3NDkxIiB8fCBfdGhpczMuY29tcGFueWlkID09ICJjbGluaWNhbHRyaWFsczgxMzUyIikgewogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCB7CiAgICAgICAgICAgIGNoYXQ6ICIvd2VsY29tZV9tZXNzYWdlIiwKICAgICAgICAgICAgdG9rZW46IF90aGlzMy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgICAgdXNlcl9pZDogIiIsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgIHJvbGU6IF90aGlzMy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IGZhbHNlCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczMucHVzaF9tc2cocmVzcG9uc2UsIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMucHJvbXB0X3VybCgpLCB7CiAgICAgICAgICB1aWQ6ICJjZW5zZSIsCiAgICAgICAgICAvL3RoaXMuZmluZ2VycHJpbnQKICAgICAgICAgIGNvbXBhbnlpZDogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIGNoYXQ6ICIiCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICJOTyBDTE9TRUQgRk9STSBCT1QiKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmV4dHJhcyAhPSBudWxsICYmIHJlc3BvbnNlLmRhdGEuZXh0cmFzWzBdLlR5cGUgPT0gIlRBQkxFIikgewogICAgICAgICAgICAgIF90aGlzMy5jcmVhdGVfY2hhdChyZXNwb25zZS5kYXRhLCAiaXN0YWJsZSIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmV0dXJuID09ICJQUk9NUFRTIikgewogICAgICAgICAgICAgIF90aGlzMy5jcmVhdGVfY2hhdChyZXNwb25zZS5kYXRhLCAiaXNwcm9tcHQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7fSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkX3BkZjogZnVuY3Rpb24gZG93bmxvYWRfcGRmKHVybCwgZmlsZV9uYW1lKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBsaW5rLmhyZWYgPSB1cmw7CiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsIGZpbGVfbmFtZSk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgIGxpbmsuY2xpY2soKTsKICAgIH0sCiAgICBzY3JvbGxfZGl2OiBmdW5jdGlvbiBzY3JvbGxfZGl2KCkgewogICAgICB2YXIgZG9jID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmJ1eS1wcm9kdWN0cyIpOwoKICAgICAgaWYgKGV2ZW50LmRlbHRhWCA+IGV2ZW50LmRlbHRhWSkgewogICAgICAgIGRvYy5zY3JvbGxMZWZ0ICs9IDEwOwogICAgICB9IGVsc2UgaWYgKGV2ZW50LmRlbHRhWCA8IGV2ZW50LmRlbHRhWSkgewogICAgICAgIGRvYy5zY3JvbGxMZWZ0IC09IDEwOwogICAgICB9CiAgICB9LAogICAgY2FsbF9zdXBwb3J0OiBmdW5jdGlvbiBjYWxsX3N1cHBvcnQodHlwZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0eXBlID09ICJZZXMiKSB7CiAgICAgICAgdmFyIF9heGlvcyRwb3N0OwoKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdCA9IHsKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgIGNoYXQ6ICIvY2FsbF9zdXBwb3J0IgogICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdCwgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QsICJyb2xlIiwgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkKSwgX2F4aW9zJHBvc3QpKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBfdGhpczQuY2hhdC5wdXNoKHsKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3AuZGF0YS5yZXNwb25zZXNbMF0udGV4dCwKICAgICAgICAgICAgdGltZTogX3RoaXM0LmdlbmVyYXRlX3RpbWUoKQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM0LiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgX3RoaXM0LmNoYXQpOwoKICAgICAgICAgIF90aGlzNC51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIk5vIikgewogICAgICAgIHRoaXMuY2hhdC5wdXNoKHRoaXMuY2hhdFswXSk7CiAgICAgICAgdGhpcy5jaGF0LnB1c2godGhpcy5jaGF0WzFdKTsKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7IC8vIHRoaXMucmVmcmVzaF9jaGF0Ym90KCJzdXBwb3J0Iik7CiAgICAgIH0KICAgIH0sCiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2Uoc3RyaW5nKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC97ey4qP319L2csIGZ1bmN0aW9uIChtYXRjaCkgewogICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgICAgdmFyIGRkID0gdG9kYXkuZ2V0RGF0ZSgpOwogICAgICAgIHZhciBtbSA9IHRvZGF5LmdldE1vbnRoKCkgKyAxOwogICAgICAgIHZhciB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKTsKCiAgICAgICAgaWYgKGRkIDwgMTApIHsKICAgICAgICAgIGRkID0gIjAiICsgZGQ7CiAgICAgICAgfQoKICAgICAgICBpZiAobW0gPCAxMCkgewogICAgICAgICAgbW0gPSAiMCIgKyBtbTsKICAgICAgICB9CgogICAgICAgIHRvZGF5ID0gZGQgKyAiLSIgKyBtbSArICItIiArIHl5eXk7CiAgICAgICAgdmFyIGV4cHJlc3Npb24gPSBtYXRjaC5zbGljZSgyLCAtMik7CiAgICAgICAgX3RoaXM1LiRkYXRhW2V4cHJlc3Npb25dID0gdG9kYXk7CiAgICAgICAgcmV0dXJuIF90aGlzNS4kZGF0YVtleHByZXNzaW9uXTsKICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVfdGltZTogZnVuY3Rpb24gZ2VuZXJhdGVfdGltZSgpIHsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgaCwgbSwgdHlwZTsKCiAgICAgIGlmIChkLmdldEhvdXJzKCkgPiAxMikgewogICAgICAgIGggPSBkLmdldEhvdXJzKCkgJSAxMjsKICAgICAgICB0eXBlID0gIiBwbSI7CiAgICAgIH0gZWxzZSBpZiAoZC5nZXRIb3VycygpIDwgMTIpIHsKICAgICAgICBoID0gZC5nZXRIb3VycygpOwogICAgICAgIHR5cGUgPSAiIGFtIjsKICAgICAgfSBlbHNlIGlmIChkLmdldEhvdXJzKCkgPT0gMTIpIHsKICAgICAgICBoID0gZC5nZXRIb3VycygpOwogICAgICAgIHR5cGUgPSAiIHBtIjsKICAgICAgfQoKICAgICAgbSA9IGQuZ2V0TWludXRlcygpOwoKICAgICAgaWYgKG0gPCAxMCkgewogICAgICAgIG0gPSAwICsgU3RyaW5nKG0pOwogICAgICB9CgogICAgICByZXR1cm4gaCArICI6IiArIG0gKyB0eXBlOwogICAgfSwKICAgIGNhbGxfYXBpOiBmdW5jdGlvbiBjYWxsX2FwaSgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLnBob25lX251bWJlcl92YWxpZGl0eS50ZXN0KHRoaXMucGhvbmVfbnVtYmVyKSkgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNhbGxfc3VwcG9ydF91cmwoKSwgewogICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgcGhvbmVudW1iZXI6IHRoaXMucGhvbmVfbnVtYmVyLAogICAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09ICJDYWxsIGluY29taW5nISIpIHsKICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIldlIHdpbGwgZ2V0IGluIHRvdWNoIHdpdGggeW91IHNvb24uIFRoYW5rcyIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIEVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIik7CiAgICAgIH0KICAgIH0sCiAgICBzaG93X3BvcHVwOiBmdW5jdGlvbiBzaG93X3BvcHVwKCkgewogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zdG9wID0gZmFsc2U7CiAgICB9LAogICAgc3ViX2xlYWZfbm9kZV9jYWxsOiBmdW5jdGlvbiBzdWJfbGVhZl9ub2RlX2NhbGwodHlwZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBkaXZjbGljayA9IGV2ZW50LnRhcmdldC5pbm5lclRleHQ7CgogICAgICBpZiAoZGl2Y2xpY2sgPT0gIldhdGNoIERlbW8gVmlkZW8iKSB7CiAgICAgICAgdGhpcy5kZW1vdXJsYmluZCA9IHRydWU7CiAgICAgICAgdGhpcy5yZXZpZXdzdXJsYmluZCA9IGZhbHNlOwogICAgICB9IGVsc2UgaWYgKGRpdmNsaWNrID09ICJVc2VyIFJldmlld3MvVGVzdGltb25pYWxzIikgewogICAgICAgIHRoaXMucmV2aWV3c3VybGJpbmQgPSB0cnVlOwogICAgICAgIHRoaXMuZGVtb3VybGJpbmQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKGRpdmNsaWNrID09ICJXYXRjaCBEZW1vIFZpZGVvIiB8fCBkaXZjbGljayA9PSAiVXNlciBSZXZpZXdzL1Rlc3RpbW9uaWFscyIpIHsKICAgICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93OwogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIDEwMDApOwogICAgICB9IGVsc2UgaWYgKGRpdmNsaWNrID09ICJCdXkgVHV0b3JpYWwiKSB7CiAgICAgICAgdGhpcy5jZW5zZV9lbnF1aXJ5ID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICBjaGF0OiAiL3BlcnNvbmFsX2RldGFpbHMiLAogICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6ICIiCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgIHJlY2VpdmVkOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1swXS50ZXh0LAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICB0aW1lOiBfdGhpczYuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzNi5jaGF0LnB1c2gobXNnKTsKCiAgICAgICAgICBfdGhpczYudXBkYXRlX3Njcm9sbGJhcigpOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICBfdGhpczYuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCBfdGhpczYuY2hhdCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0aWNrZXRfbnVtYmVyOiBmdW5jdGlvbiB0aWNrZXRfbnVtYmVyKCkgewogICAgICB2YXIgcmFuZG9tX251bSA9IE1hdGguZmxvb3IoMTAwMDAwMCArIE1hdGgucmFuZG9tKCkgKiA5MDAwMDAwKTsKICAgICAgdmFyIGNvbXBhbnkgPSB0aGlzLmNvbXBhbnluYW1lLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCk7CiAgICAgIHJldHVybiBjb21wYW55ICsgIl8iICsgcmFuZG9tX251bTsKICAgIH0sCiAgICBzZW5kX21lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRfbWVzc2FnZSh0eXBlLCBtZXNzYWdlLCB0b19iZV9kaXNwbGF5ZWQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICAvL2hhcnNoCiAgICAgIC8vIGRlYnVnZ2VyOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvblswXSAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0eXBlID0gImlzX3Byb21wdCI7CiAgICAgICAgdG9fYmVfZGlzcGxheWVkID0gdGhpcy50b19zZW5kOwogICAgICAgIHRoaXMudG9fc2VuZCA9IHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvblswXS52YWx1ZS5zcGxpdCgieyIpWzBdICsgSlNPTi5zdHJpbmdpZnkodGhpcy5yZXMpOwogICAgICAgIHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvbiA9IFtdOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc2Nsb3NlZGJvdG9uICYmIHR5cGUgIT0gJ2lzX2J1dHRvbicpIHsKICAgICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSB0cnVlOwogICAgICAgIHRoaXMuc3VibWl0X2Nsb3NlZF9mb3JtX2RhdGEoKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJpc19idXR0b24iKSB7CiAgICAgICAgJCgiI3Jlc3BvbnNlX2JvdF90ZXh0IikucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CgogICAgICAgIGlmIChtZXNzYWdlLnZhbHVlID09ICJpc2Rpc2FibGVkIiAmJiB0aGlzLmNvbXBhbnlpZCA9PSAiY2xpbmljYWx0cmlhbHM4MTM1MiIgJiYgbWVzc2FnZS50aXRsZSA9PSAiTm8iKSB7fSBlbHNlIGlmICh0aGlzLmlzY2xvc2VkYm90b24pIHsKICAgICAgICAgIHRoaXMuc3VibWl0X2Nsb3NlZF9mb3JtX2RhdGEodHlwZSwgbWVzc2FnZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBpbmRleCA9IHRvX2JlX2Rpc3BsYXllZDsKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHNlbnQ6IG1lc3NhZ2UudGl0bGUsCiAgICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgZGVsaXZlcmVkOiB0cnVlLAogICAgICAgICAgICBkcm9wZG93bjogIiIKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJzZW5kZXIiKTsKICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgICAgICBjaGF0OiBtZXNzYWdlLnZhbHVlLAogICAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgICByZWZyZXNoZWRfb3JfY2xvc2VkOiB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChfdGhpczcuY2hhdFtpbmRleF0ucmVtb3ZhYmxlID09IHRydWUpIHsKICAgICAgICAgICAgICBfdGhpczcuY2hhdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczcucmVzcG9uc2VfaGFuZGxpbmcocmVzcG9uc2UpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImlzX3Byb21wdCIpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgIHNlbnQ6IHRvX2JlX2Rpc3BsYXllZCwKICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgZGVsaXZlcmVkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJzZW5kZXIiKTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICAgIC8vIGhvc3Q6IHRoaXMudXNlcl9kYXRhLmhvc3QsCiAgICAgICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgIGNoYXQ6IHRoaXMudG9fc2VuZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczcucmVzcG9uc2VfaGFuZGxpbmcocmVzcG9uc2UpOwoKICAgICAgICAgIF90aGlzNy5leDEoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRvX3NlbmQgPT0gIlJlc3RhcnQiIHx8IHRoaXMudG9fc2VuZCA9PSAicmVzdGFydCIpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9tcHRfdXJsKCksIHsKICAgICAgICAgIHVpZDogImNlbnNlIiwKICAgICAgICAgIC8vdGhpcy5maW5nZXJwcmludAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICBjaGF0OiAiIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczcuY2hhdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIF90aGlzNy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwoKICAgICAgICAgIF90aGlzNy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIF90aGlzNy5jaGF0KTsKCiAgICAgICAgICBfdGhpczcuZmlyc3RfY2xpY2sgPSB0cnVlOwogICAgICAgICAgX3RoaXM3LmxldmVsID0gcmVzcG9uc2UuZGF0YS5sZXZlbDsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge30pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY2Vuc2VfZW5xdWlyeSA9PSB0cnVlICYmIHRoaXMudG9fc2VuZCAhPSAiIiAmJiB0aGlzLnRvX3NlbmQgIT0gbnVsbCAmJiAhL15ccyokLy50ZXN0KHRoaXMudG9fc2VuZCkpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIHZhciBzZW5kX21zZyA9IHsKICAgICAgICAgIHNlbnQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgc2VuZGluZzogdHJ1ZSwKICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgfTsKICAgICAgICB0aGlzLmNoYXQucHVzaChzZW5kX21zZyk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CiAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIpOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIGNoYXQ6ICIvcGVyc29uYWxfZGV0YWlscyIsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgdXNlcl9pZDogIiIsCiAgICAgICAgICBDb21wYW55aWQ6ICJDTzAwMDIzIiwKICAgICAgICAgIGRhdGE6ICIiLAogICAgICAgICAgcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgICByZWZyZXNoZWRfb3JfY2xvc2VkOiAiIiwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzWzBdLnRleHQsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IF90aGlzNy5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXM3LmNoYXQucHVzaChtc2cpOwoKICAgICAgICAgIF90aGlzNy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIF90aGlzNy5jaGF0KTsKCiAgICAgICAgICBfdGhpczcucmVmcmVzaGVkX29yX2Nsb3NlZCA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzNy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5saXZlX2NoYXRfb24pIHsKICAgICAgICBpZiAodGhpcy51c2VyX25hbWUgPT0gIiIpIHsKICAgICAgICAgIHRoaXMuY2hhbm5lbC5wdXNoKCJuZXdfbmFtZSIsIHsKICAgICAgICAgICAgbmFtZTogdGhpcy50b19zZW5kCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudXNlcl9uYW1lID0gdGhpcy50b19zZW5kOwogICAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoYW5uZWwucHVzaCgibmV3X2NoYXRfbWVzc2FnZSIsIHsKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy50b19zZW5kCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgIHNlbnQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CiAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJzZW5kZXIiKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRvX3NlbmQgIT0gIiIgJiYgdGhpcy50b19zZW5kICE9IG51bGwgJiYgdGhpcy5jZW5zZV9lbnF1aXJ5ICE9IHRydWUpIHsKICAgICAgICB2YXIgX2F4aW9zJHBvc3QyOwoKICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICBzZW50OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAic2VuZGVyIik7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCAoX2F4aW9zJHBvc3QyID0gewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgY2hhdDogdGhpcy50b19zZW5kCiAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MiwgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QyLCAicm9sZSIsIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MiwgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfYXhpb3MkcG9zdDIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM3LnJlc3BvbnNlX2hhbmRsaW5nKHJlc3BvbnNlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXM3LnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMudG9fc2VuZCA9ICIiOwogICAgICB0aGlzLmJ1dHRvbl9maWxsKCk7CiAgICB9LAogICAgaW5pdGlhdGVfc3VwcG9ydF9jaGF0OiBmdW5jdGlvbiBpbml0aWF0ZV9zdXBwb3J0X2NoYXQoKSB7CiAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgcmVjZWl2ZWQ6ICJTb3JyeSBJIGFtIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24iLAogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlCiAgICAgIH0pOwogICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgIHJlY2VpdmVkOiAiV291bGQgeW91IGxpa2UgdG8gdGFsayB3aXRoIHN1cHBvcnQgdGVhbT8iLAogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgIHNob3dfYnV0dG9uczogdHJ1ZSwKICAgICAgICBzdXBwb3J0X2J1dHRvbnM6IHRydWUsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgIH0sCiAgICBkaXNjb25uZWN0X3N1cHBvcnRfY2hhdDogZnVuY3Rpb24gZGlzY29ubmVjdF9zdXBwb3J0X2NoYXQoKSB7CiAgICAgIHRoaXMuY2hhbm5lbC5wdXNoKCJzdG9wcGVkX2NoYXQiLCB7CiAgICAgICAgbmFtZTogdGhpcy51c2VyX25hbWUsCiAgICAgICAgbWVzc2FnZTogIiBoYXMgZW5kZWQgdGhlIGNvbnZlcnNhdGlvbi4iCiAgICAgIH0pOwogICAgICB0aGlzLmNoYW5uZWwubGVhdmUoKTsKICAgICAgdGhpcy5jaGF0X3NvY2tldC5kaXNjb25uZWN0KCk7CiAgICAgIHRoaXMubGl2ZV9jaGF0X29uID0gZmFsc2U7CiAgICB9LAogICAgY2hhdF9yZXNwb25zZV9lcnJvcjogZnVuY3Rpb24gY2hhdF9yZXNwb25zZV9lcnJvcigpIHsKICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogIlNvcnJ5IEknbSBub3QgZ2V0dGluZyB5b3VyIHF1ZXN0aW9uIiwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9KTsKICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgIH0sCiAgICBzZW5kX3JlcXVlc3RfanNvbjogZnVuY3Rpb24gc2VuZF9yZXF1ZXN0X2pzb24obWVzc2FnZSkgewogICAgICB2YXIgX2F4aW9zJHBvc3QzLAogICAgICAgICAgX3RoaXM4ID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgKF9heGlvcyRwb3N0MyA9IHsKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsCiAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDMsICJ0b2tlbiIsIHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MywgInJvbGUiLCB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDMsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MywgImNoYXQiLCAiIiksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDMsICJzb3VyY2UiLCAiV2ViIiksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDMsICJkYXRhIiwgdGhpcy5qc29uX2RhdGFbbWVzc2FnZS5yZXNwb25zZXNbMF0uaW50ZW50XSksIF9heGlvcyRwb3N0MykpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczguY2hhdC5wdXNoKHsKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgcmVjZWl2ZWQ6IHJlc3AuZGF0YS5yZXNwb25zZXMubGVuZ3RoID09IDAgPyAiU29ycnkgSSdtIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24iIDogcmVzcC5kYXRhLnJlc3BvbnNlc1swXS50ZXh0LAogICAgICAgICAgdGltZTogX3RoaXM4LmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgIGltYWdlOiByZXNwLmRhdGEucmVzcG9uc2VzWzBdLmltZyA9PSAiIiA/IG51bGwgOiByZXNwLmRhdGEucmVzcG9uc2VzWzBdLmltZwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczguJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCBfdGhpczguY2hhdCk7CgogICAgICAgIF90aGlzOC51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICB9KTsKICAgIH0sCiAgICByZXNwb25zZV9oYW5kbGluZzogZnVuY3Rpb24gcmVzcG9uc2VfaGFuZGxpbmcocmVzcG9uc2UsIHR5cGUpIHsKICAgICAgdmFyIGkgPSAwOwogICAgICB2YXIgZGVsYXkgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0ICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0Lmxlbmd0aCA+IDEwID8gMjAwMCA6IDUwMDsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaGFuZGxlX3Jlc3BvbnNlKCk7CiAgICAgIH0sIGRlbGF5KTsKCiAgICAgIGZ1bmN0aW9uIGhhbmRsZV9yZXNwb25zZSgpIHsKICAgICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gbnVsbCB8fCByZXNwb25zZS5kYXRhLnJlc3BvbnNlcy5sZW5ndGggPT0gMCkgewogICAgICAgICAgICB2bS5jaGF0X3Jlc3BvbnNlX2Vycm9yKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnJlcXVlc3RfanNvbiAhPSB1bmRlZmluZWQgJiYgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ucmVxdWVzdF9qc29uID09IHRydWUpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQgIT0gbnVsbCkgewogICAgICAgICAgICAgIHZtLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIHJlY2VpdmVkOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0LAogICAgICAgICAgICAgICAgdGltZTogdm0uZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICAgICAgaW1hZ2U6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmltZywKICAgICAgICAgICAgICAgIHZpZGVvOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS52aWRlbwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZtLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdm0uY2hhdCk7CiAgICAgICAgICAgICAgdm0udXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmludGVudCA9PSAiZ29neWI0NTBfY3JlYXRlX3RpY2tldCIpIHsKICAgICAgICAgICAgICB2YXIgX2F4aW9zJHBvc3Q0OwoKICAgICAgICAgICAgICB2YXIgbmFtZTsKCiAgICAgICAgICAgICAgaWYgKHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZmlyc3RfbmFtZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBuYW1lID0gdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5maXJzdF9uYW1lICsgIiAiICsgdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5sYXN0X25hbWU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh2bS4kc2Vzc2lvbi5oYXMoIlVzZXJGaXJzdE5hbWUiKSkgewogICAgICAgICAgICAgICAgbmFtZSA9IHZtLiRzZXNzaW9uLmdldCgiVXNlckZpcnN0TmFtZSIpICsgIiAiICsgdm0uJHNlc3Npb24uZ2V0KCJVc2VyTGFzdE5hbWUiKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBwYXlsb2FkID0gewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdm0uY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHZtLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgIHVzZXJfcm9sZTogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgICAgICAgZW1haWw6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIHRva2VuOiB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHRpY2tldF9pc3N1ZTogIiIsCiAgICAgICAgICAgICAgICB0aWNrZXRfbnVtYmVyOiB2bS50aWNrZXRfbnVtYmVyKCksCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgICAgICAgICBmaWxlX2NvbnRlbnQ6IG51bGwsCiAgICAgICAgICAgICAgICBmaWxlX25hbWU6IG51bGwsCiAgICAgICAgICAgICAgICBpc0VkaXQ6IGZhbHNlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBwYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7CiAgICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCAoX2F4aW9zJHBvc3Q0ID0gewogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdm0uYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgICAgICAgdXNlcm5hbWU6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q0LCAidG9rZW4iLCB2bS5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q0LCAicm9sZSIsIHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDQsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdm0ucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDQsICJjaGF0IiwgIiIpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q0LCAic291cmNlIiwgIldlYiIpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q0LCAiZGF0YSIsIHBheWxvYWQpLCBfYXhpb3MkcG9zdDQpKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICB2bS5jaGF0LnB1c2goewogICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgICAgICByZWNlaXZlZDogcmVzcC5kYXRhLnJlc3BvbnNlcy5sZW5ndGggPT0gMCA/ICJTb3JyeSBJJ20gbm90IGdldHRpbmcgeW91ciBxdWVzdGlvbiIgOiByZXNwLmRhdGEucmVzcG9uc2VzW2ldLnRleHQsCiAgICAgICAgICAgICAgICAgIHRpbWU6IHZtLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgICAgICAgICAgaW1hZ2U6IHJlc3AuZGF0YS5yZXNwb25zZXNbaV0uaW1nLAogICAgICAgICAgICAgICAgICB2aWRlbzogcmVzcC5kYXRhLnJlc3BvbnNlc1tpXS52aWRlbyAhPSBudWxsID8gcmVzcC5kYXRhLnJlc3BvbnNlc1tpXS52aWRlbyA6IG51bGwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdm0uJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB2bS5jaGF0KTsKICAgICAgICAgICAgICAgIHZtLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaW50ZW50ID09ICJjcmVhdGVfYXBwb2ludG1lbnQiKSB7CiAgICAgICAgICAgICAgdmFyIHRvZGF5X2RhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnNjaGVkdWxlX2FwcG9pbnRtZW50X3VybCgpLCB7CiAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdm0uY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgICBjb21wYW55aWQ6IHZtLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgIERhdGU6IHRvZGF5X2RhdGUuZ2V0RnVsbFllYXIoKSArICItIiArICh0b2RheV9kYXRlLmdldE1vbnRoKCkgPCA5ID8gIjAiICsgKHRvZGF5X2RhdGUuZ2V0TW9udGgoKSArIDEpIDogdG9kYXlfZGF0ZS5nZXRNb250aCgpICsgMSkgKyAiLSIgKyB0b2RheV9kYXRlLmdldERhdGUoKSAvL01vbnRoIG9iamVjdCBkb2N1bWVudCBpdAogICAgICAgICAgICAgICAgLy8gRGF0ZTogc3RhcnRfdGltZSwKCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsvLyB0aGlzLnRpbWVfc2xvdHMgPSB0aGlzLmZ1bGxfdGltZV9zbG90czsKICAgICAgICAgICAgICAgIC8vIGlmIChyZXNwb25zZS5kYXRhLlNsb3QgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICAvLyAgIGlmIChyZXNwb25zZS5kYXRhLlNsb3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgLy8gICAgIGxldCBpbmRleDsKICAgICAgICAgICAgICAgIC8vICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEuU2xvdCkgewogICAgICAgICAgICAgICAgLy8gICAgICAgaW5kZXggPSB0aGlzLnRpbWVfc2xvdHMuaW5kZXhPZihyZXNwb25zZS5kYXRhLlNsb3RbaV0pOwogICAgICAgICAgICAgICAgLy8gICAgICAgaWYgKGluZGV4ICE9IC0xKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMudGltZV9zbG90cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgICAgLy8gICAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7Ly8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdm0uc2VuZF9yZXF1ZXN0X2pzb24ocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ucmV0dXJuX2ludGVudCAhPSB1bmRlZmluZWQgJiYgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ucmV0dXJuX2ludGVudCA9PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBfYXhpb3MkcG9zdDU7CgogICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDUgPSB7CiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHZtLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICB1c2VybmFtZTogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbAogICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q1LCAidG9rZW4iLCB2bS5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q1LCAicm9sZSIsIHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDUsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdm0ucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDUsICJjaGF0IiwgIi8iICsgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaW50ZW50KSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NSwgInNvdXJjZSIsICJXZWIiKSwgX2F4aW9zJHBvc3Q1KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICB2bS5oYW5kbGVfcmVzcG9uc2UocmVzcG9uc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAodm0uY29tcGFueWlkID09ICIzeDVpdmU5OTUzNCIgJiYgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaW50ZW50ICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbnRlbnQgPT0gImNvbmZ1c2lvbiIpIHsKICAgICAgICAgICAgdm0uY29uZnVzaW9uX21lc3NhZ2UoIi9uZWVkX2hlbHAiKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uYnV0dG9ucyAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgdm0ubG9hZF9idXR0b25zKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLCBpKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uY3VzdG9tICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvL0NIYW5nZSAgdGhlIGNvbmRpdGlvbiBoZXJlCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jdXN0b20udHlwZSAhPSB1bmRlZmluZWQgJiYgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uY3VzdG9tLnR5cGUgPT0gIm11bHRpc2VsZWN0X2Ryb3Bkb3duIikgewogICAgICAgICAgICAgIHZtLm11bHRpc2VsZWN0X2xvYWQocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0sIGkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmN1c3RvbS50eXBlICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jdXN0b20udHlwZSA9PSAidGFibGUiKSB7CiAgICAgICAgICAgICAgdm0ubG9hZF90YWJsZShyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXSwgaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy90aGlzIG9uZSBmb3IgZm9yZWlnbnhjaGFuZ2UKICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQgIT0gdW5kZWZpbmVkICYmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gInNvcnJ5IGkgYW0gbm90IGdldHRpbmcgeW91ciBxdWVzdGlvbiIgfHwgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dC50b0xvd2VyQ2FzZSgpID09ICJpcyB0aGVyZSBhbnl0aGluZyBpIGNhbiBoZWxwIHlvdSB3aXRoPyIpKSB7CiAgICAgICAgICAgICAgaWYgKHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkgPT0gIi5lSnhUY3NzdlNzMU16NnRJemtqTVMwODFORGV4TklRS0tVREZNa3BLQ29xdDlQWEx5OHYxMGxCVTZ5WG41LW9sbHVvYkdSaGE2aHFZNnhxWUtCZ2FXQmtaVzVtYTZobWJtNWdZbVNvQkFHYTlIcDAuWFIzVHV3Llg3N0ZfN0xEdE9McDJWdDlzbkZEU28zMW5UdyIgfHwgdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSA9PSAiLmVKeFRjaTR0THNuUFRTM3lTQ3dveU14TExTNjJORFcwTUlXSktzQ0ZNMHBLQ29xdDlQWEx5OHYxa2pPS0VfVVNVX1dOREF3dGRRM01kUTJORkF3TnJZREl4RnpQeE1UUzB0SklDUUJqWnh1eC5YU2hxOHcuUGdvNWNtS3dNUUZuWVVzc2Nwb2p3RXFEWFF3IikgewogICAgICAgICAgICAgICAgdm0uaW5pdGlhdGVfc3VwcG9ydF9jaGF0KCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZtLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6ICJTb3JyeSBJIGFtIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24iLAogICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGltZTogdm0uZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZtLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgIHRpbWU6IGkgPT0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZXMubGVuZ3RoIC0gMSA/IHZtLmdlbmVyYXRlX3RpbWUoKSA6IG51bGwKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9ICJTb3JyeSB3ZSBhcmUgbm90IGdldHRpbmcgeW91ciBxdWVzdGlvbi4iOwogICAgICAgICAgICAgICAgbXNnLnJlY2VpdmluZyA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0ICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0LmluY2x1ZGVzKCIucGRmIikpIHsKICAgICAgICAgICAgICAgIHZtLmRpc3BsYXlfcGRmX2NoYXQocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0ICE9IHVuZGVmaW5lZCAmJiAhcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dC5pbmNsdWRlcygiRG93bmxvYWQgeW91ciBtYW5pZmVzdCBoZXJlIikpIHsKICAgICAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQ7CiAgICAgICAgICAgICAgICBtc2cucmVjZWl2aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIG1zZy5pbWFnZSA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmltZzsKICAgICAgICAgICAgICAgIG1zZy52aWRlb3MgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS52aWRlbyA9PSBudWxsID8gW10gOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS52aWRlbzsKICAgICAgICAgICAgICAgIHZtLmNoYXQucHVzaChtc2cpOwoKICAgICAgICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdm0udG9fc2Nyb2xsID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5jaGlsZHJlbigpLmxhc3QoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA8IDAuNSkgewogICAgICAgICAgICAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKQogICAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKCIucmVjZWl2ZXIiKS5sYXN0KCkucGFyZW50KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPiAwLjUgJiYgJCgiLnJlY2VpdmVyIikubGFzdCgpLnBhcmVudCgpLmhlaWdodCgpIC8gJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIDwgMC42KSB7CiAgICAgICAgICAgICAgICAgICAgICAkKCIuY2hhdC1ib2R5IikuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogMC45ICogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpCiAgICAgICAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IDAuNzUgKiAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsSGVpZ2h0IikKICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSAtICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKSAhPSAwKSB7CiAgICAgICAgICAgICAgICAgIHZtLnRvX3Njcm9sbCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbnRlbnQgPT0gImNoYXRfc3VwcG9ydCIpIHsKICAgICAgICAgICAgICAgIG1zZy5yZWNlaXZpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgbXNnLnJlY2VpdmVkID0gIkkgYW0gY29ubmVjdGluZyB5b3UgdG8gb25lIG9mIG91ciBzdXBwb3J0IGFnZW50cy4gUGxlYXNlIHdhaXQgZm9yIGEgd2hpbGUuIjsKICAgICAgICAgICAgICAgIHZtLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgICAgICAgICB2bS5jaGF0LnB1c2gobXNnKTsKICAgICAgICAgICAgICAgIHZtLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6ICJXaGF0J3MgeW91ciBuYW1lPyIsCiAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICAgICAgICB0aW1lOiB2bS5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdm0udXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICAgICAgICAgIGF4aW9zLmdldChhcGlfY2FsbHMuY2hhdF9ncm91cF9hcGkoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdm0uY2hhdF9ncm91cF9uYW1lID0gcmVzcG9uc2UuZGF0YS5jaGF0X2dyb3VwX25hbWU7CiAgICAgICAgICAgICAgICAgIHZtLmxpdmVfY2hhdF90b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICAgICAgICAgIHZtLmxpdmVfY2hhdF9vbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHZtLmNoYXRfc29ja2V0ID0gbmV3IFNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX0xJVkVfQ0hBVF9XRUJTT0NLRVRfRU5EUE9JTlQsIHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgY2hhdF9ncm91cF9uYW1lOiB2bS5jaGF0X2dyb3VwX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogdm0ubGl2ZV9jaGF0X3Rva2VuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdm0uY2hhdF9zb2NrZXQuY29ubmVjdCgpOwogICAgICAgICAgICAgICAgICB2bS5jaGFubmVsID0gdm0uY2hhdF9zb2NrZXQuY2hhbm5lbCgiY3VzdG9tZXJzX2dyb3VwczoiICsgdm0uY2hhdF9ncm91cF9uYW1lKTsKICAgICAgICAgICAgICAgICAgdm0uY2hhbm5lbC5qb2luKCk7CiAgICAgICAgICAgICAgICAgIHZtLmNoYW5uZWwucHVzaCgiY3VzdG9tZXJfbmVlZHNfc3VwcG9ydF9hZ2VudCIpOwogICAgICAgICAgICAgICAgICB2bS5jaGFubmVsLm9uKCJuZXdfY2hhdF9tZXNzYWdlIiwgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc2VuZGVyICE9ICJjdXN0b21lciIpIHsKICAgICAgICAgICAgICAgICAgICAgIHZtLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiB2bS5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZtLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB2bS5jaGFubmVsLm9uKCJzdG9wcGVkX2NoYXQiLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgdm0uY2hhdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6ICJTdXBwb3J0IGFnZW50ICIgKyByZXMubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IF90aGlzOS5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB2bS5saXZlX2NoYXRfb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB2bS51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdm0uY2hhbm5lbC5vbigic3RhcnRlZF90eXBpbmciLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgdm0uaXNfdHlwaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdm0uY2hhbm5lbC5vbigic3RvcHBlZF90eXBpbmciLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgdm0uaXNfdHlwaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dCAhPSB1bmRlZmluZWQgJiYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQuaW5jbHVkZXMoIkRvd25sb2FkIHlvdXIgbWFuaWZlc3QgaGVyZSIpIHx8IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQuaW5jbHVkZXMoLy5wZGYvKSkpIHsKICAgICAgICAgICAgICAgIHZtLmRpc3BsYXlfcGRmX2NoYXQocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0pOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ucHJvZHVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdm0uZGlzcGxheV9wcm9kdWN0c19jaGF0KHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaSA8IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgaSArPSAxOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICBkZWxheSA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQubGVuZ3RoID4gMTAgPyAyMDAwIDogNTAwOwogICAgICAgICAgICBoYW5kbGVfcmVzcG9uc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBkZWxheSk7CiAgICAgIH0KICAgIH0sCiAgICBwdXNoX21zZzogZnVuY3Rpb24gcHVzaF9tc2cocmVzcG9uc2VzLCByZXNwb25zZSkgewogICAgICB2YXIgaW5kZXggPSAwOwogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgZGVsYXkgPSByZXNwb25zZVtpbmRleF0udGV4dC5sZW5ndGggPiAxMCA/IDIwMDAgOiA1MDA7CiAgICAgIHB1c2hfY2hhdChyZXNwb25zZVtpbmRleF0sIGRlbGF5KTsKICAgICAgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkID0gdHJ1ZTsKCiAgICAgIGZ1bmN0aW9uIHB1c2hfY2hhdChtc2csIHRpbWVfZGVsYXkpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwoKICAgICAgICAgIGlmIChyZXNwb25zZXMuZGF0YS5yZXNwb25zZXNbaW5kZXhdLmJ1dHRvbnMgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHZtLmxvYWRfYnV0dG9ucyhyZXNwb25zZXMuZGF0YS5yZXNwb25zZXNbaW5kZXhdLCAiaXNfYnV0dG9uIiwgIndlbGNvbWVfbWVzc2FnZSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0uY2hhdC5wdXNoKHsKICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgICAgcmVjZWl2ZWQ6IG1zZy50ZXh0LAogICAgICAgICAgICAgIHRpbWU6IGluZGV4ID09IHJlc3BvbnNlLmxlbmd0aCAtIDEgPyB2bS5nZW5lcmF0ZV90aW1lKCkgOiB1bmRlZmluZWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgJCgiLnRpbWUiKS5sYXN0KCkuY3NzKCJkaXNwbGF5IiwgIm5vbmUiKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIudGltZSIpLmxhc3QoKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKCiAgICAgICAgICAgIGlmIChpbmRleCA8IHJlc3BvbnNlLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICBpbmRleCArPSAxOwogICAgICAgICAgICAgIGRlbGF5ID0gcmVzcG9uc2VbaW5kZXhdLnRleHQubGVuZ3RoID4gMTAgPyAyMDAwIDogNTAwOwogICAgICAgICAgICAgIHB1c2hfY2hhdChyZXNwb25zZVtpbmRleF0sIGRlbGF5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnMScpOwogICAgICAgICAgICAgIHZtLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9LCB0aW1lX2RlbGF5KTsKICAgICAgfQogICAgfSwKICAgIGNvbmZ1c2lvbl9tZXNzYWdlOiBmdW5jdGlvbiBjb25mdXNpb25fbWVzc2FnZShtc2dfc3RyaW5nKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgIGNoYXQ6IG1zZ19zdHJpbmcsCiAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICB1c2VyX2lkOiAiIiwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIGRhdGE6ICIiLAogICAgICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IGZhbHNlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMxMC5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpeF9hcHBvaW50bWVudDogZnVuY3Rpb24gZml4X2FwcG9pbnRtZW50KCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIGRpc3BsYXlfcHJvZHVjdHNfY2hhdDogZnVuY3Rpb24gZGlzcGxheV9wcm9kdWN0c19jaGF0KG1lc3NhZ2UpIHsKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9OwogICAgICBtc2cuaXNwcm9kdWN0ID0gdHJ1ZTsKICAgICAgbXNnLmVsZW1lbnRzID0gbWVzc2FnZTsKICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgIH0sCiAgICBkaXNwbGF5X3BkZl9jaGF0OiBmdW5jdGlvbiBkaXNwbGF5X3BkZl9jaGF0KG1lc3NhZ2UpIHsKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9OwoKICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIkRvd25sb2FkIHlvdXIgbWFuaWZlc3QgaGVyZSAiKSkgewogICAgICAgIHZhciB0ZW1wID0gbWVzc2FnZS5zcGxpdCgiRG93bmxvYWQgeW91ciBtYW5pZmVzdCBoZXJlICIpOwogICAgICAgIG1zZy51cmwgPSB0ZW1wWzFdOwogICAgICAgIG1zZy5yZWNlaXZpbmcgPSBmYWxzZTsKICAgICAgICBtc2cuZmlsZV9uYW1lID0gbWVzc2FnZS5zcGxpdCgvXi4qW1xcXC9dLylbMV07CiAgICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdGhpcy5jaGF0KTsKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHVybCA9IG1lc3NhZ2UubWF0Y2goLygoKFtBLVphLXpdezMsOX06KD86XC9cLyk/KSg/OltcLTs6Jj1cK1wkLFx3XStAKT9bQS1aYS16MC05XC5cLV0rfCg/Ond3d1wufFtcLTs6Jj1cK1wkLFx3XStAKVtBLVphLXowLTlcLlwtXSspKCg/OlwvW1wrfiVcL1wuXHdcLV9dKik/XD8/KD86W1wtXCs9JjslQFwuXHdfXSopIz8oPzpbXC5cIVwvXFxcd10qKSk/KS9nKVswXTsKICAgICAgICBtc2cudXJsID0gdXJsOwogICAgICAgIG1zZy5yZWNlaXZpbmcgPSBmYWxzZTsKICAgICAgICBtc2cuZmlsZV9uYW1lID0gdXJsLnNwbGl0KC9eLipbXFxcL10vKVsxXTsKICAgICAgICB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgfQogICAgfSwKICAgIGdlbmVyYXRlX3BheW1lbnQ6IGZ1bmN0aW9uIGdlbmVyYXRlX3BheW1lbnQocHJpY2UsIG5hbWUpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAga2V5OiAicnpwX3Rlc3RfU25EVGFQbm5jZmxpRHQiLAogICAgICAgIGFtb3VudDogcHJpY2UgKiAxMDAsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgIG5hbWU6ICJDZW5zZSBBSSIsCiAgICAgICAgY3VycmVuY3k6ICJJTlIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiSW5zdGlsbCBJbnRlbGxpZ2VuY2UiLAogICAgICAgIGltYWdlOiAiL2ltZy9jZW5zZV9pbWFnZS5wbmciLAogICAgICAgIC8vIENPTVBBTlkgTE9HTwogICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBjb250YWN0ID0gJCgnI2NvbnRhY3RbdHlwZT0idGVsIl0nKS52YWx1ZTsKICAgICAgICAgIHZhciBlbWFpbCA9ICQoJyNlbWFpbFt0eXBlPSJlbWFpbCJdJykudmFsdWU7CiAgICAgICAgICB2bS5wYXltZW50aWQgPSByZXNwb25zZS5yYXpvcnBheV9wYXltZW50X2lkOwoKICAgICAgICAgIGlmICh0cmFuc2Zlcl9hY2NvdW50ICE9IG51bGwpIHsKICAgICAgICAgICAgdm0udHJhbnNmZXJfcGF5bWVudCh0cmFuc2Zlcl9hY2NvdW50LCBwcmljZSAqIDEwMCwgIklOUiIsIG5hbWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJlZmlsbDogewogICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAvLyBwYXNzIGN1c3RvbWVyIG5hbWUKICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgIC8vIGN1c3RvbWVyIGVtYWlsCiAgICAgICAgICBjb250YWN0OiAiIiAvL2N1c3RvbWVyIHBob25lIG5vLgoKICAgICAgICB9LAogICAgICAgIG5vdGVzOiB7CiAgICAgICAgICBhZGRyZXNzOiAiYWRkcmVzcyIgLy9jdXN0b21lciBhZGRyZXNzCgogICAgICAgIH0sCiAgICAgICAgdGhlbWU6IHsKICAgICAgICAgIGNvbG9yOiAiIzI4Mzc3NyIgLy8gc2NyZWVuIGNvbG9yCgogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIHJ6cDEgPSBuZXcgUmF6b3JwYXkob3B0aW9ucyk7CiAgICAgIHJ6cDEub3BlbigpOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSwKICAgIHRyYW5zZmVyX3BheW1lbnQ6IGZ1bmN0aW9uIHRyYW5zZmVyX3BheW1lbnQoYWNjb3VudCwgYW1vdW50LCBjdXJyZW5jeSwgbmFtZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KCJodHRwczovL2FwaS5yYXpvcnBheS5jb20vMS90cmFuc2ZlcnMiLCB7CiAgICAgICAgYXV0aDogewogICAgICAgICAgcnpwX3Rlc3RfU25EVGFQbm5jZmxpRHQ6ICJsbHhFS2JnQUJIOEx4NFhBcGV4OWNHemoiCiAgICAgICAgfSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBhY2NvdW50OiBhY2NvdW50LAogICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICBjdXJyZW5jeTogY3VycmVuY3kKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gaWYodGhpcy51c2VyX2RhdGEuYXBpX2tleSE9JycpIHsKICAgICAgICBfdGhpczExLnNob3BpZnlfb3JkZXJfY3JlYXRlKG5hbWUpOyAvLyB9CgogICAgICB9KTsKICAgIH0sCiAgICBzaG9waWZ5X29yZGVyX2NyZWF0ZTogZnVuY3Rpb24gc2hvcGlmeV9vcmRlcl9jcmVhdGUobmFtZSkge30sCiAgICBjbGlja19wcm9tcHQ6IGZ1bmN0aW9uIGNsaWNrX3Byb21wdCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHRoaXMubGl2ZV9jaGF0X29uID0gZmFsc2U7CiAgICAgIHZhciBkaXZjbGlja3BvcHVwID0gZXZlbnQudGFyZ2V0LmlubmVyVGV4dDsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9LCA1MDApOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoKICAgICAgaWYgKHR5cGUgIT0gImNvbGxhcHNpYmxlIikgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb21wdF91cmwoKSwgewogICAgICAgICAgdWlkOiAiY2Vuc2UiLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICBjaGF0OiBldmVudC50YXJnZXQuaW5uZXJUZXh0LAogICAgICAgICAgbGV2ZWw6IGV2ZW50LnRhcmdldC5hdHRyaWJ1dGVzLnZhbHVlLm5vZGVWYWx1ZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2xsYXBzaWJsZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzMTIuY3JlYXRlX2NoYXQocmVzcG9uc2UuZGF0YSwgImlzcHJvbXB0Iik7CgogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuZXh0cmFzICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLmV4dHJhc1swXS5UeXBlID09ICJUQUJMRSIpIHsKICAgICAgICAgICAgX3RoaXMxMi5jcmVhdGVfY2hhdChyZXNwb25zZS5kYXRhLCAiaXN0YWJsZSIpOwoKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gIk9vcHMhIFNvbWV0aGluZyB3ZW50IHdyb25nISIpIHsKICAgICAgICAgICAgICBfdGhpczEyLmNyZWF0ZV9jaGF0KHJlc3BvbnNlLmRhdGEsICJpc3Byb21wdCIpOwoKICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiT29wcyEgU29tZXRoaW5nIHdlbnQgd3JvbmchIikgewogICAgICAgICAgICAgIF90aGlzMTIuY2hhdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICBfdGhpczEyLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgX3RoaXMxMi5jaGF0KTsKCiAgICAgICAgICAgICAgX3RoaXMxMi51cGRhdGVfc2Nyb2xsYmFyKCk7CgogICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImNvbGxhcHNpYmxlIikgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb21wdF91cmwoKSwgewogICAgICAgICAgdWlkOiAiY2Vuc2UiLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICBjaGF0OiAiIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczEyLmNoYXQucHVzaChyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBfdGhpczEyLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CgogICAgICAgICAgX3RoaXMxMi4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIF90aGlzMTIuY2hhdCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBidXR0b25fZmlsbDogZnVuY3Rpb24gYnV0dG9uX2ZpbGwoKSB7CiAgICAgIGlmICh0aGlzLmlzZXhjaGFuZ2UpIHsKICAgICAgICBpZiAodGhpcy50b19zZW5kID09ICIiKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VuZF9idXR0b24iKS5zdHlsZS5maWxsID0gIiM4YThhOGE2MyI7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRvX3NlbmQgIT0gIiIpIHsKICAgICAgICAgIGlmICh0aGlzLmxpdmVfY2hhdF9vbikgewogICAgICAgICAgICB0aGlzLmNoYW5uZWwucHVzaCgic3RhcnRlZF90eXBpbmciKTsKICAgICAgICAgICAgdGhpcy5zdG9wX3R5cGluZyh0aGlzKTsKICAgICAgICAgIH0KCiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VuZF9idXR0b24iKS5zdHlsZS5maWxsID0gIiNmZGNmMzgiOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghdGhpcy5pc2V4Y2hhbmdlKSB7CiAgICAgICAgaWYgKHRoaXMudG9fc2VuZCA9PSAiIikgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbmRfYnV0dG9uIikuc3R5bGUuZmlsbCA9ICIjOGE4YThhNjMiOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy50b19zZW5kICE9ICIiKSB7CiAgICAgICAgICBpZiAodGhpcy5saXZlX2NoYXRfb24pIHsKICAgICAgICAgICAgdGhpcy5jaGFubmVsLnB1c2goInN0YXJ0ZWRfdHlwaW5nIik7CiAgICAgICAgICAgIHRoaXMuc3RvcF90eXBpbmcodGhpcyk7CiAgICAgICAgICB9CgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbmRfYnV0dG9uIikuc3R5bGUuZmlsbCA9ICIjMjczNjc5IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzdG9wX3R5cGluZzogZGVib3VuY2UoZnVuY3Rpb24gKHZtKSB7CiAgICAgIHZtLmNoYW5uZWwucHVzaCgic3RvcHBlZF90eXBpbmciKTsKICAgIH0sIDUwMDApLAogICAgc2Nyb2xsX2Rvd246IGZ1bmN0aW9uIHNjcm9sbF9kb3duKCkgewogICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGF0LWJvZHkiKS5zY3JvbGxUb3AgLSAkKCIuY2hhdC1oaXMiKS5sYXN0KCkuaGVpZ2h0KCkgPD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLmNsaWVudEhlaWdodCkgewogICAgICAgIHRoaXMudG9fc2Nyb2xsID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50b19zY3JvbGwgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgbG9hZF9idXR0b25zOiBmdW5jdGlvbiBsb2FkX2J1dHRvbnMobWVzc2FnZSwgaW5kZXgsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICBidXR0b25zX2xpc3Q6IFtdLAogICAgICAgIGJ1dHRvbl9wcmVmaXg6IG1lc3NhZ2UucHJlZml4LAogICAgICAgIGN1c3RvbV9idXR0b25zOiB0cnVlLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogbWVzc2FnZS50ZXh0LAogICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgIHJlbW92YWJsZTogdHlwZSA9PSAid2VsY29tZV9tZXNzYWdlIiA/IGZhbHNlIDogdHJ1ZQogICAgICB9OwoKICAgICAgaWYgKG1lc3NhZ2UuYnV0dG9ucy5sZW5ndGggPT0gMykgewogICAgICAgIGlmIChtZXNzYWdlLmJ1dHRvbnNbMF0udGl0bGUgPT0gIkV4Y2hhbmdlIFJhdGUiICYmIG1lc3NhZ2UuYnV0dG9uc1sxXS50aXRsZSA9PSAiVHJhY2sgTXkgUGFyY2VsIiAmJiBtZXNzYWdlLmJ1dHRvbnNbMl0udGl0bGUgPT0gIkNhbGwgSGVscGRlc2siKSB7CiAgICAgICAgICBtc2cucmVtb3ZhYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAobWVzc2FnZS50ZXh0ID09ICJXb3VsZCB5b3UgbGlrZSB0byBzaGFyZSB5b3VyIG5hbWUgYW5kIG51bWJlcj8iICYmIHRoaXMuaXNleGNoYW5nZSkgewogICAgICAgICQoIiNyZXNwb25zZV9ib3RfdGV4dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgaW4gbWVzc2FnZS5idXR0b25zKSB7CiAgICAgICAgaWYgKG1zZy5idXR0b25fcHJlZml4ICE9IG51bGwpIHsKICAgICAgICAgIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlLmJ1dHRvbnNbaV0udGl0bGUsCiAgICAgICAgICAgIHZhbHVlOiBtc2cuYnV0dG9uX3ByZWZpeCArIG1lc3NhZ2UuYnV0dG9uc1tpXS52YWx1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlLmJ1dHRvbnNbaV0udGl0bGUsCiAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlLmJ1dHRvbnNbaV0udmFsdWUKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1zZy5idXR0b25zX2xpc3RbaV0udGl0bGUgPT0gIk5vIiAmJiBtZXNzYWdlLnRleHQgIT0gIkNhbiBJIGhlbHAgeW91IHdpdGggYW55dGhpbmcgZWxzZT8iICYmIHRoaXMuY29tcGFueWlkID09ICJjbGluaWNhbHRyaWFsczgxMzUyIikgewogICAgICAgICAgbXNnLmJ1dHRvbnNfbGlzdFtpXS52YWx1ZSA9ICJpc2Rpc2FibGVkIjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTMuY2hhdC5wdXNoKG1zZyk7CgogICAgICAgIGlmIChpbmRleCA9PSAiaXNfYnV0dG9uIiB8fCBpbmRleCA9PSAwKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5jaGlsZHJlbigpLmxhc3QoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA8IDAuNSkgewogICAgICAgICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpCiAgICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsVG9wIikgKyA1MAogICAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxMy50b19zY3JvbGwgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMxMy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIF90aGlzMTMuY2hhdCk7CiAgICAgIH0sIDI1MDApOwogICAgfSwKICAgIG11bHRpc2VsZWN0X2xvYWQ6IGZ1bmN0aW9uIG11bHRpc2VsZWN0X2xvYWQobWVzc2FnZSwgaW5kZXgpIHsKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICBtdWx0aXNlbGVjdF92YWx1ZXM6IG1lc3NhZ2UuY3VzdG9tLnZhbHVlcywKICAgICAgICBwbGFjZWhvbGRlcjogbWVzc2FnZS5jdXN0b20ucGxhY2Vob2xkZXIsCiAgICAgICAgaXNfbXVsdGlzZWxlY3Q6IHRydWUsCiAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgIHJlY2VpdmVkOiBtZXNzYWdlLnRleHQsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgfTsKICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgIH0sCiAgICBsb2FkX3RhYmxlOiBmdW5jdGlvbiBsb2FkX3RhYmxlKG1lc3NhZ2UsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgY29sX2xpc3Q6IE9iamVjdC5rZXlzKG1lc3NhZ2UuY3VzdG9tLnZhbHVlc1swXSksCiAgICAgICAgdGFibGVfdmFsdWU6IG1lc3NhZ2UuY3VzdG9tLnZhbHVlcywKICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgcmVjZWl2ZWQ6IG1lc3NhZ2UudGV4dCwKICAgICAgICBpc190YWJsZTogdHJ1ZSwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9OwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczE0LmNoYXQucHVzaChtc2cpOwoKICAgICAgICBpZiAoaW5kZXggPT0gMCkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIuY2hhdC1ib2R5IikuY2hpbGRyZW4oKS5sYXN0KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPCAwLjUpIHsKICAgICAgICAgICAgICAkKCIuY2hhdC1ib2R5IikuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKQogICAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogMC43ICogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpCiAgICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkKCIuY2hhdC1ib2R5IikuYW5pbWF0ZSh7CiAgICAgICAgICAgIHNjcm9sbFRvcDogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbFRvcCIpICsgMTAwCiAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgIF90aGlzMTQudG9fc2Nyb2xsID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sIDI1MDApOwogICAgfSwKICAgIGNyZWF0ZV9jaGF0OiBmdW5jdGlvbiBjcmVhdGVfY2hhdChtZXNzYWdlLCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHZhciBjdXJyZW5jeV9saXN0ID0gW107CgogICAgICBpZiAodHlwZSA9PSAiaXN0YWJsZSIpIHsKICAgICAgICBheGlvcy5nZXQoImh0dHBzOi8vYXBpLmV4Y2hhbmdlcmF0ZXNhcGkuaW8vbGF0ZXN0IiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGJhc2U6ICJBVUQiCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGZvciAodmFyIGkgaW4gbWVzc2FnZS5leHRyYXNbMF0uVEFCTEUpIHsKICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZXh0cmFzWzBdLlRBQkxFW2ldLlBST1AgPT0gIlRSIikgewogICAgICAgICAgICAgIGN1cnJlbmN5X2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICBjdXJyZW5jeV90aXRsZTogbWVzc2FnZS5leHRyYXNbMF0uVEFCTEVbaV0uVEQsCiAgICAgICAgICAgICAgICBjdXJyZW5jeV92YWx1ZTogcGFyc2VGbG9hdChNYXRoLnJvdW5kKHJlc3BvbnNlLmRhdGEucmF0ZXNbbWVzc2FnZS5leHRyYXNbMF0uVEFCTEVbaV1bIlREXzEiXV0gKiAxMDApIC8gMTAwKS50b0ZpeGVkKDQpLAogICAgICAgICAgICAgICAgdHlwZTogIlRSIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuZXh0cmFzWzBdLlRBQkxFW2ldLlBST1AgPT0gIlRIRUFEIiAmJiAhX3RoaXMxNS5pc2V4Y2hhbmdlKSB7CiAgICAgICAgICAgICAgY3VycmVuY3lfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIGNvdW50cnlfbmFtZTogbWVzc2FnZS5leHRyYXNbMF0uVEFCTEVbaV0uVEQsCiAgICAgICAgICAgICAgICBjdXJyZW5jeV9uYW1lOiBtZXNzYWdlLmV4dHJhc1swXS5UQUJMRVtpXS5URF8xLAogICAgICAgICAgICAgICAgdHlwZTogIlRIRUFEIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vLwoKCiAgICAgICAgICBfdGhpczE1LmN1cnJlbmN5ZXhjaGFuZ2VfbGlzdCA9IGN1cnJlbmN5X2xpc3Q7IC8vLwoKICAgICAgICAgIF90aGlzMTUuY2hhdC5wdXNoKHsKICAgICAgICAgICAgaXNfdGFibGU6IHRydWUsCiAgICAgICAgICAgIHRhYmxlX3RpdGxlOiBfdGhpczE1LnBhcnNlKG1lc3NhZ2UudGl0bGUpLAogICAgICAgICAgICB0YWJsZV9saXN0OiBjdXJyZW5jeV9saXN0CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczE1LnVwZGF0ZV9zY3JvbGxiYXIoKTsKCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiaXNwcm9tcHQiKSB7CiAgICAgICAgaWYgKG1lc3NhZ2UubGV2ZWwgPiAwKSB7CiAgICAgICAgICB0aGlzLmNoYXQucHVzaChtZXNzYWdlKTsKICAgICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwogICAgICAgICAgdGhpcy5sZXZlbCA9IG1lc3NhZ2UubGV2ZWw7CiAgICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKG1lc3NhZ2UpOwogICAgICAgICAgdGhpcy5maXJzdF9jbGljayA9IHRydWU7CiAgICAgICAgICB0aGlzLmxldmVsID0gbWVzc2FnZS5sZXZlbDsKICAgICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGF0LnB1c2gobWVzc2FnZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwogICAgfSwKICAgIHN1Ym1pdF9jdXN0b21fZm9ybTogZnVuY3Rpb24gc3VibWl0X2N1c3RvbV9mb3JtKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2RldGFpbHNfZm9ybSIpICE9IG51bGwpIHsKICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkZXRhaWxzX2Zvcm0iKTsKICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoInN1Ym1pdCIsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gYWN0dWFsIGxvZ2ljLCBlLmcuIHZhbGlkYXRlIHRoZSBmb3JtCgogICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJCgiI2RldGFpbHNfZm9ybSIpLnNlcmlhbGl6ZUFycmF5KCk7CgogICAgICAgICAgaWYgKF90aGlzMTYuZm9ybV9wYXlsb2FkID09IG51bGwpIHsKICAgICAgICAgICAgdmFyIF9heGlvcyRwb3N0NjsKCiAgICAgICAgICAgIF90aGlzMTYuZm9ybV9wYXlsb2FkID0ge307CgogICAgICAgICAgICBmb3IgKHZhciBpIGluIHF1ZXJ5U3RyaW5nKSB7CiAgICAgICAgICAgICAgX3RoaXMxNi5mb3JtX3BheWxvYWRbcXVlcnlTdHJpbmdbaV0ubmFtZV0gPSBxdWVyeVN0cmluZ1tpXS52YWx1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYm90X3VzZXJfZGF0YSgpLCAoX2F4aW9zJHBvc3Q2ID0gewogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczE2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgZGF0YTogX3RoaXMxNi5mb3JtX3BheWxvYWQsCiAgICAgICAgICAgICAgdG9rZW46IF90aGlzMTYuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczE2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgc291cmNlOiAiV2ViIgogICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q2LCAidG9rZW4iLCBfdGhpczE2LmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDYsICJyb2xlIiwgX3RoaXMxNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfYXhpb3MkcG9zdDYpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJCb3QgVXNlciBEYXRhIFNhdmVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICAgICQoIiNkZXRhaWxzX2Zvcm0gOmlucHV0IikucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgICAgICAgICAgICAgICQoIiNkZXRhaWxzX2Zvcm0gOmJ1dHRvbiIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX3RoaXMxNi51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwoKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgICAgICAgICAgICBjaGF0OiAiL2RldGFpbHNfZm9ybSIsCiAgICAgICAgICAgICAgICAgIHRva2VuOiBfdGhpczE2LmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IF90aGlzMTYuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgICAgICAgICAgdXNlcl9pZDogIiIsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczE2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICAgIERldGFpbHM6IEpTT04uc3RyaW5naWZ5KF90aGlzMTYuZm9ybV9wYXlsb2FkKSwKICAgICAgICAgICAgICAgICAgcm9sZTogX3RoaXMxNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgICAgICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTYucmVzcG9uc2VfaGFuZGxpbmcocmVzcCk7CgogICAgICAgICAgICAgICAgICAkKCIuY2hhdC1ib2R5IikuYW5pbWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsSGVpZ2h0IikKICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7Ly8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlX3Njcm9sbGJhcjogZnVuY3Rpb24gdXBkYXRlX3Njcm9sbGJhcih0eXBlLCBpc3Jlc3BvbnNlLCBpc3dlbGNvbWUsIGRlbGF5X3ZhbHVlKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHZhciBzY3JvbGxfZGVsYXkgPSBpc3dlbGNvbWUgPT0gImlzX3dlbGNvbWUiID8gZGVsYXlfdmFsdWUgOiAyMDAwOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoKICAgICAgaWYgKGlzcmVzcG9uc2UgPT0gInJlc3BvbnNlIikgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIHNjcm9sbF9kZWxheSk7CiAgICAgIH0gZWxzZSBpZiAoaXNyZXNwb25zZSA9PSAic2VuZGVyIikgewogICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgIHNjcm9sbFRvcDogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpCiAgICAgICAgfSwgNzUwKTsKICAgICAgfQoKICAgICAgaWYgKGlzcmVzcG9uc2UgIT0gInNlbmRlciIpIHsKICAgICAgICBpZiAodHlwZSA9PSAidXB0b19lbmQiKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxUb3AiKSA8ICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKSkgewogICAgICAgICAgICAgIGlmICgkKCIucmVjZWl2ZXIiKS5sYXN0KCkucGFyZW50KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPiAwLjUpIHsKICAgICAgICAgICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAwLjc1ICogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpCiAgICAgICAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICAgICAgICAgIF90aGlzMTcudG9fc2Nyb2xsID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgiLnJlY2VpdmVyIikubGFzdCgpLnBhcmVudCgpLmhlaWdodCgpIC8gJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIDwgMC41KSB7CiAgICAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmFuaW1hdGUoewogICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsSGVpZ2h0IikKICAgICAgICAgICAgICB9LCBzY3JvbGxfZGVsYXkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBzY3JvbGxfZGVsYXkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGF0LWJvZHkiKS5zY3JvbGxIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5IikubGFzdENoaWxkLnNjcm9sbEhlaWdodDsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIEZYUGF5bWVudE1vZGU6IGZ1bmN0aW9uIEZYUGF5bWVudE1vZGUoKSB7CiAgICAgIHRoaXMudG9fc2VuZCA9ICIvRm9yZWlnbnhjaGFuZ2UxNzQ5MV9wYXltZW50X21vZGUiOwogICAgICB0aGlzLnNlbmRfbWVzc2FnZSgiaXNfcHJvbXB0IiwgIi9Gb3JlaWdueGNoYW5nZTE3NDkxX3BheW1lbnRfbW9kZSIsICJQYXltZW50Iik7CiAgICB9LAogICAgRlhUcmFja2luZ1BhcmNlbDogZnVuY3Rpb24gRlhUcmFja2luZ1BhcmNlbCgpIHsKICAgICAgdGhpcy50b19zZW5kID0gIi9Gb3JlaWdueGNoYW5nZTE3NDkxX3RyYWNraW5nX3BhcmNlbCI7CiAgICAgIHRoaXMuc2VuZF9tZXNzYWdlKCJpc19wcm9tcHQiLCAiL0ZvcmVpZ254Y2hhbmdlMTc0OTFfdHJhY2tpbmdfcGFyY2VsIiwgIlRyYWNrIE15IFBhcmNlbCIpOwogICAgfSwKICAgIC8vIEZvcmVpZ25FeGNoYW5nZUNvbnZlcnNpb24oKSB7CiAgICAvLyAgIHRoaXMudG9fc2VuZCA9ICIvRm9yZWlnbnhjaGFuZ2UxNzQ5MV9leGNoYW5nZV9yYXRlIjsKICAgIC8vICAgdGhpcy5zZW5kX21lc3NhZ2UoCiAgICAvLyAgICAgImlzX3Byb21wdCIsCiAgICAvLyAgICAgIi9Gb3JlaWdueGNoYW5nZTE3NDkxX2V4Y2hhbmdlX3JhdGUiLAogICAgLy8gICAgICJFeGNoYW5nZSBSYXRlIgogICAgLy8gICApOwogICAgLy8gfSwKICAgIEZvcmVpZ25FeGNoYW5nZUNvbnZlcnNpb246IGZ1bmN0aW9uIEZvcmVpZ25FeGNoYW5nZUNvbnZlcnNpb24oKSB7CiAgICAgIC8vIHRoaXMudG9fc2VuZCA9ICIvRm9yZWlnbnhjaGFuZ2UxNzQ5MV9leGNoYW5nZV9yYXRlIjsKICAgICAgdGhpcy50b19zZW5kID0gJy9Gb3JlaWdueGNoYW5nZTE3NDkxX2V4Y2hhbmdlX3JhdGV7IkJVWV9PUl9TRUxMIjogIkJVWSJ9JzsKICAgICAgdGhpcy5zZW5kX21lc3NhZ2UoImlzX3Byb21wdCIsICcvRm9yZWlnbnhjaGFuZ2UxNzQ5MV9leGNoYW5nZV9yYXRleyJCVVlfT1JfU0VMTCI6ICJCVVkifScsICJFeGNoYW5nZSBSYXRlIik7CiAgICB9LAogICAgZXgxOiBmdW5jdGlvbiBleDEoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicjEiKSAhPSBudWxsKSB7CiAgICAgICAgICAkKCIjbDEiKS52YWwoMSk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczE4LmN1cnJlbmN5ZXhjaGFuZ2VfbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAkKCIjY291bnRyeSIpLmFwcGVuZCgiPG9wdGlvbiB2YWx1ZT1cIiIuY29uY2F0KF90aGlzMTguY3VycmVuY3lleGNoYW5nZV9saXN0W2ldLmN1cnJlbmN5X3ZhbHVlLCAiXCI+IikuY29uY2F0KF90aGlzMTguY3VycmVuY3lleGNoYW5nZV9saXN0W2ldLmN1cnJlbmN5X3RpdGxlLCAiPC9vcHRpb24+IikpOwogICAgICAgICAgfQoKICAgICAgICAgICQoIiNyMSIpLnRleHQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkiKS52YWx1ZSk7IC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyMSIpLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAvLyAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInIxIikuaW5uZXJUZXh0OwogICAgICAgICAgLy8gICB2YXIgY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkiKS52YWx1ZTsKICAgICAgICAgIC8vICAgeCA9IHggLyBjb247CiAgICAgICAgICAvLyAgIHggPSB4LnRvRml4ZWQoNCk7CiAgICAgICAgICAvLyAgICQoIiNsMSIpLnZhbCh4KTsKICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsMSIpLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsMSIpLnZhbHVlOwogICAgICAgICAgICB2YXIgY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkiKS52YWx1ZTsKICAgICAgICAgICAgeCA9IHggKiBjb247CiAgICAgICAgICAgIHggPSB4LnRvRml4ZWQoNCk7CiAgICAgICAgICAgICQoIiNyMSIpLnRleHQoeCk7CiAgICAgICAgICB9KTsKICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCJjaGFuZ2UiLCAiI2NvdW50cnkiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3VudHJ5IikuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCBmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsMSIpLnZhbHVlOwogICAgICAgICAgICB2YXIgY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkiKS52YWx1ZTsKICAgICAgICAgICAgeCA9IHggKiBjb247CiAgICAgICAgICAgIHggPSB4LnRvRml4ZWQoNCk7CiAgICAgICAgICAgICQoIiNyMSIpLnRleHQoeCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgYWRkZHJvcGRvd252YWx1ZTogZnVuY3Rpb24gYWRkZHJvcGRvd252YWx1ZSgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvblswXSAhPSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnRvX3NlbmQgPSAiIjsKICAgICAgICB0aGlzLnJlcyA9IHt9OwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgICB0aGlzLnRvX3NlbmQgPSB0aGlzLnNlbGVjdGVkX2luZGljYXRpb25baV0udGl0bGU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnRvX3NlbmQgPSB0aGlzLnRvX3NlbmQgKyAiLCAiICsgdGhpcy5zZWxlY3RlZF9pbmRpY2F0aW9uW2ldLnRpdGxlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLnJlc1t0aGlzLnNlbGVjdGVkX2luZGljYXRpb25baV0udmFsdWUuc3BsaXQoJyInKVsxXV0gPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMucmVzW3RoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvbltpXS52YWx1ZS5zcGxpdCgnIicpWzFdXSA9IHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvbltpXS52YWx1ZS5zcGxpdCgnIicpWzNdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5yZXNbdGhpcy5zZWxlY3RlZF9pbmRpY2F0aW9uW2ldLnZhbHVlLnNwbGl0KCciJylbMV1dID0gdGhpcy5yZXNbdGhpcy5zZWxlY3RlZF9pbmRpY2F0aW9uW2ldLnZhbHVlLnNwbGl0KCciJylbMV1dICsgIiwiICsgdGhpcy5zZWxlY3RlZF9pbmRpY2F0aW9uW2ldLnZhbHVlLnNwbGl0KCciJylbM107CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLmJ1dHRvbl9maWxsKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50b19zZW5kID0gIiI7CiAgICAgICAgdGhpcy5yZXMgPSBbXTsKICAgICAgfQoKICAgICAgdGhpcy5idXR0b25fZmlsbCgpOwogICAgfSwKICAgIGNsb3NlZF9ib3RfY2hhdDogZnVuY3Rpb24gY2xvc2VkX2JvdF9jaGF0KG1lc3NhZ2UsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgLy8gZGVidWdnZXI7CiAgICAgIC8vIGNvbnNvbGUubG9nKG1lc3NhZ2UpOwogICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSB0cnVlOyAvLyBsYXN0Y2xvc2VkYm90aW5wdXRub2RlCgogICAgICBpZiAobWVzc2FnZS5ub2Rlc1ttZXNzYWdlLm5vZGVzLmxlbmd0aCAtIDFdLm5vZGVfdHlwZSA9PSAiaGVhZGVyIiAmJiBtZXNzYWdlLm5vZGVzW21lc3NhZ2Uubm9kZXMubGVuZ3RoIC0gMV0ubm9kZV90eXBlICE9IG51bGwgJiYgIXRoaXMuZW1wdHlfc3RyaW5nX3ZhbGlkaXR5LnRlc3QobWVzc2FnZS5ub2Rlc1ttZXNzYWdlLm5vZGVzLmxlbmd0aCAtIDFdLm5vZGVfdHlwZSkpIHsKICAgICAgICBpZiAobWVzc2FnZS5ub2Rlc1ttZXNzYWdlLm5vZGVzLmxlbmd0aCAtIDFdLnRpdGxlID09ICJEaXNwbGF5IE1lc3NhZ2UiKSB7CiAgICAgICAgICBtZXNzYWdlLm5vZGVzW21lc3NhZ2Uubm9kZXMubGVuZ3RoIC0gMV0udGl0bGUgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgcmVjZWl2ZWQ6IG1lc3NhZ2Uubm9kZXNbbWVzc2FnZS5ub2Rlcy5sZW5ndGggLSAxXS50aXRsZSwKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgdGltZTogbnVsbAogICAgICAgIH0pOwogICAgICB9IC8vIGNvbnNvbGUubG9nKG1lc3NhZ2Uubm9kZXMubGVuZ3RoKTsKCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2Uubm9kZXMubGVuZ3RoIC0gMTsgaSArPSAxKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cobWVzc2FnZS5ub2Rlcyk7CiAgICAgICAgaWYgKG1lc3NhZ2Uubm9kZXNbaV0ubm9kZV90eXBlID09ICJub2RlIiAmJiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZWxlbWVudF90eXBlID09ICJidXR0b24iICYmICFtZXNzYWdlLm5vZGVzW2ldLnBhcnRfb2ZfZm9ybSkgewogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIGJ1dHRvbnNfbGlzdDogW10sCiAgICAgICAgICAgIGJ1dHRvbl9wcmVmaXg6IG51bGwsCiAgICAgICAgICAgIGN1c3RvbV9idXR0b25zOiB0cnVlLAogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgIHJlbW92YWJsZTogdHlwZSA9PSAid2VsY29tZV9tZXNzYWdlIiA/IGZhbHNlIDogdHJ1ZQogICAgICAgICAgfTsKCiAgICAgICAgICB3aGlsZSAobWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICBpZiAobWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSA9PSAiYnV0dG9uIikgewogICAgICAgICAgICAgIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICB0aXRsZTogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmJ1dHRvbiwKICAgICAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQucGF5bG9hZCwKICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLm5vZGVzW2ldLm5vZGVfaWQsCiAgICAgICAgICAgICAgICBub2RlOiBtZXNzYWdlLm5vZGVzW2ldCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gLy8gbXNnLmJ1dHRvbnNfbGlzdC5wdXNoKHsKICAgICAgICAgICAgLy8gICB0aXRsZTogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmJ1dHRvbnMsCiAgICAgICAgICAgIC8vICAgdmFsdWU6IG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5wYXlsb2FkLAogICAgICAgICAgICAvLyB9KTsKCgogICAgICAgICAgICBpKys7CiAgICAgICAgICB9CgogICAgICAgICAgaS0tOwogICAgICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uubm9kZXNbaV0ubm9kZV90eXBlID09ICJub2RlIiAmJiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZWxlbWVudF90eXBlID09ICJ0ZXh0X2JveCIgJiYgIW1lc3NhZ2Uubm9kZXNbaV0ucGFydF9vZl9mb3JtKSB7CiAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgIHJlY2VpdmVkOiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQubWVzc2FnZQogICAgICAgICAgfSk7IC8vIHZhciBtc2cgPSB7CiAgICAgICAgICAvLyAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgLy8gICBidXR0b25zX2xpc3Q6IFtdLAogICAgICAgICAgLy8gICBidXR0b25fcHJlZml4OiBudWxsLAogICAgICAgICAgLy8gICBjdXN0b21fYnV0dG9uczogdHJ1ZSwKICAgICAgICAgIC8vICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgLy8gICByZWNlaXZlZDogJzxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iJyttZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQucGxhY2Vob2xkZXIrJyJuYW1lPSJjbG9zZWRfYm90X25vZGVfJytpKyciPicsCiAgICAgICAgICAvLyAgIHRpbWU6IG51bGwsCiAgICAgICAgICAvLyAgIHJlbW92YWJsZTogdHlwZSA9PSAid2VsY29tZV9tZXNzYWdlIiA/IGZhbHNlIDogdHJ1ZQogICAgICAgICAgLy8gfTsKCiAgICAgICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsgLy8gY29uc29sZS5sb2coJzInKTsKICAgICAgICAgIC8vIHRoaXMuY2hhdC5wdXNoKG1zZyk7CiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm5vZGVzW2ldLm5vZGVfdHlwZSA9PSAibm9kZSIgJiYgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSA9PSAidGV4dF9hcmVhIiAmJiAhbWVzc2FnZS5ub2Rlc1tpXS5wYXJ0X29mX2Zvcm0pIHsKICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICBidXR0b25zX2xpc3Q6IFtdLAogICAgICAgICAgICBidXR0b25fcHJlZml4OiBudWxsLAogICAgICAgICAgICBjdXN0b21fYnV0dG9uczogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAvLyByZWNlaXZlZDogJzxpbnB1dCB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iJyttZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQucGxhY2Vob2xkZXIrJyJuYW1lPSJjbG9zZWRfYm90X25vZGVfJytpKyciPicsCiAgICAgICAgICAgIHJlY2VpdmVkOiAnPHRleHRhcmVhIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJvd3M9IjQiIGNvbHM9IjE1MCJzdHlsZT0icGFkZGluZy1sZWZ0OjEycHg7cmVzaXplOm5vbmU7b3ZlcmZsb3cteTphdXRvO21pbi1oZWlnaHQ6MzBweCIgcGxhY2Vob2xkZXI9IicgKyBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQucGxhY2Vob2xkZXIgKyAnIm5hbWU9ImNsb3NlZF9ib3Rfbm9kZV8nICsgaSArICciPjwvdGV4dGFyZWE+JywKICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgcmVtb3ZhYmxlOiB0eXBlID09ICJ3ZWxjb21lX21lc3NhZ2UiID8gZmFsc2UgOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyID0gImNsb3NlZF9ib3Rfbm9kZV8iICsgaTsgLy8gbXNnLmJ1dHRvbnNfbGlzdC5wdXNoKHsKICAgICAgICAgIC8vICAgICB0aXRsZTogJ1N1Ym1pdCcsCiAgICAgICAgICAvLyAgICAgdmFsdWU6ICdTdWJtaXQnLAogICAgICAgICAgLy8gICB9KTsKCiAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2ZWQ6IG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5tZXNzYWdlLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICAgICAgdGhpcy5pc190ZXh0X2FyZWEgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gImVtYWlsIiAmJiAhbWVzc2FnZS5ub2Rlc1tpXS5wYXJ0X29mX2Zvcm0pIHsKICAgICAgICAgIHRoaXMuaXNlbWFpbCA9IHRydWU7IC8vIGlmKG1lc3NhZ2Uubm9kZXNbaV0udmFsaWRhdGlvbl9zdWNjZXNzZnVsID09IGZhbHNlKXsKICAgICAgICAgIC8vIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgIC8vICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgLy8gICByZWNlaXZlZDogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVycm9yX21zZywKICAgICAgICAgIC8vICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAvLyAgIHRpbWU6IG51bGwKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgLy8gdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkID0gZmFsc2U7CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyAgaWYoIW1lc3NhZ2Uubm9kZXNbaV0udmFsaWRhdGlvbl9zdWNjZXNzZnVsKXsKCiAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2ZWQ6IG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5tZXNzYWdlLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsgLy8gIH0KICAgICAgICAgIC8vIHZhciBtc2cgPSB7CiAgICAgICAgICAvLyAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgLy8gICBidXR0b25zX2xpc3Q6IFtdLAogICAgICAgICAgLy8gICBidXR0b25fcHJlZml4OiBudWxsLAogICAgICAgICAgLy8gICBjdXN0b21fYnV0dG9uczogdHJ1ZSwKICAgICAgICAgIC8vICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgLy8gICByZWNlaXZlZDogJzxpbnB1dCB0eXBlPSJlbWFpbCIgcGxhY2Vob2xkZXI9IicrbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50Lm1lc3NhZ2UrJyJuYW1lPSJjbG9zZWRfYm90X25vZGVfJytpKyciPicsCiAgICAgICAgICAvLyAgIHRpbWU6IG51bGwsCiAgICAgICAgICAvLyAgIHJlbW92YWJsZTogdHlwZSA9PSAid2VsY29tZV9tZXNzYWdlIiA/IGZhbHNlIDogdHJ1ZQogICAgICAgICAgLy8gfTsKICAgICAgICAgIC8vIC8vIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAvLyAvLyAgICAgdGl0bGU6ICdTdWJtaXQnLAogICAgICAgICAgLy8gLy8gICAgIHZhbHVlOiAnU3VibWl0JywKICAgICAgICAgIC8vIC8vICAgfSk7CiAgICAgICAgICAvLyB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gInBob25lX251bWJlciIgJiYgIW1lc3NhZ2Uubm9kZXNbaV0ucGFydF9vZl9mb3JtKSB7CiAgICAgICAgICB0aGlzLmlzX3Bob25lX251bWJlciA9IHRydWU7IC8vIGlmKG1lc3NhZ2Uubm9kZXNbaV0udmFsaWRhdGlvbl9zdWNjZXNzZnVsID09IGZhbHNlKXsKICAgICAgICAgIC8vIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgIC8vICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgLy8gICByZWNlaXZlZDogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVycm9yX21zZywKICAgICAgICAgIC8vICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAvLyAgIHRpbWU6IG51bGwKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgLy8gdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkID0gZmFsc2U7CiAgICAgICAgICAvLyB9CgogICAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICByZWNlaXZlZDogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50Lm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgcmVjZWl2ZWQ6ICc8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXgiPiA8c2VsZWN0IG5hbWU9ImNvdW50cnljb2RlIiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0icGFkZGluZy1sZWZ0OjZweCAhaW1wb3J0YW50O3BhZGRpbmctcmlnaHQ6NnB4ICFpbXBvcnRhbnQ7IHdpZHRoOjQwJTtoZWlnaHQ6NTBweCAhaW1wb3J0YW50OyIgID4nIC8vIHJlY2VpdmVkOiAnJywKCiAgICAgICAgICB9OyAvLyB2YXIgZHJvcGRvd24gPSBbXTsKCiAgICAgICAgICB2YXIgZGF0YSA9IENvdW50cnlDb2RlczsKICAgICAgICAgIHZhciBvcHRpb24gPSB2b2lkIDA7CgogICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGRhdGEubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgIC8vIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAvLyBvcHRpb24udGV4dCA9IGRhdGFbaV0uY291bnRyeV9jb2RlOwogICAgICAgICAgICAvLyBvcHRpb24udmFsdWUgPSBkYXRhW2ldLmNhbGxpbmdfY29kZTsKICAgICAgICAgICAgLy8gLy8gZHJvcGRvd24uYWRkKG9wdGlvbik7CiAgICAgICAgICAgIC8vIG1zZy5yZWNlaXZlZD1tc2cucmVjZWl2ZWQgKyBvcHRpb247CiAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IG1zZy5yZWNlaXZlZCArICc8b3B0aW9uIHZhbHVlPSAnICsgZGF0YVtfaV0uZGlhbF9jb2RlICsgJz4nICsgZGF0YVtfaV0uY29kZSArICIoIiArIGRhdGFbX2ldLmRpYWxfY29kZSArICIpIiArICc8L29wdGlvbj4nOwogICAgICAgICAgfQoKICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IG1zZy5yZWNlaXZlZCArICc8L3NlbGVjdD4nOwogICAgICAgICAgbXNnLnJlY2VpdmVkID0gbXNnLnJlY2VpdmVkICsgJzxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEycHggIWltcG9ydGFudDsgaGVpZ2h0OjUwcHggIWltcG9ydGFudDsiIGF1dG9jb21wbGV0ZT0ib2ZmIiBuYW1lPSJwaG9uZW51bWJlciIgaWQ9ICJwaG9uZW51bWJlciIgbmFtZT0iY2xvc2VkX2JvdF9ub2RlXycgKyBpICsgJyI+ICA8L2Rpdj4nOyAvLyBjb25zb2xlLmxvZyhtc2cpOwoKICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKG1zZyk7IC8vIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgIC8vIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgIC8vIHJlY2VpdmVkOiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQubWVzc2FnZSwKICAgICAgICAgIC8vIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgLy8gdGltZTogbnVsbAogICAgICAgICAgLy8gfSk7CgogICAgICAgICAgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkID0gdHJ1ZTsKICAgICAgICAgIHRoaXMubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lciA9ICJwaG9uZW51bWJlciI7IC8vIHZhciBtc2cgPSB7CiAgICAgICAgICAvLyAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgLy8gICBidXR0b25zX2xpc3Q6IFtdLAogICAgICAgICAgLy8gICBidXR0b25fcHJlZml4OiBudWxsLAogICAgICAgICAgLy8gICBjdXN0b21fYnV0dG9uczogdHJ1ZSwKICAgICAgICAgIC8vICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgLy8gICByZWNlaXZlZDogJzxpbnB1dCB0eXBlPSJlbWFpbCIgcGxhY2Vob2xkZXI9IicrbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50Lm1lc3NhZ2UrJyJuYW1lPSJjbG9zZWRfYm90X25vZGVfJytpKyciPicsCiAgICAgICAgICAvLyAgIHRpbWU6IG51bGwsCiAgICAgICAgICAvLyAgIHJlbW92YWJsZTogdHlwZSA9PSAid2VsY29tZV9tZXNzYWdlIiA/IGZhbHNlIDogdHJ1ZQogICAgICAgICAgLy8gfTsKICAgICAgICAgIC8vIC8vIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAvLyAvLyAgICAgdGl0bGU6ICdTdWJtaXQnLAogICAgICAgICAgLy8gLy8gICAgIHZhbHVlOiAnU3VibWl0JywKICAgICAgICAgIC8vIC8vICAgfSk7CiAgICAgICAgICAvLyB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gImh5cGVybGluayIgJiYgIW1lc3NhZ2Uubm9kZXNbaV0ucGFydF9vZl9mb3JtKSB7CiAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgIHJlY2VpdmVkOiAnPGEgaHJlZj0iJyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5oeXBlcmxpbmsgKyAnIiB0YXJnZXQ9Il9ibGFuayI+JyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5oeXBlcmxpbmsgKyAnPC9hPicKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gInJhZGlvX2J1dHRvbnMiICYmICFtZXNzYWdlLm5vZGVzW2ldLnBhcnRfb2ZfZm9ybSkgewogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgcmVjZWl2ZWQ6ICcnCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIHJlY2VpdmVkOiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQubWVzc2FnZSwKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IG51bGwKICAgICAgICAgIH0pOyAvLyBtc2cucmVjZWl2ZWQgPSBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQubWVzc2FnZTsKCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5yYWRpb19idXR0b25zLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IG1zZy5yZWNlaXZlZCArICc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicgKyBtZXNzYWdlLm5vZGVzW2ldLm5vZGVfaWQgKyAnIiB2YWx1ZT0iJyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5yYWRpb19idXR0b25zW2pdLnRpdGxlICsgJyI+JyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5yYWRpb19idXR0b25zW2pdLnRpdGxlICsgJzxicj4nOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKG1zZyk7CiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm5vZGVzW2ldLm5vZGVfdHlwZSA9PSAibm9kZSIgJiYgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSA9PSAiY2hlY2tfYm94IiAmJiAhbWVzc2FnZS5ub2Rlc1tpXS5wYXJ0X29mX2Zvcm0pIHsKICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgIHJlY2VpdmVkOiAnJwogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICByZWNlaXZlZDogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50Lm1lc3NhZ2UsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICB0aW1lOiBudWxsCiAgICAgICAgICB9KTsKCiAgICAgICAgICBmb3IgKHZhciBfaiA9IDA7IF9qIDwgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnZhbHVlcy5sZW5ndGg7IF9qKyspIHsKICAgICAgICAgICAgbXNnLnJlY2VpdmVkID0gbXNnLnJlY2VpdmVkICsgJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iJyArIG1lc3NhZ2Uubm9kZXNbaV0ubm9kZV9pZCArICciIHZhbHVlPSInICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnZhbHVlc1tfal0udGl0bGUgKyAnIj4nICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnZhbHVlc1tfal0udGl0bGUgKyAnPGJyPic7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uubm9kZXNbaV0ubm9kZV90eXBlID09ICJub2RlIiAmJiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZWxlbWVudF90eXBlID09ICJkcm9wZG93biIgJiYgIW1lc3NhZ2Uubm9kZXNbaV0ucGFydF9vZl9mb3JtKSB7CiAgICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICByZWNlaXZlZDogJzxzZWxlY3QgbmFtZT0iJyArIG1lc3NhZ2Uubm9kZXNbaV0ubm9kZV9pZCArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wiID48b3B0aW9uIHZhbHVlIGRpc2FibGVkPSJkaXNhYmxlZCI+JyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5tZXNzYWdlICsgJzwvb3B0aW9uPicgLy8gcmVjZWl2ZWQ6ICcnLAoKICAgICAgICAgIH07CgogICAgICAgICAgZm9yICh2YXIgX2oyID0gMDsgX2oyIDwgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmRyb3Bkb3duLmxlbmd0aDsgX2oyKyspIHsKICAgICAgICAgICAgbXNnLnJlY2VpdmVkID0gbXNnLnJlY2VpdmVkICsgJzxvcHRpb24+JyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5kcm9wZG93bltfajJdLnRpdGxlICsgJzwvb3B0aW9uPic7CiAgICAgICAgICB9CgogICAgICAgICAgbXNnLnJlY2VpdmVkID0gbXNnLnJlY2VpdmVkICsgJzwvc2VsZWN0Pic7CiAgICAgICAgICB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gImltYWdlIiAmJiAhbWVzc2FnZS5ub2Rlc1tpXS5wYXJ0X29mX2Zvcm0pIHsKICAgICAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogbnVsbCwKICAgICAgICAgICAgcmVjZWl2ZWQ6ICc8aW1nIHdpZHRoPSIyMTBweCIgaGVpZ2h0PSIxNDBweCIgc3JjPSInICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmltYWdlICsgJyI+JwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm5vZGVzW2ldLm5vZGVfdHlwZSA9PSAibm9kZSIgJiYgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSA9PSAidmlkZW8iICYmICFtZXNzYWdlLm5vZGVzW2ldLnBhcnRfb2ZfZm9ybSkgewogICAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICByZWNlaXZlZDogJzxpZnJhbWUgd2lkdGg9IjIxMHB4IiBoZWlnaHQ9IjE0MHB4IiBzcmM9IicgKyBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQudmlkZW8gKyAnIjwvaWZyYW1lPicKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gIm1lc3NhZ2UiICYmICFtZXNzYWdlLm5vZGVzW2ldLnBhcnRfb2ZfZm9ybSkgewogICAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICByZWNlaXZlZDogbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50Lm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiKSB7CiAgICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICB0aW1lOiBudWxsLAogICAgICAgICAgICByZWNlaXZlZDogJycKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgZm9ybSA9ICc8Zm9ybSBpZD0iJyArIG1lc3NhZ2Uubm9kZXNbaV0uZm9ybV9uYW1lLnJlcGxhY2UoJyAnLCAnXycpICsgJyI+JzsKCiAgICAgICAgICB3aGlsZSAobWVzc2FnZS5ub2Rlc1tpXS5wYXJ0X29mX2Zvcm0pIHsKICAgICAgICAgICAgLy8gZm9ybT1mb3JtKyc8YnI+JwogICAgICAgICAgICBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gInRleHRfYm94IikgewogICAgICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPic7CiAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206MHB4O2ZvbnQtd2VpZ2h0OjQ1MDtmb250LXNpemU6MTVweDsiPicgKyBtZXNzYWdlLm5vZGVzW2ldLmhlYWRlciArICc8L3A+JzsKICAgICAgICAgICAgICBmb3JtID0gZm9ybSArICc8aW5wdXQgbmFtZT0iJyArIG1lc3NhZ2Uubm9kZXNbaV0uaGVhZGVyICsgJyIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9InBhZGRpbmctbGVmdDoxMHB4ICFpbXBvcnRhbnQiIHR5cGU9InRleHQiIHBsYWNlaG9sZGVyPSInICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnBsYWNlaG9sZGVyICsgJyJuYW1lPSJjbG9zZWRfYm90X25vZGVfJyArIGkgKyAnIj4nOwogICAgICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzwvZGl2Pic7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gImRyb3Bkb3duIikgewogICAgICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPic7CiAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206MHB4O2ZvbnQtd2VpZ2h0OjQ1MDtmb250LXNpemU6MTVweDsiPicgKyBtZXNzYWdlLm5vZGVzW2ldLmhlYWRlciArICc8L3A+JzsKICAgICAgICAgICAgICBmb3JtID0gZm9ybSArICc8c2VsZWN0IG5hbWU9IicgKyBtZXNzYWdlLm5vZGVzW2ldLmhlYWRlciArICciIGNsYXNzPSJmb3JtLWNvbnRyb2wiID4nOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfajMgPSAwOyBfajMgPCBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZHJvcGRvd24ubGVuZ3RoOyBfajMrKykgewogICAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPG9wdGlvbj4nICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmRyb3Bkb3duW19qM10udGl0bGUgKyAnPC9vcHRpb24+JzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzwvc2VsZWN0Pic7CiAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPC9kaXY+JzsKICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLm5vZGVzW2ldLm5vZGVfdHlwZSA9PSAibm9kZSIgJiYgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSA9PSAiY2hlY2tfYm94IikgewogICAgICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPic7CiAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206MHB4O2ZvbnQtd2VpZ2h0OjQ1MDtmb250LXNpemU6MTVweDsiPicgKyBtZXNzYWdlLm5vZGVzW2ldLmhlYWRlciArICc8L3A+JzsKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2o0ID0gMDsgX2o0IDwgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnZhbHVlcy5sZW5ndGg7IF9qNCsrKSB7CiAgICAgICAgICAgICAgICBmb3JtID0gZm9ybSArICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9IicgKyBtZXNzYWdlLm5vZGVzW2ldLmhlYWRlciArICciIHZhbHVlPSInICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnZhbHVlc1tfajRdLnRpdGxlICsgJyI+JyArIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC52YWx1ZXNbX2o0XS50aXRsZSArICc8YnI+JzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzwvZGl2Pic7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5ub2Rlc1tpXS5ub2RlX3R5cGUgPT0gIm5vZGUiICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgPT0gInJhZGlvX2J1dHRvbnMiKSB7CiAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+JzsKICAgICAgICAgICAgICBmb3JtID0gZm9ybSArICc8cCBzdHlsZT0ibWFyZ2luLWJvdHRvbTowcHg7Zm9udC13ZWlnaHQ6NDUwO2ZvbnQtc2l6ZToxNXB4OyI+JyArIG1lc3NhZ2Uubm9kZXNbaV0uaGVhZGVyICsgJzwvcD4nOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfajUgPSAwOyBfajUgPCBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQucmFkaW9fYnV0dG9ucy5sZW5ndGg7IF9qNSsrKSB7CiAgICAgICAgICAgICAgICBmb3JtID0gZm9ybSArICc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicgKyBtZXNzYWdlLm5vZGVzW2ldLmhlYWRlciArICciIHZhbHVlPSInICsgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LnJhZGlvX2J1dHRvbnNbX2o1XS50aXRsZSArICciPicgKyBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQucmFkaW9fYnV0dG9uc1tfajVdLnRpdGxlICsgJzxicj4nOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm9ybSA9IGZvcm0gKyAnPC9kaXY+JzsKICAgICAgICAgICAgfSAvLyBmb3JtPWZvcm0rJzxicj4nCgoKICAgICAgICAgICAgaSsrOwogICAgICAgICAgfQoKICAgICAgICAgIGktLTsKICAgICAgICAgIGZvcm0gPSBmb3JtICsgJzxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij5TdWJtaXQ8L2J1dHRvbj48L2Zvcm0+JzsKICAgICAgICAgIHRoaXMuaXNmb3Jtb24gPSB0cnVlOwogICAgICAgICAgdGhpcy5mb3JtX25hbWUgPSBtZXNzYWdlLm5vZGVzW2ldLmZvcm1fbmFtZS5yZXBsYWNlKCcgJywgJ18nKTsKICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IGZvcm07CiAgICAgICAgICB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICAgICAgdGhpcy5zdWJtaXRfY2xvc2VkX2Zvcm1fZGF0YSgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgIHJlY2VpdmVkOiBudWxsCiAgICAgICAgfSk7CgogICAgICAgIGlmIChtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZWxlbWVudF90eXBlICE9ICdtZXNzYWdlJyAmJiBtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZWxlbWVudF90eXBlICE9ICdpbWFnZScgJiYgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSAhPSAndmlkZW8nICYmIG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5lbGVtZW50X3R5cGUgIT0gJ2J1dHRvbicgJiYgbWVzc2FnZS5ub2Rlc1tpXS51aV9lbGVtZW50LmVsZW1lbnRfdHlwZSAhPSAnaHlwZXJsaW5rJykgewogICAgICAgICAgdGhpcy5sYXN0Y2xvc2VkYm90aW5wdXRub2RlID0gdGhpcy5jaGF0Lmxlbmd0aCAtIDE7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkbm9kZWlkID0gbWVzc2FnZS5ub2Rlc1tpXTsKICAgICAgICB9CgogICAgICAgIGlmIChtZXNzYWdlLm5vZGVzW2ldLnVpX2VsZW1lbnQuZWxlbWVudF90eXBlID09ICdidXR0b24nKSB7CiAgICAgICAgICB0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUgPSB0aGlzLmNoYXQubGVuZ3RoIC0gMjsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRub2RlaWQgPSBtZXNzYWdlLm5vZGVzW2ldOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1lc3NhZ2Uubm9kZXNbaV0uaXNfbGVhZikgewogICAgICAgICAgdGhpcy5pc2Nsb3NlZGJvdG9uID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMucmVmcmVzaGVkX29yX2Nsb3NlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdm0gPSBfdGhpczE5OwogICAgICAgIHZtLnRvX3Njcm9sbCA9IHRydWU7CgogICAgICAgIGlmICgkKCIuY2hhdC1ib2R5IikuY2hpbGRyZW4oKS5sYXN0KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPCAwLjUpIHsKICAgICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsSGVpZ2h0IikKICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0gZWxzZSBpZiAoJCgiLnJlY2VpdmVyIikubGFzdCgpLnBhcmVudCgpLmhlaWdodCgpIC8gJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpID4gMC41ICYmICQoIi5yZWNlaXZlciIpLmxhc3QoKS5wYXJlbnQoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA8IDAuNikgewogICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmFuaW1hdGUoewogICAgICAgICAgICBzY3JvbGxUb3A6IDAuOSAqICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKQogICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgICAgc2Nyb2xsVG9wOiAwLjc1ICogJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpCiAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9CgogICAgICAgIGlmICgkKCIuY2hhdC1ib2R5Iikuc2Nyb2xsVG9wKCkgPT0gMCkgewogICAgICAgICAgX3RoaXMxOS50b19zY3JvbGwgPSBmYWxzZTsKICAgICAgICB9IC8vIGNvbnNvbGUubG9nKCQoJ1tuYW1lPScrdm0ubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lcisnXScpKQoKCiAgICAgICAgaWYgKHZtLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgIT0gbnVsbCkgewogICAgICAgICAgJCgnW25hbWU9JyArIHZtLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgKyAnXScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdm0uYXBwZW5kX21lc3NhZ2VfdG9fY2hhdGJveCk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBzdWJtaXRfY2xvc2VkX2Zvcm1fZGF0YTogZnVuY3Rpb24gc3VibWl0X2Nsb3NlZF9mb3JtX2RhdGEodHlwZSwgbWVzc2FnZSkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgLy8gY29uc29sZS5sb2codHlwZSwgJ0hlbGxvIEhhcnNoJyk7CiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY2hhdCIgKyAodGhpcy5sYXN0Y2xvc2VkYm90aW5wdXRub2RlIC0gMSkpICE9IG51bGwgJiYgdHlwZSA9PSAnaXNfYnV0dG9uJyAmJiBtZXNzYWdlLnRpdGxlID09ICJTdWJtaXQiKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY2hhdCIgKyAodGhpcy5sYXN0Y2xvc2VkYm90aW5wdXRub2RlICsgMSkpOwogICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICQoIiNjaGF0IiArICh0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUgLSAxKSArICIgOmlucHV0Iikuc2VyaWFsaXplQXJyYXkoKTsKCiAgICAgICAgaWYgKHRoaXMuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9PSBudWxsKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgdGhpcy5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0ge307CgogICAgICAgICAgZm9yICh2YXIgaSBpbiBxdWVyeVN0cmluZykgewogICAgICAgICAgICB0aGlzLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGFbcXVlcnlTdHJpbmdbaV0ubmFtZV0gPSBxdWVyeVN0cmluZ1tpXS52YWx1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBpIGluIHF1ZXJ5U3RyaW5nKSB7CiAgICAgICAgICAgIHRoaXMuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YS5xdWVyeVN0cmluZ1tpXS5uYW1lLnB1c2gocXVlcnlTdHJpbmdbaV0udmFsdWUpOwogICAgICAgICAgICA7CiAgICAgICAgICB9CgogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2xvc2VkX2Zvcm1fcmVzcG9uc2VfYXBpKCksIHsKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGNoYXQ6IHRoaXMuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSwKICAgICAgICAgICAgbm9kZV9zZWxlY3RlZDogdGhpcy5zZWxlY3RlZG5vZGVpZCwKICAgICAgICAgICAgYm90X25hbWU6IHRoaXMuYm90X25hbWUsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9pZDogdGhpcy5jb252ZXJzYXRpb25faWQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0gbnVsbDsKCiAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2JvdF9jaGF0KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2lzX2J1dHRvbicpIHsKICAgICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSB0cnVlOwogICAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICAgIHNlbnQ6IG1lc3NhZ2UudGl0bGUsCiAgICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIGRlbGl2ZXJlZDogdHJ1ZSwKICAgICAgICAgIGRyb3Bkb3duOiAiIgogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2xvc2VkX2Zvcm1fcmVzcG9uc2VfYXBpKCksIHsKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB1aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGNoYXQ6IG1lc3NhZ2UudGl0bGUsCiAgICAgICAgICAvLyBub2RlX3NlbGVjdGVkOiB7bm9kZV9pZDogbWVzc2FnZS5pZH0sCiAgICAgICAgICBub2RlX3NlbGVjdGVkOiBtZXNzYWdlLm5vZGUsCiAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IHRoaXMuY29udmVyc2F0aW9uX2lkLAogICAgICAgICAgYm90X25hbWU6IHRoaXMuYm90X25hbWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0gbnVsbDsKCiAgICAgICAgICBfdGhpczIwLmNsb3NlZF9ib3RfY2hhdChyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09IHVuZGVmaW5lZCAmJiAhdGhpcy5pc2Zvcm1vbiAmJiAhdGhpcy5pc2VtYWlsICYmICF0aGlzLmlzX3Bob25lX251bWJlciAmJiB0aGlzLmlzX3RleHRfYXJlYSkgewogICAgICAgIHRoaXMuZGlzYWJsZV9uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyKCk7IC8vICQoJ1tuYW1lPScrdGhpcy5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyKyddJykuYXR0cigiZGlzYWJsZWQiLCAnZGlzYWJsZWQnKQogICAgICAgIC8vIHRoaXMubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lciA9IG51bGw7CgogICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NoYXQiICsgKHRoaXMubGFzdGNsb3NlZGJvdGlucHV0bm9kZSArIDEpKTsKICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAkKCIjY2hhdCIgKyAodGhpcy5sYXN0Y2xvc2VkYm90aW5wdXRub2RlIC0gMSkgKyAiIDppbnB1dCIpLnNlcmlhbGl6ZUFycmF5KCk7CgogICAgICAgIGlmICh0aGlzLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGEgPT0gbnVsbCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgIHRoaXMuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9IHt9OwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gcXVlcnlTdHJpbmcpIHsKICAgICAgICAgICAgdGhpcy5jbG9zZWRfZm9ybV9yZXBseV9kYXRhW3F1ZXJ5U3RyaW5nW2ldLm5hbWVdID0gW107CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICh2YXIgaSBpbiBxdWVyeVN0cmluZykgewogICAgICAgICAgICB0aGlzLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGFbcXVlcnlTdHJpbmdbaV0ubmFtZV0ucHVzaChxdWVyeVN0cmluZ1tpXS52YWx1ZSk7CiAgICAgICAgICAgIDsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgIHNlbnQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgICAgc2VuZGluZzogdHJ1ZSwKICAgICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICBkZWxpdmVyZWQ6IHRydWUsCiAgICAgICAgICAgIGRyb3Bkb3duOiAiIgogICAgICAgICAgfSk7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jbG9zZWRfZm9ybV9yZXNwb25zZV9hcGkoKSwgewogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB1aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgY2hhdDogdGhpcy50b19zZW5kLAogICAgICAgICAgICBub2RlX3NlbGVjdGVkOiB0aGlzLnNlbGVjdGVkbm9kZWlkLAogICAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IHRoaXMuY29udmVyc2F0aW9uX2lkLAogICAgICAgICAgICBib3RfbmFtZTogdGhpcy5ib3RfbmFtZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBfdGhpczIwLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGEgPSBudWxsOwoKICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfYm90X2NoYXQocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSB1bmRlZmluZWQgJiYgdGhpcy5pc2Zvcm1vbiAmJiAhdGhpcy5pc2VtYWlsICYmICF0aGlzLmlzX3Bob25lX251bWJlcikgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIiArIHRoaXMuZm9ybV9uYW1lKSAhPSBudWxsKSB7CiAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiICsgdGhpcy5mb3JtX25hbWUpOwogICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJCgiIyIgKyBfdGhpczIwLmZvcm1fbmFtZSkuc2VyaWFsaXplQXJyYXkoKTsKCiAgICAgICAgICAgIGlmIChfdGhpczIwLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGEgPT0gbnVsbCkgewogICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0ge307CgogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcXVlcnlTdHJpbmcpIHsKICAgICAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YVtxdWVyeVN0cmluZ1tpXS5uYW1lXSA9IFtdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBxdWVyeVN0cmluZykgewogICAgICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhW3F1ZXJ5U3RyaW5nW2ldLm5hbWVdLnB1c2gocXVlcnlTdHJpbmdbaV0udmFsdWUpOwoKICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNsb3NlZF9mb3JtX3Jlc3BvbnNlX2FwaSgpLCB7CiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMyMC4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdWlkOiBfdGhpczIwLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBjaGF0OiBfdGhpczIwLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGEsCiAgICAgICAgICAgICAgICBub2RlX3NlbGVjdGVkOiBfdGhpczIwLnNlbGVjdGVkbm9kZWlkLAogICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX2lkOiBfdGhpczIwLmNvbnZlcnNhdGlvbl9pZCwKICAgICAgICAgICAgICAgIGJvdF9uYW1lOiBfdGhpczIwLmJvdF9uYW1lCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICQoIiMiICsgX3RoaXMyMC5mb3JtX25hbWUgKyAiIDppbnB1dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7IC8vIGNvbnNvbGUubG9nKCIjIit0aGlzLmZvcm1fbmFtZSsiOmlucHV0Iik7CgogICAgICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0gbnVsbDsKCiAgICAgICAgICAgICAgICBfdGhpczIwLmNsb3NlZF9ib3RfY2hhdChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNlbWFpbCkgewogICAgICAgIC8vIGFsZXJ0KHRoaXMudG9fc2VuZCk7CiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjaGF0IiArICh0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUgLSAxKSkgIT0gbnVsbCkgewogICAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICBzZW50OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgZGVsaXZlcmVkOiB0cnVlLAogICAgICAgICAgICBkcm9wZG93bjogIiIKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY2hhdCIgKyAodGhpcy5sYXN0Y2xvc2VkYm90aW5wdXRub2RlICsgMSkpOwogICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJCgiI2NoYXQiICsgKHRoaXMubGFzdGNsb3NlZGJvdGlucHV0bm9kZSAtIDEpICsgIiA6aW5wdXQiKS5zZXJpYWxpemVBcnJheSgpOwogICAgICAgICAgdmFyIHggPSB0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUgLSAxOyAvLyBpZih0aGlzLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGE9PW51bGwpewoKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICB0aGlzLmNsb3NlZF9mb3JtX3JlcGx5X2RhdGEgPSB7fTsKICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNsb3NlZF9mb3JtX3Jlc3BvbnNlX2FwaSgpLCB7CiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHVpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBjaGF0OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgICAgIG5vZGVfc2VsZWN0ZWQ6IHRoaXMuc2VsZWN0ZWRub2RlaWQsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9pZDogdGhpcy5jb252ZXJzYXRpb25faWQsCiAgICAgICAgICAgIGJvdF9uYW1lOiB0aGlzLmJvdF9uYW1lCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgZXJyb3JfdmFyaWFibGUgPSBudWxsOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgogICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCByZXNwb25zZS5kYXRhLm5vZGVzLmxlbmd0aCAtIDE7IF9pMiArPSAxKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubm9kZXNbX2kyXS52YWxpZGF0aW9uX3N1Y2Nlc3NmdWwgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmRhdGEubm9kZXNbX2kyXS52YWxpZGF0aW9uX3N1Y2Nlc3NmdWwgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGVycm9yX3ZhcmlhYmxlID0gX2kyOwoKICAgICAgICAgICAgICAgIF90aGlzMjAuY2hhdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgICAgICByZWNlaXZlZDogcmVzcG9uc2UuZGF0YS5ub2Rlc1tfaTJdLnVpX2VsZW1lbnQuZXJyb3JfbXNnLAogICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGltZTogbnVsbAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMyMC5yZWZyZXNoZWRfb3JfY2xvc2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZXJyb3JfdmFyaWFibGUgPT0gbnVsbCkgewogICAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9IG51bGw7CiAgICAgICAgICAgICAgX3RoaXMyMC5pc2VtYWlsID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2JvdF9jaGF0KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSB1bmRlZmluZWQgJiYgdGhpcy5pc19waG9uZV9udW1iZXIpIHsKICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NoYXQiICsgKHRoaXMubGFzdGNsb3NlZGJvdGlucHV0bm9kZSAtIDEpKSAhPSBudWxsKSB7CiAgICAgICAgICBpZiAodGhpcy5pc19waG9uZV9udW1iZXJfb3RwID09IHRydWUpIHsKICAgICAgICAgICAgdmFyIGR0cyA9IHRoaXMudG9fc2VuZDsKICAgICAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICAgIHNlbnQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICAgIGRlbGl2ZXJlZDogdHJ1ZSwKICAgICAgICAgICAgICBkcm9wZG93bjogIiIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUpOwoKICAgICAgICAgICAgaWYgKHRoaXMuaXNfcGhvbmVfbnVtYmVyX2Vycl9tc2cpIHsKICAgICAgICAgICAgICB2YXIgeCA9ICQoIiNjaGF0IiArICh0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUgLSAxKSArICIgOmlucHV0Iikuc2VyaWFsaXplQXJyYXkoKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaWYgbG9vcCIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGFzdGNsb3NlZGJvdGlucHV0bm9kZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImVsc2UgbG9vcCIpOwogICAgICAgICAgICAgIHZhciB4ID0gJCgiI2NoYXQiICsgKHRoaXMubGFzdGNsb3NlZGJvdGlucHV0bm9kZSAtIDEpICsgIiA6aW5wdXQiKS5zZXJpYWxpemVBcnJheSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgICAgICAgdmFyIGR0cyA9IHhbMF0udmFsdWUgKyB4WzFdLnZhbHVlOwogICAgICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgc2VudDogZHRzLAogICAgICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgZGVsaXZlcmVkOiB0cnVlLAogICAgICAgICAgICAgIGRyb3Bkb3duOiAiIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gLy8gdGhpcy5kaXNhYmxlX25hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIoKTsKICAgICAgICAgIC8vIHZhciBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NoYXQiKyh0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUrMSkpOwogICAgICAgICAgLy8gdmFyIHF1ZXJ5U3RyaW5nID0gJCgiI2NoYXQiKyh0aGlzLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUtMSkrIiA6aW5wdXQiKS5zZXJpYWxpemVBcnJheSgpOwogICAgICAgICAgLy8gaWYodGhpcy5jbG9zZWRfZm9ybV9yZXBseV9kYXRhPT1udWxsKXsKCgogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgIHRoaXMuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9IHt9OwogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2xvc2VkX2Zvcm1fcmVzcG9uc2VfYXBpKCksIHsKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGNoYXQ6IGR0cywKICAgICAgICAgICAgbm9kZV9zZWxlY3RlZDogdGhpcy5zZWxlY3RlZG5vZGVpZCwKICAgICAgICAgICAgY29udmVyc2F0aW9uX2lkOiB0aGlzLmNvbnZlcnNhdGlvbl9pZCwKICAgICAgICAgICAgYm90X25hbWU6IHRoaXMuYm90X25hbWUKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2hhdCk7CiAgICAgICAgICAgIF90aGlzMjAudG9fc2VuZCA9ICIiOwogICAgICAgICAgICB2YXIgZXJyb3JfdmFyaWFibGUgPSBudWxsOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgogICAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCByZXNwb25zZS5kYXRhLm5vZGVzLmxlbmd0aCAtIDE7IF9pMyArPSAxKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubm9kZXNbX2kzXS51aV9lbGVtZW50LnZhbGlkYXRlID09ICJwaG9uZV9udW1iZXIiICYmIHJlc3BvbnNlLmRhdGEubm9kZXNbX2kzXS52YWxpZGF0aW9uX3N1Y2Nlc3NmdWwgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmRhdGEubm9kZXNbX2kzXS52YWxpZGF0aW9uX3N1Y2Nlc3NmdWwgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMjAuaXNfcGhvbmVfbnVtYmVyX2Vycl9tc2cgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0gbnVsbDsKICAgICAgICAgICAgICAgIGVycm9yX3ZhcmlhYmxlID0gX2kzOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7IC8vICB0aGlzLnNlbGVjdGVkbm9kZWlkID0gcmVzcG9uc2UuZGF0YS5ub2RlczsKCiAgICAgICAgICAgICAgICBfdGhpczIwLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEubm9kZXNbX2kzXS51aV9lbGVtZW50LmVycm9yX21zZywKICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgICAgIHRpbWU6IG51bGwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiAnPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4Ij4gPHNlbGVjdCBuYW1lPSJjb3VudHJ5Y29kZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9InBhZGRpbmctbGVmdDo2cHggIWltcG9ydGFudDtwYWRkaW5nLXJpZ2h0OjZweCAhaW1wb3J0YW50OyB3aWR0aDo0MCU7aGVpZ2h0OjUwcHggIWltcG9ydGFudDsiICA+JyAvLyByZWNlaXZlZDogJycsCgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZWFjaGVkIGhlcmUiKTsgLy8gdmFyIGRyb3Bkb3duID0gW107CgogICAgICAgICAgICAgICAgX3RoaXMyMC5kaXNhYmxlX25hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIoKTsKCiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IENvdW50cnlDb2RlczsKICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSB2b2lkIDA7CgogICAgICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgZGF0YS5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAgICAgICAvLyBvcHRpb24udGV4dCA9IGRhdGFbaV0uY291bnRyeV9jb2RlOwogICAgICAgICAgICAgICAgICAvLyBvcHRpb24udmFsdWUgPSBkYXRhW2ldLmNhbGxpbmdfY29kZTsKICAgICAgICAgICAgICAgICAgLy8gLy8gZHJvcGRvd24uYWRkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgIC8vIG1zZy5yZWNlaXZlZD1tc2cucmVjZWl2ZWQgKyBvcHRpb247CiAgICAgICAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IG1zZy5yZWNlaXZlZCArICc8b3B0aW9uIHZhbHVlPSAnICsgZGF0YVtfaTRdLmRpYWxfY29kZSArICc+JyArIGRhdGFbX2k0XS5jb2RlICsgIigiICsgZGF0YVtfaTRdLmRpYWxfY29kZSArICIpIiArICc8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9IG1zZy5yZWNlaXZlZCArICc8L3NlbGVjdD4nOwogICAgICAgICAgICAgICAgbXNnLnJlY2VpdmVkID0gbXNnLnJlY2VpdmVkICsgJzxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0icGFkZGluZy1sZWZ0OjEycHggIWltcG9ydGFudDsgaGVpZ2h0OjUwcHggIWltcG9ydGFudDsiIGF1dG9jb21wbGV0ZT0ib2ZmIiBuYW1lPSJwaG9uZW51bWJlciIgaWQ9ICJwaG9uZW51bWJlciIgbmFtZT0iY2xvc2VkX2JvdF9ub2RlXycgKyBfaTMgKyAnIj4gIDwvZGl2Pic7IC8vIGNvbnNvbGUubG9nKG1zZyk7CgogICAgICAgICAgICAgICAgX3RoaXMyMC5jaGF0LnB1c2gobXNnKTsgLy8gdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgICAgICAgLy8gcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQ6IG1lc3NhZ2Uubm9kZXNbaV0udWlfZWxlbWVudC5tZXNzYWdlLAogICAgICAgICAgICAgICAgLy8gY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgICAvLyB0aW1lOiBudWxsCiAgICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgICAgIC8vIHRoaXMuZGlzYWJsZV9uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyKCk7CgoKICAgICAgICAgICAgICAgIF90aGlzMjAucmVmcmVzaGVkX29yX2Nsb3NlZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMjAubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lciAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICQoJ1tuYW1lPScgKyBfdGhpczIwLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgKyAnXScpLm9mZigna2V5dXAnLCB2bS5hcHBlbmRfbWVzc2FnZV90b19jaGF0Ym94KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIwLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgPSAicGhvbmVudW1iZXIiOwogICAgICAgICAgICAgICAgdmFyIHZtID0gX3RoaXMyMDsKICAgICAgICAgICAgICAgIF90aGlzMjAubGFzdGNsb3NlZGJvdGlucHV0bm9kZSA9IF90aGlzMjAuY2hhdC5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIwLmxhc3RjbG9zZWRib3RpbnB1dG5vZGUpOwogICAgICAgICAgICAgICAgdmFyIGxlbiA9ICQoJ1tuYW1lPScgKyB2bS5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyICsgJ10nKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgLy8gaWYodm0ubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lciAhPSBudWxsKXsKICAgICAgICAgICAgICAgICAgLy8gICBjb25zb2xlLmxvZygkKCdbbmFtZT0nK3ZtLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIrJ10nKSkKICAgICAgICAgICAgICAgICAgLy8gICBpZigkKCdbbmFtZT0nK3ZtLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIrJ10nKS5sZW5ndGg+MSl7CiAgICAgICAgICAgICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCQoJ1tuYW1lPScrdm0ubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lcisnXScpW2xlbl0pCiAgICAgICAgICAgICAgICAgICQoJ1tuYW1lPScgKyB2bS5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyICsgJ10nKVtsZW5dLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdm0uYXBwZW5kX21lc3NhZ2VfdG9fY2hhdGJveCk7IC8vIH1lbHNlIHsKCiAgICAgICAgICAgICAgICAgICQoJ1tuYW1lPScgKyB2bS5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyICsgJ10nKVswXS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHZtLmFwcGVuZF9tZXNzYWdlX3RvX2NoYXRib3gpOyAvLyB9CiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICAgICAgX3RoaXMyMC5yZWZyZXNoZWRfb3JfY2xvc2VkID0gdHJ1ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubm9kZXNbX2kzXS51aV9lbGVtZW50LnZhbGlkYXRlICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLm5vZGVzW19pM10udWlfZWxlbWVudC52YWxpZGF0ZSA9PSAib3RwIiAmJiByZXNwb25zZS5kYXRhLm5vZGVzW19pM10udmFsaWRhdGlvbl9zdWNjZXNzZnVsID09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9IG51bGw7CiAgICAgICAgICAgICAgICBfdGhpczIwLnNlbGVjdGVkbm9kZWlkID0gcmVzcG9uc2UuZGF0YS5ub2Rlc1tfaTNdOwogICAgICAgICAgICAgICAgZXJyb3JfdmFyaWFibGUgPSBfaTM7CiAgICAgICAgICAgICAgICBfdGhpczIwLmlzX3Bob25lX251bWJlcl9vdHAgPSB0cnVlOwoKICAgICAgICAgICAgICAgIF90aGlzMjAuY2hhdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgICAgICByZWNlaXZlZDogcmVzcG9uc2UuZGF0YS5ub2Rlc1tfaTNdLnVpX2VsZW1lbnQub3RwX3F1ZXN0aW9uX2xhYmVsLAogICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGltZTogbnVsbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm5vZGVzW19pM10udWlfZWxlbWVudC52YWxpZGF0ZSAhPSB1bmRlZmluZWQgJiYgcmVzcG9uc2UuZGF0YS5ub2Rlc1tfaTNdLnVpX2VsZW1lbnQudmFsaWRhdGUgPT0gIm90cCIgJiYgcmVzcG9uc2UuZGF0YS5ub2Rlc1tfaTNdLnZhbGlkYXRpb25fc3VjY2Vzc2Z1bCA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgX3RoaXMyMC5jbG9zZWRfZm9ybV9yZXBseV9kYXRhID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzMjAuc2VsZWN0ZWRub2RlaWQgPSByZXNwb25zZS5kYXRhLm5vZGVzW19pM107CiAgICAgICAgICAgICAgICBlcnJvcl92YXJpYWJsZSA9IF9pMzsKCiAgICAgICAgICAgICAgICBfdGhpczIwLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEubm9kZXNbX2kzXS51aV9lbGVtZW50LmluY29ycmVjdF9vdHBfbXNnLAogICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgdGltZTogbnVsbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczIwLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygicmVhY2hlZCBoZXJlMiIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZXJyb3JfdmFyaWFibGUgPT0gbnVsbCkgewogICAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9IG51bGw7CgogICAgICAgICAgICAgIF90aGlzMjAuZGlzYWJsZV9uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyKCk7IC8vIHNldFRpbWVvdXQoKCkgPT4gewoKCiAgICAgICAgICAgICAgX3RoaXMyMC5pc19waG9uZV9udW1iZXIgPSBmYWxzZTsgLy8gfSwgMSk7CgogICAgICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2JvdF9jaGF0KHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8gfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0eXBlID09IHVuZGVmaW5lZCAmJiAhdGhpcy5pc2Zvcm1vbiAmJiAhdGhpcy5pc2VtYWlsICYmICF0aGlzLmlzX3Bob25lX251bWJlciAmJiAhdGhpcy5pc190ZXh0X2FyZWEpIHsKICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICBzZW50OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIGRlbGl2ZXJlZDogdHJ1ZSwKICAgICAgICAgIGRyb3Bkb3duOiAiIgogICAgICAgIH0pOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNsb3NlZF9mb3JtX3Jlc3BvbnNlX2FwaSgpLCB7CiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBjaGF0OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgICBub2RlX3NlbGVjdGVkOiB0aGlzLnNlbGVjdGVkbm9kZWlkLAogICAgICAgICAgY29udmVyc2F0aW9uX2lkOiB0aGlzLmNvbnZlcnNhdGlvbl9pZCwKICAgICAgICAgIGJvdF9uYW1lOiB0aGlzLmJvdF9uYW1lCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIF90aGlzMjAuY2xvc2VkX2Zvcm1fcmVwbHlfZGF0YSA9IG51bGw7CgogICAgICAgICAgX3RoaXMyMC5jbG9zZWRfYm90X2NoYXQocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRkYXRhOiBmdW5jdGlvbiBnZXRkYXRhKCkgewogICAgICBpZiAoIXRoaXMuaXNmb3Jtb24gJiYgIXRoaXMuaXNfcGhvbmVfbnVtYmVyKSB7CiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJCgiI2NoYXQiICsgKHRoaXMubGFzdGNsb3NlZGJvdGlucHV0bm9kZSAtIDEpICsgIiA6aW5wdXQiKS5zZXJpYWxpemVBcnJheSgpOwogICAgICAgIHRoaXMudG9fc2VuZCA9ICcnOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5U3RyaW5nLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMudG9fc2VuZCA9IHF1ZXJ5U3RyaW5nW2ldLnZhbHVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy50b19zZW5kID0gdGhpcy50b19zZW5kICsgIiwiICsgcXVlcnlTdHJpbmdbaV0udmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmJ1dHRvbl9maWxsKCk7CiAgICB9LAogICAgYXBwZW5kX21lc3NhZ2VfdG9fY2hhdGJveDogZnVuY3Rpb24gYXBwZW5kX21lc3NhZ2VfdG9fY2hhdGJveCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyLCB0aGlzLmlzX3Bob25lX251bWJlcik7CiAgICAgIGNvbnNvbGUubG9nKCQoJ1tuYW1lPScgKyB0aGlzLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgKyAnXScpKTsKCiAgICAgIGlmICh0aGlzLmlzX3RleHRfYXJlYSkgewogICAgICAgIHRoaXMudG9fc2VuZCA9ICQoJ1tuYW1lPScgKyB0aGlzLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgKyAnXScpWzBdLnZhbHVlOwogICAgICAgIHRoaXMuYnV0dG9uX2ZpbGwoKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaXNfcGhvbmVfbnVtYmVyKSB7CiAgICAgICAgdmFyIGxlbiA9ICQoJ1tuYW1lPScgKyB0aGlzLm5hbWVfZWxlbWVudF9mb3JfZXZlbnRfbGlzdGVuZXIgKyAnXScpLmxlbmd0aDsKICAgICAgICB0aGlzLnRvX3NlbmQgPSAkKCdbbmFtZT0nICsgdGhpcy5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyICsgJ10nKVtsZW4gLSAxXS52YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGRpc2FibGVfbmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lcjogZnVuY3Rpb24gZGlzYWJsZV9uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyKCkgewogICAgICAvLyBjb25zb2xlLmxvZygiV2UgYXJlIGhlcmUgZGlzYWJsZWQgZnVuY3Rpb24iKQogICAgICAkKCdbbmFtZT0nICsgdGhpcy5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyICsgJ10nKS5hdHRyKCJkaXNhYmxlZCIsICdkaXNhYmxlZCcpOyAvLyAkKCdbbmFtZT0nK3RoaXMubmFtZV9lbGVtZW50X2Zvcl9ldmVudF9saXN0ZW5lcisnXScpLnJlbW92ZSgpOwoKICAgICAgdGhpcy5uYW1lX2VsZW1lbnRfZm9yX2V2ZW50X2xpc3RlbmVyID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLmlzX3Bob25lX251bWJlcikgewogICAgICAgICQoJ1tuYW1lPWNvdW50cnljb2RlXScpLmF0dHIoImRpc2FibGVkIiwgJ2Rpc2FibGVkJyk7IC8vICQoJ1tuYW1lPWNvdW50cnljb2RlXScpLnJlbW92ZSgpOwogICAgICB9CiAgICB9LAogICAgZ29fdG9fZGVzaWduX2JvdHNfcGFnZTogZnVuY3Rpb24gZ29fdG9fZGVzaWduX2JvdHNfcGFnZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ib3QvZGVzaWduYm90Jyk7CiAgICB9IC8vc2VsbCBmdW5jdGlvbiBmb3IgZm9yZWlnbiBleGNoYW5nZQogICAgLy8gZXgyKCkgewogICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInIyIikgIT0gbnVsbCkgewogICAgLy8gICAgICAgJCgiI2wyIikudmFsKDEpOwogICAgLy8gICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmN1cnJlbmN5ZXhjaGFuZ2VfbGlzdC5sZW5ndGg7IGkrKykgewogICAgLy8gICAgICAgICAkKCIjY291bnRyeTIiKS5hcHBlbmQoCiAgICAvLyAgICAgICAgICAgYDxvcHRpb24gdmFsdWU9IiR7dGhpcy5jdXJyZW5jeWV4Y2hhbmdlX2xpc3RbaV0uY3VycmVuY3lfdmFsdWV9Ij4ke3RoaXMuY3VycmVuY3lleGNoYW5nZV9saXN0W2ldLmN1cnJlbmN5X3RpdGxlfTwvb3B0aW9uPmAKICAgIC8vICAgICAgICAgKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgICQoIiNyMiIpLnZhbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY291bnRyeTIiKS52YWx1ZSk7CiAgICAvLyAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicjIiKS5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGZ1bmN0aW9uKCkgewogICAgLy8gICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyMiIpLnZhbHVlOwogICAgLy8gICAgICAgICB2YXIgY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkyIikudmFsdWU7CiAgICAvLyAgICAgICAgIHggPSB4IC8gY29uOwogICAgLy8gICAgICAgICB4ID0geC50b0ZpeGVkKDQpOwogICAgLy8gICAgICAgICAkKCIjbDIiKS52YWwoeCk7CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsMiIpLmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwgZnVuY3Rpb24oKSB7CiAgICAvLyAgICAgICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImwyIikudmFsdWU7CiAgICAvLyAgICAgICAgIHZhciBjb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY291bnRyeTIiKS52YWx1ZTsKICAgIC8vICAgICAgICAgeCA9IHggKiBjb247CiAgICAvLyAgICAgICAgIHggPSB4LnRvRml4ZWQoNCk7CiAgICAvLyAgICAgICAgICQoIiNyMiIpLnZhbCh4KTsKICAgIC8vICAgICAgIH0pOwogICAgLy8gICAgICAgJChkb2N1bWVudCkub24oImNoYW5nZSIsICIjY291bnRyeTIiLCBmdW5jdGlvbigpIHsKICAgIC8vICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkyIikuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLCBmdW5jdGlvbigpewogICAgLy8gICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsMiIpLnZhbHVlOwogICAgLy8gICAgICAgICB2YXIgY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdW50cnkyIikudmFsdWU7CiAgICAvLyAgICAgICAgIHggPSB4ICogY29uOwogICAgLy8gICAgICAgICB4ID0geC50b0ZpeGVkKDQpOwogICAgLy8gICAgICAgICAkKCIjcjIiKS52YWwoeCk7CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0sIDMwMDApOwogICAgLy8gfQoKICB9Cn07"},{"version":3,"sources":["Newtestbot.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div id=\"popover_content\" class=\"d-none\">\n      <input\n        class=\"form-control\"\n        style=\"height: 30px;padding-left:10px;padding-right:10px\"\n        type=\"text\"\n        v-model=\"phone_number\"\n        @keydown.enter=\"call_api\"\n      />\n    </div>\n    <div\n      class=\"modal fade dash-modal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-hidden=\"true\"\n      id=\"add_schedule\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <!-- Modal Header -->\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Add Schedule</h3>\n            </div>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n            <form @submit=\"fix_appointment\">\n              <div class=\"form-group\">\n                <input class=\"form-control\" v-model=\"patient_name\" placeholder=\"Patient Name\" />\n              </div>\n              <div class=\"form-group\">\n                <input\n                  class=\"form-control\"\n                  v-model=\"reason_of_visit\"\n                  placeholder=\"Reason for visit\"\n                />\n              </div>\n              <div class=\"form-group\">\n                <input\n                  class=\"form-control\"\n                  v-model=\"visitor_number\"\n                  type=\"text\"\n                  pattern=\"[789][0-9]{9}\"\n                  placeholder=\"Phone Number\"\n                />\n              </div>\n              <div class=\"form-group\">\n                <select v-model=\"selected_time\" class=\"form-control\">\n                  <option value>---Select Time Slot---</option>\n                  <option v-for=\"(time, index) in time_slots\" :key=\"index\">{{time}}</option>\n                </select>\n              </div>\n              <div class=\"btn-wrap text-right\">\n                <button type=\"button\" class=\"btn btn-link\" data-dismiss=\"modal\">Cancel</button>\n                <button type=\"submit\" class=\"darkblue-btn\">Save</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"dash-cont\">\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"></div>\n          <!-- <i class=\"fa fa-times\" aria-hidden=\"true\"></i> -->\n          <div\n            :class=\"{'card-body d-block d-flex':$route.name!='Direct Response Bot','card-body':$route.name=='Direct Response Bot'}\"\n          >\n          <!-- <i @click=\"go_to_design_bots_page\" style=\"cursor:pointer\" class=\"fa fa-times\" aria-hidden=\"true\"></i> -->\n\n            <div class=\"group_chat_btn\" v-if=\"live_chat_on\">\n              <a href=\"javascript:void(0)\" @click=\"disconnect_support_chat\">Stop Chat</a>\n            </div>\n            <div\n              style=\"width:25%\"\n              v-if=\"$route.name!='Direct Response Bot'\"\n            >\n            <!-- Here administrator can check how the bot responds to the end users questions. -->\n            </div>\n            <!--Add style=\"margin:0 auto\" in below div to shift the chat bot a little right-->\n          <i @click=\"go_to_design_bots_page\" style=\"cursor:pointer;margin-right:1%\" class=\"fa fa-times\" aria-hidden=\"true\"></i>\n\n            <div class=\"chat-master\" id=\"app\">\n              <div\n                class=\"chat-wrap\"\n                style=\"margin-right:auto;margin-left:auto;z-index:0;min-width:450px;position:sticky\"\n                v-bind:class=\"{'chat-wrap2': isexchange,'chat-wrap1':!isexchange}\"\n              >\n                <div class=\"chat-head\">\n                  <div class=\"media\" v-bind:class=\"{'media1': isexchange,'media2':!isexchange}\">\n                    <img\n                      :src=\"chat_widget.logo\"\n                      :style=\"chat_widget.style\"\n                      class=\"rounded \"\n                      alt=\"...\"\n                    />\n                    <div class=\"media-body\" style=\"margin-left:10px\">\n                      <p\n                        style=\"font-size: 15px;font-weight: bold;margin-top: 6px;text-align:center\"\n                        v-if=\"chat_widget!=undefined\"\n                      >{{chat_widget.title}}</p>\n                      <!-- <svg\n                    data-toggle=\"popover\"\n                    data-placement=\"bottom\"\n                    data-content\n                    title=\"Enter your phone number and hit Enter\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    style=\"float: right;margin-top: -10%;\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path fill=\"none\" d=\"M0 0h24v24H0V0z\"></path>\n                    <path\n                      fill=\"#283879\"\n                      d=\"M19.23 15.26l-2.54-.29c-.61-.07-1.21.14-1.64.57l-1.84 1.84c-2.83-1.44-5.15-3.75-6.59-6.59l1.85-1.85c.43-.43.64-1.03.57-1.64l-.29-2.52c-.12-1.01-.97-1.77-1.99-1.77H5.03c-1.13 0-2.07.94-2 2.07.53 8.54 7.36 15.36 15.89 15.89 1.13.07 2.07-.87 2.07-2v-1.73c.01-1.01-.75-1.86-1.76-1.98z\"\n                    ></path>\n                      </svg>-->\n                    </div>\n                  </div>\n                </div>\n                <div style=\"position:absolute;z-index:1000;top:80%;left:93%\" class=\"bounce\">\n                  <img src=\"/img/down-arrow.png\" v-if=\"to_scroll\" />\n                </div>\n                <div\n                  class=\"chat-body\"\n                  @scroll=\"scroll_down\"\n                  v-bind:class=\"{'chat-body2': isexchange,'chat-body1':!isexchange}\"\n                >\n                  <div\n                    class=\"chat-inner\"\n                    v-for=\"(single, item) in chat\"\n                    :key=\"item\"\n                  >\n                    <div class=\"typewriter\" v-if=\"single.popup !=null\">\n                      <span\n                        class=\"chat\"\n                        style=\"color:black; font-size: 14px;font-weight:bold;border: 0px;\"\n                        v-html=\"popup_msg\"\n                      ></span>\n                    </div>\n                    <div\n                      class=\"chat-row receiver\"\n                      v-if=\"single.url!=undefined && single.receiving==false\"\n                    >\n                      <span class=\"chat\" style=\"width: max-content\">\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"24\"\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path\n                            fill=\"#273679\"\n                            d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"\n                          />\n                          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                        </svg>\n                        <a\n                          href=\"#\"\n                          @click=\"download_pdf(single.url, single.file_name)\"\n                          target=\"_blank\"\n                        >\n                          <span>\n                            {{single.file_name}}\n                            &nbsp;\n                          </span>\n                          <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\n                        </a>\n                      </span>\n                    </div>\n                    <div\n                      v-if=\"single.is_leaf_note=='leaf'\"\n                      style=\"float:right;margin-bottom:10px;margin-left:30px;\"\n                      class=\"chat-row prompt\"\n                    >\n                      <span\n                        class=\"chat\"\n                        style=\"background:#273679;font-size:14px;word-break: break-word\"\n                      >{{ single.bot_response }}</span>\n                    </div>\n                    <div v-if=\"single.flavor_text !=null\">\n                      <span>{{single.flavor_text}}</span>\n                    </div>\n\n                    <div class=\"chat-row prompt-title\" v-if=\"single.title!=null\">\n                      <div class=\"chat\">{{ single.title }}</div>\n                    </div>\n                    <!-- <template v-if=\"single.is_table==true\">\n                  <div class=\"chat-row prompt\">\n                    <span style=\"margin-left:2%\">\n                      {{single.table_title}}\n                      <br />\n                    </span>\n                    <div class=\"chat\" style=\"width:96%;margin-left: 2%;margin-top:2%\">\n                      <div v-if=\"isexchange\">\n                        <div\n                          class=\"row\"\n                          v-for=\"(currency, index) in single.table_list\"\n                          :key=\"index\"\n                          style=\"margin-bottom:10px;margin-left:0;width:100%;box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2);background-color: #fbfbfb;border-radius:4px;height:30px;align-items:center;color: 3d3d3d;\"\n                        >\n                          <div class=\"column\" style=\"align:center;width: 5%;padding-left:1.5%\">\n                            <img\n                              style=\"align:center;opacity:4.5;height:20px;color:#2b3184;vertical-align:top;\"\n                              :src=\"'../../../img/ForeignExchange/'+currency.currency_title+'.png'\"\n                            />\n                          </div>\n                          <div\n                            class=\"column\"\n                            v-show=\"currency.type=='TR'\"\n                            style=\"padding-left:5%;width: 65%;color:black\"\n                          >{{currency.currency_title}}</div>\n                          <div\n                            class=\"column\"\n                            v-show=\"currency.type=='TR'\"\n                            style=\"width:20%;text-align:right;color:black\"\n                          >{{currency.currency_value}}</div>\n                        </div>\n                      </div>\n\n                      <table v-if=\"!isexchange\">\n                        <tr\n                          v-for=\"(currency, index) in single.table_list\"\n                          :key=\"index\"\n                          style=\"line-height: 9.5px;\"\n                        >\n                          <th\n                            v-show=\"currency.type=='THEAD'\"\n                            style=\"text-align: left;width: auto;\"\n                          >{{currency.country_name}}</th>\n                          <th\n                            v-show=\"currency.type=='THEAD'\"\n                            style=\"text-align: left\"\n                          >{{currency.currency_name}}</th>\n                          <td\n                            v-show=\"currency.type=='TR'\"\n                            style=\"font-weight: bolder;\"\n                          >{{currency.currency_title}}</td>\n                          <td\n                            v-show=\"currency.type=='TR'\"\n                            style=\"font-weight: bolder;\"\n                          >{{currency.currency_value}}</td>\n                        </tr>\n                      </table>\n                    </div>\n                  </div>\n                    </template>-->\n                    <template v-if=\"single.is_leaf_note==false\">\n                      <div\n                        class=\"chat-row prompt\"\n                        @click=\"click_prompt(prompt)\"\n                        v-for=\"(prompt, index) in single.bot_response\"\n                        :key=\"index\"\n                      >\n                        <div\n                          @click=\"show_popup\"\n                          style=\"cursor:pointer;\"\n                          :value=\"single.level\"\n                          class=\"chat\"\n                        >{{ prompt }}</div>\n                      </div>\n                    </template>\n                    <template v-if=\"single.is_leaf_note==true\">\n                      <div class=\"chat-inner\">\n                        <div\n                          class=\"chat-row prompt\"\n                          style=\"margin-right: 10px;margin-left: -5px;\"\n                          v-for=\"(sub_response, index) in single.bot_response\"\n                          :key=\"index\"\n                        >\n                          <div style=\"width:69%;\" v-for=\"(value,key) in sub_response\" :key=\"key\">\n                            <div\n                              @click=\"sub_leaf_node_call\"\n                              style=\"cursor:pointer;\"\n                              class=\"chat\"\n                              v-if=\"key==='Text'\"\n                            >{{value}}</div>\n                          </div>\n                        </div>\n                        <div\n                          class=\"plyr__video-embed\"\n                          id=\"player\"\n                          v-if=\"show && demourlbind\"\n                          style=\"ma\"\n                        >\n                          <iframe\n                            :src=\"demourl[0]\"\n                            allowfullscreen\n                            allowtransparency\n                            allow=\"autoplay\"\n                          ></iframe>\n                        </div>\n                        <div\n                          class=\"plyr__video-embed\"\n                          id=\"player\"\n                          v-if=\"show && demourlbind\"\n                          style=\"ma;margin-top:10px \"\n                        >\n                          <iframe\n                            :src=\"demourl[1]\"\n                            allowfullscreen\n                            allowtransparency\n                            allow=\"autoplay\"\n                          ></iframe>\n                        </div>\n                        <div\n                          class=\"plyr__video-embed\"\n                          id=\"player\"\n                          v-if=\"show && reviewsurlbind\"\n                          style=\"ma;margin-top:10px \"\n                        >\n                          <iframe\n                            :src=\"reviewsurl\"\n                            allowfullscreen\n                            allowtransparency\n                            allow=\"autoplay\"\n                          ></iframe>\n                        </div>\n                      </div>\n                      <!-- </div> -->\n                    </template>\n                    <div\n                      class=\"buy-products\"\n                      style=\"display:flex;overflow:auto hidden\"\n                      @mousewheel=\"scroll_div\"\n                      v-if=\"single.isproduct\"\n                    >\n                      <div\n                        class=\"image-container\"\n                        v-for=\"(product, index) in single.elements.products\"\n                        :key=\"index\"\n                      >\n                        <img :src=\"product['Product Image Url']\" class=\"image-box\" />\n                        <p>{{product['Product Name']}}</p>\n                        <p>{{product['UnitPrice']}}</p>\n                        <p\n                          class=\"buy-now\"\n                          @click=\"generate_payment(product['UnitPrice'],product['Product Name'])\"\n                        >Buy Now</p>\n                      </div>\n                    </div>\n                    <template v-if=\"single.conversation_only\">\n                      <div v-if=\"single.sending\" class=\"chat-row sender\">\n                        <div class=\"chat\">{{ single.sent }}</div>\n                        <div class=\"chat-his\" v-if=\"single.time!=null\">\n                          <span class=\"time\" style=\"color:#000\">{{ single.time }}</span>\n                          <span class=\"del-note delivered\">Delivered</span>\n                        </div>\n                      </div>\n                      <div v-if=\"single.receiving\" class=\"chat-row receiver\">\n                        <div\n                          v-if=\"single.received!=''&&single.received!=undefined\"\n                          class=\"chat\"\n                          v-html=\"single.received\"\n                          :id=\"'chat'+item\"\n                          @click=\"getdata\"\n                        >{{single.received}}</div>\n                        <br v-if=\"single.image!=null\" />\n                        <img\n                          v-if=\"single.image!=null\"\n                          :src=\"single.image\"\n                          style=\"margin-top: 4%;height: 40vh;width: 40vh\"\n                        />\n                        <div v-if=\"single.show_buttons && single.support_buttons\">\n                          <button class=\"btn custom-buttons\" @click=\"call_support('Yes')\">Yes</button>\n                          <button class=\"btn custom-buttons\" @click=\"call_support('No')\">No</button>\n                        </div>\n                        <div v-if=\"single.custom_buttons\" class=\"d-block d-flex flex-wrap\">\n                          <button\n                            class=\"btn custom-buttons\"\n                            @click=\"send_message('is_button', button, item)\"\n                            v-for=\"(button, index) in single.buttons_list\"\n                            :key=\"index\"\n                            :id=\"'chat'+item\"\n                          >{{button.title}}</button>\n                        </div>\n                        <!-- Apply logic here -->\n                        <div v-if=\"single.is_multiselect\">\n                          <multiselect\n                            :close-on-select=\"false\"\n                            :taggable=\"true\"\n                            :multiple=\"true\"\n                            :options=\"single.multiselect_values\"\n                            :placeholder=\"single.placeholder\"\n                            track-by=\"value\"\n                            :group-select=\"true\"\n                            label=\"title\"\n                            v-model=\"selected_indication\"\n                            @input=\"adddropdownvalue\"\n                          ></multiselect>\n                        </div>\n                        <!-- <div v-if=\"single.is_table\">\n                      <div class=\"row\" style=\"margin-bottom:10px;margin-left:0;width:100%;box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2);background-color: #fbfbfb;border-radius:4px;height:30px;align-items:center;color: 3d3d3d;\">\n                        <div class=\"column\" style=\"align:center;opacity:4.5;height:20px;color:#2b3184;vertical-align:top;\" v-for=\"(head, index1) in single.col_list\" :key=\"index1\">\n                          {{head}}\n                        </div>\n                      </div>\n                      <div class=\"row\" style=\"margin-bottom:10px;margin-left:0;width:100%;box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2);background-color: #fbfbfb;border-radius:4px;height:30px;align-items:center;color: 3d3d3d;\" v-for=\"(value, index2) in single.table_value\" :key=\"index2\">\n                        <div class=\"column\" style=\"align:center;opacity:4.5;height:20px;color:#2b3184;vertical-align:top;\" v-for=\"(head, index3) in single.col_list\" :key=\"index3\">\n                          {{value[head]}}\n                        </div>\n                      </div>\n                        </div>-->\n                        <table\n                          v-if=\"single.is_table\"\n                          style=\"margin-left: 2%;margin-top:2%;font-size: 14px;font-weight: 300;background-color:#fff\"\n                          class=\"table\"\n                        >\n                          <tr>\n                            <th v-for=\"(head, index1) in single.col_list\" :key=\"index1\">{{head}}</th>\n                          </tr>\n                          <tr v-for=\"(value, index2) in single.table_value\" :key=\"index2\">\n                            <td\n                              v-for=\"(head, index3) in single.col_list\"\n                              :key=\"index3\"\n                            >{{value[head]}}</td>\n                          </tr>\n                        </table>\n                        <!-- <div v-if=\"single.is_table\">\n                      <div  class=\"row\">\n                          <div  class=\"column\"\n                                v-for=\"(value,index2)in single.row_list\"\n                                :key=\"index2\">\n                                {{value}}\n                          </div>\n                      </div>\n                      <div  class=\"row\"\n                            v-for=\"(key, index) in single.row_list\"\n                            :key=\"index\">\n                            <div  class=\"column\"\n                                  v-for=\"(value,index2)in key\"\n                                  :key=\"index2\">\n                                  {{value}}\n                            </div>\n\n                      </div>\n                        </div>-->\n                        <div\n                          class=\"plyr__video-embed\"\n                          id=\"player\"\n                          v-for=\"(video, index) in single.videos\"\n                          :key=\"index\"\n                          style=\"ma\"\n                        >\n                          <iframe :src=\"video\" allowfullscreen allowtransparency allow=\"autoplay\"></iframe>\n                        </div>\n                        <div class=\"chat-his\" v-if=\"single.time!=null\">\n                          <span class=\"time\">{{ single.time }}</span>\n                          <!-- <span class=\"del-note delivered\" v-show=\"single.time!=undefined\">Delivered</span> -->\n                        </div>\n                      </div>\n                    </template>\n                  </div>\n                </div>\n\n                <div\n                  v-if=\"isexchange\"\n                  class=\"row\"\n                  style=\"margin-left:auto;margin-right:auto;width:100%\"\n                >\n                  <!-- <button @click=\"ForeignExchangeConversion\" id=\"XYZ\" class=\"FE_button\">\n                <img\n                  src=\"../../../img/ForeignExchange/ui-12.png\"\n                  style=\"height:14px\"\n                  alt=\"Warning!\"\n                />\n                Exchange Rate\n                  </button>-->\n                  <!-- <button @click=\"FXPaymentMode\" class=\"FE_button\">\n                <img\n                  src=\"../../../img/ForeignExchange/ui-11.png\"\n                  style=\"height:14px\"\n                  alt=\"Warning!\"\n                />\n                Payment\n                  </button>-->\n                  <!-- <button @click=\"FXTrackingParcel\" class=\"FE_button\">\n                        <img\n                          src=\"../../../img/ForeignExchange/ui-13.png\"\n                          style=\"height:14px\"\n                          alt=\"Warning!\"\n                        />\n                        Track My Parcel\n                  </button>-->\n                </div>\n\n                <div class=\"chat-footer\">\n                  <div class=\"typing-indicator\" style=\"display:none\">\n                    <p\n                      style=\"font-size:13px;font-weight:300\"\n                      v-show=\"is_typing && live_chat_on\"\n                    >Support Agent is typing</p>\n                    <p\n                      style=\"font-size:13px;font-weight:300;margin-left: 5%;\"\n                      v-show=\"!is_typing\"\n                    >typing</p>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </div>\n                  <span class=\"powered-by\">\n                    Powered by &nbsp;\n                    <img src=\"/img/cense_image.png\" style=\"height:20px\" />\n                  </span>\n                </div>\n                <div class=\"chat-txt\">\n                  <div class=\"input-group mb-0\">\n                    <input\n                      :id=\"isexchange?'response_bot_text':''\"\n                      type=\"text\"\n                      class=\"form-control\"\n                      v-model=\"to_send\"\n                      @keyup.enter=\"send_message\"\n                      @input=\"button_fill\"\n                      :disabled=\"refreshed_or_closed\"\n                      placeholder=\"Type your message here ...\"\n                    />\n                    <!-- <div class=\"input-group-append\">\n                          <button\n                            class=\"btn voice-button\"\n                            type=\"button\"\n                            :disabled=\"!live_chat_on\"\n                            @click=\"start_video_call\"\n                          >\n                            <i class=\"fas fa-video\" style=\"margin-right:5px\"></i>\n                          </button>\n                    </div>-->\n                    <!-- <div class=\"input-group-append\">\n                      <button\n                        class=\"btn voice-button\"\n                        type=\"button\"\n                        @click=\"voice_communication\"\n                        :disabled=\"refreshed_or_closed\"\n                      >\n                        <i class=\"fa fa-microphone\" id=\"microphone\"></i>\n                      </button>\n                    </div> -->\n                    <div class=\"input-group-append\">\n                      <button\n                        class=\"btn\"\n                        type=\"button\"\n                        :id=\"{'button_addon2':isexchange}\"\n                        @click=\"send_message\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          id=\"send_button\"\n                          style=\"fill:#8a8a8a63\"\n                          width=\"40\"\n                          height=\"25\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport fingerprint from \"@/portal/components/fingerprint\";\nimport { bus } from \"@/portal/main\";\nimport api_calls from \"@/portal/api_calls\";\nimport { Socket } from \"phoenix-socket\";\nimport { setTimeout, setInterval } from \"timers\";\nimport Recorder from \"@/portal/components/recorder\";\nimport Scrollbar from \"smooth-scrollbar\";\nimport Multiselect from \"vue-multiselect\";\nimport debounce from \"vue-debounce/src/debounce\";\nimport country_code from \"../Dashboard/country_code_data.json\";\nimport CountryCodes from \"../Dashboard/CountryCodes.json\";\n\nexport default {\n  name: \"closed-form-response-bot\",\n  components: {\n    Multiselect\n  },\n  data() {\n    return {\n      companyid: this.$session.get(\"UserInformation\").company_id,\n      companyname: this.$session.get(\"UserInformation\").company_name,\n      popup_msg:\n        \"You can type ‘Restart”  at </br>any  time to get back</br> to the Main Menu\",\n      refreshed_or_closed: true,\n      qus_ans: \"answers\",\n      to_send: \"\",\n      cense_enquiry: false,\n      is_typing: false,\n      user_name: \"\",\n      show: false,\n      chat: [],\n      fingerprint: null,\n      bot_response_token_value: this.$session.get(\"ResponseBotToken\")\n        ? this.$session.get(\"ResponseBotToken\")\n        : \"\",\n      first_click: false,\n      level: 0,\n      recognition: null,\n      json_data: {\n        create_appointment:\n          '{\"User\": {\"Physician\": {\"ID\": \"DT000000000000000237\"},\"UserName\":\"ac\",\"ID\":\"US000000000000000138\",\"Account\": {\"ID\": \"CO00023\"},\"Token\": \"Z1rSGGm0XpMWjt3giAErPPWZ84TQN9FsFMBLsU+/LAu6yualMg6EP2bsrwZjLPwm3j4DpPcGc5LcIp3NjgfUsA==\",\"Specialty\": {\"ID\": \"PG000000000000000141\", \"Name\": \"AC\", \"Code\": \"AC\"},\"Domain\": \"gogreenbills.com\"},\"Appointment\": {\"Date\": \"08/30/2018\", \"IsJSONNote\": 0, \"Patient\": {\"CaseID\": \"\"}}}',\n        visits_finalized:\n          '{\"User\": {\"Physician\": {\"ID\": \"DT000000000000011886\"},\"UserName\": \"ch\",\"ID\": \"US000000000000000143\",\"Account\":{\"ID\":\"CO00023\"},\"Token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjoiYXZkaHV0IiwiZXhwIjoxNTI5NDgyNjYzfQ.v1c0HbuWuZXXpJfDrXVc1HPVuffbnGcLqkpg0zm6AoQ\",\"Specialty\": {\"ID\": \"PG000000000000000142\",\"Code\": \"ch\"},\"Domain\": \"greenyourbills.com\"},\"SearchParameters\": {\"Status\": \"\",\"OrderBy\": \"\",\"FromDate\": \"01/01/2018\",\"Count\": \"10\",\"SearchText\": \"\",\"TypeOfVisit\": \"ALL\",\"SortOrder\": \"appointment\",\"StartIndex\": \"1\",\"EndIndex\": \"10\",\"ToDate\": \"08/06/2018\"}}',\n        appointments_count:\n          '{\"User\": {\"Physician\": {\"ID\": \"DT000000000000011886\"},\"UserName\": \"ch\",\"ID\": \"US000000000000000143\",\"Account\":{\"ID\":\"CO00023\"},\"Token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjoiYXZkaHV0IiwiZXhwIjoxNTI5NDgyNjYzfQ.v1c0HbuWuZXXpJfDrXVc1HPVuffbnGcLqkpg0zm6AoQ\",\"Specialty\": {\"ID\": \"PG000000000000000142\",\"Code\": \"ch\"},\"Domain\": \"greenyourbills.com\"},\"SearchParameters\": {\"Status\": \"\",\"OrderBy\": \"\",\"FromDate\": \"01/01/2018\",\"Count\": \"10\",\"SearchText\": \"\",\"TypeOfVisit\": \"ALL\",\"SortOrder\": \"appointment\",\"StartIndex\": \"1\",\"EndIndex\": \"10\",\"ToDate\": \"08/06/2018\"}}',\n        create_ticket:\n          '{\"AccountName\":null,\"CallbackPhone\":\"\",\"CompanyID\":\"CO00023\",\"Description\":\"De\",\"DomainName\":null,\"EmailCC\":\"abhay.w@codearray.tech\",\"EmailDefault\":\"manish.y@codearray.tech\",\"Priority\":\"3\",\"PriorityID\":0,\"RaisedBy\":\"lawuser\",\"Status\":0,\"StatusCode\":null,\"StatusText\":null,\"SType\":\"WP\",\"Subject\":\"De\",\"SubType\":\"SAMD-P\",\"TicketID\":0,\"TicketNumber\":null,\"Type\":0,\"TypeText\":\"Website Problem\",\"listFiles1\":[\"chq1.pdf\"]}',\n        get_report: '{\"companyId\": \"CO00023\"}'\n      },\n      phone_number: \"\",\n      stop: true,\n      demourlbind: false,\n      reviewsurlbind: false,\n      reviewsurl: \"https://www.youtube.com/embed/paAeW86eQZ4\",\n      demourl: [\n        \"https://www.youtube.com/embed/videoseries?KcrJm9UxW3s&index=13&list=PL_jXlih8dgkTE8CrPpiWcA9KxQeKHZAnt&t=0s\",\n        \"https://www.youtube.com/embed/videoseries?qzS2qINI6IM&list=PL_jXlih8dgkRu5ddGXAGqZ4uLLkoJzCj8&index=2\"\n      ],\n      chat_widget: {\n        logo: \"\",\n        title: \"\",\n        style: \"\"\n      },\n      selected_date: \"\",\n      selected_time: \"\",\n      reason_of_visit: \"\",\n      patient_name: \"\",\n      visitor_number: \"\",\n      full_time_slots: [],\n      time_slots: [],\n      TODAY_DATE: \"\",\n      channel: null,\n      chat_socket: null,\n      voice_socket: null,\n      live_chat_on: false,\n      live_chat_token: null,\n      chat_group_name: null,\n      to_scroll: false,\n      form_payload: null,\n      refresh_time: 0,\n      phone_number_validity: /[0-9]{10,11}$/,\n      empty_string_validity: /^$/,\n      //harsh\n      isexchange: false,\n      currencyexchange_list: null,\n      selected_indication: [],\n      res: {},\n      isclosedboton: false,\n      isformon: false,\n      form_name: null,\n      lastclosedbotinputnode: null,\n      closed_form_reply_data: null,\n      selectednodeid:null,\n      bot_name: null,\n      bot_type: null,\n      iffirsttime: true,\n      isemail: false,\n      is_phone_number: false,\n      is_text_area :false,\n      conversation_id : \"\",\n      is_phone_number_otp : false,\n      name_element_for_event_listener: null,\n      is_phone_number_err_msg: false,\n    };\n  },\n  created() {\n    this.conversation_id = this.generateUUID();\n    this.$session.start();\n    this.$session.set(\"conversation_id\", this.conversation_id);\n    // console.log(country_code);\n    // console.log(JSON.parse(country_code));\n    if (this.$session.has(\"BotResponse_Conversation\")) {\n      // this.chat = this.$session.get(\"BotResponse_Conversation\");\n    }\n    if (!this.$session.has(\"ChatBotImageParameters\")) {\n      axios\n        .post(api_calls.widget_setting_url(), {\n          companyname: this.companyname,\n          companyid: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          isShow: true\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        })\n        .then(response => {\n          this.chat_widget.title = response.data.WidgetTitle;\n          this.chat_widget.logo = response.data.ImageUrl;\n          this.$session.set(\"ChatBotImageParameters\", this.chat_widget);\n          this.chat_widget.style = \"margin-top: 5px;height:30px;width:auto\";\n        })\n        .catch(e => {\n          if (this.$session.get(\"UserInformation\").company_name == \"gogyb\") {\n            this.chat_widget.style = \"margin-top: 5px;height:30px;width:60px\";\n            this.chat_widget.logo = \"/img/cense_image.png\";\n          } else if (\n            this.$session.get(\"UserInformation\").company_name == \"MT Care\"\n          ) {\n            this.chat_widget.logo = \"/img/robomate_logo.png\";\n            this.chat_widget.style = \"margin-top: 5px;height:50px;width:95px\";\n          } else {\n            this.chat_widget.logo = \"/img/cense_image.png\";\n            this.chat_widget.style = \"margin-top: 5px;height:30px;width:60px\";\n          }\n          this.$session.set(\"ChatBotImageParameters\", this.chat_widget);\n        });\n    } else {\n      this.chat_widget = this.$session.get(\"ChatBotImageParameters\");\n      this.chat_widget.style = \"margin-top: 5px;height:30px;width:auto\";\n    }\n    if (!this.$session.has(\"ResponseBotToken\")) {\n      axios\n        .post(api_calls.bot_response_token(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          username: this.$session.get(\"UserInformation\").email\n        })\n        .then(response => {\n          this.$session.set(\"ResponseBotToken\", response.data);\n          this.bot_response_token_value = response.data;\n          this.refresh_chatbot();\n        });\n    } else {\n      this.refresh_chatbot();\n    }\n    //harsh\n    if (\n      this.$session.get(\"UserInformation\").license_key ==\n      \".eJxTcssvSs1Mz6tIzkjMS081NDexNIQKKUDFMkpKCoqt9PXLy8v10lBU6yXn5-olluobGRha6hqY6xqYKBgaWBkZW5ma6hmbm5gYmSoBAGa9Hp0.XR3Tuw.X77F_7LDtOLp2Vt9snFDSo31nTw\"\n    ) {\n      this.isexchange = true;\n    }\n    var d = new Date();\n    axios\n      .post(api_calls.bot_user_data(), {\n        license_key: this.$session.get(\"UserInformation\").license_key,\n        tz: Intl.DateTimeFormat().resolvedOptions().timeZone,\n        datetime: d.toISOString(),\n        username: this.$session.get(\"UserInformation\").email,\n        source: \"Web\",\n        token: this.bot_response_token_value,\n        role: this.$session.get(\"UserInformation\").role\n      })\n      .then(response => {});\n      if(this.$route.params.botdata==undefined){\n        this.$router.push({\n          name: 'Dashboard',\n        });\n      } else {\n        this.bot_name=this.$route.params.botdata.bot_name;\n        this.bot_type=this.$route.params.botdata.bot_type;\n        // axios\n        //   .post(api_calls.closed_form_response_api(),{\n        //     license_key: this.$session.get(\"UserInformation\").license_key,\n        //     uid: \"closed_form_user\",\n        //     chat: null,\n        //     node_selected: null,\n        //     bot_name: this.bot_name,\n        //   })\n        //   .then(response=>{\n        //     if(response.data.error==undefined){\n        //       this.closed_bot_chat(response.data);\n        //       this.isclosedboton=true;\n        //     }\n        //   });\n      }\n  },\n  mounted() {\n    CountryCodes.sort(function(a, b) {\n      if(a.code < b.code) { return -1; }\n      if(a.code > b.code) { return 1; }\n      return 0;\n    });\n\n    this.show = false;\n    if (this.$route.name == \"Train the Bot\") {\n      $(\".chat-wrap\").css(\"right\", \"auto\");\n    }\n    if (this.$route.name == \"Direct Response Bot\") {\n      $(\".chat-wrap\").css(\"marginTop\", \"5%\");\n    }\n    $('[data-toggle=\"popover\"]')\n      .popover({\n        html: true,\n        content: $(\"#popover_content\")\n      })\n      .on(\"show.bs.popover\", function() {\n        $(\"#popover_content\").addClass(\"d-block\");\n      })\n      .on(\"hide.bs.popover\", function() {\n        $(\"#popover_content\").addClass(\"d-none\");\n      });\n    $(\"#popover_content\").css(\"zIndex\", 9999);\n    bus.$on(\"Logout has been clicked\", data => {\n      if (data == \"True\") {\n        $('[data-toggle=\"popover\"]').popover(\"hide\");\n      }\n    });\n    window.SpeechRecognition =\n      window.webkitSpeechRecognition || window.SpeechRecognition;\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    navigator.getUserMedia =\n      navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia;\n\n\n  },\n  updated() {\n    this.submit_custom_form();\n    if(this.isclosedboton&&this.isformon){\n      this.submit_closed_form_data();\n    }\n  },\n  methods: {\n    generateUUID() { // Public Domain/MIT\n            var d = new Date().getTime();//Timestamp\n            var d2 = (performance && performance.now && (performance.now()*1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\n            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16;//random number between 0 and 16\n                if(d > 0){//Use timestamp until depleted\n                    r = (d + r)%16 | 0;\n                    d = Math.floor(d/16);\n                } else {//Use microseconds since page-load if supported\n                    r = (d2 + r)%16 | 0;\n                    d2 = Math.floor(d2/16);\n                }\n                return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n            });\n    },\n    voice_communication() {\n      if (/Chromium/i.test(navigator.userAgent)) {\n        this.call_cloud_api();\n      } else if (window.SpeechRecognition != undefined) {\n        this.recognition = new window.SpeechRecognition();\n        document.querySelector(\"#microphone\").classList.add(\"voice-on\");\n        this.recognition.onresult = e => {\n          const speechToText = e.results[0][0].transcript;\n        };\n        this.recognition.onend = function() {\n          document.querySelector(\"#microphone\").classList.remove(\"voice-on\");\n          //Again – give the user feedback that you are not listening anymore. If you wish to achieve continuous recognition – you can write a script to start the recognizer again here.\n        };\n        var vm = this;\n        this.recognition.onresult = function(event) {\n          if (typeof event.results === \"undefined\") {\n            //Something is wrong…\n            this.recognition.stop();\n            return;\n          }\n          for (var i = event.resultIndex; i < event.results.length; ++i) {\n            if (event.results[i].isFinal) {\n              //Final results\n              vm.to_send = event.results[i][0].transcript;\n              console.log(\"final results: \" + event.results[i][0].transcript); //Of course – here is the place to do useful things with the results.\n            } else {\n              //i.e. interim...\n              console.log(\"interim results: \" + event.results[i][0].transcript); //You can use these results to give the user near real time experience.\n            }\n          } //end for loop\n        };\n        this.recognition.start();\n      } else {\n        this.call_cloud_api();\n      }\n    },\n    call_cloud_api() {\n      document.querySelector(\"#microphone\").classList.add(\"voice-on\");\n      const audioContext = new (window.AudioContext ||\n        window.webkitAudioContext)();\n      var buffer_list, buffer_i32;\n      var recorder = new Recorder(audioContext, {\n        // An array of 255 Numbers\n        // You can use this to visualize the audio stream\n        // If you use react, check out react-wave-stream\n        onAnalysed: data => {}\n      });\n\n      var voice_channel,\n        wav_parameters,\n        recBuffers = [],\n        recLength,\n        meta_data;\n      var vm = this;\n      axios.get(api_calls.voice_channel_api()).then(response => {\n        this.voice_socket = new Socket(process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT, {\n          params: {\n            company: this.$session.get(\"UserInformation\").company_name,\n            voice_channel_name: response.data.voice_channel_name,\n            token: response.data.token,\n            is_voice: true\n          }\n        });\n        this.voice_socket.connect();\n\n        voice_channel = this.voice_socket.channel(\n          \"voice_to_text:\" + response.data.voice_channel_name\n        );\n        voice_channel.join();\n      });\n\n      let blob = null;\n\n      navigator.mediaDevices\n        .getUserMedia({ audio: true })\n        .then(stream => {\n          recorder.init(stream);\n          startRecording();\n        })\n        .catch(err => console.log(\"Uh oh... unable to get stream...\", err));\n\n      function startRecording() {\n        recorder.start();\n        setTimeout(() => {\n          stopRecording();\n        }, 4000);\n      }\n\n      function stopRecording() {\n        recorder.stop().then(({ blob, buffer }) => {\n          // buffer_list = buffer[0];\n          var reader = new FileReader();\n          reader.readAsArrayBuffer(blob);\n          reader.onloadend = () => {\n            buffer_list = reader.result;\n            var temp = new Uint8Array(buffer_list);\n            wav_parameters = wav_file_processing_read_parameters(temp);\n            init_encoder(buffer_list);\n          };\n          // Recorder.download(blob, \"my-file\");\n          // buffer is an AudioBuffer\n        });\n      }\n\n      function init_encoder(data) {\n        var arrayBuffer = new Uint8Array(data);\n\n        var encData = [];\n        var result = encodeFlac(arrayBuffer, encData);\n        // console.log(\"encoded data array: \", encData);\n\n        if (result.error) {\n          console.error(\"Conversion failed!!\");\n        }\n\n        var metaData = result.metaData;\n\n        if (!result.error) {\n          //using data-util.js utility function(s)\n          var blob_download = exportFlacFile(encData, metaData);\n          // var down_file = URL.createObjectURL(blob_download);\n          // let file = document.createElement(\"a\");\n          // file.href = down_file;\n          // file.download = \"output.flac\";\n          // file.click()\n          var reader = new FileReader();\n          reader.readAsDataURL(blob_download);\n          reader.onloadend = function() {\n            var reader_string = reader.result.split(\"base64,\")[1];\n            voice_channel.push(\"voice_packets_sent\", { stream: reader_string });\n            voice_channel.on(\"voice_to_text_reply\", data => {\n              document\n                .querySelector(\"#microphone\")\n                .classList.remove(\"voice-on\");\n              if (data.text.results != undefined) {\n                vm.to_send = data.text.results[0].alternatives[0].transcript;\n              } else {\n                toastr.error(\n                  \"We could not recognize your voice. Please try again or type in.\"\n                );\n              }\n              vm.button_fill();\n            });\n          };\n        }\n      }\n\n      function encodeFlac(binData, recBuffers) {\n        var ui8_data = new Uint8Array(binData);\n        var sample_rate = 0,\n          channels = 0,\n          bps = 0,\n          total_samples = 0,\n          block_align,\n          position = 0,\n          recLength = 0,\n          meta_data;\n\n        /**\n         *  records/saves the output data of libflac-encode method\n         */\n        function write_callback_fn(buffer, bytes, samples, current_frame) {\n          recBuffers.push(buffer);\n          recLength += bytes;\n          // recLength += buffer.byteLength;\n        }\n\n        function metadata_callback_fn(data) {\n          meta_data = data;\n        }\n\n        // check: is file a compatible wav-file?\n        if (wav_file_processing_check_wav_format(ui8_data) == false) {\n          return { error: \"Wrong WAV file format\", status: 0 };\n        }\n\n        // get WAV/PCM parameters from data / file\n        var wav_parameters = wav_file_processing_read_parameters(ui8_data);\n        var tot_samples = 0;\n        var compression_level = 5;\n        var flac_ok = 1;\n        var is_verify = true;\n\n        var flac_encoder = Flac.create_libflac_encoder(\n          wav_parameters.sample_rate,\n          wav_parameters.channels,\n          wav_parameters.bps,\n          compression_level,\n          tot_samples,\n          is_verify\n        );\n        if (flac_encoder != 0) {\n          var init_status = Flac.init_encoder_stream(\n            flac_encoder,\n            write_callback_fn,\n            metadata_callback_fn,\n            0\n          );\n          flac_ok &= init_status == 0;\n        } else {\n          var msg = \"Error initializing the decoder.\";\n          console.error(msg);\n          return { error: msg, status: 1 };\n        }\n\n        // convert the PCM-Data to the appropriate format for the libflac library methods (32-bit array of samples)\n        // creates a new array (32-bit) and stores the 16-bit data of the wav-file as 32-bit data\n        var buffer_i32 = wav_file_processing_convert_16bitdata_to32bitdata(\n          ui8_data.buffer\n        );\n\n        var flac_return = Flac.FLAC__stream_encoder_process_interleaved(\n          flac_encoder,\n          buffer_i32,\n          buffer_i32.length / wav_parameters.channels\n        );\n\n        if (flac_return != true) {\n          console.log(\n            \"Error: FLAC__stream_encoder_process_interleaved returned false. \" +\n              flac_return\n          );\n        }\n\n        flac_ok &= Flac.FLAC__stream_encoder_finish(flac_encoder);\n\n        Flac.FLAC__stream_encoder_delete(flac_encoder);\n\n        return { metaData: meta_data, status: flac_ok };\n      }\n\n      function wav_file_processing_check_wav_format(ui8_data) {\n        // check: is file a compatible wav-file?\n        if (\n          ui8_data.length < 44 ||\n          String.fromCharCode.apply(null, ui8_data.subarray(0, 4)) != \"RIFF\" ||\n          String.fromCharCode.apply(null, ui8_data.subarray(8, 16)) !=\n            \"WAVEfmt \" ||\n          String.fromCharCode.apply(null, ui8_data.subarray(36, 40)) != \"data\"\n        ) {\n          console.log(\"ERROR: wrong format for wav-file.\");\n          return false;\n        }\n        return true;\n      }\n\n      /**\n       *  checks if the given ui8_data (ui8array) is of a flac-file\n       */\n      function flac_file_processing_check_flac_format(ui8_data) {\n        // check: is file a compatible flac-file?\n        if (\n          ui8_data.length < 42 ||\n          String.fromCharCode.apply(null, ui8_data.subarray(0, 4)) != \"fLaC\"\n        ) {\n          console.log(\"ERROR: wrong format for flac-file.\");\n          return false;\n        }\n        var view = new DataView(ui8_data.buffer);\n        //check last 7 bits of 4th byte for meta-data BLOCK type: must be STREAMINFO (0)\n        if ((view.getUint8(4) & 0x7f) != 0) {\n          console.log(\"ERROR: wrong format for flac-file.\");\n          return false;\n        }\n\n        return true;\n      }\n\n      function wav_file_processing_read_parameters(ui8_data) {\n        var sample_rate = 0,\n          channels = 0,\n          bps = 0,\n          total_samples = 0,\n          block_align;\n\n        // get WAV/PCM parameters from data / file\n        sample_rate =\n          (((((ui8_data[27] << 8) | ui8_data[26]) << 8) | ui8_data[25]) << 8) |\n          ui8_data[24];\n        channels = ui8_data[22];\n        bps = ui8_data[34];\n        block_align = ui8_data[32];\n        total_samples =\n          ((((((ui8_data[43] << 8) | ui8_data[42]) << 8) | ui8_data[41]) << 8) |\n            ui8_data[40]) /\n          block_align;\n\n        return {\n          sample_rate: sample_rate,\n          channels: channels,\n          bps: bps,\n          total_samples: total_samples,\n          block_align: block_align\n        };\n      }\n\n      /**\n       *  converts the PCM data of the wav file (each sample stored as 16 bit value) into\n       *  a format expected by the libflac-encoder method (each sample stored as 32 bit value in a 32-bit array)\n       */\n      function wav_file_processing_convert_16bitdata_to32bitdata(arraybuffer) {\n        // convert the PCM-Data to the appropriate format for the libflac library methods (32-bit array of samples)\n        // creates a new array (32-bit) and stores the 16-bit data of the wav-file as 32-bit data\n        var ab_i16 = new DataView(arraybuffer, 44);\n        var buf_length = ab_i16.byteLength;\n        var buf32_length = buf_length / 2;\n        var buffer_i32 = new Uint32Array(buf32_length);\n        var view = new DataView(buffer_i32.buffer);\n        var index = 0;\n        for (var j = 0; j < buf_length; j += 2) {\n          view.setInt32(index, ab_i16.getInt16(j, true), true);\n          index += 4;\n        }\n        return buffer_i32;\n      }\n\n      function exportFlacFile(recBuffers, metaData) {\n        var recLength = getLength(recBuffers);\n        if (metaData) {\n          addFLACMetaData(recBuffers, metaData);\n        }\n        //convert buffers into one single buffer\n        var samples = mergeBuffers(recBuffers, recLength);\n        var the_blob = new Blob([samples]);\n        return the_blob;\n      }\n\n      function getLength(recBuffers) {\n        //get length\n        var recLength = 0;\n        for (var i = recBuffers.length - 1; i >= 0; --i) {\n          recLength += recBuffers[i].byteLength;\n        }\n        return recLength;\n      }\n\n      function addFLACMetaData(chunks, metadata) {\n        var offset = 4;\n        var data = chunks[0]; //1st data chunk should contain FLAC identifier \"fLaC\"\n        if (\n          data.length < 4 ||\n          String.fromCharCode.apply(null, data.subarray(0, 4)) != \"fLaC\"\n        ) {\n          console.error(\n            \"Unknown data format: cannot add additional FLAC meta data to header\"\n          );\n          return;\n        }\n\n        //first chunk only contains the flac identifier string?\n        if (data.length == 4) {\n          data = chunks[1]; //get 2nd data chunk which should contain STREAMINFO meta-data block (and probably more)\n          offset = 0;\n        }\n\n        var view = new DataView(data.buffer);\n\n        //NOTE by default, the encoder writes a 2nd meta-data block (type VORBIS_COMMENT) with encoder/version info -> do not set \"is last\" to TRUE for first one\n        //\t// write \"is last meta data block\" & type STREAMINFO type (0) as little endian combined uint1 & uint7 -> uint8:\n        //\tvar isLast = 1;//1 bit\n        //\tvar streamInfoType = 0;//7 bit\n        //\tview.setUint8(0 + offset, isLast << 7 | streamInfoType, true);//8 bit\n\n        // block-header: STREAMINFO type, block length -> already set\n\n        // block-content: min_blocksize, min_blocksize -> already set\n\n        // write min_framesize as little endian uint24:\n        view.setUint8(8 + offset, metadata.min_framesize >> 16, true); //24 bit\n        view.setUint8(9 + offset, metadata.min_framesize >> 8, true); //24 bit\n        view.setUint8(10 + offset, metadata.min_framesize, true); //24 bit\n\n        // write max_framesize as little endian uint24:\n        view.setUint8(11 + offset, metadata.max_framesize >> 16, true); //24 bit\n        view.setUint8(12 + offset, metadata.max_framesize >> 8, true); //24 bit\n        view.setUint8(13 + offset, metadata.max_framesize, true); //24 bit\n\n        // block-content: sampleRate, channels, bitsPerSample -> already set\n\n        // write total_samples as little endian uint36:\n        //TODO set last 4 bits to half of the value in index 17\n        view.setUint8(18 + offset, metadata.total_samples >> 24, true); //36 bit\n        view.setUint8(19 + offset, metadata.total_samples >> 16, true); //36 bit\n        view.setUint8(20 + offset, metadata.total_samples >> 8, true); //36 bit\n        view.setUint8(21, metadata.total_samples, true); //36 bit\n\n        writeMd5(view, 22 + offset, metadata.md5sum); //16 * 8 bit\n      }\n\n      function mergeBuffers(channelBuffer, recordingLength) {\n        var result = new Uint8Array(recordingLength);\n        var offset = 0;\n        var lng = channelBuffer.length;\n        for (var i = 0; i < lng; i++) {\n          var buffer = channelBuffer[i];\n          result.set(buffer, offset);\n          offset += buffer.length;\n        }\n        return result;\n      }\n\n      function writeMd5(view, offset, str) {\n        var index;\n        for (var i = 0; i < str.length / 2; ++i) {\n          index = i * 2;\n          view.setUint8(\n            i + offset,\n            parseInt(str.substring(index, index + 2), 16)\n          );\n        }\n      }\n    },\n    start_video_call() {},\n    refresh_chatbot(type) {\n      this.refreshed_or_closed = true;\n      // debugger;\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n          chat: \"\",\n          data: \"\",\n          user_id: \"\",\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed\n        })\n        .then(resp => {\n          this.refreshed_or_closed = false;\n          if(this.iffirsttime){\n            this.iffirsttime=false;\n            document.querySelector(\".typing-indicator\").style.display = \"block\";\n            axios\n            .post(api_calls.closed_form_response_api(),{\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              uid: this.$session.get(\"UserInformation\").email,\n              chat: null,\n              node_selected: null,\n              bot_name: this.bot_name,\n              conversation_id : this.conversation_id,\n            })\n            .then(response=>{\n              // console.log(response.data.error);\n              if(response.data.error==undefined){\n                // console.log('gaya');\n                document.querySelector(\".typing-indicator\").style.display = \"none\";\n                this.closed_bot_chat(response.data);\n                this.isclosedboton=true;\n              } else {\n                document.querySelector(\".typing-indicator\").style.display = \"none\";\n              }\n            });\n          }\n          if (type == \"support\") {\n            this.chat.push({\n              receiving: true,\n              received: \"Is there anything else I can help you with?\",\n              conversation_only: true,\n              time: this.generate_time()\n            });\n          }\n          if (\n            this.companyid == \"CustomerHappiness95185\" ||\n            this.companyid == \"3x5ive99534\" ||\n            this.companyid == \"Foreignxchange17491\" ||\n            this.companyid == \"clinicaltrials81352\"\n          ) {\n            axios\n              .post(api_calls.chatbot_response_cense(), {\n                chat: \"/welcome_message\",\n                token: this.bot_response_token_value,\n                username: this.$session.get(\"UserInformation\").email,\n                source: \"Web\",\n                user_id: \"\",\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                data: \"\",\n                role: this.$session.get(\"UserInformation\").role,\n                refreshed_or_closed: false\n              })\n              .then(response => {\n                this.push_msg(response, response.data.responses);\n              });\n          }\n          axios\n            .post(api_calls.prompt_url(), {\n              uid: \"cense\", //this.fingerprint\n              companyid: this.$session.get(\"UserInformation\").company_id,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              chat: \"\"\n            })\n            .then(response => {\n              if (response.data != \"NO CLOSED FORM BOT\") {\n                if (\n                  response.data.extras != null &&\n                  response.data.extras[0].Type == \"TABLE\"\n                ) {\n                  this.create_chat(response.data, \"istable\");\n                } else if (response.data.return == \"PROMPTS\") {\n                  this.create_chat(response.data, \"isprompt\");\n                }\n              }\n            })\n            .catch(e => {});\n        });\n    },\n    download_pdf(url, file_name) {\n      event.preventDefault();\n      var link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", file_name);\n      document.body.appendChild(link);\n      link.click();\n    },\n    scroll_div() {\n      var doc = document.querySelector(\".buy-products\");\n      if (event.deltaX > event.deltaY) {\n        doc.scrollLeft += 10;\n      } else if (event.deltaX < event.deltaY) {\n        doc.scrollLeft -= 10;\n      }\n    },\n    call_support(type) {\n      if (type == \"Yes\") {\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: \"/call_support\",\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed\n          })\n          .then(resp => {\n            this.chat.push({\n              conversation_only: true,\n              receiving: true,\n              received: resp.data.responses[0].text,\n              time: this.generate_time()\n            });\n            this.$session.set(\"BotResponse_Conversation\", this.chat);\n            this.update_scrollbar(\"upto_end\", \"response\");\n          });\n      } else if (type == \"No\") {\n        this.chat.push(this.chat[0]);\n        this.chat.push(this.chat[1]);\n        this.update_scrollbar(\"upto_end\", \"response\");\n        // this.refresh_chatbot(\"support\");\n      }\n    },\n    parse(string) {\n      return string.replace(/{{.*?}}/g, match => {\n        var today = new Date();\n        var dd = today.getDate();\n\n        var mm = today.getMonth() + 1;\n        var yyyy = today.getFullYear();\n        if (dd < 10) {\n          dd = \"0\" + dd;\n        }\n\n        if (mm < 10) {\n          mm = \"0\" + mm;\n        }\n        today = dd + \"-\" + mm + \"-\" + yyyy;\n        var expression = match.slice(2, -2);\n        this.$data[expression] = today;\n        return this.$data[expression];\n      });\n    },\n    generate_time() {\n      let d = new Date();\n      let h, m, type;\n      if (d.getHours() > 12) {\n        h = d.getHours() % 12;\n        type = \" pm\";\n      } else if (d.getHours() < 12) {\n        h = d.getHours();\n        type = \" am\";\n      } else if (d.getHours() == 12) {\n        h = d.getHours();\n        type = \" pm\";\n      }\n      m = d.getMinutes();\n      if (m < 10) {\n        m = 0 + String(m);\n      }\n      return h + \":\" + m + type;\n    },\n    call_api() {\n      event.preventDefault();\n      if (this.phone_number_validity.test(this.phone_number)) {\n        axios\n          .post(api_calls.call_support_url(), {\n            companyid: this.companyid,\n            companyname: this.companyname,\n            phonenumber: this.phone_number,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email\n          })\n          .then(response => {\n            if (response.data.message == \"Call incoming!\") {\n              toastr.success(\"We will get in touch with you soon. Thanks\");\n            }\n          });\n      } else {\n        toastr.error(\"Please Enter a valid phone number\");\n      }\n    },\n    show_popup() {\n      this.show = false;\n      this.stop = false;\n    },\n    sub_leaf_node_call(type) {\n      var divclick = event.target.innerText;\n      if (divclick == \"Watch Demo Video\") {\n        this.demourlbind = true;\n        this.reviewsurlbind = false;\n      } else if (divclick == \"User Reviews/Testimonials\") {\n        this.reviewsurlbind = true;\n        this.demourlbind = false;\n      }\n      if (\n        divclick == \"Watch Demo Video\" ||\n        divclick == \"User Reviews/Testimonials\"\n      ) {\n        this.show = !this.show;\n        this.update_scrollbar();\n        setTimeout(() => {\n          document.querySelector(\".typing-indicator\").style.display = \"none\";\n        }, 1000);\n      } else if (divclick == \"Buy Tutorial\") {\n        this.cense_enquiry = true;\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            username: this.$session.get(\"UserInformation\").email,\n            token: this.bot_response_token_value,\n            chat: \"/personal_details\",\n            source: \"Web\",\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: \"\"\n          })\n          .then(response => {\n            var msg = {\n              received: response.data.responses[0].text,\n              conversation_only: true,\n              receiving: true,\n              time: this.generate_time()\n            };\n            this.chat.push(msg);\n            this.update_scrollbar();\n            setTimeout(() => {\n              document.querySelector(\".typing-indicator\").style.display =\n                \"none\";\n            }, 1000);\n            this.$session.set(\"BotResponse_Conversation\", this.chat);\n          });\n      }\n    },\n    ticket_number() {\n      var random_num = Math.floor(1000000 + Math.random() * 9000000);\n      var company = this.companyname.slice(0, 1).toUpperCase();\n      return company + \"_\" + random_num;\n    },\n    send_message(type, message, to_be_displayed) {\n      //harsh\n      // debugger;\n      event.preventDefault();\n      if (this.selected_indication[0] != undefined) {\n        type = \"is_prompt\";\n        to_be_displayed = this.to_send;\n        this.to_send =\n          this.selected_indication[0].value.split(\"{\")[0] +\n          JSON.stringify(this.res);\n        this.selected_indication = [];\n      }\n      if(this.isclosedboton&&type!='is_button'){\n        this.refreshed_or_closed=true;\n        this.submit_closed_form_data();\n      } else if (type == \"is_button\") {\n        $(\"#response_bot_text\").prop(\"disabled\", false);\n        if (\n          message.value == \"isdisabled\" &&\n          this.companyid == \"clinicaltrials81352\" &&\n          message.title == \"No\"\n        ) {\n        } else if(this.isclosedboton){\n          this.submit_closed_form_data(type,message);\n        } else {\n          let index = to_be_displayed;\n          document.querySelector(\".typing-indicator\").style.display = \"block\";\n          this.chat.push({\n            sent: message.title,\n            sending: true,\n            time: this.generate_time(),\n            conversation_only: true,\n            delivered: true,\n            dropdown: \"\"\n          });\n          this.update_scrollbar(\"upto_end\", \"sender\");\n          axios\n            .post(api_calls.chatbot_response_cense(), {\n              chat: message.value,\n              token: this.bot_response_token_value,\n              username: this.$session.get(\"UserInformation\").email,\n              source: \"Web\",\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              role: this.$session.get(\"UserInformation\").role,\n              refreshed_or_closed: this.refreshed_or_closed\n            })\n            .then(response => {\n              if (this.chat[index].removable == true) {\n                this.chat.splice(index, 1);\n              }\n              this.response_handling(response);\n            });\n        }\n      } else if (type == \"is_prompt\") {\n        document.querySelector(\".typing-indicator\").style.display = \"block\";\n        this.chat.push({\n          sent: to_be_displayed,\n          sending: true,\n          time: this.generate_time(),\n          conversation_only: true,\n          delivered: true\n        });\n        this.update_scrollbar(\"upto_end\", \"sender\");\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            // host: this.user_data.host,\n            role: this.$session.get(\"UserInformation\").role,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: this.to_send\n          })\n          .then(response => {\n            this.response_handling(response);\n            this.ex1();\n          });\n      } else if (this.to_send == \"Restart\" || this.to_send == \"restart\") {\n        axios\n          .post(api_calls.prompt_url(), {\n            uid: \"cense\", //this.fingerprint\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            chat: \"\"\n          })\n          .then(response => {\n            this.chat.push(response.data);\n            this.update_scrollbar(\"upto_end\", \"response\");\n            this.$session.set(\"BotResponse_Conversation\", this.chat);\n            this.first_click = true;\n            this.level = response.data.level;\n          })\n          .catch(e => {});\n      } else if (\n        this.cense_enquiry == true &&\n        this.to_send != \"\" &&\n        this.to_send != null &&\n        !/^\\s*$/.test(this.to_send)\n      ) {\n        document.querySelector(\".typing-indicator\").style.display = \"block\";\n        var send_msg = {\n          sent: this.to_send,\n          conversation_only: true,\n          sending: true,\n          time: this.generate_time()\n        };\n        this.chat.push(send_msg);\n        this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\");\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            username: this.$session.get(\"UserInformation\").email,\n            token: this.bot_response_token_value,\n            chat: \"/personal_details\",\n            source: \"Web\",\n            user_id: \"\",\n            Companyid: \"CO00023\",\n            data: \"\",\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: \"\",\n            license_key: this.$session.get(\"UserInformation\").license_key\n          })\n          .then(response => {\n            var msg = {\n              received: response.data.responses[0].text,\n              conversation_only: true,\n              receiving: true,\n              time: this.generate_time()\n            };\n            this.chat.push(msg);\n            this.$session.set(\"BotResponse_Conversation\", this.chat);\n            this.refreshed_or_closed = false;\n            this.update_scrollbar(\"upto_end\", \"response\");\n          })\n          .catch(e => {\n            document.querySelector(\".typing-indicator\").style.display = \"none\";\n          });\n      } else if (this.live_chat_on) {\n        if (this.user_name == \"\") {\n          this.channel.push(\"new_name\", { name: this.to_send });\n          this.user_name = this.to_send;\n          this.update_scrollbar(\"upto_end\", \"response\");\n        } else {\n          this.channel.push(\"new_chat_message\", { message: this.to_send });\n          this.update_scrollbar(\"upto_end\", \"response\");\n        }\n        this.chat.push({\n          sent: this.to_send,\n          sending: true,\n          conversation_only: true,\n          time: this.generate_time()\n        });\n        this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\", \"sender\");\n      } else if (\n        this.to_send != \"\" &&\n        this.to_send != null &&\n        this.cense_enquiry != true\n      ) {\n        this.chat.push({\n          conversation_only: true,\n          sending: true,\n          sent: this.to_send,\n          time: this.generate_time()\n        });\n        this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\", \"sender\");\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: this.to_send,\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed\n          })\n          .then(response => {\n            this.response_handling(response);\n          })\n          .catch(e => {\n            this.update_scrollbar(\"upto_end\", \"response\");\n          });\n      }\n      this.to_send = \"\";\n      this.button_fill();\n    },\n    initiate_support_chat() {\n      this.chat.push({\n        receiving: true,\n        received: \"Sorry I am not getting your question\",\n        conversation_only: true\n      });\n      this.chat.push({\n        receiving: true,\n        received: \"Would you like to talk with support team?\",\n        conversation_only: true,\n        show_buttons: true,\n        support_buttons: true,\n        time: this.generate_time()\n      });\n      this.update_scrollbar(\"upto_end\", \"response\");\n    },\n    disconnect_support_chat() {\n      this.channel.push(\"stopped_chat\", {\n        name: this.user_name,\n        message: \" has ended the conversation.\"\n      });\n      this.channel.leave();\n      this.chat_socket.disconnect();\n      this.live_chat_on = false;\n    },\n    chat_response_error() {\n      this.chat.push({\n        conversation_only: true,\n        receiving: true,\n        received: \"Sorry I'm not getting your question\",\n        time: this.generate_time()\n      });\n      this.$session.set(\"BotResponse_Conversation\", this.chat);\n      this.update_scrollbar(\"upto_end\", \"response\");\n    },\n    send_request_json(message) {\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          token: this.bot_response_token_value,\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed,\n          chat: \"\",\n          source: \"Web\",\n          data: this.json_data[message.responses[0].intent]\n        })\n        .then(resp => {\n          this.chat.push({\n            conversation_only: true,\n            receiving: true,\n            received:\n              resp.data.responses.length == 0\n                ? \"Sorry I'm not getting your question\"\n                : resp.data.responses[0].text,\n            time: this.generate_time(),\n            image:\n              resp.data.responses[0].img == \"\"\n                ? null\n                : resp.data.responses[0].img\n          });\n          this.$session.set(\"BotResponse_Conversation\", this.chat);\n          this.update_scrollbar(\"upto_end\", \"response\");\n        });\n    },\n    response_handling(response, type) {\n      var i = 0;\n      var delay =\n        response.data.responses[i].text != undefined &&\n        response.data.responses[i].text.length > 10\n          ? 2000\n          : 500;\n      var vm = this;\n      document.querySelector(\".typing-indicator\").style.display = \"block\";\n      setTimeout(() => {\n        handle_response();\n      }, delay);\n      function handle_response() {\n        setTimeout(() => {\n          document.querySelector(\".typing-indicator\").style.display = \"none\";\n          if (response.data == null || response.data.responses.length == 0) {\n            vm.chat_response_error();\n          } else if (\n            response.data.responses[i].request_json != undefined &&\n            response.data.responses[i].request_json == true\n          ) {\n            if (response.data.responses[i].text != null) {\n              vm.chat.push({\n                conversation_only: true,\n                receiving: true,\n                received: response.data.responses[i].text,\n                time: vm.generate_time(),\n                image: response.data.responses[i].img,\n                video: response.data.responses[i].video\n              });\n              vm.$session.set(\"BotResponse_Conversation\", vm.chat);\n              vm.update_scrollbar(\"upto_end\", \"response\");\n            }\n            if (response.data.responses[i].intent == \"gogyb450_create_ticket\") {\n              var name;\n              if (vm.$session.get(\"UserInformation\").first_name != null) {\n                name =\n                  vm.$session.get(\"UserInformation\").first_name +\n                  \" \" +\n                  vm.$session.get(\"UserInformation\").last_name;\n              } else if (vm.$session.has(\"UserFirstName\")) {\n                name =\n                  vm.$session.get(\"UserFirstName\") +\n                  \" \" +\n                  vm.$session.get(\"UserLastName\");\n              }\n              var payload = {\n                username: name,\n                companyname: vm.companyname,\n                companyid: vm.companyid,\n                user_role: vm.$session.get(\"UserInformation\").role,\n                email: vm.$session.get(\"UserInformation\").email,\n                license_key: vm.$session.get(\"UserInformation\").license_key,\n                token: vm.$session.get(\"UserInformation\").tokens,\n                ticket_issue: \"\",\n                ticket_number: vm.ticket_number(),\n                description: \"\",\n                file_content: null,\n                file_name: null,\n                isEdit: false\n              };\n              payload = JSON.stringify(payload);\n              axios\n                .post(api_calls.chatbot_response_cense(), {\n                  license_key: vm.$session.get(\"UserInformation\").license_key,\n                  token: vm.bot_response_token_value,\n                  username: vm.$session.get(\"UserInformation\").email,\n                  token: vm.bot_response_token_value,\n                  role: vm.$session.get(\"UserInformation\").role,\n                  refreshed_or_closed: vm.refreshed_or_closed,\n                  chat: \"\",\n                  source: \"Web\",\n                  data: payload\n                })\n                .then(resp => {\n                  vm.chat.push({\n                    conversation_only: true,\n                    receiving: true,\n                    received:\n                      resp.data.responses.length == 0\n                        ? \"Sorry I'm not getting your question\"\n                        : resp.data.responses[i].text,\n                    time: vm.generate_time(),\n                    image: resp.data.responses[i].img,\n                    video:\n                      resp.data.responses[i].video != null\n                        ? resp.data.responses[i].video\n                        : null\n                  });\n                  vm.$session.set(\"BotResponse_Conversation\", vm.chat);\n                  vm.update_scrollbar(\"upto_end\", \"response\");\n                });\n            } else if (\n              response.data.responses[i].intent == \"create_appointment\"\n            ) {\n              let today_date = new Date();\n              axios\n                .post(api_calls.schedule_appointment_url(), {\n                  companyname: vm.companyname,\n                  companyid: vm.companyid,\n                  Date:\n                    today_date.getFullYear() +\n                    \"-\" +\n                    (today_date.getMonth() < 9\n                      ? \"0\" + (today_date.getMonth() + 1)\n                      : today_date.getMonth() + 1) +\n                    \"-\" +\n                    today_date.getDate() //Month object document it\n                  // Date: start_time,\n                })\n                .then(response => {\n                  // this.time_slots = this.full_time_slots;\n                  // if (response.data.Slot != undefined) {\n                  //   if (response.data.Slot.length > 0) {\n                  //     let index;\n                  //     for (var i in response.data.Slot) {\n                  //       index = this.time_slots.indexOf(response.data.Slot[i]);\n                  //       if (index != -1) {\n                  //         this.time_slots.splice(index, 1);\n                  //       }\n                  //     }\n                  //   } else {\n                  //   }\n                  // }\n                })\n                .catch(e => {\n                  // console.log(e);\n                });\n            } else {\n              vm.send_request_json(response.data);\n            }\n          } else if (\n            response.data.responses[i].return_intent != undefined &&\n            response.data.responses[i].return_intent == true\n          ) {\n            axios\n              .post(api_calls.chatbot_response_cense(), {\n                license_key: vm.$session.get(\"UserInformation\").license_key,\n                token: vm.bot_response_token_value,\n                username: vm.$session.get(\"UserInformation\").email,\n                token: vm.bot_response_token_value,\n                role: vm.$session.get(\"UserInformation\").role,\n                refreshed_or_closed: vm.refreshed_or_closed,\n                chat: \"/\" + response.data.responses[i].intent,\n                source: \"Web\"\n              })\n              .then(response => {\n                vm.handle_response(response);\n              });\n          } else if (\n            vm.companyid == \"3x5ive99534\" &&\n            response.data.responses[i].intent != undefined &&\n            response.data.responses[i].intent == \"confusion\"\n          ) {\n            vm.confusion_message(\"/need_help\");\n          } else if (response.data.responses[i].buttons != undefined) {\n            vm.load_buttons(response.data.responses[i], i);\n          } else if (response.data.responses[i].custom != undefined) {\n            //CHange  the condition here\n            if (\n              response.data.responses[i].custom.type != undefined &&\n              response.data.responses[i].custom.type == \"multiselect_dropdown\"\n            ) {\n              vm.multiselect_load(response.data.responses[i], i);\n            } else if (\n              response.data.responses[i].custom.type != undefined &&\n              response.data.responses[i].custom.type == \"table\"\n            ) {\n              vm.load_table(response.data.responses[i], i);\n            }\n          }\n          //this one for foreignxchange\n          else if (\n            response.data.responses[i].text != undefined &&\n            (response.data.responses[i].text.toLowerCase() ==\n              \"sorry i am not getting your question\" ||\n              response.data.responses[i].text.toLowerCase() ==\n                \"is there anything i can help you with?\")\n          ) {\n            if (\n              vm.$session.get(\"UserInformation\").license_key ==\n                \".eJxTcssvSs1Mz6tIzkjMS081NDexNIQKKUDFMkpKCoqt9PXLy8v10lBU6yXn5-olluobGRha6hqY6xqYKBgaWBkZW5ma6hmbm5gYmSoBAGa9Hp0.XR3Tuw.X77F_7LDtOLp2Vt9snFDSo31nTw\" ||\n              vm.$session.get(\"UserInformation\").license_key ==\n                \".eJxTci4tLsnPTS3ySCwoyMxLLS62NDW0MIWJKsCFM0pKCoqt9PXLy8v1kjOKE_USU_WNDAwtdQ3MdQ2NFAwNrYDIxFzPxMTS0tJICQBjZxux.XShq8w.Pgo5cmKwMQFnYUsscpojwEqDXQw\"\n            ) {\n              vm.initiate_support_chat();\n            } else {\n              vm.chat.push({\n                receiving: true,\n                received: \"Sorry I am not getting your question\",\n                conversation_only: true,\n                time: vm.generate_time()\n              });\n              vm.update_scrollbar(\"upto_end\", \"response\");\n            }\n          } else {\n            var msg = {\n              conversation_only: true,\n              time:\n                i == response.data.responses.length - 1\n                  ? vm.generate_time()\n                  : null\n            };\n            if (response.data.responses.length == 0) {\n              msg.received = \"Sorry we are not getting your question.\";\n              msg.receiving = true;\n            } else if (\n              response.data.responses[i].text != undefined &&\n              response.data.responses[i].text.includes(\".pdf\")\n            ) {\n              vm.display_pdf_chat(response.data.responses[i].text);\n            } else if (\n              response.data.responses[i].text != undefined &&\n              !response.data.responses[i].text.includes(\n                \"Download your manifest here\"\n              )\n            ) {\n              msg.received = response.data.responses[i].text;\n              msg.receiving = true;\n              msg.image = response.data.responses[i].img;\n              msg.videos =\n                response.data.responses[i].video == null\n                  ? []\n                  : response.data.responses[i].video;\n              vm.chat.push(msg);\n              if (i == 0) {\n                setTimeout(() => {\n                  vm.to_scroll = true;\n                  if (\n                    $(\".chat-body\")\n                      .children()\n                      .last()\n                      .height() /\n                      $(\".chat-body\").height() <\n                    0.5\n                  ) {\n                    $(\".chat-body\").animate(\n                      {\n                        scrollTop: $(\".chat-body\").prop(\"scrollHeight\")\n                      },\n                      1500\n                    );\n                  } else if (\n                    $(\".receiver\")\n                      .last()\n                      .parent()\n                      .height() /\n                      $(\".chat-body\").height() >\n                      0.5 &&\n                    $(\".receiver\")\n                      .last()\n                      .parent()\n                      .height() /\n                      $(\".chat-body\").height() <\n                      0.6\n                  ) {\n                    $(\".chat-body\").animate(\n                      {\n                        scrollTop: 0.9 * $(\".chat-body\").prop(\"scrollHeight\")\n                      },\n                      1500\n                    );\n                  } else {\n                    $(\".chat-body\").animate(\n                      {\n                        scrollTop: 0.75 * $(\".chat-body\").prop(\"scrollHeight\")\n                      },\n                      1500\n                    );\n                  }\n                }, 1000);\n              }\n              if (\n                $(\".chat-body\").height() -\n                  $(\".chat-body\").prop(\"scrollHeight\") !=\n                0\n              ) {\n                vm.to_scroll = true;\n              }\n            } else if (response.data.responses[i].intent == \"chat_support\") {\n              msg.receiving = true;\n              msg.received =\n                \"I am connecting you to one of our support agents. Please wait for a while.\";\n              vm.update_scrollbar(\"upto_end\", \"response\");\n              vm.chat.push(msg);\n              vm.chat.push({\n                receiving: true,\n                received: \"What's your name?\",\n                conversation_only: true,\n                time: vm.generate_time()\n              });\n              vm.update_scrollbar(\"upto_end\", \"response\");\n              axios.get(api_calls.chat_group_api()).then(response => {\n                vm.chat_group_name = response.data.chat_group_name;\n                vm.live_chat_token = response.data.token;\n                vm.live_chat_on = true;\n                vm.chat_socket = new Socket(process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT, {\n                  params: {\n                    company: vm.$session.get(\"UserInformation\").company_name,\n                    chat_group_name: vm.chat_group_name,\n                    token: vm.live_chat_token\n                  }\n                });\n                vm.chat_socket.connect();\n                vm.channel = vm.chat_socket.channel(\n                  \"customers_groups:\" + vm.chat_group_name\n                );\n                vm.channel.join();\n                vm.channel.push(\"customer_needs_support_agent\");\n                vm.channel.on(\"new_chat_message\", res => {\n                  if (res.sender != \"customer\") {\n                    vm.chat.push({\n                      receiving: true,\n                      received: res.message,\n                      time: vm.generate_time(),\n                      conversation_only: true\n                    });\n                  }\n                  vm.update_scrollbar(\"upto_end\", \"response\");\n                });\n                vm.channel.on(\"stopped_chat\", res => {\n                  vm.chat.push({\n                    conversation_only: true,\n                    receiving: true,\n                    received: \"Support agent \" + res.message,\n                    time: this.generate_time()\n                  });\n                  vm.live_chat_on = false;\n                  vm.update_scrollbar(\"upto_end\", \"response\");\n                });\n                vm.channel.on(\"started_typing\", res => {\n                  vm.is_typing = true;\n                  document.querySelector(\".typing-indicator\").style.display =\n                    \"block\";\n                });\n                vm.channel.on(\"stopped_typing\", res => {\n                  vm.is_typing = false;\n                  document.querySelector(\".typing-indicator\").style.display =\n                    \"none\";\n                });\n              });\n            } else if (\n              response.data.responses[i].text != undefined &&\n              (response.data.responses[i].text.includes(\n                \"Download your manifest here\"\n              ) ||\n                response.data.responses[i].text.includes(/.pdf/))\n            ) {\n              vm.display_pdf_chat(response.data.responses[i]);\n            } else if (response.data.responses[i].products.length > 0) {\n              vm.display_products_chat(response.data.responses[i]);\n            }\n          }\n          if (i < response.data.responses.length - 1) {\n            i += 1;\n            document.querySelector(\".typing-indicator\").style.display = \"block\";\n            delay =\n              response.data.responses[i].text != undefined &&\n              response.data.responses[i].text.length > 10\n                ? 2000\n                : 500;\n            handle_response();\n          }\n        }, delay);\n      }\n    },\n    push_msg(responses, response) {\n      var index = 0;\n      var vm = this;\n      var delay = response[index].text.length > 10 ? 2000 : 500;\n      push_chat(response[index], delay);\n      this.refreshed_or_closed = true;\n      function push_chat(msg, time_delay) {\n        document.querySelector(\".typing-indicator\").style.display = \"block\";\n        setTimeout(() => {\n          document.querySelector(\".typing-indicator\").style.display = \"none\";\n\n          if (responses.data.responses[index].buttons != undefined) {\n            vm.load_buttons(\n              responses.data.responses[index],\n              \"is_button\",\n              \"welcome_message\"\n            );\n          } else {\n            vm.chat.push({\n              conversation_only: true,\n              receiving: true,\n              received: msg.text,\n              time:\n                index == response.length - 1 ? vm.generate_time() : undefined\n            });\n          }\n\n          $(\".time\")\n            .last()\n            .css(\"display\", \"none\");\n          setTimeout(() => {\n            $(\".time\")\n              .last()\n              .css(\"display\", \"block\");\n\n            if (index < response.length - 1) {\n              index += 1;\n              delay = response[index].text.length > 10 ? 2000 : 500;\n              push_chat(response[index], delay);\n            } else {\n              // console.log('1');\n              vm.refreshed_or_closed = false;\n            }\n          }, 500);\n        }, time_delay);\n      }\n    },\n    confusion_message(msg_string) {\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          chat: msg_string,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n          user_id: \"\",\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          data: \"\",\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: false\n        })\n        .then(response => {\n          this.response_handling(response);\n        });\n    },\n    fix_appointment() {\n      event.preventDefault();\n    },\n    display_products_chat(message) {\n      var msg = {\n        conversation_only: true,\n        time: this.generate_time()\n      };\n      msg.isproduct = true;\n      msg.elements = message;\n      this.chat.push(msg);\n      this.$session.set(\"BotResponse_Conversation\", this.chat);\n      this.update_scrollbar(\"upto_end\", \"response\");\n    },\n    display_pdf_chat(message) {\n      var msg = {\n        conversation_only: true,\n        time: this.generate_time()\n      };\n      if (message.includes(\"Download your manifest here \")) {\n        var temp = message.split(\"Download your manifest here \");\n        msg.url = temp[1];\n        msg.receiving = false;\n        msg.file_name = message.split(/^.*[\\\\\\/]/)[1];\n        this.chat.push(msg);\n        this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\", \"response\");\n      } else {\n        let url = message.match(\n          /((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)/g\n        )[0];\n        msg.url = url;\n        msg.receiving = false;\n        msg.file_name = url.split(/^.*[\\\\\\/]/)[1];\n        this.chat.push(msg);\n        this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\", \"response\");\n      }\n    },\n    generate_payment(price, name) {\n      var vm = this;\n      var options = {\n        key: \"rzp_test_SnDTaPnncfliDt\",\n        amount: price * 100,\n        company_id: this.$session.get(\"UserInformation\").company_id,\n        company_name: this.$session.get(\"UserInformation\").company_name,\n        name: \"Cense AI\",\n        currency: \"INR\",\n        description: \"Instill Intelligence\",\n        image: \"/img/cense_image.png\", // COMPANY LOGO\n        handler: function(response) {\n          var contact = $('#contact[type=\"tel\"]').value;\n          var email = $('#email[type=\"email\"]').value;\n          vm.paymentid = response.razorpay_payment_id;\n\n          if (transfer_account != null) {\n            vm.transfer_payment(transfer_account, price * 100, \"INR\", name);\n          }\n        },\n        prefill: {\n          name: \"\", // pass customer name\n          email: \"\", // customer email\n          contact: \"\" //customer phone no.\n        },\n        notes: {\n          address: \"address\" //customer address\n        },\n        theme: {\n          color: \"#283777\" // screen color\n        }\n      };\n      var rzp1 = new Razorpay(options);\n      rzp1.open();\n      event.preventDefault();\n    },\n    transfer_payment(account, amount, currency, name) {\n      axios\n        .post(\"https://api.razorpay.com/1/transfers\", {\n          auth: {\n            rzp_test_SnDTaPnncfliDt: \"llxEKbgABH8Lx4XApex9cGzj\"\n          },\n          data: {\n            account: account,\n            amount: amount,\n            currency: currency\n          }\n        })\n        .then(response => {\n          // if(this.user_data.api_key!='') {\n          this.shopify_order_create(name);\n          // }\n        });\n    },\n    shopify_order_create(name) {},\n    click_prompt(type) {\n      this.live_chat_on = false;\n      var divclickpopup = event.target.innerText;\n      setTimeout(() => {\n        document.querySelector(\".typing-indicator\").style.display = \"none\";\n      }, 500);\n      document.querySelector(\".typing-indicator\").style.display = \"block\";\n      if (type != \"collapsible\") {\n        axios\n          .post(api_calls.prompt_url(), {\n            uid: \"cense\",\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            chat: event.target.innerText,\n            level: event.target.attributes.value.nodeValue\n          })\n          .then(response => {\n            if (response.data.collapsible == true) {\n              this.create_chat(response.data, \"isprompt\");\n              document.querySelector(\".typing-indicator\").style.display =\n                \"none\";\n            } else if (\n              response.data.extras != undefined &&\n              response.data.extras[0].Type == \"TABLE\"\n            ) {\n              this.create_chat(response.data, \"istable\");\n              document.querySelector(\".typing-indicator\").style.display =\n                \"none\";\n            } else {\n              if (response.data != \"Oops! Something went wrong!\") {\n                this.create_chat(response.data, \"isprompt\");\n                document.querySelector(\".typing-indicator\").style.display =\n                  \"none\";\n              } else if (response.data == \"Oops! Something went wrong!\") {\n                this.chat.push(response.data);\n                this.$session.set(\"BotResponse_Conversation\", this.chat);\n                this.update_scrollbar();\n                document.querySelector(\".typing-indicator\").style.display =\n                  \"none\";\n              }\n            }\n          });\n      } else if (type == \"collapsible\") {\n        axios\n          .post(api_calls.prompt_url(), {\n            uid: \"cense\",\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            chat: \"\"\n          })\n          .then(response => {\n            this.chat.push(response.data);\n            this.update_scrollbar(\"upto_end\", \"response\");\n            this.$session.set(\"BotResponse_Conversation\", this.chat);\n          });\n      }\n    },\n    button_fill() {\n      if (this.isexchange) {\n        if (this.to_send == \"\") {\n          document.querySelector(\"#send_button\").style.fill = \"#8a8a8a63\";\n        } else if (this.to_send != \"\") {\n          if (this.live_chat_on) {\n            this.channel.push(\"started_typing\");\n            this.stop_typing(this);\n          }\n          document.querySelector(\"#send_button\").style.fill = \"#fdcf38\";\n        }\n      } else if (!this.isexchange) {\n        if (this.to_send == \"\") {\n          document.querySelector(\"#send_button\").style.fill = \"#8a8a8a63\";\n        } else if (this.to_send != \"\") {\n          if (this.live_chat_on) {\n            this.channel.push(\"started_typing\");\n            this.stop_typing(this);\n          }\n          document.querySelector(\"#send_button\").style.fill = \"#273679\";\n        }\n      }\n    },\n    stop_typing: debounce(vm => {\n      vm.channel.push(\"stopped_typing\");\n    }, 5000),\n    scroll_down() {\n      if (\n        document.querySelector(\".chat-body\").scrollHeight -\n          document.querySelector(\".chat-body\").scrollTop -\n          $(\".chat-his\")\n            .last()\n            .height() <=\n        document.querySelector(\".chat-body\").clientHeight\n      ) {\n        this.to_scroll = false;\n      } else {\n        this.to_scroll = true;\n      }\n    },\n    load_buttons(message, index, type) {\n      var msg = {\n        conversation_only: true,\n        buttons_list: [],\n        button_prefix: message.prefix,\n        custom_buttons: true,\n        receiving: true,\n        received: message.text,\n        time: this.generate_time(),\n        removable: type == \"welcome_message\" ? false : true\n      };\n      if (message.buttons.length == 3) {\n        if (\n          message.buttons[0].title == \"Exchange Rate\" &&\n          message.buttons[1].title == \"Track My Parcel\" &&\n          message.buttons[2].title == \"Call Helpdesk\"\n        ) {\n          msg.removable = false;\n        }\n      }\n      if (\n        message.text == \"Would you like to share your name and number?\" &&\n        this.isexchange\n      ) {\n        $(\"#response_bot_text\").prop(\"disabled\", true);\n      }\n      for (var i in message.buttons) {\n        if (msg.button_prefix != null) {\n          msg.buttons_list.push({\n            title: message.buttons[i].title,\n            value: msg.button_prefix + message.buttons[i].value\n          });\n        } else {\n          msg.buttons_list.push({\n            title: message.buttons[i].title,\n            value: message.buttons[i].value\n          });\n        }\n        if (\n          msg.buttons_list[i].title == \"No\" &&\n          message.text != \"Can I help you with anything else?\" &&\n          this.companyid == \"clinicaltrials81352\"\n        ) {\n          msg.buttons_list[i].value = \"isdisabled\";\n        }\n      }\n      setTimeout(() => {\n        this.chat.push(msg);\n        if (index == \"is_button\" || index == 0) {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\")\n                .children()\n                .last()\n                .height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              $(\".chat-body\").animate(\n                {\n                  scrollTop: $(\".chat-body\").prop(\"scrollHeight\")\n                },\n                1500\n              );\n            } else {\n              $(\".chat-body\").animate(\n                {\n                  scrollTop: $(\".chat-body\").prop(\"scrollTop\") + 50\n                },\n                1500\n              );\n            }\n          }, 1000);\n        } else {\n          this.to_scroll = true;\n        }\n        this.$session.set(\"BotResponse_Conversation\", this.chat);\n      }, 2500);\n    },\n    multiselect_load(message, index) {\n      var msg = {\n        conversation_only: true,\n        multiselect_values: message.custom.values,\n        placeholder: message.custom.placeholder,\n        is_multiselect: true,\n        receiving: true,\n        received: message.text,\n        time: this.generate_time()\n      };\n      this.chat.push(msg);\n    },\n    load_table(message, index) {\n      let msg = {\n        conversation_only: true,\n        col_list: Object.keys(message.custom.values[0]),\n        table_value: message.custom.values,\n        receiving: true,\n        received: message.text,\n        is_table: true,\n        time: this.generate_time()\n      };\n\n      setTimeout(() => {\n        this.chat.push(msg);\n        if (index == 0) {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\")\n                .children()\n                .last()\n                .height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              $(\".chat-body\").animate(\n                {\n                  scrollTop: $(\".chat-body\").prop(\"scrollHeight\")\n                },\n                1500\n              );\n            } else {\n              $(\".chat-body\").animate(\n                {\n                  scrollTop: 0.7 * $(\".chat-body\").prop(\"scrollHeight\")\n                },\n                1500\n              );\n            }\n          }, 1000);\n        } else {\n          $(\".chat-body\").animate(\n            {\n              scrollTop: $(\".chat-body\").prop(\"scrollTop\") + 100\n            },\n            1500\n          );\n          this.to_scroll = true;\n        }\n      }, 2500);\n    },\n    create_chat(message, type) {\n      var currency_list = [];\n      if (type == \"istable\") {\n        axios\n          .get(\"https://api.exchangeratesapi.io/latest\", {\n            params: {\n              base: \"AUD\"\n            }\n          })\n          .then(response => {\n            for (var i in message.extras[0].TABLE) {\n              if (message.extras[0].TABLE[i].PROP == \"TR\") {\n                currency_list.push({\n                  currency_title: message.extras[0].TABLE[i].TD,\n                  currency_value: parseFloat(\n                    Math.round(\n                      response.data.rates[message.extras[0].TABLE[i][\"TD_1\"]] *\n                        100\n                    ) / 100\n                  ).toFixed(4),\n                  type: \"TR\"\n                });\n              } else if (\n                message.extras[0].TABLE[i].PROP == \"THEAD\" &&\n                !this.isexchange\n              ) {\n                currency_list.push({\n                  country_name: message.extras[0].TABLE[i].TD,\n                  currency_name: message.extras[0].TABLE[i].TD_1,\n                  type: \"THEAD\"\n                });\n              }\n            }\n            ///\n            this.currencyexchange_list = currency_list;\n            ///\n            this.chat.push({\n              is_table: true,\n              table_title: this.parse(message.title),\n              table_list: currency_list\n            });\n            this.update_scrollbar();\n            setTimeout(() => {\n              document.querySelector(\".typing-indicator\").style.display =\n                \"none\";\n            }, 1000);\n          });\n      } else if (type == \"isprompt\") {\n        if (message.level > 0) {\n          this.chat.push(message);\n          this.$session.set(\"BotResponse_Conversation\", this.chat);\n          this.level = message.level;\n          this.update_scrollbar(\"upto_end\", \"response\");\n        } else {\n          this.chat.push(message);\n          this.first_click = true;\n          this.level = message.level;\n          this.update_scrollbar(\"upto_end\", \"response\");\n        }\n      } else {\n        this.chat.push(message);\n      }\n      this.$session.set(\"BotResponse_Conversation\", this.chat);\n    },\n    submit_custom_form() {\n      if (document.querySelector(\"#details_form\") != null) {\n        var element = document.querySelector(\"#details_form\");\n        element.addEventListener(\"submit\", event => {\n          event.preventDefault();\n          // actual logic, e.g. validate the form\n          var queryString = $(\"#details_form\").serializeArray();\n          if (this.form_payload == null) {\n            this.form_payload = {};\n            for (var i in queryString) {\n              this.form_payload[queryString[i].name] = queryString[i].value;\n            }\n            axios\n              .post(api_calls.bot_user_data(), {\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                data: this.form_payload,\n                token: this.bot_response_token_value,\n                username: this.$session.get(\"UserInformation\").email,\n                source: \"Web\",\n                token: this.bot_response_token_value,\n                role: this.$session.get(\"UserInformation\").role\n              })\n              .then(response => {\n                if (response.data == \"Bot User Data Saved Successfully\") {\n                  $(\"#details_form :input\").prop(\"disabled\", true);\n                  $(\"#details_form :button\").prop(\"disabled\", true);\n                  this.update_scrollbar(\"upto_end\", \"response\");\n                  axios\n                    .post(api_calls.chatbot_response_cense(), {\n                      chat: \"/details_form\",\n                      token: this.bot_response_token_value,\n                      username: this.$session.get(\"UserInformation\").email,\n                      source: \"Web\",\n                      user_id: \"\",\n                      license_key: this.$session.get(\"UserInformation\")\n                        .license_key,\n                      Details: JSON.stringify(this.form_payload),\n                      role: this.$session.get(\"UserInformation\").role,\n                      refreshed_or_closed: false\n                    })\n                    .then(resp => {\n                      this.response_handling(resp);\n                      $(\".chat-body\").animate(\n                        { scrollTop: $(\".chat-body\").prop(\"scrollHeight\") },\n                        1000\n                      );\n                    });\n                }\n              })\n              .catch(e => {\n                // console.log(e);\n              });\n          }\n        });\n      }\n    },\n    update_scrollbar(type, isresponse, iswelcome, delay_value) {\n      var scroll_delay = iswelcome == \"is_welcome\" ? delay_value : 2000;\n      document.querySelector(\".typing-indicator\").style.display = \"block\";\n      if (isresponse == \"response\") {\n        setTimeout(() => {\n          document.querySelector(\".typing-indicator\").style.display = \"none\";\n        }, scroll_delay);\n      } else if (isresponse == \"sender\") {\n        $(\".chat-body\").animate(\n          {\n            scrollTop: $(\".chat-body\").prop(\"scrollHeight\")\n          },\n          750\n        );\n      }\n      if (isresponse != \"sender\") {\n        if (type == \"upto_end\") {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\").prop(\"scrollTop\") <\n              $(\".chat-body\").prop(\"scrollHeight\")\n            ) {\n              if (\n                $(\".receiver\")\n                  .last()\n                  .parent()\n                  .height() /\n                  $(\".chat-body\").height() >\n                0.5\n              ) {\n                $(\".chat-body\").animate(\n                  {\n                    scrollTop: 0.75 * $(\".chat-body\").prop(\"scrollHeight\")\n                  },\n                  1500\n                );\n                this.to_scroll = true;\n              }\n            } else if (\n              $(\".receiver\")\n                .last()\n                .parent()\n                .height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              $(\".chat-body\").animate(\n                {\n                  scrollTop: $(\".chat-body\").prop(\"scrollHeight\")\n                },\n                scroll_delay\n              );\n            }\n          }, scroll_delay);\n        } else {\n          setTimeout(() => {\n            document.querySelector(\".chat-body\").scrollTop =\n              document.querySelector(\".chat-body\").scrollHeight -\n              document.querySelector(\".chat-body\").lastChild.scrollHeight;\n          }, 1000);\n        }\n      }\n    },\n    FXPaymentMode() {\n      this.to_send = \"/Foreignxchange17491_payment_mode\";\n      this.send_message(\n        \"is_prompt\",\n        \"/Foreignxchange17491_payment_mode\",\n        \"Payment\"\n      );\n    },\n    FXTrackingParcel() {\n      this.to_send = \"/Foreignxchange17491_tracking_parcel\";\n      this.send_message(\n        \"is_prompt\",\n        \"/Foreignxchange17491_tracking_parcel\",\n        \"Track My Parcel\"\n      );\n    },\n    // ForeignExchangeConversion() {\n    //   this.to_send = \"/Foreignxchange17491_exchange_rate\";\n    //   this.send_message(\n    //     \"is_prompt\",\n    //     \"/Foreignxchange17491_exchange_rate\",\n    //     \"Exchange Rate\"\n    //   );\n    // },\n    ForeignExchangeConversion() {\n      // this.to_send = \"/Foreignxchange17491_exchange_rate\";\n      this.to_send = '/Foreignxchange17491_exchange_rate{\"BUY_OR_SELL\": \"BUY\"}';\n      this.send_message(\n        \"is_prompt\",\n        '/Foreignxchange17491_exchange_rate{\"BUY_OR_SELL\": \"BUY\"}',\n        \"Exchange Rate\"\n      );\n    },\n\n    ex1() {\n      setTimeout(() => {\n        if (document.getElementById(\"r1\") != null) {\n          $(\"#l1\").val(1);\n          for (let i = 0; i < this.currencyexchange_list.length; i++) {\n            $(\"#country\").append(\n              `<option value=\"${this.currencyexchange_list[i].currency_value}\">${this.currencyexchange_list[i].currency_title}</option>`\n            );\n          }\n          $(\"#r1\").text(document.getElementById(\"country\").value);\n          // document.getElementById(\"r1\").addEventListener(\"keyup\", function() {\n          //   var x = document.getElementById(\"r1\").innerText;\n          //   var con = document.getElementById(\"country\").value;\n          //   x = x / con;\n          //   x = x.toFixed(4);\n          //   $(\"#l1\").val(x);\n          // });\n          document.getElementById(\"l1\").addEventListener(\"keyup\", function() {\n            var x = document.getElementById(\"l1\").value;\n            var con = document.getElementById(\"country\").value;\n            x = x * con;\n            x = x.toFixed(4);\n            $(\"#r1\").text(x);\n          });\n          $(document).on(\"change\", \"#country\", function() {\n            // document.getElementById(\"country\").addEventListener(\"keyup\", function(){\n            var x = document.getElementById(\"l1\").value;\n            var con = document.getElementById(\"country\").value;\n            x = x * con;\n            x = x.toFixed(4);\n            $(\"#r1\").text(x);\n          });\n        }\n      }, 100);\n    },\n    adddropdownvalue() {\n      if (this.selected_indication[0] != undefined) {\n        this.to_send = \"\";\n        this.res = {};\n        for (let i = 0; i < this.selected_indication.length; i++) {\n          if (i == 0) {\n            this.to_send = this.selected_indication[i].title;\n          } else {\n            this.to_send =\n              this.to_send + \", \" + this.selected_indication[i].title;\n          }\n          if (\n            this.res[this.selected_indication[i].value.split('\"')[1]] ==\n            undefined\n          ) {\n            this.res[\n              this.selected_indication[i].value.split('\"')[1]\n            ] = this.selected_indication[i].value.split('\"')[3];\n          } else {\n            this.res[this.selected_indication[i].value.split('\"')[1]] =\n              this.res[this.selected_indication[i].value.split('\"')[1]] +\n              \",\" +\n              this.selected_indication[i].value.split('\"')[3];\n          }\n        }\n        this.button_fill();\n      } else {\n        this.to_send = \"\";\n        this.res = [];\n      }\n      this.button_fill();\n    },\n    closed_bot_chat(message,type){\n      // debugger;\n      // console.log(message);\n      this.refreshed_or_closed=true;\n      // lastclosedbotinputnode\n      if(message.nodes[message.nodes.length-1].node_type==\"header\"&&message.nodes[message.nodes.length-1].node_type!=null&&!this.empty_string_validity.test(message.nodes[message.nodes.length-1].node_type)){\n        if(message.nodes[message.nodes.length-1].title==\"Display Message\"){\n          message.nodes[message.nodes.length-1].title=null;\n        }\n        this.chat.push({\n          receiving: true,\n          received: message.nodes[message.nodes.length-1].title,\n          conversation_only: true,\n          time: null\n        });\n      }\n\n        // console.log(message.nodes.length);\n      for(let i=0;i<message.nodes.length-1;i+= 1){\n        // console.log(message.nodes);\n        if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"button\"&&!message.nodes[i].part_of_form){\n          var msg = {\n            conversation_only: true,\n            buttons_list: [],\n            button_prefix: null,\n            custom_buttons: true,\n            receiving: true,\n            time: null,\n            removable: type == \"welcome_message\" ? false : true\n          };\n          while(message.nodes[i].ui_element!=undefined){\n            if(message.nodes[i].ui_element.element_type==\"button\"){\n              msg.buttons_list.push({\n                title: message.nodes[i].ui_element.button,\n                value: message.nodes[i].ui_element.payload,\n                id: message.nodes[i].node_id,\n                node: message.nodes[i]\n              });\n            }\n            // msg.buttons_list.push({\n            //   title: message.nodes[i].ui_element.buttons,\n            //   value: message.nodes[i].ui_element.payload,\n            // });\n            i++;\n          }\n          i--;\n          this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"text_box\"&&!message.nodes[i].part_of_form){\n          this.chat.push({\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: message.nodes[i].ui_element.message,\n          });\n          // var msg = {\n          //   conversation_only: true,\n          //   buttons_list: [],\n          //   button_prefix: null,\n          //   custom_buttons: true,\n          //   receiving: true,\n          //   received: '<input type=\"text\" placeholder=\"'+message.nodes[i].ui_element.placeholder+'\"name=\"closed_bot_node_'+i+'\">',\n          //   time: null,\n          //   removable: type == \"welcome_message\" ? false : true\n          // };\n          this.refreshed_or_closed = false;\n          // console.log('2');\n          // this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"text_area\"&&!message.nodes[i].part_of_form){\n          var msg = {\n            conversation_only: true,\n            buttons_list: [],\n            button_prefix: null,\n            custom_buttons: true,\n            receiving: true,\n            // received: '<input type=\"text\" placeholder=\"'+message.nodes[i].ui_element.placeholder+'\"name=\"closed_bot_node_'+i+'\">',\n            received: '<textarea class=\"form-control\" rows=\"4\" cols=\"150\"style=\"padding-left:12px;resize:none;overflow-y:auto;min-height:30px\" placeholder=\"'+message.nodes[i].ui_element.placeholder+'\"name=\"closed_bot_node_'+i+'\"></textarea>',\n            time: null,\n            removable: type == \"welcome_message\" ? false : true\n          };\n          this.name_element_for_event_listener = \"closed_bot_node_\"+i;\n          // msg.buttons_list.push({\n          //     title: 'Submit',\n          //     value: 'Submit',\n          //   });\n          this.chat.push({\n            receiving: true,\n            received: message.nodes[i].ui_element.message,\n            conversation_only: true,\n            time: null\n          });\n          this.chat.push(msg);\n          this.is_text_area = true;\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"email\"&&!message.nodes[i].part_of_form){\n          this.isemail = true;\n          // if(message.nodes[i].validation_successful == false){\n          // this.chat.push({\n          //   receiving: true,\n          //   received: message.nodes[i].ui_element.error_msg,\n          //   conversation_only: true,\n          //   time: null\n          // });\n          // this.refreshed_or_closed = false;\n          // }\n          //  if(!message.nodes[i].validation_successful){\n            this.chat.push({\n              receiving: true,\n              received: message.nodes[i].ui_element.message,\n              conversation_only: true,\n              time: null\n            });\n            this.refreshed_or_closed = false;\n          //  }\n          // var msg = {\n          //   conversation_only: true,\n          //   buttons_list: [],\n          //   button_prefix: null,\n          //   custom_buttons: true,\n          //   receiving: true,\n          //   received: '<input type=\"email\" placeholder=\"'+message.nodes[i].ui_element.message+'\"name=\"closed_bot_node_'+i+'\">',\n          //   time: null,\n          //   removable: type == \"welcome_message\" ? false : true\n          // };\n          // // msg.buttons_list.push({\n          // //     title: 'Submit',\n          // //     value: 'Submit',\n          // //   });\n          // this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"phone_number\"&&!message.nodes[i].part_of_form){\n          this.is_phone_number = true;\n          // if(message.nodes[i].validation_successful == false){\n          // this.chat.push({\n          //   receiving: true,\n          //   received: message.nodes[i].ui_element.error_msg,\n          //   conversation_only: true,\n          //   time: null\n          // });\n          // this.refreshed_or_closed = false;\n          // }\n           this.chat.push({\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: message.nodes[i].ui_element.message,\n          });\n\n          var msg = {\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '<div style=\"display:flex\"> <select name=\"countrycode\" class=\"form-control\" style=\"padding-left:6px !important;padding-right:6px !important; width:40%;height:50px !important;\"  >',\n            // received: '',\n          }\n          // var dropdown = [];\n            const data = CountryCodes;\n            let option;\n            for (let i = 0; i < data.length; i++) {\n              // option = document.createElement('option');\n              // option.text = data[i].country_code;\n              // option.value = data[i].calling_code;\n              // // dropdown.add(option);\n              // msg.received=msg.received + option;\n              msg.received= msg.received+'<option value= '+data[i].dial_code+'>'+data[i].code + \"(\"+ data[i].dial_code +\")\" + '</option>'\n            }\n            msg.received=msg.received+'</select>';\n            msg.received = msg.received + '<input type=\"text\" class=\"form-control\" style=\"padding-left:12px !important; height:50px !important;\" autocomplete=\"off\" name=\"phonenumber\" id= \"phonenumber\" name=\"closed_bot_node_'+i+'\">  </div>'\n            // console.log(msg);\n            this.chat.push(msg);\n          // this.chat.push({\n          // receiving: true,\n          // received: message.nodes[i].ui_element.message,\n          // conversation_only: true,\n          // time: null\n          // });\n          this.refreshed_or_closed = true;\n          this.name_element_for_event_listener = \"phonenumber\";\n          // var msg = {\n          //   conversation_only: true,\n          //   buttons_list: [],\n          //   button_prefix: null,\n          //   custom_buttons: true,\n          //   receiving: true,\n          //   received: '<input type=\"email\" placeholder=\"'+message.nodes[i].ui_element.message+'\"name=\"closed_bot_node_'+i+'\">',\n          //   time: null,\n          //   removable: type == \"welcome_message\" ? false : true\n          // };\n          // // msg.buttons_list.push({\n          // //     title: 'Submit',\n          // //     value: 'Submit',\n          // //   });\n          // this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"hyperlink\"&&!message.nodes[i].part_of_form){\n          this.chat.push({\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '<a href=\"'+message.nodes[i].ui_element.hyperlink+'\" target=\"_blank\">'+message.nodes[i].ui_element.hyperlink+'</a>',\n          });\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"radio_buttons\"&&!message.nodes[i].part_of_form){\n           var msg = {\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '',\n          }\n          this.chat.push({\n              receiving: true,\n              received: message.nodes[i].ui_element.message,\n              conversation_only: true,\n              time: null\n          });\n          // msg.received = message.nodes[i].ui_element.message;\n          for(let j=0;j<message.nodes[i].ui_element.radio_buttons.length;j++){\n            msg.received=msg.received+'<input type=\"radio\" name=\"'+message.nodes[i].node_id+'\" value=\"'+message.nodes[i].ui_element.radio_buttons[j].title+'\">'+message.nodes[i].ui_element.radio_buttons[j].title+'<br>';\n          }\n          this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"check_box\"&&!message.nodes[i].part_of_form){\n          var msg = {\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '',\n          }\n          this.chat.push({\n              receiving: true,\n              received: message.nodes[i].ui_element.message,\n              conversation_only: true,\n              time: null\n          });\n          for(let j=0;j<message.nodes[i].ui_element.values.length;j++){\n            msg.received=msg.received+'<input type=\"checkbox\" name=\"'+message.nodes[i].node_id+'\" value=\"'+message.nodes[i].ui_element.values[j].title+'\">'+message.nodes[i].ui_element.values[j].title+'<br>';\n          }\n          this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"dropdown\"&&!message.nodes[i].part_of_form){\n          var msg = {\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '<select name=\"'+message.nodes[i].node_id+'\" class=\"form-control\" ><option value disabled=\"disabled\">'+message.nodes[i].ui_element.message+'</option>',\n            // received: '',\n          }\n\n          for(let j=0;j<message.nodes[i].ui_element.dropdown.length;j++){\n            msg.received=msg.received+'<option>'+message.nodes[i].ui_element.dropdown[j].title+'</option>';\n          }\n          msg.received=msg.received+'</select>';\n          this.chat.push(msg);\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"image\"&&!message.nodes[i].part_of_form){\n          this.chat.push({\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '<img width=\"210px\" height=\"140px\" src=\"'+message.nodes[i].ui_element.image+'\">',\n          });\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"video\"&&!message.nodes[i].part_of_form){\n          this.chat.push({\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '<iframe width=\"210px\" height=\"140px\" src=\"'+message.nodes[i].ui_element.video+'\"</iframe>',\n          });\n        } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"message\"&&!message.nodes[i].part_of_form){\n          this.chat.push({\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: message.nodes[i].ui_element.message,\n          });\n        } else if(message.nodes[i].node_type==\"node\"){\n          var msg = {\n            receiving: true,\n            conversation_only: true,\n            time: null,\n            received: '',\n          }\n          var form='<form id=\"'+message.nodes[i].form_name.replace(' ','_')+'\">';\n          while(message.nodes[i].part_of_form){\n            // form=form+'<br>'\n            if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"text_box\"){\n              form=form+'<div class=\"form-group\">';\n              form=form+'<p style=\"margin-bottom:0px;font-weight:450;font-size:15px;\">'+message.nodes[i].header+'</p>';\n              form=form+'<input name=\"'+message.nodes[i].header+'\" class=\"form-control\" style=\"padding-left:10px !important\" type=\"text\" placeholder=\"'+message.nodes[i].ui_element.placeholder+'\"name=\"closed_bot_node_'+i+'\">';\n              form=form+'</div>';\n\n            } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"dropdown\"){\n              form=form+'<div class=\"form-group\">';\n              form=form+'<p style=\"margin-bottom:0px;font-weight:450;font-size:15px;\">'+message.nodes[i].header+'</p>';\n              form=form+'<select name=\"'+message.nodes[i].header+'\" class=\"form-control\" >'\n              for(let j=0;j<message.nodes[i].ui_element.dropdown.length;j++){\n                form=form+'<option>'+message.nodes[i].ui_element.dropdown[j].title+'</option>';\n              }\n              form=form+'</select>';\n              form=form+'</div>';\n            } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"check_box\"){\n              form=form+'<div class=\"form-group\">';\n              form=form+'<p style=\"margin-bottom:0px;font-weight:450;font-size:15px;\">'+message.nodes[i].header+'</p>';\n              for(let j=0;j<message.nodes[i].ui_element.values.length;j++){\n                form=form+'<input type=\"checkbox\" name=\"'+message.nodes[i].header+'\" value=\"'+message.nodes[i].ui_element.values[j].title+'\">'+message.nodes[i].ui_element.values[j].title+'<br>';\n              }\n              form=form+'</div>';\n            } else if(message.nodes[i].node_type==\"node\"&&message.nodes[i].ui_element.element_type==\"radio_buttons\"){\n              form=form+'<div class=\"form-group\">';\n              form=form+'<p style=\"margin-bottom:0px;font-weight:450;font-size:15px;\">'+message.nodes[i].header+'</p>';\n              for(let j=0;j<message.nodes[i].ui_element.radio_buttons.length;j++){\n                form=form+'<input type=\"radio\" name=\"'+message.nodes[i].header+'\" value=\"'+message.nodes[i].ui_element.radio_buttons[j].title+'\">'+message.nodes[i].ui_element.radio_buttons[j].title+'<br>';\n              }\n              form=form+'</div>';\n            }\n            // form=form+'<br>'\n            i++\n          }\n          i--;\n          form = form+'<button type=\"submit\" class=\"btn btn-primary\">Submit</button></form>'\n          this.isformon=true;\n          this.form_name=message.nodes[i].form_name.replace(' ','_');\n          msg.received=form;\n          this.chat.push(msg);\n          this.submit_closed_form_data();\n        }\n        this.chat.push({\n          receiving: true,\n          conversation_only: true,\n          time: this.generate_time(),\n          received: null,\n        });\n        if(message.nodes[i].ui_element.element_type!='message'&&message.nodes[i].ui_element.element_type!='image'&&message.nodes[i].ui_element.element_type!='video'&&message.nodes[i].ui_element.element_type!='button'&&message.nodes[i].ui_element.element_type!='hyperlink'){\n          this.lastclosedbotinputnode=this.chat.length-1;\n          this.selectednodeid=message.nodes[i];\n        }\n        if(message.nodes[i].ui_element.element_type=='button'){\n          this.lastclosedbotinputnode=this.chat.length-2;\n          this.selectednodeid=message.nodes[i];\n        }\n        if(message.nodes[i].is_leaf){\n          this.isclosedboton=false;\n          this.refreshed_or_closed=false;\n          this.refreshed_or_closed=true;\n        }\n      }\n      setTimeout(() => {\n        var vm = this;\n        vm.to_scroll = true;\n        if (\n          $(\".chat-body\")\n            .children()\n            .last()\n            .height() /\n            $(\".chat-body\").height() <\n          0.5\n        ) {\n          $(\".chat-body\").animate(\n            {\n              scrollTop: $(\".chat-body\").prop(\"scrollHeight\")\n            },\n            1500\n          );\n        } else if (\n          $(\".receiver\")\n            .last()\n            .parent()\n            .height() /\n            $(\".chat-body\").height() >\n            0.5 &&\n          $(\".receiver\")\n            .last()\n            .parent()\n            .height() /\n            $(\".chat-body\").height() <\n            0.6\n        ) {\n          $(\".chat-body\").animate(\n            {\n              scrollTop: 0.9 * $(\".chat-body\").prop(\"scrollHeight\")\n            },\n            1500\n          );\n        } else {\n          $(\".chat-body\").animate(\n            {\n              scrollTop: 0.75 * $(\".chat-body\").prop(\"scrollHeight\")\n            },\n            1500\n          );\n        }\n        if($(\".chat-body\").scrollTop()==0){\n          this.to_scroll=false;\n        }\n        // console.log($('[name='+vm.name_element_for_event_listener+']'))\n        if(vm.name_element_for_event_listener != null){\n          $('[name='+vm.name_element_for_event_listener+']')[0].addEventListener('keyup', vm.append_message_to_chatbox)\n        }\n      }, 1000);\n    },\n    submit_closed_form_data(type,message){\n      // debugger;\n      // console.log(type, 'Hello Harsh');\n      if (document.querySelector(\"#chat\"+(this.lastclosedbotinputnode-1)) != null&&type=='is_button'&&message.title==\"Submit\"){\n        var element = document.querySelector(\"#chat\"+(this.lastclosedbotinputnode+1));\n        var queryString = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n        if(this.closed_form_reply_data==null){\n          document.querySelector(\".typing-indicator\").style.display = \"block\";\n          this.closed_form_reply_data={};\n          for (var i in queryString) {\n            this.closed_form_reply_data[queryString[i].name] = queryString[i].value;\n          }\n          for (var i in queryString) {\n            this.closed_form_reply_data.queryString[i].name.push(queryString[i].value);;\n          }\n          axios\n            .post(api_calls.closed_form_response_api(),{\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              uid: this.$session.get(\"UserInformation\").email,\n              chat: this.closed_form_reply_data,\n              node_selected: this.selectednodeid,\n              bot_name: this.bot_name,\n              conversation_id : this.conversation_id,\n            })\n            .then(response=>{\n              document.querySelector(\".typing-indicator\").style.display = \"none\";\n              this.closed_form_reply_data=null;\n              this.closed_bot_chat(response.data);\n            });\n        }\n      } else if(type=='is_button'){\n        this.refreshed_or_closed = true;\n        this.chat.push({\n          sent: message.title,\n          sending: true,\n          time: this.generate_time(),\n          conversation_only: true,\n          delivered: true,\n          dropdown: \"\"\n        });\n        document.querySelector(\".typing-indicator\").style.display = \"block\";\n        axios\n          .post(api_calls.closed_form_response_api(),{\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            uid: this.$session.get(\"UserInformation\").email,\n            chat: message.title,\n            // node_selected: {node_id: message.id},\n            node_selected:  message.node,\n            conversation_id : this.conversation_id,\n            bot_name: this.bot_name,\n          })\n          .then(response=>{\n            document.querySelector(\".typing-indicator\").style.display = \"none\";\n            this.closed_form_reply_data=null;\n            this.closed_bot_chat(response.data);\n          });\n      } else if(type==undefined&&!this.isformon && !this.isemail &&!this.is_phone_number && this.is_text_area){\n        this.disable_name_element_for_event_listener();\n        // $('[name='+this.name_element_for_event_listener+']').attr(\"disabled\", 'disabled')\n        // this.name_element_for_event_listener = null;\n        var element = document.querySelector(\"#chat\"+(this.lastclosedbotinputnode+1));\n        var queryString = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n        if(this.closed_form_reply_data==null){\n          document.querySelector(\".typing-indicator\").style.display = \"block\";\n          this.closed_form_reply_data={};\n          for (var i in queryString) {\n            this.closed_form_reply_data[queryString[i].name] = [];\n          }\n          for (var i in queryString) {\n            this.closed_form_reply_data[queryString[i].name].push(queryString[i].value);;\n          }\n          this.chat.push({\n            sent: this.to_send,\n            sending: true,\n            time: this.generate_time(),\n            conversation_only: true,\n            delivered: true,\n            dropdown: \"\"\n          });\n          axios\n            .post(api_calls.closed_form_response_api(),{\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              uid: this.$session.get(\"UserInformation\").email,\n              chat: this.to_send,\n              node_selected: this.selectednodeid,\n              conversation_id : this.conversation_id,\n              bot_name: this.bot_name,\n            })\n            .then(response=>{\n              document.querySelector(\".typing-indicator\").style.display = \"none\";\n              this.closed_form_reply_data=null;\n              this.closed_bot_chat(response.data);\n            });\n        }\n      } else if(type==undefined&&this.isformon && !this.isemail &&!this.is_phone_number){\n        if(document.querySelector(\"#\"+this.form_name)!=null){\n          var element = document.querySelector(\"#\"+this.form_name);\n          element.addEventListener(\"submit\", event => {\n            event.preventDefault();\n            var queryString = $(\"#\"+this.form_name).serializeArray();\n            if (this.closed_form_reply_data == null) {\n              document.querySelector(\".typing-indicator\").style.display = \"block\";\n              this.closed_form_reply_data = {};\n              for (var i in queryString) {\n                this.closed_form_reply_data[queryString[i].name] = [];\n              }\n              for (var i in queryString) {\n                this.closed_form_reply_data[queryString[i].name].push(queryString[i].value);;\n              }\n              axios\n                .post(api_calls.closed_form_response_api(),{\n                  license_key: this.$session.get(\"UserInformation\").license_key,\n                  uid: this.$session.get(\"UserInformation\").email,\n                  chat: this.closed_form_reply_data,\n                  node_selected: this.selectednodeid,\n                  conversation_id : this.conversation_id,\n                  bot_name: this.bot_name,\n                })\n                .then(response=>{\n                  document.querySelector(\".typing-indicator\").style.display = \"none\";\n                  $(\"#\"+this.form_name+\" :input\").prop(\"disabled\", true);\n                  // console.log(\"#\"+this.form_name+\":input\");\n                  this.closed_form_reply_data=null;\n                  this.closed_bot_chat(response.data);\n                });\n            }\n          });\n        }\n      } else if(type==undefined&&this.isemail){\n        // alert(this.to_send);\n        if(document.querySelector(\"#chat\"+(this.lastclosedbotinputnode-1)) != null){\n          this.chat.push({\n          sent: this.to_send,\n          sending: true,\n          time: this.generate_time(),\n          conversation_only: true,\n          delivered: true,\n          dropdown: \"\"\n        });\n\n          var element = document.querySelector(\"#chat\"+(this.lastclosedbotinputnode+1));\n          var queryString = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n          var x = this.lastclosedbotinputnode-1\n          // if(this.closed_form_reply_data==null){\n            document.querySelector(\".typing-indicator\").style.display = \"block\";\n            this.closed_form_reply_data={};\n            axios\n              .post(api_calls.closed_form_response_api(),{\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                uid: this.$session.get(\"UserInformation\").email,\n                chat: this.to_send,\n                node_selected: this.selectednodeid,\n                conversation_id : this.conversation_id,\n                bot_name: this.bot_name,\n              })\n              .then(response=>{\n                var error_variable = null;\n                document.querySelector(\".typing-indicator\").style.display = \"none\";\n                  for(let i=0; i<response.data.nodes.length - 1 ; i += 1){\n                     if(response.data.nodes[i].validation_successful != undefined &&  response.data.nodes[i].validation_successful == false ){\n                       error_variable = i;\n                           this.chat.push({\n                        receiving: true,\n                        received: response.data.nodes[i].ui_element.error_msg,\n                        conversation_only: true,\n                        time: null\n                      });\n                      this.refreshed_or_closed = false;\n                     }\n                  }\n                 if(error_variable == null){\n                  this.closed_form_reply_data=null;\n                  this.isemail = false\n                  this.closed_bot_chat(response.data);\n                 }\n\n              });\n        }\n      }else if(type==undefined&&this.is_phone_number){\n        if(document.querySelector(\"#chat\"+(this.lastclosedbotinputnode-1)) != null){\n          if(this.is_phone_number_otp == true){\n            var dts = this.to_send;\n            this.chat.push({\n              sent: this.to_send,\n              sending: true,\n              time: this.generate_time(),\n              conversation_only: true,\n              delivered: true,\n              dropdown: \"\"\n            });\n          }\n          else {\n              console.log(this.lastclosedbotinputnode);\n              if(this.is_phone_number_err_msg){\n              var x = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n              console.log(\"if loop\");\n              console.log(this.lastclosedbotinputnode);\n              }\n              else {\n              console.log(\"else loop\");\n              var x = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n              }\n              console.log(x);\n              var dts = x[0].value + x[1].value;\n              this.chat.push({\n              sent: dts,\n              sending: true,\n              time: this.generate_time(),\n              conversation_only: true,\n              delivered: true,\n              dropdown: \"\"\n            });\n          }\n          // this.disable_name_element_for_event_listener();\n          // var element = document.querySelector(\"#chat\"+(this.lastclosedbotinputnode+1));\n          // var queryString = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n          // if(this.closed_form_reply_data==null){\n            document.querySelector(\".typing-indicator\").style.display = \"block\";\n            this.closed_form_reply_data={};\n            axios\n              .post(api_calls.closed_form_response_api(),{\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                uid: this.$session.get(\"UserInformation\").email,\n                chat:dts,\n                node_selected: this.selectednodeid,\n                conversation_id : this.conversation_id,\n                bot_name: this.bot_name,\n              })\n              .then(response=>{\n                // console.log(this.chat);\n                this.to_send = \"\";\n                var error_variable = null;\n                document.querySelector(\".typing-indicator\").style.display = \"none\";\n                for(let i=0; i<response.data.nodes.length - 1 ; i += 1){\n                     if(response.data.nodes[i].ui_element.validate == \"phone_number\" && response.data.nodes[i].validation_successful != undefined &&  response.data.nodes[i].validation_successful == false ){\n                      this.is_phone_number_err_msg = true;\n                      this.closed_form_reply_data=null;\n                       error_variable = i;\n                       console.log(response.data);\n                      //  this.selectednodeid = response.data.nodes;\n                           this.chat.push({\n                        receiving: true,\n                        received: response.data.nodes[i].ui_element.error_msg,\n                        conversation_only: true,\n                        time: null\n                      });\n                          var msg = {\n                    receiving: true,\n                    conversation_only: true,\n                    time: null,\n                    received: '<div style=\"display:flex\"> <select name=\"countrycode\" class=\"form-control\" style=\"padding-left:6px !important;padding-right:6px !important; width:40%;height:50px !important;\"  >',\n                    // received: '',\n                  }\n                  console.log(\"reached here\")\n                  // var dropdown = [];\n                    this.disable_name_element_for_event_listener();\n                    const data = CountryCodes;\n                    let option;\n                    for (let i = 0; i < data.length; i++) {\n                      // option = document.createElement('option');\n                      // option.text = data[i].country_code;\n                      // option.value = data[i].calling_code;\n                      // // dropdown.add(option);\n                      // msg.received=msg.received + option;\n                      msg.received= msg.received+'<option value= '+data[i].dial_code+'>'+data[i].code + \"(\"+ data[i].dial_code +\")\" + '</option>'\n                    }\n                    msg.received=msg.received+'</select>';\n                    msg.received = msg.received + '<input type=\"text\" class=\"form-control\" style=\"padding-left:12px !important; height:50px !important;\" autocomplete=\"off\" name=\"phonenumber\" id= \"phonenumber\" name=\"closed_bot_node_'+i+'\">  </div>'\n                    // console.log(msg);\n                    this.chat.push(msg);\n                  // this.chat.push({\n                  // receiving: true,\n                  // received: message.nodes[i].ui_element.message,\n                  // conversation_only: true,\n                  // time: null\n                  // });\n                  // this.disable_name_element_for_event_listener();\n\n                  \n                  this.refreshed_or_closed = true;\n                  if(this.name_element_for_event_listener!= null){\n                    $('[name='+this.name_element_for_event_listener+']').off('keyup', vm.append_message_to_chatbox)\n                  }\n                  this.name_element_for_event_listener = \"phonenumber\";\n                  var vm = this;\n                  this.lastclosedbotinputnode=this.chat.length;\n                  console.log(this.lastclosedbotinputnode);\n                  var len = $('[name='+vm.name_element_for_event_listener+']').length;\n                  setTimeout(() => {\n                    // if(vm.name_element_for_event_listener != null){\n                    //   console.log($('[name='+vm.name_element_for_event_listener+']'))\n                    //   if($('[name='+vm.name_element_for_event_listener+']').length>1){\n                    //       console.log($('[name='+vm.name_element_for_event_listener+']')[len])\n                          $('[name='+vm.name_element_for_event_listener+']')[len].addEventListener('keyup', vm.append_message_to_chatbox)\n                      // }else {\n                        $('[name='+vm.name_element_for_event_listener+']')[0].addEventListener('keyup', vm.append_message_to_chatbox)\n                      // }\n                    // }\n                  }, 2000);\n                      this.refreshed_or_closed = true;\n                     } else if(response.data.nodes[i].ui_element.validate != undefined &&  response.data.nodes[i].ui_element.validate == \"otp\" && response.data.nodes[i].validation_successful == true ){\n                        this.closed_form_reply_data=null;\n                        this.selectednodeid = response.data.nodes[i];\n                        error_variable = i;\n                        this.is_phone_number_otp = true;\n                        this.chat.push({\n                        receiving: true,\n                        received: response.data.nodes[i].ui_element.otp_question_label,\n                        conversation_only: true,\n                        time: null\n                      });\n                     } else if(response.data.nodes[i].ui_element.validate != undefined && response.data.nodes[i].ui_element.validate == \"otp\" && response.data.nodes[i].validation_successful == false  ){\n                        this.closed_form_reply_data=null;\n                        this.selectednodeid = response.data.nodes[i];\n                        error_variable = i;\n                        this.chat.push({\n                        receiving: true,\n                        received: response.data.nodes[i].ui_element.incorrect_otp_msg,\n                        conversation_only: true,\n                        time: null\n                      });\n                     }\n                    this.refreshed_or_closed = false;\n                    console.log(\"reached here2\")\n                  }\n                if(error_variable == null){\n                  this.closed_form_reply_data=null;\n                  this.disable_name_element_for_event_listener();\n                  // setTimeout(() => {\n                    this.is_phone_number = false;\n                  // }, 1);\n                  this.closed_bot_chat(response.data);\n                }\n              });\n          // }\n        }\n      } else if(type==undefined&&!this.isformon && !this.isemail &&!this.is_phone_number && !this.is_text_area){\n         this.chat.push({\n          sent: this.to_send,\n          sending: true,\n          time: this.generate_time(),\n          conversation_only: true,\n          delivered: true,\n          dropdown: \"\"\n        });\n          axios\n            .post(api_calls.closed_form_response_api(),{\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              uid: this.$session.get(\"UserInformation\").email,\n              chat: this.to_send,\n              node_selected: this.selectednodeid,\n              conversation_id : this.conversation_id,\n              bot_name: this.bot_name,\n            })\n            .then(response=>{\n              document.querySelector(\".typing-indicator\").style.display = \"none\";\n              this.closed_form_reply_data=null;\n              this.closed_bot_chat(response.data);\n            });\n      }\n    },\n    getdata(){\n      if(!this.isformon && !this.is_phone_number){\n        var queryString = $(\"#chat\"+(this.lastclosedbotinputnode-1)+\" :input\").serializeArray();\n        this.to_send='';\n        for(let i=0;i<queryString.length;i++){\n          if(i==0){\n            this.to_send=queryString[i].value;\n          } else {\n            this.to_send=this.to_send + \",\" + queryString[i].value;\n          }\n        }\n      }\n      this.button_fill();\n    },\n    append_message_to_chatbox(){\n      console.log(this.name_element_for_event_listener, this.is_phone_number);\n      \n      console.log($('[name='+this.name_element_for_event_listener+']'));\n      if(this.is_text_area){\n        this.to_send = $('[name='+this.name_element_for_event_listener+']')[0].value;\n        this.button_fill();\n      }\n      if(this.is_phone_number){\n        var len = $('[name='+this.name_element_for_event_listener+']').length;\n        this.to_send = $('[name='+this.name_element_for_event_listener+']')[len-1].value;      \n        }\n    },\n    disable_name_element_for_event_listener(){\n      // console.log(\"We are here disabled function\")\n      $('[name='+this.name_element_for_event_listener+']').attr(\"disabled\", 'disabled')\n        // $('[name='+this.name_element_for_event_listener+']').remove();\n      this.name_element_for_event_listener = null;\n      if(this.is_phone_number){\n        $('[name=countrycode]').attr(\"disabled\", 'disabled')\n        // $('[name=countrycode]').remove();\n      }\n    },\n    go_to_design_bots_page(){\n      this.$router.push('/bot/designbot')\n    }\n\n    //sell function for foreign exchange\n    // ex2() {\n    //   setTimeout(() => {\n    //     if (document.getElementById(\"r2\") != null) {\n    //       $(\"#l2\").val(1);\n    //       for (let i = 0; i < this.currencyexchange_list.length; i++) {\n    //         $(\"#country2\").append(\n    //           `<option value=\"${this.currencyexchange_list[i].currency_value}\">${this.currencyexchange_list[i].currency_title}</option>`\n    //         );\n    //       }\n    //       $(\"#r2\").val(document.getElementById(\"country2\").value);\n    //       document.getElementById(\"r2\").addEventListener(\"keyup\", function() {\n    //         var x = document.getElementById(\"r2\").value;\n    //         var con = document.getElementById(\"country2\").value;\n    //         x = x / con;\n    //         x = x.toFixed(4);\n    //         $(\"#l2\").val(x);\n    //       });\n    //       document.getElementById(\"l2\").addEventListener(\"keyup\", function() {\n    //         var x = document.getElementById(\"l2\").value;\n    //         var con = document.getElementById(\"country2\").value;\n    //         x = x * con;\n    //         x = x.toFixed(4);\n    //         $(\"#r2\").val(x);\n    //       });\n    //       $(document).on(\"change\", \"#country2\", function() {\n    //         // document.getElementById(\"country2\").addEventListener(\"keyup\", function(){\n    //         var x = document.getElementById(\"l2\").value;\n    //         var con = document.getElementById(\"country2\").value;\n    //         x = x * con;\n    //         x = x.toFixed(4);\n    //         $(\"#r2\").val(x);\n    //       });\n    //     }\n    //   }, 3000);\n    // }\n  }\n};\n</script>\n\n<style scoped>\n.table td,\n.table th {\n  padding: 0.5rem !important;\n}\n.stop-chat {\n  width: 100%;\n}\n.chat-footer > a {\n  color: #283879 !important;\n}\n.chat-his > .time {\n  color: #000;\n}\n.buy-now {\n  font-weight: 800;\n  color: #283879;\n  font-size: 12px;\n  cursor: pointer;\n  margin-top: -5%;\n}\n.image-box {\n  height: 90px;\n  width: 100px;\n  margin-top: 6%;\n}\n.buy-products {\n  height: 180px;\n}\n.image-container {\n  background: #fff;\n  border: #fff 1px solid;\n  border-radius: 5px 5px 5px 5px;\n  margin-left: 5%;\n  height: 180px;\n}\n.image-container > p {\n  font-size: 10px;\n  text-align: center;\n}\n.chat-row.sender > .chat {\n  background-color: #283879;\n  color: #fff;\n  font-weight: 450;\n}\n.chat-row.receiver > .chat {\n  font-weight: 450;\n}\n.chat-body {\n  overflow-y: auto;\n}\n.chat-body .chat-row.receiver p,\n.chat-body .chat-row.receiver a {\n  width: 50%;\n}\n.chat-row.receiver > .chat {\n  background-color: #fff;\n  color: #000;\n}\nbutton.custom-buttons {\n  background: #1daae1;\n  min-width: 101px;\n  color: white;\n  font-size: 13px;\n  border-radius: 50px;\n  margin-top: 5%;\n  margin-left: auto;\n  margin-right: auto;\n}\ndiv::-webkit-scrollbar {\n  max-height: 20px;\n  width: 6px;\n  height: 2px;\n  border-radius: 10px;\n}\n.bounce {\n  animation: bounce 4s infinite;\n}\n.fa.fa-microphone {\n  color: #8a8a8a63;\n  font-size: 24px;\n}\n.fas.fa-video {\n  color: #8a8a8a63;\n  font-size: 18px;\n}\n.fa.fa-microphone :hover {\n  color: red;\n}\n#microphone.voice-on {\n  animation-name: flicker;\n  animation-duration: 0.7s;\n  animation-iteration-count: infinite;\n\n  -webkit-animation-name: flicker;\n  -webkit-animation-duration: 0.7s;\n  -webkit-animation-iteration-count: infinite;\n}\n/* Track */\ndiv::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 10px;\n}\n.toast-message {\n  margin-top: 1000px;\n}\n/* Handle */\ndiv::-webkit-scrollbar-thumb {\n  background: #7d7d7d;\n  border-radius: 10px;\n}\n\n/* Handle on hover */\ndiv::-webkit-scrollbar-thumb:hover {\n  background: #555;\n  border-radius: 10px;\n}\n.toast-container {\n  margin-left: 800px;\n}\n.typewriter span {\n  color: #fff;\n  font-family: monospace;\n  overflow: hidden; /* Ensures the content is not revealed until the animation */\n  border-right: 0.15em solid orange; /* The typwriter cursor */\n  white-space: nowrap; /* Keeps the content on a single line */\n  margin: 0 auto; /* Gives that scrolling effect as the typing happens */\n  letter-spacing: 0.15em; /* Adjust as needed */\n  animation: typing 3.5s steps(30, end), blink-caret 0.5s step-end infinite;\n}\n\n/* Harsh */\n.chat-head .media .media-body p {\n  font-weight: bold;\n}\n#response_bot_text {\n  margin-top: 5px;\n  margin-bottom: 5px;\n  margin-left: 5px;\n  margin-right: 5px;\n  border-radius: 100px;\n}\n#button_addon2 {\n  margin-top: 5px;\n  margin-bottom: 5px;\n  border-radius: 100px;\n}\n.prompt .chat {\n  background: #fff;\n}\np {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.chat-footer p {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\", \"Noto Color Emoji\";\n}\n\n.btn:focus,\n.btn:active:focus {\n  outline: none !important;\n  box-shadow: none;\n  -webkit-box-shadow: none;\n}\n\n/**/\n.form-control {\n  line-height: 20px;\n  font-size: 13px;\n  color: #494d69;\n  /* padding: 10px 0 10px 15px; */\n  border-radius: 10px;\n  border: none;\n  height: auto;\n  font-weight: 300;\n}\n\n#details_form .form-group,\n#details_form .form-group input {\n  width: 25vw !important;\n}\n\n#details_form,\n#details_form .form-group,\n#details_form .form-group input {\n  box-sizing: content-box !important;\n}\n\n.chat-txt input {\n  border-top-left-radius: 0;\n}\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n.country,\n.country2 {\n  margin-left: 2%;\n  height: 20px;\n}\n.media1 {\n  background: #fff !important;\n  color: #2b3184 !important;\n}\n.media2 {\n  background: #fff;\n}\n.chat-wrap1 {\n  min-width: 320px;\n  max-width: 320px;\n}\n.chat-wrap2 {\n  min-width: 415px;\n  max-width: 415px;\n}\n.chat-body1 {\n  max-height: 300px;\n  min-height: 70vh;\n}\n.chat-body2 {\n  min-height: 70vh;\n  max-height: 400px;\n}\n\n.receiver .chat {\n  font-size: 14px !important;\n  font-weight: 300 !important;\n}\n\n.sender .chat {\n  font-size: 14px !important;\n  font-weight: 300 !important;\n}\n\n.FE_button {\n  width: 33%;\n  cursor: pointer;\n  margin-left: 2%;\n  font-size: 13px;\n  margin-bottom: 0;\n  background-color: white;\n  border-radius: 10px;\n  text-align: center;\n  box-shadow: 0px 1px 5px 0px;\n  height: 26px;\n}\n.FE_button img {\n  vertical-align: sub;\n}\n\n.FE_button :active {\n  background-color: #1eaae1;\n  color: #fff;\n}\n.FE_button :active img {\n  color: #fff;\n}\n\n.chat-act1 {\n  position: fixed;\n  bottom: 30px;\n  right: 30px;\n  z-index: 1111;\n}\n\n.chat-act1 a {\n  display: block;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #273679 url(../../../../public/img/ForeignExchange/ui-15.png) center /\n    cover no-repeat;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);\n}\n.chat-act1.active a img {\n  width: 100%;\n}\n.chat-act1 a.active {\n  -webkit-animation-delay: 0;\n  -webkit-animation-duration: 0.5s;\n  /* -webkit-animation-name: rotation-rl; */\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-delay: 0;\n  -moz-animation-duration: 0.5s;\n  /* -moz-animation-name: rotation-rl; */\n  -moz-animation-fill-mode: forwards;\n  animation-delay: 0;\n  animation-duration: 0.5s;\n  /* animation-name: rotation-rl; */\n  animation-fill-mode: forwards;\n}\n.chat-act1 a.inactive {\n  -webkit-animation-delay: 0;\n  -webkit-animation-duration: 0.5s;\n  /* -webkit-animation-name: rotation-lr; */\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-delay: 0;\n  -moz-animation-duration: 0.5s;\n  /* -moz-animation-name: rotation-lr; */\n  -moz-animation-fill-mode: forwards;\n  animation-delay: 0;\n  animation-duration: 0.5s;\n  /* animation-name: rotation-lr; */\n  animation-fill-mode: forwards;\n}\n@media (max-width: 991px) {\n  .chat-act1 {\n    bottom: 15px;\n    right: 15px;\n  }\n  .chat-act1 a {\n    width: 50px;\n    height: 50px;\n  }\n}\n/* v-bind:class=\"{'chat-act1': isexchange,'chat-act': !isexchange}\"  */\n\n/* The typing effect */\n@keyframes typing {\n  from {\n    width: 0;\n  }\n  to {\n    width: 100%;\n  }\n}\n\n/* The typewriter cursor effect */\n@keyframes blink-caret {\n  from,\n  to {\n    border-color: transparent;\n  }\n  50% {\n    border-color: orange;\n  }\n}\n\n@keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n@-webkit-keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n@-moz-keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n@-o-keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n\n@keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-180%);\n  }\n  60% {\n    transform: translateY(-90%);\n  }\n}\n@-webkit-keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    -webkit-transform: translateY(0);\n  }\n  40% {\n    -webkit-transform: translateY(-200%);\n  }\n  60% {\n    -webkit-transform: translateY(-100%);\n  }\n}\n@-moz-keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    -moz-transform: translateY(0);\n  }\n  40% {\n    -moz-transform: translateY(-200%);\n  }\n  60% {\n    -moz-transform: translateY(-100%);\n  }\n}\n@-o-keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    -o-transform: translateY(0);\n  }\n  40% {\n    -o-transform: translateY(-200%);\n  }\n  60% {\n    -o-transform: translateY(-100%);\n  }\n}\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard"}]}