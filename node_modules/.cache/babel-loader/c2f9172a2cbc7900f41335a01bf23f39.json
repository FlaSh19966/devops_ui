{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Integrations/Components/FacebookMessengerDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Integrations/Components/FacebookMessengerDetails.vue","mtime":1663910265470},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lc3NhZ2luZ0ZyYW1ld29ya3MiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiaWdfc3Bpbm5lcjogZmFsc2UsCiAgICAgIHdlYnNpdGVfbmFtZTogIiIsCiAgICAgIHdpZGdldF9jb2RlOiAiIiwKICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgZmJfYWNjZXNzX3Rva2VuOiAiIiwKICAgICAgZmJfdXNlcl9pZDogIiIsCiAgICAgIHVzZXJfYWNjZXNzX3Rva2VuOiBudWxsLAogICAgICBmYl9wYWdlX2RhdGE6IFtdLAogICAgICBmYl9zYXZlZF9wYWdlX2RhdGE6IFtdIC8vIGZiX21lc3NhZ2luZ191cmxfcmVnZXg6IC9bKG0ubWUpXC8/YS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIoWy1hLXpBLVowLTlAOiVfXCsufiM/Ji8vPV0qKS9pLAoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZmJfcGFnZV9lbmFibGVkOiBmdW5jdGlvbiBmYl9wYWdlX2VuYWJsZWQobmV3VmFsKSB7Ly8gY29uc29sZS5sb2cobmV3VmFsKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpc1t3ZWJzICsgIl9kYXRhIl0uaXNfdmlzaWJsZV9vbl9ib3QpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0X2ludGVncmF0aW9uX2RldGFpbHMoKTsgLy8gdGhpcy5jaGVja0xvZ2luU3RhdGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZV9kYXRhOiBmdW5jdGlvbiB1cGRhdGVfZGF0YSgpIHsKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YSkgewogICAgICAgIGZvciAodmFyIGogaW4gdGhpcy5mYl9wYWdlX2RhdGEpIHsKICAgICAgICAgIGlmICh0aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YVtpXS5mYl9wYWdlX2lkID09IHRoaXMuZmJfcGFnZV9kYXRhW2pdLmlkKSB7CiAgICAgICAgICAgIHRoaXMuZmJfcGFnZV9kYXRhLnNwbGljZShqLCAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRfaW50ZWdyYXRpb25fZGV0YWlsczogZnVuY3Rpb24gZ2V0X2ludGVncmF0aW9uX2RldGFpbHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCksIHsKICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIF90aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXMuZmJfc2F2ZWRfcGFnZV9kYXRhID0gW107CgogICAgICAgICAgaWYgKEJvb2xlYW4oZGF0YS5kYXRhLmZhY2Vib29rX2RldGFpbHMubGVuZ3RoKSkgewogICAgICAgICAgICBmb3IgKHZhciBpIGluIGRhdGEuZGF0YS5mYWNlYm9va19kZXRhaWxzKSB7CiAgICAgICAgICAgICAgdmFyIHRlbXAgPSB7fTsKICAgICAgICAgICAgICB0ZW1wID0gewogICAgICAgICAgICAgICAgZmJfYWNjZXNzX3Rva2VuOiBkYXRhLmRhdGEuZmFjZWJvb2tfZGV0YWlsc1tpXS5mYl9hY2Nlc3NfdG9rZW4sCiAgICAgICAgICAgICAgICBmYl9wYWdlX2lkOiBkYXRhLmRhdGEuZmFjZWJvb2tfZGV0YWlsc1tpXS5mYl9wYWdlX2lkLAogICAgICAgICAgICAgICAgZmJfcGFnZV9uYW1lOiBkYXRhLmRhdGEuZmFjZWJvb2tfZGV0YWlsc1tpXS5mYl9wYWdlX25hbWUsCiAgICAgICAgICAgICAgICBmYl92ZXJpZnlfdG9rZW46IGRhdGEuZGF0YS5mYWNlYm9va19kZXRhaWxzW2ldLmZiX3ZlcmlmeV90b2tlbiwKICAgICAgICAgICAgICAgIGZiX3BhZ2VfZW5hYmxlZDogZGF0YS5kYXRhLmZhY2Vib29rX2RldGFpbHNbaV0uZW5hYmxlZAogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIF90aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YS5wdXNoKHRlbXApOwogICAgICAgICAgICB9IC8vIHRoaXMuZmJfc2F2ZWRfcGFnZV9kYXRhLmlzX3Zpc2libGVfb25fYm90ID09PSB0cnVlID8gdGhpcy5mYl9zYXZlZF9wYWdlX2RhdGEuaXNfaW50ZWdyYXRlZCA9IHRydWUgOgogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YS5pc19pbnRlZ3JhdGVkID0gZmFsc2U7CgogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLnVwZGF0ZV9kYXRhKCk7CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBLk1TR19DT0RFKSB7fSBlbHNlIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0aXRsZTogZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcGFnZV9jb25uZWN0X2ZiOiBmdW5jdGlvbiBwYWdlX2Nvbm5lY3RfZmIocGFnZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmIChwYWdlICE9IG51bGwpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X2ludGVncmF0aW9uX2RldGFpbHMoKSwgewogICAgICAgICAgLy8gZmJfdmVyaWZ5X3Rva2VuIDogLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBmYl9wYWdlX25hbWU6IHBhZ2UubmFtZSwKICAgICAgICAgIGZiX2FjY2Vzc190b2tlbjogcGFnZS5hY2Nlc3NfdG9rZW4sCiAgICAgICAgICBmYl9wYWdlX2lkOiBwYWdlLmlkLAogICAgICAgICAgZmJfcGFnZV9lbmFibGVkOiB0cnVlLAogICAgICAgICAgaXNfc2F2ZTogdHJ1ZSwKICAgICAgICAgIGlzX2ZhY2Vib29rOiB0cnVlLAogICAgICAgICAgaXNfbWVzc2FnaW5nX3BsYXRmb3JtOiBmYWxzZQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogX3RoaXMyLnRsdCgnZmFjZWJvb2tfY29ubmVjdF9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBwYXRoID0gIi8iICsgcGFnZS5pZCArICIvc3Vic2NyaWJlZF9hcHBzP2FjY2Vzc190b2tlbj0iICsgcGFnZS5hY2Nlc3NfdG9rZW47IC8vIGNvbnNvbGUubG9nKCJQT1NUIiwgcGF0aCk7CgogICAgICAgICAgICBGQi5hcGkocGF0aCwgJ1BPU1QnLCB7CiAgICAgICAgICAgICAgInN1YnNjcmliZWRfZmllbGRzIjogIm1lc3NhZ2VzIgogICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU3Vic2NyaXB0aW9uIiwgcmVzcG9uc2UpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMi5nZXRfaW50ZWdyYXRpb25fZGV0YWlscygpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzMi50bHQoJ2ZhY2Vib29rX2ludGVybmFsX3NlcnZlcl9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IGRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X2ZiX3BhZ2U6IGZ1bmN0aW9uIGVkaXRfZmJfcGFnZShpbmRleCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHRoaXMuZmJfc2F2ZWRfcGFnZV9kYXRhW2luZGV4XS5mYl9wYWdlX2VuYWJsZWQgPT0gZmFsc2UgPyB0aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YVtpbmRleF0uZmJfcGFnZV9lbmFibGVkID0gdHJ1ZSA6IHRoaXMuZmJfc2F2ZWRfcGFnZV9kYXRhW2luZGV4XS5mYl9wYWdlX2VuYWJsZWQgPSBmYWxzZTsKCiAgICAgIGlmIChpbmRleCAhPSBudWxsKSB7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCksIHsKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgZmJfcGFnZV9pZDogdGhpcy5mYl9zYXZlZF9wYWdlX2RhdGFbaW5kZXhdLmZiX3BhZ2VfaWQsCiAgICAgICAgICBpc19lZGl0OiB0cnVlLAogICAgICAgICAgaXNfZmFjZWJvb2s6IHRydWUsCiAgICAgICAgICBmYl9wYWdlX2VuYWJsZWQ6IHRoaXMuZmJfc2F2ZWRfcGFnZV9kYXRhW2luZGV4XS5mYl9wYWdlX2VuYWJsZWQKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIHRpdGxlOiBfdGhpczMudGx0KCdmYWNlYm9va19lZGl0ZWRfbXNnJyksCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKCFCb29sZWFuKF90aGlzMy5mYl9zYXZlZF9wYWdlX2RhdGFbaW5kZXhdLmZiX3BhZ2VfZW5hYmxlZCkpIHsKICAgICAgICAgICAgICB2YXIgcGF0aCA9ICIvIiArIHZtLmZiX3NhdmVkX3BhZ2VfZGF0YVtpbmRleF0uZmJfcGFnZV9pZCArICIvc3Vic2NyaWJlZF9hcHBzP2FjY2Vzc190b2tlbj0iICsgdm0uZmJfc2F2ZWRfcGFnZV9kYXRhW2luZGV4XS5mYl9hY2Nlc3NfdG9rZW47IC8vIGNvbnNvbGUubG9nKCJQYXRoIiwgcGF0aCk7CgogICAgICAgICAgICAgIEZCLmFwaShwYXRoLCAnREVMRVRFJywge30sIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRFTEVURSIsIHJlc3BvbnNlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgcGF0aCA9ICIvIiArIHZtLmZiX3NhdmVkX3BhZ2VfZGF0YVtpbmRleF0uZmJfcGFnZV9pZCArICIvc3Vic2NyaWJlZF9hcHBzP2FjY2Vzc190b2tlbj0iICsgdm0uZmJfc2F2ZWRfcGFnZV9kYXRhW2luZGV4XS5mYl9hY2Nlc3NfdG9rZW47IC8vIGNvbnNvbGUubG9nKCJQT1NUIiwgcGF0aCk7CgogICAgICAgICAgICAgIEZCLmFwaShwYXRoLCAnUE9TVCcsIHsKICAgICAgICAgICAgICAgICJzdWJzY3JpYmVkX2ZpZWxkcyI6ICJtZXNzYWdlcyIKICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWJzY3JpcHRpb24iLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMy5nZXRfaW50ZWdyYXRpb25fZGV0YWlscygpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuRkFDRUJPT0tfUEFHRV9JRF9ET0VTTlRfRVhJU1RTLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzMy50bHQoJ3BhZ2VfaWRfbm90X2V4aXN0JyksCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzMy50bHQoJ2ZhY2Vib29rX2ludGVybmFsX3NlcnZlcl9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IGRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVfZmJfcGFnZTogZnVuY3Rpb24gZGVsZXRlX2ZiX3BhZ2UocGFnZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmIChwYWdlICE9IG51bGwpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X2ludGVncmF0aW9uX2RldGFpbHMoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBmYl9wYWdlX2lkOiBwYWdlLmZiX3BhZ2VfaWQsCiAgICAgICAgICBpc19kZWxldGU6IHRydWUsCiAgICAgICAgICBpc19mYWNlYm9vazogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gX3RoaXM0LmFwaV9zdGF0dXNfY29kZS5TVUNDRVNTRlVMX0RCX1FVRVJZLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzNC50bHQoJ2ZhY2Vib29rX2VkaXRlZF9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBwYXRoID0gIi8iICsgcGFnZS5mYl9wYWdlX2lkICsgIi9zdWJzY3JpYmVkX2FwcHM/YWNjZXNzX3Rva2VuPSIgKyBwYWdlLmZiX2FjY2Vzc190b2tlbjsgLy8gY29uc29sZS5sb2coIlBhdGgiLCBwYXRoKTsKCiAgICAgICAgICAgIEZCLmFwaShwYXRoLCAnREVMRVRFJywge30sIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJERUxFVEUiLCByZXNwb25zZSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM0LmdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gX3RoaXM0LmFwaV9zdGF0dXNfY29kZS5GQUNFQk9PS19QQUdFX0lEX0RPRVNOVF9FWElTVFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogX3RoaXM0LnRsdCgncGFnZV9pZF9ub3RfZXhpc3QnKSwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gX3RoaXM0LmFwaV9zdGF0dXNfY29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogX3RoaXM0LnRsdCgnZmFjZWJvb2tfaW50ZXJuYWxfc2VydmVyX21zZycpLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IGRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrTG9naW5TdGF0ZTogZnVuY3Rpb24gY2hlY2tMb2dpblN0YXRlKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBGQi5nZXRMb2dpblN0YXR1cyhmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS5zdGF0dXNDaGFuZ2VDYWxsYmFjayhyZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHN0YXR1c0NoYW5nZUNhbGxiYWNrOiBmdW5jdGlvbiBzdGF0dXNDaGFuZ2VDYWxsYmFjayhyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZygiTWVzc2VuZ2VyIGxvZ2luMSIsIHJlc3BvbnNlKTsKCiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICJjb25uZWN0ZWQiKSB7CiAgICAgICAgdGhpcy5mYl9hY2Nlc3NfdG9rZW4gPSByZXNwb25zZS5hdXRoUmVzcG9uc2UuYWNjZXNzVG9rZW47CiAgICAgICAgdGhpcy5mYl91c2VyX2lkID0gcmVzcG9uc2UuYXV0aFJlc3BvbnNlLnVzZXJJRDsKICAgICAgICAkKCIjbG9naW4iKS5oaWRlKCk7CiAgICAgICAgJCgiI2xvZ291dCIpLnNob3coKTsKICAgICAgICB0aGlzLmZldGNoVXNlclByb2ZpbGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZhY2Vib29rTG9naW5CeURpYWxvZygpOwogICAgICB9CiAgICB9LAogICAgZmFjZWJvb2tMb2dvdXQ6IGZ1bmN0aW9uIGZhY2Vib29rTG9nb3V0KCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAkKCIjbG9nb3V0IikuaGlkZSgpOwogICAgICAkKCIjbG9naW4iKS5zaG93KCk7CiAgICAgICQoIiNzdGF0dXMiKS5lbXB0eSgpOwogICAgICBGQi5sb2dvdXQoZnVuY3Rpb24gKHJlc3BvbnNlKSB7Ly8gdm0uc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpOwogICAgICB9KTsKICAgICAgdGhpcy5mYl9wYWdlX2RhdGEgPSBbXTsKICAgICAgdGhpcy5mYl9hY2Nlc3NfdG9rZW4gPSAiIjsKICAgICAgdGhpcy5mYl91c2VyX2lkID0gIiI7CiAgICAgIHRoaXMuZ2V0X2ludGVncmF0aW9uX2RldGFpbHMoKTsKICAgIH0sCiAgICBmYWNlYm9va0xvZ2luQnlEaWFsb2c6IGZ1bmN0aW9uIGZhY2Vib29rTG9naW5CeURpYWxvZygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgRkIubG9naW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0uc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpOwogICAgICB9LCB7CiAgICAgICAgc2NvcGU6ICdwdWJsaWNfcHJvZmlsZSxwYWdlc19tYW5hZ2VfbWV0YWRhdGEscGFnZXNfc2hvd19saXN0LHBhZ2VzX21lc3NhZ2luZyxwYWdlc19yZWFkX2VuZ2FnZW1lbnQnCiAgICAgIH0pOwogICAgfSwKICAgIGZldGNoVXNlclByb2ZpbGU6IGZ1bmN0aW9uIGZldGNoVXNlclByb2ZpbGUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHVzZXJfaWQgPSB0aGlzLmZiX3VzZXJfaWQ7CiAgICAgIHZhciBhY2Nlc3NfdG9rZW4gPSB0aGlzLmZiX2FjY2Vzc190b2tlbjsKICAgICAgdmFyIGFwcF9pZCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfRkJfQVBQX0lEOwogICAgICB2YXIgYXBwX3NlY3JldCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfRkJfQVBQX1NFQ1JFVDsgLy8gdmFyIGNsaWVudF90b2tlbiA9IHByb2Nlc3MuZW52LlZVRV9BUFBfRkJfQ0xJRU5UX1RPS0VOOwogICAgICAvLyBGQi5hcGkoJy9tZScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgIC8vICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKICAgICAgLy8gfSk7CiAgICAgIC8vIEZCLmFwaSgnL21lP2ZpZWxkcz1pZCxuYW1lLGVtYWlsLGdlbmRlcixiaXJ0aGRheScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgIC8vICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWwgbG9naW4gZm9yOiAnICsgcmVzcG9uc2UubmFtZSk7CiAgICAgIC8vIH0pOwoKICAgICAgdmFyIHBhdGgxID0gJy9vYXV0aC9hY2Nlc3NfdG9rZW4/Z3JhbnRfdHlwZT1mYl9leGNoYW5nZV90b2tlbiZjbGllbnRfaWQ9JyArIGFwcF9pZCArICcmY2xpZW50X3NlY3JldD0nICsgYXBwX3NlY3JldCArICcmZmJfZXhjaGFuZ2VfdG9rZW49JyArIGFjY2Vzc190b2tlbjsKICAgICAgRkIuYXBpKHBhdGgxLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygiUGF0aCAxIiwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsKICAgICAgICB2bS51c2VyX2FjY2Vzc190b2tlbiA9IHJlc3BvbnNlLmFjY2Vzc190b2tlbjsKICAgICAgfSk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBwYXRoMiA9ICcvJyArIHVzZXJfaWQgKyAnP2ZpZWxkcz1pZCxuYW1lLGVtYWlsLHBpY3R1cmUmYWNjZXNzX3Rva2VuPScgKyBfdGhpczUudXNlcl9hY2Nlc3NfdG9rZW47CiAgICAgICAgRkIuYXBpKHBhdGgyLCBmdW5jdGlvbiAoZGF0YSkgey8vIGNvbnNvbGUubG9nKCJQYXRoIDIiLCBKU09OLnN0cmluZ2lmeShkYXRhKSkKICAgICAgICB9KTsKICAgICAgICB2YXIgcGF0aDMgPSAnLycgKyB1c2VyX2lkICsgJy9hY2NvdW50cz9maWVsZHM9bmFtZSxhY2Nlc3NfdG9rZW4mYWNjZXNzX3Rva2VuPScgKyBfdGhpczUudXNlcl9hY2Nlc3NfdG9rZW47CiAgICAgICAgRkIuYXBpKHBhdGgzLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgLy8gY29uc29sZS5sb2coIlBhdGggMyIsIEpTT04uc3RyaW5naWZ5KGRhdGEuZGF0YSkpCiAgICAgICAgICB2bS5mYl9wYWdlX2RhdGEgPSBkYXRhLmRhdGE7CiAgICAgICAgICB2bS51cGRhdGVfZGF0YSgpOwogICAgICAgIH0pOwogICAgICB9LCAyMDAwKTsKICAgIH0gLy8gdGVzdEFQSSgpIHsKICAgIC8vICAgY29uc29sZS5sb2coJ1dlbGNvbWUhICBGZXRjaGluZyB5b3VyIGluZm9ybWF0aW9uLi4uLiAnKTsKICAgIC8vICAgRkIuYXBpKCcvbWUnLCBmdW5jdGlvbihyZXNwb25zZSkgewogICAgLy8gICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsIGxvZ2luIGZvcjogJyArIHJlc3BvbnNlLm5hbWUpOwogICAgLy8gICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgIC8vICAgfSk7CiAgICAvLyB9CgogIH0KfTs="},null]}