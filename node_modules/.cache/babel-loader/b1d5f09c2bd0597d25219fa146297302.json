{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Data Inputs/Chatscreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Data Inputs/Chatscreen.vue","mtime":1660716745058},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgZmluZ2VycHJpbnQgZnJvbSAiQC9wb3J0YWwvY29tcG9uZW50cy9maW5nZXJwcmludCI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IHsgZ2VuZXJhdGVfdGltZSwgZnJlZXplX3BvcnRhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjaGF0c2NyZWVuIiwKICBtaXhpbnM6IFtnZW5lcmF0ZV90aW1lLCBmcmVlemVfcG9ydGFsXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3Blbl9tb2RhbDogZmFsc2UsCiAgICAgIGNoYXQ6IFtdLAogICAgICBpbnRlbnQ6ICIiLAogICAgICBpbnRlbnRfdmFsdWU6ICIiLAogICAgICB0b19zZW5kOiAiIiwKICAgICAgaW50ZW50X2xpc3Q6IFtdLAogICAgICBpbmRleDogbnVsbCwKICAgICAgbmV3X3F1ZXN0aW9uczogMCwKICAgICAgLy8gY2hhdF93aWRnZXQ6IHsKICAgICAgLy8gICBsb2dvOiAiIiwKICAgICAgLy8gICB0aXRsZTogIiIsCiAgICAgIC8vICAgc3R5bGU6ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6NjBweCIsCiAgICAgIC8vIH0sCiAgICAgIGNoYXRfd2lkZ2V0OiB7CiAgICAgICAgbG9nbzogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHN0eWxlOiAiIiwKICAgICAgICBib3RfdGhlbWU6ICIiLAogICAgICAgIGJ1dHRvbl90aGVtZTogIiIsCiAgICAgICAgdXNlcl9yZXNwb25zZV9iZ19jb2xvcjogIiIsCiAgICAgICAgYnV0dG9uX2FsaWdubWVudDogIiIsCiAgICAgICAgYm90X2ljb246ICIiLAogICAgICAgIGJvdF9iYWNrZ3JvdW5kX2ltYWdlOiAiIiwKICAgICAgICBidXR0b25faG9yaXpvbnRhbF9zcGFjaW5nOiAiMyIsCiAgICAgICAgYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmc6ICI1IiwKICAgICAgICBoZWFkZXJfYmFja2dyb3VuZDogIiIsCiAgICAgICAgaXNfcG93ZXJlZF9ieV9jZW5zZTogdHJ1ZQogICAgICB9LAogICAgICB1c2VyX3JvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgaW50ZW50X3Jlc3BvbnNlOiAiIiwKICAgICAgcmVzcG9uc2VzX21hcDoge30sCiAgICAgIHdhbnRfc3RhdHVzOiB0cnVlLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSwKICAgICAgaW50ZW50X2NvcmVfbW9kZWxfaW5wcm9ncmVzczogZmFsc2UKICAgIH07CiAgfSwKICAvLyBtb3VudGVkKCkgewogIC8vICAgY29uc29sZS5sb2coIkhFTE9PT09PT09PLyogICovIikKICAvLyAgIC8vIHRoaXMuZnJlZXplX3BvcnRhbCgpOwogIC8vICAgLy8gLy8gY29uc29sZS5sb2coImNvbXBhbnlpZCIsIHRoaXMuY29tcGFueWlkKTsKICAvLyAgIC8vIHRoaXMuc2hvdyA9IGZhbHNlOwogIC8vIH0sCiAgcHJvcHM6IHsKICAgIGlzVGV4dFRvQm90OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjc3NQcm9wczogZnVuY3Rpb24gY3NzUHJvcHMoKSB7CiAgICAgIHZhciBib3RBdHRyaWJ1dGVzID0gewogICAgICAgIGhlYWRfY29sb3I6IHRoaXMuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmNvbXBhbnlpZCA9PT0gInJldGFpbGlnZW5jZTg0OTI2IikgewogICAgICAgIGJvdEF0dHJpYnV0ZXMuaGVhZF9jb2xvciA9IHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNleGNoYW5nZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAiLS1ib3QtaGVhZC1jb2xvciI6ICIjZmZmIiwKICAgICAgICAgICItLWJvdC1zZW5kZXItY29sb3IiOiAiIzJiMzE4NCIsCiAgICAgICAgICAiLS1ib3QtYnV0dG9uLWNvbG9yIjogIiNmZGNmMzgiLAogICAgICAgICAgIi0tYm90LWxpbmstY29sb3IiOiAiIzJiMzE4NCIsCiAgICAgICAgICAiLS11c2VyLXJlc3BvbnNlLWJnLWNvbG9yIjogIiMyNzM2NzkiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbi1iYWNrZ3JvdW5kIjogIiMxZGFhZTEiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbnMtYWxpZ25tZW50IjogImNlbnRlciIsCiAgICAgICAgICAiLS1ib3QtYnV0dG9ucy12ZXJ0aWNhbC1zcGFjaW5nIjogIjUlIiwKICAgICAgICAgICItLWJvdC1idXR0b25zLWhvcml6b250YWwtc3BhY2luZyI6ICIzJSIKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgICItLWJvdC1oZWFkLWNvbG9yIjogYm90QXR0cmlidXRlcy5oZWFkX2NvbG9yLAogICAgICAgICItLWJvdC1zZW5kZXItY29sb3IiOiB0aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSwKICAgICAgICAiLS1ib3QtYnV0dG9uLWNvbG9yIjogdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUsCiAgICAgICAgIi0tYm90LWxpbmstY29sb3IiOiB0aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSwKICAgICAgICAiLS11c2VyLXJlc3BvbnNlLWJnLWNvbG9yIjogdGhpcy5jaGF0X3dpZGdldC51c2VyX3Jlc3BvbnNlX2JnX2NvbG9yLAogICAgICAgICItLWJvdC1idXR0b24tYmFja2dyb3VuZCI6IHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lLAogICAgICAgICItLWJvdC1idXR0b25zLWFsaWdubWVudCI6IHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2FsaWdubWVudC52YWx1ZSwKICAgICAgICAiLS1ib3QtYnV0dG9ucy12ZXJ0aWNhbC1zcGFjaW5nIjogIiIuY29uY2F0KHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmcsICIlIiksCiAgICAgICAgIi0tYm90LWJ1dHRvbnMtaG9yaXpvbnRhbC1zcGFjaW5nIjogIiIuY29uY2F0KHRoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZywgIiUiKQogICAgICB9OwogICAgfSwKICAgIGJvdF9pbWdfaWNvbjogZnVuY3Rpb24gYm90X2ltZ19pY29uKCkgewogICAgICByZXR1cm4gewogICAgICAgICJiYWNrZ3JvdW5kLWltYWdlIjogInVybCgiLmNvbmNhdCh0aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uLCAiKSIpCiAgICAgIH07CiAgICB9LAogICAgY2hhdF9ib3RfYmFja2dyb3VuZF9pbWFnZTogZnVuY3Rpb24gY2hhdF9ib3RfYmFja2dyb3VuZF9pbWFnZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAiYmFja2dyb3VuZC1pbWFnZSI6ICJ1cmwoIi5jb25jYXQodGhpcy5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSwgIikiKQogICAgICB9OwogICAgfSAvLyBjc3NQcm9wcygpIHsKICAgIC8vICAgaWYgKHRoaXMuY29tcGFueWlkID09PSAicmV0YWlsaWdlbmNlODQ5MjYiKSB7CiAgICAvLyAgICAgcmV0dXJuIHsKICAgIC8vICAgICAgICItLWJvdC1oZWFkLWNvbG9yIjogIiM5OTAwMDBkMSIsCiAgICAvLyAgICAgICAiLS1ib3Qtc2VuZGVyLWNvbG9yIjogIiM5OTAwMDBkMSIsCiAgICAvLyAgICAgICAiLS1ib3QtYnV0dG9uLWNvbG9yIjogIiM5OTAwMDBkMSIsCiAgICAvLyAgICAgICAiLS1ib3QtbGluay1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgIH07CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIHsKICAgIC8vICAgICAiLS1ib3QtaGVhZC1jb2xvciI6ICIjRkZGRkZGIiwKICAgIC8vICAgICAiLS1ib3Qtc2VuZGVyLWNvbG9yIjogIiMyNzM2NzkiLAogICAgLy8gICAgICItLWJvdC1idXR0b24tY29sb3IiOiAiIzI3MzY3OSIsCiAgICAvLyAgICAgIi0tYm90LWxpbmstY29sb3IiOiAiIzI3MzY3OSIsCiAgICAvLyAgIH07CiAgICAvLyB9LAoKICB9LAogIHdhdGNoOiB7CiAgICBpbnRlbnQ6IGZ1bmN0aW9uIGludGVudChuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCAhPT0gIk5vX2ludGVudCIpIHsKICAgICAgICB0aGlzLmludGVudF9yZXNwb25zZSA9IHRoaXMucmVzcG9uc2VzX21hcFtuZXdWYWxdOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5nZXRfdW5hbnN3ZXJlZF91cmwoKSwgewogICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICBpc0Ryb3Bkb3duOiAiVHJ1ZSIsCiAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICB9LCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAvLyBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGFbMF0pIHsKICAgICAgLy8gICB0aGlzLmludGVudF9saXN0LnB1c2goCiAgICAgIC8vICAgICByZXNwb25zZS5kYXRhWzBdW2ldLnJlcGxhY2UodGhpcy5jb21wYW55aWQgKyAiXyIsICIiKQogICAgICAvLyAgICk7CiAgICAgIC8vIH0KICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhLmRhdGFbMF0pIHsKICAgICAgICBfdGhpcy5pbnRlbnRfbGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEuZGF0YVswXVtpXSk7CiAgICAgIH0KCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmxvYWRfcXVlc3Rpb25fcmVzcG9uc2VfdXJsKCksIHsKICAgICAgICByb2xlOiBfdGhpcy51c2VyX3JvbGUsCiAgICAgICAgY29tcGFueV9uYW1lOiBfdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBlbWFpbDogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBjb21wYW55X2lkOiBfdGhpcy5jb21wYW55aWQsCiAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgcGVyX3BhZ2U6IF90aGlzLmludGVudF9saXN0Lmxlbmd0aAogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChfdGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpcy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUpIHsKICAgICAgICAgIHZhciBpbnRlbnRzTGlzdCA9IHJlcy5kYXRhLmRhdGEuc2hvd19pbnRlbnRfZmllbGQuaW50ZW50X2ludGVudGxpc3Q7CiAgICAgICAgICB2YXIgaW50ZW50UmVzcG9uc2VzID0gcmVzLmRhdGEuZGF0YS5zaG93X2ludGVudF9maWVsZC5pbnRlbnRfcmVzcG9uc2VsaXN0OwoKICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbiA9IGludGVudFJlc3BvbnNlcy5sZW5ndGg7IF9pIDwgbjsgX2kgKz0gMSkgewogICAgICAgICAgICBfdGhpcy5yZXNwb25zZXNfbWFwW2ludGVudHNMaXN0W19pXS5yZXBsYWNlKCIiLmNvbmNhdChfdGhpcy5jb21wYW55aWQsICJfIiksICIiKV0gPSBpbnRlbnRSZXNwb25zZXNbX2ldOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpcy5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKEJvb2xlYW4oZS5yZXNwb25zZSkgJiYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSkgewogICAgICAgIF90aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICB9CiAgICB9KTsgLy8gaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIpKSB7CgogICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2V0X3dpZGdldF9zZXR0aW5ncygpLCB7CiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICBpc1Nob3c6IHRydWUKICAgIH0sIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGlmIChfdGhpcy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQudGl0bGUgPSByZXNwb25zZS5kYXRhLmRhdGEuVGl0bGU7CiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQubG9nbyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5JbWFnZVVybDsKICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUgPSByZXNwb25zZS5kYXRhLmRhdGEuQnV0dG9uVGhlbWU7CiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gcmVzcG9uc2UuZGF0YS5kYXRhLkJvdFRoZW1lOwogICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LnVzZXJfcmVzcG9uc2VfYmdfY29sb3IgPSByZXNwb25zZS5kYXRhLmRhdGEuVXNlclJlc3BvbnNlQmdDb2xvciA9PT0gdW5kZWZpbmVkID8gX3RoaXMuY2hhdF93aWRnZXQudXNlcl9yZXNwb25zZV9iZ19jb2xvciA6IHJlc3BvbnNlLmRhdGEuZGF0YS5Vc2VyUmVzcG9uc2VCZ0NvbG9yOwogICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9hbGlnbm1lbnQgPSByZXNwb25zZS5kYXRhLmRhdGEuQm90U3R5bGluZzsKICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfaWNvbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5Cb3RJbWFnZVVybDsKICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5CdXR0b25TdHlsaW5nLnZlcnRpY2FsOwogICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPSByZXNwb25zZS5kYXRhLmRhdGEuQnV0dG9uU3R5bGluZy5ob3Jpem9udGFsOwogICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9iYWNrZ3JvdW5kX2ltYWdlID0gcmVzcG9uc2UuZGF0YS5kYXRhLkJnSW1hZ2VVcmw7CiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQgPSByZXNwb25zZS5kYXRhLmRhdGEuSGVhZGVyVGhlbWU7CiAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuaXNfcG93ZXJlZF9ieV9jZW5zZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5Jc1Bvd2VyZWRCeUNlbnNlID09PSB1bmRlZmluZWQgPyBfdGhpcy5jaGF0X3dpZGdldC5pc19wb3dlcmVkX2J5X2NlbnNlIDogcmVzcG9uc2UuZGF0YS5kYXRhLklzUG93ZXJlZEJ5Q2Vuc2U7CiAgICAgIH0KCiAgICAgIGlmIChfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50ID0gImZsZXgtZW5kIjsKICAgICAgfQoKICAgICAgaWYgKF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID09PSB1bmRlZmluZWQpIHsKICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfaWNvbiA9ICIvaW1nL0JvdF9pbWcucG5nIjsKICAgICAgfQoKICAgICAgX3RoaXMuJHNlc3Npb24uc2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIiwgX3RoaXMuY2hhdF93aWRnZXQpOwoKICAgICAgdmFyIHN0eWxpbmdfdmFsdWUgPSByZXNwb25zZS5kYXRhLmRhdGEuSGVhZGVyU3R5bGluZy52YWx1ZTsKICAgICAgdmFyIHRlbXBfc3RyaW5nID0gIiI7CgogICAgICBpZiAoc3R5bGluZ192YWx1ZSA9PT0gImxlZnQiKSB7CiAgICAgICAgdGVtcF9zdHJpbmcgPSAibWFyZ2luLWxlZnQ6IDA7bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgIH0gZWxzZSBpZiAoc3R5bGluZ192YWx1ZSA9PT0gInJpZ2h0IikgewogICAgICAgIHRlbXBfc3RyaW5nID0gIm1hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogMDsiOwogICAgICB9IGVsc2UgaWYgKHN0eWxpbmdfdmFsdWUgPT09ICJjZW50ZXIiKSB7CiAgICAgICAgdGVtcF9zdHJpbmcgPSAibWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcF9zdHJpbmcgPSAibWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgIH0KCiAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDphdXRvO21heC13aWR0aDoxMDAlICFpbXBvcnRhbnQ7IiArIHRlbXBfc3RyaW5nOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUucmVzcG9uc2UpIHsKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUgPT0gImdvZ3liIikgewogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOjYwcHg7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvY2Vuc2VfaW1hZ2UucG5nIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmcgPSAiNSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25faG9yaXpvbnRhbF9zcGFjaW5nID0gIjMiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UgPSAiIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmhlYWRlcl9iYWNrZ3JvdW5kID0gIiNmZmZmZmYiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lID0gIiMxZGFhZTEiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gIiMyNzM2NzkiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQudXNlcl9yZXNwb25zZV9iZ19jb2xvciA9ICIjMjczNjc5IjsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lID09ICJNVCBDYXJlIikgewogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQubG9nbyA9ICIvaW1nL3JvYm9tYXRlX2xvZ28ucG5nIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6NTBweDt3aWR0aDo5NXB4O21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPSAiL2ltZy9Cb3RfaW1nLnBuZyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9ICI1IjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPSAiMyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSA9ICIiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQgPSAiI2ZmZmZmZiI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUgPSAiIzFkYWFlMSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUgPSAiIzI3MzY3OSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC51c2VyX3Jlc3BvbnNlX2JnX2NvbG9yID0gIiMyNzM2NzkiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvY2Vuc2VfaW1hZ2UucG5nIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDo2MHB4O21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPSAiL2ltZy9Cb3RfaW1nLnBuZyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9ICI1IjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPSAiMyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSA9ICIiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQgPSAiI2ZmZmZmZiI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUgPSAiIzFkYWFlMSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUgPSAiIzI3MzY3OSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC51c2VyX3Jlc3BvbnNlX2JnX2NvbG9yID0gIiMyNzM2NzkiOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuJHNlc3Npb24uc2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIiwgX3RoaXMuY2hhdF93aWRnZXQpOwogICAgICB9CiAgICB9KTsgLy8gfSBlbHNlIHsKICAgIC8vICAgdGhpcy5jaGF0X3dpZGdldCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIik7CiAgICAvLyAgIHRoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOmF1dG8iOwogICAgLy8gfQoKICAgIHRoaXMuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsgLy8gICAvLyAvLyBjb25zb2xlLmxvZygiY29tcGFueWlkIiwgdGhpcy5jb21wYW55aWQpOwoKICAgIHRoaXMuJHJvb3QuJG9uKCJjaGF0c2NyZWVuRGlzYWJsZWQiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgIF90aGlzMi5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgIHRoaXMuJHJvb3QuJG9uKCJzZW5kX21vZGVsX3N0YXR1cyIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGlmIChkYXRhID09IHRydWUpIHsKICAgICAgICBfdGhpczIuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzOiBmdW5jdGlvbiBjaGVja19pbnRlbnRfY29yZV9tb2RlbF9zdGF0dXMoKSB7CiAgICAgIHZhciBtb2RlbF9zdGF0dXMgPSB0aGlzLiRzZXNzaW9uLmdldCgiTW9kZWxTdGF0dXMiKTsKCiAgICAgIGlmIChtb2RlbF9zdGF0dXMgPT0gIk5vIEZhaWx1cmUiKSB7CiAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihtb2RlbF9zdGF0dXMuaW50ZW50X21vZGVsKSA9PT0gdHJ1ZSB8fCBCb29sZWFuKG1vZGVsX3N0YXR1cy5kaWFsb2d1ZV9tb2RlbCkgPT09IHRydWUpIHsKICAgICAgICBpZiAobW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIgfHwgbW9kZWxfc3RhdHVzLmRpYWxvZ3VlX21vZGVsID09ICJJblByb2dyZXNzIikgewogICAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW50ZW50X2NvcmVfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2hvd19tb2RlbF9wcm9ncmVzczogZnVuY3Rpb24gc2hvd19tb2RlbF9wcm9ncmVzcyhpbmRleCkgewogICAgICBpZiAodGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID09IHRydWUpIHsKICAgICAgICBpZiAoaW5kZXggPT0gJ3N0eWxlJykgewogICAgICAgICAgcmV0dXJuICJjdXJzb3I6IG5vdC1hbGxvd2VkIjsKICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09ICd0aXRsZScpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRsdCgnYWx0ZXJfdHJhaW5pbmdfcHJvZ3Jlc3NfbXNnJyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgc2hvd19wb3B1cDogZnVuY3Rpb24gc2hvd19wb3B1cCgpIHsKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuc3RvcCA9IGZhbHNlOwogICAgfSwKICAgIHNlbmRfbWVzc2FnZTogZnVuY3Rpb24gc2VuZF9tZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgIHNlbnQ6IHRoaXMudG9fc2VuZCwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9KTsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICh0aGlzLnRvX3NlbmQgIT0gIiIgJiYgdGhpcy50b19zZW5kICE9IG51bGwpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0X3VybCgpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBxdWVzdGlvbjogdGhpcy50b19zZW5kCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQV9NT0RFTFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZV9zY3JvbGxiYXIoKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SX01PREVMUy5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXMzLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRV9NT0RFTFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgX3RoaXMzLmNoYXQucHVzaCh7CiAgICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgIHRpbWU6IF90aGlzMy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEuTXNnLkludGVudC5yZXBsYWNlKAogICAgICAgICAgICAgIC8vICAgdGhpcy5jb21wYW55aWQgKyAiXyIsCiAgICAgICAgICAgICAgLy8gICAiIgogICAgICAgICAgICAgIC8vICksCiAgICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEuZGF0YS5JbnRlbnQsCiAgICAgICAgICAgICAgRW50aXRpZXM6IHJlc3BvbnNlLmRhdGEuZGF0YS5FbnRpdGllcywKICAgICAgICAgICAgICBjb25maWRlbmNlOiByZXNwb25zZS5kYXRhLmRhdGEuSW50ZW50X3ZhbHVlCiAgICAgICAgICAgIH0pOyAvLyB0aGlzLmludGVudF92YWx1ZSA9IHJlc3BvbnNlLmRhdGEuTXNnLkludGVudC5yZXBsYWNlKAogICAgICAgICAgICAvLyAgIHRoaXMuY29tcGFueWlkICsgIl8iLAogICAgICAgICAgICAvLyAgICIiCiAgICAgICAgICAgIC8vICk7ICAKCgogICAgICAgICAgICBfdGhpczMuaW50ZW50X3ZhbHVlID0gcmVzcG9uc2UuZGF0YS5kYXRhLkludGVudDsKCiAgICAgICAgICAgIF90aGlzMy51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMudG9fc2VuZCA9ICIiOwogICAgfSwKICAgIGNsaWNrX3Byb21wdDogZnVuY3Rpb24gY2xpY2tfcHJvbXB0KHR5cGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZGl2Y2xpY2twb3B1cCA9IGV2ZW50LnRhcmdldC5pbm5lclRleHQ7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgfSwgNTAwKTsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICh0eXBlICE9ICJjb2xsYXBzaWJsZSIpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9tcHRfdXJsKCksIHsKICAgICAgICAgIHVpZDogImNlbnNlIiwKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBjaGF0OiBldmVudC50YXJnZXQuaW5uZXJUZXh0LAogICAgICAgICAgbGV2ZWw6IGV2ZW50LnRhcmdldC5hdHRyaWJ1dGVzLnZhbHVlLm5vZGVWYWx1ZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2xsYXBzaWJsZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzNC5jcmVhdGVfY2hhdChyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIF90aGlzNC51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczQuY2hhdC5wdXNoKHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgX3RoaXM0LmxldmVsID0gcmVzcG9uc2UuZGF0YS5sZXZlbDsKCiAgICAgICAgICAgIF90aGlzNC51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiY29sbGFwc2libGUiKSB7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMucHJvbXB0X3VybCgpLCB7CiAgICAgICAgICB1aWQ6ICJjZW5zZSIsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgY2hhdDogIiIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM0LmNoYXQucHVzaChyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGludGVudF9maWVsZHM6IGZ1bmN0aW9uIGludGVudF9maWVsZHMoaW5kZXgpIHsKICAgICAgdGhpcy5pbmRleCA9IGluZGV4OwogICAgICB0aGlzLmludGVudCA9IHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQ7CgogICAgICBpZiAodGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9PSAiTm9faW50ZW50IikgewogICAgICAgIHRoaXMuaW50ZW50ID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X3N1Ym1pdDogZnVuY3Rpb24gZWRpdF9zdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLmludGVudCA9PSAiIiB8fCB0aGlzLmludGVudF92YWx1ZSA9PSAiIikgewogICAgICAgIHRvYXN0ci5lcnJvcih0aGlzLnRsdCgnZW50ZXJfdmFsdWVfbXNnJykpOwogICAgICB9IGVsc2UgaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgJiYgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgICAgdG9hc3RyLndhcm5pbmcodGhpcy50bHQoJ2ludGVudF9wYWdlX3NlbGVjdF9jb21wYW55X21zZycpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5lZGl0X2ludGVudF91cmwoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBxdWVzdGlvbjogdGhpcy5jaGF0W3RoaXMuaW5kZXggLSAxXS5zZW50LAogICAgICAgICAgLy8gZWRpdGludGVudDogdGhpcy5jb21wYW55aWQgKyAiXyIgKyB0aGlzLmludGVudCwKICAgICAgICAgIC8vIGludGVudHZhbHVlOiB0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuaW50ZW50X3ZhbHVlLAogICAgICAgICAgZWRpdGludGVudDogdGhpcy5pbnRlbnQsCiAgICAgICAgICBpbnRlbnR2YWx1ZTogdGhpcy5pbnRlbnRfdmFsdWUsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczUubmV3X3F1ZXN0aW9ucyArPSAxOwogICAgICAgICAgdmFyIGNoYXRfbmFtZSA9ICJDaGF0TWVzc2FnZSIgKyBfdGhpczUuY29tcGFueW5hbWU7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczUuYXBpX3N0YXR1c19jb2RlLklOVEVOVF9FRElUX1NVQ0NFU1NfMzAwMF9NT0RFTFMuTVNHX0NPREUpIHsKICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoX3RoaXM1LnRsdCgndmFsdWVzX3VwZGF0ZWRfbXNnJykpOwoKICAgICAgICAgICAgX3RoaXM1LiRzZXNzaW9uLnNldChjaGF0X25hbWUsIF90aGlzNS5tZXRhKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczUuY2hhdFtfdGhpczUuaW5kZXhdLnJlY2VpdmVkID0gX3RoaXM1LmludGVudDsKICAgICAgICAgICQoIiNpbnRlbnRtb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczUuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgJCgiI2ludGVudG1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGJ1dHRvbl9maWxsOiBmdW5jdGlvbiBidXR0b25fZmlsbCgpIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic3ZnIikuc3R5bGUuZmlsbCA9ICIjMjczNjc5IjsKCiAgICAgIGlmICh0aGlzLnRvX3NlbmQgPT0gIiIpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdmciKS5zdHlsZS5maWxsID0gIiM4YThhOGE2MyI7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVfY2hhdDogZnVuY3Rpb24gY3JlYXRlX2NoYXQobWVzc2FnZSkgewogICAgICB0aGlzLmNoYXQucHVzaChtZXNzYWdlKTsKICAgIH0sCiAgICB1cGRhdGVfc2Nyb2xsYmFyOiBmdW5jdGlvbiB1cGRhdGVfc2Nyb2xsYmFyKHR5cGUpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5cGluZy1pbmRpY2F0b3IiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9LCAxMDAwKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbFRvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGF0LWJvZHkiKS5zY3JvbGxIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5IikubGFzdENoaWxkLnNjcm9sbEhlaWdodDsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgdHJhaW5faW50ZW50X21vZGVsOiBmdW5jdGlvbiB0cmFpbl9pbnRlbnRfbW9kZWwoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAodGhpcy5uZXdfcXVlc3Rpb25zIDwgMSkgewogICAgICAgICAgdG9hc3RyLmVycm9yKHRoaXMudGx0KCdlZGl0X29uZV9xdWVzdGlvbl9tc2cnKSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5ld19xdWVzdGlvbnMgPj0gMSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnc3dhbF9hbGVydF9tc2cnKSwKICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ3RyYWluX21vZGVsX21zZycpLAogICAgICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdjb25maXJtX21zZycpLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbW9kZWwoKSwgewogICAgICAgICAgICAgICAgY29tcGFueV9pZDogX3RoaXM2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXM2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgZW1haWw6IF90aGlzNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IF90aGlzNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIGVwb2NoczogMTAwLAogICAgICAgICAgICAgICAgdXBkYXRlX21vZGVsOiB0cnVlCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzNi4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSA0MDQ2KSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKHJlc3BvbnNlLmRhdGEuTVNHKTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LndhbnRfc3RhdHVzID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi4kcm9vdC4kZW1pdCgid2FudF9tb2RlbF9zdGF0dXMiLCBfdGhpczYud2FudF9zdGF0dXMpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LmNoZWNrX2ludGVudF9jb3JlX21vZGVsX3N0YXR1cygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSAxMDM0KSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihyZXNwb25zZS5kYXRhLk1TRyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},null]}