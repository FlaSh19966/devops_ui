{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/eslint-loader/index.js??ref--13-0!/home/vimalesh/CENSE/chatbot-portal/public/js/vue-tree-list.umd.min.js","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/public/js/vue-tree-list.umd.min.js","mtime":1643027096116},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC50by1zdHJpbmctdGFnIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnRvLXN0cmluZy10YWciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnRvLXN0cmluZy10YWciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCnZhciBfdHlwZW9mID0gcmVxdWlyZSgiL2hvbWUvdmltYWxlc2gvQ0VOU0UvY2hhdGJvdC1wb3J0YWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7CgooZnVuY3Rpb24gKEEsIGUpIHsKICAib2JqZWN0IiA9PT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgJiYgIm9iamVjdCIgPT09ICh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA/IG1vZHVsZS5leHBvcnRzID0gZSgpIDogImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFtdLCBlKSA6ICJvYmplY3QiID09PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IGV4cG9ydHNbInZ1ZS10cmVlLWxpc3QiXSA9IGUoKSA6IEFbInZ1ZS10cmVlLWxpc3QiXSA9IGUoKTsKfSkoInVuZGVmaW5lZCIgIT09IHR5cGVvZiBzZWxmID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gZnVuY3Rpb24gKEEpIHsKICAgIHZhciBlID0ge307CgogICAgZnVuY3Rpb24gdChuKSB7CiAgICAgIGlmIChlW25dKSByZXR1cm4gZVtuXS5leHBvcnRzOwogICAgICB2YXIgciA9IGVbbl0gPSB7CiAgICAgICAgaTogbiwKICAgICAgICBsOiAhMSwKICAgICAgICBleHBvcnRzOiB7fQogICAgICB9OwogICAgICByZXR1cm4gQVtuXS5jYWxsKHIuZXhwb3J0cywgciwgci5leHBvcnRzLCB0KSwgci5sID0gITAsIHIuZXhwb3J0czsKICAgIH0KCiAgICByZXR1cm4gdC5tID0gQSwgdC5jID0gZSwgdC5kID0gZnVuY3Rpb24gKEEsIGUsIG4pIHsKICAgICAgdC5vKEEsIGUpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLCBlLCB7CiAgICAgICAgZW51bWVyYWJsZTogITAsCiAgICAgICAgZ2V0OiBuCiAgICAgIH0pOwogICAgfSwgdC5yID0gZnVuY3Rpb24gKEEpIHsKICAgICAgInVuZGVmaW5lZCIgIT09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsKICAgICAgICB2YWx1ZTogIk1vZHVsZSIKICAgICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLCAiX19lc01vZHVsZSIsIHsKICAgICAgICB2YWx1ZTogITAKICAgICAgfSk7CiAgICB9LCB0LnQgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICBpZiAoMSAmIGUgJiYgKEEgPSB0KEEpKSwgOCAmIGUpIHJldHVybiBBOwogICAgICBpZiAoNCAmIGUgJiYgIm9iamVjdCIgPT09IF90eXBlb2YoQSkgJiYgQSAmJiBBLl9fZXNNb2R1bGUpIHJldHVybiBBOwogICAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIGlmICh0LnIobiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCAiZGVmYXVsdCIsIHsKICAgICAgICBlbnVtZXJhYmxlOiAhMCwKICAgICAgICB2YWx1ZTogQQogICAgICB9KSwgMiAmIGUgJiYgInN0cmluZyIgIT0gdHlwZW9mIEEpIGZvciAodmFyIHIgaW4gQSkgewogICAgICAgIHQuZChuLCByLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIEFbZV07CiAgICAgICAgfS5iaW5kKG51bGwsIHIpKTsKICAgICAgfQogICAgICByZXR1cm4gbjsKICAgIH0sIHQubiA9IGZ1bmN0aW9uIChBKSB7CiAgICAgIHZhciBlID0gQSAmJiBBLl9fZXNNb2R1bGUgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIEFbImRlZmF1bHQiXTsKICAgICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gQTsKICAgICAgfTsKICAgICAgcmV0dXJuIHQuZChlLCAiYSIsIGUpLCBlOwogICAgfSwgdC5vID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChBLCBlKTsKICAgIH0sIHQucCA9ICIiLCB0KHQucyA9ICJmYjE1Iik7CiAgfSh7CiAgICAiMDRhYiI6IGZ1bmN0aW9uIGFiKEEsIGUsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIG4gPSB0KCI5MWE5IiksCiAgICAgICAgICByID0gdC5uKG4pOwogICAgICByLmE7CiAgICB9LAogICAgIjA1N2YiOiBmdW5jdGlvbiBmKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJmYzZhIiksCiAgICAgICAgICByID0gdCgiMjQxYyIpLmYsCiAgICAgICAgICBvID0ge30udG9TdHJpbmcsCiAgICAgICAgICBpID0gIm9iamVjdCIgPT0gKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKHdpbmRvdykpICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXSwKICAgICAgICAgIGEgPSBmdW5jdGlvbiBhKEEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIHIoQSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuIGkuc2xpY2UoKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBBLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIGkgJiYgIltvYmplY3QgV2luZG93XSIgPT0gby5jYWxsKEEpID8gYShBKSA6IHIobihBKSk7CiAgICAgIH07CiAgICB9LAogICAgIjA2Y2YiOiBmdW5jdGlvbiBjZihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiODNhYiIpLAogICAgICAgICAgciA9IHQoImQxZTciKSwKICAgICAgICAgIG8gPSB0KCI1YzZjIiksCiAgICAgICAgICBpID0gdCgiZmM2YSIpLAogICAgICAgICAgYSA9IHQoImMwNGUiKSwKICAgICAgICAgIGMgPSB0KCI1MTM1IiksCiAgICAgICAgICBmID0gdCgiMGNmYiIpLAogICAgICAgICAgdSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7CiAgICAgIGUuZiA9IG4gPyB1IDogZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICBpZiAoQSA9IGkoQSksIGUgPSBhKGUsICEwKSwgZikgdHJ5IHsKICAgICAgICAgIHJldHVybiB1KEEsIGUpOwogICAgICAgIH0gY2F0Y2ggKHQpIHt9CiAgICAgICAgaWYgKGMoQSwgZSkpIHJldHVybiBvKCFyLmYuY2FsbChBLCBlKSwgQVtlXSk7CiAgICAgIH07CiAgICB9LAogICAgIjBjZmIiOiBmdW5jdGlvbiBjZmIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjgzYWIiKSwKICAgICAgICAgIHIgPSB0KCJkMDM5IiksCiAgICAgICAgICBvID0gdCgiY2MxMiIpOwogICAgICBBLmV4cG9ydHMgPSAhbiAmJiAhcihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIDcgIT0gT2JqZWN0LmRlZmluZVByb3BlcnR5KG8oImRpdiIpLCAiYSIsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gNzsKICAgICAgICAgIH0KICAgICAgICB9KS5hOwogICAgICB9KTsKICAgIH0sCiAgICAiMTU5YiI6IGZ1bmN0aW9uIGIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImRhODQiKSwKICAgICAgICAgIHIgPSB0KCJmZGJjIiksCiAgICAgICAgICBvID0gdCgiMTdjMiIpLAogICAgICAgICAgaSA9IHQoIjkxMTIiKTsKCiAgICAgIGZvciAodmFyIGEgaW4gcikgewogICAgICAgIHZhciBjID0gblthXSwKICAgICAgICAgICAgZiA9IGMgJiYgYy5wcm90b3R5cGU7CiAgICAgICAgaWYgKGYgJiYgZi5mb3JFYWNoICE9PSBvKSB0cnkgewogICAgICAgICAgaShmLCAiZm9yRWFjaCIsIG8pOwogICAgICAgIH0gY2F0Y2ggKHUpIHsKICAgICAgICAgIGYuZm9yRWFjaCA9IG87CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIjE3YzIiOiBmdW5jdGlvbiBjMihBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuID0gdCgiYjcyNyIpLmZvckVhY2gsCiAgICAgICAgICByID0gdCgiYjMwMSIpOwogICAgICBBLmV4cG9ydHMgPSByKCJmb3JFYWNoIikgPyBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBuKHRoaXMsIEEsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdm9pZCAwKTsKICAgICAgfSA6IFtdLmZvckVhY2g7CiAgICB9LAogICAgIjFiZTQiOiBmdW5jdGlvbiBiZTQoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImQwNjYiKTsKICAgICAgQS5leHBvcnRzID0gbigiZG9jdW1lbnQiLCAiZG9jdW1lbnRFbGVtZW50Iik7CiAgICB9LAogICAgIjFjMGIiOiBmdW5jdGlvbiBjMGIoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIGlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiBBKSB0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKEEpICsgIiBpcyBub3QgYSBmdW5jdGlvbiIpOwogICAgICAgIHJldHVybiBBOwogICAgICB9OwogICAgfSwKICAgICIxZDgwIjogZnVuY3Rpb24gZDgwKEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICBpZiAodm9pZCAwID09IEEpIHRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIiArIEEpOwogICAgICAgIHJldHVybiBBOwogICAgICB9OwogICAgfSwKICAgICIxZGRlIjogZnVuY3Rpb24gZGRlKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkMDM5IiksCiAgICAgICAgICByID0gdCgiYjYyMiIpLAogICAgICAgICAgbyA9IHQoIjYwYWUiKSwKICAgICAgICAgIGkgPSByKCJzcGVjaWVzIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBvID49IDUxIHx8ICFuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlID0gW10sCiAgICAgICAgICAgICAgdCA9IGUuY29uc3RydWN0b3IgPSB7fTsKICAgICAgICAgIHJldHVybiB0W2ldID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGZvbzogMQogICAgICAgICAgICB9OwogICAgICAgICAgfSwgMSAhPT0gZVtBXShCb29sZWFuKS5mb287CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgIjFkZTUiOiBmdW5jdGlvbiBkZTUoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHJldHVybiBlIHx8IChlID0ge30pLCBBID0gQSAmJiBBLl9fZXNNb2R1bGUgPyBBLmRlZmF1bHQgOiBBLCAic3RyaW5nIiAhPT0gdHlwZW9mIEEgPyBBIDogKC9eWyciXS4qWyciXSQvLnRlc3QoQSkgJiYgKEEgPSBBLnNsaWNlKDEsIC0xKSksIGUuaGFzaCAmJiAoQSArPSBlLmhhc2gpLCAvWyInKCkgXHRcbl0vLnRlc3QoQSkgfHwgZS5uZWVkUXVvdGVzID8gJyInLmNvbmNhdChBLnJlcGxhY2UoLyIvZywgJ1xcIicpLnJlcGxhY2UoL1xuL2csICJcXG4iKSwgJyInKSA6IEEpOwogICAgICB9OwogICAgfSwKICAgICIyM2NiIjogZnVuY3Rpb24gY2IoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImE2OTEiKSwKICAgICAgICAgIHIgPSBNYXRoLm1heCwKICAgICAgICAgIG8gPSBNYXRoLm1pbjsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdmFyIHQgPSBuKEEpOwogICAgICAgIHJldHVybiB0IDwgMCA/IHIodCArIGUsIDApIDogbyh0LCBlKTsKICAgICAgfTsKICAgIH0sCiAgICAiMjNlNyI6IGZ1bmN0aW9uIGU3KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkYTg0IiksCiAgICAgICAgICByID0gdCgiMDZjZiIpLmYsCiAgICAgICAgICBvID0gdCgiOTExMiIpLAogICAgICAgICAgaSA9IHQoIjZlZWIiKSwKICAgICAgICAgIGEgPSB0KCJjZTRlIiksCiAgICAgICAgICBjID0gdCgiZTg5MyIpLAogICAgICAgICAgZiA9IHQoIjk0Y2EiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIHUsCiAgICAgICAgICAgIHMsCiAgICAgICAgICAgIGQsCiAgICAgICAgICAgIGwsCiAgICAgICAgICAgIHAsCiAgICAgICAgICAgIGcgPSBBLnRhcmdldCwKICAgICAgICAgICAgaCA9IEEuZ2xvYmFsLAogICAgICAgICAgICB2ID0gQS5zdGF0OwogICAgICAgIGlmICh1ID0gaCA/IG4gOiB2ID8gbltnXSB8fCBhKGcsIHt9KSA6IChuW2ddIHx8IHt9KS5wcm90b3R5cGUsIHUpIGZvciAocyBpbiBlKSB7CiAgICAgICAgICBpZiAobCA9IGVbc10sIEEubm9UYXJnZXRHZXQgPyAocCA9IHIodSwgcyksIGQgPSBwICYmIHAudmFsdWUpIDogZCA9IHVbc10sIHQgPSBmKGggPyBzIDogZyArICh2ID8gIi4iIDogIiMiKSArIHMsIEEuZm9yY2VkKSwgIXQgJiYgdm9pZCAwICE9PSBkKSB7CiAgICAgICAgICAgIGlmIChfdHlwZW9mKGwpID09PSBfdHlwZW9mKGQpKSBjb250aW51ZTsKICAgICAgICAgICAgYyhsLCBkKTsKICAgICAgICAgIH0KCiAgICAgICAgICAoQS5zaGFtIHx8IGQgJiYgZC5zaGFtKSAmJiBvKGwsICJzaGFtIiwgITApLCBpKHUsIHMsIGwsIEEpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICAiMjQxYyI6IGZ1bmN0aW9uIGMoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImNhODQiKSwKICAgICAgICAgIHIgPSB0KCI3ODM5IiksCiAgICAgICAgICBvID0gci5jb25jYXQoImxlbmd0aCIsICJwcm90b3R5cGUiKTsKCiAgICAgIGUuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIG4oQSwgbyk7CiAgICAgIH07CiAgICB9LAogICAgIjI0ZmIiOiBmdW5jdGlvbiBmYihBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIG4oQSwgZSkgewogICAgICAgIHZhciB0ID0gQVsxXSB8fCAiIiwKICAgICAgICAgICAgbiA9IEFbM107CiAgICAgICAgaWYgKCFuKSByZXR1cm4gdDsKCiAgICAgICAgaWYgKGUgJiYgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGJ0b2EpIHsKICAgICAgICAgIHZhciBvID0gcihuKSwKICAgICAgICAgICAgICBpID0gbi5zb3VyY2VzLm1hcChmdW5jdGlvbiAoQSkgewogICAgICAgICAgICByZXR1cm4gIi8qIyBzb3VyY2VVUkw9Ii5jb25jYXQobi5zb3VyY2VSb290KS5jb25jYXQoQSwgIiAqLyIpOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gW3RdLmNvbmNhdChpKS5jb25jYXQoW29dKS5qb2luKCJcbiIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFt0XS5qb2luKCJcbiIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiByKEEpIHsKICAgICAgICB2YXIgZSA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KEEpKSkpLAogICAgICAgICAgICB0ID0gInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIuY29uY2F0KGUpOwogICAgICAgIHJldHVybiAiLyojICIuY29uY2F0KHQsICIgKi8iKTsKICAgICAgfQoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICB2YXIgZSA9IFtdOwogICAgICAgIHJldHVybiBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ID0gbihlLCBBKTsKICAgICAgICAgICAgcmV0dXJuIGVbMl0gPyAiQG1lZGlhICIuY29uY2F0KGVbMl0sICIgeyIpLmNvbmNhdCh0LCAifSIpIDogdDsKICAgICAgICAgIH0pLmpvaW4oIiIpOwogICAgICAgIH0sIGUuaSA9IGZ1bmN0aW9uIChBLCB0KSB7CiAgICAgICAgICAic3RyaW5nIiA9PT0gdHlwZW9mIEEgJiYgKEEgPSBbW251bGwsIEEsICIiXV0pOwoKICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgQS5sZW5ndGg7IG4rKykgewogICAgICAgICAgICB2YXIgciA9IFtdLmNvbmNhdChBW25dKTsKICAgICAgICAgICAgdCAmJiAoclsyXSA/IHJbMl0gPSAiIi5jb25jYXQodCwgIiBhbmQgIikuY29uY2F0KHJbMl0pIDogclsyXSA9IHQpLCBlLnB1c2gocik7CiAgICAgICAgICB9CiAgICAgICAgfSwgZTsKICAgICAgfTsKICAgIH0sCiAgICAiMzdlOCI6IGZ1bmN0aW9uIGU4KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4M2FiIiksCiAgICAgICAgICByID0gdCgiOWJmMiIpLAogICAgICAgICAgbyA9IHQoIjgyNWEiKSwKICAgICAgICAgIGkgPSB0KCJkZjc1Iik7CiAgICAgIEEuZXhwb3J0cyA9IG4gPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgbyhBKTsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiA9IGkoZSksCiAgICAgICAgICAgIGEgPSBuLmxlbmd0aCwKICAgICAgICAgICAgYyA9IDA7CgogICAgICAgIHdoaWxlIChhID4gYykgewogICAgICAgICAgci5mKEEsIHQgPSBuW2MrK10sIGVbdF0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIEE7CiAgICAgIH07CiAgICB9LAogICAgIjQyOGYiOiBmdW5jdGlvbiBmKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkYTg0Iik7CiAgICAgIEEuZXhwb3J0cyA9IG47CiAgICB9LAogICAgIjQ0YWQiOiBmdW5jdGlvbiBhZChBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZDAzOSIpLAogICAgICAgICAgciA9IHQoImM2YjYiKSwKICAgICAgICAgIG8gPSAiIi5zcGxpdDsKICAgICAgQS5leHBvcnRzID0gbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICFPYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKTsKICAgICAgfSkgPyBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiAiU3RyaW5nIiA9PSByKEEpID8gby5jYWxsKEEsICIiKSA6IE9iamVjdChBKTsKICAgICAgfSA6IE9iamVjdDsKICAgIH0sCiAgICA0OTMwOiBmdW5jdGlvbiBfKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkMDM5Iik7CiAgICAgIEEuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICFTdHJpbmcoU3ltYm9sKCkpOwogICAgICB9KTsKICAgIH0sCiAgICAiNDk5ZSI6IGZ1bmN0aW9uIGUoQSwgX2UsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgZnVuY3Rpb24gbihBLCBlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IFtdLCBuID0ge30sIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykgewogICAgICAgICAgdmFyIG8gPSBlW3JdLAogICAgICAgICAgICAgIGkgPSBvWzBdLAogICAgICAgICAgICAgIGEgPSBvWzFdLAogICAgICAgICAgICAgIGMgPSBvWzJdLAogICAgICAgICAgICAgIGYgPSBvWzNdLAogICAgICAgICAgICAgIHUgPSB7CiAgICAgICAgICAgIGlkOiBBICsgIjoiICsgciwKICAgICAgICAgICAgY3NzOiBhLAogICAgICAgICAgICBtZWRpYTogYywKICAgICAgICAgICAgc291cmNlTWFwOiBmCiAgICAgICAgICB9OwogICAgICAgICAgbltpXSA/IG5baV0ucGFydHMucHVzaCh1KSA6IHQucHVzaChuW2ldID0gewogICAgICAgICAgICBpZDogaSwKICAgICAgICAgICAgcGFydHM6IFt1XQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdDsKICAgICAgfQoKICAgICAgdC5yKF9lKSwgdC5kKF9lLCAiZGVmYXVsdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gcDsKICAgICAgfSk7CiAgICAgIHZhciByID0gInVuZGVmaW5lZCIgIT09IHR5cGVvZiBkb2N1bWVudDsKICAgICAgaWYgKCJ1bmRlZmluZWQiICE9PSB0eXBlb2YgREVCVUcgJiYgREVCVUcgJiYgIXIpIHRocm93IG5ldyBFcnJvcigidnVlLXN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LiBVc2UgeyB0YXJnZXQ6ICdub2RlJyB9IGluIHlvdXIgV2VicGFjayBjb25maWcgdG8gaW5kaWNhdGUgYSBzZXJ2ZXItcmVuZGVyaW5nIGVudmlyb25tZW50LiIpOwoKICAgICAgdmFyIG8gPSB7fSwKICAgICAgICAgIGkgPSByICYmIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLAogICAgICAgICAgYSA9IG51bGwsCiAgICAgICAgICBjID0gMCwKICAgICAgICAgIGYgPSAhMSwKICAgICAgICAgIHUgPSBmdW5jdGlvbiB1KCkge30sCiAgICAgICAgICBzID0gbnVsbCwKICAgICAgICAgIGQgPSAiZGF0YS12dWUtc3NyLWlkIiwKICAgICAgICAgIGwgPSAidW5kZWZpbmVkIiAhPT0gdHlwZW9mIG5hdmlnYXRvciAmJiAvbXNpZSBbNi05XVxiLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7CgogICAgICBmdW5jdGlvbiBwKEEsIGUsIHQsIHIpIHsKICAgICAgICBmID0gdCwgcyA9IHIgfHwge307CiAgICAgICAgdmFyIGkgPSBuKEEsIGUpOwogICAgICAgIHJldHVybiBnKGkpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZm9yICh2YXIgdCA9IFtdLCByID0gMDsgciA8IGkubGVuZ3RoOyByKyspIHsKICAgICAgICAgICAgdmFyIGEgPSBpW3JdLAogICAgICAgICAgICAgICAgYyA9IG9bYS5pZF07CiAgICAgICAgICAgIGMucmVmcy0tLCB0LnB1c2goYyk7CiAgICAgICAgICB9CgogICAgICAgICAgZSA/IChpID0gbihBLCBlKSwgZyhpKSkgOiBpID0gW107CgogICAgICAgICAgZm9yIChyID0gMDsgciA8IHQubGVuZ3RoOyByKyspIHsKICAgICAgICAgICAgYyA9IHRbcl07CgogICAgICAgICAgICBpZiAoMCA9PT0gYy5yZWZzKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IDA7IGYgPCBjLnBhcnRzLmxlbmd0aDsgZisrKSB7CiAgICAgICAgICAgICAgICBjLnBhcnRzW2ZdKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBkZWxldGUgb1tjLmlkXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGcoQSkgewogICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgQS5sZW5ndGg7IGUrKykgewogICAgICAgICAgdmFyIHQgPSBBW2VdLAogICAgICAgICAgICAgIG4gPSBvW3QuaWRdOwoKICAgICAgICAgIGlmIChuKSB7CiAgICAgICAgICAgIG4ucmVmcysrOwoKICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBuLnBhcnRzLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgbi5wYXJ0c1tyXSh0LnBhcnRzW3JdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yICg7IHIgPCB0LnBhcnRzLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgbi5wYXJ0cy5wdXNoKHYodC5wYXJ0c1tyXSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuLnBhcnRzLmxlbmd0aCA+IHQucGFydHMubGVuZ3RoICYmIChuLnBhcnRzLmxlbmd0aCA9IHQucGFydHMubGVuZ3RoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBpID0gW107CgogICAgICAgICAgICBmb3IgKHIgPSAwOyByIDwgdC5wYXJ0cy5sZW5ndGg7IHIrKykgewogICAgICAgICAgICAgIGkucHVzaCh2KHQucGFydHNbcl0pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgb1t0LmlkXSA9IHsKICAgICAgICAgICAgICBpZDogdC5pZCwKICAgICAgICAgICAgICByZWZzOiAxLAogICAgICAgICAgICAgIHBhcnRzOiBpCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBoKCkgewogICAgICAgIHZhciBBID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICByZXR1cm4gQS50eXBlID0gInRleHQvY3NzIiwgaS5hcHBlbmRDaGlsZChBKSwgQTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdihBKSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIHQsCiAgICAgICAgICAgIG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdHlsZVsiICsgZCArICd+PSInICsgQS5pZCArICciXScpOwoKICAgICAgICBpZiAobikgewogICAgICAgICAgaWYgKGYpIHJldHVybiB1OwogICAgICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGwpIHsKICAgICAgICAgIHZhciByID0gYysrOwogICAgICAgICAgbiA9IGEgfHwgKGEgPSBoKCkpLCBlID0gQi5iaW5kKG51bGwsIG4sIHIsICExKSwgdCA9IEIuYmluZChudWxsLCBuLCByLCAhMCk7CiAgICAgICAgfSBlbHNlIG4gPSBoKCksIGUgPSBiLmJpbmQobnVsbCwgbiksIHQgPSBmdW5jdGlvbiB0KCkgewogICAgICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBlKEEpLCBmdW5jdGlvbiAobikgewogICAgICAgICAgaWYgKG4pIHsKICAgICAgICAgICAgaWYgKG4uY3NzID09PSBBLmNzcyAmJiBuLm1lZGlhID09PSBBLm1lZGlhICYmIG4uc291cmNlTWFwID09PSBBLnNvdXJjZU1hcCkgcmV0dXJuOwogICAgICAgICAgICBlKEEgPSBuKTsKICAgICAgICAgIH0gZWxzZSB0KCk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIEUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIEEgPSBbXTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBBW2VdID0gdCwgQS5maWx0ZXIoQm9vbGVhbikuam9pbigiXG4iKTsKICAgICAgICB9OwogICAgICB9KCk7CgogICAgICBmdW5jdGlvbiBCKEEsIGUsIHQsIG4pIHsKICAgICAgICB2YXIgciA9IHQgPyAiIiA6IG4uY3NzOwogICAgICAgIGlmIChBLnN0eWxlU2hlZXQpIEEuc3R5bGVTaGVldC5jc3NUZXh0ID0gRShlLCByKTtlbHNlIHsKICAgICAgICAgIHZhciBvID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUociksCiAgICAgICAgICAgICAgaSA9IEEuY2hpbGROb2RlczsKICAgICAgICAgIGlbZV0gJiYgQS5yZW1vdmVDaGlsZChpW2VdKSwgaS5sZW5ndGggPyBBLmluc2VydEJlZm9yZShvLCBpW2VdKSA6IEEuYXBwZW5kQ2hpbGQobyk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBiKEEsIGUpIHsKICAgICAgICB2YXIgdCA9IGUuY3NzLAogICAgICAgICAgICBuID0gZS5tZWRpYSwKICAgICAgICAgICAgciA9IGUuc291cmNlTWFwOwogICAgICAgIGlmIChuICYmIEEuc2V0QXR0cmlidXRlKCJtZWRpYSIsIG4pLCBzLnNzcklkICYmIEEuc2V0QXR0cmlidXRlKGQsIGUuaWQpLCByICYmICh0ICs9ICJcbi8qIyBzb3VyY2VVUkw9IiArIHIuc291cmNlc1swXSArICIgKi8iLCB0ICs9ICJcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpICsgIiAqLyIpLCBBLnN0eWxlU2hlZXQpIEEuc3R5bGVTaGVldC5jc3NUZXh0ID0gdDtlbHNlIHsKICAgICAgICAgIHdoaWxlIChBLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgQS5yZW1vdmVDaGlsZChBLmZpcnN0Q2hpbGQpOwogICAgICAgICAgfQoKICAgICAgICAgIEEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICI0YjA5IjogZnVuY3Rpb24gYjA5KEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0gImRhdGE6YXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3Q7YmFzZTY0LDRBZ0FBRHdJQUFBQkFBSUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFKQUJBQUFBQUV4UUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBMDdwL2dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBNEFhUUJqQUc4QWJRQnZBRzhBYmdBQUFBNEFVZ0JsQUdjQWRRQnNBR0VBY2dBQUFCWUFWZ0JsQUhJQWN3QnBBRzhBYmdBZ0FERUFMZ0F3QUFBQURnQnBBR01BYndCdEFHOEFid0J1QUFBQUFBQUFBUUFBQUFzQWdBQURBREJQVXk4eUR4SUYrQUFBQUx3QUFBQmdZMjFoY0JkVzBvNEFBQUVjQUFBQVZHZGhjM0FBQUFBUUFBQUJjQUFBQUFobmJIbG1YVjhJWEFBQUFYZ0FBQVJVYUdWaFpBNU9LcU1BQUFYTUFBQUFObWhvWldFSHdnUE5BQUFHQkFBQUFDUm9iWFI0SmdBRWZBQUFCaWdBQUFBd2JHOWpZUVdrQkV3QUFBWllBQUFBR20xaGVIQUFFZ0J3QUFBR2RBQUFBQ0J1WVcxbG1Vb0ord0FBQnBRQUFBR0djRzl6ZEFBREFBQUFBQWdjQUFBQUlBQURBOGNCa0FBRkFBQUNtUUxNQUFBQWp3S1pBc3dBQUFIckFETUJDUUFBQUFBQUFBQUFBQUFBQUFBQUFBRVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBT2tIQThEL3dBQkFBOEFBUUFBQUFBRUFBQUFBQUFBQUFBQUFBQ0FBQUFBQUFBTUFBQUFEQUFBQUhBQUJBQU1BQUFBY0FBTUFBUUFBQUJ3QUJBQTRBQUFBQ2dBSUFBSUFBZ0FCQUNEcEIvLzkvLzhBQUFBQUFDRHBBUC85Ly84QUFmL2pGd1FBQXdBQkFBQUFBQUFBQUFBQUFBQUJBQUgvL3dBUEFBRUFBQUFBQUFBQUFBQUNBQUEzT1FFQUFBQUFBUUFBQUFBQUFBQUFBQUlBQURjNUFRQUFBQUFCQUFBQUFBQUFBQUFBQWdBQU56a0JBQUFBQUFFQk1nQ2JBbnNDNVFBU0FBQUJGQWNCQmlNaUp5WTFFVFEzTmpNeUZ3RVdBbnNML3dBS0R3OExDd3NMRHc4S0FRQUxBY0FQQy84QUN3c0xEd0lBRHdzTEMvOEFDd0FBQUFFQTJ3RXVBeVVDZHdBU0FBQUJJaWNCSmpVME56WXpJVElYRmhVR0J3RUdBZ0FQQy84QUN3c0xEd0lBRHdzTEFRci9BQXNCTGdzQkFBb1BEd3NMQ3dzUER3ci9BQXNBQUFJQXFRQ0NBMFFESEFBbUFEUUFBQUVpQmhVUkZBWWpJU0ltTlJFME5qTWhNalkxTkNZaklTSUdGUkVVRmpNaE1qWTFFVFFtSXdVV01qY0JOalFuSmlJSEFRWVVBekFJREJnUi9nY1FHQmdRQVZnSURBd0kvcFFaSkNRWkFpSVpJd3dJL25FR0VRWUJhd1lHQmhFRy9wVUdBbElNQ1A2VUVCZ1lFQUg1RVJnTUNBZ01JeG45M2hrakl4a0JnQWdNeFFZR0FXMEdFUVlHQnY2VEJoRUFBQUFDQUFBQWpnUUFBOEFBSmdCR0FBQUJJU2N1QVFjaklnWVZFUmN6SGdFeklUVWhCeEUwTmpNM0Z4NEJNeUV5RmgwQk16VTBKaU1USXpVMEppTWlCaDBCSXlJR0ZSUVdPd0VWRkJZek1qWTlBVE15TmpVMEpnT3kvZHdyRFJ3RjV5RXRCaFFJRXdvQi9mNFNEUWdGNHlzRkdCSUNKd1lIUVMwaEtvNFZEZzhWamc4VkZRK09GUThPRlk0UEZSVURkRFFRQ1FFdUlQMVFLQVlHUWdFQ293VUhBVFVJRHdjRnk4c2dMZjRUamc4VkZRK09GUTRQRlk0UEZSVVBqaFVQRGhVQUFBQUFBUUNBQUVBRGZ3TTlBQ0FBQUFFaEVUUW1JeUlHRlJFaElnWVZCaFl6SVJFVUZqTXlOalVSSVRJMk5UUW1Jd05mL3NNVERRMFQvcjRPRWdFVERRRkRFdzBORXdFOURSTVNEZ0hmQVQ0TkV4TU4vc0lURFEwVC9zRU9FaElPQVQ4U0RnMFRBQVVBUUFBQUE4QURnQUFTQUNRQVJBQlBBRzBBQUNVaUpqVVJORFl6TWhZVkVUZ0JNUlFHSXpFaklpWTFFVFEyTXpJV0ZSRTRBVEVVQmlNQkl6VTBKaU1oSWdZZEFTTWlCaFVVRmpNaE9BRXhNalkxT0FFNUFUUW1JeVUwTmpNaE1oWWRBU0UxQVNFaUpqVVJORFl6TWhZVkVSUVdNeUV5TmpVUk5EWXpNaFlWRVJRR0FtQU5FeE1ORFJNVERjQU5FeE1ORFJNVERRSUFvRGduL3I4b09LQU5FeE1OQTBBTkV4TU4vYUFURFFGQkRSTCtnQUdnL2tBb09CTU5EUk1URFFIQURoSVREUTRTT01BVERRRmdEUk1URGY2Z0RSTVREUUZnRFJNVERmNmdEUk1DSUVBb09EZ29RQk1ORFJNVERRMFRRQTBURXcxQVFQemdPQ2dCNEE0U0VnNytJQTBURXcwQjN3MFRFdzMrSVNnNEFBTUF2d0JBQXo4RFFBQUZBQWdBRHdBQUFTRVJJUkVuSHdFakFSRWhGVE1SSVFKdC9sSUNnTklUVWxMK2Z3RkF3UDRBQTBEOUFBSXQwMjFUL2dFQ2Y4RCtRUUFBQXdCSEFFY0RzZ00yQUJVQUdnQWZBQUFCSVNjdUFTc0JJZ1lWRVJRV015RXlOalVSTkNZaklUVXpGeUVWSVJFaEVRT0kvbWlOQmhJS3p4SVpHUklERmhFWkdSSDg5TUJpL3Q0REFmei9BcTkyQ0FrWkV2MW1FaGdZRWdJVUVSbFNValgrQWdIK0FBQUJBQUFBQUFBQWdIKzYwMThQUFBVQUN3UUFBQUFBQU5XWWN2TUFBQUFBMVpoeTh3QUFBQUFFQUFQQUFBQUFDQUFDQUFBQUFBQUFBQUVBQUFQQS84QUFBQVFBQUFBQUFBUUFBQUVBQUFBQUFBQUFBQUFBQUFBQUFBQU1CQUFBQUFBQUFBQUFBQUFBQWdBQUFBUUFBVElFQUFEYkJBQUFxUVFBQUFBRUFBQ0FCQUFBUUFRQUFMOEVBQUJIQUFBQUFBQUtBQlFBSGdCQ0FHWUF0Z0VZQVVvQjFBSDJBaW9BQUFBQkFBQUFEQUJ1QUFVQUFBQUFBQUlBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRGdDdUFBRUFBQUFBQUFFQUJ3QUFBQUVBQUFBQUFBSUFCd0JnQUFFQUFBQUFBQU1BQndBMkFBRUFBQUFBQUFRQUJ3QjFBQUVBQUFBQUFBVUFDd0FWQUFFQUFBQUFBQVlBQndCTEFBRUFBQUFBQUFvQUdnQ0tBQU1BQVFRSkFBRUFEZ0FIQUFNQUFRUUpBQUlBRGdCbkFBTUFBUVFKQUFNQURnQTlBQU1BQVFRSkFBUUFEZ0I4QUFNQUFRUUpBQVVBRmdBZ0FBTUFBUVFKQUFZQURnQlNBQU1BQVFRSkFBb0FOQUNrYVdOdmJXOXZiZ0JwQUdNQWJ3QnRBRzhBYndCdVZtVnljMmx2YmlBeExqQUFWZ0JsQUhJQWN3QnBBRzhBYmdBZ0FERUFMZ0F3YVdOdmJXOXZiZ0JwQUdNQWJ3QnRBRzhBYndCdWFXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVVbVZuZFd4aGNnQlNBR1VBWndCMUFHd0FZUUJ5YVdOdmJXOXZiZ0JwQUdNQWJ3QnRBRzhBYndCdVJtOXVkQ0JuWlc1bGNtRjBaV1FnWW5rZ1NXTnZUVzl2Ymk0QVJnQnZBRzRBZEFBZ0FHY0FaUUJ1QUdVQWNnQmhBSFFBWlFCa0FDQUFZZ0I1QUNBQVNRQmpBRzhBVFFCdkFHOEFiZ0F1QUFBQUF3QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQT09IjsKICAgIH0sCiAgICAiNGQ2NCI6IGZ1bmN0aW9uIGQ2NChBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZmM2YSIpLAogICAgICAgICAgciA9IHQoIjUwYzQiKSwKICAgICAgICAgIG8gPSB0KCIyM2NiIiksCiAgICAgICAgICBpID0gZnVuY3Rpb24gaShBKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBpKSB7CiAgICAgICAgICB2YXIgYSwKICAgICAgICAgICAgICBjID0gbihlKSwKICAgICAgICAgICAgICBmID0gcihjLmxlbmd0aCksCiAgICAgICAgICAgICAgdSA9IG8oaSwgZik7CgogICAgICAgICAgaWYgKEEgJiYgdCAhPSB0KSB7CiAgICAgICAgICAgIHdoaWxlIChmID4gdSkgewogICAgICAgICAgICAgIGlmIChhID0gY1t1KytdLCBhICE9IGEpIHJldHVybiAhMDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGZvciAoOyBmID4gdTsgdSsrKSB7CiAgICAgICAgICAgIGlmICgoQSB8fCB1IGluIGMpICYmIGNbdV0gPT09IHQpIHJldHVybiBBIHx8IHUgfHwgMDsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gIUEgJiYgLTE7CiAgICAgICAgfTsKICAgICAgfTsKCiAgICAgIEEuZXhwb3J0cyA9IHsKICAgICAgICBpbmNsdWRlczogaSghMCksCiAgICAgICAgaW5kZXhPZjogaSghMSkKICAgICAgfTsKICAgIH0sCiAgICAiNGRlNCI6IGZ1bmN0aW9uIGRlNChBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuID0gdCgiMjNlNyIpLAogICAgICAgICAgciA9IHQoImI3MjciKS5maWx0ZXIsCiAgICAgICAgICBvID0gdCgiZDAzOSIpLAogICAgICAgICAgaSA9IHQoIjFkZGUiKSwKICAgICAgICAgIGEgPSBpKCJmaWx0ZXIiKSwKICAgICAgICAgIGMgPSBhICYmICFvKGZ1bmN0aW9uICgpIHsKICAgICAgICBbXS5maWx0ZXIuY2FsbCh7CiAgICAgICAgICBsZW5ndGg6IC0xLAogICAgICAgICAgMDogMQogICAgICAgIH0sIGZ1bmN0aW9uIChBKSB7CiAgICAgICAgICB0aHJvdyBBOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgbih7CiAgICAgICAgdGFyZ2V0OiAiQXJyYXkiLAogICAgICAgIHByb3RvOiAhMCwKICAgICAgICBmb3JjZWQ6ICFhIHx8ICFjCiAgICAgIH0sIHsKICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihBKSB7CiAgICAgICAgICByZXR1cm4gcih0aGlzLCBBLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAiNTBjNCI6IGZ1bmN0aW9uIGM0KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJhNjkxIiksCiAgICAgICAgICByID0gTWF0aC5taW47CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBBID4gMCA/IHIobihBKSwgOTAwNzE5OTI1NDc0MDk5MSkgOiAwOwogICAgICB9OwogICAgfSwKICAgIDUxMzU6IGZ1bmN0aW9uIF8oQSwgZSkgewogICAgICB2YXIgdCA9IHt9Lmhhc093blByb3BlcnR5OwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICByZXR1cm4gdC5jYWxsKEEsIGUpOwogICAgICB9OwogICAgfSwKICAgIDU2OTI6IGZ1bmN0aW9uIF8oQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImM0MzAiKSwKICAgICAgICAgIHIgPSB0KCJjNmNkIik7CiAgICAgIChBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHJldHVybiByW0FdIHx8IChyW0FdID0gdm9pZCAwICE9PSBlID8gZSA6IHt9KTsKICAgICAgfSkoInZlcnNpb25zIiwgW10pLnB1c2goewogICAgICAgIHZlcnNpb246ICIzLjYuMSIsCiAgICAgICAgbW9kZTogbiA/ICJwdXJlIiA6ICJnbG9iYWwiLAogICAgICAgIGNvcHlyaWdodDogIsKpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkiCiAgICAgIH0pOwogICAgfSwKICAgICI1NmVmIjogZnVuY3Rpb24gZWYoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImQwNjYiKSwKICAgICAgICAgIHIgPSB0KCIyNDFjIiksCiAgICAgICAgICBvID0gdCgiNzQxOCIpLAogICAgICAgICAgaSA9IHQoIjgyNWEiKTsKCiAgICAgIEEuZXhwb3J0cyA9IG4oIlJlZmxlY3QiLCAib3duS2V5cyIpIHx8IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgdmFyIGUgPSByLmYoaShBKSksCiAgICAgICAgICAgIHQgPSBvLmY7CiAgICAgICAgcmV0dXJuIHQgPyBlLmNvbmNhdCh0KEEpKSA6IGU7CiAgICAgIH07CiAgICB9LAogICAgIjVjNmMiOiBmdW5jdGlvbiBjNmMoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBlbnVtZXJhYmxlOiAhKDEgJiBBKSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogISgyICYgQSksCiAgICAgICAgICB3cml0YWJsZTogISg0ICYgQSksCiAgICAgICAgICB2YWx1ZTogZQogICAgICAgIH07CiAgICAgIH07CiAgICB9LAogICAgIjYwYWUiOiBmdW5jdGlvbiBhZShBLCBlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciwKICAgICAgICAgIG8gPSB0KCJkYTg0IiksCiAgICAgICAgICBpID0gdCgiYjM5YSIpLAogICAgICAgICAgYSA9IG8ucHJvY2VzcywKICAgICAgICAgIGMgPSBhICYmIGEudmVyc2lvbnMsCiAgICAgICAgICBmID0gYyAmJiBjLnY4OwogICAgICBmID8gKG4gPSBmLnNwbGl0KCIuIiksIHIgPSBuWzBdICsgblsxXSkgOiBpICYmIChuID0gaS5tYXRjaCgvRWRnZVwvKFxkKykvKSwgKCFuIHx8IG5bMV0gPj0gNzQpICYmIChuID0gaS5tYXRjaCgvQ2hyb21lXC8oXGQrKS8pLCBuICYmIChyID0gblsxXSkpKSwgQS5leHBvcnRzID0gciAmJiArcjsKICAgIH0sCiAgICAiNjJhMyI6IGZ1bmN0aW9uIGEzKEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0gImRhdGE6Zm9udC90dGY7YmFzZTY0LEFBRUFBQUFMQUlBQUF3QXdUMU12TWc4U0JmZ0FBQUM4QUFBQVlHTnRZWEFYVnRLT0FBQUJIQUFBQUZSbllYTndBQUFBRUFBQUFYQUFBQUFJWjJ4NVpsMWZDRndBQUFGNEFBQUVWR2hsWVdRT1RpcWpBQUFGekFBQUFEWm9hR1ZoQjhJRHpRQUFCZ1FBQUFBa2FHMTBlQ1lBQkh3QUFBWW9BQUFBTUd4dlkyRUZwQVJNQUFBR1dBQUFBQnB0WVhod0FCSUFjQUFBQm5RQUFBQWdibUZ0WlpsS0Nmc0FBQWFVQUFBQmhuQnZjM1FBQXdBQUFBQUlIQUFBQUNBQUF3UEhBWkFBQlFBQUFwa0N6QUFBQUk4Q21RTE1BQUFCNndBekFRa0FBQUFBQUFBQUFBQUFBQUFBQUFBQkVBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBRHBCd1BBLzhBQVFBUEFBRUFBQUFBQkFBQUFBQUFBQUFBQUFBQWdBQUFBQUFBREFBQUFBd0FBQUJ3QUFRQURBQUFBSEFBREFBRUFBQUFjQUFRQU9BQUFBQW9BQ0FBQ0FBSUFBUUFnNlFmLy9mLy9BQUFBQUFBZzZRRC8vZi8vQUFILzR4Y0VBQU1BQVFBQUFBQUFBQUFBQUFBQUFRQUIvLzhBRHdBQkFBQUFBQUFBQUFBQUFnQUFOemtCQUFBQUFBRUFBQUFBQUFBQUFBQUNBQUEzT1FFQUFBQUFBUUFBQUFBQUFBQUFBQUlBQURjNUFRQUFBQUFCQVRJQW13SjdBdVVBRWdBQUFSUUhBUVlqSWljbU5SRTBOell6TWhjQkZnSjdDLzhBQ2c4UEN3c0xDdzhQQ2dFQUN3SEFEd3YvQUFzTEN3OENBQThMQ3d2L0FBc0FBQUFCQU5zQkxnTWxBbmNBRWdBQUFTSW5BU1kxTkRjMk15RXlGeFlWQmdjQkJnSUFEd3YvQUFzTEN3OENBQThMQ3dFSy93QUxBUzRMQVFBS0R3OExDd3NMRHc4Sy93QUxBQUFDQUtrQWdnTkVBeHdBSmdBMEFBQUJJZ1lWRVJRR0l5RWlKalVSTkRZeklUSTJOVFFtSXlFaUJoVVJGQll6SVRJMk5SRTBKaU1GRmpJM0FUWTBKeVlpQndFR0ZBTXdDQXdZRWY0SEVCZ1lFQUZZQ0F3TUNQNlVHU1FrR1FJaUdTTU1DUDV4QmhFR0FXc0dCZ1lSQnY2VkJnSlNEQWorbEJBWUdCQUIrUkVZREFnSURDTVovZDRaSXlNWkFZQUlETVVHQmdGdEJoRUdCZ2Ira3dZUkFBQUFBZ0FBQUk0RUFBUEFBQ1lBUmdBQUFTRW5MZ0VISXlJR0ZSRVhNeDRCTXlFMUlRY1JORFl6TnhjZUFUTWhNaFlkQVRNMU5DWWpFeU0xTkNZaklnWWRBU01pQmhVVUZqc0JGUlFXTXpJMlBRRXpNalkxTkNZRHN2M2NLdzBjQmVjaExRWVVDQk1LQWYzK0VnMElCZU1yQlJnU0FpY0dCMEV0SVNxT0ZRNFBGWTRQRlJVUGpoVVBEaFdPRHhVVkEzUTBFQWtCTGlEOVVDZ0dCa0lCQXFNRkJ3RTFDQThIQmN2TElDMytFNDRQRlJVUGpoVU9EeFdPRHhVVkQ0NFZEdzRWQUFBQUFBRUFnQUJBQTM4RFBRQWdBQUFCSVJFMEppTWlCaFVSSVNJR0ZRWVdNeUVSRkJZek1qWTFFU0V5TmpVMEppTURYLzdERXcwTkUvNitEaElCRXcwQlF4TU5EUk1CUFEwVEVnNEIzd0UrRFJNVERmN0NFdzBORS83QkRoSVNEZ0UvRWc0TkV3QUZBRUFBQUFQQUE0QUFFZ0FrQUVRQVR3QnRBQUFsSWlZMUVUUTJNeklXRlJFNEFURVVCaU14SXlJbU5SRTBOak15RmhVUk9BRXhGQVlqQVNNMU5DWWpJU0lHSFFFaklnWVZGQll6SVRnQk1USTJOVGdCT1FFMEppTWxORFl6SVRJV0hRRWhOUUVoSWlZMUVUUTJNeklXRlJFVUZqTWhNalkxRVRRMk16SVdGUkVVQmdKZ0RSTVREUTBURXczQURSTVREUTBURXcwQ0FLQTRKLzYvS0RpZ0RSTVREUU5BRFJNVERmMmdFdzBCUVEwUy9vQUJvUDVBS0RnVERRMFRFdzBCd0E0U0V3ME9FampBRXcwQllBMFRFdzMrb0EwVEV3MEJZQTBURXczK29BMFRBaUJBS0RnNEtFQVREUTBURXcwTkUwQU5FeE1OUUVEODREZ29BZUFPRWhJTy9pQU5FeE1OQWQ4TkV4TU4vaUVvT0FBREFMOEFRQU0vQTBBQUJRQUlBQThBQUFFaEVTRVJKeDhCSXdFUklSVXpFU0VDYmY1U0FvRFNFMUpTL244QlFNRCtBQU5BL1FBQ0xkTnRVLzRCQW4vQS9rRUFBQU1BUndCSEE3SUROZ0FWQUJvQUh3QUFBU0VuTGdFckFTSUdGUkVVRmpNaE1qWTFFVFFtSXlFMU14Y2hGU0VSSVJFRGlQNW9qUVlTQ3M4U0dSa1NBeFlSR1JrUi9QVEFZdjdlQXdIOC93S3ZkZ2dKR1JMOVpoSVlHQklDRkJFWlVsSTEvZ0lCL2dBQUFRQUFBQUFBQUlCL3V0TmZEenoxQUFzRUFBQUFBQURWbUhMekFBQUFBTldZY3ZNQUFBQUFCQUFEd0FBQUFBZ0FBZ0FBQUFBQUFBQUJBQUFEd1AvQUFBQUVBQUFBQUFBRUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQURBUUFBQUFBQUFBQUFBQUFBQUlBQUFBRUFBRXlCQUFBMndRQUFLa0VBQUFBQkFBQWdBUUFBRUFFQUFDL0JBQUFSd0FBQUFBQUNnQVVBQjRBUWdCbUFMWUJHQUZLQWRRQjlnSXFBQUFBQVFBQUFBd0FiZ0FGQUFBQUFBQUNBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQTRBcmdBQkFBQUFBQUFCQUFjQUFBQUJBQUFBQUFBQ0FBY0FZQUFCQUFBQUFBQURBQWNBTmdBQkFBQUFBQUFFQUFjQWRRQUJBQUFBQUFBRkFBc0FGUUFCQUFBQUFBQUdBQWNBU3dBQkFBQUFBQUFLQUJvQWlnQURBQUVFQ1FBQkFBNEFCd0FEQUFFRUNRQUNBQTRBWndBREFBRUVDUUFEQUE0QVBRQURBQUVFQ1FBRUFBNEFmQUFEQUFFRUNRQUZBQllBSUFBREFBRUVDUUFHQUE0QVVnQURBQUVFQ1FBS0FEUUFwR2xqYjIxdmIyNEFhUUJqQUc4QWJRQnZBRzhBYmxabGNuTnBiMjRnTVM0d0FGWUFaUUJ5QUhNQWFRQnZBRzRBSUFBeEFDNEFNR2xqYjIxdmIyNEFhUUJqQUc4QWJRQnZBRzhBYm1samIyMXZiMjRBYVFCakFHOEFiUUJ2QUc4QWJsSmxaM1ZzWVhJQVVnQmxBR2NBZFFCc0FHRUFjbWxqYjIxdmIyNEFhUUJqQUc4QWJRQnZBRzhBYmtadmJuUWdaMlZ1WlhKaGRHVmtJR0o1SUVsamIwMXZiMjR1QUVZQWJ3QnVBSFFBSUFCbkFHVUFiZ0JsQUhJQVlRQjBBR1VBWkFBZ0FHSUFlUUFnQUVrQVl3QnZBRTBBYndCdkFHNEFMZ0FBQUFNQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQT0iOwogICAgfSwKICAgICI2NWYwIjogZnVuY3Rpb24gZjAoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjg2MWQiKSwKICAgICAgICAgIHIgPSB0KCJlOGI1IiksCiAgICAgICAgICBvID0gdCgiYjYyMiIpLAogICAgICAgICAgaSA9IG8oInNwZWNpZXMiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdmFyIHQ7CiAgICAgICAgcmV0dXJuIHIoQSkgJiYgKHQgPSBBLmNvbnN0cnVjdG9yLCAiZnVuY3Rpb24iICE9IHR5cGVvZiB0IHx8IHQgIT09IEFycmF5ICYmICFyKHQucHJvdG90eXBlKSA/IG4odCkgJiYgKHQgPSB0W2ldLCBudWxsID09PSB0ICYmICh0ID0gdm9pZCAwKSkgOiB0ID0gdm9pZCAwKSwgbmV3ICh2b2lkIDAgPT09IHQgPyBBcnJheSA6IHQpKDAgPT09IGUgPyAwIDogZSk7CiAgICAgIH07CiAgICB9LAogICAgIjY5ZjMiOiBmdW5jdGlvbiBmMyhBLCBlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciwKICAgICAgICAgIG8sCiAgICAgICAgICBpID0gdCgiN2Y5YSIpLAogICAgICAgICAgYSA9IHQoImRhODQiKSwKICAgICAgICAgIGMgPSB0KCI4NjFkIiksCiAgICAgICAgICBmID0gdCgiOTExMiIpLAogICAgICAgICAgdSA9IHQoIjUxMzUiKSwKICAgICAgICAgIHMgPSB0KCJmNzcyIiksCiAgICAgICAgICBkID0gdCgiZDAxMiIpLAogICAgICAgICAgbCA9IGEuV2Vha01hcCwKICAgICAgICAgIHAgPSBmdW5jdGlvbiBwKEEpIHsKICAgICAgICByZXR1cm4gbyhBKSA/IHIoQSkgOiBuKEEsIHt9KTsKICAgICAgfSwKICAgICAgICAgIGcgPSBmdW5jdGlvbiBnKEEpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0OwogICAgICAgICAgaWYgKCFjKGUpIHx8ICh0ID0gcihlKSkudHlwZSAhPT0gQSkgdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIgKyBBICsgIiByZXF1aXJlZCIpOwogICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgfTsKICAgICAgfTsKCiAgICAgIGlmIChpKSB7CiAgICAgICAgdmFyIGggPSBuZXcgbCgpLAogICAgICAgICAgICB2ID0gaC5nZXQsCiAgICAgICAgICAgIEUgPSBoLmhhcywKICAgICAgICAgICAgQiA9IGguc2V0OwogICAgICAgIG4gPSBmdW5jdGlvbiBuKEEsIGUpIHsKICAgICAgICAgIHJldHVybiBCLmNhbGwoaCwgQSwgZSksIGU7CiAgICAgICAgfSwgciA9IGZ1bmN0aW9uIHIoQSkgewogICAgICAgICAgcmV0dXJuIHYuY2FsbChoLCBBKSB8fCB7fTsKICAgICAgICB9LCBvID0gZnVuY3Rpb24gbyhBKSB7CiAgICAgICAgICByZXR1cm4gRS5jYWxsKGgsIEEpOwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGIgPSBzKCJzdGF0ZSIpOwogICAgICAgIGRbYl0gPSAhMCwgbiA9IGZ1bmN0aW9uIG4oQSwgZSkgewogICAgICAgICAgcmV0dXJuIGYoQSwgYiwgZSksIGU7CiAgICAgICAgfSwgciA9IGZ1bmN0aW9uIHIoQSkgewogICAgICAgICAgcmV0dXJuIHUoQSwgYikgPyBBW2JdIDoge307CiAgICAgICAgfSwgbyA9IGZ1bmN0aW9uIG8oQSkgewogICAgICAgICAgcmV0dXJuIHUoQSwgYik7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgQS5leHBvcnRzID0gewogICAgICAgIHNldDogbiwKICAgICAgICBnZXQ6IHIsCiAgICAgICAgaGFzOiBvLAogICAgICAgIGVuZm9yY2U6IHAsCiAgICAgICAgZ2V0dGVyRm9yOiBnCiAgICAgIH07CiAgICB9LAogICAgIjZjYmUiOiBmdW5jdGlvbiBjYmUoQSwgZSwgdCkgewogICAgICBBLmV4cG9ydHMgPSB0LnAgKyAiaW1nL2ljb21vb24uNGZjZmZlMzUuc3ZnIjsKICAgIH0sCiAgICAiNmVlYiI6IGZ1bmN0aW9uIGVlYihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpLAogICAgICAgICAgciA9IHQoIjkxMTIiKSwKICAgICAgICAgIG8gPSB0KCI1MTM1IiksCiAgICAgICAgICBpID0gdCgiY2U0ZSIpLAogICAgICAgICAgYSA9IHQoIjg5MjUiKSwKICAgICAgICAgIGMgPSB0KCI2OWYzIiksCiAgICAgICAgICBmID0gYy5nZXQsCiAgICAgICAgICB1ID0gYy5lbmZvcmNlLAogICAgICAgICAgcyA9IFN0cmluZyhTdHJpbmcpLnNwbGl0KCJTdHJpbmciKTsKICAgICAgKEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlLCB0LCBhKSB7CiAgICAgICAgdmFyIGMgPSAhIWEgJiYgISFhLnVuc2FmZSwKICAgICAgICAgICAgZiA9ICEhYSAmJiAhIWEuZW51bWVyYWJsZSwKICAgICAgICAgICAgZCA9ICEhYSAmJiAhIWEubm9UYXJnZXRHZXQ7CiAgICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCAmJiAoInN0cmluZyIgIT0gdHlwZW9mIGUgfHwgbyh0LCAibmFtZSIpIHx8IHIodCwgIm5hbWUiLCBlKSwgdSh0KS5zb3VyY2UgPSBzLmpvaW4oInN0cmluZyIgPT0gdHlwZW9mIGUgPyBlIDogIiIpKSwgQSAhPT0gbiA/IChjID8gIWQgJiYgQVtlXSAmJiAoZiA9ICEwKSA6IGRlbGV0ZSBBW2VdLCBmID8gQVtlXSA9IHQgOiByKEEsIGUsIHQpKSA6IGYgPyBBW2VdID0gdCA6IGkoZSwgdCk7CiAgICAgIH0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgInRvU3RyaW5nIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiB0aGlzICYmIGYodGhpcykuc291cmNlIHx8IGEodGhpcyk7CiAgICAgIH0pOwogICAgfSwKICAgIDc0MTg6IGZ1bmN0aW9uIF8oQSwgZSkgewogICAgICBlLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzOwogICAgfSwKICAgICI3NDZmIjogZnVuY3Rpb24gZihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiNDI4ZiIpLAogICAgICAgICAgciA9IHQoIjUxMzUiKSwKICAgICAgICAgIG8gPSB0KCJjMDMyIiksCiAgICAgICAgICBpID0gdCgiOWJmMiIpLmY7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHZhciBlID0gbi5TeW1ib2wgfHwgKG4uU3ltYm9sID0ge30pOwogICAgICAgIHIoZSwgQSkgfHwgaShlLCBBLCB7CiAgICAgICAgICB2YWx1ZTogby5mKEEpCiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgNzgzOTogZnVuY3Rpb24gXyhBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9IFsiY29uc3RydWN0b3IiLCAiaGFzT3duUHJvcGVydHkiLCAiaXNQcm90b3R5cGVPZiIsICJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsICJ0b0xvY2FsZVN0cmluZyIsICJ0b1N0cmluZyIsICJ2YWx1ZU9mIl07CiAgICB9LAogICAgIjdhMjMiOiBmdW5jdGlvbiBhMjMoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjI0ZmIiKSwKICAgICAgICAgIHIgPSB0KCIxZGU1IiksCiAgICAgICAgICBvID0gdCgiNGIwOSIpLAogICAgICAgICAgaSA9IHQoIjYyYTMiKSwKICAgICAgICAgIGEgPSB0KCJhZTFlIiksCiAgICAgICAgICBjID0gdCgiNmNiZSIpOwogICAgICBlID0gbighMSk7CiAgICAgIHZhciBmID0gcihvKSwKICAgICAgICAgIHUgPSByKG8sIHsKICAgICAgICBoYXNoOiAiI2llZml4IgogICAgICB9KSwKICAgICAgICAgIHMgPSByKGkpLAogICAgICAgICAgZCA9IHIoYSksCiAgICAgICAgICBsID0gcihjLCB7CiAgICAgICAgaGFzaDogIiNpY29tb29uIgogICAgICB9KTsKICAgICAgZS5wdXNoKFtBLmksICJAZm9udC1mYWNle2ZvbnQtZmFtaWx5Omljb21vb247c3JjOnVybCgiICsgZiArICIpO3NyYzp1cmwoIiArIHUgKyAnKSBmb3JtYXQoImVtYmVkZGVkLW9wZW50eXBlIiksdXJsKCcgKyBzICsgJykgZm9ybWF0KCJ0cnVldHlwZSIpLHVybCgnICsgZCArICcpIGZvcm1hdCgid29mZiIpLHVybCgnICsgbCArICcpIGZvcm1hdCgic3ZnIik7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc3R5bGU6bm9ybWFsfS52dGwtaWNvbntmb250LWZhbWlseTppY29tb29uIWltcG9ydGFudDtzcGVhazpub25lO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXZhcmlhbnQ6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7bGluZS1oZWlnaHQ6MTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZX0udnRsLWljb24udnRsLW1lbnUtaWNvbnttYXJnaW4tcmlnaHQ6NHB4fS52dGwtaWNvbi52dGwtbWVudS1pY29uOmhvdmVye2NvbG9yOmluaGVyaXR9LnZ0bC1pY29uOmhvdmVye2NvbG9yOiMwMGZ9LnZ0bC1pY29uLWZpbGU6YmVmb3Jle2NvbnRlbnQ6IlxcZTkwNiJ9LnZ0bC1pY29uLWZvbGRlcjpiZWZvcmV7Y29udGVudDoiXFxlOTA3In0udnRsLWljb24tY2FyZXQtZG93bjpiZWZvcmV7Y29udGVudDoiXFxlOTAxIn0udnRsLWljb24tY2FyZXQtcmlnaHQ6YmVmb3Jle2NvbnRlbnQ6IlxcZTkwMCJ9LnZ0bC1pY29uLWVkaXQ6YmVmb3Jle2NvbnRlbnQ6IlxcZTkwMiJ9LnZ0bC1pY29uLWZvbGRlci1wbHVzLWU6YmVmb3Jle2NvbnRlbnQ6IlxcZTkwMyJ9LnZ0bC1pY29uLXBsdXM6YmVmb3Jle2NvbnRlbnQ6IlxcZTkwNCJ9LnZ0bC1pY29uLXRyYXNoOmJlZm9yZXtjb250ZW50OiJcXGU5MDUifS52dGwtYm9yZGVye2hlaWdodDo1cHh9LnZ0bC1ib3JkZXIudnRsLXVwe21hcmdpbi10b3A6LTVweH0udnRsLWJvcmRlci52dGwtYm90dG9tLC52dGwtYm9yZGVyLnZ0bC11cHtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS52dGwtYm9yZGVyLnZ0bC1hY3RpdmV7Ym9yZGVyLWJvdHRvbTozcHggZGFzaGVkICMwMGZ9LnZ0bC1ub2RlLW1haW57ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjVweCAwIDVweCAxcmVtfS52dGwtbm9kZS1tYWluIC52dGwtaW5wdXR7Ym9yZGVyOm5vbmU7bWF4LXdpZHRoOjE1MHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMwMGZ9LnZ0bC1ub2RlLW1haW46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjBmMGYwfS52dGwtbm9kZS1tYWluLnZ0bC1hY3RpdmV7b3V0bGluZToycHggZGFzaGVkIHBpbmt9LnZ0bC1ub2RlLW1haW4gLnZ0bC1jYXJldHttYXJnaW4tbGVmdDotMXJlbX0udnRsLW5vZGUtbWFpbiAudnRsLW9wZXJhdGlvbnttYXJnaW4tbGVmdDoycmVtO2xldHRlci1zcGFjaW5nOjFweH0udnRsLWl0ZW17Y3Vyc29yOnBvaW50ZXJ9LnZ0bC10cmVlLW1hcmdpbnttYXJnaW4tbGVmdDoyZW19JywgIiJdKSwgQS5leHBvcnRzID0gZTsKICAgIH0sCiAgICAiN2IwYiI6IGZ1bmN0aW9uIGIwYihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiMWQ4MCIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gT2JqZWN0KG4oQSkpOwogICAgICB9OwogICAgfSwKICAgICI3YzczIjogZnVuY3Rpb24gYzczKEEsIGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByID0gdCgiODI1YSIpLAogICAgICAgICAgbyA9IHQoIjM3ZTgiKSwKICAgICAgICAgIGkgPSB0KCI3ODM5IiksCiAgICAgICAgICBhID0gdCgiZDAxMiIpLAogICAgICAgICAgYyA9IHQoIjFiZTQiKSwKICAgICAgICAgIGYgPSB0KCJjYzEyIiksCiAgICAgICAgICB1ID0gdCgiZjc3MiIpLAogICAgICAgICAgcyA9ICI+IiwKICAgICAgICAgIGQgPSAiPCIsCiAgICAgICAgICBsID0gInByb3RvdHlwZSIsCiAgICAgICAgICBwID0gInNjcmlwdCIsCiAgICAgICAgICBnID0gdSgiSUVfUFJPVE8iKSwKICAgICAgICAgIGggPSBmdW5jdGlvbiBoKCkge30sCiAgICAgICAgICB2ID0gZnVuY3Rpb24gdihBKSB7CiAgICAgICAgcmV0dXJuIGQgKyBwICsgcyArIEEgKyBkICsgIi8iICsgcCArIHM7CiAgICAgIH0sCiAgICAgICAgICBFID0gZnVuY3Rpb24gRShBKSB7CiAgICAgICAgQS53cml0ZSh2KCIiKSksIEEuY2xvc2UoKTsKICAgICAgICB2YXIgZSA9IEEucGFyZW50V2luZG93Lk9iamVjdDsKICAgICAgICByZXR1cm4gQSA9IG51bGwsIGU7CiAgICAgIH0sCiAgICAgICAgICBCID0gZnVuY3Rpb24gQigpIHsKICAgICAgICB2YXIgQSwKICAgICAgICAgICAgZSA9IGYoImlmcmFtZSIpLAogICAgICAgICAgICB0ID0gImphdmEiICsgcCArICI6IjsKICAgICAgICByZXR1cm4gZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiLCBjLmFwcGVuZENoaWxkKGUpLCBlLnNyYyA9IFN0cmluZyh0KSwgQSA9IGUuY29udGVudFdpbmRvdy5kb2N1bWVudCwgQS5vcGVuKCksIEEud3JpdGUodigiZG9jdW1lbnQuRj1PYmplY3QiKSksIEEuY2xvc2UoKSwgQS5GOwogICAgICB9LAogICAgICAgICAgX2IgPSBmdW5jdGlvbiBiKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBuID0gZG9jdW1lbnQuZG9tYWluICYmIG5ldyBBY3RpdmVYT2JqZWN0KCJodG1sZmlsZSIpOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgIF9iID0gbiA/IEUobikgOiBCKCk7CiAgICAgICAgdmFyIEEgPSBpLmxlbmd0aDsKCiAgICAgICAgd2hpbGUgKEEtLSkgewogICAgICAgICAgZGVsZXRlIF9iW2xdW2lbQV1dOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF9iKCk7CiAgICAgIH07CgogICAgICBhW2ddID0gITAsIEEuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICByZXR1cm4gbnVsbCAhPT0gQSA/IChoW2xdID0gcihBKSwgdCA9IG5ldyBoKCksIGhbbF0gPSBudWxsLCB0W2ddID0gQSkgOiB0ID0gX2IoKSwgdm9pZCAwID09PSBlID8gdCA6IG8odCwgZSk7CiAgICAgIH07CiAgICB9LAogICAgIjdmOWEiOiBmdW5jdGlvbiBmOWEoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImRhODQiKSwKICAgICAgICAgIHIgPSB0KCI4OTI1IiksCiAgICAgICAgICBvID0gbi5XZWFrTWFwOwogICAgICBBLmV4cG9ydHMgPSAiZnVuY3Rpb24iID09PSB0eXBlb2YgbyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QocihvKSk7CiAgICB9LAogICAgIjgyNWEiOiBmdW5jdGlvbiBhKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4NjFkIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIGlmICghbihBKSkgdGhyb3cgVHlwZUVycm9yKFN0cmluZyhBKSArICIgaXMgbm90IGFuIG9iamVjdCIpOwogICAgICAgIHJldHVybiBBOwogICAgICB9OwogICAgfSwKICAgICI4M2FiIjogZnVuY3Rpb24gYWIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImQwMzkiKTsKICAgICAgQS5leHBvcnRzID0gIW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiA3ICE9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgImEiLCB7CiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIDc7CiAgICAgICAgICB9CiAgICAgICAgfSkuYTsKICAgICAgfSk7CiAgICB9LAogICAgIjgzYWYiOiBmdW5jdGlvbiBhZihBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuOwogICAgICB0LmQoZSwgImEiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0pLCB0LmQoZSwgImIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG87CiAgICAgIH0pLCB0LmQoZSwgImMiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0pOwoKICAgICAgdmFyIHIgPSBmdW5jdGlvbiByKEEsIGUsIHQpIHsKICAgICAgICBuID0gdCwgQS5hZGRFdmVudExpc3RlbmVyID8gQS5hZGRFdmVudExpc3RlbmVyKGUsIHQsICExKSA6IEEuYXR0YWNoRXZlbnQgPyBBLmF0dGFjaEV2ZW50KCJvbiIgKyBlLCB0KSA6IEFbIm9uIiArIGVdID0gdDsKICAgICAgfSwKICAgICAgICAgIG8gPSBmdW5jdGlvbiBvKEEsIGUpIHsKICAgICAgICBBLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBBLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgbiwgITEpIDogQS5kZXRhY2hFdmVudCA/IEEuZGV0YWNoRXZlbnQoIm9uIiArIGUsIG4pIDogQVsib24iICsgZV0gPSBudWxsOwogICAgICB9LAogICAgICAgICAgaSA9IGZ1bmN0aW9uIEEoZSkgewogICAgICAgIHZhciB0ID0ge307CgogICAgICAgIGZvciAodmFyIG4gaW4gZSkgewogICAgICAgICAgImNoaWxkcmVuIiAhPT0gbiAmJiAicGFyZW50IiAhPT0gbiAmJiAodFtuXSA9IGVbbl0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUuY2hpbGRyZW4gJiYgZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0LmNoaWxkcmVuID0gW107CgogICAgICAgICAgZm9yICh2YXIgciA9IDAsIG8gPSBlLmNoaWxkcmVuLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgICB0LmNoaWxkcmVuLnB1c2goQShlLmNoaWxkcmVuW3JdKSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdDsKICAgICAgfTsKICAgIH0sCiAgICA4NDE4OiBmdW5jdGlvbiBfKEEsIGUsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIG4gPSB0KCJjMDRlIiksCiAgICAgICAgICByID0gdCgiOWJmMiIpLAogICAgICAgICAgbyA9IHQoIjVjNmMiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgdmFyIGkgPSBuKGUpOwogICAgICAgIGkgaW4gQSA/IHIuZihBLCBpLCBvKDAsIHQpKSA6IEFbaV0gPSB0OwogICAgICB9OwogICAgfSwKICAgICI4NjFkIjogZnVuY3Rpb24gZChBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuICJvYmplY3QiID09PSBfdHlwZW9mKEEpID8gbnVsbCAhPT0gQSA6ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBBOwogICAgICB9OwogICAgfSwKICAgIDg5MjU6IGZ1bmN0aW9uIF8oQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImM2Y2QiKSwKICAgICAgICAgIHIgPSBGdW5jdGlvbi50b1N0cmluZzsKICAgICAgImZ1bmN0aW9uIiAhPSB0eXBlb2Ygbi5pbnNwZWN0U291cmNlICYmIChuLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiByLmNhbGwoQSk7CiAgICAgIH0pLCBBLmV4cG9ydHMgPSBuLmluc3BlY3RTb3VyY2U7CiAgICB9LAogICAgIjkwZTMiOiBmdW5jdGlvbiBlMyhBLCBlKSB7CiAgICAgIHZhciB0ID0gMCwKICAgICAgICAgIG4gPSBNYXRoLnJhbmRvbSgpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gIlN5bWJvbCgiICsgU3RyaW5nKHZvaWQgMCA9PT0gQSA/ICIiIDogQSkgKyAiKV8iICsgKCsrdCArIG4pLnRvU3RyaW5nKDM2KTsKICAgICAgfTsKICAgIH0sCiAgICA5MTEyOiBmdW5jdGlvbiBfKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4M2FiIiksCiAgICAgICAgICByID0gdCgiOWJmMiIpLAogICAgICAgICAgbyA9IHQoIjVjNmMiKTsKICAgICAgQS5leHBvcnRzID0gbiA/IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgcmV0dXJuIHIuZihBLCBlLCBvKDEsIHQpKTsKICAgICAgfSA6IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgcmV0dXJuIEFbZV0gPSB0LCBBOwogICAgICB9OwogICAgfSwKICAgICI5MWE5IjogZnVuY3Rpb24gYTkoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjdhMjMiKTsKICAgICAgInN0cmluZyIgPT09IHR5cGVvZiBuICYmIChuID0gW1tBLmksIG4sICIiXV0pLCBuLmxvY2FscyAmJiAoQS5leHBvcnRzID0gbi5sb2NhbHMpOwogICAgICB2YXIgciA9IHQoIjQ5OWUiKS5kZWZhdWx0OwogICAgICByKCI2NWJjNDFlNCIsIG4sICEwLCB7CiAgICAgICAgc291cmNlTWFwOiAhMSwKICAgICAgICBzaGFkb3dNb2RlOiAhMQogICAgICB9KTsKICAgIH0sCiAgICAiOTRjYSI6IGZ1bmN0aW9uIGNhKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkMDM5IiksCiAgICAgICAgICByID0gLyN8XC5wcm90b3R5cGVcLi8sCiAgICAgICAgICBvID0gZnVuY3Rpb24gbyhBLCBlKSB7CiAgICAgICAgdmFyIHQgPSBhW2koQSldOwogICAgICAgIHJldHVybiB0ID09IGYgfHwgdCAhPSBjICYmICgiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gbihlKSA6ICEhZSk7CiAgICAgIH0sCiAgICAgICAgICBpID0gby5ub3JtYWxpemUgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBTdHJpbmcoQSkucmVwbGFjZShyLCAiLiIpLnRvTG93ZXJDYXNlKCk7CiAgICAgIH0sCiAgICAgICAgICBhID0gby5kYXRhID0ge30sCiAgICAgICAgICBjID0gby5OQVRJVkUgPSAiTiIsCiAgICAgICAgICBmID0gby5QT0xZRklMTCA9ICJQIjsKCiAgICAgIEEuZXhwb3J0cyA9IG87CiAgICB9LAogICAgIjk5YWYiOiBmdW5jdGlvbiBhZihBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuID0gdCgiMjNlNyIpLAogICAgICAgICAgciA9IHQoImQwMzkiKSwKICAgICAgICAgIG8gPSB0KCJlOGI1IiksCiAgICAgICAgICBpID0gdCgiODYxZCIpLAogICAgICAgICAgYSA9IHQoIjdiMGIiKSwKICAgICAgICAgIGMgPSB0KCI1MGM0IiksCiAgICAgICAgICBmID0gdCgiODQxOCIpLAogICAgICAgICAgdSA9IHQoIjY1ZjAiKSwKICAgICAgICAgIHMgPSB0KCIxZGRlIiksCiAgICAgICAgICBkID0gdCgiYjYyMiIpLAogICAgICAgICAgbCA9IHQoIjYwYWUiKSwKICAgICAgICAgIHAgPSBkKCJpc0NvbmNhdFNwcmVhZGFibGUiKSwKICAgICAgICAgIGcgPSA5MDA3MTk5MjU0NzQwOTkxLAogICAgICAgICAgaCA9ICJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWQiLAogICAgICAgICAgdiA9IGwgPj0gNTEgfHwgIXIoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBBID0gW107CiAgICAgICAgcmV0dXJuIEFbcF0gPSAhMSwgQS5jb25jYXQoKVswXSAhPT0gQTsKICAgICAgfSksCiAgICAgICAgICBFID0gcygiY29uY2F0IiksCiAgICAgICAgICBCID0gZnVuY3Rpb24gQihBKSB7CiAgICAgICAgaWYgKCFpKEEpKSByZXR1cm4gITE7CiAgICAgICAgdmFyIGUgPSBBW3BdOwogICAgICAgIHJldHVybiB2b2lkIDAgIT09IGUgPyAhIWUgOiBvKEEpOwogICAgICB9LAogICAgICAgICAgYiA9ICF2IHx8ICFFOwoKICAgICAgbih7CiAgICAgICAgdGFyZ2V0OiAiQXJyYXkiLAogICAgICAgIHByb3RvOiAhMCwKICAgICAgICBmb3JjZWQ6IGIKICAgICAgfSwgewogICAgICAgIGNvbmNhdDogZnVuY3Rpb24gY29uY2F0KEEpIHsKICAgICAgICAgIHZhciBlLAogICAgICAgICAgICAgIHQsCiAgICAgICAgICAgICAgbiwKICAgICAgICAgICAgICByLAogICAgICAgICAgICAgIG8sCiAgICAgICAgICAgICAgaSA9IGEodGhpcyksCiAgICAgICAgICAgICAgcyA9IHUoaSwgMCksCiAgICAgICAgICAgICAgZCA9IDA7CgogICAgICAgICAgZm9yIChlID0gLTEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBlIDwgbjsgZSsrKSB7CiAgICAgICAgICAgIGlmIChvID0gLTEgPT09IGUgPyBpIDogYXJndW1lbnRzW2VdLCBCKG8pKSB7CiAgICAgICAgICAgICAgaWYgKHIgPSBjKG8ubGVuZ3RoKSwgZCArIHIgPiBnKSB0aHJvdyBUeXBlRXJyb3IoaCk7CgogICAgICAgICAgICAgIGZvciAodCA9IDA7IHQgPCByOyB0KyssIGQrKykgewogICAgICAgICAgICAgICAgdCBpbiBvICYmIGYocywgZCwgb1t0XSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmIChkID49IGcpIHRocm93IFR5cGVFcnJvcihoKTsKICAgICAgICAgICAgICBmKHMsIGQrKywgbyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcy5sZW5ndGggPSBkLCBzOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgIjliZjIiOiBmdW5jdGlvbiBiZjIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjgzYWIiKSwKICAgICAgICAgIHIgPSB0KCIwY2ZiIiksCiAgICAgICAgICBvID0gdCgiODI1YSIpLAogICAgICAgICAgaSA9IHQoImMwNGUiKSwKICAgICAgICAgIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgICAgIGUuZiA9IG4gPyBhIDogZnVuY3Rpb24gKEEsIGUsIHQpIHsKICAgICAgICBpZiAobyhBKSwgZSA9IGkoZSwgITApLCBvKHQpLCByKSB0cnkgewogICAgICAgICAgcmV0dXJuIGEoQSwgZSwgdCk7CiAgICAgICAgfSBjYXRjaCAobikge30KICAgICAgICBpZiAoImdldCIgaW4gdCB8fCAic2V0IiBpbiB0KSB0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7CiAgICAgICAgcmV0dXJuICJ2YWx1ZSIgaW4gdCAmJiAoQVtlXSA9IHQudmFsdWUpLCBBOwogICAgICB9OwogICAgfSwKICAgIGE0MzQ6IGZ1bmN0aW9uIGE0MzQoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHQoIjIzZTciKSwKICAgICAgICAgIHIgPSB0KCIyM2NiIiksCiAgICAgICAgICBvID0gdCgiYTY5MSIpLAogICAgICAgICAgaSA9IHQoIjUwYzQiKSwKICAgICAgICAgIGEgPSB0KCI3YjBiIiksCiAgICAgICAgICBjID0gdCgiNjVmMCIpLAogICAgICAgICAgZiA9IHQoIjg0MTgiKSwKICAgICAgICAgIHUgPSB0KCIxZGRlIiksCiAgICAgICAgICBzID0gTWF0aC5tYXgsCiAgICAgICAgICBkID0gTWF0aC5taW4sCiAgICAgICAgICBsID0gOTAwNzE5OTI1NDc0MDk5MSwKICAgICAgICAgIHAgPSAiTWF4aW11bSBhbGxvd2VkIGxlbmd0aCBleGNlZWRlZCI7CiAgICAgIG4oewogICAgICAgIHRhcmdldDogIkFycmF5IiwKICAgICAgICBwcm90bzogITAsCiAgICAgICAgZm9yY2VkOiAhdSgic3BsaWNlIikKICAgICAgfSwgewogICAgICAgIHNwbGljZTogZnVuY3Rpb24gc3BsaWNlKEEsIGUpIHsKICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgIG4sCiAgICAgICAgICAgICAgdSwKICAgICAgICAgICAgICBnLAogICAgICAgICAgICAgIGgsCiAgICAgICAgICAgICAgdiwKICAgICAgICAgICAgICBFID0gYSh0aGlzKSwKICAgICAgICAgICAgICBCID0gaShFLmxlbmd0aCksCiAgICAgICAgICAgICAgYiA9IHIoQSwgQiksCiAgICAgICAgICAgICAgbSA9IGFyZ3VtZW50cy5sZW5ndGg7CiAgICAgICAgICBpZiAoMCA9PT0gbSA/IHQgPSBuID0gMCA6IDEgPT09IG0gPyAodCA9IDAsIG4gPSBCIC0gYikgOiAodCA9IG0gLSAyLCBuID0gZChzKG8oZSksIDApLCBCIC0gYikpLCBCICsgdCAtIG4gPiBsKSB0aHJvdyBUeXBlRXJyb3IocCk7CgogICAgICAgICAgZm9yICh1ID0gYyhFLCBuKSwgZyA9IDA7IGcgPCBuOyBnKyspIHsKICAgICAgICAgICAgaCA9IGIgKyBnLCBoIGluIEUgJiYgZih1LCBnLCBFW2hdKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodS5sZW5ndGggPSBuLCB0IDwgbikgewogICAgICAgICAgICBmb3IgKGcgPSBiOyBnIDwgQiAtIG47IGcrKykgewogICAgICAgICAgICAgIGggPSBnICsgbiwgdiA9IGcgKyB0LCBoIGluIEUgPyBFW3ZdID0gRVtoXSA6IGRlbGV0ZSBFW3ZdOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IgKGcgPSBCOyBnID4gQiAtIG4gKyB0OyBnLS0pIHsKICAgICAgICAgICAgICBkZWxldGUgRVtnIC0gMV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAodCA+IG4pIGZvciAoZyA9IEIgLSBuOyBnID4gYjsgZy0tKSB7CiAgICAgICAgICAgIGggPSBnICsgbiAtIDEsIHYgPSBnICsgdCAtIDEsIGggaW4gRSA/IEVbdl0gPSBFW2hdIDogZGVsZXRlIEVbdl07CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChnID0gMDsgZyA8IHQ7IGcrKykgewogICAgICAgICAgICBFW2cgKyBiXSA9IGFyZ3VtZW50c1tnICsgMl07CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIEUubGVuZ3RoID0gQiAtIG4gKyB0LCB1OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYTRkMzogZnVuY3Rpb24gYTRkMyhBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuID0gdCgiMjNlNyIpLAogICAgICAgICAgciA9IHQoImRhODQiKSwKICAgICAgICAgIG8gPSB0KCJkMDY2IiksCiAgICAgICAgICBpID0gdCgiYzQzMCIpLAogICAgICAgICAgYSA9IHQoIjgzYWIiKSwKICAgICAgICAgIGMgPSB0KCI0OTMwIiksCiAgICAgICAgICBmID0gdCgiZmRiZiIpLAogICAgICAgICAgdSA9IHQoImQwMzkiKSwKICAgICAgICAgIHMgPSB0KCI1MTM1IiksCiAgICAgICAgICBkID0gdCgiZThiNSIpLAogICAgICAgICAgbCA9IHQoIjg2MWQiKSwKICAgICAgICAgIHAgPSB0KCI4MjVhIiksCiAgICAgICAgICBnID0gdCgiN2IwYiIpLAogICAgICAgICAgaCA9IHQoImZjNmEiKSwKICAgICAgICAgIHYgPSB0KCJjMDRlIiksCiAgICAgICAgICBFID0gdCgiNWM2YyIpLAogICAgICAgICAgQiA9IHQoIjdjNzMiKSwKICAgICAgICAgIGIgPSB0KCJkZjc1IiksCiAgICAgICAgICBtID0gdCgiMjQxYyIpLAogICAgICAgICAgdyA9IHQoIjA1N2YiKSwKICAgICAgICAgIHkgPSB0KCI3NDE4IiksCiAgICAgICAgICBRID0gdCgiMDZjZiIpLAogICAgICAgICAgSSA9IHQoIjliZjIiKSwKICAgICAgICAgIEQgPSB0KCJkMWU3IiksCiAgICAgICAgICBOID0gdCgiOTExMiIpLAogICAgICAgICAgTSA9IHQoIjZlZWIiKSwKICAgICAgICAgIEMgPSB0KCI1NjkyIiksCiAgICAgICAgICB4ID0gdCgiZjc3MiIpLAogICAgICAgICAgUyA9IHQoImQwMTIiKSwKICAgICAgICAgIGogPSB0KCI5MGUzIiksCiAgICAgICAgICBUID0gdCgiYjYyMiIpLAogICAgICAgICAgRyA9IHQoImMwMzIiKSwKICAgICAgICAgIE8gPSB0KCI3NDZmIiksCiAgICAgICAgICBZID0gdCgiZDQ0ZSIpLAogICAgICAgICAgUiA9IHQoIjY5ZjMiKSwKICAgICAgICAgIFUgPSB0KCJiNzI3IikuZm9yRWFjaCwKICAgICAgICAgIEYgPSB4KCJoaWRkZW4iKSwKICAgICAgICAgIEwgPSAiU3ltYm9sIiwKICAgICAgICAgIFAgPSAicHJvdG90eXBlIiwKICAgICAgICAgIGsgPSBUKCJ0b1ByaW1pdGl2ZSIpLAogICAgICAgICAgSCA9IFIuc2V0LAogICAgICAgICAgSiA9IFIuZ2V0dGVyRm9yKEwpLAogICAgICAgICAgViA9IE9iamVjdFtQXSwKICAgICAgICAgIF96ID0gci5TeW1ib2wsCiAgICAgICAgICBfID0gbygiSlNPTiIsICJzdHJpbmdpZnkiKSwKICAgICAgICAgIFcgPSBRLmYsCiAgICAgICAgICBaID0gSS5mLAogICAgICAgICAgSyA9IHcuZiwKICAgICAgICAgIFggPSBELmYsCiAgICAgICAgICAkID0gQygic3ltYm9scyIpLAogICAgICAgICAgcSA9IEMoIm9wLXN5bWJvbHMiKSwKICAgICAgICAgIEFBID0gQygic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeSIpLAogICAgICAgICAgZUEgPSBDKCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5IiksCiAgICAgICAgICB0QSA9IEMoIndrcyIpLAogICAgICAgICAgbkEgPSByLlFPYmplY3QsCiAgICAgICAgICByQSA9ICFuQSB8fCAhbkFbUF0gfHwgIW5BW1BdLmZpbmRDaGlsZCwKICAgICAgICAgIG9BID0gYSAmJiB1KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gNyAhPSBCKFooe30sICJhIiwgewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiBaKHRoaXMsICJhIiwgewogICAgICAgICAgICAgIHZhbHVlOiA3CiAgICAgICAgICAgIH0pLmE7CiAgICAgICAgICB9CiAgICAgICAgfSkpLmE7CiAgICAgIH0pID8gZnVuY3Rpb24gKEEsIGUsIHQpIHsKICAgICAgICB2YXIgbiA9IFcoViwgZSk7CiAgICAgICAgbiAmJiBkZWxldGUgVltlXSwgWihBLCBlLCB0KSwgbiAmJiBBICE9PSBWICYmIFooViwgZSwgbik7CiAgICAgIH0gOiBaLAogICAgICAgICAgaUEgPSBmdW5jdGlvbiBpQShBLCBlKSB7CiAgICAgICAgdmFyIHQgPSAkW0FdID0gQihfeltQXSk7CiAgICAgICAgcmV0dXJuIEgodCwgewogICAgICAgICAgdHlwZTogTCwKICAgICAgICAgIHRhZzogQSwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBlCiAgICAgICAgfSksIGEgfHwgKHQuZGVzY3JpcHRpb24gPSBlKSwgdDsKICAgICAgfSwKICAgICAgICAgIGFBID0gZiA/IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuICJzeW1ib2wiID09IF90eXBlb2YoQSk7CiAgICAgIH0gOiBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBPYmplY3QoQSkgaW5zdGFuY2VvZiBfejsKICAgICAgfSwKICAgICAgICAgIGNBID0gZnVuY3Rpb24gY0EoQSwgZSwgdCkgewogICAgICAgIEEgPT09IFYgJiYgY0EocSwgZSwgdCksIHAoQSk7CiAgICAgICAgdmFyIG4gPSB2KGUsICEwKTsKICAgICAgICByZXR1cm4gcCh0KSwgcygkLCBuKSA/ICh0LmVudW1lcmFibGUgPyAocyhBLCBGKSAmJiBBW0ZdW25dICYmIChBW0ZdW25dID0gITEpLCB0ID0gQih0LCB7CiAgICAgICAgICBlbnVtZXJhYmxlOiBFKDAsICExKQogICAgICAgIH0pKSA6IChzKEEsIEYpIHx8IFooQSwgRiwgRSgxLCB7fSkpLCBBW0ZdW25dID0gITApLCBvQShBLCBuLCB0KSkgOiBaKEEsIG4sIHQpOwogICAgICB9LAogICAgICAgICAgZkEgPSBmdW5jdGlvbiBmQShBLCBlKSB7CiAgICAgICAgcChBKTsKICAgICAgICB2YXIgdCA9IGgoZSksCiAgICAgICAgICAgIG4gPSBiKHQpLmNvbmNhdChwQSh0KSk7CiAgICAgICAgcmV0dXJuIFUobiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGEgJiYgIXNBLmNhbGwodCwgZSkgfHwgY0EoQSwgZSwgdFtlXSk7CiAgICAgICAgfSksIEE7CiAgICAgIH0sCiAgICAgICAgICB1QSA9IGZ1bmN0aW9uIHVBKEEsIGUpIHsKICAgICAgICByZXR1cm4gdm9pZCAwID09PSBlID8gQihBKSA6IGZBKEIoQSksIGUpOwogICAgICB9LAogICAgICAgICAgc0EgPSBmdW5jdGlvbiBzQShBKSB7CiAgICAgICAgdmFyIGUgPSB2KEEsICEwKSwKICAgICAgICAgICAgdCA9IFguY2FsbCh0aGlzLCBlKTsKICAgICAgICByZXR1cm4gISh0aGlzID09PSBWICYmIHMoJCwgZSkgJiYgIXMocSwgZSkpICYmICghKHQgfHwgIXModGhpcywgZSkgfHwgIXMoJCwgZSkgfHwgcyh0aGlzLCBGKSAmJiB0aGlzW0ZdW2VdKSB8fCB0KTsKICAgICAgfSwKICAgICAgICAgIGRBID0gZnVuY3Rpb24gZEEoQSwgZSkgewogICAgICAgIHZhciB0ID0gaChBKSwKICAgICAgICAgICAgbiA9IHYoZSwgITApOwoKICAgICAgICBpZiAodCAhPT0gViB8fCAhcygkLCBuKSB8fCBzKHEsIG4pKSB7CiAgICAgICAgICB2YXIgciA9IFcodCwgbik7CiAgICAgICAgICByZXR1cm4gIXIgfHwgIXMoJCwgbikgfHwgcyh0LCBGKSAmJiB0W0ZdW25dIHx8IChyLmVudW1lcmFibGUgPSAhMCksIHI7CiAgICAgICAgfQogICAgICB9LAogICAgICAgICAgbEEgPSBmdW5jdGlvbiBsQShBKSB7CiAgICAgICAgdmFyIGUgPSBLKGgoQSkpLAogICAgICAgICAgICB0ID0gW107CiAgICAgICAgcmV0dXJuIFUoZSwgZnVuY3Rpb24gKEEpIHsKICAgICAgICAgIHMoJCwgQSkgfHwgcyhTLCBBKSB8fCB0LnB1c2goQSk7CiAgICAgICAgfSksIHQ7CiAgICAgIH0sCiAgICAgICAgICBwQSA9IGZ1bmN0aW9uIHBBKEEpIHsKICAgICAgICB2YXIgZSA9IEEgPT09IFYsCiAgICAgICAgICAgIHQgPSBLKGUgPyBxIDogaChBKSksCiAgICAgICAgICAgIG4gPSBbXTsKICAgICAgICByZXR1cm4gVSh0LCBmdW5jdGlvbiAoQSkgewogICAgICAgICAgIXMoJCwgQSkgfHwgZSAmJiAhcyhWLCBBKSB8fCBuLnB1c2goJFtBXSk7CiAgICAgICAgfSksIG47CiAgICAgIH07CgogICAgICBpZiAoYyB8fCAoX3ogPSBmdW5jdGlvbiB6KCkgewogICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgX3opIHRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIik7CgogICAgICAgIHZhciBBID0gYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IFN0cmluZyhhcmd1bWVudHNbMF0pIDogdm9pZCAwLAogICAgICAgICAgICBlID0gaihBKSwKICAgICAgICAgICAgdCA9IGZ1bmN0aW9uIHQoQSkgewogICAgICAgICAgdGhpcyA9PT0gViAmJiB0LmNhbGwocSwgQSksIHModGhpcywgRikgJiYgcyh0aGlzW0ZdLCBlKSAmJiAodGhpc1tGXVtlXSA9ICExKSwgb0EodGhpcywgZSwgRSgxLCBBKSk7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIGEgJiYgckEgJiYgb0EoViwgZSwgewogICAgICAgICAgY29uZmlndXJhYmxlOiAhMCwKICAgICAgICAgIHNldDogdAogICAgICAgIH0pLCBpQShlLCBBKTsKICAgICAgfSwgTShfeltQXSwgInRvU3RyaW5nIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBKKHRoaXMpLnRhZzsKICAgICAgfSksIE0oX3osICJ3aXRob3V0U2V0dGVyIiwgZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gaUEoaihBKSwgQSk7CiAgICAgIH0pLCBELmYgPSBzQSwgSS5mID0gY0EsIFEuZiA9IGRBLCBtLmYgPSB3LmYgPSBsQSwgeS5mID0gcEEsIEcuZiA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIGlBKFQoQSksIEEpOwogICAgICB9LCBhICYmIChaKF96W1BdLCAiZGVzY3JpcHRpb24iLCB7CiAgICAgICAgY29uZmlndXJhYmxlOiAhMCwKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHJldHVybiBKKHRoaXMpLmRlc2NyaXB0aW9uOwogICAgICAgIH0KICAgICAgfSksIGkgfHwgTShWLCAicHJvcGVydHlJc0VudW1lcmFibGUiLCBzQSwgewogICAgICAgIHVuc2FmZTogITAKICAgICAgfSkpKSwgbih7CiAgICAgICAgZ2xvYmFsOiAhMCwKICAgICAgICB3cmFwOiAhMCwKICAgICAgICBmb3JjZWQ6ICFjLAogICAgICAgIHNoYW06ICFjCiAgICAgIH0sIHsKICAgICAgICBTeW1ib2w6IF96CiAgICAgIH0pLCBVKGIodEEpLCBmdW5jdGlvbiAoQSkgewogICAgICAgIE8oQSk7CiAgICAgIH0pLCBuKHsKICAgICAgICB0YXJnZXQ6IEwsCiAgICAgICAgc3RhdDogITAsCiAgICAgICAgZm9yY2VkOiAhYwogICAgICB9LCB7CiAgICAgICAgZm9yOiBmdW5jdGlvbiBfZm9yKEEpIHsKICAgICAgICAgIHZhciBlID0gU3RyaW5nKEEpOwogICAgICAgICAgaWYgKHMoQUEsIGUpKSByZXR1cm4gQUFbZV07CgogICAgICAgICAgdmFyIHQgPSBfeihlKTsKCiAgICAgICAgICByZXR1cm4gQUFbZV0gPSB0LCBlQVt0XSA9IGUsIHQ7CiAgICAgICAgfSwKICAgICAgICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihBKSB7CiAgICAgICAgICBpZiAoIWFBKEEpKSB0aHJvdyBUeXBlRXJyb3IoQSArICIgaXMgbm90IGEgc3ltYm9sIik7CiAgICAgICAgICBpZiAocyhlQSwgQSkpIHJldHVybiBlQVtBXTsKICAgICAgICB9LAogICAgICAgIHVzZVNldHRlcjogZnVuY3Rpb24gdXNlU2V0dGVyKCkgewogICAgICAgICAgckEgPSAhMDsKICAgICAgICB9LAogICAgICAgIHVzZVNpbXBsZTogZnVuY3Rpb24gdXNlU2ltcGxlKCkgewogICAgICAgICAgckEgPSAhMTsKICAgICAgICB9CiAgICAgIH0pLCBuKHsKICAgICAgICB0YXJnZXQ6ICJPYmplY3QiLAogICAgICAgIHN0YXQ6ICEwLAogICAgICAgIGZvcmNlZDogIWMsCiAgICAgICAgc2hhbTogIWEKICAgICAgfSwgewogICAgICAgIGNyZWF0ZTogdUEsCiAgICAgICAgZGVmaW5lUHJvcGVydHk6IGNBLAogICAgICAgIGRlZmluZVByb3BlcnRpZXM6IGZBLAogICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZEEKICAgICAgfSksIG4oewogICAgICAgIHRhcmdldDogIk9iamVjdCIsCiAgICAgICAgc3RhdDogITAsCiAgICAgICAgZm9yY2VkOiAhYwogICAgICB9LCB7CiAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lczogbEEsCiAgICAgICAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiBwQQogICAgICB9KSwgbih7CiAgICAgICAgdGFyZ2V0OiAiT2JqZWN0IiwKICAgICAgICBzdGF0OiAhMCwKICAgICAgICBmb3JjZWQ6IHUoZnVuY3Rpb24gKCkgewogICAgICAgICAgeS5mKDEpOwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhBKSB7CiAgICAgICAgICByZXR1cm4geS5mKGcoQSkpOwogICAgICAgIH0KICAgICAgfSksIF8pIHsKICAgICAgICB2YXIgZ0EgPSAhYyB8fCB1KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBBID0gX3ooKTsKCiAgICAgICAgICByZXR1cm4gIltudWxsXSIgIT0gXyhbQV0pIHx8ICJ7fSIgIT0gXyh7CiAgICAgICAgICAgIGE6IEEKICAgICAgICAgIH0pIHx8ICJ7fSIgIT0gXyhPYmplY3QoQSkpOwogICAgICAgIH0pOwogICAgICAgIG4oewogICAgICAgICAgdGFyZ2V0OiAiSlNPTiIsCiAgICAgICAgICBzdGF0OiAhMCwKICAgICAgICAgIGZvcmNlZDogZ0EKICAgICAgICB9LCB7CiAgICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShBLCBlLCB0KSB7CiAgICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgICAgciA9IFtBXSwKICAgICAgICAgICAgICAgIG8gPSAxOwoKICAgICAgICAgICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBvKSB7CiAgICAgICAgICAgICAgci5wdXNoKGFyZ3VtZW50c1tvKytdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG4gPSBlLCAobChlKSB8fCB2b2lkIDAgIT09IEEpICYmICFhQShBKSkgcmV0dXJuIGQoZSkgfHwgKGUgPSBmdW5jdGlvbiBlKEEsIF9lMikgewogICAgICAgICAgICAgIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBuICYmIChfZTIgPSBuLmNhbGwodGhpcywgQSwgX2UyKSksICFhQShfZTIpKSByZXR1cm4gX2UyOwogICAgICAgICAgICB9KSwgclsxXSA9IGUsIF8uYXBwbHkobnVsbCwgcik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIF96W1BdW2tdIHx8IE4oX3pbUF0sIGssIF96W1BdLnZhbHVlT2YpLCBZKF96LCBMKSwgU1tGXSA9ICEwOwogICAgfSwKICAgIGE2OTE6IGZ1bmN0aW9uIGE2OTEoQSwgZSkgewogICAgICB2YXIgdCA9IE1hdGguY2VpbCwKICAgICAgICAgIG4gPSBNYXRoLmZsb29yOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gaXNOYU4oQSA9ICtBKSA/IDAgOiAoQSA+IDAgPyBuIDogdCkoQSk7CiAgICAgIH07CiAgICB9LAogICAgYTc2ZjogZnVuY3Rpb24gYTc2ZihBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHQoIjk5YWYiKSwgdCgiYTQzNCIpLCB0KCJiMGMwIik7CgogICAgICBmdW5jdGlvbiBuKEEsIGUpIHsKICAgICAgICBpZiAoIShBIGluc3RhbmNlb2YgZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiByKEEsIGUpIHsKICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspIHsKICAgICAgICAgIHZhciBuID0gZVt0XTsKICAgICAgICAgIG4uZW51bWVyYWJsZSA9IG4uZW51bWVyYWJsZSB8fCAhMSwgbi5jb25maWd1cmFibGUgPSAhMCwgInZhbHVlIiBpbiBuICYmIChuLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwgbi5rZXksIG4pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gbyhBLCBlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUgJiYgcihBLnByb3RvdHlwZSwgZSksIHQgJiYgcihBLCB0KSwgQTsKICAgICAgfQoKICAgICAgdmFyIGkgPSB0KCI4M2FmIik7CiAgICAgIHQuZChlLCAiYiIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gYTsKICAgICAgfSksIHQuZChlLCAiYSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gYzsKICAgICAgfSk7CgogICAgICB2YXIgYSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBmdW5jdGlvbiBBKGUpIHsKICAgICAgICAgIG4odGhpcywgQSk7CiAgICAgICAgICB2YXIgdCA9IGUuaWQsCiAgICAgICAgICAgICAgciA9IGUuaXNfbGVhZjsKCiAgICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMuaWQgPSAidW5kZWZpbmVkIiA9PT0gdHlwZW9mIHQgPyBuZXcgRGF0ZSgpLnZhbHVlT2YoKSA6IHQsIHRoaXMucGFyZW50ID0gbnVsbCwgdGhpcy5jaGlsZHJlbiA9IG51bGwsIHRoaXMuaXNfbGVhZiA9ICEhciwgZSkgewogICAgICAgICAgICAiaWQiICE9PSBvICYmICJjaGlsZHJlbiIgIT09IG8gJiYgImlzX2xlYWYiICE9PSBvICYmICh0aGlzW29dID0gZVtvXSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbyhBLCBbewogICAgICAgICAga2V5OiAiY2hhbmdlTmFtZSIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoQSkgewogICAgICAgICAgICB0aGlzLm5hbWUgPSBBOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImFkZENoaWxkcmVuIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuIHx8ICh0aGlzLmNoaWxkcmVuID0gW10pLCBBcnJheS5pc0FycmF5KEEpKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgZSA9IDAsIHQgPSBBLmxlbmd0aDsgZSA8IHQ7IGUrKykgewogICAgICAgICAgICAgICAgdmFyIG4gPSBBW2VdOwogICAgICAgICAgICAgICAgbi5wYXJlbnQgPSB0aGlzLCBuLnBpZCA9IHRoaXMuaWQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmNvbmNhdChBKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgciA9IEE7CiAgICAgICAgICAgICAgci5wYXJlbnQgPSB0aGlzLCByLnBpZCA9IHRoaXMuaWQsIHRoaXMuY2hpbGRyZW4ucHVzaChyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogInJlbW92ZSIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgICAgICAgIHZhciBBID0gdGhpcy5wYXJlbnQsCiAgICAgICAgICAgICAgICBlID0gQS5maW5kQ2hpbGRJbmRleCh0aGlzKTsKICAgICAgICAgICAgQS5jaGlsZHJlbi5zcGxpY2UoZSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiX3JlbW92ZUNoaWxkIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgIGZvciAodmFyIGUgPSAwLCB0ID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGUgPCB0OyBlKyspIHsKICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltlXSA9PT0gQSkgewogICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoZSwgMSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJpc1RhcmdldENoaWxkIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgIHZhciBlID0gQS5wYXJlbnQ7CgogICAgICAgICAgICB3aGlsZSAoZSkgewogICAgICAgICAgICAgIGlmIChlID09PSB0aGlzKSByZXR1cm4gITA7CiAgICAgICAgICAgICAgZSA9IGUucGFyZW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAibW92ZUludG8iLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKEEpIHsKICAgICAgICAgICAgInJvb3QiICE9PSB0aGlzLm5hbWUgJiYgdGhpcyAhPT0gQSAmJiAodGhpcy5pc1RhcmdldENoaWxkKEEpIHx8IEEuaXNfbGVhZiB8fCAodGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkKHRoaXMpLCB0aGlzLnBhcmVudCA9IEEsIHRoaXMucGlkID0gQS5pZCwgQS5jaGlsZHJlbiB8fCAoQS5jaGlsZHJlbiA9IFtdKSwgQS5jaGlsZHJlbi51bnNoaWZ0KHRoaXMpKSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiZmluZENoaWxkSW5kZXgiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKEEpIHsKICAgICAgICAgICAgZm9yICh2YXIgZSwgdCA9IDAsIG4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgdCA8IG47IHQrKykgewogICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW3RdID09PSBBKSB7CiAgICAgICAgICAgICAgICBlID0gdDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiX2Nhbkluc2VydCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoQSkgewogICAgICAgICAgICByZXR1cm4gInJvb3QiICE9PSB0aGlzLm5hbWUgJiYgdGhpcyAhPT0gQSAmJiAhdGhpcy5pc1RhcmdldENoaWxkKEEpICYmICh0aGlzLnBhcmVudC5fcmVtb3ZlQ2hpbGQodGhpcyksIHRoaXMucGFyZW50ID0gQS5wYXJlbnQsIHRoaXMucGlkID0gQS5wYXJlbnQuaWQsICEwKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJpbnNlcnRCZWZvcmUiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKEEpIHsKICAgICAgICAgICAgaWYgKHRoaXMuX2Nhbkluc2VydChBKSkgewogICAgICAgICAgICAgIHZhciBlID0gQS5wYXJlbnQuZmluZENoaWxkSW5kZXgoQSk7CiAgICAgICAgICAgICAgQS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGUsIDAsIHRoaXMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiaW5zZXJ0QWZ0ZXIiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKEEpIHsKICAgICAgICAgICAgaWYgKHRoaXMuX2Nhbkluc2VydChBKSkgewogICAgICAgICAgICAgIHZhciBlID0gQS5wYXJlbnQuZmluZENoaWxkSW5kZXgoQSk7CiAgICAgICAgICAgICAgQS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGUgKyAxLCAwLCB0aGlzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogInRvU3RyaW5nIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsKICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KE9iamVjdChpWyJjIl0pKHRoaXMpKTsKICAgICAgICAgIH0KICAgICAgICB9XSksIEE7CiAgICAgIH0oKSwKICAgICAgICAgIGMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gQShlKSB7CiAgICAgICAgICByZXR1cm4gbih0aGlzLCBBKSwgdGhpcy5yb290ID0gbmV3IGEoewogICAgICAgICAgICBuYW1lOiAicm9vdCIsCiAgICAgICAgICAgIGlzX2xlYWY6ICExLAogICAgICAgICAgICBpZDogMAogICAgICAgICAgfSksIHRoaXMuaW5pdE5vZGUodGhpcy5yb290LCBlKSwgdGhpcy5yb290OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG8oQSwgW3sKICAgICAgICAgIGtleTogImluaXROb2RlIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBLCBlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwLCBuID0gZS5sZW5ndGg7IHQgPCBuOyB0KyspIHsKICAgICAgICAgICAgICB2YXIgciA9IGVbdF0sCiAgICAgICAgICAgICAgICAgIG8gPSBuZXcgYShyKTsKICAgICAgICAgICAgICByLmNoaWxkcmVuICYmIHIuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiB0aGlzLmluaXROb2RlKG8sIHIuY2hpbGRyZW4pLCBBLmFkZENoaWxkcmVuKG8pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfV0pLCBBOwogICAgICB9KCk7CiAgICB9LAogICAgYWUxZTogZnVuY3Rpb24gYWUxZShBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9ICJkYXRhOmZvbnQvd29mZjtiYXNlNjQsZDA5R1JnQUJBQUFBQUFpSUFBc0FBQUFBQ0R3QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJQVXk4eUFBQUJDQUFBQUdBQUFBQmdEeElGK0dOdFlYQUFBQUZvQUFBQVZBQUFBRlFYVnRLT1oyRnpjQUFBQWJ3QUFBQUlBQUFBQ0FBQUFCQm5iSGxtQUFBQnhBQUFCRlFBQUFSVVhWOElYR2hsWVdRQUFBWVlBQUFBTmdBQUFEWU9UaXFqYUdobFlRQUFCbEFBQUFBa0FBQUFKQWZDQTgxb2JYUjRBQUFHZEFBQUFEQUFBQUF3SmdBRWZHeHZZMkVBQUFha0FBQUFHZ0FBQUJvRnBBUk1iV0Y0Y0FBQUJzQUFBQUFnQUFBQUlBQVNBSEJ1WVcxbEFBQUc0QUFBQVlZQUFBR0dtVW9KKzNCdmMzUUFBQWhvQUFBQUlBQUFBQ0FBQXdBQUFBTUR4d0dRQUFVQUFBS1pBc3dBQUFDUEFwa0N6QUFBQWVzQU13RUpBQUFBQUFBQUFBQUFBQUFBQUFBQUFSQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVFBQUE2UWNEd1AvQUFFQUR3QUJBQUFBQUFRQUFBQUFBQUFBQUFBQUFJQUFBQUFBQUF3QUFBQU1BQUFBY0FBRUFBd0FBQUJ3QUF3QUJBQUFBSEFBRUFEZ0FBQUFLQUFnQUFnQUNBQUVBSU9rSC8vMy8vd0FBQUFBQUlPa0EvLzMvL3dBQi8rTVhCQUFEQUFFQUFBQUFBQUFBQUFBQUFBRUFBZi8vQUE4QUFRQUFBQUFBQUFBQUFBSUFBRGM1QVFBQUFBQUJBQUFBQUFBQUFBQUFBZ0FBTnprQkFBQUFBQUVBQUFBQUFBQUFBQUFDQUFBM09RRUFBQUFBQVFFeUFKc0Nld0xsQUJJQUFBRVVCd0VHSXlJbkpqVVJORGMyTXpJWEFSWUNld3YvQUFvUER3c0xDd3NQRHdvQkFBc0J3QThML3dBTEN3c1BBZ0FQQ3dzTC93QUxBQUFBQVFEYkFTNERKUUozQUJJQUFBRWlKd0VtTlRRM05qTWhNaGNXRlFZSEFRWUNBQThML3dBTEN3c1BBZ0FQQ3dzQkN2OEFDd0V1Q3dFQUNnOFBDd3NMQ3c4UEN2OEFDd0FBQWdDcEFJSURSQU1jQUNZQU5BQUFBU0lHRlJFVUJpTWhJaVkxRVRRMk15RXlOalUwSmlNaElnWVZFUlFXTXlFeU5qVVJOQ1lqQlJZeU53RTJOQ2NtSWdjQkJoUURNQWdNR0JIK0J4QVlHQkFCV0FnTURBaitsQmtrSkJrQ0loa2pEQWorY1FZUkJnRnJCZ1lHRVFiK2xRWUNVZ3dJL3BRUUdCZ1FBZmtSR0F3SUNBd2pHZjNlR1NNakdRR0FDQXpGQmdZQmJRWVJCZ1lHL3BNR0VRQUFBQUlBQUFDT0JBQUR3QUFtQUVZQUFBRWhKeTRCQnlNaUJoVVJGek1lQVRNaE5TRUhFVFEyTXpjWEhnRXpJVElXSFFFek5UUW1JeE1qTlRRbUl5SUdIUUVqSWdZVkZCWTdBUlVVRmpNeU5qMEJNekkyTlRRbUE3TDkzQ3NOSEFYbklTMEdGQWdUQ2dIOS9oSU5DQVhqS3dVWUVnSW5CZ2RCTFNFcWpoVU9EeFdPRHhVVkQ0NFZEdzRWamc4VkZRTjBOQkFKQVM0Zy9WQW9CZ1pDQVFLakJRY0JOUWdQQndYTHl5QXQvaE9PRHhVVkQ0NFZEZzhWamc4VkZRK09GUThPRlFBQUFBQUJBSUFBUUFOL0F6MEFJQUFBQVNFUk5DWWpJZ1lWRVNFaUJoVUdGak1oRVJRV016STJOUkVoTWpZMU5DWWpBMS8rd3hNTkRSUCt2ZzRTQVJNTkFVTVREUTBUQVQwTkV4SU9BZDhCUGcwVEV3Myt3aE1ORFJQK3dRNFNFZzRCUHhJT0RSTUFCUUJBQUFBRHdBT0FBQklBSkFCRUFFOEFiUUFBSlNJbU5SRTBOak15RmhVUk9BRXhGQVlqTVNNaUpqVVJORFl6TWhZVkVUZ0JNUlFHSXdFak5UUW1JeUVpQmgwQkl5SUdGUlFXTXlFNEFURXlOalU0QVRrQk5DWWpKVFEyTXlFeUZoMEJJVFVCSVNJbU5SRTBOak15RmhVUkZCWXpJVEkyTlJFME5qTXlGaFVSRkFZQ1lBMFRFdzBORXhNTndBMFRFdzBORXhNTkFnQ2dPQ2YrdnlnNG9BMFRFdzBEUUEwVEV3MzlvQk1OQVVFTkV2NkFBYUQrUUNnNEV3ME5FeE1OQWNBT0VoTU5EaEk0d0JNTkFXQU5FeE1OL3FBTkV4TU5BV0FORXhNTi9xQU5Fd0lnUUNnNE9DaEFFdzBORXhNTkRSTkFEUk1URFVCQS9PQTRLQUhnRGhJU0R2NGdEUk1URFFIZkRSTVREZjRoS0RnQUF3Qy9BRUFEUHdOQUFBVUFDQUFQQUFBQklSRWhFU2NmQVNNQkVTRVZNeEVoQW0zK1VnS0EwaE5TVXY1L0FVREEvZ0FEUVAwQUFpM1RiVlArQVFKL3dQNUJBQUFEQUVjQVJ3T3lBellBRlFBYUFCOEFBQUVoSnk0Qkt3RWlCaFVSRkJZeklUSTJOUkUwSmlNaE5UTVhJUlVoRVNFUkE0aithSTBHRWdyUEVoa1pFZ01XRVJrWkVmejB3R0wrM2dNQi9QOENyM1lJQ1JrUy9XWVNHQmdTQWhRUkdWSlNOZjRDQWY0QUFBRUFBQUFBQUFDQWY3clRYdzg4OVFBTEJBQUFBQUFBMVpoeTh3QUFBQURWbUhMekFBQUFBQVFBQThBQUFBQUlBQUlBQUFBQUFBQUFBUUFBQThEL3dBQUFCQUFBQUFBQUJBQUFBUUFBQUFBQUFBQUFBQUFBQUFBQUFBd0VBQUFBQUFBQUFBQUFBQUFDQUFBQUJBQUJNZ1FBQU5zRUFBQ3BCQUFBQUFRQUFJQUVBQUJBQkFBQXZ3UUFBRWNBQUFBQUFBb0FGQUFlQUVJQVpnQzJBUmdCU2dIVUFmWUNLZ0FBQUFFQUFBQU1BRzRBQlFBQUFBQUFBZ0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFPQUs0QUFRQUFBQUFBQVFBSEFBQUFBUUFBQUFBQUFnQUhBR0FBQVFBQUFBQUFBd0FIQURZQUFRQUFBQUFBQkFBSEFIVUFBUUFBQUFBQUJRQUxBQlVBQVFBQUFBQUFCZ0FIQUVzQUFRQUFBQUFBQ2dBYUFJb0FBd0FCQkFrQUFRQU9BQWNBQXdBQkJBa0FBZ0FPQUdjQUF3QUJCQWtBQXdBT0FEMEFBd0FCQkFrQUJBQU9BSHdBQXdBQkJBa0FCUUFXQUNBQUF3QUJCQWtBQmdBT0FGSUFBd0FCQkFrQUNnQTBBS1JwWTI5dGIyOXVBR2tBWXdCdkFHMEFid0J2QUc1V1pYSnphVzl1SURFdU1BQldBR1VBY2dCekFHa0Fid0J1QUNBQU1RQXVBREJwWTI5dGIyOXVBR2tBWXdCdkFHMEFid0J2QUc1cFkyOXRiMjl1QUdrQVl3QnZBRzBBYndCdkFHNVNaV2QxYkdGeUFGSUFaUUJuQUhVQWJBQmhBSEpwWTI5dGIyOXVBR2tBWXdCdkFHMEFid0J2QUc1R2IyNTBJR2RsYm1WeVlYUmxaQ0JpZVNCSlkyOU5iMjl1TGdCR0FHOEFiZ0IwQUNBQVp3QmxBRzRBWlFCeUFHRUFkQUJsQUdRQUlBQmlBSGtBSUFCSkFHTUFid0JOQUc4QWJ3QnVBQzRBQUFBREFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEiOwogICAgfSwKICAgIGIwYzA6IGZ1bmN0aW9uIGIwYzAoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjgzYWIiKSwKICAgICAgICAgIHIgPSB0KCI5YmYyIikuZiwKICAgICAgICAgIG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsCiAgICAgICAgICBpID0gby50b1N0cmluZywKICAgICAgICAgIGEgPSAvXlxzKmZ1bmN0aW9uIChbXiAoXSopLywKICAgICAgICAgIGMgPSAibmFtZSI7CiAgICAgICFuIHx8IGMgaW4gbyB8fCByKG8sIGMsIHsKICAgICAgICBjb25maWd1cmFibGU6ICEwLAogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGkuY2FsbCh0aGlzKS5tYXRjaChhKVsxXTsKICAgICAgICAgIH0gY2F0Y2ggKEEpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYjJiOTogZnVuY3Rpb24gYjJiOShBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHQucihlKTsKCiAgICAgIHZhciBuID0gZnVuY3Rpb24gbigpIHsKICAgICAgICB2YXIgQSA9IHRoaXMsCiAgICAgICAgICAgIGUgPSBBLiRjcmVhdGVFbGVtZW50LAogICAgICAgICAgICB0ID0gQS5fc2VsZi5fYyB8fCBlOwogICAgICAgIHJldHVybiB0KCJkaXYiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bCIKICAgICAgICB9LCBbInJvb3QiICE9PSBBLm1vZGVsLm5hbWUgPyB0KCJkaXYiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1ub2RlIiwKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICJ2dGwtbGVhZi1ub2RlIjogQS5tb2RlbC5pc19sZWFmLAogICAgICAgICAgICAidnRsLXRyZWUtbm9kZSI6ICFBLm1vZGVsLmlzX2xlYWYKICAgICAgICAgIH0sCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICBpZDogQS5tb2RlbC5pZAogICAgICAgICAgfQogICAgICAgIH0sIFt0KCJkaXYiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1ib3JkZXIgdnRsLXVwIiwKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICJ2dGwtYWN0aXZlIjogQS5pc0RyYWdFbnRlclVwCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgZHJvcDogQS5kcm9wQmVmb3JlLAogICAgICAgICAgICBkcmFnZW50ZXI6IEEuZHJhZ0VudGVyVXAsCiAgICAgICAgICAgIGRyYWdvdmVyOiBBLmRyYWdPdmVyVXAsCiAgICAgICAgICAgIGRyYWdsZWF2ZTogQS5kcmFnTGVhdmVVcAogICAgICAgICAgfQogICAgICAgIH0pLCB0KCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogQS50cmVlTm9kZUNsYXNzLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgZHJhZ2dhYmxlOiAhQS5tb2RlbC5kcmFnRGlzYWJsZWQKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBkcmFnc3RhcnQ6IEEuZHJhZ1N0YXJ0LAogICAgICAgICAgICBkcmFnb3ZlcjogQS5kcmFnT3ZlciwKICAgICAgICAgICAgZHJhZ2VudGVyOiBBLmRyYWdFbnRlciwKICAgICAgICAgICAgZHJhZ2xlYXZlOiBBLmRyYWdMZWF2ZSwKICAgICAgICAgICAgZHJvcDogQS5kcm9wLAogICAgICAgICAgICBkcmFnZW5kOiBBLmRyYWdFbmQsCiAgICAgICAgICAgIG1vdXNlb3ZlcjogQS5tb3VzZU92ZXIsCiAgICAgICAgICAgIG1vdXNlb3V0OiBBLm1vdXNlT3V0LAogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLCBBLmNsaWNrKGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgW0EubW9kZWwuY2hpbGRyZW4gJiYgQS5tb2RlbC5jaGlsZHJlbi5sZW5ndGggPiAwID8gdCgic3BhbiIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWNhcmV0IHZ0bC1pcy1zbWFsbCIKICAgICAgICB9LCBbdCgiaSIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWljb24iLAogICAgICAgICAgY2xhc3M6IEEuY2FyZXRDbGFzcywKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgQS50b2dnbGUoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KV0pIDogQS5fZSgpLCBBLm1vZGVsLmlzX2xlYWYgPyB0KCJzcGFuIiwgW0EuX3QoImxlYWZOb2RlSWNvbiIsIFt0KCJpIiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtaWNvbiB2dGwtbWVudS1pY29uIHZ0bC1pY29uLWZpbGUiCiAgICAgICAgfSldLCB7CiAgICAgICAgICBleHBhbmRlZDogQS5leHBhbmRlZCwKICAgICAgICAgIG1vZGVsOiBBLm1vZGVsLAogICAgICAgICAgcm9vdDogQS5yb290Tm9kZQogICAgICAgIH0pXSwgMikgOiB0KCJzcGFuIiwgW0EuX3QoInRyZWVOb2RlSWNvbiIsIFt0KCJpIiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtaWNvbiB2dGwtbWVudS1pY29uIHZ0bC1pY29uLWZvbGRlciIKICAgICAgICB9KV0sIHsKICAgICAgICAgIGV4cGFuZGVkOiBBLmV4cGFuZGVkLAogICAgICAgICAgbW9kZWw6IEEubW9kZWwsCiAgICAgICAgICByb290OiBBLnJvb3ROb2RlCiAgICAgICAgfSldLCAyKSwgQS5lZGl0YWJsZSA/IHQoImlucHV0IiwgewogICAgICAgICAgcmVmOiAibm9kZUlucHV0IiwKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWlucHV0IiwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IgogICAgICAgICAgfSwKICAgICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAgIHZhbHVlOiBBLm1vZGVsLm5hbWUKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBpbnB1dDogQS51cGRhdGVOYW1lLAogICAgICAgICAgICBibHVyOiBBLnNldFVuRWRpdGFibGUKICAgICAgICAgIH0KICAgICAgICB9KSA6IHQoImRpdiIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLW5vZGUtY29udGVudCIKICAgICAgICB9LCBbQS5fdCgibGVhZk5hbWVEaXNwbGF5IiwgW0EuX3YoIiAiICsgQS5fcyhBLm1vZGVsLm5hbWUpICsgIiAiKV0sIHsKICAgICAgICAgIGV4cGFuZGVkOiBBLmV4cGFuZGVkLAogICAgICAgICAgbW9kZWw6IEEubW9kZWwsCiAgICAgICAgICByb290OiBBLnJvb3ROb2RlCiAgICAgICAgfSldLCAyKSwgdCgiZGl2IiwgewogICAgICAgICAgZGlyZWN0aXZlczogW3sKICAgICAgICAgICAgbmFtZTogInNob3ciLAogICAgICAgICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgICAgICAgdmFsdWU6IEEuaXNIb3ZlciwKICAgICAgICAgICAgZXhwcmVzc2lvbjogImlzSG92ZXIiCiAgICAgICAgICB9XSwKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLW9wZXJhdGlvbiIKICAgICAgICB9LCBbQS5tb2RlbC5pc19sZWFmIHx8IEEubW9kZWwuYWRkVHJlZU5vZGVEaXNhYmxlZCA/IEEuX2UoKSA6IHQoInNwYW4iLCB7CiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICB0aXRsZTogQS5kZWZhdWx0QWRkVHJlZU5vZGVUaXRsZQogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgQS5hZGRDaGlsZCghMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbQS5fdCgiYWRkVHJlZU5vZGVJY29uIiwgW3QoImkiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1pY29uIHZ0bC1pY29uLWZvbGRlci1wbHVzLWUiCiAgICAgICAgfSldLCB7CiAgICAgICAgICBleHBhbmRlZDogQS5leHBhbmRlZCwKICAgICAgICAgIG1vZGVsOiBBLm1vZGVsLAogICAgICAgICAgcm9vdDogQS5yb290Tm9kZQogICAgICAgIH0pXSwgMiksIEEubW9kZWwuaXNfbGVhZiB8fCBBLm1vZGVsLmFkZExlYWZOb2RlRGlzYWJsZWQgPyBBLl9lKCkgOiB0KCJzcGFuIiwgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGl0bGU6IEEuZGVmYXVsdEFkZExlYWZOb2RlVGl0bGUKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIEEuYWRkQ2hpbGQoITApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgW0EuX3QoImFkZExlYWZOb2RlSWNvbiIsIFt0KCJpIiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtaWNvbiB2dGwtaWNvbi1wbHVzIgogICAgICAgIH0pXSwgewogICAgICAgICAgZXhwYW5kZWQ6IEEuZXhwYW5kZWQsCiAgICAgICAgICBtb2RlbDogQS5tb2RlbCwKICAgICAgICAgIHJvb3Q6IEEucm9vdE5vZGUKICAgICAgICB9KV0sIDIpLCBBLm1vZGVsLmVkaXROb2RlRGlzYWJsZWQgPyBBLl9lKCkgOiB0KCJzcGFuIiwgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGl0bGU6ICJlZGl0IgogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgQS5zZXRFZGl0YWJsZShlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFtBLl90KCJlZGl0Tm9kZUljb24iLCBbdCgiaSIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWljb24gdnRsLWljb24tZWRpdCIKICAgICAgICB9KV0sIHsKICAgICAgICAgIGV4cGFuZGVkOiBBLmV4cGFuZGVkLAogICAgICAgICAgbW9kZWw6IEEubW9kZWwsCiAgICAgICAgICByb290OiBBLnJvb3ROb2RlCiAgICAgICAgfSldLCAyKSwgQS5tb2RlbC5kZWxOb2RlRGlzYWJsZWQgPyBBLl9lKCkgOiB0KCJzcGFuIiwgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGl0bGU6ICJEZWxldGUiCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCBBLmRlbE5vZGUoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbQS5fdCgiZGVsTm9kZUljb24iLCBbdCgiaSIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWljb24gdnRsLWljb24tdHJhc2giCiAgICAgICAgfSldLCB7CiAgICAgICAgICBleHBhbmRlZDogQS5leHBhbmRlZCwKICAgICAgICAgIG1vZGVsOiBBLm1vZGVsLAogICAgICAgICAgcm9vdDogQS5yb290Tm9kZQogICAgICAgIH0pXSwgMildKV0pLCBBLm1vZGVsLmNoaWxkcmVuICYmIEEubW9kZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiBBLmV4cGFuZGVkID8gdCgiZGl2IiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtYm9yZGVyIHZ0bC1ib3R0b20iLAogICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgInZ0bC1hY3RpdmUiOiBBLmlzRHJhZ0VudGVyQm90dG9tCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgZHJvcDogQS5kcm9wQWZ0ZXIsCiAgICAgICAgICAgIGRyYWdlbnRlcjogQS5kcmFnRW50ZXJCb3R0b20sCiAgICAgICAgICAgIGRyYWdvdmVyOiBBLmRyYWdPdmVyQm90dG9tLAogICAgICAgICAgICBkcmFnbGVhdmU6IEEuZHJhZ0xlYXZlQm90dG9tCiAgICAgICAgICB9CiAgICAgICAgfSkgOiBBLl9lKCldKSA6IEEuX2UoKSwgQS5pc0ZvbGRlciA/IHQoImRpdiIsIHsKICAgICAgICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgICAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgICAgICAgIHZhbHVlOiAicm9vdCIgPT09IEEubW9kZWwubmFtZSB8fCBBLmV4cGFuZGVkLAogICAgICAgICAgICBleHByZXNzaW9uOiAibW9kZWwubmFtZSA9PT0gJ3Jvb3QnIHx8IGV4cGFuZGVkIgogICAgICAgICAgfV0sCiAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAidnRsLXRyZWUtbWFyZ2luIjogInJvb3QiICE9PSBBLm1vZGVsLm5hbWUKICAgICAgICAgIH0KICAgICAgICB9LCBBLl9sKEEubW9kZWwuY2hpbGRyZW4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gdCgiaXRlbSIsIHsKICAgICAgICAgICAga2V5OiBlLmlkLAogICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICJkZWZhdWx0LXRyZWUtbm9kZS1uYW1lIjogQS5kZWZhdWx0VHJlZU5vZGVOYW1lLAogICAgICAgICAgICAgICJkZWZhdWx0LWxlYWYtbm9kZS1uYW1lIjogQS5kZWZhdWx0TGVhZk5vZGVOYW1lLAogICAgICAgICAgICAgICJkZWZhdWx0LWV4cGFuZGVkIjogQS5kZWZhdWx0RXhwYW5kZWQsCiAgICAgICAgICAgICAgbW9kZWw6IGUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IEEuX3UoW3sKICAgICAgICAgICAgICBrZXk6ICJsZWFmTmFtZURpc3BsYXkiLAogICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW0EuX3QoImxlYWZOYW1lRGlzcGxheSIsIG51bGwsIG51bGwsIGUpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBrZXk6ICJhZGRUcmVlTm9kZUljb24iLAogICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW0EuX3QoImFkZFRyZWVOb2RlSWNvbiIsIG51bGwsIG51bGwsIGUpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBrZXk6ICJhZGRMZWFmTm9kZUljb24iLAogICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW0EuX3QoImFkZExlYWZOb2RlSWNvbiIsIG51bGwsIG51bGwsIGUpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBrZXk6ICJlZGl0Tm9kZUljb24iLAogICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW0EuX3QoImVkaXROb2RlSWNvbiIsIG51bGwsIG51bGwsIGUpXTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBrZXk6ICJkZWxOb2RlSWNvbiIsCiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbQS5fdCgiZGVsTm9kZUljb24iLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAga2V5OiAibGVhZk5vZGVJY29uIiwKICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtBLl90KCJsZWFmTm9kZUljb24iLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAga2V5OiAidHJlZU5vZGVJY29uIiwKICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtBLl90KCJ0cmVlTm9kZUljb24iLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9XSwgbnVsbCwgITApCiAgICAgICAgICB9KTsKICAgICAgICB9KSwgMSkgOiBBLl9lKCldKTsKICAgICAgfSwKICAgICAgICAgIHIgPSBbXTsKCiAgICAgIHQoImE0ZDMiKSwgdCgiNGRlNCIpLCB0KCJiMGMwIiksIHQoImU0MzkiKSwgdCgiZGJiNCIpLCB0KCJiNjRiIiksIHQoIjE1OWIiKTsKCiAgICAgIGZ1bmN0aW9uIG8oQSwgZSwgdCkgewogICAgICAgIHJldHVybiBlIGluIEEgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwgZSwgewogICAgICAgICAgdmFsdWU6IHQsCiAgICAgICAgICBlbnVtZXJhYmxlOiAhMCwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsCiAgICAgICAgICB3cml0YWJsZTogITAKICAgICAgICB9KSA6IEFbZV0gPSB0LCBBOwogICAgICB9CgogICAgICB2YXIgaSA9IHQoImE3NmYiKSwKICAgICAgICAgIGEgPSB0KCI4M2FmIik7CgogICAgICBmdW5jdGlvbiBjKEEsIGUpIHsKICAgICAgICB2YXIgdCA9IE9iamVjdC5rZXlzKEEpOwoKICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgICAgICAgdmFyIG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKEEpOwogICAgICAgICAgZSAmJiAobiA9IG4uZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEEsIGUpLmVudW1lcmFibGU7CiAgICAgICAgICB9KSksIHQucHVzaC5hcHBseSh0LCBuKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0OwogICAgICB9CgogICAgICBmdW5jdGlvbiBmKEEpIHsKICAgICAgICBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgewogICAgICAgICAgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tlXSA/IGFyZ3VtZW50c1tlXSA6IHt9OwogICAgICAgICAgZSAlIDIgPyBjKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgbyhBLCBlLCB0W2VdKTsKICAgICAgICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhBLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBjKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwgZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCBlKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBBOwogICAgICB9CgogICAgICB2YXIgdSA9IG51bGwsCiAgICAgICAgICBzID0gewogICAgICAgIG5hbWU6ICJ2dWUtdHJlZS1saXN0IiwKICAgICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNIb3ZlcjogITEsCiAgICAgICAgICAgIGVkaXRhYmxlOiAhMSwKICAgICAgICAgICAgaXNEcmFnRW50ZXJVcDogITEsCiAgICAgICAgICAgIGlzRHJhZ0VudGVyQm90dG9tOiAhMSwKICAgICAgICAgICAgaXNEcmFnRW50ZXJOb2RlOiAhMSwKICAgICAgICAgICAgZXhwYW5kZWQ6IHRoaXMuZGVmYXVsdEV4cGFuZGVkCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdAogICAgICAgICAgfSwKICAgICAgICAgIGRlZmF1bHRMZWFmTm9kZU5hbWU6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAiTGVhZiBOb2RlIgogICAgICAgICAgfSwKICAgICAgICAgIGRlZmF1bHRUcmVlTm9kZU5hbWU6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAiVHJlZSBOb2RlIgogICAgICAgICAgfSwKICAgICAgICAgIGRlZmF1bHRBZGRUcmVlTm9kZVRpdGxlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogIkFkZCBDaGlsZCBOb2RlIgogICAgICAgICAgfSwKICAgICAgICAgIGRlZmF1bHRBZGRMZWFmTm9kZVRpdGxlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogIkFkZCBMZWFmIE5vZGUiCiAgICAgICAgICB9LAogICAgICAgICAgZGVmYXVsdEV4cGFuZGVkOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6ICEwCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZDogewogICAgICAgICAgcm9vdE5vZGU6IGZ1bmN0aW9uIHJvb3ROb2RlKCkgewogICAgICAgICAgICB2YXIgQSA9IHRoaXMuJHBhcmVudDsKCiAgICAgICAgICAgIHdoaWxlICgicm9vdCIgIT09IEEuX3Byb3BzLm1vZGVsLm5hbWUpIHsKICAgICAgICAgICAgICBBID0gQS4kcGFyZW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gQTsKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJldENsYXNzOiBmdW5jdGlvbiBjYXJldENsYXNzKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5leHBhbmRlZCA/ICJ2dGwtaWNvbi1jYXJldC1kb3duIiA6ICJ2dGwtaWNvbi1jYXJldC1yaWdodCI7CiAgICAgICAgICB9LAogICAgICAgICAgaXNGb2xkZXI6IGZ1bmN0aW9uIGlzRm9sZGVyKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5jaGlsZHJlbiAmJiB0aGlzLm1vZGVsLmNoaWxkcmVuLmxlbmd0aDsKICAgICAgICAgIH0sCiAgICAgICAgICB0cmVlTm9kZUNsYXNzOiBmdW5jdGlvbiB0cmVlTm9kZUNsYXNzKCkgewogICAgICAgICAgICB2YXIgQSA9IHRoaXMubW9kZWwsCiAgICAgICAgICAgICAgICBlID0gQS5kcmFnRGlzYWJsZWQsCiAgICAgICAgICAgICAgICB0ID0gQS5kaXNhYmxlZCwKICAgICAgICAgICAgICAgIG4gPSB0aGlzLmlzRHJhZ0VudGVyTm9kZTsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAidnRsLW5vZGUtbWFpbiI6ICEwLAogICAgICAgICAgICAgICJ2dGwtYWN0aXZlIjogbiwKICAgICAgICAgICAgICAidnRsLWRyYWctZGlzYWJsZWQiOiBlLAogICAgICAgICAgICAgICJ2dGwtZGlzYWJsZWQiOiB0CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgICAgICAgIHRoaXMuJG9wdGlvbnMuY29tcG9uZW50cy5pdGVtID0gdCgiYjJiOSIpLmRlZmF1bHQ7CiAgICAgICAgfSwKICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgICAgdmFyIEEgPSB0aGlzOwogICAgICAgICAgT2JqZWN0KGFbImEiXSkod2luZG93LCAia2V5dXAiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAxMyA9PT0gZS5rZXlDb2RlICYmIEEuZWRpdGFibGUgJiYgKEEuZWRpdGFibGUgPSAhMSk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgICBPYmplY3QoYVsiYiJdKSh3aW5kb3csICJrZXl1cCIpOwogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgdXBkYXRlTmFtZTogZnVuY3Rpb24gdXBkYXRlTmFtZShBKSB7CiAgICAgICAgICAgIHZhciBlID0gdGhpcy5tb2RlbC5uYW1lOwogICAgICAgICAgICB0aGlzLm1vZGVsLmNoYW5nZU5hbWUoQS50YXJnZXQudmFsdWUpLCB0aGlzLnJvb3ROb2RlLiRlbWl0KCJjaGFuZ2UtbmFtZSIsIHsKICAgICAgICAgICAgICBpZDogdGhpcy5tb2RlbC5pZCwKICAgICAgICAgICAgICBvbGROYW1lOiBlLAogICAgICAgICAgICAgIG5ld05hbWU6IEEudGFyZ2V0LnZhbHVlLAogICAgICAgICAgICAgIG5vZGU6IHRoaXMubW9kZWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgZGVsTm9kZTogZnVuY3Rpb24gZGVsTm9kZSgpIHsKICAgICAgICAgICAgdGhpcy5yb290Tm9kZS4kZW1pdCgiZGVsZXRlLW5vZGUiLCB0aGlzLm1vZGVsKTsKICAgICAgICAgIH0sCiAgICAgICAgICBzZXRFZGl0YWJsZTogZnVuY3Rpb24gc2V0RWRpdGFibGUoKSB7CiAgICAgICAgICAgIHZhciBBID0gdGhpczsKICAgICAgICAgICAgdGhpcy5lZGl0YWJsZSA9ICEwLCB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdmFyIGUgPSBBLiRyZWZzLm5vZGVJbnB1dDsKICAgICAgICAgICAgICBlLmZvY3VzKCksIGUuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgZS52YWx1ZS5sZW5ndGgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICBzZXRVbkVkaXRhYmxlOiBmdW5jdGlvbiBzZXRVbkVkaXRhYmxlKEEpIHsKICAgICAgICAgICAgdGhpcy5lZGl0YWJsZSA9ICExOwogICAgICAgICAgICB2YXIgZSA9IHRoaXMubW9kZWwubmFtZTsKICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VOYW1lKEEudGFyZ2V0LnZhbHVlKSwgdGhpcy5yb290Tm9kZS4kZW1pdCgiY2hhbmdlLW5hbWUiLCB7CiAgICAgICAgICAgICAgaWQ6IHRoaXMubW9kZWwuaWQsCiAgICAgICAgICAgICAgb2xkTmFtZTogZSwKICAgICAgICAgICAgICBuZXdOYW1lOiBBLnRhcmdldC52YWx1ZSwKICAgICAgICAgICAgICBldmVudFR5cGU6ICJibHVyIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgICAgICAgdGhpcy5pc0ZvbGRlciAmJiAodGhpcy5leHBhbmRlZCA9ICF0aGlzLmV4cGFuZGVkKTsKICAgICAgICAgIH0sCiAgICAgICAgICBtb3VzZU92ZXI6IGZ1bmN0aW9uIG1vdXNlT3ZlcigpIHsKICAgICAgICAgICAgdGhpcy5tb2RlbC5kaXNhYmxlZCB8fCAodGhpcy5pc0hvdmVyID0gITApOwogICAgICAgICAgfSwKICAgICAgICAgIG1vdXNlT3V0OiBmdW5jdGlvbiBtb3VzZU91dCgpIHsKICAgICAgICAgICAgdGhpcy5pc0hvdmVyID0gITE7CiAgICAgICAgICB9LAogICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICAgICAgICB0aGlzLnJvb3ROb2RlLiRlbWl0KCJjbGljayIsIGYoewogICAgICAgICAgICAgIHRvZ2dsZTogdGhpcy50b2dnbGUKICAgICAgICAgICAgfSwgdGhpcy5tb2RlbCkpOwogICAgICAgICAgfSwKICAgICAgICAgIGFkZENoaWxkOiBmdW5jdGlvbiBhZGRDaGlsZChBKSB7CiAgICAgICAgICAgIHZhciBlID0gQSA/IHRoaXMuZGVmYXVsdExlYWZOb2RlTmFtZSA6IHRoaXMuZGVmYXVsdFRyZWVOb2RlTmFtZTsKICAgICAgICAgICAgdGhpcy5leHBhbmRlZCA9ICEwOwogICAgICAgICAgICB2YXIgdCA9IG5ldyBpWyJiIl0oewogICAgICAgICAgICAgIG5hbWU6IGUsCiAgICAgICAgICAgICAgaXNfbGVhZjogQQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5tb2RlbC5hZGRDaGlsZHJlbih0LCAhMCksIHRoaXMucm9vdE5vZGUuJGVtaXQoImFkZC1ub2RlIiwgdCk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiBkcmFnU3RhcnQoQSkgewogICAgICAgICAgICByZXR1cm4gIXRoaXMubW9kZWwuZHJhZ0Rpc2FibGVkICYmICF0aGlzLm1vZGVsLmRpc2FibGVkICYmICh1ID0gdGhpcywgQS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgiZGF0YSIsICJkYXRhIiksIEEuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAibW92ZSIsICEwKTsKICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnRW5kOiBmdW5jdGlvbiBkcmFnRW5kKCkgewogICAgICAgICAgICB1ID0gbnVsbDsKICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnT3ZlcjogZnVuY3Rpb24gZHJhZ092ZXIoQSkgewogICAgICAgICAgICByZXR1cm4gQS5wcmV2ZW50RGVmYXVsdCgpLCAhMDsKICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnRW50ZXI6IGZ1bmN0aW9uIGRyYWdFbnRlcigpIHsKICAgICAgICAgICAgdSAmJiB1Lm1vZGVsLmlkICE9PSB0aGlzLm1vZGVsLmlkICYmIHUgJiYgIXRoaXMubW9kZWwuaXNfbGVhZiAmJiAodGhpcy5pc0RyYWdFbnRlck5vZGUgPSAhMCk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0xlYXZlOiBmdW5jdGlvbiBkcmFnTGVhdmUoKSB7CiAgICAgICAgICAgIHRoaXMuaXNEcmFnRW50ZXJOb2RlID0gITE7CiAgICAgICAgICB9LAogICAgICAgICAgZHJvcDogZnVuY3Rpb24gZHJvcCgpIHsKICAgICAgICAgICAgaWYgKHUpIHsKICAgICAgICAgICAgICB2YXIgQSA9IHUubW9kZWwucGFyZW50OwogICAgICAgICAgICAgIHUubW9kZWwubW92ZUludG8odGhpcy5tb2RlbCksIHRoaXMuaXNEcmFnRW50ZXJOb2RlID0gITEsIHRoaXMucm9vdE5vZGUuJGVtaXQoImRyb3AiLCB7CiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubW9kZWwsCiAgICAgICAgICAgICAgICBub2RlOiB1Lm1vZGVsLAogICAgICAgICAgICAgICAgc3JjOiBBCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnRW50ZXJVcDogZnVuY3Rpb24gZHJhZ0VudGVyVXAoKSB7CiAgICAgICAgICAgIHUgJiYgKHRoaXMuaXNEcmFnRW50ZXJVcCA9ICEwKTsKICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnT3ZlclVwOiBmdW5jdGlvbiBkcmFnT3ZlclVwKEEpIHsKICAgICAgICAgICAgcmV0dXJuIEEucHJldmVudERlZmF1bHQoKSwgITA7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0xlYXZlVXA6IGZ1bmN0aW9uIGRyYWdMZWF2ZVVwKCkgewogICAgICAgICAgICB1ICYmICh0aGlzLmlzRHJhZ0VudGVyVXAgPSAhMSk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJvcEJlZm9yZTogZnVuY3Rpb24gZHJvcEJlZm9yZSgpIHsKICAgICAgICAgICAgaWYgKHUpIHsKICAgICAgICAgICAgICB2YXIgQSA9IHUubW9kZWwucGFyZW50OwogICAgICAgICAgICAgIHUubW9kZWwuaW5zZXJ0QmVmb3JlKHRoaXMubW9kZWwpLCB0aGlzLmlzRHJhZ0VudGVyVXAgPSAhMSwgdGhpcy5yb290Tm9kZS4kZW1pdCgiZHJvcC1iZWZvcmUiLCB7CiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubW9kZWwsCiAgICAgICAgICAgICAgICBub2RlOiB1Lm1vZGVsLAogICAgICAgICAgICAgICAgc3JjOiBBCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnRW50ZXJCb3R0b206IGZ1bmN0aW9uIGRyYWdFbnRlckJvdHRvbSgpIHsKICAgICAgICAgICAgdSAmJiAodGhpcy5pc0RyYWdFbnRlckJvdHRvbSA9ICEwKTsKICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnT3ZlckJvdHRvbTogZnVuY3Rpb24gZHJhZ092ZXJCb3R0b20oQSkgewogICAgICAgICAgICByZXR1cm4gQS5wcmV2ZW50RGVmYXVsdCgpLCAhMDsKICAgICAgICAgIH0sCiAgICAgICAgICBkcmFnTGVhdmVCb3R0b206IGZ1bmN0aW9uIGRyYWdMZWF2ZUJvdHRvbSgpIHsKICAgICAgICAgICAgdSAmJiAodGhpcy5pc0RyYWdFbnRlckJvdHRvbSA9ICExKTsKICAgICAgICAgIH0sCiAgICAgICAgICBkcm9wQWZ0ZXI6IGZ1bmN0aW9uIGRyb3BBZnRlcigpIHsKICAgICAgICAgICAgaWYgKHUpIHsKICAgICAgICAgICAgICB2YXIgQSA9IHUubW9kZWwucGFyZW50OwogICAgICAgICAgICAgIHUubW9kZWwuaW5zZXJ0QWZ0ZXIodGhpcy5tb2RlbCksIHRoaXMuaXNEcmFnRW50ZXJCb3R0b20gPSAhMSwgdGhpcy5yb290Tm9kZS4kZW1pdCgiZHJvcC1hZnRlciIsIHsKICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy5tb2RlbCwKICAgICAgICAgICAgICAgIG5vZGU6IHUubW9kZWwsCiAgICAgICAgICAgICAgICBzcmM6IEEKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgICAgIGQgPSBzOwogICAgICB0KCIwNGFiIik7CgogICAgICBmdW5jdGlvbiBsKEEsIGUsIHQsIG4sIHIsIG8sIGksIGEpIHsKICAgICAgICB2YXIgYywKICAgICAgICAgICAgZiA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBBID8gQS5vcHRpb25zIDogQTsKICAgICAgICBpZiAoZSAmJiAoZi5yZW5kZXIgPSBlLCBmLnN0YXRpY1JlbmRlckZucyA9IHQsIGYuX2NvbXBpbGVkID0gITApLCBuICYmIChmLmZ1bmN0aW9uYWwgPSAhMCksIG8gJiYgKGYuX3Njb3BlSWQgPSAiZGF0YS12LSIgKyBvKSwgaSA/IChjID0gZnVuY3Rpb24gYyhBKSB7CiAgICAgICAgICBBID0gQSB8fCB0aGlzLiR2bm9kZSAmJiB0aGlzLiR2bm9kZS5zc3JDb250ZXh0IHx8IHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LiR2bm9kZSAmJiB0aGlzLnBhcmVudC4kdm5vZGUuc3NyQ29udGV4dCwgQSB8fCAidW5kZWZpbmVkIiA9PT0gdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gfHwgKEEgPSBfX1ZVRV9TU1JfQ09OVEVYVF9fKSwgciAmJiByLmNhbGwodGhpcywgQSksIEEgJiYgQS5fcmVnaXN0ZXJlZENvbXBvbmVudHMgJiYgQS5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKGkpOwogICAgICAgIH0sIGYuX3NzclJlZ2lzdGVyID0gYykgOiByICYmIChjID0gYSA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHIuY2FsbCh0aGlzLCB0aGlzLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpOwogICAgICAgIH0gOiByKSwgYykgaWYgKGYuZnVuY3Rpb25hbCkgewogICAgICAgICAgZi5faW5qZWN0U3R5bGVzID0gYzsKICAgICAgICAgIHZhciB1ID0gZi5yZW5kZXI7CgogICAgICAgICAgZi5yZW5kZXIgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgICAgICByZXR1cm4gYy5jYWxsKGUpLCB1KEEsIGUpOwogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHMgPSBmLmJlZm9yZUNyZWF0ZTsKICAgICAgICAgIGYuYmVmb3JlQ3JlYXRlID0gcyA/IFtdLmNvbmNhdChzLCBjKSA6IFtjXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGV4cG9ydHM6IEEsCiAgICAgICAgICBvcHRpb25zOiBmCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHAgPSBsKGQsIG4sIHIsICExLCBudWxsLCBudWxsLCBudWxsKTsKICAgICAgZVsiZGVmYXVsdCJdID0gcC5leHBvcnRzOwogICAgfSwKICAgIGIzMDE6IGZ1bmN0aW9uIGIzMDEoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHQoImQwMzkiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdmFyIHQgPSBbXVtBXTsKICAgICAgICByZXR1cm4gIXQgfHwgIW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdC5jYWxsKG51bGwsIGUgfHwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aHJvdyAxOwogICAgICAgICAgfSwgMSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgYjM5YTogZnVuY3Rpb24gYjM5YShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZDA2NiIpOwogICAgICBBLmV4cG9ydHMgPSBuKCJuYXZpZ2F0b3IiLCAidXNlckFnZW50IikgfHwgIiI7CiAgICB9LAogICAgYjYyMjogZnVuY3Rpb24gYjYyMihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpLAogICAgICAgICAgciA9IHQoIjU2OTIiKSwKICAgICAgICAgIG8gPSB0KCI1MTM1IiksCiAgICAgICAgICBpID0gdCgiOTBlMyIpLAogICAgICAgICAgYSA9IHQoIjQ5MzAiKSwKICAgICAgICAgIGMgPSB0KCJmZGJmIiksCiAgICAgICAgICBmID0gcigid2tzIiksCiAgICAgICAgICB1ID0gbi5TeW1ib2wsCiAgICAgICAgICBzID0gYyA/IHUgOiB1ICYmIHUud2l0aG91dFNldHRlciB8fCBpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gbyhmLCBBKSB8fCAoYSAmJiBvKHUsIEEpID8gZltBXSA9IHVbQV0gOiBmW0FdID0gcygiU3ltYm9sLiIgKyBBKSksIGZbQV07CiAgICAgIH07CiAgICB9LAogICAgYjY0YjogZnVuY3Rpb24gYjY0YihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiMjNlNyIpLAogICAgICAgICAgciA9IHQoIjdiMGIiKSwKICAgICAgICAgIG8gPSB0KCJkZjc1IiksCiAgICAgICAgICBpID0gdCgiZDAzOSIpLAogICAgICAgICAgYSA9IGkoZnVuY3Rpb24gKCkgewogICAgICAgIG8oMSk7CiAgICAgIH0pOwogICAgICBuKHsKICAgICAgICB0YXJnZXQ6ICJPYmplY3QiLAogICAgICAgIHN0YXQ6ICEwLAogICAgICAgIGZvcmNlZDogYQogICAgICB9LCB7CiAgICAgICAga2V5czogZnVuY3Rpb24ga2V5cyhBKSB7CiAgICAgICAgICByZXR1cm4gbyhyKEEpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGI3Mjc6IGZ1bmN0aW9uIGI3MjcoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImY4YzIiKSwKICAgICAgICAgIHIgPSB0KCI0NGFkIiksCiAgICAgICAgICBvID0gdCgiN2IwYiIpLAogICAgICAgICAgaSA9IHQoIjUwYzQiKSwKICAgICAgICAgIGEgPSB0KCI2NWYwIiksCiAgICAgICAgICBjID0gW10ucHVzaCwKICAgICAgICAgIGYgPSBmdW5jdGlvbiBmKEEpIHsKICAgICAgICB2YXIgZSA9IDEgPT0gQSwKICAgICAgICAgICAgdCA9IDIgPT0gQSwKICAgICAgICAgICAgZiA9IDMgPT0gQSwKICAgICAgICAgICAgdSA9IDQgPT0gQSwKICAgICAgICAgICAgcyA9IDYgPT0gQSwKICAgICAgICAgICAgZCA9IDUgPT0gQSB8fCBzOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAobCwgcCwgZywgaCkgewogICAgICAgICAgZm9yICh2YXIgdiwgRSwgQiA9IG8obCksIGIgPSByKEIpLCBtID0gbihwLCBnLCAzKSwgdyA9IGkoYi5sZW5ndGgpLCB5ID0gMCwgUSA9IGggfHwgYSwgSSA9IGUgPyBRKGwsIHcpIDogdCA/IFEobCwgMCkgOiB2b2lkIDA7IHcgPiB5OyB5KyspIHsKICAgICAgICAgICAgaWYgKChkIHx8IHkgaW4gYikgJiYgKHYgPSBiW3ldLCBFID0gbSh2LCB5LCBCKSwgQSkpIGlmIChlKSBJW3ldID0gRTtlbHNlIGlmIChFKSBzd2l0Y2ggKEEpIHsKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gITA7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJldHVybiB2OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXR1cm4geTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYy5jYWxsKEksIHYpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHUpIHJldHVybiAhMTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcyA/IC0xIDogZiB8fCB1ID8gdSA6IEk7CiAgICAgICAgfTsKICAgICAgfTsKCiAgICAgIEEuZXhwb3J0cyA9IHsKICAgICAgICBmb3JFYWNoOiBmKDApLAogICAgICAgIG1hcDogZigxKSwKICAgICAgICBmaWx0ZXI6IGYoMiksCiAgICAgICAgc29tZTogZigzKSwKICAgICAgICBldmVyeTogZig0KSwKICAgICAgICBmaW5kOiBmKDUpLAogICAgICAgIGZpbmRJbmRleDogZig2KQogICAgICB9OwogICAgfSwKICAgIGMwMzI6IGZ1bmN0aW9uIGMwMzIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImI2MjIiKTsKICAgICAgZS5mID0gbjsKICAgIH0sCiAgICBjMDRlOiBmdW5jdGlvbiBjMDRlKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4NjFkIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIGlmICghbihBKSkgcmV0dXJuIEE7CiAgICAgICAgdmFyIHQsIHI7CiAgICAgICAgaWYgKGUgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgKHQgPSBBLnRvU3RyaW5nKSAmJiAhbihyID0gdC5jYWxsKEEpKSkgcmV0dXJuIHI7CiAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mICh0ID0gQS52YWx1ZU9mKSAmJiAhbihyID0gdC5jYWxsKEEpKSkgcmV0dXJuIHI7CiAgICAgICAgaWYgKCFlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mICh0ID0gQS50b1N0cmluZykgJiYgIW4ociA9IHQuY2FsbChBKSkpIHJldHVybiByOwogICAgICAgIHRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIik7CiAgICAgIH07CiAgICB9LAogICAgYzQzMDogZnVuY3Rpb24gYzQzMChBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9ICExOwogICAgfSwKICAgIGM2YjY6IGZ1bmN0aW9uIGM2YjYoQSwgZSkgewogICAgICB2YXIgdCA9IHt9LnRvU3RyaW5nOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gdC5jYWxsKEEpLnNsaWNlKDgsIC0xKTsKICAgICAgfTsKICAgIH0sCiAgICBjNmNkOiBmdW5jdGlvbiBjNmNkKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkYTg0IiksCiAgICAgICAgICByID0gdCgiY2U0ZSIpLAogICAgICAgICAgbyA9ICJfX2NvcmUtanNfc2hhcmVkX18iLAogICAgICAgICAgaSA9IG5bb10gfHwgcihvLCB7fSk7CiAgICAgIEEuZXhwb3J0cyA9IGk7CiAgICB9LAogICAgYzhiYTogZnVuY3Rpb24gYzhiYShBLCBlKSB7CiAgICAgIHZhciB0OwoKICAgICAgdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSgpOwoKICAgICAgdHJ5IHsKICAgICAgICB0ID0gdCB8fCBuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsKICAgICAgfSBjYXRjaCAobikgewogICAgICAgICJvYmplY3QiID09PSAodHlwZW9mIHdpbmRvdyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2Yod2luZG93KSkgJiYgKHQgPSB3aW5kb3cpOwogICAgICB9CgogICAgICBBLmV4cG9ydHMgPSB0OwogICAgfSwKICAgIGNhODQ6IGZ1bmN0aW9uIGNhODQoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjUxMzUiKSwKICAgICAgICAgIHIgPSB0KCJmYzZhIiksCiAgICAgICAgICBvID0gdCgiNGQ2NCIpLmluZGV4T2YsCiAgICAgICAgICBpID0gdCgiZDAxMiIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgYSA9IHIoQSksCiAgICAgICAgICAgIGMgPSAwLAogICAgICAgICAgICBmID0gW107CgogICAgICAgIGZvciAodCBpbiBhKSB7CiAgICAgICAgICAhbihpLCB0KSAmJiBuKGEsIHQpICYmIGYucHVzaCh0KTsKICAgICAgICB9CgogICAgICAgIHdoaWxlIChlLmxlbmd0aCA+IGMpIHsKICAgICAgICAgIG4oYSwgdCA9IGVbYysrXSkgJiYgKH5vKGYsIHQpIHx8IGYucHVzaCh0KSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZjsKICAgICAgfTsKICAgIH0sCiAgICBjYzEyOiBmdW5jdGlvbiBjYzEyKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkYTg0IiksCiAgICAgICAgICByID0gdCgiODYxZCIpLAogICAgICAgICAgbyA9IG4uZG9jdW1lbnQsCiAgICAgICAgICBpID0gcihvKSAmJiByKG8uY3JlYXRlRWxlbWVudCk7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBpID8gby5jcmVhdGVFbGVtZW50KEEpIDoge307CiAgICAgIH07CiAgICB9LAogICAgY2U0ZTogZnVuY3Rpb24gY2U0ZShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpLAogICAgICAgICAgciA9IHQoIjkxMTIiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHIobiwgQSwgZSk7CiAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgbltBXSA9IGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfTsKICAgIH0sCiAgICBkMDEyOiBmdW5jdGlvbiBkMDEyKEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0ge307CiAgICB9LAogICAgZDAzOTogZnVuY3Rpb24gZDAzOShBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiAhIUEoKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZXR1cm4gITA7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGQwNjY6IGZ1bmN0aW9uIGQwNjYoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjQyOGYiKSwKICAgICAgICAgIHIgPSB0KCJkYTg0IiksCiAgICAgICAgICBvID0gZnVuY3Rpb24gbyhBKSB7CiAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIEEgPyBBIDogdm9pZCAwOwogICAgICB9OwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBvKG5bQV0pIHx8IG8ocltBXSkgOiBuW0FdICYmIG5bQV1bZV0gfHwgcltBXSAmJiByW0FdW2VdOwogICAgICB9OwogICAgfSwKICAgIGQxZTc6IGZ1bmN0aW9uIGQxZTcoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLAogICAgICAgICAgciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsCiAgICAgICAgICBvID0gciAmJiAhbi5jYWxsKHsKICAgICAgICAxOiAyCiAgICAgIH0sIDEpOwogICAgICBlLmYgPSBvID8gZnVuY3Rpb24gKEEpIHsKICAgICAgICB2YXIgZSA9IHIodGhpcywgQSk7CiAgICAgICAgcmV0dXJuICEhZSAmJiBlLmVudW1lcmFibGU7CiAgICAgIH0gOiBuOwogICAgfSwKICAgIGQ0NGU6IGZ1bmN0aW9uIGQ0NGUoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjliZjIiKS5mLAogICAgICAgICAgciA9IHQoIjUxMzUiKSwKICAgICAgICAgIG8gPSB0KCJiNjIyIiksCiAgICAgICAgICBpID0gbygidG9TdHJpbmdUYWciKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgQSAmJiAhcihBID0gdCA/IEEgOiBBLnByb3RvdHlwZSwgaSkgJiYgbihBLCBpLCB7CiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLAogICAgICAgICAgdmFsdWU6IGUKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICBkYTg0OiBmdW5jdGlvbiBkYTg0KEEsIGUsIHQpIHsKICAgICAgKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBmdW5jdGlvbiB0KEEpIHsKICAgICAgICAgIHJldHVybiBBICYmIEEuTWF0aCA9PSBNYXRoICYmIEE7CiAgICAgICAgfTsKCiAgICAgICAgQS5leHBvcnRzID0gdCgib2JqZWN0IiA9PSAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGdsb2JhbFRoaXMpKSAmJiBnbG9iYWxUaGlzKSB8fCB0KCJvYmplY3QiID09ICh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZih3aW5kb3cpKSAmJiB3aW5kb3cpIHx8IHQoIm9iamVjdCIgPT0gKHR5cGVvZiBzZWxmID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihzZWxmKSkgJiYgc2VsZikgfHwgdCgib2JqZWN0IiA9PSBfdHlwZW9mKGUpICYmIGUpIHx8IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7CiAgICAgIH0pLmNhbGwodGhpcywgdCgiYzhiYSIpKTsKICAgIH0sCiAgICBkYmI0OiBmdW5jdGlvbiBkYmI0KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCIyM2U3IiksCiAgICAgICAgICByID0gdCgiODNhYiIpLAogICAgICAgICAgbyA9IHQoIjU2ZWYiKSwKICAgICAgICAgIGkgPSB0KCJmYzZhIiksCiAgICAgICAgICBhID0gdCgiMDZjZiIpLAogICAgICAgICAgYyA9IHQoIjg0MTgiKTsKICAgICAgbih7CiAgICAgICAgdGFyZ2V0OiAiT2JqZWN0IiwKICAgICAgICBzdGF0OiAhMCwKICAgICAgICBzaGFtOiAhcgogICAgICB9LCB7CiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhBKSB7CiAgICAgICAgICB2YXIgZSwKICAgICAgICAgICAgICB0LAogICAgICAgICAgICAgIG4gPSBpKEEpLAogICAgICAgICAgICAgIHIgPSBhLmYsCiAgICAgICAgICAgICAgZiA9IG8obiksCiAgICAgICAgICAgICAgdSA9IHt9LAogICAgICAgICAgICAgIHMgPSAwOwoKICAgICAgICAgIHdoaWxlIChmLmxlbmd0aCA+IHMpIHsKICAgICAgICAgICAgdCA9IHIobiwgZSA9IGZbcysrXSksIHZvaWQgMCAhPT0gdCAmJiBjKHUsIGUsIHQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB1OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGY3NTogZnVuY3Rpb24gZGY3NShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiY2E4NCIpLAogICAgICAgICAgciA9IHQoIjc4MzkiKTsKCiAgICAgIEEuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIG4oQSwgcik7CiAgICAgIH07CiAgICB9LAogICAgZTQzOTogZnVuY3Rpb24gZTQzOShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiMjNlNyIpLAogICAgICAgICAgciA9IHQoImQwMzkiKSwKICAgICAgICAgIG8gPSB0KCJmYzZhIiksCiAgICAgICAgICBpID0gdCgiMDZjZiIpLmYsCiAgICAgICAgICBhID0gdCgiODNhYiIpLAogICAgICAgICAgYyA9IHIoZnVuY3Rpb24gKCkgewogICAgICAgIGkoMSk7CiAgICAgIH0pLAogICAgICAgICAgZiA9ICFhIHx8IGM7CiAgICAgIG4oewogICAgICAgIHRhcmdldDogIk9iamVjdCIsCiAgICAgICAgc3RhdDogITAsCiAgICAgICAgZm9yY2VkOiBmLAogICAgICAgIHNoYW06ICFhCiAgICAgIH0sIHsKICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihBLCBlKSB7CiAgICAgICAgICByZXR1cm4gaShvKEEpLCBlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGU4OTM6IGZ1bmN0aW9uIGU4OTMoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjUxMzUiKSwKICAgICAgICAgIHIgPSB0KCI1NmVmIiksCiAgICAgICAgICBvID0gdCgiMDZjZiIpLAogICAgICAgICAgaSA9IHQoIjliZjIiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IHIoZSksIGEgPSBpLmYsIGMgPSBvLmYsIGYgPSAwOyBmIDwgdC5sZW5ndGg7IGYrKykgewogICAgICAgICAgdmFyIHUgPSB0W2ZdOwogICAgICAgICAgbihBLCB1KSB8fCBhKEEsIHUsIGMoZSwgdSkpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBlOGI1OiBmdW5jdGlvbiBlOGI1KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJjNmI2Iik7CgogICAgICBBLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuICJBcnJheSIgPT0gbihBKTsKICAgICAgfTsKICAgIH0sCiAgICBmNmZkOiBmdW5jdGlvbiBmNmZkKEEsIGUpIHsKICAgICAgKGZ1bmN0aW9uIChBKSB7CiAgICAgICAgdmFyIGUgPSAiY3VycmVudFNjcmlwdCIsCiAgICAgICAgICAgIHQgPSBBLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTsKICAgICAgICBlIGluIEEgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsIGUsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpOwogICAgICAgICAgICB9IGNhdGNoIChuKSB7CiAgICAgICAgICAgICAgdmFyIEEsCiAgICAgICAgICAgICAgICAgIGUgPSAoLy4qYXQgW15cKF0qXCgoLiopOi4rOi4rXCkkL2dpLmV4ZWMobi5zdGFjaykgfHwgWyExXSlbMV07CgogICAgICAgICAgICAgIGZvciAoQSBpbiB0KSB7CiAgICAgICAgICAgICAgICBpZiAodFtBXS5zcmMgPT0gZSB8fCAiaW50ZXJhY3RpdmUiID09IHRbQV0ucmVhZHlTdGF0ZSkgcmV0dXJuIHRbQV07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KShkb2N1bWVudCk7CiAgICB9LAogICAgZjc3MjogZnVuY3Rpb24gZjc3MihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiNTY5MiIpLAogICAgICAgICAgciA9IHQoIjkwZTMiKSwKICAgICAgICAgIG8gPSBuKCJrZXlzIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBvW0FdIHx8IChvW0FdID0gcihBKSk7CiAgICAgIH07CiAgICB9LAogICAgZjhjMjogZnVuY3Rpb24gZjhjMihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiMWMwYiIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUsIHQpIHsKICAgICAgICBpZiAobihBKSwgdm9pZCAwID09PSBlKSByZXR1cm4gQTsKCiAgICAgICAgc3dpdGNoICh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIEEuY2FsbChlKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgIHJldHVybiBBLmNhbGwoZSwgdCk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICAgICAgICByZXR1cm4gQS5jYWxsKGUsIHQsIG4pOwogICAgICAgICAgICB9OwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0LCBuLCByKSB7CiAgICAgICAgICAgICAgcmV0dXJuIEEuY2FsbChlLCB0LCBuLCByKTsKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gQS5hcHBseShlLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH07CiAgICB9LAogICAgZmIxNTogZnVuY3Rpb24gZmIxNShBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuOwogICAgICAodC5yKGUpLCAidW5kZWZpbmVkIiAhPT0gdHlwZW9mIHdpbmRvdykgJiYgKHQoImY2ZmQiKSwgKG4gPSB3aW5kb3cuZG9jdW1lbnQuY3VycmVudFNjcmlwdCkgJiYgKG4gPSBuLnNyYy5tYXRjaCgvKC4rXC8pW14vXStcLmpzKFw/LiopPyQvKSkgJiYgKHQucCA9IG5bMV0pKTsKICAgICAgdCgiYjBjMCIpOwogICAgICB2YXIgciA9IHQoImIyYjkiKSwKICAgICAgICAgIG8gPSB0KCJhNzZmIik7CgogICAgICByWyJkZWZhdWx0Il0uaW5zdGFsbCA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgQS5jb21wb25lbnQoclsiZGVmYXVsdCJdLm5hbWUsIHJbImRlZmF1bHQiXSk7CiAgICAgIH07CgogICAgICB2YXIgaSA9IHJbImRlZmF1bHQiXTsKICAgICAgdC5kKGUsICJUcmVlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBvWyJhIl07CiAgICAgIH0pLCB0LmQoZSwgIlRyZWVOb2RlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBvWyJiIl07CiAgICAgIH0pLCB0LmQoZSwgIlZ1ZVRyZWVMaXN0IiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiByWyJkZWZhdWx0Il07CiAgICAgIH0pOwogICAgICBlWyJkZWZhdWx0Il0gPSBpOwogICAgfSwKICAgIGZjNmE6IGZ1bmN0aW9uIGZjNmEoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjQ0YWQiKSwKICAgICAgICAgIHIgPSB0KCIxZDgwIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBuKHIoQSkpOwogICAgICB9OwogICAgfSwKICAgIGZkYmM6IGZ1bmN0aW9uIGZkYmMoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSB7CiAgICAgICAgQ1NTUnVsZUxpc3Q6IDAsCiAgICAgICAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogMCwKICAgICAgICBDU1NWYWx1ZUxpc3Q6IDAsCiAgICAgICAgQ2xpZW50UmVjdExpc3Q6IDAsCiAgICAgICAgRE9NUmVjdExpc3Q6IDAsCiAgICAgICAgRE9NU3RyaW5nTGlzdDogMCwKICAgICAgICBET01Ub2tlbkxpc3Q6IDEsCiAgICAgICAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IDAsCiAgICAgICAgRmlsZUxpc3Q6IDAsCiAgICAgICAgSFRNTEFsbENvbGxlY3Rpb246IDAsCiAgICAgICAgSFRNTENvbGxlY3Rpb246IDAsCiAgICAgICAgSFRNTEZvcm1FbGVtZW50OiAwLAogICAgICAgIEhUTUxTZWxlY3RFbGVtZW50OiAwLAogICAgICAgIE1lZGlhTGlzdDogMCwKICAgICAgICBNaW1lVHlwZUFycmF5OiAwLAogICAgICAgIE5hbWVkTm9kZU1hcDogMCwKICAgICAgICBOb2RlTGlzdDogMSwKICAgICAgICBQYWludFJlcXVlc3RMaXN0OiAwLAogICAgICAgIFBsdWdpbjogMCwKICAgICAgICBQbHVnaW5BcnJheTogMCwKICAgICAgICBTVkdMZW5ndGhMaXN0OiAwLAogICAgICAgIFNWR051bWJlckxpc3Q6IDAsCiAgICAgICAgU1ZHUGF0aFNlZ0xpc3Q6IDAsCiAgICAgICAgU1ZHUG9pbnRMaXN0OiAwLAogICAgICAgIFNWR1N0cmluZ0xpc3Q6IDAsCiAgICAgICAgU1ZHVHJhbnNmb3JtTGlzdDogMCwKICAgICAgICBTb3VyY2VCdWZmZXJMaXN0OiAwLAogICAgICAgIFN0eWxlU2hlZXRMaXN0OiAwLAogICAgICAgIFRleHRUcmFja0N1ZUxpc3Q6IDAsCiAgICAgICAgVGV4dFRyYWNrTGlzdDogMCwKICAgICAgICBUb3VjaExpc3Q6IDAKICAgICAgfTsKICAgIH0sCiAgICBmZGJmOiBmdW5jdGlvbiBmZGJmKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI0OTMwIik7CiAgICAgIEEuZXhwb3J0cyA9IG4gJiYgIVN5bWJvbC5zaGFtICYmICJzeW1ib2wiID09IF90eXBlb2YoU3ltYm9sLml0ZXJhdG9yKTsKICAgIH0KICB9KTsKfSk7"},null]}