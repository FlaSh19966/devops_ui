{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/BotUserChatHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/BotUserChatHistory.vue","mtime":1660042032571},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7IENvbnRlbnRMb2FkZXIgfSBmcm9tICJ2dWUtY29udGVudC1sb2FkZXIiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBDb250ZW50TG9hZGVyOiBDb250ZW50TG9hZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbnVtYmVyX29mX3Jvd3M6ICIiLAogICAgICB0b3RhbF9wYWdlczogMCwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDE1LAogICAgICB1c2VyX2xpc3Q6IFtdLAogICAgICB1c2VyX3JlcGx5OiBbXSwKICAgICAgYm90X3JlcGx5OiBbXSwKICAgICAgY2hhdERldGFpbHM6IFtdLAogICAgICBhY3Rpb25fc3RhdHM6IFtdLAogICAgICB1c2VyX2FjdGlvbl9zdGF0czogW10sCiAgICAgIGN1cnJlbnRfdXNlcjogIiIsCiAgICAgIHRpbWVzdGFtcDogIiIsCiAgICAgIHNlbmRlcl9pZDogW10sCiAgICAgIHNlbGVjdGVkOiAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiLAogICAgICBzZWxlY3RlZF9kYXRlOiAiIiwKICAgICAgc2VsZWN0ZWRfaW5kZXg6IG51bGwsCiAgICAgIGNoYXRfZGF0ZXM6IFtdLAogICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgaXNzZWFyY2g6IGZhbHNlLAogICAgICBzZWFyY2hzdHJpbmc6ICIiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB2aWV3X2NvbXBvbmVudF9uYW1lOiAicG9ydGFsX3VzZXIiLAogICAgICAvLyBmaW5nZXJwcmludHJlZ2V4Oi9eWzAtOV17MTB9JC8sCiAgICAgIGZpbmdlcnByaW50cmVnZXg6IC9eWzAtOS0rXC9cc117OSx9JC8sCiAgICAgIHBhZ2VfYXJyYXk6IFtdLAogICAgICBzaG93X2xvYWRlcjogZmFsc2UsCiAgICAgIGNvbnRhY3RfaGVscF9lbWFpbDogbnVsbCwKICAgICAgcmV0YWlsX3dlYl9mcmFtZXdvcms6IHRoaXMuJHNlc3Npb24uZ2V0KCJyZXRhaWxfd2ViX2ZyYW1ld29yayIpLAogICAgICBmaWx0ZXJfY2hhdF9oaXN0b3J5OiB0aGlzLiRzZXNzaW9uLmdldCgiZmlsdGVyX2NoYXRfaGlzdG9yeSIpCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9IHRoaXMuJHNlc3Npb24uZ2V0KCJyZXRhaWxfd2ViX2ZyYW1ld29yayIpOwogICAgJCgiI3NlbGVjdGFsbCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy4kcm9vdC4kb24oInNlYXJjaF9ib3RfdXNlcl9jaGF0X2hpc3RvcnkiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5zZWFyY2hzdHJpbmcgPSBkYXRhOwoKICAgICAgX3RoaXMuc2VhcmNoX2NoYXQoKTsgLy8gdGhpcy5zZWFyY2hfcXVlc3Rpb24oKTsKCiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJsb2FkX2JvdF91c2VyX2NoYXRfaGlzdG9yeSIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzLmxvYWRfYm90X3VzZXJfY2hhdF9oaXN0b3J5KCk7CiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLiRyb290LiRvZmYoInNlYXJjaF9ib3RfdXNlcl9jaGF0X2hpc3RvcnkiKTsKICAgIHRoaXMuJHJvb3QuJG9mZigibG9hZF9ib3RfdXNlcl9jaGF0X2hpc3RvcnkiKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRfcHJvZHVjdF9zZXR0aW5ncygpOwogICAgdGhpcy5sb2FkX2JvdF91c2VyX2NoYXRfaGlzdG9yeSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0X2RhdGVfaW5fbG9jYWxfdGltZXpvbmU6IGZ1bmN0aW9uIGZvcm1hdF9kYXRlX2luX2xvY2FsX3RpbWV6b25lKGRhdGUpIHsKICAgICAgdmFyIHRlc3REYXRlVXRjID0gbW9tZW50LnV0YyhkYXRlKTsKICAgICAgdmFyIGxvY2FsRGF0ZSA9IG1vbWVudCh0ZXN0RGF0ZVV0YykubG9jYWwoKS50b0RhdGUoKTsgLy8gbm90ZTogZG8gbm90IGZvcm1hdCB0aW1lIGJlbG93IHRvIHNob3cgaG91ciBhbmQgbWludXRlIGJlY2F1c2UgIlZpZXcgQ2hhdCBIaXN0b3J5IiBzaG93IGFsbCBtZXNzYWdlIG9mIHRoYXQgZGF0ZSBub3Qgc3BlY2lmaWMgaG91ci1taW51dGUgdGltZS4KCiAgICAgIGxvY2FsRGF0ZSA9IG1vbWVudChsb2NhbERhdGUpLmZvcm1hdCgiZGRkIE1NTSBEIFlZWVkiKTsKICAgICAgcmV0dXJuIGxvY2FsRGF0ZS50b1N0cmluZygpOwogICAgfSwKICAgIG1lc3NhZ2luZ19wbGF0Zm9ybV9mb3JtYXRpbmc6IGZ1bmN0aW9uIG1lc3NhZ2luZ19wbGF0Zm9ybV9mb3JtYXRpbmcobWVzc2FnZSkgewogICAgICByZXR1cm4gIlBsZWFzZSBmZWVsIGZyZWUgdG8gcmVhY2hvdXQgdG8gdXMgYXQgOiAiICsgbWVzc2FnZTsKICAgIH0sCiAgICBtZXNzYWdpbmdfcGxhdGZvcm1fZm9ybWF0aW5nX251bWJlcjogZnVuY3Rpb24gbWVzc2FnaW5nX3BsYXRmb3JtX2Zvcm1hdGluZ19udW1iZXIobWVzc2FnZSkgewogICAgICBpZiAobWVzc2FnZSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuICIgb3IgY2FsbCB1cyBhdCA6IiArIG1lc3NhZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgY29uZnVzaW9uX21lc3NhZ2VfZm9ybWF0aW5nOiBmdW5jdGlvbiBjb25mdXNpb25fbWVzc2FnZV9mb3JtYXRpbmcobWVzc2FnZSkgewogICAgICByZXR1cm4gbWVzc2FnZS5zcGxpdCgie2VtYWlsfSIpLmpvaW4odGhpcy5jb250YWN0X2hlbHBfZW1haWwpOwogICAgfSwKICAgIGxvYWRfcHJvZHVjdF9zZXR0aW5nczogZnVuY3Rpb24gbG9hZF9wcm9kdWN0X3NldHRpbmdzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd19sb2FkZXIgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGlzX2dldDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8vL2NvbnNvbGUubG9ncmVzcG9uc2UpCiAgICAgICAgdmFyIHdlYmZyYW1ld29yayA9IF90aGlzMi5yZXRhaWxfd2ViX2ZyYW1ld29yazsKCiAgICAgICAgaWYgKHdlYmZyYW1ld29yaykgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzMi5jb250YWN0X2hlbHBfZW1haWwgPSB3ZWJmcmFtZXdvcmsgPT09IHVuZGVmaW5lZCA/IHJlc3BvbnNlLmRhdGEuZGF0YS5kZXRhaWxzLmNvbnRhY3RfaGVscF9lbWFpbCA6IHJlc3BvbnNlLmRhdGEuZGF0YVt3ZWJmcmFtZXdvcmsgKyAiX2RldGFpbHMiXS5jb250YWN0X2hlbHBfZW1haWw7CiAgICAgICAgICB9IC8vIGVsc2UgewogICAgICAgICAgLy8gICB0b2FzdHIuZXJyb3IoIkludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgICAgICAgLy8gfQoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzMi5jb250YWN0X2hlbHBfZW1haWwgPSByZXNwb25zZS5kYXRhLmRhdGEuZGV0YWlscy5jb250YWN0X2hlbHBfZW1haWw7CiAgICAgICAgICB9IC8vIGVsc2UgewogICAgICAgICAgLy8gICB0b2FzdHIuZXJyb3IoIkludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgICAgICAgLy8gfQoKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyLnNob3dfbG9hZGVyID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tfaW1hZ2VfdHlwZTogZnVuY3Rpb24gY2hlY2tfaW1hZ2VfdHlwZShpbWFnZSkgewogICAgICBpZiAodHlwZW9mIGltYWdlID09ICJzdHJpbmciKSB7CiAgICAgICAgcmV0dXJuIGltYWdlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpbWFnZS5zcmM7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkX2JvdF91c2VyX2NoYXRfaGlzdG9yeTogZnVuY3Rpb24gbG9hZF9ib3RfdXNlcl9jaGF0X2hpc3RvcnkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlX25vID0gMTsKICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgdGhpcy5zZWFyY2hzdHJpbmcgPSAiIjsKICAgICAgdGhpcy5hY3Rpb25fc3RhdHMgPSBbXTsKICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cyA9IFtdOwogICAgICB0aGlzLnNob3dfbG9hZGVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYWN0aW9uX3N0YXRzX3VybCgpLCB7CiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucwogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8vL2NvbnNvbGUubG9ncmVzcG9uc2UpCiAgICAgICAgX3RoaXMzLmFjdGlvbl9zdGF0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5hY3Rpb25fc3RhdHM7CgogICAgICAgIF90aGlzMy5hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICBIaXRzOiAxLAogICAgICAgICAgTmFtZTogImdlbmVyYWxfY2hhdF9oaXN0b3J5IgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMy5zaG93X2xvYWRlciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnNob3dfbG9hZGVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgaXNzaG93OiB0cnVlLAogICAgICAgIGFjdGlvbjogImdlbmVyYWxfY2hhdF9oaXN0b3J5IiwKICAgICAgICBmaWx0ZXJfY2hhdF9oaXN0b3J5OiB0aGlzLiRzZXNzaW9uLmdldCgiZmlsdGVyX2NoYXRfaGlzdG9yeSIpLAogICAgICAgIHBhZ2VubzogdGhpcy5wYWdlX25vLAogICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vY29uc29sZS5sb2dyZXNwb25zZSAsICJjaGF0dHR0dHR0dHR0dHQiKQogICAgICAgIF90aGlzMy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgICAgIF90aGlzMy51c2VyX2FjdGlvbl9zdGF0cyA9IFtdOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIC8vLy9jb25zb2xlLmxvZ3Jlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeSkKICAgICAgICAgICAgLy8gLy8vL2NvbnNvbGUubG9nCiAgICAgICAgICAgIC8vICAgdGhpcy5maW5nZXJwcmludHJlZ2V4LnRlc3QocmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyKQogICAgICAgICAgICAvLyApOwogICAgICAgICAgICBpZiAoX3RoaXMzLmZpbmdlcnByaW50cmVnZXgudGVzdChyZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIpKSB7CiAgICAgICAgICAgICAgX3RoaXMzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAgICAgdXNlcmVtYWlsOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uRW1haWwsCiAgICAgICAgICAgICAgICB1c2VycGhvbmVudW1iZXI6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUgPT0gbnVsbCA/ICJHdWVzdCB1c2VyIiA6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgICAgICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLkRhdGUKICAgICAgICAgICAgICB9KTsgLy8gLy8vL2NvbnNvbGUubG9ndGhpcy51c2VyX2FjdGlvbl9zdGF0cywgcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldKTsKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAgICAgdXNlcmVtYWlsOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgICB1c2VycGhvbmVudW1iZXI6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUgPT0gbnVsbCA/ICJHdWVzdCB1c2VyIiA6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgICAgICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLkRhdGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSAvLyB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAvLyAgICAgdXNlcmVtYWlsIDogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgICAgICAgICAvLyAgICAgdXNlcnBob25lbnVtYmVyIDogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLlBob25lTnVtYmVyLAogICAgICAgICAgICAvLyAgICAgdXNlcm5hbWUgOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczMuYXBpX3N0YXR1c19jb2RlLk5PX0RBVEFfQVZBSUxBQkxFLk1TR19DT0RFKSB7CiAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLk1TR19DT0RFKSB7CiAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0gLy9jb25zb2xlLmxvZ3Jlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhKQoKCiAgICAgICAgX3RoaXMzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGEgPT0gdW5kZWZpbmVkID8gMCA6IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhOwogICAgICAgIF90aGlzMy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlID09IHVuZGVmaW5lZCA/IDAgOiByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZTsKCiAgICAgICAgX3RoaXMzLnNldHBhZ2luYXRpb24oX3RoaXMzLnBhZ2Vfbm8pOyAvL2NvbnNvbGUubG9ndGhpcy50b3RhbF9wYWdlcykKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgLy8vL2NvbnNvbGUubG9nZSkKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBwYWdlX3JlcXVpcmU6IGZ1bmN0aW9uIHBhZ2VfcmVxdWlyZShwYWdlX25vKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5zaG93X2xvYWRlciA9IHRydWU7IC8vY29uc29sZS5sb2ciY2xpY2tlZCIgLCB0aGlzLnNlbGVjdGVkKQoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgIT0gImdlbmVyYWxfY2hhdF9oaXN0b3J5IikgewogICAgICAgIC8vIC8vLy9jb25zb2xlLmxvZ3RoaXMudG90YWxfcGFnZXMsIHBhZ2Vfbm8pOwogICAgICAgIGlmIChwYWdlX25vID09IDAgfHwgcGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkge30gZWxzZSB7CiAgICAgICAgICAvLyB0aGlzLnBhZ2Vfbm8gPSBwYWdlX25vOwogICAgICAgICAgaWYgKHBhZ2UgPT0gIi4uLnMiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSBpZiAocGFnZSA9PSAiLi4ubCIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gcGFnZTsKICAgICAgICAgIH0gLy8gdGhpcy5zcGlubmVyT24gPSB0cnVlOwoKCiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5hY3Rpb25fdXNhZ2Vfc3RhdHNfdXJsKCksIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIC8vIGFjdGlvbjogdGhpcy5hY3Rpb25fc3RhdHNbaW5kZXhdLk5hbWUsCiAgICAgICAgICAgIGFjdGlvbjogdGhpcy5zZWxlY3RlZCwKICAgICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZQogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsvLy8vY29uc29sZS5sb2dyZXNwb25zZSkKICAgICAgICAgICAgLy8gdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgLy8gdGhpcy51c2VyX2xpc3QgPSBbXTsKICAgICAgICAgICAgLy8gZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhWzBdKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy5pbnRlbnRsaXN0LnB1c2goewogICAgICAgICAgICAvLyAgICAgaW50ZW50OiByZXNwb25zZS5kYXRhWzBdW2ldLAogICAgICAgICAgICAvLyAgICAgZW1haWw6IHJlc3BvbnNlLmRhdGFbMV1baV0sCiAgICAgICAgICAgIC8vICAgICBjcmVhdGVkOiByZXNwb25zZS5kYXRhWzJdW2ldCiAgICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIF90aGlzNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChwYWdlX25vID09IDAgfHwgcGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkgewogICAgICAgICAgdGhpcy5sb2FkX2JvdF91c2VyX2NoYXRfaGlzdG9yeSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAocGFnZV9ubyA9PSAiLi4ucyIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09ICIuLi5sIikgewogICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKHRoaXMudG90YWxfcGFnZXMgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlX25vOwogICAgICAgICAgfSAvLyB0aGlzLnBhZ2Vfbm8gPSBwYWdlX25vOwoKCiAgICAgICAgICB0aGlzLnNob3dfbG9hZGVyID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmdlbmVyYWxfY2hhdF9oaXN0b3J5KCksIHsKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGlzc2hvdzogdHJ1ZSwKICAgICAgICAgICAgYWN0aW9uOiB0aGlzLnNlbGVjdGVkLAogICAgICAgICAgICBmaWx0ZXJfY2hhdF9oaXN0b3J5OiB0aGlzLiRzZXNzaW9uLmdldCgiZmlsdGVyX2NoYXRfaGlzdG9yeSIpLAogICAgICAgICAgICBwYWdlbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgcGVycGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIC8vLy9jb25zb2xlLmxvZ3Jlc3BvbnNlKQogICAgICAgICAgICBfdGhpczQuc2hvd19sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXM0LnVzZXJfYWN0aW9uX3N0YXRzID0gW107CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIC8vLy9jb25zb2xlLmxvZ3Jlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeSkKICAgICAgICAgICAgICBpZiAoX3RoaXM0LmZpbmdlcnByaW50cmVnZXgudGVzdChyZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIpKSB7CiAgICAgICAgICAgICAgICBfdGhpczQudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICAgICAgICAgIHVzZXJlbWFpbDogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLkVtYWlsLAogICAgICAgICAgICAgICAgICB1c2VycGhvbmVudW1iZXI6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgICAgICAgICAgICAgdXNlcmlkOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgICAgIGRhdGU6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5EYXRlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM0LnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgICAgICAgICAgICAgICAgdXNlcnBob25lbnVtYmVyOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uUGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgICAgICAgICAgICAgICBkYXRlOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uRGF0ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSAvLyB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAgIC8vICAgICB1c2VyZW1haWwgOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgLy8gICAgIHVzZXJwaG9uZW51bWJlciA6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICAvLyAgICAgdXNlcm5hbWUgOiByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgICAgICAgICAgLy8gfSk7CgogICAgICAgICAgICB9IC8vY29uc29sZS5sb2dyZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfZGF0YSkKCgogICAgICAgICAgICBfdGhpczQubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfZGF0YSA9PSB1bmRlZmluZWQgPyAwIDogcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgICAgIF90aGlzNC50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlID09IHVuZGVmaW5lZCA/IDAgOiByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZTsKCiAgICAgICAgICAgIF90aGlzNC5zZXRwYWdpbmF0aW9uKF90aGlzNC5wYWdlX25vKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIC8vLy9jb25zb2xlLmxvZ2UpCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIF90aGlzNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcGFnaW5hdGlvbl9jbGFzczogZnVuY3Rpb24gcGFnaW5hdGlvbl9jbGFzcyhpbmRleCkgewogICAgICBpZiAoaW5kZXggPT0gdGhpcy5wYWdlX25vKSB7CiAgICAgICAgcmV0dXJuICIgYWN0aXZlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBzZXRwYWdpbmF0aW9uOiBmdW5jdGlvbiBzZXRwYWdpbmF0aW9uKHBhZ2Vfbm8pIHsKICAgICAgdGhpcy5wYWdlX2FycmF5ID0gW107CgogICAgICBpZiAodGhpcy50b3RhbF9wYWdlcyA8PSA3KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSAxKSB7CiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IDQ7IF9pKyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKF9pICsgMSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcykgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CgogICAgICAgIGZvciAodmFyIF9pMiA9IHRoaXMudG90YWxfcGFnZXMgLSA0OyBfaTIgPCB0aGlzLnRvdGFsX3BhZ2VzOyBfaTIrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kyICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPD0gNCkgewogICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IHBhZ2Vfbm8gKyAzOyBfaTMrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kzICsgMSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPj0gdGhpcy50b3RhbF9wYWdlcyAtIDQpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwoKICAgICAgICBmb3IgKHZhciBfaTQgPSBwYWdlX25vIC0gNDsgX2k0IDwgdGhpcy50b3RhbF9wYWdlczsgX2k0KyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKF9pNCArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwoKICAgICAgICBmb3IgKHZhciBfaTUgPSBwYWdlX25vIC0gMzsgX2k1IDw9IHBhZ2Vfbm8gKyAzOyBfaTUrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2k1KTsKICAgICAgICB9CgogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyB2aWV3X2FjdGlvbigpIHsKICAgIC8vICAgdmFyIGFjdGlvbl9uYW1lID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgLy8gICB0aGlzLnNlbGVjdGVkID0gYWN0aW9uX25hbWU7CiAgICAvLyAgIHRoaXMuc2VhcmNoc3RyaW5nID0gIiI7CiAgICAvLyAgIGlmIChhY3Rpb25fbmFtZSAhPSAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiKSB7CiAgICAvLyAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgLy8gICAgIGF4aW9zCiAgICAvLyAgICAgICAucG9zdCgKICAgIC8vICAgICAgICAgYXBpX2NhbGxzLmFjdGlvbl91c2FnZV9zdGF0c191cmwoKSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgIGFjdGlvbjogYWN0aW9uX25hbWUsCiAgICAvLyAgICAgICAgICAgcGFnZV9ubzogMSwKICAgIC8vICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICkKICAgIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5udW1iZXJfb2Zfcm93czsKICAgIC8vICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCh0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZSk7CiAgICAvLyAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMgPSBbXTsKICAgIC8vICAgICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhLnVzZXJzKSB7CiAgICAvLyAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXNlcnNbaV0uYWN0aW9uX2hpdHMgIT0gMCkgewogICAgLy8gICAgICAgICAgICAgbGV0IGFjdGlvbl9oaXN0b3J5ID0gW107CiAgICAvLyAgICAgICAgICAgICBmb3IgKHZhciBqIGluIHJlc3BvbnNlLmRhdGEudXNlcnNbaV0uYWN0aW9uX2hpdHMpIHsKICAgIC8vICAgICAgICAgICAgICAgYWN0aW9uX2hpc3RvcnkucHVzaChyZXNwb25zZS5kYXRhLnVzZXJzW2ldLmFjdGlvbl9oaXRzW2pdKTsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAvLyAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLnVzZXJzW2ldLnVzZXJuYW1lLAogICAgLy8gICAgICAgICAgICAgICBhY3Rpb25fbGlzdDogYWN0aW9uX2hpc3RvcnksCiAgICAvLyAgICAgICAgICAgICAgIHNlbmRlcl9pZDogcmVzcG9uc2UuZGF0YS51c2Vyc1tpXS5zZW5kZXJfaWQsCiAgICAvLyAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgICAgaWYgKAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgICApIHsKICAgIC8vICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICBhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgIGlzc2hvdzogdHJ1ZSwKICAgIC8vICAgICAgICAgICBhY3Rpb246IGFjdGlvbl9uYW1lLAogICAgLy8gICAgICAgICAgIHBhZ2VubzogdGhpcy5wYWdlX25vLAogICAgLy8gICAgICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAvLyAgICAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICApCiAgICAvLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cyA9IFtdOwogICAgLy8gICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeS5sZW5ndGg7IGkrKykgewogICAgLy8gICAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAvLyAgICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgIC8vICAgICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldLlBob25lTnVtYmVyLAogICAgLy8gICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgc2Nyb2xsX2RpdjogZnVuY3Rpb24gc2Nyb2xsX2RpdigpIHsKICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5idXktcHJvZHVjdHMiKTsKCiAgICAgIGlmIChldmVudC5kZWx0YVggPiBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCArPSAxMDsKICAgICAgfSBlbHNlIGlmIChldmVudC5kZWx0YVggPCBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCAtPSAxMDsKICAgICAgfQogICAgfSwKICAgIGNoZWNraW50ZW50OiBmdW5jdGlvbiBjaGVja2ludGVudChpbmRleCkgewogICAgICBpZiAodGhpcy5jaGF0RGV0YWlsc1tpbmRleCAtIDFdICE9IHVuZGVmaW5lZCkgewogICAgICAgIGlmICh0aGlzLmNoYXREZXRhaWxzW2luZGV4IC0gMV0uQk9UUmVzcG9uc2VbMF0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodGhpcy5jaGF0RGV0YWlsc1tpbmRleCAtIDFdLkJPVFJlc3BvbnNlWzBdLmludGVudCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgY2hhdF9kYXRlOiBmdW5jdGlvbiBjaGF0X2RhdGUoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmNoYXREZXRhaWxzID0gW107CiAgICAgIHRoaXMuc2VuZGVyX2lkID0gdGhpcy51c2VyX2FjdGlvbl9zdGF0c1tpbmRleF0udXNlcmlkOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmdlbmVyYWxfY2hhdF9oaXN0b3J5KCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLnNlbmRlcl9pZCwKICAgICAgICBpc3Nob3dkYXRlczogdHJ1ZSwKICAgICAgICBpc3NlYXJjaDogdGhpcy5pc3NlYXJjaCwKICAgICAgICBzZWFyY2hzdHJpbmc6IHRoaXMuc2VhcmNoc3RyaW5nCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLy8vY29uc29sZS5sb2dyZXNwb25zZSkKICAgICAgICBfdGhpczUuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgX3RoaXM1LmNoYXRfZGF0ZXMgPSByZXNwb25zZS5kYXRhLmRhdGEuRGF0ZXM7CiAgICAgICAgX3RoaXM1LnNlbGVjdGVkX2RhdGUgPSByZXNwb25zZS5kYXRhLmRhdGEuRGF0ZXNbcmVzcG9uc2UuZGF0YS5kYXRhLkRhdGVzLmxlbmd0aCAtIDFdOwoKICAgICAgICBfdGhpczUuY2hhdF9kYXRlcy5yZXZlcnNlKCk7IC8vIC8vLy9jb25zb2xlLmxvZ3RoaXMuc2VsZWN0ZWRfaW5kZXgpOwoKCiAgICAgICAgX3RoaXM1LnNlbGVjdGVkX2luZGV4ID0gaW5kZXg7CgogICAgICAgIF90aGlzNS5jaGF0X2NvbnZlcnNhdGlvbihpbmRleCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczUuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGF0X2NvbnZlcnNhdGlvbjogZnVuY3Rpb24gY2hhdF9jb252ZXJzYXRpb24oaW5kZXgsIGNoYXRfaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICAvLyAvLy8vY29uc29sZS5sb2dpbmRleCwgY2hhdF9pbmRleCk7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkICE9ICJnZW5lcmFsX2NoYXRfaGlzdG9yeSIpIHsKICAgICAgICB0aGlzLnNlbmRlcl9pZCA9IHRoaXMudXNlcl9hY3Rpb25fc3RhdHNbaW5kZXhdLnVzZXJpZDsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY29udmVyc2F0aW9uX3N0YXRzX3VybCgpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBzZW5kZXJfaWQ6IHRoaXMudXNlcl9hY3Rpb25fc3RhdHNbaW5kZXhdLnNlbmRlcl9pZCwKICAgICAgICAgIGFjdGlvbl90aW1lc3RhbXA6IHRoaXMudXNlcl9hY3Rpb25fc3RhdHNbaW5kZXhdLmFjdGlvbl9saXN0W2NoYXRfaW5kZXhdLnRpbWVzdGFtcAogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy8vL2NvbnNvbGUubG9ncmVzcG9uc2UpCiAgICAgICAgICBfdGhpczYuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczYudXNlcl9yZXBseSA9IFtdOwogICAgICAgICAgX3RoaXM2LmJvdF9yZXBseSA9IFtdOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRfdXNlciA9IHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMudXNlcm5hbWU7CgogICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLnVzZXIgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBfdGhpczYudXNlcl9yZXBseS5wdXNoKHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLnVzZXIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJfY29udmVyc2F0aW9ucy5pbnRlcmFjdGlvbnNbaV0uYm90ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgX3RoaXM2LmJvdF9yZXBseS5wdXNoKHJlc3BvbnNlLmRhdGEuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLmJvdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSA6aW5wdXQiKS5wcm9wKCJkaXNhYmxlZCIsIHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKF90aGlzNi50bHQoImJvdF91c2VyX25vX2NoYXRzX21zZyIpKTsKICAgICAgICAgICAgJCgiI2NvbnZlcnNhdGlvbl9tb2RlbDEiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgfQoKICAgICAgICAgICQoIiNjb252ZXJzYXRpb25fbW9kZWwxIDppbnB1dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczYuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGF0RGV0YWlscyA9IFtdOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICB1c2VybmFtZTogdGhpcy5zZW5kZXJfaWQsCiAgICAgICAgICBpc3Nob3djaGF0ZGV0YWlsczogdHJ1ZSwKICAgICAgICAgIGRhdGU6IHRoaXMuc2VsZWN0ZWRfZGF0ZSwKICAgICAgICAgIGlzc2VhcmNoOiB0aGlzLmlzc2VhcmNoLAogICAgICAgICAgc2VhcmNoc3RyaW5nOiB0aGlzLnNlYXJjaHN0cmluZwogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy8vL2NvbnNvbGUubG9ncmVzcG9uc2UpOwogICAgICAgICAgX3RoaXM2LnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgX3RoaXM2LnVzZXJfcmVwbHkgPSBbXTsKICAgICAgICAgIF90aGlzNi5ib3RfcmVwbHkgPSBbXTsKCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRfdXNlciA9IF90aGlzNi51c2VyX2FjdGlvbl9zdGF0c1tfdGhpczYuc2VsZWN0ZWRfaW5kZXhdLnVzZXJlbWFpbDsKICAgICAgICAgICAgX3RoaXM2LmNoYXREZXRhaWxzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXREZXRhaWxzOwogICAgICAgICAgICB2YXIgb2ZmZXJzX2luZGV4ID0gbnVsbDsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXM2LmNoYXREZXRhaWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfdGhpczYuY2hhdERldGFpbHNbaV0uQk9UUmVzcG9uc2UubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgIGlmIChfdGhpczYuY2hhdERldGFpbHNbaV0uQk9UUmVzcG9uc2Vbal0uc2hvcGlmeV9mZXRjaF9jdXN0b21lcl9pZCA9PSB0cnVlICYmIF90aGlzNi5jaGF0RGV0YWlsc1tpXS5CT1RSZXNwb25zZVtqXS50ZXh0ID09IG51bGwgJiYgX3RoaXM2LmNoYXREZXRhaWxzW2ldLlVzZXJRdWVyeSA9PT0gIlByb21vdGlvbmFsIG9mZmVycyIpIHsKICAgICAgICAgICAgICAgICAgb2ZmZXJzX2luZGV4ID0gaTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChvZmZlcnNfaW5kZXggIT0gbnVsbCkgewogICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzNi5jaGF0RGV0YWlsc1tvZmZlcnNfaW5kZXhdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgb2ZmZXJzX2luZGV4ID0gbnVsbDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIG5ld19hcnIgPSBfdGhpczYuY2hhdERldGFpbHMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXM2LmNoYXREZXRhaWxzID0gbmV3X2FycjsKICAgICAgICAgIH0gLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAvLyAgICQoIiNjb252ZXJzYXRpb25fbW9kZWwxIDppbnB1dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgICAgICAvLyAgICQoIiNjb252ZXJzYXRpb25fbW9kZWwxIDpidXR0b24iKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgICAgIC8vIH0sIDUwMCk7CgogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXM2LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcHJvZHVjdF92YXJpYXRpb246IGZ1bmN0aW9uIHByb2R1Y3RfdmFyaWF0aW9uKHByb2R1Y3RzX2xpc3QpIHsKICAgICAgZm9yICh2YXIgaSBpbiBwcm9kdWN0c19saXN0KSB7CiAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS5vcmRlcl9xdHkgPSAxOwogICAgICAgIHByb2R1Y3RzX2xpc3RbaV0uYnV5X3F0eSA9IDE7CgogICAgICAgIGlmIChwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnMgJiYgcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHByb2R1Y3RzX2xpc3RbaV0uaWQgPSBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uaWQ7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLmltZ191cmwgPSBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uaW1nX3VybCA9PT0gbnVsbCA/IHByb2R1Y3RzX2xpc3RbaV0uaW1nX3VybCA6IHByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS5pbWdfdXJsOwogICAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS5wZXJtYWxpbmsgPSBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0ucGVybWFsaW5rOwogICAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS52YXJpYW50X3RpdGxlID0gcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLnZhcmlhbnRfdGl0bGU7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLnN0b2NrX3F1YW50aXR5ID0gcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLnN0b2NrX3F1YW50aXR5OwogICAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS5zdG9ja19zdGF0dXMgPSBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uc3RvY2tfc3RhdHVzOwogICAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS5wcmljZSA9IHByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS5wcmljZTsKICAgICAgICAgIHByb2R1Y3RzX2xpc3RbaV0ucmVndWxhcl9wcmljZSA9IHByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS5yZWd1bGFyX3ByaWNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHByb2R1Y3RzX2xpc3Q7CiAgICB9LAogICAgc2VhcmNoX2NoYXQ6IGZ1bmN0aW9uIHNlYXJjaF9jaGF0KCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlYXJjaHN0cmluZyAhPSAiIikgewogICAgICAgIC8vIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICB0aGlzLnBhZ2Vfbm8gPSAxOwogICAgICAgIHRoaXMuaXNzZWFyY2ggPSB0cnVlLCB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNzaG93OiB0cnVlLAogICAgICAgICAgYWN0aW9uOiAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiLAogICAgICAgICAgcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICBwZXJwYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gsCiAgICAgICAgICBzZWFyY2hzdHJpbmc6IHRoaXMuc2VhcmNoc3RyaW5nCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvLy8vY29uc29sZS5sb2dyZXNwb25zZSkKICAgICAgICAgIF90aGlzNy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIF90aGlzNy51c2VyX2FjdGlvbl9zdGF0cyA9IFtdOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXM3LmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBLk1TR19DT0RFKSB7CiAgICAgICAgICAgIC8vLy9jb25zb2xlLmxvZ3Jlc3BvbnNlLmRhdGEuZGF0YS5jaGF0SGlzdG9yeSkKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmRhdGEuY2hhdEhpc3RvcnkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBfdGhpczcudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRIaXN0b3J5W2ldCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gLy9jb25zb2xlLmxvZ3Jlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhKQoKCiAgICAgICAgICAgIF90aGlzNy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhID09IHVuZGVmaW5lZCA/IDAgOiByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfZGF0YTsKICAgICAgICAgICAgX3RoaXM3LnRvdGFsX3BhZ2VzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX3BhZ2UgPT0gdW5kZWZpbmVkID8gMCA6IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlOwoKICAgICAgICAgICAgX3RoaXM3LnNldHBhZ2luYXRpb24oX3RoaXM3LnBhZ2Vfbm8pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXM3LmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBLk1TR19DT0RFKSB7CiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihfdGhpczcudGx0KCJib3RfdXNlcl9ub19yZXN1bHRfZm91bmRfbXNnIikpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXM3LmFwaV9zdGF0dXNfY29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IuTVNHX0NPREUpIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKF90aGlzNy50bHQoImJvdF91c2VyX2ludGVybmFsX3NlcnZlcl9tc2cxIikpOwoKICAgICAgICAgICAgX3RoaXM3LmxvYWRfYm90X3VzZXJfY2hhdF9oaXN0b3J5KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0b2FzdHIuZXJyb3IoX3RoaXM3LnRsdCgiYm90X3VzZXJfaW50ZXJuYWxfc2VydmVyX21zZzIiKSk7CgogICAgICAgICAgICBfdGhpczcubG9hZF9ib3RfdXNlcl9jaGF0X2hpc3RvcnkoKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzNy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0b2FzdHIuZXJyb3IodGhpcy50bHQoImJvdF91c2VyX2RhdGFfZm9yX3NlYXJjaF9tc2ciKSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZV9tb2RhbDogZnVuY3Rpb24gY2xvc2VfbW9kYWwoKSB7CiAgICAgICQoIiNjb252ZXJzYXRpb25fbW9kZWwxIikubW9kYWwoImhpZGUiKTsKICAgIH0sCiAgICBjaGVja19ib3Rfb2ZmZXJzOiBmdW5jdGlvbiBjaGVja19ib3Rfb2ZmZXJzKGJvdF9yZXBvbnNlKSB7CiAgICAgIHZhciByZXN1bHRfYm90ID0gYm90X3JlcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIEJvb2xlYW4oaXRlbS5vZmZlcnMpID09PSB0cnVlOwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHRfYm90Lmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gImRpc3BsYXkgOmJsb2NrIjsKICAgICAgfQoKICAgICAgcmV0dXJuICJkaXNwbGF5IDogZmxleCI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["BotUserChatHistory.vue"],"names":[],"mappings":"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AAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA;AACA;;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,WAAA;AACA,OANA,MAMA,IAAA,OAAA,IAAA,KAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;;AACA,aAAA,IAAA,GAAA,GAAA,OAAA,GAAA,CAAA,EAAA,GAAA,GAAA,KAAA,WAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA;AACA;AACA,OANA,MAMA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;;AACA,aAAA,IAAA,GAAA,GAAA,OAAA,GAAA,CAAA,EAAA,GAAA,IAAA,OAAA,GAAA,CAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,WAAA;AACA;AACA,KA9aA;AA+aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,UAjhBA,wBAihBA;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","sourcesContent":["<template>\n  <div class=\"table-box\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"show_loader\"></div>\n    <div\n      v-if=\"selected != 'general_chat_history'\"\n      class=\"table-responsive\"\n      style=\"min-height: 349px\"\n    >\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <!-- <th scope=\"col\">\n                                <div class=\"form-check checkbox checkbox-success\">\n                                    <label class=\"form-check-label\">\n                                        <input class=\"form-check-input checkbox-success\" type=\"checkbox\" id=\"selectall\">\n                                        <span class=\"icn\"></span>\n                                    </label>\n                                </div>\n        </th>-->\n            <th scope=\"col\" style=\"width: 25%; text-align: center\">\n              USER NAME\n            </th>\n            <th scope=\"col\" style=\"width: 20%; text-align: center\">\n              NAME OF TASK\n            </th>\n            <th scope=\"col\" style=\"width: 20%; text-align: center\">\n              LAST INTERACTED ON\n            </th>\n            <th scope=\"col\" style=\"width: 20%; text-align: center\">\n              TIME\n            </th>\n          </tr>\n        </thead>\n        <tr\n          v-for=\"(user, index) in user_action_stats\"\n          :key=\"index\"\n          v-show=\"!show_loader\"\n        >\n          <template v-if=\"user.username == 'Bot User' || user.username == ''\">\n            <td style=\"text-align: center\">\n              {{ user.username }}\n            </td>\n            <td>\n              <tr\n                v-for=\"(action, chat_index) in user.action_list\"\n                :key=\"chat_index\"\n              >\n                <td style=\"width: 50%; text-align: center\">\n                  <a\n                    href=\"javascript:void(0)\"\n                    data-toggle=\"modal\"\n                    data-target=\"#conversation_model\"\n                    @click=\"chat_conversation(index, chat_index)\"\n                    >{{ action.name }}</a\n                  >\n                </td>\n              </tr>\n            </td>\n\n            <td style=\"text-align: center\">\n              <tr\n                v-for=\"(action, chat_index) in user.action_list\"\n                :key=\"chat_index\"\n              >\n                <td style=\"width: 10%\">{{ action.date }}</td>\n              </tr>\n            </td>\n\n            <td style=\"text-align: center\">\n              <tr\n                v-for=\"(action, chat_index) in user.action_list\"\n                :key=\"chat_index\"\n              >\n                <td style=\"width: 10%\">{{ action.time }}</td>\n              </tr>\n            </td>\n          </template>\n        </tr>\n      </table>\n    </div>\n\n    <!-- for general_chat_history -->\n    <div\n      v-if=\"selected == 'general_chat_history'\"\n      class=\"table-responsive\"\n      style=\"min-height: 349px\"\n    >\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <!-- <th\n                  scope=\"col\"\n                  style=\"width: 20%; text-align: center\"\n              >\n                  USER NAME\n              </th> -->\n            <th scope=\"col\" style=\"width: 30%; text-align: center\">\n              {{ tlt(\"bot_user_unique_id_label\") }}\n            </th>\n            <!-- <th\n                  scope=\"col\"\n                  style=\"width: 20%; text-align: center\"\n              >\n                  PHONE NUMBER\n              </th> -->\n            <th scope=\"col\" style=\"width: 30%; text-align: center;\">\n              {{ tlt(\"bot_user_interacted_label\") }}\n            </th>\n            <th scope=\"col\" style=\"width: 40%; text-align: center\">\n              {{ tlt(\"bot_user_view_chat_label\") }}\n            </th>\n            <!-- <th scope=\"col\" style=\"width: 20%;text-align: center;\">NAME OF TASK</th>\n          <th scope=\"col\" style=\"width: 20%;text-align: center;\">DATE</th>\n          <th scope=\"col\" style=\"width: 20%;text-align: center;\">TIME</th>-->\n          </tr>\n        </thead>\n        <tr\n          v-for=\"(user, index) in user_action_stats\"\n          :key=\"index\"\n          v-show=\"!show_loader\"\n        >\n          <template>\n            <!-- <td class=\"text-center\">{{ user.username }}</td> -->\n            <td class=\"text-center\">{{ user.userid }}</td>\n            <!-- <td class=\"text-center\">{{ user.userphonenumber }}</td> -->\n            <td class=\"text-center\">\n              {{ format_date_in_local_timezone(user.date) }}\n            </td>\n            <td style=\"width: 50%; text-align: center\">\n              <a\n                href=\"javascript:void(0)\"\n                data-toggle=\"modal\"\n                data-target=\"#conversation_model1\"\n                @click=\"chat_date(index)\"\n                style=\"text-align: center\"\n                >{{ tlt(\"chat_history_bot_view_history\") }}</a\n              >\n            </td>\n          </template>\n          <!-- <a\n                href=\"javascript:void(0)\"\n                data-toggle=\"modal\"\n                data-target=\"#conversation_model1\"\n        >{{action.name}}</a>-->\n\n          <!-- <td>\n            <tr v-for=\"(action,chat_index) in user.action_list\" :key=\"chat_index\">\n            <td style=\"width: 50%;text-align: center;\">\n                <a\n                href=\"javascript:void(0)\"\n                data-toggle=\"modal\"\n                data-target=\"#conversation_model\"\n                @click=\"chat_conversation(index,chat_index)\"\n                >{{action.name}}</a>\n            </td>\n            </tr>\n        </td>\n        <td style=\"text-align:center;\">\n            <tr v-for=\"(action,chat_index) in user.action_list\" :key=\"chat_index\">\n            <td style=\"width: 10%;\">{{action.date}}</td>\n            </tr>\n        </td>\n        <td style=\"text-align:center;\">\n            <tr v-for=\"(action,chat_index) in user.action_list\" :key=\"chat_index\">\n            <td style=\"width: 10%;\">{{action.time}}</td>\n            </tr>\n        </td>-->\n        </tr>\n      </table>\n    </div>\n\n    <div class=\"pagin-table\" style=\"margin-top: 2%\">\n      <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination justify-content-center\">\n          <li class=\"page-item\">\n            <a\n              class=\"page-link\"\n              href=\"javascript:void(0)\"\n              @click=\"page_require(page_no - 1)\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"8.667\"\n                height=\"15.204\"\n                viewBox=\"0 0 8.667 15.204\"\n              >\n                <g\n                  id=\"arrow-point-to-left\"\n                  transform=\"translate(105.806 15.204) rotate(180)\"\n                >\n                  <path\n                    id=\"Path_1136\"\n                    data-name=\"Path 1136\"\n                    d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                    transform=\"translate(0 0)\"\n                    fill=\"#9499ae\"\n                  />\n                </g>\n              </svg>\n            </a>\n          </li>\n          <li\n            :class=\"'page-item ' + pagination_class(pageno)\"\n            v-for=\"pageno in page_array\"\n            :key=\"pageno\"\n          >\n            <a\n              v-if=\"pageno == '...s' || pageno == '...l'\"\n              class=\"page-link\"\n              href=\"javascript:void(0)\"\n              @click=\"page_require(pageno)\"\n              >...</a\n            >\n            <a\n              v-if=\"pageno != '...s' && pageno != '...l'\"\n              class=\"page-link\"\n              href=\"#\"\n              @click=\"page_require(pageno)\"\n              >{{ pageno }}</a\n            >\n          </li>\n          <li class=\"page-item\">\n            <a\n              class=\"page-link\"\n              href=\"javascript:void(0)\"\n              @click=\"page_require(page_no + 1)\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"8.667\"\n                height=\"15.204\"\n                viewBox=\"0 0 8.667 15.204\"\n              >\n                <g id=\"arrow-point-to-right\" transform=\"translate(-97.139 0)\">\n                  <path\n                    id=\"Path_1136\"\n                    data-name=\"Path 1136\"\n                    d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                    transform=\"translate(0 0)\"\n                    fill=\"#9499ae\"\n                  />\n                </g>\n              </svg>\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </div>\n\n    <div\n      v-if=\"selected != 'general_chat_history'\"\n      class=\"modal fade dash-modal\"\n      id=\"conversation_model\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"conversation_model\"\n      aria-hidden=\"true\"\n      style=\"margin-left: -1%\"\n    >\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/user-blue.png\" alt />\n              </div>\n              <h3>{{ tlt(\"chat_history_header\") }}</h3>\n            </div>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n            <div>\n              <div v-for=\"(user, index) in user_reply\" :key=\"index\">\n                <span class=\"d-flex\">\n                  <h5>{{ current_user }}: &nbsp;</h5>\n                  <p>{{ user }}</p>\n                </span>\n                <span style=\"display: flex\">\n                  <h5>Bot: &nbsp;</h5>\n                  <p>{{ bot_reply[index] }}</p>\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"selected == 'general_chat_history'\"\n      class=\"modal fade dash-modal\"\n      id=\"conversation_model1\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"conversation_model1\"\n      aria-hidden=\"true\"\n      style=\"margin-left: -1%\"\n    >\n      <div\n        class=\"modal-dialog modal-dialog-centered\"\n        role=\"document\"\n        style=\"max-width: 60%\"\n      >\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/user-blue.png\" alt />\n              </div>\n              <h3>{{ tlt(\"chat_history_header\") }}</h3>\n            </div>\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"/img/close-icn.png\" alt />\n            </button>\n            <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" @click=\"close_modal\">&times;</button> -->\n            <div>\n              <!-- <div>\n                      <select\n                        id=\"select_coversation_date\"\n                        v-model=\"selected_date\"\n                        class=\"form-control\"\n                        @change=\"chat_conversation\"\n                      >\n                        <option\n                          v-for=\"(date, index) in chat_dates\"\n                          :key=\"index\"\n                          :value=\"date\"\n                        >\n                          {{ date }}\n                        </option>\n                      </select>\n                    </div> -->\n              <div class=\"form-group\">\n                <label>{{ tlt(\"time_range_label\") }}</label>\n                <multiselect\n                  v-model=\"selected_date\"\n                  id=\"select_coversation_date\"\n                  :options=\"chat_dates\"\n                  :searchable=\"true\"\n                  :close-on-select=\"true\"\n                  :show-labels=\"false\"\n                  :allow-empty=\"false\"\n                  @input=\"chat_conversation\"\n                  :placeholder=\"tlt('select_time')\"\n                  :disabled-selected=\"false\"\n                  :hide-selected=\"false\"\n                  :max-height=\"200\"\n                >\n                  <span>{{ selected_date }}</span>\n                </multiselect>\n              </div>\n              <div v-show=\"chatDetails.length == 0\">\n                <content-loader\n                  viewBox=\"0 0 180 360\"\n                  :speed=\"5\"\n                  primaryColor=\"#f3f3f3\"\n                  secondaryColor=\"#ecebeb\"\n                >\n                  <rect x=\"40\" y=\"3\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                  <rect x=\"2\" y=\"3\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                  <rect x=\"40\" y=\"23\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                  <rect x=\"2\" y=\"23\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                  <rect x=\"40\" y=\"45\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                  <rect x=\"2\" y=\"45\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                  <rect x=\"40\" y=\"66\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                  <rect x=\"2\" y=\"66\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                  <rect x=\"40\" y=\"88\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                  <rect x=\"2\" y=\"88 \" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                  <rect x=\"40\" y=\"108\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                  <rect x=\"2\" y=\"108\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                </content-loader>\n              </div>\n              <p></p>\n              <div\n                style=\"text-align:justify\"\n                v-for=\"(user, index) in chatDetails\"\n                :key=\"index\"\n              >\n                <span\n                  v-if=\"user.UserQuery != ''\"\n                  class=\"py-0 my-0\"\n                  style=\"display: flex; height-0%;\"\n                >\n                  <h5\n                    class=\"py-0 mt-2 mb-0\"\n                    style=\"float:left;width:3%; height:0%;\"\n                  >\n                    Q:\n                  </h5>\n                  <p\n                    class=\"py-0 mb-0\"\n                    style=\"word-break: break-all; margin-top:11px;\"\n                  >\n                    {{ user.UserQuery }}\n                  </p>\n                </span>\n                <div v-if=\"user.UserQuery != '' || checkintent(index)\">\n                  <span\n                    v-for=\"(bot, index2) in user.BOTResponse\"\n                    :key=\"index2\"\n                    :style=\"check_bot_offers(user.BOTResponse)\"\n                  >\n                    <h5\n                      v-if=\"\n                        bot.img != undefined ||\n                          bot.text != undefined ||\n                          bot.products != undefined ||\n                          bot.offers != undefined ||\n                          bot.template == 'utter_default' ||\n                          bot.contact_us_email != undefined ||\n                          bot.contact_us_phone_number != undefined ||\n                          bot.buttons != undefined\n                      \"\n                      class=\"py-0 mt-0 mb-0\"\n                      style=\"float:left;width:3%; margin-bottom:0px;!important\"\n                    >\n                      A:\n                    </h5>\n                    <!-- <p style=\"margin-top:2px; margin-bottom:0px; width:100%\" \n                            v-if=\"bot.contact_us_email != undefined\"\n                          >Please feel free to reachout to us at : <span v-html=\"bot.contact_us_email\"></span></p> -->\n                    <div\n                      v-if=\"Boolean(bot.buttons) === true && bot.text == ''\"\n                      style=\"width: max-content;\"\n                    >\n                      <strong\n                        v-if=\"\n                          Boolean(bot.buttons) === true &&\n                            bot.buttons.length > 0 &&\n                            bot.text == ''\n                        \"\n                        style=\"color: dimgray;\"\n                      >\n                        Options :</strong\n                      >\n                      <span\n                        v-for=\"(button, index3) in bot.buttons\"\n                        :key=\"index3\"\n                        style=\"border: 1px solid #cccccc; cursor: default; padding: 2px;\n                                      margin-right: 5px; background: #f2f2f2; border-radius: 5px;\"\n                      >\n                        <span class=\"p-0 mb-1\"> {{ button.title }}</span>\n                      </span>\n                    </div>\n                    <p\n                      style=\"margin-top:2px; margin-bottom:0px; width:100%\"\n                      v-if=\"bot.contact_us_email != undefined\"\n                      v-html=\"\n                        messaging_platform_formating(bot.contact_us_email) +\n                          messaging_platform_formating_number(\n                            bot.contact_us_phone_number\n                          )\n                      \"\n                    ></p>\n                    <p\n                      style=\"margin-top:2px; margin-bottom:0px; width:100%\"\n                      v-if=\"bot.message != undefined\"\n                      v-html=\"confusion_message_formating(bot.message)\"\n                    ></p>\n                    <div>\n                      <p\n                        style=\"margin-top:2px; margin-bottom:0px; width:100%;\"\n                        v-if=\"bot.text != undefined && bot.text != ''\"\n                        v-html=\"bot.text\"\n                      ></p>\n                      <span v-if=\"bot.video != undefined && bot.video != ''\"\n                        ><a :href=\"bot.video\" target=\"blank\"\n                          >Attach Video</a\n                        ></span\n                      >\n                    </div>\n                    <div\n                      v-for=\"(offer, index4) in bot.offers\"\n                      :key=\"index4\"\n                      style=\"width:100%; margin-bottom:0px; padding-left:1.7rem\"\n                      class=\"pb-0\"\n                    >\n                      <span\n                        v-html=\"offer.offer\"\n                        v-if=\"bot.offers != undefined\"\n                      ></span>\n                    </div>\n                    <div\n                      style=\"float:left;width:100%\"\n                      v-if=\"bot.img != undefined && bot.img != ''\"\n                    >\n                      <img :src=\"bot.img\" />\n                    </div>\n                    <div\n                      style=\"height:140px; width:140px;position:relative\"\n                      v-if=\"bot.image != undefined && bot.image != ''\"\n                    >\n                      <img\n                        style=\"position:absolute;height:inherit\"\n                        :src=\"bot.image\"\n                      />\n                    </div>\n\n                    <!-- <p v-if=\"bot.intent!=undefined\" >{{bot.intent}}</p> -->\n                    <div\n                      class=\"buy-products\"\n                      style=\"display: flex; overflow: auto hidden; float:left;width:100% \"\n                      @mousewheel=\"scroll_div\"\n                      v-if=\"bot.products != undefined\"\n                    >\n                      <div\n                        class=\"image-container\"\n                        v-for=\"(product, index1) in product_variation(\n                          bot.products.products_list\n                        )\"\n                        :key=\"index1\"\n                      >\n                       <span v-if=\"bot.img != undefined && bot.img != ''\" >                        <img\n                          :src=\"check_image_type(product.img_url)\"\n                          class=\"center-block p-0 m-0\"\n                          style=\"height:140px; width:140px;\"\n                        /></span>\n                        <p class=\"p-0 mb-1\">{{ product.title }}</p>\n                        <p class=\"p-0 mb-1\">{{ product.price }}</p>\n                        <!-- <p class=\"buy-now\" @click=\"generate_payment(product.price)\">Buy Now</p> -->\n                      </div>\n                    </div>\n                  </span>\n                </div>\n                <!-- Showing Products -->\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Multiselect from \"vue-multiselect\";\nimport moment from \"moment\";\nimport { ContentLoader } from \"vue-content-loader\";\nimport swal from \"sweetalert2\";\n\nexport default {\n  components: {\n    Multiselect,\n    ContentLoader\n  },\n  data() {\n    return {\n      number_of_rows: \"\",\n      total_pages: 0,\n      page_no: 1,\n      per_page: 15,\n      user_list: [],\n      user_reply: [],\n      bot_reply: [],\n      chatDetails: [],\n      action_stats: [],\n      user_action_stats: [],\n      current_user: \"\",\n      timestamp: \"\",\n      sender_id: [],\n      selected: \"general_chat_history\",\n      selected_date: \"\",\n      selected_index: null,\n      chat_dates: [],\n      companyname: this.$session.get(\"UserInformation\").company_name,\n      companyid: this.$session.get(\"UserInformation\").company_id,\n      issearch: false,\n      searchstring: \"\",\n      spinnerOn: false,\n      view_component_name: \"portal_user\",\n      // fingerprintregex:/^[0-9]{10}$/,\n      fingerprintregex: /^[0-9-+\\/\\s]{9,}$/,\n      page_array: [],\n      show_loader: false,\n      contact_help_email: null,\n      retail_web_framework: this.$session.get(\"retail_web_framework\"),\n      filter_chat_history: this.$session.get(\"filter_chat_history\")\n    };\n  },\n  mounted() {\n    this.retail_web_framework = this.$session.get(\"retail_web_framework\");\n    $(\"#selectall\").click(function() {\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    this.$root.$on(\"search_bot_user_chat_history\", data => {\n      this.searchstring = data;\n      this.search_chat();\n      // this.search_question();\n    });\n    this.$root.$on(\"load_bot_user_chat_history\", data => {\n      this.load_bot_user_chat_history();\n    });\n  },\n  beforeDestroy() {\n    this.$root.$off(\"search_bot_user_chat_history\");\n    this.$root.$off(\"load_bot_user_chat_history\");\n  },\n  created() {\n    this.load_product_settings();\n    this.load_bot_user_chat_history();\n  },\n  methods: {\n    format_date_in_local_timezone(date) {\n      var testDateUtc = moment.utc(date);\n      var localDate = moment(testDateUtc)\n        .local()\n        .toDate();\n      // note: do not format time below to show hour and minute because \"View Chat History\" show all message of that date not specific hour-minute time.\n      localDate = moment(localDate).format(\"ddd MMM D YYYY\");\n      return localDate.toString();\n    },\n    messaging_platform_formating(message) {\n      return \"Please feel free to reachout to us at : \" + message;\n    },\n    messaging_platform_formating_number(message) {\n      if (message != null) {\n        return \" or call us at :\" + message;\n      } else {\n        return \"\";\n      }\n    },\n    confusion_message_formating(message) {\n      return message.split(\"{email}\").join(this.contact_help_email);\n    },\n    load_product_settings() {\n      this.show_loader = true;\n      axios\n        .post(\n          api_calls.product_settings(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_get: true\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n          ////console.logresponse)\n          var webframework = this.retail_web_framework;\n          if(webframework){\n            if (\n            response.data.message.MSG_CODE == this.api_status_code.DATA_AVAILABLE.MSG_CODE \n          ) {\n            this.contact_help_email = webframework === undefined ? response.data.data.details.contact_help_email:\n              response.data.data[webframework + \"_details\"].contact_help_email;\n          }\n          // else {\n          //   toastr.error(\"Internal Server Error\");\n          // }\n          }else{\n            if (\n           \n            response.data.message.MSG_CODE == this.api_status_code.DATA_AVAILABLE.MSG_CODE \n          ) {\n            this.contact_help_email =\n              response.data.data.details.contact_help_email;\n          }\n          // else {\n          //   toastr.error(\"Internal Server Error\");\n          // }\n          }\n          \n        })\n        .catch(e => {\n          this.show_loader = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    check_image_type(image) {\n      if (typeof image == \"string\") {\n        return image;\n      } else {\n        return image.src;\n      }\n    },\n    load_bot_user_chat_history() {\n      this.page_no = 1;\n      this.checked_list = [];\n      this.searchstring = \"\";\n      this.action_stats = [];\n      this.user_action_stats = [];\n      this.show_loader = true;\n      axios\n        .post(\n          api_calls.action_stats_url(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n                    ////console.logresponse)\n\n          this.action_stats = response.data.data.action_stats;\n          this.action_stats.push({\n            Hits: 1,\n            Name: \"general_chat_history\"\n          });\n        })\n        .catch(e => {\n          this.show_loader = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n      this.show_loader = true;\n      axios\n        .post(\n          api_calls.general_chat_history(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            isshow: true,\n            action: \"general_chat_history\",\n            filter_chat_history: this.$session.get(\"filter_chat_history\"),\n            pageno: this.page_no,\n            perpage: this.per_page,\n            issearch: this.issearch\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n                    //console.logresponse , \"chatttttttttttt\")\n\n          this.show_loader = false;\n          this.user_action_stats = [];\n          if(response.data.message.MSG_CODE == this.api_status_code.DATA_AVAILABLE.MSG_CODE){\n              for (let i = 0; i < response.data.data.chatHistory.length; i++) {\n                ////console.logresponse.data.data.chatHistory)\n              // ////console.log\n              //   this.fingerprintregex.test(response.data.data.chatHistory[i]._id.User)\n              // );\n              if (\n                this.fingerprintregex.test(response.data.data.chatHistory[i]._id.User)\n              ) {\n                this.user_action_stats.push({\n                  useremail: response.data.data.chatHistory[i].Email,\n                  userphonenumber: response.data.data.chatHistory[i].PhoneNumber,\n                  username:\n                    response.data.data.chatHistory[i].UserName == null\n                      ? \"Guest user\"\n                      : response.data.data.chatHistory[i].UserName,\n                  userid: response.data.data.chatHistory[i]._id.User,\n                  date: response.data.data.chatHistory[i].Date\n                });\n                // ////console.logthis.user_action_stats, response.data.data.chatHistory[i]);\n              } else {\n                this.user_action_stats.push({\n                  useremail: response.data.data.chatHistory[i]._id.User,\n                  userphonenumber: response.data.data.chatHistory[i].PhoneNumber,\n                  username:\n                    response.data.data.chatHistory[i].UserName == null\n                      ? \"Guest user\"\n                      : response.data.data.chatHistory[i].UserName,\n                  userid: response.data.data.chatHistory[i]._id.User,\n                  date: response.data.data.chatHistory[i].Date\n                });\n              }\n              // this.user_action_stats.push({\n              //     useremail : response.data.data.chatHistory[i]._id.User,\n              //     userphonenumber : response.data.data.chatHistory[i].PhoneNumber,\n              //     username : response.data.data.chatHistory[i].UserName,\n              // });\n            }\n          }else if(response.data.message.MSG_CODE == this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE){\n            swal({\n                        text: response.data.message.MSG,\n                        showCancelButton: false,\n                        showConfirmButton: false,\n                        type: \"info\",\n                        toast:true,\n                        position:\"top-end\",\n                        timer:2500                       \n                    });\n          }else if(response.data.message.MSG_CODE == this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE){\n            swal({\n                        text: response.data.message.MSG,\n                        toast: true,\n                        showCancelButton: false,\n                        showConfirmButton: false,\n                        type: \"error\",\n                       \n                    });\n          }\n          //console.logresponse.data.pagination.total_data)\n          this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n          this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n          this.setpagination(this.page_no);\n          //console.logthis.total_pages)\n\n        })\n        .catch(e => {\n          ////console.loge)\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n          this.show_loader = false;\n        });\n    },\n    page_require(page_no) {\n      this.show_loader = true;\n  //console.log\"clicked\" , this.selected)\n      if (this.selected != \"general_chat_history\") {\n        // ////console.logthis.total_pages, page_no);\n\n        if (page_no == 0 || page_no == this.total_pages + 1) {\n         \n        } else {\n          // this.page_no = page_no;\n          if (page == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (page == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = page;\n          }\n          // this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.action_usage_stats_url(),\n              {\n                company_name: this.companyname,\n                company_id: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                // action: this.action_stats[index].Name,\n                action: this.selected,\n                page_no: this.page_no,\n                per_page: this.per_page\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`\n                }\n              }\n            )\n            .then(response => {\n                        ////console.logresponse)\n\n              // this.spinnerOn = false;\n              // this.user_list = [];\n              // for (var i in response.data[0]) {\n              //   this.intentlist.push({\n              //     intent: response.data[0][i],\n              //     email: response.data[1][i],\n              //     created: response.data[2][i]\n              //   });\n              // }\n            })\n            .catch(e => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      } else {\n        if (page_no == 0 || page_no == this.total_pages + 1) {\n          this.load_bot_user_chat_history();\n        }\n         else {\n          if (page_no == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (page_no == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = page_no;\n          }\n          // this.page_no = page_no;\n          this.show_loader = true;\n          axios\n            .post(\n              api_calls.general_chat_history(),\n              {\n                company_name: this.companyname,\n                company_id: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                isshow: true,\n                action: this.selected,\n                filter_chat_history: this.$session.get(\"filter_chat_history\"),\n                pageno: this.page_no,\n                perpage: this.per_page,\n                issearch: this.issearch\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`\n                }\n              }\n            )\n            .then(response => {\n                        ////console.logresponse)\n\n              this.show_loader = false;\n              this.user_action_stats = [];\n              for (let i = 0; i < response.data.data.chatHistory.length; i++) {\n                ////console.logresponse.data.data.chatHistory)\n                if (\n                  this.fingerprintregex.test(\n                    response.data.data.chatHistory[i]._id.User\n                  )\n                ) {\n                  this.user_action_stats.push({\n                    useremail: response.data.data.chatHistory[i].Email,\n                    userphonenumber: response.data.data.chatHistory[i].PhoneNumber,\n                    username: response.data.data.chatHistory[i].UserName,\n                    userid: response.data.data.chatHistory[i]._id.User,\n                    date: response.data.data.chatHistory[i].Date\n                  });\n                } else {\n                  this.user_action_stats.push({\n                    useremail: response.data.data.chatHistory[i]._id.User,\n                    userphonenumber: response.data.data.chatHistory[i].PhoneNumber,\n                    username: response.data.data.chatHistory[i].UserName,\n                    userid: response.data.data.chatHistory[i]._id.User,\n                    date: response.data.data.chatHistory[i].Date\n                  });\n                }\n                // this.user_action_stats.push({\n                //     useremail : response.data.data.chatHistory[i]._id.User,\n                //     userphonenumber : response.data.data.chatHistory[i].PhoneNumber,\n                //     username : response.data.data.chatHistory[i].UserName,\n                // });\n              }\n\n              //console.logresponse.data.pagination.total_data)\n          this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n          this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n          this.setpagination(this.page_no);\n            })\n            .catch(e => {\n              ////console.loge)\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    // view_action() {\n    //   var action_name = event.target.value;\n    //   this.selected = action_name;\n    //   this.searchstring = \"\";\n    //   if (action_name != \"general_chat_history\") {\n    //     this.spinnerOn = true;\n    //     axios\n    //       .post(\n    //         api_calls.action_usage_stats_url(),\n    //         {\n    //           companyname: this.companyname,\n    //           companyid: this.companyid,\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           action: action_name,\n    //           page_no: 1,\n    //           per_page: this.per_page,\n    //         },\n    //         {\n    //           headers: {\n    //             Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //           },\n    //         }\n    //       )\n    //       .then((response) => {\n    //         this.spinnerOn = false;\n    //         this.number_of_rows = response.data.number_of_rows;\n    //         this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n    //         this.user_action_stats = [];\n    //         for (var i in response.data.users) {\n    //           if (response.data.users[i].action_hits != 0) {\n    //             let action_history = [];\n    //             for (var j in response.data.users[i].action_hits) {\n    //               action_history.push(response.data.users[i].action_hits[j]);\n    //             }\n    //             this.user_action_stats.push({\n    //               username: response.data.users[i].username,\n    //               action_list: action_history,\n    //               sender_id: response.data.users[i].sender_id,\n    //             });\n    //           }\n    //         }\n    //       })\n    //       .catch((e) => {\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   } else {\n    //     this.spinnerOn = true;\n    //     axios\n    //       .post(\n    //         api_calls.general_chat_history(),\n    //         {\n    //           companyname: this.companyname,\n    //           companyid: this.companyid,\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           isshow: true,\n    //           action: action_name,\n    //           pageno: this.page_no,\n    //           perpage: this.per_page,\n    //           issearch: this.issearch,\n    //         },\n    //         {\n    //           headers: {\n    //             Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //           },\n    //         }\n    //       )\n    //       .then((response) => {\n    //         this.spinnerOn = false;\n    //         this.user_action_stats = [];\n    //         for (let i = 0; i < response.data.data.chatHistory.length; i++) {\n    //           this.user_action_stats.push({\n    //             useremail: response.data.data.chatHistory[i]._id.User,\n    //             userphonenumber: response.data.data.chatHistory[i].PhoneNumber,\n    //             username: response.data.data.chatHistory[i].UserName,\n    //           });\n    //         }\n    //       })\n    //       .catch((e) => {\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   }\n    // },\n    scroll_div() {\n      var doc = document.querySelector(\".buy-products\");\n      if (event.deltaX > event.deltaY) {\n        doc.scrollLeft += 10;\n      } else if (event.deltaX < event.deltaY) {\n        doc.scrollLeft -= 10;\n      }\n    },\n    checkintent(index) {\n      if (this.chatDetails[index - 1] != undefined) {\n        if (this.chatDetails[index - 1].BOTResponse[0] != undefined) {\n          if (this.chatDetails[index - 1].BOTResponse[0].intent != undefined) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    chat_date(index) {\n      this.chatDetails = [];\n      this.sender_id = this.user_action_stats[index].userid;\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.general_chat_history(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            username: this.sender_id,\n            isshowdates: true,\n            issearch: this.issearch,\n            searchstring: this.searchstring\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n                    ////console.logresponse)\n\n          this.spinnerOn = false;\n          this.chat_dates = response.data.data.Dates;\n          this.selected_date =\n            response.data.data.Dates[response.data.data.Dates.length - 1];\n          this.chat_dates.reverse();\n          // ////console.logthis.selected_index);\n          this.selected_index = index;\n          this.chat_conversation(index);\n        })\n        .catch(e => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    chat_conversation(index, chat_index) {\n      // ////console.logindex, chat_index);\n      if (this.selected != \"general_chat_history\") {\n        this.sender_id = this.user_action_stats[index].userid;\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.conversation_stats_url(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              sender_id: this.user_action_stats[index].sender_id,\n              action_timestamp: this.user_action_stats[index].action_list[\n                chat_index\n              ].timestamp\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n                      ////console.logresponse)\n\n            this.spinnerOn = false;\n            this.user_reply = [];\n            this.bot_reply = [];\n            if (response.data != null) {\n              this.current_user = response.data.data.user_conversations.username;\n              for (var i in response.data.data.user_conversations.interactions) {\n                if (\n                  response.data.data.user_conversations.interactions[i].user !=\n                  undefined\n                ) {\n                  this.user_reply.push(\n                    response.data.data.user_conversations.interactions[i].user\n                  );\n                } else if (\n                  response.data.data.user_conversations.interactions[i].bot !=\n                  undefined\n                ) {\n                  this.bot_reply.push(\n                    response.data.data.user_conversations.interactions[i].bot\n                  );\n                }\n              }\n              $(\"#conversation_model1 :input\").prop(\"disabled\", true);\n            } else {\n              toastr.error(this.tlt(\"bot_user_no_chats_msg\"));\n              $(\"#conversation_model1\").modal(\"hide\");\n            }\n            $(\"#conversation_model1 :input\").prop(\"disabled\", true);\n          })\n          .catch(e => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        this.chatDetails = [];\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.general_chat_history(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              username: this.sender_id,\n              isshowchatdetails: true,\n              date: this.selected_date,\n              issearch: this.issearch,\n              searchstring: this.searchstring\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n            ////console.logresponse);\n            this.spinnerOn = false;\n            this.user_reply = [];\n            this.bot_reply = [];\n            if (response.data.data != null) {\n              this.current_user = this.user_action_stats[\n                this.selected_index\n              ].useremail;\n              this.chatDetails = response.data.data.chatDetails;\n              let offers_index = null;\n              for (var i = 0; i < this.chatDetails.length; i++) {\n                for (\n                  let j = 0;\n                  j < this.chatDetails[i].BOTResponse.length;\n                  j++\n                ) {\n                  if (\n                    this.chatDetails[i].BOTResponse[j]\n                      .shopify_fetch_customer_id == true &&\n                    this.chatDetails[i].BOTResponse[j].text == null &&\n                    this.chatDetails[i].UserQuery === \"Promotional offers\"\n                  ) {\n                    offers_index = i;\n                  }\n                }\n                if (offers_index != null) {\n                  delete this.chatDetails[offers_index];\n                }\n                offers_index = null;\n              }\n              const new_arr = this.chatDetails.filter(a => a);\n              this.chatDetails = new_arr;\n            }\n            // setTimeout(() => {\n            //   $(\"#conversation_model1 :input\").prop(\"disabled\", true);\n            //   $(\"#conversation_model1 :button\").prop(\"disabled\", false);\n            // }, 500);\n          })\n          .catch(e => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    product_variation(products_list) {\n      for (var i in products_list) {\n        products_list[i].order_qty = 1;\n        products_list[i].buy_qty = 1;\n        if (\n          products_list[i].variations &&\n          products_list[i].variations.length > 0\n        ) {\n          products_list[i].id = products_list[i].variations[0].id;\n          products_list[i].img_url =\n            products_list[i].variations[0].img_url === null\n              ? products_list[i].img_url\n              : products_list[i].variations[0].img_url;\n          products_list[i].permalink = products_list[i].variations[0].permalink;\n          products_list[i].variant_title =\n            products_list[i].variations[0].variant_title;\n          products_list[i].stock_quantity =\n            products_list[i].variations[0].stock_quantity;\n          products_list[i].stock_status =\n            products_list[i].variations[0].stock_status;\n          products_list[i].price = products_list[i].variations[0].price;\n          products_list[i].regular_price =\n            products_list[i].variations[0].regular_price;\n        }\n      }\n      return products_list;\n    },\n    search_chat() {\n      if (this.searchstring != \"\") {\n        // this.spinnerOn = true;\n        this.page_no = 1;\n        (this.issearch = true), (this.spinnerOn = true);\n        axios\n          .post(\n            api_calls.general_chat_history(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              isshow: true,\n              action: \"general_chat_history\",\n              pageno: this.page_no,\n              perpage: this.per_page,\n              issearch: this.issearch,\n              searchstring: this.searchstring\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`\n              }\n            }\n          )\n          .then(response => {\n                      ////console.logresponse)\n\n            this.spinnerOn = false;\n            this.user_action_stats = [];\n            if (\n           \n            response.data.message.MSG_CODE == this.api_status_code.EMPTY_DATA.MSG_CODE \n            ) {\n                              ////console.logresponse.data.data.chatHistory)\n\n              for (let i = 0; i < response.data.data.chatHistory.length; i++) {\n                this.user_action_stats.push({\n                  username: response.data.data.chatHistory[i]\n                });\n              }\n               //console.logresponse.data.pagination.total_data)\n          this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n          this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n          this.setpagination(this.page_no);\n             \n            } else if (response.data.message.MSG_CODE ==  this.api_status_code.EMPTY_DATA.MSG_CODE \n) {\n              toastr.error(this.tlt(\"bot_user_no_result_found_msg\"));\n            } else if (response.data.message.MSG_CODE == this.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE ) {\n              toastr.error(this.tlt(\"bot_user_internal_server_msg1\"));\n              this.load_bot_user_chat_history();\n            } else {\n              toastr.error(this.tlt(\"bot_user_internal_server_msg2\"));\n              this.load_bot_user_chat_history();\n            }\n            \n          })\n          .catch(e => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        toastr.error(this.tlt(\"bot_user_data_for_search_msg\"));\n      }\n    },\n    close_modal() {\n      $(\"#conversation_model1\").modal(\"hide\");\n    },\n    check_bot_offers(bot_reponse) {\n      let result_bot = bot_reponse.filter(item => {\n        return Boolean(item.offers) === true;\n      });\n      if (result_bot.length > 0) {\n        return \"display :block\";\n      }\n      return \"display : flex\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.table td,\n.table th {\n  vertical-align: middle;\n}\n.view-pass {\n  position: initial;\n  right: 15px;\n  top: 15px;\n}\nimg {\n  max-width: 100%;\n  max-height: 100%;\n}\n.image-container {\n  /* background: #fff;\n  border: #fff 1px solid;\n  border-radius: 5px 5px 5px 5px; */\n  margin: 5px;\n  /* height: 180px; */\n}\n.image-container {\n  font-size: 15px;\n  text-align: center;\n}\n.search-bar {\n  height: 32px;\n}\n.darkblue-btn {\n  height: 32px;\n  margin-left: 10px;\n}\n</style>\n"],"sourceRoot":"src/portal/Chatbot/Dashboard/End User Response"}]}