{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Pages/SuperAdminIntermediateScreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Pages/SuperAdminIntermediateScreen.vue","mtime":1660042032579},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVG9wTmF2YmFyIGZyb20gIi4uL0xheW91dC9Ub3BOYXZiYXIudnVlIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscy5qcyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgYnVzIH0gZnJvbSAiQC9wb3J0YWwvbWFpbiI7CmltcG9ydCBzaWRlYmFyaXRlbXMgZnJvbSAiLi4vTGF5b3V0L1NpZGVCYXJJdGVtIjsKaW1wb3J0IENvb2tpZXMgZnJvbSAianMtY29va2llIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdXBlckFkbWluSW50ZXJtZWRpYXRlU2NyZWVuIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoUXVlcnk6IG51bGwsCiAgICAgIHN1cGVyX2FkbWluX2xvZ2luX2RhdGE6IFtdLAogICAgICBpc19zdXBlcl9hZG1pbjogdHJ1ZSwKICAgICAgc3VwZXJfYWRtaW5fY2hvc2VuX2FjY291bnRfZGF0YTogbnVsbCwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgcmV0YWlsX3dlYl9mcmFtZXdvcms6IG51bGwsCiAgICAgIGlzVmlzaWJsZVNlYXJjaENsZWFyOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByZXN1bHRRdWVyeTogZnVuY3Rpb24gcmVzdWx0UXVlcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeSkgewogICAgICAgIHJldHVybiB0aGlzLnN1cGVyX2FkbWluX2xvZ2luX2RhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLmV2ZXJ5KGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLkNvbXBhbnlOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModikgfHwgaXRlbS5FbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHYpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3VwZXJfYWRtaW5fbG9naW5fZGF0YTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNlYXJjaFF1ZXJ5OiBmdW5jdGlvbiBzZWFyY2hRdWVyeSgpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkgPT09ICcnIHx8IHRoaXMuc2VhcmNoUXVlcnkgPT09IG51bGwpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hRdWVyeSAhPSBudWxsIHx8IHRoaXMuc2VhcmNoUXVlcnkgIT0gJycpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgVG9wTmF2YmFyOiBUb3BOYXZiYXIKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZS5wYXJhbXMpOwogICAgaWYgKEJvb2xlYW4odGhpcy4kcm91dGUucGFyYW1zKSkgewogICAgICB0aGlzLnN1cGVyX2FkbWluX2xvZ2luX2RhdGEgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbG9naW5fYWNjb3VudDogZnVuY3Rpb24gbG9naW5fYWNjb3VudChpbmRleCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIFN3YWwoewogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgdGV4dDogIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsb2dpbiBpbnRvIHRoZSBhY2NvdW50IG9mICIuY29uY2F0KHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdLkVtYWlsLCAiIHdoaWNoIGJlbG9uZ3MgdG8gIikuY29uY2F0KHRoaXMucmVzdWx0UXVlcnlbaW5kZXhdLkNvbXBhbnlOYW1lKQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQudmFsdWUpOwogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIF90aGlzMi5zcGlubmVyT24gPSB0cnVlOyAvLyBjb25zb2xlLmxvZyhgTG9naW4gaW50byAke3RoaXMuc3VwZXJfYWRtaW5fbG9naW5fZGF0YVtpbmRleF0uRW1haWx9YCk7CgogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc3VwZXJfYWRtaW5fbG9naW4oKSwgewogICAgICAgICAgICBlbWFpbDogX3RoaXMyLnJlc3VsdFF1ZXJ5W2luZGV4XS5FbWFpbCwKICAgICAgICAgICAgZGF0ZTogbW9tZW50KCkudG9JU09TdHJpbmcoKQogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChfdGhpczIuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLkxPR0lOX1NVQ0NFU1NGVUwuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBfdGhpczIuc3VwZXJfYWRtaW5fY2hvc2VuX2FjY291bnRfZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICBfdGhpczIucmV0YWlsX3dlYl9mcmFtZXdvcmsgPSByZXNwb25zZS5kYXRhLmRhdGEucmV0YWlsX3dlYl9mcmFtZXdvcms7IC8vIHRoaXMuJHJvb3QuJGVtaXQoInN1cGVyX2FkbWluX2xvZ2luIiwgZGF0YSk7CgogICAgICAgICAgICAgIF90aGlzMi5zaWdub3V0X2FwaSgpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLklOVEVSTkFMX1NFUlZFUl9FUlJPUi5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzMi50bHQoJ2FkZF9yb2xlX2ludGVybmFsX3NlcnZlcl9tc2cnKSwKICAgICAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJfc2VhcmNoX25hbWU6IGZ1bmN0aW9uIGNsZWFyX3NlYXJjaF9uYW1lKCkgewogICAgICB0aGlzLnNlYXJjaFF1ZXJ5ID0gbnVsbDsKICAgIH0sCiAgICBzaWdub3V0X2FwaTogZnVuY3Rpb24gc2lnbm91dF9hcGkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgYnVzLiRlbWl0KCJMb2dvdXQgaGFzIGJlZW4gY2xpY2tlZCIsICJUcnVlIik7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2xlYXJfYWNjZXNzX3Rva2VuX3VybCgpLCB7CiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucwogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5leGVjdXRlX3NpZ25vdXQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5leGVjdXRlX3NpZ25vdXQoKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhlY3V0ZV9zaWdub3V0OiBmdW5jdGlvbiBleGVjdXRlX3NpZ25vdXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc2lnbm91dF91cmwoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoInJ0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXM0LmFwaV9zdGF0dXNfY29kZS5VU0VSX0xPR0dFRF9PVVRfMTAzMi5NU0dfQ09ERSB8fCByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXM0LmFwaV9zdGF0dXNfY29kZS5UT0tFTl9JTlZBTElEXzAwMDEuTVNHX0NPREUgfHwgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzNC5hcGlfc3RhdHVzX2NvZGUuSU5WQUxJRF9DUkVERU5USUFMU18wMDA1Lk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczQuJHNlc3Npb24uZGVzdHJveSgpOwoKICAgICAgICAgIF90aGlzNC4kc2Vzc2lvbi5zZXQoInJldGFpbF93ZWJfZnJhbWV3b3JrIiwgX3RoaXM0LnJldGFpbF93ZWJfZnJhbWV3b3JrKTsKCiAgICAgICAgICBfdGhpczQuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM0LiRyb290LiRlbWl0KCJDbGVhcl9SZWZyZXNoX1Rva2VuX0ludGVydmFsIiwgewogICAgICAgICAgICBjbGVhcl9pbnRlcnZhbDogdHJ1ZQogICAgICAgICAgfSk7CgogICAgICAgICAgYnVzLiRlbWl0KCJMb2dnZWQgb3V0IiwgIlRydWUiKTsKICAgICAgICAgIGJ1cy4kZW1pdCgiRGlzYWJsZSB0aGUgYm90IGNoYXQgbm93IiwgIlRydWUiLCAiTG9nZ2Vkb3V0Iik7CgogICAgICAgICAgX3RoaXM0LnJlZGlyKF90aGlzNC5zdXBlcl9hZG1pbl9jaG9zZW5fYWNjb3VudF9kYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM0LnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzNC5yZWRpcihfdGhpczQuc3VwZXJfYWRtaW5fY2hvc2VuX2FjY291bnRfZGF0YSk7CgogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRzZXNzaW9uLmRlc3Ryb3koKTsKCiAgICAgICAgX3RoaXM0LnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIGJ1cy4kZW1pdCgiTG9nZ2VkIG91dCIsICJUcnVlIik7CiAgICAgICAgYnVzLiRlbWl0KCJEaXNhYmxlIHRoZSBib3QgY2hhdCBub3ciLCAiVHJ1ZSIsICJMb2dnZWRvdXQiKTsKCiAgICAgICAgX3RoaXM0LnJlZGlyKF90aGlzNC5zdXBlcl9hZG1pbl9jaG9zZW5fYWNjb3VudF9kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVkaXI6IGZ1bmN0aW9uIHJlZGlyKG1lc3NhZ2UpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZygicmVkaXIiKTsKICAgICAgaWYgKG1lc3NhZ2UgPT0gIkVtYWlsIGhhc24ndCBiZWVuIHZlcmlmaWVkLiIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIGh0bWw6ICI8aDY+WW91ciBhY2NvdW50IGhhcyBub3QgYmVlbiB2YWxpZGF0ZWQgZm9yIGxvZ2luLjxicj5QbGVhc2UgdmlzaXQgeW91ciBlLW1haWw8L2g2PiIsCiAgICAgICAgICB0aW1lcjogMzAwMCwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6ICI8aDY+VGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi48L2g2PiIsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlID09ICJVc2VyIGhhcyBub3QgYmVlbiBhcHByb3ZlZCB5ZXQuIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgaHRtbDogIjxoNj5Zb3VyIHJlZ2lzdHJhdGlvbiBoYXMgbm90IGJlZW4gYXBwcm92ZWQgb3IgaXQgaGFzIGJlZW4gZGVjbGluZWQgYnkgQWRtaW4uIEtpbmRseSBjaGVjayB5b3VyIG1haWw8L2g2PiIsCiAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgIH0pOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJib2R5Iikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAkKCdidXR0b25bdHlwZT0ic3VibWl0Il0nKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKICAgICAgfSBlbHNlIGlmIChtZXNzYWdlID09ICJZb3UgYXJlIGFscmVhZHkgbG9nZ2VkIGluISIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBodG1sOiAiPGg2PlRoaXMgdXNlciBpcyBhbHJlYWR5IGxvZ2dlZCBpbjwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT0gIkludmFsaWQgQ3JlZGVudGlhbHMiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgaHRtbDogIjxoNj5JbnZhbGlkIENyZWRlbnRpYWxzITwvaDY+IiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UgPT0gIkFQSSBMSU1JVCBFWENFRURFRCIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBodG1sOiAiPGg2PllvdXIgbW9udGhseSBhcGkgcmVxdWVzdHMgaGFzIGV4Y2VlZGVkLiBQbGVhc2UgVXBncmFkZSB5b3VyIHBsYW5zIHRvIGxvZ2luPC9oNj4iLAogICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYm9keSIpLnN0eWxlLm9wYWNpdHkgPSAiMSI7CiAgICAgICAgJCgnYnV0dG9uW3R5cGU9InN1Ym1pdCJdJykucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5NU0cgPT0gIlBhc3N3b3JkIHNob3VsZCBiZSBSZW5ld2VkIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6ICI8aDY+WW91ciBwYXNzd29yZCBoYXMgYmVlbiBleHBpcmVkLiBQbGVhc2UgUmVuZXcgeW91ciBwYXNzd29yZDwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKEJvb2xlYW4obWVzc2FnZS5pc19zdXBlcl9hZG1pbl9sb2dpbikpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiU3VwZXJBZG1pbkludGVybWVkaWF0ZVNjcmVlbiIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgZGF0YTogbWVzc2FnZS5hbGxfdXNlcnNfbGlzdAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckluZm9ybWF0aW9uIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJhdCIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLmFjY2Vzc190b2tlbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInJ0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24ucmVmcmVzaF90b2tlbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ3doYXRzYXBwX3N1YnNjcmlwdGlvbicsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLndoYXRzYXBwX3N1YnNjcmlwdGlvbik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5sb2dpbl90eXBlID09ICJCb3QiKSB7CiAgICAgICAgQ29va2llcy5yZW1vdmUoImxvZ2luX3R5cGUiKTsKICAgICAgICBDb29raWVzLnNldCgibG9naW5fdHlwZSIsIHRoaXMubG9naW5fdHlwZSwgewogICAgICAgICAgZXhwaXJlczogMzY1CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zdGFydCgpOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VySW5mb3JtYXRpb24iLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24uYWNjZXNzX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgicnQiLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi5yZWZyZXNoX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgnd2hhdHNhcHBfc3Vic2NyaXB0aW9uJywgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24ud2hhdHNhcHBfc3Vic2NyaXB0aW9uKTsKICAgICAgICB0aGlzLmNoZWNrX3RlbXBsYXRlX3N1YnNjcmlwdGlvbigncHVzaF9kaXJlY3RfcmVzcG9uc2VfYm90Jyk7IC8vIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2RpcmVjdHJlc3BvbnNlYm90Iik7CiAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5NU0cgPT0gIlVzZXIgSXMgTG9ja2VkIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGh0bWw6ICI8aDY+VGhpcyB1c2VyIGhhcyBiZWVuIGxvY2tlZDwvaDY+IiwKICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJvZHkiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICQoJ2J1dHRvblt0eXBlPSJzdWJtaXQiXScpLnByb3AoImRpc2FibGVkIiwgZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIENvb2tpZXMucmVtb3ZlKCJsb2dpbl90eXBlIik7CiAgICAgICAgQ29va2llcy5zZXQoImxvZ2luX3R5cGUiLCB0aGlzLmxvZ2luX3R5cGUsIHsKICAgICAgICAgIGV4cGlyZXM6IDM2NQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc3RhcnQoKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckluZm9ybWF0aW9uIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24pOwogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCd3aGF0c2FwcF9zdWJzY3JpcHRpb24nLCBtZXNzYWdlLnVzZXJpbmZvcm1hdGlvbi53aGF0c2FwcF9zdWJzY3JpcHRpb24pOwoKICAgICAgICBpZiAodGhpcy5pc19zdXBlcl9hZG1pbikgewogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc3VwZXJfYWRtaW5fYm90X2xvZ2luKCksIHsKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKF90aGlzNS5hcGlfc3RhdHVzX2NvZGUuU1RBVFVTX1NVQ0NFU1NfQ09SRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgX3RoaXM1LiRzZXNzaW9uLnNldCgiQm90VG9rZW4iLCByZXNwb25zZS5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBfdGhpczUuJHNlc3Npb24ucmVtb3ZlKCJUZW1wb3JhcnlCb3RUb2tlbiIpOwoKICAgICAgICAgICAgICBidXMuJGVtaXQoIlRva2VuIGNoYW5nZWQiLCAiVHJ1ZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYm90X3Jlc3BvbnNlX3Rva2VuKCksIHsKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKF90aGlzNS5hcGlfc3RhdHVzX2NvZGUuU1RBVFVTX1NVQ0NFU1NfQ09SRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgX3RoaXM1LiRzZXNzaW9uLnNldCgiQm90VG9rZW4iLCByZXNwb25zZS5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgICBfdGhpczUuJHNlc3Npb24ucmVtb3ZlKCJUZW1wb3JhcnlCb3RUb2tlbiIpOwoKICAgICAgICAgICAgICBidXMuJGVtaXQoIlRva2VuIGNoYW5nZWQiLCAiVHJ1ZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VyRmlyc3ROYW1lIiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24uZmlyc3RfbmFtZSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIlVzZXJMYXN0TmFtZSIsIG1lc3NhZ2UudXNlcmluZm9ybWF0aW9uLmxhc3RfbmFtZSk7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInJ0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24ucmVmcmVzaF90b2tlbik7CiAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgbWVzc2FnZS51c2VyaW5mb3JtYXRpb24uYWNjZXNzX3Rva2VuKTsKICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgiUmVzdHJpY3Rpb25MaXN0IiwgbWVzc2FnZS5yZXN0cmljdGlvbl9saXN0KTsKICAgICAgICBkb2N1bWVudC5jb29raWUgPSAiY29tcGFueV9pZD0iICsgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwaW5uZXIiKS5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgIHRoaXMuY2hlY2tfdGVtcGxhdGVfc3Vic2NyaXB0aW9uKG51bGwpOyAvLyBzZXRUaW1lb3V0KCgpID0+IHsKCiAgICAgICAgdGhpcy51cGRhdGVfbWVudV9saXN0KG1lc3NhZ2UubWVudWJpbmQpOyAvLyB9LCAxMDApOwogICAgICB9CiAgICB9LAogICAgY2hlY2tfdGVtcGxhdGVfc3Vic2NyaXB0aW9uOiBmdW5jdGlvbiBjaGVja190ZW1wbGF0ZV9zdWJzY3JpcHRpb24ocGFyYW0pIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoYXBpX2NhbGxzLm9wZW5fYm90X3RlbXBsYXRlX3N1YnNjcmlwdGlvbl9hcGkoKSwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEgLCAic3VwZXJhZG1pbiIpCiAgICAgICAgaWYgKGRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PT0gX3RoaXM2LmFwaV9zdGF0dXNfY29kZS5TVUNDRVNTRlVMX0RCX1FVRVJZX01PREVMUy5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXM2LiRzZXNzaW9uLnNldCgiQm90VGVtcGxhdGVzIiwgZGF0YS5kYXRhLnRlbXBsYXRlcyk7CgogICAgICAgICAgaWYgKHBhcmFtID09PSAncHVzaF9kaXJlY3RfcmVzcG9uc2VfYm90JykgewogICAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCIvYm90L2RpcmVjdHJlc3BvbnNlYm90Iik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChwYXJhbSA9PT0gJ3B1c2hfZGlyZWN0X3Jlc3BvbnNlX2JvdCcpIHsKICAgICAgICAgICAgX3RoaXM2LiRyb3V0ZXIucHVzaCgiL2JvdC9kaXJlY3RyZXNwb25zZWJvdCIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAocGFyYW0gPT09ICdwdXNoX2RpcmVjdF9yZXNwb25zZV9ib3QnKSB7CiAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCIvYm90L2RpcmVjdHJlc3BvbnNlYm90Iik7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJpc19zdXBlcl9hZG1pbiIsIHRydWUpOwogICAgfSwKICAgIHVwZGF0ZV9tZW51X2xpc3Q6IGZ1bmN0aW9uIHVwZGF0ZV9tZW51X2xpc3QobWVzc2FnZSkgewogICAgICB2YXIgbWVudSA9IHt9OwogICAgICB2YXIgbWFpbl9tZW51X2xpc3QgPSBtZXNzYWdlLmZpbHRlcihmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgcmV0dXJuIGFyci5Jc01hc3Rlck1lbnUgPT0gdHJ1ZSAmJiBhcnIuRW5hYmxlZCA9PSB0cnVlOwogICAgICB9KTsKICAgICAgdmFyIG1haW5fbWVudV9saXN0X2ZpbHRlcmVkID0gW107CiAgICAgIHZhciBzdWJfbWVudV9saXN0ID0gbWVzc2FnZS5maWx0ZXIoZnVuY3Rpb24gKGFycikgewogICAgICAgIHJldHVybiBhcnIuSGFzU3ViTWVudXMgPT0gZmFsc2UgJiYgYXJyLkVuYWJsZWQgPT0gdHJ1ZSAmJiBhcnIuSXNTdWJNZW51ID09IHRydWU7CiAgICAgIH0pOwoKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSwgbikgewogICAgICAgIHZhciBtZW51RmlsdGVyID0gc2lkZWJhcml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoc2lkZWJhcikgewogICAgICAgICAgcmV0dXJuIHNpZGViYXIubmFtZSA9PT0gbWFpbl9tZW51X2xpc3RbaV0uTWVudUl0ZW0gJiYgQm9vbGVhbihzaWRlYmFyLnN2Z19odG1sKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKG1lbnVGaWx0ZXIubGVuZ3RoID4gMCkgewogICAgICAgICAgbWFpbl9tZW51X2xpc3RfZmlsdGVyZWQucHVzaChtZW51RmlsdGVyWzBdKTsKICAgICAgICAgIG1lbnVbbWVudUZpbHRlclswXS5uYW1lXSA9IHsKICAgICAgICAgICAgbWFpbl9tZW51OiBtZW51RmlsdGVyWzBdLAogICAgICAgICAgICBzdWJfbWVudV9saXN0OiBbXQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gMCwgbiA9IG1haW5fbWVudV9saXN0Lmxlbmd0aDsgaSA8IG47IGkgKz0gMSkgewogICAgICAgIF9sb29wKGksIG4pOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pID0gMCwgX24gPSBzdWJfbWVudV9saXN0Lmxlbmd0aDsgX2kgPCBfbjsgX2kgKz0gMSkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBzaWRlYmFyaXRlbXMpIHsKICAgICAgICAgICAgaWYgKHNpZGViYXJpdGVtc1tqXS5uYW1lID09PSBzdWJfbWVudV9saXN0W19pXS5NZW51SXRlbSAmJiBCb29sZWFuKHNpZGViYXJpdGVtc1tqXS5wYWdlX3BhdGggJiYgc2lkZWJhcml0ZW1zW2pdLm1hc3Rlcl9tZW51ID09PSBzdWJfbWVudV9saXN0W19pXS5NYXN0ZXJNZW51KSkgewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNpZGViYXJpdGVtc1tqXS5uYW1lKQogICAgICAgICAgICAgIG1lbnVbc3ViX21lbnVfbGlzdFtfaV0uTWFzdGVyTWVudV0uc3ViX21lbnVfbGlzdC5wdXNoKHNpZGViYXJpdGVtc1tqXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsgLy8gZGVidWdnZXI7CiAgICAgIH0KCiAgICAgIG1lbnUgPSBPYmplY3QudmFsdWVzKG1lbnUpOyAvLyBmb3IgKGxldCBpID0gMCwgbiA9IG1lc3NhZ2UubGVuZ3RoOyBpIDwgbjsgaSArPSAxKSB7CiAgICAgIC8vICAgaWYgKG1lc3NhZ2VbaV0uRW5hYmxlZCAmJiBtZXNzYWdlW2ldLklzTWFzdGVyTWVudSkgewogICAgICAvLyAgICAgbGV0IG1lbnVGaWx0ZXIgPSBzaWRlYmFyaXRlbXMuZmlsdGVyKChzaWRlYmFyKSA9PiB7CiAgICAgIC8vICAgICAgIHJldHVybiAoCiAgICAgIC8vICAgICAgICAgc2lkZWJhci5uYW1lID09PSBtZXNzYWdlW2ldLk1lbnVJdGVtICYmIEJvb2xlYW4oc2lkZWJhci5zdmdfaHRtbCkKICAgICAgLy8gICAgICAgKTsKICAgICAgLy8gICAgIH0pOwogICAgICAvLyAgICAgaWYgKG1lbnVGaWx0ZXIubGVuZ3RoID4gMCkgewogICAgICAvLyAgICAgICBtYWluX21lbnUgPSBtZW51RmlsdGVyWzBdOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAgIC8vICAgICBtZXNzYWdlW2ldLkhhc1N1Yk1lbnVzID09IGZhbHNlICYmCiAgICAgIC8vICAgICBtZXNzYWdlW2ldLkVuYWJsZWQgJiYKICAgICAgLy8gICAgIG1lc3NhZ2VbaV0uSXNTdWJNZW51ICYmCiAgICAgIC8vICAgICBPYmplY3Qua2V5cyhtYWluX21lbnUpLmxlbmd0aCA+IDAKICAgICAgLy8gICApIHsKICAgICAgLy8gICAgIGZvciAodmFyIGogaW4gc2lkZWJhcml0ZW1zKSB7CiAgICAgIC8vICAgICAgIGlmICgKICAgICAgLy8gICAgICAgICBzaWRlYmFyaXRlbXNbal0ubmFtZSA9PT0gbWVzc2FnZVtpXS5NZW51SXRlbSAmJgogICAgICAvLyAgICAgICAgIEJvb2xlYW4oc2lkZWJhcml0ZW1zW2pdLnBhZ2VfcGF0aCkKICAgICAgLy8gICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgc3VibWVudXMucHVzaChzaWRlYmFyaXRlbXNbal0pOwogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfQogICAgICAvLyAgIGlmICgKICAgICAgLy8gICAgIGkgPT0gbiAtIDEgfHwKICAgICAgLy8gICAgIChtZXNzYWdlW2ldLklzTWFzdGVyTWVudSA9PSB0cnVlICYmCiAgICAgIC8vICAgICAgIG1lc3NhZ2VbaV0uSGFzU3ViTWVudXMgPT09IGZhbHNlICYmCiAgICAgIC8vICAgICAgICFCb29sZWFuKG1lc3NhZ2VbaV0uSXNTdWJNZW51KSAmJgogICAgICAvLyAgICAgICBtZXNzYWdlW2ldLkVuYWJsZWQpCiAgICAgIC8vICAgKSB7CiAgICAgIC8vICAgICBtZW51LnB1c2goewogICAgICAvLyAgICAgICBtYWluX21lbnU6IG1haW5fbWVudSwKICAgICAgLy8gICAgICAgc3ViX21lbnVfbGlzdDogc3VibWVudXMsCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICAgIG1haW5fbWVudSA9IFtdOwogICAgICAvLyAgICAgc3VibWVudXMgPSBbXTsKICAgICAgLy8gICB9IGVsc2UgaWYgKAogICAgICAvLyAgICAgaSA8IG4gLSAxICYmCiAgICAgIC8vICAgICBtZXNzYWdlW2kgKyAxXS5Jc01hc3Rlck1lbnUgJiYKICAgICAgLy8gICAgICghQm9vbGVhbihtZXNzYWdlW2kgKyAxXS5Jc1N1Yk1lbnUpIHx8CiAgICAgIC8vICAgICAgIG1lc3NhZ2VbaSArIDFdLkhhc1N1Yk1lbnVzID09IHRydWUpICYmCiAgICAgIC8vICAgICBPYmplY3Qua2V5cyhtYWluX21lbnUpLmxlbmd0aCA+IDAKICAgICAgLy8gICApIHsKICAgICAgLy8gICAgIG1lbnUucHVzaCh7CiAgICAgIC8vICAgICAgIG1haW5fbWVudTogbWFpbl9tZW51LAogICAgICAvLyAgICAgICBzdWJfbWVudV9saXN0OiBzdWJtZW51cywKICAgICAgLy8gICAgIH0pOwogICAgICAvLyAgICAgbWFpbl9tZW51ID0gW107CiAgICAgIC8vICAgICBzdWJtZW51cyA9IFtdOwogICAgICAvLyAgIH0KICAgICAgLy8gfQoKICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoIkNoYXRib3RNZW51IiwgbWVudSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2Rhc2hib2FyZCIpOwogICAgfQogIH0KfTs="},null]}