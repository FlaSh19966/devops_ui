{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Layout/DashboardLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Layout/DashboardLayout.vue","mtime":1663910265474},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRvcE5hdmJhciBmcm9tICIuL1RvcE5hdmJhci52dWUiOwppbXBvcnQgU2lkZUJhciBmcm9tICIuL1NpZGVCYXIudnVlIjsKaW1wb3J0IHN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBTbGlkZVlEb3duVHJhbnNpdGlvbiwgWm9vbUNlbnRlclRyYW5zaXRpb24gfSBmcm9tICJ2dWUyLXRyYW5zaXRpb25zIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAidGltZXJzIjsKaW1wb3J0IHsgYnVzIH0gZnJvbSAiQC9wb3J0YWwvbWFpbiI7CmltcG9ydCBTZXR1cCBmcm9tICIuL1NldHVwLnZ1ZSI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJkYXNoYm9hcmQtbGF5b3V0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgZGlzcGxheV9saXN0OiB0aGlzLiRzZXNzaW9uLmhhcygiQ2hhdGJvdE1lbnUiKSA/IHRoaXMuJHNlc3Npb24uZ2V0KCJDaGF0Ym90TWVudSIpIDogW10sCiAgICAgIHVzZXJfcm9sZTogdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJJbmZvcm1hdGlvbiIpID8gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgOiAiIiwKICAgICAgcmVmcmVzaF90b2tlbl9hcGlfb246IGZhbHNlLAogICAgICBqd3RfdG9rZW5faW50ZXJ2YWw6IG51bGwsCiAgICAgIG1vZGVsc19zdGF0dXNfaW50ZXJ2YWw6IG51bGwsCiAgICAgIGlzX3JldGFpbDogZmFsc2UsCiAgICAgIHNlbmRfc3RhdHVzOiB0cnVlLAogICAgICBzZXR1cF9hcGlfY2FsbF9yZXNwb25zZV9yZWNlaXZlZDogZmFsc2UsCiAgICAgIGV4cGlyeV9kYXlfZGF0ZV9tYXBwaW5nOiB7CiAgICAgICAgMDogIndpdGhpbiBhIGRheSIsCiAgICAgICAgMTogImluIGEgZGF5IiwKICAgICAgICAyOiAiaW4gMiBkYXlzIiwKICAgICAgICAzOiAiaW4gMyBkYXlzIiwKICAgICAgICA0OiAiaW4gNCBkYXlzIiwKICAgICAgICA1OiAiaW4gNSBkYXlzIiwKICAgICAgICA2OiAiaW4gNiBkYXlzIiwKICAgICAgICA3OiAiaW4gYSB3ZWVrIgogICAgICB9LAogICAgICBzaWRlYmFyX2tleTogMCwKICAgICAgZGlzYWJsZV9zaWRlYmFyOiBmYWxzZSwKICAgICAgaXNfZnJlZV90cmlhbDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBUb3BOYXZiYXI6IFRvcE5hdmJhciwKICAgIFNpZGVCYXI6IFNpZGVCYXIsCiAgICBTbGlkZVlEb3duVHJhbnNpdGlvbjogU2xpZGVZRG93blRyYW5zaXRpb24sCiAgICBab29tQ2VudGVyVHJhbnNpdGlvbjogWm9vbUNlbnRlclRyYW5zaXRpb24sCiAgICBTZXR1cDogU2V0dXAKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiVXNlckluZm9ybWF0aW9uIikpIHsKICAgICAgdGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnJlZnJlc2hfdG9rZW5fdXJsKCksIHt9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXMuJHNlc3Npb24uZ2V0KCJydCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgcmVzcG9uc2UuZGF0YS5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuJHNlc3Npb24uZGVzdHJveSgpOwoKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuand0X3Rva2VuX2ludGVydmFsKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMubW9kZWxzX3N0YXR1c19pbnRlcnZhbCk7CiAgICAgICAgICBfdGhpcy5tb2RlbHNfc3RhdHVzX2ludGVydmFsID0gbnVsbDsKICAgICAgICAgIF90aGlzLmp3dF90b2tlbl9pbnRlcnZhbCA9IG51bGw7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYm90L2xvZ2luIik7CiAgICAgICAgfSk7CiAgICAgIH0sIDE0ICogNjAgKiAxMDAwKTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudG9rZW5fdmVyaWZpY2F0aW9uX3VybCgpLCB7CiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5CiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5UT0tFTl9JTlZBTElEXzAwMDEuTVNHX0NPREUgfHwgcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5JTlZBTElEX0NSRURFTlRJQUxTXzAwMDUuTVNHX0NPREUpIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB0ZXh0OiBfdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfbG9nZ2VkaW5fYWdhaW4nLCAnY29kZScpLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kc2Vzc2lvbi5kZXN0cm95KCk7CgogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9sb2dpbiIpOwogICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5TRVNTSU9OX1RPS0VOX1ZBTElELk1TR19DT0RFKSB7fQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLiRzZXNzaW9uLmRlc3Ryb3koKTsKCiAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5qd3RfdG9rZW5faW50ZXJ2YWwpOwogICAgICAgIF90aGlzLmp3dF90b2tlbl9pbnRlcnZhbCA9IG51bGw7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9sb2dpbiIpOwoKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHRoaXMuJHNlc3Npb24uaGFzKCJVc2VySW5mb3JtYXRpb24iKSkgewogICAgICBidXMuJGVtaXQoIllvdSBjYW4gZW5hYmxlIGJvdCBjaGF0IG5vdyIsICJUcnVlIik7CiAgICB9CgogICAgdmFyIHZhbGlkX3RvID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnZhbGlkX3RvLAogICAgICAgIGRhdGVfc2V2ZW5fZGF5c19hZ28gPSBuZXcgRGF0ZSgpLAogICAgICAgIGN1cnJlbnRfZGF5ID0gbmV3IERhdGUoKTsKICAgIGRhdGVfc2V2ZW5fZGF5c19hZ28uc2V0RGF0ZShkYXRlX3NldmVuX2RheXNfYWdvLmdldERhdGUoKSAtIDcpOwogICAgdmFyIGlzX3ZhbGlkaXR5X2V4cGlyaW5nX3Nvb24gPSB0aGlzLmRhdGVDaGVja0V4cGlyeShkYXRlX3NldmVuX2RheXNfYWdvLCBjdXJyZW50X2RheSwgdmFsaWRfdG8pOwogICAgdmFyIHN0YXJ0ID0gbW9tZW50KGN1cnJlbnRfZGF5KSwKICAgICAgICBlbmQgPSBtb21lbnQodmFsaWRfdG8pLAogICAgICAgIGRheXNfcmVtYWluaW5nID0gZW5kLmRpZmYoc3RhcnQsICJkYXlzIik7CiAgICB2YXIgc3Vic2NyaXB0b25fc3RhdHVzID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbl9zdGF0dXM7CiAgICB2YXIgdXNlcl9leHBpcnlfaW5mb3JtZWQgPSBCb29sZWFuKHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VyRXhwaXJ5SW5mb3JtZWQiKSk7CgogICAgaWYgKGRheXNfcmVtYWluaW5nIGluIE9iamVjdC5rZXlzKHRoaXMuZXhwaXJ5X2RheV9kYXRlX21hcHBpbmcpICYmICF1c2VyX2V4cGlyeV9pbmZvcm1lZCAmJiBzdWJzY3JpcHRvbl9zdGF0dXMgIT0gImFjdGl2ZSIpIHsKICAgICAgc3dhbCh7CiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHRleHQ6IHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3RyaWFsX3BlcmlvZF9leHBpcmUnLCAnY29kZScpICsgIiAiLmNvbmNhdCh0aGlzLmV4cGlyeV9kYXlfZGF0ZV9tYXBwaW5nW2RheXNfcmVtYWluaW5nXSwgIiwiKSArIHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3VwZ3JhZGVfcGxhbl90ZXh0JywgJ2NvZGUnKSArIHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3VwZ3JhZGVfcGxhbl90ZXh0MicsICdjb2RlJyksCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfc3Vic2NyaWJlX25vdycsICdjb2RlJyksCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfbGF0ZXJfYnRuJywgJ2NvZGUnKSwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQudmFsdWUgPT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ1NldHRpbmdzJywKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuJHNlc3Npb24uc2V0KCJVc2VyRXhwaXJ5SW5mb3JtZWQiLCB0cnVlKTsKICAgIH0KCiAgICBpZiAoZGF5c19yZW1haW5pbmcgPCAwICYmICF1c2VyX2V4cGlyeV9pbmZvcm1lZCkgewogICAgICBzd2FsKHsKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgdGV4dDogdGhpcy50bHQoJ2xheW91dF9kYXNoYm9hcmRfdHJpYWxfcGVyaW9kX2V4cGlyZTEnLCAnY29kZScpLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3N1YnNjcmliZV9ub3cnLCAnY29kZScpLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IHRoaXMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX2xhdGVyX2J0bicsICdjb2RlJyksCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlID09IHRydWUpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdTZXR0aW5ncycsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIFN1YnNjcmlwdGlvbjogdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLiRzZXNzaW9uLnNldCgiVXNlckV4cGlyeUluZm9ybWVkIiwgdHJ1ZSk7CiAgICB9CgogICAgaWYgKHRoaXMuJHNlc3Npb24uaGFzKCJVc2VySW5mb3JtYXRpb24iKSkgewogICAgICB0aGlzLmNoZWNrX21vZGVsX3N0YXR1cygpOwogICAgICB0aGlzLm1vZGVsc19zdGF0dXNfaW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmNoZWNrX21vZGVsX3N0YXR1cygpOwogICAgICB9LCAxMCAqIDYwICogMTAwMCk7CiAgICB9CiAgfSwKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaXNfc2hvcGlmeV9iaWxsaW5nX3JlZGlyZWN0ID09PSB0cnVlKSB7CiAgICAgIHN3YWwoewogICAgICAgIHRpdGxlOiAiVGhhbmsgWW91ISEiLAogICAgICAgIGh0bWw6ICJZb3VyIFN1YnNjcmlwdGlvbiBvZiBDZW5zZSBBcHAgd2l0aCBTaG9waWZ5IGlzIG5vdyBBY3RpdmUuISBcbiBDb250aW51ZSBicm93c2luZyB0aHJvdWdoIG91ciBwb3J0YWwgZm9yIG1ha2luZyB5b3VyIGJvdCBtb3JlIGludGVyYWN0aXZlLiEhIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICB9KTsKICAgIH0KCiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnN0cmlwZV9wYXltZW50X3JlZGlyZWN0ID09PSB0cnVlKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9kYXRhID09PSAnU3VjY2VzcycpIHsKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnBheW1lbnRfdHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicpIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0aXRsZTogIlRoYW5rIFlvdSEhIiwKICAgICAgICAgICAgaHRtbDogIllvdXIgU3Vic2NyaXB0aW9uIG9mIENlbnNlIEFwcCBpcyBub3cgQWN0aXZlLiEgXG4gQ29udGludWUgYnJvd3NpbmcgdGhyb3VnaCBvdXIgcG9ydGFsIGZvciBtYWtpbmcgeW91ciBib3QgbW9yZSBpbnRlcmFjdGl2ZS4hISIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgICAgYWxsb3dFc2NhcGVLZXk6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5wYXltZW50X3R5cGUgPT09ICdwYXltZW50JykgewogICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiAiVGhhbmsgWW91ISEiLAogICAgICAgICAgICB0ZXh0OiAiWW91ciBBZGQgb24gaXMgbm93IEFjdGl2ZS4hIFxuIENvbnRpbnVlIGJyb3dzaW5nIHRocm91Z2ggb3VyIHBvcnRhbCBmb3IgbWFraW5nIHlvdXIgYm90IG1vcmUgaW50ZXJhY3RpdmUuISEiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5wYXltZW50X3Jlc3BvbnNlX2RhdGEgPT09ICdGYWlsdXJlJykgewogICAgICAgIHN3YWwoewogICAgICAgICAgdGl0bGU6ICJPb3BzISEiLAogICAgICAgICAgaHRtbDogIjxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmxlZnRcIj4gSXQgc2VlbXMgdGhlcmUgd2FzIHNvbWUgZXJyb3IgaW4gcHJvY2Vzc2luZyB5b3VyIHBheW1lbnQgcmVxdWVzdCEgPGJyPiBJZiB5b3UgdGhpbmsgdGhpcyB3YXMgYSBtaXN0YWtlLCBwbGVhc2UgcmVhY2ggb3V0IHRvIHVzIGF0IDxhIGhyZWY9XCJtYWlsdG86c3VwcG9ydEBjZW5zZS5haT9zdWJqZWN0PVBheW1lbnQgRmFpbHVyZSBEaXNwdXRlIi5jb25jYXQoQm9vbGVhbih0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9jZW5zZV9yZWZlcmVuY2VfaWQpID09PSB0cnVlID8gIjpDZW5zZVBheW1lbnQjIi5jb25jYXQodGhpcy4kcm91dGUucGFyYW1zLnBheW1lbnRfcmVzcG9uc2VfY2Vuc2VfcmVmZXJlbmNlX2lkKSA6IG51bGwsICI+c3VwcG9ydEBjZW5zZS5haTwvYT4uIDxicj4gPGJyPiAiKS5jb25jYXQoQm9vbGVhbih0aGlzLiRyb3V0ZS5wYXJhbXMucGF5bWVudF9yZXNwb25zZV9jZW5zZV9yZWZlcmVuY2VfaWQpID09PSB0cnVlID8gIlBsZWFzZSBub3RlIHRoZSByZWZlcmVuY2UgSUQ8Yj5DZW5zZVBheW1lbnQjIi5jb25jYXQodGhpcy4kcm91dGUucGFyYW1zLnBheW1lbnRfcmVzcG9uc2VfY2Vuc2VfcmVmZXJlbmNlX2lkLCAiIDwvYj4gZm9yIGFsbCBmdXJ0aGVyIGNvbW11bmljYXRpb24gcmVnYXJkaW5nIHRoaXMgcGF5bWVudCIpIDogbnVsbCwgIiA8L2Rpdj4iKSwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIGFsbG93T3V0c2lkZUNsaWNrOiBmYWxzZSwKICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb247CiAgICB2YXIgc3Vic2NyaXB0aW9uX3N0YXR1cyA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb25fc3RhdHVzOwoKICAgIGlmIChzdWJzY3JpcHRpb24gPT0gJ0ZyZWUnICYmIHN1YnNjcmlwdGlvbl9zdGF0dXMgIT0gJ2ZyZWV0cmlhbCcpIHsKICAgICAgdGhpcy5pc19mcmVlX3RyaWFsID0gdGhpcy4kcm91dGUucGFyYW1zLmlzX2ZyZWVfdHJpYWw7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L3N1YnNjcmlwdGlvbi1yZW5ld2FsIik7CiAgICB9CgogICAgdHJ5IHsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc2V0dXBfc3RhdHVzKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgdXBkYXRlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuaXNfY29tcGxldGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIF90aGlzMi5pc19yZXRhaWwgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLmlzX3JldGFpbCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXMyLmlzX3JldGFpbCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuaXNfcmV0YWlsID0gZmFsc2U7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuc2V0dXBfYXBpX2NhbGxfcmVzcG9uc2VfcmVjZWl2ZWQgPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMyLnNldHVwX2FwaV9jYWxsX3Jlc3BvbnNlX3JlY2VpdmVkID0gZmFsc2U7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnNldHVwX3N0YXR1cygpLCB7CiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiBfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogX3RoaXMyLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICB1cGRhdGU6IGZhbHNlCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzMi4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzMi5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSA9PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuaXNfY29tcGxldGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5pc19yZXRhaWwgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmlzX3JldGFpbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSkgewogICAgICAgICAgICAgICAgX3RoaXMyLmlzX3JldGFpbCA9IGZhbHNlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczIuaXNfcmV0YWlsID0gZmFsc2U7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczIuc2V0dXBfYXBpX2NhbGxfcmVzcG9uc2VfcmVjZWl2ZWQgPSB0cnVlOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuc2V0dXBfYXBpX2NhbGxfcmVzcG9uc2VfcmVjZWl2ZWQgPSB0cnVlOwogICAgICB9KTsKCiAgICAgIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJJbmZvcm1hdGlvbiIpKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvbG9naW4iKTsKICAgICAgfSBlbHNlIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIkNoYXRib3RNZW51IikpIHsKICAgICAgICBpZiAodGhpcy4kcm91dGUubmFtZSAhPSAiRGlyZWN0IFJlc3BvbnNlIEJvdCIpIHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm90L2RpcmVjdHJlc3BvbnNlYm90Iik7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgbWVudSA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDaGF0Ym90TWVudSIpOwoKICAgICAgZm9yICh2YXIgaSBpbiBtZW51KSB7CiAgICAgICAgdmFyIG1hdGNoZWQgPSBmYWxzZTsKCiAgICAgICAgaWYgKG1lbnVbaV0uc3ViX21lbnVfbGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgICAgaWYgKG1lbnVbaV0ubWFpbl9tZW51Lm5hbWUgPT09IHRoaXMuJHJvdXRlLm5hbWUpIHsKICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChtZW51W2ldLnN1Yl9tZW51X2xpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgZm9yICh2YXIgaiBpbiBtZW51W2ldLnN1Yl9tZW51X2xpc3QpIHsKICAgICAgICAgICAgaWYgKG1lbnVbaV0uc3ViX21lbnVfbGlzdFtqXS5uYW1lID09PSB0aGlzLiRyb3V0ZS5uYW1lIHx8IHRoaXMuJHJvdXRlLm5hbWUgPT09ICJXb3JrZmxvdyIgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gIlRlc3QgQ2xvc2VkIEJvdCIgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gIldoYXRzQXBwIENoYXQgTmV3UGFnZSIgfHwgdGhpcy4kcm91dGUubmFtZSA9PT0gJ1N1YnNjcmlwdGlvbiBSZW5ld2FsJykgewogICAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAobWF0Y2hlZCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfSBlbHNlIGlmIChpID09IG1lbnUubGVuZ3RoIC0gMSAmJiBtYXRjaGVkID09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2JvdC9kYXNoYm9hcmQiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJJbmZvcm1hdGlvbiIpKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvbG9naW4iKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHRoaXMuJHJvb3QuJG9uKCJTZXNzaW9uX0V4cGlyZWQiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YS5tZXNzYWdlLk1TRyA9PT0gIllvdSBhcmUgbG9nZ2VkIGluIG9uIGFub3RoZXIgZGV2aWNlLiIpIHsKICAgICAgICBzd2FsLmZpcmUoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRpdGxlOiBfdGhpczMudGx0KCdsYXlvdXRfZGFzaGJvYXJkX3N3YWxfb29wczInLCAnY29kZScpLAogICAgICAgICAgdGV4dDogX3RoaXMzLnRsdCgnbGF5b3V0X2Rhc2hib2FyZF9sb2dnZWRfYWdhaW4nLCAnY29kZScpLAogICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMy4kcm9vdC4kZW1pdCgic2lnbl9vdXQiKTsKICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChkYXRhLm1zZyA9PT0gIlBlcm1pc3Npb25zIFVwZGF0ZWQiKSB7CiAgICAgICAgX3RoaXMzLiRzZXNzaW9uLnNldCgicGVybWlzc2lvbnMiLCBkYXRhLnBlcm1pc3Npb25zKTsKCiAgICAgICAgX3RoaXMzLmdldFRva2VuKCk7CiAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy5yZWZyZXNoX3Rva2VuX2FwaV9vbikgewogICAgICAgIF90aGlzMy5yZWZyZXNoX3Rva2VuX2FwaV9vbiA9IHRydWU7CgogICAgICAgIF90aGlzMy5nZXRUb2tlbigpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJDbGVhcl9SZWZyZXNoX1Rva2VuX0ludGVydmFsIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuY2xlYXJfaW50ZXJ2YWwpIHsKICAgICAgICBjbGVhckludGVydmFsKF90aGlzMy5qd3RfdG9rZW5faW50ZXJ2YWwpOwogICAgICAgIF90aGlzMy5qd3RfdG9rZW5faW50ZXJ2YWwgPSBudWxsOwogICAgICB9CiAgICB9KTsKICAgIHZhciBpc19maXJzdF9sb2dpbiA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zaG93X3BvcnRhbF9ndWlkZTsKCiAgICBpZiAoQm9vbGVhbihpc19maXJzdF9sb2dpbikpIHsvLyB0aGlzLiRyb290LiRlbWl0KCJzaG93X3RvdXJfZ3VpZGUiLCB0cnVlKTsKICAgIH0KCiAgICB0aGlzLiRyb290LiRvbigid2FudF9tb2RlbF9zdGF0dXMiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PSB0cnVlKSB7CiAgICAgICAgX3RoaXMzLmNoZWNrX21vZGVsX3N0YXR1cygpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJTaWRlQmFyTWVudVVwZGF0ZWQiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgIF90aGlzMy5zaWRlYmFyX2tleSArPSAxOwogICAgICB9CiAgICB9KTsKCiAgICBpZiAodGhpcy4kc2Vzc2lvbi5nZXQoIlNldHRpbmdUb3BuYXZiYXJEaXNhYmxlIikgPT0gdHJ1ZSkgewogICAgICB0aGlzLmRpc2FibGVfc2lkZWJhciA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRpc2FibGVfc2lkZWJhciA9IGZhbHNlOwogICAgfQoKICAgIHRoaXMuJHJvb3QuJG9uKCJEYXNoYm9hcmRTaWRlYmFyRGlzYWJsZSIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGlmIChkYXRhID09PSB0cnVlKSB7CiAgICAgICAgX3RoaXMzLmRpc2FibGVfc2lkZWJhciA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMzLmRpc2FibGVfc2lkZWJhciA9IGZhbHNlOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5yZWZyZXNoX3Rva2VuX3VybCgpLCB7fSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoInJ0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNC5yZWZyZXNoX3Rva2VuX2FwaV9vbiA9IGZhbHNlOwoKICAgICAgICBfdGhpczQuJHNlc3Npb24uc2V0KCJhdCIsIHJlc3BvbnNlLmRhdGEuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRzZXNzaW9uLmRlc3Ryb3koKTsKCiAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgiL2JvdC9sb2dpbiIpOwogICAgICB9KTsKICAgIH0sCiAgICBkYXRlQ2hlY2tFeHBpcnk6IGZ1bmN0aW9uIGRhdGVDaGVja0V4cGlyeShmcm9tLCB0bywgY2hlY2spIHsKICAgICAgdmFyIGZEYXRlLCBsRGF0ZSwgY0RhdGU7CiAgICAgIGZEYXRlID0gRGF0ZS5wYXJzZShmcm9tKTsKICAgICAgbERhdGUgPSBEYXRlLnBhcnNlKHRvKTsKICAgICAgY0RhdGUgPSBEYXRlLnBhcnNlKGNoZWNrKTsKCiAgICAgIGlmIChjRGF0ZSA8PSBsRGF0ZSAmJiBjRGF0ZSA+PSBmRGF0ZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgY2hlY2tfbW9kZWxfc3RhdHVzOiBmdW5jdGlvbiBjaGVja19tb2RlbF9zdGF0dXMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMubW9kZWxzX3RyYWluaW5nX3N0YXR1cygpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgIGlzX2dldDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoImF0IiwgcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXM1LmFwaV9zdGF0dXNfY29kZS5FTVBUWV9EQVRBLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczUuJHNlc3Npb24uc2V0KCJNb2RlbFN0YXR1cyIsIHJlc3BvbnNlLmRhdGEuZGF0YS5tb2RlbF9zdGF0dXMpOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzNS5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzNS4kc2Vzc2lvbi5zZXQoIk1vZGVsU3RhdHVzIiwgcmVzcG9uc2UuZGF0YS5kYXRhLm1vZGVsX3N0YXR1cyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNS4kc2Vzc2lvbi5zZXQoIk1vZGVsU3RhdHVzIiwge30pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM1LiRyb290LiRlbWl0KCJzZW5kX21vZGVsX3N0YXR1cyIsIF90aGlzNS5zZW5kX3N0YXR1cyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXM1LiRzZXNzaW9uLnNldCgiTW9kZWxTdGF0dXMiLCB7fSk7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2lkZWJhcl9kaXNhYmxlOiBmdW5jdGlvbiBzaWRlYmFyX2Rpc2FibGUoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVfc2lkZWJhciA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiAncG9pbnRlci1ldmVudHM6bm9uZTsnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfQogIH0KfTs="},null]}