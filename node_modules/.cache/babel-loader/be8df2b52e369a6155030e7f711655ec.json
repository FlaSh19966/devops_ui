{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/ResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Pages/ResetPassword.vue","mtime":1643027096176},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvbGRfcGFzc3dvcmQ6ICIiLAogICAgICBuZXdfcGFzc3dvcmQ6ICIiLAogICAgICBjb25maXJtX3Bhc3N3b3JkOiAiIiwKICAgICAgcmVnX3B3ZDogL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipcZCkoPz0uKlsjQCQhJSo/Jl0pW0EtWmEtelxkI0AkISUqPyZdezgsfS8sCiAgICAgIHBhc3N3b3JkX3ZhbGlkOiBudWxsLAogICAgICBwYXNzd29yZF9tYXRjaDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB2YWxpZE9sZFBhc3N3b3JkOiBmdW5jdGlvbiB2YWxpZE9sZFBhc3N3b3JkKCkgewogICAgICBpZiAodGhpcy5yZWdfcHdkLnRlc3QodGhpcy5vbGRfcGFzc3dvcmQpKSB7CiAgICAgICAgdGhpcy5wYXNzd29yZF92YWxpZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJQYXNzd29yZCBtdXN0IGNvbnRhaW4gbWluaW11bSA4IGNoYXJhY3RlcnMsIGF0bGVhc3QgMSBVcHBlckNhc2UgQWxwaGFiZXQsIDEgTG93ZXJDYXNlIEFscGhhYmV0LCAxIE51bWJlciBhbmQgMSBTcGVjaWFsIENoYXJhY3RlciI7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZFBhc3N3b3JkOiBmdW5jdGlvbiB2YWxpZFBhc3N3b3JkKCkgewogICAgICBpZiAodGhpcy5yZWdfcHdkLnRlc3QodGhpcy5uZXdfcGFzc3dvcmQpKSB7CiAgICAgICAgdGhpcy5wYXNzd29yZF92YWxpZCA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJQYXNzd29yZCBtdXN0IGNvbnRhaW4gbWluaW11bSA4IGNoYXJhY3RlcnMsIGF0bGVhc3QgMSBVcHBlckNhc2UgQWxwaGFiZXQsIDEgTG93ZXJDYXNlIEFscGhhYmV0LCAxIE51bWJlciBhbmQgMSBTcGVjaWFsIENoYXJhY3RlciI7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZENvbmZpcm1QYXNzd29yZDogZnVuY3Rpb24gdmFsaWRDb25maXJtUGFzc3dvcmQoKSB7CiAgICAgIGlmICh0aGlzLnJlZ19wd2QudGVzdCh0aGlzLmNvbmZpcm1fcGFzc3dvcmQpIHx8IHRoaXMuY29uZmlybV9wYXNzd29yZCA9PSAiIikgewogICAgICAgIHRoaXMucGFzc3dvcmRfbWF0Y2ggPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiUGFzc3dvcmQgbXVzdCBjb250YWluIG1pbmltdW0gOCBjaGFyYWN0ZXJzLCBhdGxlYXN0IDEgVXBwZXJDYXNlIEFscGhhYmV0LCAxIExvd2VyQ2FzZSBBbHBoYWJldCwgMSBOdW1iZXIgYW5kIDEgU3BlY2lhbCBDaGFyYWN0ZXIiOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwYXNzd29yZF90b2dnbGU6IGZ1bmN0aW9uIHBhc3N3b3JkX3RvZ2dsZSgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHBhc3N3b3JkID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlblswXS5pZDsKICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhc3N3b3JkKTsKCiAgICAgIGlmIChkb2MudHlwZSA9PSAidGV4dCIpIHsKICAgICAgICBkb2MudHlwZSA9ICJwYXNzd29yZCI7CiAgICAgIH0gZWxzZSBpZiAoZG9jLnR5cGUgPT0gInBhc3N3b3JkIikgewogICAgICAgIGRvYy50eXBlID0gInRleHQiOwogICAgICB9CiAgICB9LAogICAgc3VibWl0X3Jlc2V0X3Bhc3N3b3JkOiBmdW5jdGlvbiBzdWJtaXRfcmVzZXRfcGFzc3dvcmQoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAodGhpcy5wYXNzd29yZF92YWxpZCA9PSB0cnVlICYmIHRoaXMucGFzc3dvcmRfbWF0Y2ggPT0gdHJ1ZSkgewogICAgICAgIHZhciB0b2tlbl9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRva2VuOwogICAgICAgIHZhciBlbWFpbCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmVtYWlsOwogICAgICAgIHRoaXMuY2FsbF9hcGkodG9rZW5faWQsIGVtYWlsKTsKICAgICAgfQogICAgfSwKICAgIGNhbGxfYXBpOiBmdW5jdGlvbiBjYWxsX2FwaSh0b2tlbl9pZCwgZW1haWwpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5yZXNldF9wYXNzd29yZF91cGRhdGUoKSwgewogICAgICAgIHRva2VuOiB0b2tlbl9pZCwKICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgbmV3cGFzc3dvcmQ6IHRoaXMubmV3X3Bhc3N3b3JkLAogICAgICAgIG9sZHBhc3N3b3JkOiB0aGlzLm9sZF9wYXNzd29yZCwKICAgICAgICBkYXRlOiBkYXRlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaW5jbHVkZXMoImV4cGlyZWQiKSkgewogICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgIHRleHQ6ICJTb3JyeSwgeW91ciBsaW5rIGhhcyBleHBpcmVkIiwKICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUGFzc3dvcmQgUmVzZXQiKSB7CiAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgdGV4dDogIllvdXIgcGFzc3dvcmQgaGFzIGJlZW4gdXBkYXRlZCBzdWNjZXNzZnVsbHkuIE5vdyB5b3UgY2FuIGxvZ2luIHdpdGggdGhlIG5ldyBwYXNzd29yZCIsCiAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlVzZXIgRG9lc24ndCBFeGlzdCIpIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0ZXh0OiAiVGhpcyB1c2VyIGRvZXMgbm90IGV4aXN0IiwKICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMubmV3X3Bhc3N3b3JkID0gIiI7CiAgICAgIHRoaXMuY29uZmlybV9wYXNzd29yZCA9ICIiOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ResetPassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"log-wrap d-flex align-items-center\">\n    <div class=\"container\">\n      <div class=\"log-blk\">\n        <div class=\"row no-gutters\">\n          <div class=\"col-lg-12\">\n            <div class=\"log-sec d-flex align-items-center\">\n              <div class=\"log-frm\">\n                <h4 style=\"text-align: center;\">Reset Password</h4>\n                <form @submit=\"submit_reset_password\">\n                    <div class=\"form-group\">\n                        <input\n                        type=\"password\"\n                        id=\"old_password\"\n                        v-model=\"old_password\"\n                        class=\"form-control pass\"\n                        placeholder=\"Old Password\"\n                        />\n                        <div\n                        class=\"is-invalid\"\n                        style=\"color:red\"\n                        v-show=\"validOldPassword!=true && old_password!=''\"\n                        >{{ validOldPassword }}</div>\n                        <a href=\"#\" @click=\"password_toggle\" class=\"view-pass\">\n                        <img src=\"/img/eye-icn.png\" alt />\n                        </a>\n                  </div>\n                  <div class=\"form-group\">\n                    <input\n                      type=\"password\"\n                      id=\"new_password\"\n                      v-model=\"new_password\"\n                      class=\"form-control pass\"\n                      placeholder=\"New Password\"\n                    />\n                    <div\n                      class=\"is-invalid\"\n                      style=\"color:red\"\n                      v-show=\"validPassword!=true && new_password!=''\"\n                    >{{ validPassword }}</div>\n                    <a href=\"#\" @click=\"password_toggle\" class=\"view-pass\">\n                      <img src=\"/img/eye-icn.png\" alt />\n                    </a>\n                  </div>\n                  <div class=\"form-group\">\n                    <input\n                      type=\"password\"\n                      id=\"confirm_password\"\n                      v-model=\"confirm_password\"\n                      class=\"form-control pass\"\n                      placeholder=\"Re-enter New Password\"\n                    />\n                    <div\n                      class=\"is-invalid\"\n                      style=\"color:red\"\n                      v-show=\"validConfirmPassword!=true && confirm_password!=''\"\n                    >{{ validConfirmPassword }}</div>\n                    <a href=\"#\" @click=\"password_toggle\" class=\"view-pass\">\n                      <img src=\"/img/eye-icn.png\" alt />\n                    </a>\n                  </div>\n                  <div class=\"btn-wrap\">\n                    <button type=\"submit\" class=\"darkblue-btn\">Submit</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swal from \"sweetalert2\";\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\n\nexport default {\n  data() {\n    return {\n      old_password: \"\",\n      new_password: \"\",\n      confirm_password: \"\",\n      reg_pwd: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#@$!%*?&])[A-Za-z\\d#@$!%*?&]{8,}/,\n      password_valid: null,\n      password_match: null\n    };\n  },\n  computed: {\n      validOldPassword() {\n      if (this.reg_pwd.test(this.old_password)) {\n        this.password_valid = true;\n        return true;\n      } else {\n        return \"Password must contain minimum 8 characters, atleast 1 UpperCase Alphabet, 1 LowerCase Alphabet, 1 Number and 1 Special Character\";\n      }\n    },\n    validPassword() {\n      if (this.reg_pwd.test(this.new_password)) {\n        this.password_valid = true;\n        return true;\n      } else {\n        return \"Password must contain minimum 8 characters, atleast 1 UpperCase Alphabet, 1 LowerCase Alphabet, 1 Number and 1 Special Character\";\n      }\n    },\n    validConfirmPassword() {\n      if (\n        this.reg_pwd.test(this.confirm_password) ||\n        this.confirm_password == \"\"\n      ) {\n        this.password_match = true;\n        return true;\n      } else {\n        return \"Password must contain minimum 8 characters, atleast 1 UpperCase Alphabet, 1 LowerCase Alphabet, 1 Number and 1 Special Character\";\n      }\n    }\n  },\n  methods: {\n    password_toggle() {\n      event.preventDefault();\n      var password = event.target.parentElement.parentElement.children[0].id;\n      var doc = document.getElementById(password);\n      if (doc.type == \"text\") {\n        doc.type = \"password\";\n      } else if (doc.type == \"password\") {\n        doc.type = \"text\";\n      }\n    },\n    submit_reset_password() {\n      event.preventDefault();\n      if (this.password_valid == true && this.password_match == true) {\n        var token_id = this.$route.query.token\n        var email = this.$route.query.email;\n\n        this.call_api(token_id, email);\n      }\n    },\n    call_api(token_id, email) {\n      var date = new Date();\n      axios\n        .post(api_calls.reset_password_update(), {\n          token: token_id,\n          email: email,\n          newpassword: this.new_password,\n          oldpassword: this.old_password,\n          date: date,\n        })\n        .then(response => {\n          if (response.data.includes(\"expired\")) {\n            swal({\n              text: \"Sorry, your link has expired\",\n              timer:2000,\n            });\n          } else if (response.data == \"Password Reset\") {\n            swal({\n              text:\n                \"Your password has been updated successfully. Now you can login with the new password\",\n              timer:3000,\n            });\n          } else if (response.data == \"User Doesn't Exist\") {\n            swal({\n              text: \"This user does not exist\",\n              timer:2000,   \n            });\n          }\n        });\n      this.new_password = \"\";\n      this.confirm_password = \"\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  width: auto\n}\n</style>\n"],"sourceRoot":"src/portal/Chatbot/Dashboard/Pages"}]}