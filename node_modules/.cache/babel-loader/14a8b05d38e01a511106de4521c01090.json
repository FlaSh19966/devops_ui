{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/eslint-loader/index.js??ref--13-0!/home/vimalesh/Learning/devops_ui/public/js/vue-tree-list.umd.min.js","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/public/js/vue-tree-list.umd.min.js","mtime":1643027096116},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC50by1zdHJpbmctdGFnIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnRvLXN0cmluZy10YWciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnRvLXN0cmluZy10YWciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCnZhciBfdHlwZW9mID0gcmVxdWlyZSgiL2hvbWUvdmltYWxlc2gvTGVhcm5pbmcvZGV2b3BzX3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpOwoKKGZ1bmN0aW9uIChBLCBlKSB7CiAgIm9iamVjdCIgPT09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpICYmICJvYmplY3QiID09PSAodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPyBtb2R1bGUuZXhwb3J0cyA9IGUoKSA6ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbXSwgZSkgOiAib2JqZWN0IiA9PT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPyBleHBvcnRzWyJ2dWUtdHJlZS1saXN0Il0gPSBlKCkgOiBBWyJ2dWUtdHJlZS1saXN0Il0gPSBlKCk7Cn0pKCJ1bmRlZmluZWQiICE9PSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChBKSB7CiAgICB2YXIgZSA9IHt9OwoKICAgIGZ1bmN0aW9uIHQobikgewogICAgICBpZiAoZVtuXSkgcmV0dXJuIGVbbl0uZXhwb3J0czsKICAgICAgdmFyIHIgPSBlW25dID0gewogICAgICAgIGk6IG4sCiAgICAgICAgbDogITEsCiAgICAgICAgZXhwb3J0czoge30KICAgICAgfTsKICAgICAgcmV0dXJuIEFbbl0uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgdCksIHIubCA9ICEwLCByLmV4cG9ydHM7CiAgICB9CgogICAgcmV0dXJuIHQubSA9IEEsIHQuYyA9IGUsIHQuZCA9IGZ1bmN0aW9uIChBLCBlLCBuKSB7CiAgICAgIHQubyhBLCBlKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwgZSwgewogICAgICAgIGVudW1lcmFibGU6ICEwLAogICAgICAgIGdldDogbgogICAgICB9KTsKICAgIH0sIHQuciA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICJ1bmRlZmluZWQiICE9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7CiAgICAgICAgdmFsdWU6ICJNb2R1bGUiCiAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoQSwgIl9fZXNNb2R1bGUiLCB7CiAgICAgICAgdmFsdWU6ICEwCiAgICAgIH0pOwogICAgfSwgdC50ID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgaWYgKDEgJiBlICYmIChBID0gdChBKSksIDggJiBlKSByZXR1cm4gQTsKICAgICAgaWYgKDQgJiBlICYmICJvYmplY3QiID09PSBfdHlwZW9mKEEpICYmIEEgJiYgQS5fX2VzTW9kdWxlKSByZXR1cm4gQTsKICAgICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICBpZiAodC5yKG4pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobiwgImRlZmF1bHQiLCB7CiAgICAgICAgZW51bWVyYWJsZTogITAsCiAgICAgICAgdmFsdWU6IEEKICAgICAgfSksIDIgJiBlICYmICJzdHJpbmciICE9IHR5cGVvZiBBKSBmb3IgKHZhciByIGluIEEpIHsKICAgICAgICB0LmQobiwgciwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBBW2VdOwogICAgICAgIH0uYmluZChudWxsLCByKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG47CiAgICB9LCB0Lm4gPSBmdW5jdGlvbiAoQSkgewogICAgICB2YXIgZSA9IEEgJiYgQS5fX2VzTW9kdWxlID8gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBBWyJkZWZhdWx0Il07CiAgICAgIH0gOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIEE7CiAgICAgIH07CiAgICAgIHJldHVybiB0LmQoZSwgImEiLCBlKSwgZTsKICAgIH0sIHQubyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoQSwgZSk7CiAgICB9LCB0LnAgPSAiIiwgdCh0LnMgPSAiZmIxNSIpOwogIH0oewogICAgIjA0YWIiOiBmdW5jdGlvbiBhYihBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuID0gdCgiOTFhOSIpLAogICAgICAgICAgciA9IHQubihuKTsKICAgICAgci5hOwogICAgfSwKICAgICIwNTdmIjogZnVuY3Rpb24gZihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZmM2YSIpLAogICAgICAgICAgciA9IHQoIjI0MWMiKS5mLAogICAgICAgICAgbyA9IHt9LnRvU3RyaW5nLAogICAgICAgICAgaSA9ICJvYmplY3QiID09ICh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZih3aW5kb3cpKSAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW10sCiAgICAgICAgICBhID0gZnVuY3Rpb24gYShBKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiByKEEpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBpLnNsaWNlKCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgQS5leHBvcnRzLmYgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBpICYmICJbb2JqZWN0IFdpbmRvd10iID09IG8uY2FsbChBKSA/IGEoQSkgOiByKG4oQSkpOwogICAgICB9OwogICAgfSwKICAgICIwNmNmIjogZnVuY3Rpb24gY2YoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjgzYWIiKSwKICAgICAgICAgIHIgPSB0KCJkMWU3IiksCiAgICAgICAgICBvID0gdCgiNWM2YyIpLAogICAgICAgICAgaSA9IHQoImZjNmEiKSwKICAgICAgICAgIGEgPSB0KCJjMDRlIiksCiAgICAgICAgICBjID0gdCgiNTEzNSIpLAogICAgICAgICAgZiA9IHQoIjBjZmIiKSwKICAgICAgICAgIHUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOwogICAgICBlLmYgPSBuID8gdSA6IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgaWYgKEEgPSBpKEEpLCBlID0gYShlLCAhMCksIGYpIHRyeSB7CiAgICAgICAgICByZXR1cm4gdShBLCBlKTsKICAgICAgICB9IGNhdGNoICh0KSB7fQogICAgICAgIGlmIChjKEEsIGUpKSByZXR1cm4gbyghci5mLmNhbGwoQSwgZSksIEFbZV0pOwogICAgICB9OwogICAgfSwKICAgICIwY2ZiIjogZnVuY3Rpb24gY2ZiKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4M2FiIiksCiAgICAgICAgICByID0gdCgiZDAzOSIpLAogICAgICAgICAgbyA9IHQoImNjMTIiKTsKICAgICAgQS5leHBvcnRzID0gIW4gJiYgIXIoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiA3ICE9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvKCJkaXYiKSwgImEiLCB7CiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIDc7CiAgICAgICAgICB9CiAgICAgICAgfSkuYTsKICAgICAgfSk7CiAgICB9LAogICAgIjE1OWIiOiBmdW5jdGlvbiBiKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkYTg0IiksCiAgICAgICAgICByID0gdCgiZmRiYyIpLAogICAgICAgICAgbyA9IHQoIjE3YzIiKSwKICAgICAgICAgIGkgPSB0KCI5MTEyIik7CgogICAgICBmb3IgKHZhciBhIGluIHIpIHsKICAgICAgICB2YXIgYyA9IG5bYV0sCiAgICAgICAgICAgIGYgPSBjICYmIGMucHJvdG90eXBlOwogICAgICAgIGlmIChmICYmIGYuZm9yRWFjaCAhPT0gbykgdHJ5IHsKICAgICAgICAgIGkoZiwgImZvckVhY2giLCBvKTsKICAgICAgICB9IGNhdGNoICh1KSB7CiAgICAgICAgICBmLmZvckVhY2ggPSBvOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICIxN2MyIjogZnVuY3Rpb24gYzIoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHQoImI3MjciKS5mb3JFYWNoLAogICAgICAgICAgciA9IHQoImIzMDEiKTsKICAgICAgQS5leHBvcnRzID0gcigiZm9yRWFjaCIpID8gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gbih0aGlzLCBBLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMCk7CiAgICAgIH0gOiBbXS5mb3JFYWNoOwogICAgfSwKICAgICIxYmU0IjogZnVuY3Rpb24gYmU0KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkMDY2Iik7CiAgICAgIEEuZXhwb3J0cyA9IG4oImRvY3VtZW50IiwgImRvY3VtZW50RWxlbWVudCIpOwogICAgfSwKICAgICIxYzBiIjogZnVuY3Rpb24gYzBiKEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgQSkgdGhyb3cgVHlwZUVycm9yKFN0cmluZyhBKSArICIgaXMgbm90IGEgZnVuY3Rpb24iKTsKICAgICAgICByZXR1cm4gQTsKICAgICAgfTsKICAgIH0sCiAgICAiMWQ4MCI6IGZ1bmN0aW9uIGQ4MChBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgaWYgKHZvaWQgMCA9PSBBKSB0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICIgKyBBKTsKICAgICAgICByZXR1cm4gQTsKICAgICAgfTsKICAgIH0sCiAgICAiMWRkZSI6IGZ1bmN0aW9uIGRkZShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZDAzOSIpLAogICAgICAgICAgciA9IHQoImI2MjIiKSwKICAgICAgICAgIG8gPSB0KCI2MGFlIiksCiAgICAgICAgICBpID0gcigic3BlY2llcyIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gbyA+PSA1MSB8fCAhbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZSA9IFtdLAogICAgICAgICAgICAgIHQgPSBlLmNvbnN0cnVjdG9yID0ge307CiAgICAgICAgICByZXR1cm4gdFtpXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBmb286IDEKICAgICAgICAgICAgfTsKICAgICAgICAgIH0sIDEgIT09IGVbQV0oQm9vbGVhbikuZm9vOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgICIxZGU1IjogZnVuY3Rpb24gZGU1KEEsIGUsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICByZXR1cm4gZSB8fCAoZSA9IHt9KSwgQSA9IEEgJiYgQS5fX2VzTW9kdWxlID8gQS5kZWZhdWx0IDogQSwgInN0cmluZyIgIT09IHR5cGVvZiBBID8gQSA6ICgvXlsnIl0uKlsnIl0kLy50ZXN0KEEpICYmIChBID0gQS5zbGljZSgxLCAtMSkpLCBlLmhhc2ggJiYgKEEgKz0gZS5oYXNoKSwgL1siJygpIFx0XG5dLy50ZXN0KEEpIHx8IGUubmVlZFF1b3RlcyA/ICciJy5jb25jYXQoQS5yZXBsYWNlKC8iL2csICdcXCInKS5yZXBsYWNlKC9cbi9nLCAiXFxuIiksICciJykgOiBBKTsKICAgICAgfTsKICAgIH0sCiAgICAiMjNjYiI6IGZ1bmN0aW9uIGNiKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJhNjkxIiksCiAgICAgICAgICByID0gTWF0aC5tYXgsCiAgICAgICAgICBvID0gTWF0aC5taW47CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHZhciB0ID0gbihBKTsKICAgICAgICByZXR1cm4gdCA8IDAgPyByKHQgKyBlLCAwKSA6IG8odCwgZSk7CiAgICAgIH07CiAgICB9LAogICAgIjIzZTciOiBmdW5jdGlvbiBlNyhBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpLAogICAgICAgICAgciA9IHQoIjA2Y2YiKS5mLAogICAgICAgICAgbyA9IHQoIjkxMTIiKSwKICAgICAgICAgIGkgPSB0KCI2ZWViIiksCiAgICAgICAgICBhID0gdCgiY2U0ZSIpLAogICAgICAgICAgYyA9IHQoImU4OTMiKSwKICAgICAgICAgIGYgPSB0KCI5NGNhIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICB1LAogICAgICAgICAgICBzLAogICAgICAgICAgICBkLAogICAgICAgICAgICBsLAogICAgICAgICAgICBwLAogICAgICAgICAgICBnID0gQS50YXJnZXQsCiAgICAgICAgICAgIGggPSBBLmdsb2JhbCwKICAgICAgICAgICAgdiA9IEEuc3RhdDsKICAgICAgICBpZiAodSA9IGggPyBuIDogdiA/IG5bZ10gfHwgYShnLCB7fSkgOiAobltnXSB8fCB7fSkucHJvdG90eXBlLCB1KSBmb3IgKHMgaW4gZSkgewogICAgICAgICAgaWYgKGwgPSBlW3NdLCBBLm5vVGFyZ2V0R2V0ID8gKHAgPSByKHUsIHMpLCBkID0gcCAmJiBwLnZhbHVlKSA6IGQgPSB1W3NdLCB0ID0gZihoID8gcyA6IGcgKyAodiA/ICIuIiA6ICIjIikgKyBzLCBBLmZvcmNlZCksICF0ICYmIHZvaWQgMCAhPT0gZCkgewogICAgICAgICAgICBpZiAoX3R5cGVvZihsKSA9PT0gX3R5cGVvZihkKSkgY29udGludWU7CiAgICAgICAgICAgIGMobCwgZCk7CiAgICAgICAgICB9CgogICAgICAgICAgKEEuc2hhbSB8fCBkICYmIGQuc2hhbSkgJiYgbyhsLCAic2hhbSIsICEwKSwgaSh1LCBzLCBsLCBBKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgIjI0MWMiOiBmdW5jdGlvbiBjKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJjYTg0IiksCiAgICAgICAgICByID0gdCgiNzgzOSIpLAogICAgICAgICAgbyA9IHIuY29uY2F0KCJsZW5ndGgiLCAicHJvdG90eXBlIik7CgogICAgICBlLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBuKEEsIG8pOwogICAgICB9OwogICAgfSwKICAgICIyNGZiIjogZnVuY3Rpb24gZmIoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICBmdW5jdGlvbiBuKEEsIGUpIHsKICAgICAgICB2YXIgdCA9IEFbMV0gfHwgIiIsCiAgICAgICAgICAgIG4gPSBBWzNdOwogICAgICAgIGlmICghbikgcmV0dXJuIHQ7CgogICAgICAgIGlmIChlICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiBidG9hKSB7CiAgICAgICAgICB2YXIgbyA9IHIobiksCiAgICAgICAgICAgICAgaSA9IG4uc291cmNlcy5tYXAoZnVuY3Rpb24gKEEpIHsKICAgICAgICAgICAgcmV0dXJuICIvKiMgc291cmNlVVJMPSIuY29uY2F0KG4uc291cmNlUm9vdCkuY29uY2F0KEEsICIgKi8iKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIFt0XS5jb25jYXQoaSkuY29uY2F0KFtvXSkuam9pbigiXG4iKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBbdF0uam9pbigiXG4iKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcihBKSB7CiAgICAgICAgdmFyIGUgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShBKSkpKSwKICAgICAgICAgICAgdCA9ICJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiLmNvbmNhdChlKTsKICAgICAgICByZXR1cm4gIi8qIyAiLmNvbmNhdCh0LCAiICovIik7CiAgICAgIH0KCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgdmFyIGUgPSBbXTsKICAgICAgICByZXR1cm4gZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IG4oZSwgQSk7CiAgICAgICAgICAgIHJldHVybiBlWzJdID8gIkBtZWRpYSAiLmNvbmNhdChlWzJdLCAiIHsiKS5jb25jYXQodCwgIn0iKSA6IHQ7CiAgICAgICAgICB9KS5qb2luKCIiKTsKICAgICAgICB9LCBlLmkgPSBmdW5jdGlvbiAoQSwgdCkgewogICAgICAgICAgInN0cmluZyIgPT09IHR5cGVvZiBBICYmIChBID0gW1tudWxsLCBBLCAiIl1dKTsKCiAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IEEubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgdmFyIHIgPSBbXS5jb25jYXQoQVtuXSk7CiAgICAgICAgICAgIHQgJiYgKHJbMl0gPyByWzJdID0gIiIuY29uY2F0KHQsICIgYW5kICIpLmNvbmNhdChyWzJdKSA6IHJbMl0gPSB0KSwgZS5wdXNoKHIpOwogICAgICAgICAgfQogICAgICAgIH0sIGU7CiAgICAgIH07CiAgICB9LAogICAgIjM3ZTgiOiBmdW5jdGlvbiBlOChBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiODNhYiIpLAogICAgICAgICAgciA9IHQoIjliZjIiKSwKICAgICAgICAgIG8gPSB0KCI4MjVhIiksCiAgICAgICAgICBpID0gdCgiZGY3NSIpOwogICAgICBBLmV4cG9ydHMgPSBuID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIG8oQSk7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBpKGUpLAogICAgICAgICAgICBhID0gbi5sZW5ndGgsCiAgICAgICAgICAgIGMgPSAwOwoKICAgICAgICB3aGlsZSAoYSA+IGMpIHsKICAgICAgICAgIHIuZihBLCB0ID0gbltjKytdLCBlW3RdKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBBOwogICAgICB9OwogICAgfSwKICAgICI0MjhmIjogZnVuY3Rpb24gZihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpOwogICAgICBBLmV4cG9ydHMgPSBuOwogICAgfSwKICAgICI0NGFkIjogZnVuY3Rpb24gYWQoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImQwMzkiKSwKICAgICAgICAgIHIgPSB0KCJjNmI2IiksCiAgICAgICAgICBvID0gIiIuc3BsaXQ7CiAgICAgIEEuZXhwb3J0cyA9IG4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAhT2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCk7CiAgICAgIH0pID8gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gIlN0cmluZyIgPT0gcihBKSA/IG8uY2FsbChBLCAiIikgOiBPYmplY3QoQSk7CiAgICAgIH0gOiBPYmplY3Q7CiAgICB9LAogICAgNDkzMDogZnVuY3Rpb24gXyhBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZDAzOSIpOwogICAgICBBLmV4cG9ydHMgPSAhIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgIW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAhU3RyaW5nKFN5bWJvbCgpKTsKICAgICAgfSk7CiAgICB9LAogICAgIjQ5OWUiOiBmdW5jdGlvbiBlKEEsIF9lLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIG4oQSwgZSkgewogICAgICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IHt9LCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIHsKICAgICAgICAgIHZhciBvID0gZVtyXSwKICAgICAgICAgICAgICBpID0gb1swXSwKICAgICAgICAgICAgICBhID0gb1sxXSwKICAgICAgICAgICAgICBjID0gb1syXSwKICAgICAgICAgICAgICBmID0gb1szXSwKICAgICAgICAgICAgICB1ID0gewogICAgICAgICAgICBpZDogQSArICI6IiArIHIsCiAgICAgICAgICAgIGNzczogYSwKICAgICAgICAgICAgbWVkaWE6IGMsCiAgICAgICAgICAgIHNvdXJjZU1hcDogZgogICAgICAgICAgfTsKICAgICAgICAgIG5baV0gPyBuW2ldLnBhcnRzLnB1c2godSkgOiB0LnB1c2gobltpXSA9IHsKICAgICAgICAgICAgaWQ6IGksCiAgICAgICAgICAgIHBhcnRzOiBbdV0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHQ7CiAgICAgIH0KCiAgICAgIHQucihfZSksIHQuZChfZSwgImRlZmF1bHQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHA7CiAgICAgIH0pOwogICAgICB2YXIgciA9ICJ1bmRlZmluZWQiICE9PSB0eXBlb2YgZG9jdW1lbnQ7CiAgICAgIGlmICgidW5kZWZpbmVkIiAhPT0gdHlwZW9mIERFQlVHICYmIERFQlVHICYmICFyKSB0aHJvdyBuZXcgRXJyb3IoInZ1ZS1zdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudC4gVXNlIHsgdGFyZ2V0OiAnbm9kZScgfSBpbiB5b3VyIFdlYnBhY2sgY29uZmlnIHRvIGluZGljYXRlIGEgc2VydmVyLXJlbmRlcmluZyBlbnZpcm9ubWVudC4iKTsKCiAgICAgIHZhciBvID0ge30sCiAgICAgICAgICBpID0gciAmJiAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKSwKICAgICAgICAgIGEgPSBudWxsLAogICAgICAgICAgYyA9IDAsCiAgICAgICAgICBmID0gITEsCiAgICAgICAgICB1ID0gZnVuY3Rpb24gdSgpIHt9LAogICAgICAgICAgcyA9IG51bGwsCiAgICAgICAgICBkID0gImRhdGEtdnVlLXNzci1pZCIsCiAgICAgICAgICBsID0gInVuZGVmaW5lZCIgIT09IHR5cGVvZiBuYXZpZ2F0b3IgJiYgL21zaWUgWzYtOV1cYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpOwoKICAgICAgZnVuY3Rpb24gcChBLCBlLCB0LCByKSB7CiAgICAgICAgZiA9IHQsIHMgPSByIHx8IHt9OwogICAgICAgIHZhciBpID0gbihBLCBlKTsKICAgICAgICByZXR1cm4gZyhpKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGZvciAodmFyIHQgPSBbXSwgciA9IDA7IHIgPCBpLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgIHZhciBhID0gaVtyXSwKICAgICAgICAgICAgICAgIGMgPSBvW2EuaWRdOwogICAgICAgICAgICBjLnJlZnMtLSwgdC5wdXNoKGMpOwogICAgICAgICAgfQoKICAgICAgICAgIGUgPyAoaSA9IG4oQSwgZSksIGcoaSkpIDogaSA9IFtdOwoKICAgICAgICAgIGZvciAociA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgIGMgPSB0W3JdOwoKICAgICAgICAgICAgaWYgKDAgPT09IGMucmVmcykgewogICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgYy5wYXJ0cy5sZW5ndGg7IGYrKykgewogICAgICAgICAgICAgICAgYy5wYXJ0c1tmXSgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZGVsZXRlIG9bYy5pZF07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBmdW5jdGlvbiBnKEEpIHsKICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IEEubGVuZ3RoOyBlKyspIHsKICAgICAgICAgIHZhciB0ID0gQVtlXSwKICAgICAgICAgICAgICBuID0gb1t0LmlkXTsKCiAgICAgICAgICBpZiAobikgewogICAgICAgICAgICBuLnJlZnMrKzsKCiAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgbi5wYXJ0cy5sZW5ndGg7IHIrKykgewogICAgICAgICAgICAgIG4ucGFydHNbcl0odC5wYXJ0c1tyXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoOyByIDwgdC5wYXJ0cy5sZW5ndGg7IHIrKykgewogICAgICAgICAgICAgIG4ucGFydHMucHVzaCh2KHQucGFydHNbcl0pKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbi5wYXJ0cy5sZW5ndGggPiB0LnBhcnRzLmxlbmd0aCAmJiAobi5wYXJ0cy5sZW5ndGggPSB0LnBhcnRzLmxlbmd0aCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgaSA9IFtdOwoKICAgICAgICAgICAgZm9yIChyID0gMDsgciA8IHQucGFydHMubGVuZ3RoOyByKyspIHsKICAgICAgICAgICAgICBpLnB1c2godih0LnBhcnRzW3JdKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG9bdC5pZF0gPSB7CiAgICAgICAgICAgICAgaWQ6IHQuaWQsCiAgICAgICAgICAgICAgcmVmczogMSwKICAgICAgICAgICAgICBwYXJ0czogaQogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gaCgpIHsKICAgICAgICB2YXIgQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICAgICAgcmV0dXJuIEEudHlwZSA9ICJ0ZXh0L2NzcyIsIGkuYXBwZW5kQ2hpbGQoQSksIEE7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHYoQSkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICB0LAogICAgICAgICAgICBuID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic3R5bGVbIiArIGQgKyAnfj0iJyArIEEuaWQgKyAnIl0nKTsKCiAgICAgICAgaWYgKG4pIHsKICAgICAgICAgIGlmIChmKSByZXR1cm4gdTsKICAgICAgICAgIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTsKICAgICAgICB9CgogICAgICAgIGlmIChsKSB7CiAgICAgICAgICB2YXIgciA9IGMrKzsKICAgICAgICAgIG4gPSBhIHx8IChhID0gaCgpKSwgZSA9IEIuYmluZChudWxsLCBuLCByLCAhMSksIHQgPSBCLmJpbmQobnVsbCwgbiwgciwgITApOwogICAgICAgIH0gZWxzZSBuID0gaCgpLCBlID0gYi5iaW5kKG51bGwsIG4pLCB0ID0gZnVuY3Rpb24gdCgpIHsKICAgICAgICAgIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gZShBKSwgZnVuY3Rpb24gKG4pIHsKICAgICAgICAgIGlmIChuKSB7CiAgICAgICAgICAgIGlmIChuLmNzcyA9PT0gQS5jc3MgJiYgbi5tZWRpYSA9PT0gQS5tZWRpYSAmJiBuLnNvdXJjZU1hcCA9PT0gQS5zb3VyY2VNYXApIHJldHVybjsKICAgICAgICAgICAgZShBID0gbik7CiAgICAgICAgICB9IGVsc2UgdCgpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBFID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBBID0gW107CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gQVtlXSA9IHQsIEEuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIik7CiAgICAgICAgfTsKICAgICAgfSgpOwoKICAgICAgZnVuY3Rpb24gQihBLCBlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSB0ID8gIiIgOiBuLmNzczsKICAgICAgICBpZiAoQS5zdHlsZVNoZWV0KSBBLnN0eWxlU2hlZXQuY3NzVGV4dCA9IEUoZSwgcik7ZWxzZSB7CiAgICAgICAgICB2YXIgbyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLAogICAgICAgICAgICAgIGkgPSBBLmNoaWxkTm9kZXM7CiAgICAgICAgICBpW2VdICYmIEEucmVtb3ZlQ2hpbGQoaVtlXSksIGkubGVuZ3RoID8gQS5pbnNlcnRCZWZvcmUobywgaVtlXSkgOiBBLmFwcGVuZENoaWxkKG8pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gYihBLCBlKSB7CiAgICAgICAgdmFyIHQgPSBlLmNzcywKICAgICAgICAgICAgbiA9IGUubWVkaWEsCiAgICAgICAgICAgIHIgPSBlLnNvdXJjZU1hcDsKICAgICAgICBpZiAobiAmJiBBLnNldEF0dHJpYnV0ZSgibWVkaWEiLCBuKSwgcy5zc3JJZCAmJiBBLnNldEF0dHJpYnV0ZShkLCBlLmlkKSwgciAmJiAodCArPSAiXG4vKiMgc291cmNlVVJMPSIgKyByLnNvdXJjZXNbMF0gKyAiICovIiwgdCArPSAiXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSkpKSArICIgKi8iKSwgQS5zdHlsZVNoZWV0KSBBLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHQ7ZWxzZSB7CiAgICAgICAgICB3aGlsZSAoQS5maXJzdENoaWxkKSB7CiAgICAgICAgICAgIEEucmVtb3ZlQ2hpbGQoQS5maXJzdENoaWxkKTsKICAgICAgICAgIH0KCiAgICAgICAgICBBLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiNGIwOSI6IGZ1bmN0aW9uIGIwOShBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9ICJkYXRhOmFwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0O2Jhc2U2NCw0QWdBQUR3SUFBQUJBQUlBQUFBQUFBQUFBQUFBQUFBQUFBQUJBSkFCQUFBQUFFeFFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBQUFBQTA3cC9nQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQTRBYVFCakFHOEFiUUJ2QUc4QWJnQUFBQTRBVWdCbEFHY0FkUUJzQUdFQWNnQUFBQllBVmdCbEFISUFjd0JwQUc4QWJnQWdBREVBTGdBd0FBQUFEZ0JwQUdNQWJ3QnRBRzhBYndCdUFBQUFBQUFBQVFBQUFBc0FnQUFEQURCUFV5OHlEeElGK0FBQUFMd0FBQUJnWTIxaGNCZFcwbzRBQUFFY0FBQUFWR2RoYzNBQUFBQVFBQUFCY0FBQUFBaG5iSGxtWFY4SVhBQUFBWGdBQUFSVWFHVmhaQTVPS3FNQUFBWE1BQUFBTm1ob1pXRUh3Z1BOQUFBR0JBQUFBQ1JvYlhSNEpnQUVmQUFBQmlnQUFBQXdiRzlqWVFXa0JFd0FBQVpZQUFBQUdtMWhlSEFBRWdCd0FBQUdkQUFBQUNCdVlXMWxtVW9KK3dBQUJwUUFBQUdHY0c5emRBQURBQUFBQUFnY0FBQUFJQUFEQThjQmtBQUZBQUFDbVFMTUFBQUFqd0taQXN3QUFBSHJBRE1CQ1FBQUFBQUFBQUFBQUFBQUFBQUFBQUVRQUFBQUFBQUFBQUFBQUFBQUFBQUFBRUFBQU9rSEE4RC93QUJBQThBQVFBQUFBQUVBQUFBQUFBQUFBQUFBQUNBQUFBQUFBQU1BQUFBREFBQUFIQUFCQUFNQUFBQWNBQU1BQVFBQUFCd0FCQUE0QUFBQUNnQUlBQUlBQWdBQkFDRHBCLy85Ly84QUFBQUFBQ0RwQVAvOS8vOEFBZi9qRndRQUF3QUJBQUFBQUFBQUFBQUFBQUFCQUFILy93QVBBQUVBQUFBQUFBQUFBQUFDQUFBM09RRUFBQUFBQVFBQUFBQUFBQUFBQUFJQUFEYzVBUUFBQUFBQkFBQUFBQUFBQUFBQUFnQUFOemtCQUFBQUFBRUJNZ0NiQW5zQzVRQVNBQUFCRkFjQkJpTWlKeVkxRVRRM05qTXlGd0VXQW5zTC93QUtEdzhMQ3dzTER3OEtBUUFMQWNBUEMvOEFDd3NMRHdJQUR3c0xDLzhBQ3dBQUFBRUEyd0V1QXlVQ2R3QVNBQUFCSWljQkpqVTBOell6SVRJWEZoVUdCd0VHQWdBUEMvOEFDd3NMRHdJQUR3c0xBUXIvQUFzQkxnc0JBQW9QRHdzTEN3c1BEd3IvQUFzQUFBSUFxUUNDQTBRREhBQW1BRFFBQUFFaUJoVVJGQVlqSVNJbU5SRTBOak1oTWpZMU5DWWpJU0lHRlJFVUZqTWhNalkxRVRRbUl3VVdNamNCTmpRbkppSUhBUVlVQXpBSURCZ1IvZ2NRR0JnUUFWZ0lEQXdJL3BRWkpDUVpBaUlaSXd3SS9uRUdFUVlCYXdZR0JoRUcvcFVHQWxJTUNQNlVFQmdZRUFINUVSZ01DQWdNSXhuOTNoa2pJeGtCZ0FnTXhRWUdBVzBHRVFZR0J2NlRCaEVBQUFBQ0FBQUFqZ1FBQThBQUpnQkdBQUFCSVNjdUFRY2pJZ1lWRVJjekhnRXpJVFVoQnhFME5qTTNGeDRCTXlFeUZoMEJNelUwSmlNVEl6VTBKaU1pQmgwQkl5SUdGUlFXT3dFVkZCWXpNalk5QVRNeU5qVTBKZ095L2R3ckRSd0Y1eUV0QmhRSUV3b0IvZjRTRFFnRjR5c0ZHQklDSndZSFFTMGhLbzRWRGc4VmpnOFZGUStPRlE4T0ZZNFBGUlVEZERRUUNRRXVJUDFRS0FZR1FnRUNvd1VIQVRVSUR3Y0Z5OHNnTGY0VGpnOFZGUStPRlE0UEZZNFBGUlVQamhVUERoVUFBQUFBQVFDQUFFQURmd005QUNBQUFBRWhFVFFtSXlJR0ZSRWhJZ1lWQmhZeklSRVVGak15TmpVUklUSTJOVFFtSXdOZi9zTVREUTBUL3I0T0VnRVREUUZERXcwTkV3RTlEUk1TRGdIZkFUNE5FeE1OL3NJVERRMFQvc0VPRWhJT0FUOFNEZzBUQUFVQVFBQUFBOEFEZ0FBU0FDUUFSQUJQQUcwQUFDVWlKalVSTkRZek1oWVZFVGdCTVJRR0l6RWpJaVkxRVRRMk16SVdGUkU0QVRFVUJpTUJJelUwSmlNaElnWWRBU01pQmhVVUZqTWhPQUV4TWpZMU9BRTVBVFFtSXlVME5qTWhNaFlkQVNFMUFTRWlKalVSTkRZek1oWVZFUlFXTXlFeU5qVVJORFl6TWhZVkVSUUdBbUFORXhNTkRSTVREY0FORXhNTkRSTVREUUlBb0Rnbi9yOG9PS0FORXhNTkEwQU5FeE1OL2FBVERRRkJEUkwrZ0FHZy9rQW9PQk1ORFJNVERRSEFEaElURFE0U09NQVREUUZnRFJNVERmNmdEUk1URFFGZ0RSTVREZjZnRFJNQ0lFQW9PRGdvUUJNTkRSTVREUTBUUUEwVEV3MUFRUHpnT0NnQjRBNFNFZzcrSUEwVEV3MEIzdzBURXczK0lTZzRBQU1BdndCQUF6OERRQUFGQUFnQUR3QUFBU0VSSVJFbkh3RWpBUkVoRlRNUklRSnQvbElDZ05JVFVsTCtmd0ZBd1A0QUEwRDlBQUl0MDIxVC9nRUNmOEQrUVFBQUF3QkhBRWNEc2dNMkFCVUFHZ0FmQUFBQklTY3VBU3NCSWdZVkVSUVdNeUV5TmpVUk5DWWpJVFV6RnlFVklSRWhFUU9JL21pTkJoSUt6eElaR1JJREZoRVpHUkg4OU1CaS90NERBZnovQXE5MkNBa1pFdjFtRWhnWUVnSVVFUmxTVWpYK0FnSCtBQUFCQUFBQUFBQUFnSCs2MDE4UFBQVUFDd1FBQUFBQUFOV1ljdk1BQUFBQTFaaHk4d0FBQUFBRUFBUEFBQUFBQ0FBQ0FBQUFBQUFBQUFFQUFBUEEvOEFBQUFRQUFBQUFBQVFBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUFNQkFBQUFBQUFBQUFBQUFBQUFnQUFBQVFBQVRJRUFBRGJCQUFBcVFRQUFBQUVBQUNBQkFBQVFBUUFBTDhFQUFCSEFBQUFBQUFLQUJRQUhnQkNBR1lBdGdFWUFVb0IxQUgyQWlvQUFBQUJBQUFBREFCdUFBVUFBQUFBQUFJQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQURnQ3VBQUVBQUFBQUFBRUFCd0FBQUFFQUFBQUFBQUlBQndCZ0FBRUFBQUFBQUFNQUJ3QTJBQUVBQUFBQUFBUUFCd0IxQUFFQUFBQUFBQVVBQ3dBVkFBRUFBQUFBQUFZQUJ3QkxBQUVBQUFBQUFBb0FHZ0NLQUFNQUFRUUpBQUVBRGdBSEFBTUFBUVFKQUFJQURnQm5BQU1BQVFRSkFBTUFEZ0E5QUFNQUFRUUpBQVFBRGdCOEFBTUFBUVFKQUFVQUZnQWdBQU1BQVFRSkFBWUFEZ0JTQUFNQUFRUUpBQW9BTkFDa2FXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVWbVZ5YzJsdmJpQXhMakFBVmdCbEFISUFjd0JwQUc4QWJnQWdBREVBTGdBd2FXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVhV052Ylc5dmJnQnBBR01BYndCdEFHOEFid0J1VW1WbmRXeGhjZ0JTQUdVQVp3QjFBR3dBWVFCeWFXTnZiVzl2YmdCcEFHTUFid0J0QUc4QWJ3QnVSbTl1ZENCblpXNWxjbUYwWldRZ1lua2dTV052VFc5dmJpNEFSZ0J2QUc0QWRBQWdBR2NBWlFCdUFHVUFjZ0JoQUhRQVpRQmtBQ0FBWWdCNUFDQUFTUUJqQUc4QVRRQnZBRzhBYmdBdUFBQUFBd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9PSI7CiAgICB9LAogICAgIjRkNjQiOiBmdW5jdGlvbiBkNjQoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImZjNmEiKSwKICAgICAgICAgIHIgPSB0KCI1MGM0IiksCiAgICAgICAgICBvID0gdCgiMjNjYiIpLAogICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoQSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCwgaSkgewogICAgICAgICAgdmFyIGEsCiAgICAgICAgICAgICAgYyA9IG4oZSksCiAgICAgICAgICAgICAgZiA9IHIoYy5sZW5ndGgpLAogICAgICAgICAgICAgIHUgPSBvKGksIGYpOwoKICAgICAgICAgIGlmIChBICYmIHQgIT0gdCkgewogICAgICAgICAgICB3aGlsZSAoZiA+IHUpIHsKICAgICAgICAgICAgICBpZiAoYSA9IGNbdSsrXSwgYSAhPSBhKSByZXR1cm4gITA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBmb3IgKDsgZiA+IHU7IHUrKykgewogICAgICAgICAgICBpZiAoKEEgfHwgdSBpbiBjKSAmJiBjW3VdID09PSB0KSByZXR1cm4gQSB8fCB1IHx8IDA7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICFBICYmIC0xOwogICAgICAgIH07CiAgICAgIH07CgogICAgICBBLmV4cG9ydHMgPSB7CiAgICAgICAgaW5jbHVkZXM6IGkoITApLAogICAgICAgIGluZGV4T2Y6IGkoITEpCiAgICAgIH07CiAgICB9LAogICAgIjRkZTQiOiBmdW5jdGlvbiBkZTQoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHQoIjIzZTciKSwKICAgICAgICAgIHIgPSB0KCJiNzI3IikuZmlsdGVyLAogICAgICAgICAgbyA9IHQoImQwMzkiKSwKICAgICAgICAgIGkgPSB0KCIxZGRlIiksCiAgICAgICAgICBhID0gaSgiZmlsdGVyIiksCiAgICAgICAgICBjID0gYSAmJiAhbyhmdW5jdGlvbiAoKSB7CiAgICAgICAgW10uZmlsdGVyLmNhbGwoewogICAgICAgICAgbGVuZ3RoOiAtMSwKICAgICAgICAgIDA6IDEKICAgICAgICB9LCBmdW5jdGlvbiAoQSkgewogICAgICAgICAgdGhyb3cgQTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIG4oewogICAgICAgIHRhcmdldDogIkFycmF5IiwKICAgICAgICBwcm90bzogITAsCiAgICAgICAgZm9yY2VkOiAhYSB8fCAhYwogICAgICB9LCB7CiAgICAgICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoQSkgewogICAgICAgICAgcmV0dXJuIHIodGhpcywgQSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB2b2lkIDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgIjUwYzQiOiBmdW5jdGlvbiBjNChBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiYTY5MSIpLAogICAgICAgICAgciA9IE1hdGgubWluOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gQSA+IDAgPyByKG4oQSksIDkwMDcxOTkyNTQ3NDA5OTEpIDogMDsKICAgICAgfTsKICAgIH0sCiAgICA1MTM1OiBmdW5jdGlvbiBfKEEsIGUpIHsKICAgICAgdmFyIHQgPSB7fS5oYXNPd25Qcm9wZXJ0eTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgcmV0dXJuIHQuY2FsbChBLCBlKTsKICAgICAgfTsKICAgIH0sCiAgICA1NjkyOiBmdW5jdGlvbiBfKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJjNDMwIiksCiAgICAgICAgICByID0gdCgiYzZjZCIpOwogICAgICAoQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICByZXR1cm4gcltBXSB8fCAocltBXSA9IHZvaWQgMCAhPT0gZSA/IGUgOiB7fSk7CiAgICAgIH0pKCJ2ZXJzaW9ucyIsIFtdKS5wdXNoKHsKICAgICAgICB2ZXJzaW9uOiAiMy42LjEiLAogICAgICAgIG1vZGU6IG4gPyAicHVyZSIgOiAiZ2xvYmFsIiwKICAgICAgICBjb3B5cmlnaHQ6ICLCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIgogICAgICB9KTsKICAgIH0sCiAgICAiNTZlZiI6IGZ1bmN0aW9uIGVmKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkMDY2IiksCiAgICAgICAgICByID0gdCgiMjQxYyIpLAogICAgICAgICAgbyA9IHQoIjc0MTgiKSwKICAgICAgICAgIGkgPSB0KCI4MjVhIik7CgogICAgICBBLmV4cG9ydHMgPSBuKCJSZWZsZWN0IiwgIm93bktleXMiKSB8fCBmdW5jdGlvbiAoQSkgewogICAgICAgIHZhciBlID0gci5mKGkoQSkpLAogICAgICAgICAgICB0ID0gby5mOwogICAgICAgIHJldHVybiB0ID8gZS5jb25jYXQodChBKSkgOiBlOwogICAgICB9OwogICAgfSwKICAgICI1YzZjIjogZnVuY3Rpb24gYzZjKEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZW51bWVyYWJsZTogISgxICYgQSksCiAgICAgICAgICBjb25maWd1cmFibGU6ICEoMiAmIEEpLAogICAgICAgICAgd3JpdGFibGU6ICEoNCAmIEEpLAogICAgICAgICAgdmFsdWU6IGUKICAgICAgICB9OwogICAgICB9OwogICAgfSwKICAgICI2MGFlIjogZnVuY3Rpb24gYWUoQSwgZSwgdCkgewogICAgICB2YXIgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvID0gdCgiZGE4NCIpLAogICAgICAgICAgaSA9IHQoImIzOWEiKSwKICAgICAgICAgIGEgPSBvLnByb2Nlc3MsCiAgICAgICAgICBjID0gYSAmJiBhLnZlcnNpb25zLAogICAgICAgICAgZiA9IGMgJiYgYy52ODsKICAgICAgZiA/IChuID0gZi5zcGxpdCgiLiIpLCByID0gblswXSArIG5bMV0pIDogaSAmJiAobiA9IGkubWF0Y2goL0VkZ2VcLyhcZCspLyksICghbiB8fCBuWzFdID49IDc0KSAmJiAobiA9IGkubWF0Y2goL0Nocm9tZVwvKFxkKykvKSwgbiAmJiAociA9IG5bMV0pKSksIEEuZXhwb3J0cyA9IHIgJiYgK3I7CiAgICB9LAogICAgIjYyYTMiOiBmdW5jdGlvbiBhMyhBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9ICJkYXRhOmZvbnQvdHRmO2Jhc2U2NCxBQUVBQUFBTEFJQUFBd0F3VDFNdk1nOFNCZmdBQUFDOEFBQUFZR050WVhBWFZ0S09BQUFCSEFBQUFGUm5ZWE53QUFBQUVBQUFBWEFBQUFBSVoyeDVabDFmQ0Z3QUFBRjRBQUFFVkdobFlXUU9UaXFqQUFBRnpBQUFBRFpvYUdWaEI4SUR6UUFBQmdRQUFBQWthRzEwZUNZQUJId0FBQVlvQUFBQU1HeHZZMkVGcEFSTUFBQUdXQUFBQUJwdFlYaHdBQklBY0FBQUJuUUFBQUFnYm1GdFpabEtDZnNBQUFhVUFBQUJobkJ2YzNRQUF3QUFBQUFJSEFBQUFDQUFBd1BIQVpBQUJRQUFBcGtDekFBQUFJOENtUUxNQUFBQjZ3QXpBUWtBQUFBQUFBQUFBQUFBQUFBQUFBQUJFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQURwQndQQS84QUFRQVBBQUVBQUFBQUJBQUFBQUFBQUFBQUFBQUFnQUFBQUFBQURBQUFBQXdBQUFCd0FBUUFEQUFBQUhBQURBQUVBQUFBY0FBUUFPQUFBQUFvQUNBQUNBQUlBQVFBZzZRZi8vZi8vQUFBQUFBQWc2UUQvL2YvL0FBSC80eGNFQUFNQUFRQUFBQUFBQUFBQUFBQUFBUUFCLy84QUR3QUJBQUFBQUFBQUFBQUFBZ0FBTnprQkFBQUFBQUVBQUFBQUFBQUFBQUFDQUFBM09RRUFBQUFBQVFBQUFBQUFBQUFBQUFJQUFEYzVBUUFBQUFBQkFUSUFtd0o3QXVVQUVnQUFBUlFIQVFZaklpY21OUkUwTnpZek1oY0JGZ0o3Qy84QUNnOFBDd3NMQ3c4UENnRUFDd0hBRHd2L0FBc0xDdzhDQUE4TEN3di9BQXNBQUFBQkFOc0JMZ01sQW5jQUVnQUFBU0luQVNZMU5EYzJNeUV5RnhZVkJnY0JCZ0lBRHd2L0FBc0xDdzhDQUE4TEN3RUsvd0FMQVM0TEFRQUtEdzhMQ3dzTER3OEsvd0FMQUFBQ0FLa0FnZ05FQXh3QUpnQTBBQUFCSWdZVkVSUUdJeUVpSmpVUk5EWXpJVEkyTlRRbUl5RWlCaFVSRkJZeklUSTJOUkUwSmlNRkZqSTNBVFkwSnlZaUJ3RUdGQU13Q0F3WUVmNEhFQmdZRUFGWUNBd01DUDZVR1NRa0dRSWlHU01NQ1A1eEJoRUdBV3NHQmdZUkJ2NlZCZ0pTREFqK2xCQVlHQkFCK1JFWURBZ0lEQ01aL2Q0Wkl5TVpBWUFJRE1VR0JnRnRCaEVHQmdiK2t3WVJBQUFBQWdBQUFJNEVBQVBBQUNZQVJnQUFBU0VuTGdFSEl5SUdGUkVYTXg0Qk15RTFJUWNSTkRZek54Y2VBVE1oTWhZZEFUTTFOQ1lqRXlNMU5DWWpJZ1lkQVNNaUJoVVVGanNCRlJRV016STJQUUV6TWpZMU5DWURzdjNjS3cwY0JlY2hMUVlVQ0JNS0FmMytFZzBJQmVNckJSZ1NBaWNHQjBFdElTcU9GUTRQRlk0UEZSVVBqaFVQRGhXT0R4VVZBM1EwRUFrQkxpRDlVQ2dHQmtJQkFxTUZCd0UxQ0E4SEJjdkxJQzMrRTQ0UEZSVVBqaFVPRHhXT0R4VVZENDRWRHc0VkFBQUFBQUVBZ0FCQUEzOERQUUFnQUFBQklSRTBKaU1pQmhVUklTSUdGUVlXTXlFUkZCWXpNalkxRVNFeU5qVTBKaU1EWC83REV3ME5FLzYrRGhJQkV3MEJReE1ORFJNQlBRMFRFZzRCM3dFK0RSTVREZjdDRXcwTkUvN0JEaElTRGdFL0VnNE5Fd0FGQUVBQUFBUEFBNEFBRWdBa0FFUUFUd0J0QUFBbElpWTFFVFEyTXpJV0ZSRTRBVEVVQmlNeEl5SW1OUkUwTmpNeUZoVVJPQUV4RkFZakFTTTFOQ1lqSVNJR0hRRWpJZ1lWRkJZeklUZ0JNVEkyTlRnQk9RRTBKaU1sTkRZeklUSVdIUUVoTlFFaElpWTFFVFEyTXpJV0ZSRVVGak1oTWpZMUVUUTJNeklXRlJFVUJnSmdEUk1URFEwVEV3M0FEUk1URFEwVEV3MENBS0E0Si82L0tEaWdEUk1URFFOQURSTVREZjJnRXcwQlFRMFMvb0FCb1A1QUtEZ1REUTBURXcwQndBNFNFdzBPRWpqQUV3MEJZQTBURXczK29BMFRFdzBCWUEwVEV3MytvQTBUQWlCQUtEZzRLRUFURFEwVEV3ME5FMEFORXhNTlFFRDg0RGdvQWVBT0VoSU8vaUFORXhNTkFkOE5FeE1OL2lFb09BQURBTDhBUUFNL0EwQUFCUUFJQUE4QUFBRWhFU0VSSng4Qkl3RVJJUlV6RVNFQ2JmNVNBb0RTRTFKUy9uOEJRTUQrQUFOQS9RQUNMZE50VS80QkFuL0Eva0VBQUFNQVJ3QkhBN0lETmdBVkFCb0FId0FBQVNFbkxnRXJBU0lHRlJFVUZqTWhNalkxRVRRbUl5RTFNeGNoRlNFUklSRURpUDVvalFZU0NzOFNHUmtTQXhZUkdSa1IvUFRBWXY3ZUF3SDgvd0t2ZGdnSkdSTDlaaElZR0JJQ0ZCRVpVbEkxL2dJQi9nQUFBUUFBQUFBQUFJQi91dE5mRHp6MUFBc0VBQUFBQUFEVm1ITHpBQUFBQU5XWWN2TUFBQUFBQkFBRHdBQUFBQWdBQWdBQUFBQUFBQUFCQUFBRHdQL0FBQUFFQUFBQUFBQUVBQUFCQUFBQUFBQUFBQUFBQUFBQUFBQUFEQVFBQUFBQUFBQUFBQUFBQUFJQUFBQUVBQUV5QkFBQTJ3UUFBS2tFQUFBQUJBQUFnQVFBQUVBRUFBQy9CQUFBUndBQUFBQUFDZ0FVQUI0QVFnQm1BTFlCR0FGS0FkUUI5Z0lxQUFBQUFRQUFBQXdBYmdBRkFBQUFBQUFDQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE0QXJnQUJBQUFBQUFBQkFBY0FBQUFCQUFBQUFBQUNBQWNBWUFBQkFBQUFBQUFEQUFjQU5nQUJBQUFBQUFBRUFBY0FkUUFCQUFBQUFBQUZBQXNBRlFBQkFBQUFBQUFHQUFjQVN3QUJBQUFBQUFBS0FCb0FpZ0FEQUFFRUNRQUJBQTRBQndBREFBRUVDUUFDQUE0QVp3QURBQUVFQ1FBREFBNEFQUUFEQUFFRUNRQUVBQTRBZkFBREFBRUVDUUFGQUJZQUlBQURBQUVFQ1FBR0FBNEFVZ0FEQUFFRUNRQUtBRFFBcEdsamIyMXZiMjRBYVFCakFHOEFiUUJ2QUc4QWJsWmxjbk5wYjI0Z01TNHdBRllBWlFCeUFITUFhUUJ2QUc0QUlBQXhBQzRBTUdsamIyMXZiMjRBYVFCakFHOEFiUUJ2QUc4QWJtbGpiMjF2YjI0QWFRQmpBRzhBYlFCdkFHOEFibEpsWjNWc1lYSUFVZ0JsQUdjQWRRQnNBR0VBY21samIyMXZiMjRBYVFCakFHOEFiUUJ2QUc4QWJrWnZiblFnWjJWdVpYSmhkR1ZrSUdKNUlFbGpiMDF2YjI0dUFFWUFid0J1QUhRQUlBQm5BR1VBYmdCbEFISUFZUUIwQUdVQVpBQWdBR0lBZVFBZ0FFa0FZd0J2QUUwQWJ3QnZBRzRBTGdBQUFBTUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE9IjsKICAgIH0sCiAgICAiNjVmMCI6IGZ1bmN0aW9uIGYwKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4NjFkIiksCiAgICAgICAgICByID0gdCgiZThiNSIpLAogICAgICAgICAgbyA9IHQoImI2MjIiKSwKICAgICAgICAgIGkgPSBvKCJzcGVjaWVzIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHZhciB0OwogICAgICAgIHJldHVybiByKEEpICYmICh0ID0gQS5jb25zdHJ1Y3RvciwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgdCB8fCB0ICE9PSBBcnJheSAmJiAhcih0LnByb3RvdHlwZSkgPyBuKHQpICYmICh0ID0gdFtpXSwgbnVsbCA9PT0gdCAmJiAodCA9IHZvaWQgMCkpIDogdCA9IHZvaWQgMCksIG5ldyAodm9pZCAwID09PSB0ID8gQXJyYXkgOiB0KSgwID09PSBlID8gMCA6IGUpOwogICAgICB9OwogICAgfSwKICAgICI2OWYzIjogZnVuY3Rpb24gZjMoQSwgZSwgdCkgewogICAgICB2YXIgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSA9IHQoIjdmOWEiKSwKICAgICAgICAgIGEgPSB0KCJkYTg0IiksCiAgICAgICAgICBjID0gdCgiODYxZCIpLAogICAgICAgICAgZiA9IHQoIjkxMTIiKSwKICAgICAgICAgIHUgPSB0KCI1MTM1IiksCiAgICAgICAgICBzID0gdCgiZjc3MiIpLAogICAgICAgICAgZCA9IHQoImQwMTIiKSwKICAgICAgICAgIGwgPSBhLldlYWtNYXAsCiAgICAgICAgICBwID0gZnVuY3Rpb24gcChBKSB7CiAgICAgICAgcmV0dXJuIG8oQSkgPyByKEEpIDogbihBLCB7fSk7CiAgICAgIH0sCiAgICAgICAgICBnID0gZnVuY3Rpb24gZyhBKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgIGlmICghYyhlKSB8fCAodCA9IHIoZSkpLnR5cGUgIT09IEEpIHRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiICsgQSArICIgcmVxdWlyZWQiKTsKICAgICAgICAgIHJldHVybiB0OwogICAgICAgIH07CiAgICAgIH07CgogICAgICBpZiAoaSkgewogICAgICAgIHZhciBoID0gbmV3IGwoKSwKICAgICAgICAgICAgdiA9IGguZ2V0LAogICAgICAgICAgICBFID0gaC5oYXMsCiAgICAgICAgICAgIEIgPSBoLnNldDsKICAgICAgICBuID0gZnVuY3Rpb24gbihBLCBlKSB7CiAgICAgICAgICByZXR1cm4gQi5jYWxsKGgsIEEsIGUpLCBlOwogICAgICAgIH0sIHIgPSBmdW5jdGlvbiByKEEpIHsKICAgICAgICAgIHJldHVybiB2LmNhbGwoaCwgQSkgfHwge307CiAgICAgICAgfSwgbyA9IGZ1bmN0aW9uIG8oQSkgewogICAgICAgICAgcmV0dXJuIEUuY2FsbChoLCBBKTsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBiID0gcygic3RhdGUiKTsKICAgICAgICBkW2JdID0gITAsIG4gPSBmdW5jdGlvbiBuKEEsIGUpIHsKICAgICAgICAgIHJldHVybiBmKEEsIGIsIGUpLCBlOwogICAgICAgIH0sIHIgPSBmdW5jdGlvbiByKEEpIHsKICAgICAgICAgIHJldHVybiB1KEEsIGIpID8gQVtiXSA6IHt9OwogICAgICAgIH0sIG8gPSBmdW5jdGlvbiBvKEEpIHsKICAgICAgICAgIHJldHVybiB1KEEsIGIpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIEEuZXhwb3J0cyA9IHsKICAgICAgICBzZXQ6IG4sCiAgICAgICAgZ2V0OiByLAogICAgICAgIGhhczogbywKICAgICAgICBlbmZvcmNlOiBwLAogICAgICAgIGdldHRlckZvcjogZwogICAgICB9OwogICAgfSwKICAgICI2Y2JlIjogZnVuY3Rpb24gY2JlKEEsIGUsIHQpIHsKICAgICAgQS5leHBvcnRzID0gdC5wICsgImltZy9pY29tb29uLjRmY2ZmZTM1LnN2ZyI7CiAgICB9LAogICAgIjZlZWIiOiBmdW5jdGlvbiBlZWIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImRhODQiKSwKICAgICAgICAgIHIgPSB0KCI5MTEyIiksCiAgICAgICAgICBvID0gdCgiNTEzNSIpLAogICAgICAgICAgaSA9IHQoImNlNGUiKSwKICAgICAgICAgIGEgPSB0KCI4OTI1IiksCiAgICAgICAgICBjID0gdCgiNjlmMyIpLAogICAgICAgICAgZiA9IGMuZ2V0LAogICAgICAgICAgdSA9IGMuZW5mb3JjZSwKICAgICAgICAgIHMgPSBTdHJpbmcoU3RyaW5nKS5zcGxpdCgiU3RyaW5nIik7CiAgICAgIChBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSwgdCwgYSkgewogICAgICAgIHZhciBjID0gISFhICYmICEhYS51bnNhZmUsCiAgICAgICAgICAgIGYgPSAhIWEgJiYgISFhLmVudW1lcmFibGUsCiAgICAgICAgICAgIGQgPSAhIWEgJiYgISFhLm5vVGFyZ2V0R2V0OwogICAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgJiYgKCJzdHJpbmciICE9IHR5cGVvZiBlIHx8IG8odCwgIm5hbWUiKSB8fCByKHQsICJuYW1lIiwgZSksIHUodCkuc291cmNlID0gcy5qb2luKCJzdHJpbmciID09IHR5cGVvZiBlID8gZSA6ICIiKSksIEEgIT09IG4gPyAoYyA/ICFkICYmIEFbZV0gJiYgKGYgPSAhMCkgOiBkZWxldGUgQVtlXSwgZiA/IEFbZV0gPSB0IDogcihBLCBlLCB0KSkgOiBmID8gQVtlXSA9IHQgOiBpKGUsIHQpOwogICAgICB9KShGdW5jdGlvbi5wcm90b3R5cGUsICJ0b1N0cmluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdGhpcyAmJiBmKHRoaXMpLnNvdXJjZSB8fCBhKHRoaXMpOwogICAgICB9KTsKICAgIH0sCiAgICA3NDE4OiBmdW5jdGlvbiBfKEEsIGUpIHsKICAgICAgZS5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczsKICAgIH0sCiAgICAiNzQ2ZiI6IGZ1bmN0aW9uIGYoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjQyOGYiKSwKICAgICAgICAgIHIgPSB0KCI1MTM1IiksCiAgICAgICAgICBvID0gdCgiYzAzMiIpLAogICAgICAgICAgaSA9IHQoIjliZjIiKS5mOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICB2YXIgZSA9IG4uU3ltYm9sIHx8IChuLlN5bWJvbCA9IHt9KTsKICAgICAgICByKGUsIEEpIHx8IGkoZSwgQSwgewogICAgICAgICAgdmFsdWU6IG8uZihBKQogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIDc4Mzk6IGZ1bmN0aW9uIF8oQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSBbImNvbnN0cnVjdG9yIiwgImhhc093blByb3BlcnR5IiwgImlzUHJvdG90eXBlT2YiLCAicHJvcGVydHlJc0VudW1lcmFibGUiLCAidG9Mb2NhbGVTdHJpbmciLCAidG9TdHJpbmciLCAidmFsdWVPZiJdOwogICAgfSwKICAgICI3YTIzIjogZnVuY3Rpb24gYTIzKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCIyNGZiIiksCiAgICAgICAgICByID0gdCgiMWRlNSIpLAogICAgICAgICAgbyA9IHQoIjRiMDkiKSwKICAgICAgICAgIGkgPSB0KCI2MmEzIiksCiAgICAgICAgICBhID0gdCgiYWUxZSIpLAogICAgICAgICAgYyA9IHQoIjZjYmUiKTsKICAgICAgZSA9IG4oITEpOwogICAgICB2YXIgZiA9IHIobyksCiAgICAgICAgICB1ID0gcihvLCB7CiAgICAgICAgaGFzaDogIiNpZWZpeCIKICAgICAgfSksCiAgICAgICAgICBzID0gcihpKSwKICAgICAgICAgIGQgPSByKGEpLAogICAgICAgICAgbCA9IHIoYywgewogICAgICAgIGhhc2g6ICIjaWNvbW9vbiIKICAgICAgfSk7CiAgICAgIGUucHVzaChbQS5pLCAiQGZvbnQtZmFjZXtmb250LWZhbWlseTppY29tb29uO3NyYzp1cmwoIiArIGYgKyAiKTtzcmM6dXJsKCIgKyB1ICsgJykgZm9ybWF0KCJlbWJlZGRlZC1vcGVudHlwZSIpLHVybCgnICsgcyArICcpIGZvcm1hdCgidHJ1ZXR5cGUiKSx1cmwoJyArIGQgKyAnKSBmb3JtYXQoIndvZmYiKSx1cmwoJyArIGwgKyAnKSBmb3JtYXQoInN2ZyIpO2ZvbnQtd2VpZ2h0OjQwMDtmb250LXN0eWxlOm5vcm1hbH0udnRsLWljb257Zm9udC1mYW1pbHk6aWNvbW9vbiFpbXBvcnRhbnQ7c3BlYWs6bm9uZTtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7Zm9udC12YXJpYW50Om5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2xpbmUtaGVpZ2h0OjE7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGV9LnZ0bC1pY29uLnZ0bC1tZW51LWljb257bWFyZ2luLXJpZ2h0OjRweH0udnRsLWljb24udnRsLW1lbnUtaWNvbjpob3Zlcntjb2xvcjppbmhlcml0fS52dGwtaWNvbjpob3Zlcntjb2xvcjojMDBmfS52dGwtaWNvbi1maWxlOmJlZm9yZXtjb250ZW50OiJcXGU5MDYifS52dGwtaWNvbi1mb2xkZXI6YmVmb3Jle2NvbnRlbnQ6IlxcZTkwNyJ9LnZ0bC1pY29uLWNhcmV0LWRvd246YmVmb3Jle2NvbnRlbnQ6IlxcZTkwMSJ9LnZ0bC1pY29uLWNhcmV0LXJpZ2h0OmJlZm9yZXtjb250ZW50OiJcXGU5MDAifS52dGwtaWNvbi1lZGl0OmJlZm9yZXtjb250ZW50OiJcXGU5MDIifS52dGwtaWNvbi1mb2xkZXItcGx1cy1lOmJlZm9yZXtjb250ZW50OiJcXGU5MDMifS52dGwtaWNvbi1wbHVzOmJlZm9yZXtjb250ZW50OiJcXGU5MDQifS52dGwtaWNvbi10cmFzaDpiZWZvcmV7Y29udGVudDoiXFxlOTA1In0udnRsLWJvcmRlcntoZWlnaHQ6NXB4fS52dGwtYm9yZGVyLnZ0bC11cHttYXJnaW4tdG9wOi01cHh9LnZ0bC1ib3JkZXIudnRsLWJvdHRvbSwudnRsLWJvcmRlci52dGwtdXB7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udnRsLWJvcmRlci52dGwtYWN0aXZle2JvcmRlci1ib3R0b206M3B4IGRhc2hlZCAjMDBmfS52dGwtbm9kZS1tYWlue2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo1cHggMCA1cHggMXJlbX0udnRsLW5vZGUtbWFpbiAudnRsLWlucHV0e2JvcmRlcjpub25lO21heC13aWR0aDoxNTBweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMDBmfS52dGwtbm9kZS1tYWluOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2YwZjBmMH0udnRsLW5vZGUtbWFpbi52dGwtYWN0aXZle291dGxpbmU6MnB4IGRhc2hlZCBwaW5rfS52dGwtbm9kZS1tYWluIC52dGwtY2FyZXR7bWFyZ2luLWxlZnQ6LTFyZW19LnZ0bC1ub2RlLW1haW4gLnZ0bC1vcGVyYXRpb257bWFyZ2luLWxlZnQ6MnJlbTtsZXR0ZXItc3BhY2luZzoxcHh9LnZ0bC1pdGVte2N1cnNvcjpwb2ludGVyfS52dGwtdHJlZS1tYXJnaW57bWFyZ2luLWxlZnQ6MmVtfScsICIiXSksIEEuZXhwb3J0cyA9IGU7CiAgICB9LAogICAgIjdiMGIiOiBmdW5jdGlvbiBiMGIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjFkODAiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIE9iamVjdChuKEEpKTsKICAgICAgfTsKICAgIH0sCiAgICAiN2M3MyI6IGZ1bmN0aW9uIGM3MyhBLCBlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciA9IHQoIjgyNWEiKSwKICAgICAgICAgIG8gPSB0KCIzN2U4IiksCiAgICAgICAgICBpID0gdCgiNzgzOSIpLAogICAgICAgICAgYSA9IHQoImQwMTIiKSwKICAgICAgICAgIGMgPSB0KCIxYmU0IiksCiAgICAgICAgICBmID0gdCgiY2MxMiIpLAogICAgICAgICAgdSA9IHQoImY3NzIiKSwKICAgICAgICAgIHMgPSAiPiIsCiAgICAgICAgICBkID0gIjwiLAogICAgICAgICAgbCA9ICJwcm90b3R5cGUiLAogICAgICAgICAgcCA9ICJzY3JpcHQiLAogICAgICAgICAgZyA9IHUoIklFX1BST1RPIiksCiAgICAgICAgICBoID0gZnVuY3Rpb24gaCgpIHt9LAogICAgICAgICAgdiA9IGZ1bmN0aW9uIHYoQSkgewogICAgICAgIHJldHVybiBkICsgcCArIHMgKyBBICsgZCArICIvIiArIHAgKyBzOwogICAgICB9LAogICAgICAgICAgRSA9IGZ1bmN0aW9uIEUoQSkgewogICAgICAgIEEud3JpdGUodigiIikpLCBBLmNsb3NlKCk7CiAgICAgICAgdmFyIGUgPSBBLnBhcmVudFdpbmRvdy5PYmplY3Q7CiAgICAgICAgcmV0dXJuIEEgPSBudWxsLCBlOwogICAgICB9LAogICAgICAgICAgQiA9IGZ1bmN0aW9uIEIoKSB7CiAgICAgICAgdmFyIEEsCiAgICAgICAgICAgIGUgPSBmKCJpZnJhbWUiKSwKICAgICAgICAgICAgdCA9ICJqYXZhIiArIHAgKyAiOiI7CiAgICAgICAgcmV0dXJuIGUuc3R5bGUuZGlzcGxheSA9ICJub25lIiwgYy5hcHBlbmRDaGlsZChlKSwgZS5zcmMgPSBTdHJpbmcodCksIEEgPSBlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsIEEub3BlbigpLCBBLndyaXRlKHYoImRvY3VtZW50LkY9T2JqZWN0IikpLCBBLmNsb3NlKCksIEEuRjsKICAgICAgfSwKICAgICAgICAgIF9iID0gZnVuY3Rpb24gYigpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbiA9IGRvY3VtZW50LmRvbWFpbiAmJiBuZXcgQWN0aXZlWE9iamVjdCgiaHRtbGZpbGUiKTsKICAgICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgICBfYiA9IG4gPyBFKG4pIDogQigpOwogICAgICAgIHZhciBBID0gaS5sZW5ndGg7CgogICAgICAgIHdoaWxlIChBLS0pIHsKICAgICAgICAgIGRlbGV0ZSBfYltsXVtpW0FdXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBfYigpOwogICAgICB9OwoKICAgICAgYVtnXSA9ICEwLCBBLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdmFyIHQ7CiAgICAgICAgcmV0dXJuIG51bGwgIT09IEEgPyAoaFtsXSA9IHIoQSksIHQgPSBuZXcgaCgpLCBoW2xdID0gbnVsbCwgdFtnXSA9IEEpIDogdCA9IF9iKCksIHZvaWQgMCA9PT0gZSA/IHQgOiBvKHQsIGUpOwogICAgICB9OwogICAgfSwKICAgICI3ZjlhIjogZnVuY3Rpb24gZjlhKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkYTg0IiksCiAgICAgICAgICByID0gdCgiODkyNSIpLAogICAgICAgICAgbyA9IG4uV2Vha01hcDsKICAgICAgQS5leHBvcnRzID0gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG8gJiYgL25hdGl2ZSBjb2RlLy50ZXN0KHIobykpOwogICAgfSwKICAgICI4MjVhIjogZnVuY3Rpb24gYShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiODYxZCIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICBpZiAoIW4oQSkpIHRocm93IFR5cGVFcnJvcihTdHJpbmcoQSkgKyAiIGlzIG5vdCBhbiBvYmplY3QiKTsKICAgICAgICByZXR1cm4gQTsKICAgICAgfTsKICAgIH0sCiAgICAiODNhYiI6IGZ1bmN0aW9uIGFiKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJkMDM5Iik7CiAgICAgIEEuZXhwb3J0cyA9ICFuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gNyAhPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICJhIiwgewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiA3OwogICAgICAgICAgfQogICAgICAgIH0pLmE7CiAgICAgIH0pOwogICAgfSwKICAgICI4M2FmIjogZnVuY3Rpb24gYWYoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbjsKICAgICAgdC5kKGUsICJhIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiByOwogICAgICB9KSwgdC5kKGUsICJiIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBvOwogICAgICB9KSwgdC5kKGUsICJjIiwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBpOwogICAgICB9KTsKCiAgICAgIHZhciByID0gZnVuY3Rpb24gcihBLCBlLCB0KSB7CiAgICAgICAgbiA9IHQsIEEuYWRkRXZlbnRMaXN0ZW5lciA/IEEuYWRkRXZlbnRMaXN0ZW5lcihlLCB0LCAhMSkgOiBBLmF0dGFjaEV2ZW50ID8gQS5hdHRhY2hFdmVudCgib24iICsgZSwgdCkgOiBBWyJvbiIgKyBlXSA9IHQ7CiAgICAgIH0sCiAgICAgICAgICBvID0gZnVuY3Rpb24gbyhBLCBlKSB7CiAgICAgICAgQS5yZW1vdmVFdmVudExpc3RlbmVyID8gQS5yZW1vdmVFdmVudExpc3RlbmVyKGUsIG4sICExKSA6IEEuZGV0YWNoRXZlbnQgPyBBLmRldGFjaEV2ZW50KCJvbiIgKyBlLCBuKSA6IEFbIm9uIiArIGVdID0gbnVsbDsKICAgICAgfSwKICAgICAgICAgIGkgPSBmdW5jdGlvbiBBKGUpIHsKICAgICAgICB2YXIgdCA9IHt9OwoKICAgICAgICBmb3IgKHZhciBuIGluIGUpIHsKICAgICAgICAgICJjaGlsZHJlbiIgIT09IG4gJiYgInBhcmVudCIgIT09IG4gJiYgKHRbbl0gPSBlW25dKTsKICAgICAgICB9CgogICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgdC5jaGlsZHJlbiA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIHIgPSAwLCBvID0gZS5jaGlsZHJlbi5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgICAgICAgdC5jaGlsZHJlbi5wdXNoKEEoZS5jaGlsZHJlbltyXSkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHQ7CiAgICAgIH07CiAgICB9LAogICAgODQxODogZnVuY3Rpb24gXyhBLCBlLCB0KSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBuID0gdCgiYzA0ZSIpLAogICAgICAgICAgciA9IHQoIjliZjIiKSwKICAgICAgICAgIG8gPSB0KCI1YzZjIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSwgdCkgewogICAgICAgIHZhciBpID0gbihlKTsKICAgICAgICBpIGluIEEgPyByLmYoQSwgaSwgbygwLCB0KSkgOiBBW2ldID0gdDsKICAgICAgfTsKICAgIH0sCiAgICAiODYxZCI6IGZ1bmN0aW9uIGQoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiAib2JqZWN0IiA9PT0gX3R5cGVvZihBKSA/IG51bGwgIT09IEEgOiAiZnVuY3Rpb24iID09PSB0eXBlb2YgQTsKICAgICAgfTsKICAgIH0sCiAgICA4OTI1OiBmdW5jdGlvbiBfKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJjNmNkIiksCiAgICAgICAgICByID0gRnVuY3Rpb24udG9TdHJpbmc7CiAgICAgICJmdW5jdGlvbiIgIT0gdHlwZW9mIG4uaW5zcGVjdFNvdXJjZSAmJiAobi5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gci5jYWxsKEEpOwogICAgICB9KSwgQS5leHBvcnRzID0gbi5pbnNwZWN0U291cmNlOwogICAgfSwKICAgICI5MGUzIjogZnVuY3Rpb24gZTMoQSwgZSkgewogICAgICB2YXIgdCA9IDAsCiAgICAgICAgICBuID0gTWF0aC5yYW5kb20oKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuICJTeW1ib2woIiArIFN0cmluZyh2b2lkIDAgPT09IEEgPyAiIiA6IEEpICsgIilfIiArICgrK3QgKyBuKS50b1N0cmluZygzNik7CiAgICAgIH07CiAgICB9LAogICAgOTExMjogZnVuY3Rpb24gXyhBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiODNhYiIpLAogICAgICAgICAgciA9IHQoIjliZjIiKSwKICAgICAgICAgIG8gPSB0KCI1YzZjIik7CiAgICAgIEEuZXhwb3J0cyA9IG4gPyBmdW5jdGlvbiAoQSwgZSwgdCkgewogICAgICAgIHJldHVybiByLmYoQSwgZSwgbygxLCB0KSk7CiAgICAgIH0gOiBmdW5jdGlvbiAoQSwgZSwgdCkgewogICAgICAgIHJldHVybiBBW2VdID0gdCwgQTsKICAgICAgfTsKICAgIH0sCiAgICAiOTFhOSI6IGZ1bmN0aW9uIGE5KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI3YTIzIik7CiAgICAgICJzdHJpbmciID09PSB0eXBlb2YgbiAmJiAobiA9IFtbQS5pLCBuLCAiIl1dKSwgbi5sb2NhbHMgJiYgKEEuZXhwb3J0cyA9IG4ubG9jYWxzKTsKICAgICAgdmFyIHIgPSB0KCI0OTllIikuZGVmYXVsdDsKICAgICAgcigiNjViYzQxZTQiLCBuLCAhMCwgewogICAgICAgIHNvdXJjZU1hcDogITEsCiAgICAgICAgc2hhZG93TW9kZTogITEKICAgICAgfSk7CiAgICB9LAogICAgIjk0Y2EiOiBmdW5jdGlvbiBjYShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZDAzOSIpLAogICAgICAgICAgciA9IC8jfFwucHJvdG90eXBlXC4vLAogICAgICAgICAgbyA9IGZ1bmN0aW9uIG8oQSwgZSkgewogICAgICAgIHZhciB0ID0gYVtpKEEpXTsKICAgICAgICByZXR1cm4gdCA9PSBmIHx8IHQgIT0gYyAmJiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IG4oZSkgOiAhIWUpOwogICAgICB9LAogICAgICAgICAgaSA9IG8ubm9ybWFsaXplID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gU3RyaW5nKEEpLnJlcGxhY2UociwgIi4iKS50b0xvd2VyQ2FzZSgpOwogICAgICB9LAogICAgICAgICAgYSA9IG8uZGF0YSA9IHt9LAogICAgICAgICAgYyA9IG8uTkFUSVZFID0gIk4iLAogICAgICAgICAgZiA9IG8uUE9MWUZJTEwgPSAiUCI7CgogICAgICBBLmV4cG9ydHMgPSBvOwogICAgfSwKICAgICI5OWFmIjogZnVuY3Rpb24gYWYoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHQoIjIzZTciKSwKICAgICAgICAgIHIgPSB0KCJkMDM5IiksCiAgICAgICAgICBvID0gdCgiZThiNSIpLAogICAgICAgICAgaSA9IHQoIjg2MWQiKSwKICAgICAgICAgIGEgPSB0KCI3YjBiIiksCiAgICAgICAgICBjID0gdCgiNTBjNCIpLAogICAgICAgICAgZiA9IHQoIjg0MTgiKSwKICAgICAgICAgIHUgPSB0KCI2NWYwIiksCiAgICAgICAgICBzID0gdCgiMWRkZSIpLAogICAgICAgICAgZCA9IHQoImI2MjIiKSwKICAgICAgICAgIGwgPSB0KCI2MGFlIiksCiAgICAgICAgICBwID0gZCgiaXNDb25jYXRTcHJlYWRhYmxlIiksCiAgICAgICAgICBnID0gOTAwNzE5OTI1NDc0MDk5MSwKICAgICAgICAgIGggPSAiTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkIiwKICAgICAgICAgIHYgPSBsID49IDUxIHx8ICFyKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgQSA9IFtdOwogICAgICAgIHJldHVybiBBW3BdID0gITEsIEEuY29uY2F0KClbMF0gIT09IEE7CiAgICAgIH0pLAogICAgICAgICAgRSA9IHMoImNvbmNhdCIpLAogICAgICAgICAgQiA9IGZ1bmN0aW9uIEIoQSkgewogICAgICAgIGlmICghaShBKSkgcmV0dXJuICExOwogICAgICAgIHZhciBlID0gQVtwXTsKICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBlID8gISFlIDogbyhBKTsKICAgICAgfSwKICAgICAgICAgIGIgPSAhdiB8fCAhRTsKCiAgICAgIG4oewogICAgICAgIHRhcmdldDogIkFycmF5IiwKICAgICAgICBwcm90bzogITAsCiAgICAgICAgZm9yY2VkOiBiCiAgICAgIH0sIHsKICAgICAgICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdChBKSB7CiAgICAgICAgICB2YXIgZSwKICAgICAgICAgICAgICB0LAogICAgICAgICAgICAgIG4sCiAgICAgICAgICAgICAgciwKICAgICAgICAgICAgICBvLAogICAgICAgICAgICAgIGkgPSBhKHRoaXMpLAogICAgICAgICAgICAgIHMgPSB1KGksIDApLAogICAgICAgICAgICAgIGQgPSAwOwoKICAgICAgICAgIGZvciAoZSA9IC0xLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgZSA8IG47IGUrKykgewogICAgICAgICAgICBpZiAobyA9IC0xID09PSBlID8gaSA6IGFyZ3VtZW50c1tlXSwgQihvKSkgewogICAgICAgICAgICAgIGlmIChyID0gYyhvLmxlbmd0aCksIGQgKyByID4gZykgdGhyb3cgVHlwZUVycm9yKGgpOwoKICAgICAgICAgICAgICBmb3IgKHQgPSAwOyB0IDwgcjsgdCsrLCBkKyspIHsKICAgICAgICAgICAgICAgIHQgaW4gbyAmJiBmKHMsIGQsIG9bdF0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoZCA+PSBnKSB0aHJvdyBUeXBlRXJyb3IoaCk7CiAgICAgICAgICAgICAgZihzLCBkKyssIG8pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHMubGVuZ3RoID0gZCwgczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgICI5YmYyIjogZnVuY3Rpb24gYmYyKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4M2FiIiksCiAgICAgICAgICByID0gdCgiMGNmYiIpLAogICAgICAgICAgbyA9IHQoIjgyNWEiKSwKICAgICAgICAgIGkgPSB0KCJjMDRlIiksCiAgICAgICAgICBhID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OwogICAgICBlLmYgPSBuID8gYSA6IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgaWYgKG8oQSksIGUgPSBpKGUsICEwKSwgbyh0KSwgcikgdHJ5IHsKICAgICAgICAgIHJldHVybiBhKEEsIGUsIHQpOwogICAgICAgIH0gY2F0Y2ggKG4pIHt9CiAgICAgICAgaWYgKCJnZXQiIGluIHQgfHwgInNldCIgaW4gdCkgdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpOwogICAgICAgIHJldHVybiAidmFsdWUiIGluIHQgJiYgKEFbZV0gPSB0LnZhbHVlKSwgQTsKICAgICAgfTsKICAgIH0sCiAgICBhNDM0OiBmdW5jdGlvbiBhNDM0KEEsIGUsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIG4gPSB0KCIyM2U3IiksCiAgICAgICAgICByID0gdCgiMjNjYiIpLAogICAgICAgICAgbyA9IHQoImE2OTEiKSwKICAgICAgICAgIGkgPSB0KCI1MGM0IiksCiAgICAgICAgICBhID0gdCgiN2IwYiIpLAogICAgICAgICAgYyA9IHQoIjY1ZjAiKSwKICAgICAgICAgIGYgPSB0KCI4NDE4IiksCiAgICAgICAgICB1ID0gdCgiMWRkZSIpLAogICAgICAgICAgcyA9IE1hdGgubWF4LAogICAgICAgICAgZCA9IE1hdGgubWluLAogICAgICAgICAgbCA9IDkwMDcxOTkyNTQ3NDA5OTEsCiAgICAgICAgICBwID0gIk1heGltdW0gYWxsb3dlZCBsZW5ndGggZXhjZWVkZWQiOwogICAgICBuKHsKICAgICAgICB0YXJnZXQ6ICJBcnJheSIsCiAgICAgICAgcHJvdG86ICEwLAogICAgICAgIGZvcmNlZDogIXUoInNwbGljZSIpCiAgICAgIH0sIHsKICAgICAgICBzcGxpY2U6IGZ1bmN0aW9uIHNwbGljZShBLCBlKSB7CiAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICBuLAogICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgZywKICAgICAgICAgICAgICBoLAogICAgICAgICAgICAgIHYsCiAgICAgICAgICAgICAgRSA9IGEodGhpcyksCiAgICAgICAgICAgICAgQiA9IGkoRS5sZW5ndGgpLAogICAgICAgICAgICAgIGIgPSByKEEsIEIpLAogICAgICAgICAgICAgIG0gPSBhcmd1bWVudHMubGVuZ3RoOwogICAgICAgICAgaWYgKDAgPT09IG0gPyB0ID0gbiA9IDAgOiAxID09PSBtID8gKHQgPSAwLCBuID0gQiAtIGIpIDogKHQgPSBtIC0gMiwgbiA9IGQocyhvKGUpLCAwKSwgQiAtIGIpKSwgQiArIHQgLSBuID4gbCkgdGhyb3cgVHlwZUVycm9yKHApOwoKICAgICAgICAgIGZvciAodSA9IGMoRSwgbiksIGcgPSAwOyBnIDwgbjsgZysrKSB7CiAgICAgICAgICAgIGggPSBiICsgZywgaCBpbiBFICYmIGYodSwgZywgRVtoXSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHUubGVuZ3RoID0gbiwgdCA8IG4pIHsKICAgICAgICAgICAgZm9yIChnID0gYjsgZyA8IEIgLSBuOyBnKyspIHsKICAgICAgICAgICAgICBoID0gZyArIG4sIHYgPSBnICsgdCwgaCBpbiBFID8gRVt2XSA9IEVbaF0gOiBkZWxldGUgRVt2XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yIChnID0gQjsgZyA+IEIgLSBuICsgdDsgZy0tKSB7CiAgICAgICAgICAgICAgZGVsZXRlIEVbZyAtIDFdOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHQgPiBuKSBmb3IgKGcgPSBCIC0gbjsgZyA+IGI7IGctLSkgewogICAgICAgICAgICBoID0gZyArIG4gLSAxLCB2ID0gZyArIHQgLSAxLCBoIGluIEUgPyBFW3ZdID0gRVtoXSA6IGRlbGV0ZSBFW3ZdOwogICAgICAgICAgfQoKICAgICAgICAgIGZvciAoZyA9IDA7IGcgPCB0OyBnKyspIHsKICAgICAgICAgICAgRVtnICsgYl0gPSBhcmd1bWVudHNbZyArIDJdOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBFLmxlbmd0aCA9IEIgLSBuICsgdCwgdTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGE0ZDM6IGZ1bmN0aW9uIGE0ZDMoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbiA9IHQoIjIzZTciKSwKICAgICAgICAgIHIgPSB0KCJkYTg0IiksCiAgICAgICAgICBvID0gdCgiZDA2NiIpLAogICAgICAgICAgaSA9IHQoImM0MzAiKSwKICAgICAgICAgIGEgPSB0KCI4M2FiIiksCiAgICAgICAgICBjID0gdCgiNDkzMCIpLAogICAgICAgICAgZiA9IHQoImZkYmYiKSwKICAgICAgICAgIHUgPSB0KCJkMDM5IiksCiAgICAgICAgICBzID0gdCgiNTEzNSIpLAogICAgICAgICAgZCA9IHQoImU4YjUiKSwKICAgICAgICAgIGwgPSB0KCI4NjFkIiksCiAgICAgICAgICBwID0gdCgiODI1YSIpLAogICAgICAgICAgZyA9IHQoIjdiMGIiKSwKICAgICAgICAgIGggPSB0KCJmYzZhIiksCiAgICAgICAgICB2ID0gdCgiYzA0ZSIpLAogICAgICAgICAgRSA9IHQoIjVjNmMiKSwKICAgICAgICAgIEIgPSB0KCI3YzczIiksCiAgICAgICAgICBiID0gdCgiZGY3NSIpLAogICAgICAgICAgbSA9IHQoIjI0MWMiKSwKICAgICAgICAgIHcgPSB0KCIwNTdmIiksCiAgICAgICAgICB5ID0gdCgiNzQxOCIpLAogICAgICAgICAgUSA9IHQoIjA2Y2YiKSwKICAgICAgICAgIEkgPSB0KCI5YmYyIiksCiAgICAgICAgICBEID0gdCgiZDFlNyIpLAogICAgICAgICAgTiA9IHQoIjkxMTIiKSwKICAgICAgICAgIE0gPSB0KCI2ZWViIiksCiAgICAgICAgICBDID0gdCgiNTY5MiIpLAogICAgICAgICAgeCA9IHQoImY3NzIiKSwKICAgICAgICAgIFMgPSB0KCJkMDEyIiksCiAgICAgICAgICBqID0gdCgiOTBlMyIpLAogICAgICAgICAgVCA9IHQoImI2MjIiKSwKICAgICAgICAgIEcgPSB0KCJjMDMyIiksCiAgICAgICAgICBPID0gdCgiNzQ2ZiIpLAogICAgICAgICAgWSA9IHQoImQ0NGUiKSwKICAgICAgICAgIFIgPSB0KCI2OWYzIiksCiAgICAgICAgICBVID0gdCgiYjcyNyIpLmZvckVhY2gsCiAgICAgICAgICBGID0geCgiaGlkZGVuIiksCiAgICAgICAgICBMID0gIlN5bWJvbCIsCiAgICAgICAgICBQID0gInByb3RvdHlwZSIsCiAgICAgICAgICBrID0gVCgidG9QcmltaXRpdmUiKSwKICAgICAgICAgIEggPSBSLnNldCwKICAgICAgICAgIEogPSBSLmdldHRlckZvcihMKSwKICAgICAgICAgIFYgPSBPYmplY3RbUF0sCiAgICAgICAgICBfeiA9IHIuU3ltYm9sLAogICAgICAgICAgXyA9IG8oIkpTT04iLCAic3RyaW5naWZ5IiksCiAgICAgICAgICBXID0gUS5mLAogICAgICAgICAgWiA9IEkuZiwKICAgICAgICAgIEsgPSB3LmYsCiAgICAgICAgICBYID0gRC5mLAogICAgICAgICAgJCA9IEMoInN5bWJvbHMiKSwKICAgICAgICAgIHEgPSBDKCJvcC1zeW1ib2xzIiksCiAgICAgICAgICBBQSA9IEMoInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnkiKSwKICAgICAgICAgIGVBID0gQygic3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeSIpLAogICAgICAgICAgdEEgPSBDKCJ3a3MiKSwKICAgICAgICAgIG5BID0gci5RT2JqZWN0LAogICAgICAgICAgckEgPSAhbkEgfHwgIW5BW1BdIHx8ICFuQVtQXS5maW5kQ2hpbGQsCiAgICAgICAgICBvQSA9IGEgJiYgdShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIDcgIT0gQihaKHt9LCAiYSIsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gWih0aGlzLCAiYSIsIHsKICAgICAgICAgICAgICB2YWx1ZTogNwogICAgICAgICAgICB9KS5hOwogICAgICAgICAgfQogICAgICAgIH0pKS5hOwogICAgICB9KSA/IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBXKFYsIGUpOwogICAgICAgIG4gJiYgZGVsZXRlIFZbZV0sIFooQSwgZSwgdCksIG4gJiYgQSAhPT0gViAmJiBaKFYsIGUsIG4pOwogICAgICB9IDogWiwKICAgICAgICAgIGlBID0gZnVuY3Rpb24gaUEoQSwgZSkgewogICAgICAgIHZhciB0ID0gJFtBXSA9IEIoX3pbUF0pOwogICAgICAgIHJldHVybiBIKHQsIHsKICAgICAgICAgIHR5cGU6IEwsCiAgICAgICAgICB0YWc6IEEsCiAgICAgICAgICBkZXNjcmlwdGlvbjogZQogICAgICAgIH0pLCBhIHx8ICh0LmRlc2NyaXB0aW9uID0gZSksIHQ7CiAgICAgIH0sCiAgICAgICAgICBhQSA9IGYgPyBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiAic3ltYm9sIiA9PSBfdHlwZW9mKEEpOwogICAgICB9IDogZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gT2JqZWN0KEEpIGluc3RhbmNlb2YgX3o7CiAgICAgIH0sCiAgICAgICAgICBjQSA9IGZ1bmN0aW9uIGNBKEEsIGUsIHQpIHsKICAgICAgICBBID09PSBWICYmIGNBKHEsIGUsIHQpLCBwKEEpOwogICAgICAgIHZhciBuID0gdihlLCAhMCk7CiAgICAgICAgcmV0dXJuIHAodCksIHMoJCwgbikgPyAodC5lbnVtZXJhYmxlID8gKHMoQSwgRikgJiYgQVtGXVtuXSAmJiAoQVtGXVtuXSA9ICExKSwgdCA9IEIodCwgewogICAgICAgICAgZW51bWVyYWJsZTogRSgwLCAhMSkKICAgICAgICB9KSkgOiAocyhBLCBGKSB8fCBaKEEsIEYsIEUoMSwge30pKSwgQVtGXVtuXSA9ICEwKSwgb0EoQSwgbiwgdCkpIDogWihBLCBuLCB0KTsKICAgICAgfSwKICAgICAgICAgIGZBID0gZnVuY3Rpb24gZkEoQSwgZSkgewogICAgICAgIHAoQSk7CiAgICAgICAgdmFyIHQgPSBoKGUpLAogICAgICAgICAgICBuID0gYih0KS5jb25jYXQocEEodCkpOwogICAgICAgIHJldHVybiBVKG4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBhICYmICFzQS5jYWxsKHQsIGUpIHx8IGNBKEEsIGUsIHRbZV0pOwogICAgICAgIH0pLCBBOwogICAgICB9LAogICAgICAgICAgdUEgPSBmdW5jdGlvbiB1QShBLCBlKSB7CiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSA/IEIoQSkgOiBmQShCKEEpLCBlKTsKICAgICAgfSwKICAgICAgICAgIHNBID0gZnVuY3Rpb24gc0EoQSkgewogICAgICAgIHZhciBlID0gdihBLCAhMCksCiAgICAgICAgICAgIHQgPSBYLmNhbGwodGhpcywgZSk7CiAgICAgICAgcmV0dXJuICEodGhpcyA9PT0gViAmJiBzKCQsIGUpICYmICFzKHEsIGUpKSAmJiAoISh0IHx8ICFzKHRoaXMsIGUpIHx8ICFzKCQsIGUpIHx8IHModGhpcywgRikgJiYgdGhpc1tGXVtlXSkgfHwgdCk7CiAgICAgIH0sCiAgICAgICAgICBkQSA9IGZ1bmN0aW9uIGRBKEEsIGUpIHsKICAgICAgICB2YXIgdCA9IGgoQSksCiAgICAgICAgICAgIG4gPSB2KGUsICEwKTsKCiAgICAgICAgaWYgKHQgIT09IFYgfHwgIXMoJCwgbikgfHwgcyhxLCBuKSkgewogICAgICAgICAgdmFyIHIgPSBXKHQsIG4pOwogICAgICAgICAgcmV0dXJuICFyIHx8ICFzKCQsIG4pIHx8IHModCwgRikgJiYgdFtGXVtuXSB8fCAoci5lbnVtZXJhYmxlID0gITApLCByOwogICAgICAgIH0KICAgICAgfSwKICAgICAgICAgIGxBID0gZnVuY3Rpb24gbEEoQSkgewogICAgICAgIHZhciBlID0gSyhoKEEpKSwKICAgICAgICAgICAgdCA9IFtdOwogICAgICAgIHJldHVybiBVKGUsIGZ1bmN0aW9uIChBKSB7CiAgICAgICAgICBzKCQsIEEpIHx8IHMoUywgQSkgfHwgdC5wdXNoKEEpOwogICAgICAgIH0pLCB0OwogICAgICB9LAogICAgICAgICAgcEEgPSBmdW5jdGlvbiBwQShBKSB7CiAgICAgICAgdmFyIGUgPSBBID09PSBWLAogICAgICAgICAgICB0ID0gSyhlID8gcSA6IGgoQSkpLAogICAgICAgICAgICBuID0gW107CiAgICAgICAgcmV0dXJuIFUodCwgZnVuY3Rpb24gKEEpIHsKICAgICAgICAgICFzKCQsIEEpIHx8IGUgJiYgIXMoViwgQSkgfHwgbi5wdXNoKCRbQV0pOwogICAgICAgIH0pLCBuOwogICAgICB9OwoKICAgICAgaWYgKGMgfHwgKF96ID0gZnVuY3Rpb24geigpIHsKICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIF96KSB0aHJvdyBUeXBlRXJyb3IoIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciIpOwoKICAgICAgICB2YXIgQSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMF0gPyBTdHJpbmcoYXJndW1lbnRzWzBdKSA6IHZvaWQgMCwKICAgICAgICAgICAgZSA9IGooQSksCiAgICAgICAgICAgIHQgPSBmdW5jdGlvbiB0KEEpIHsKICAgICAgICAgIHRoaXMgPT09IFYgJiYgdC5jYWxsKHEsIEEpLCBzKHRoaXMsIEYpICYmIHModGhpc1tGXSwgZSkgJiYgKHRoaXNbRl1bZV0gPSAhMSksIG9BKHRoaXMsIGUsIEUoMSwgQSkpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiBhICYmIHJBICYmIG9BKFYsIGUsIHsKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsCiAgICAgICAgICBzZXQ6IHQKICAgICAgICB9KSwgaUEoZSwgQSk7CiAgICAgIH0sIE0oX3pbUF0sICJ0b1N0cmluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gSih0aGlzKS50YWc7CiAgICAgIH0pLCBNKF96LCAid2l0aG91dFNldHRlciIsIGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIGlBKGooQSksIEEpOwogICAgICB9KSwgRC5mID0gc0EsIEkuZiA9IGNBLCBRLmYgPSBkQSwgbS5mID0gdy5mID0gbEEsIHkuZiA9IHBBLCBHLmYgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBpQShUKEEpLCBBKTsKICAgICAgfSwgYSAmJiAoWihfeltQXSwgImRlc2NyaXB0aW9uIiwgewogICAgICAgIGNvbmZpZ3VyYWJsZTogITAsCiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gSih0aGlzKS5kZXNjcmlwdGlvbjsKICAgICAgICB9CiAgICAgIH0pLCBpIHx8IE0oViwgInByb3BlcnR5SXNFbnVtZXJhYmxlIiwgc0EsIHsKICAgICAgICB1bnNhZmU6ICEwCiAgICAgIH0pKSksIG4oewogICAgICAgIGdsb2JhbDogITAsCiAgICAgICAgd3JhcDogITAsCiAgICAgICAgZm9yY2VkOiAhYywKICAgICAgICBzaGFtOiAhYwogICAgICB9LCB7CiAgICAgICAgU3ltYm9sOiBfegogICAgICB9KSwgVShiKHRBKSwgZnVuY3Rpb24gKEEpIHsKICAgICAgICBPKEEpOwogICAgICB9KSwgbih7CiAgICAgICAgdGFyZ2V0OiBMLAogICAgICAgIHN0YXQ6ICEwLAogICAgICAgIGZvcmNlZDogIWMKICAgICAgfSwgewogICAgICAgIGZvcjogZnVuY3Rpb24gX2ZvcihBKSB7CiAgICAgICAgICB2YXIgZSA9IFN0cmluZyhBKTsKICAgICAgICAgIGlmIChzKEFBLCBlKSkgcmV0dXJuIEFBW2VdOwoKICAgICAgICAgIHZhciB0ID0gX3ooZSk7CgogICAgICAgICAgcmV0dXJuIEFBW2VdID0gdCwgZUFbdF0gPSBlLCB0OwogICAgICAgIH0sCiAgICAgICAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3IoQSkgewogICAgICAgICAgaWYgKCFhQShBKSkgdGhyb3cgVHlwZUVycm9yKEEgKyAiIGlzIG5vdCBhIHN5bWJvbCIpOwogICAgICAgICAgaWYgKHMoZUEsIEEpKSByZXR1cm4gZUFbQV07CiAgICAgICAgfSwKICAgICAgICB1c2VTZXR0ZXI6IGZ1bmN0aW9uIHVzZVNldHRlcigpIHsKICAgICAgICAgIHJBID0gITA7CiAgICAgICAgfSwKICAgICAgICB1c2VTaW1wbGU6IGZ1bmN0aW9uIHVzZVNpbXBsZSgpIHsKICAgICAgICAgIHJBID0gITE7CiAgICAgICAgfQogICAgICB9KSwgbih7CiAgICAgICAgdGFyZ2V0OiAiT2JqZWN0IiwKICAgICAgICBzdGF0OiAhMCwKICAgICAgICBmb3JjZWQ6ICFjLAogICAgICAgIHNoYW06ICFhCiAgICAgIH0sIHsKICAgICAgICBjcmVhdGU6IHVBLAogICAgICAgIGRlZmluZVByb3BlcnR5OiBjQSwKICAgICAgICBkZWZpbmVQcm9wZXJ0aWVzOiBmQSwKICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6IGRBCiAgICAgIH0pLCBuKHsKICAgICAgICB0YXJnZXQ6ICJPYmplY3QiLAogICAgICAgIHN0YXQ6ICEwLAogICAgICAgIGZvcmNlZDogIWMKICAgICAgfSwgewogICAgICAgIGdldE93blByb3BlcnR5TmFtZXM6IGxBLAogICAgICAgIGdldE93blByb3BlcnR5U3ltYm9sczogcEEKICAgICAgfSksIG4oewogICAgICAgIHRhcmdldDogIk9iamVjdCIsCiAgICAgICAgc3RhdDogITAsCiAgICAgICAgZm9yY2VkOiB1KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHkuZigxKTsKICAgICAgICB9KQogICAgICB9LCB7CiAgICAgICAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoQSkgewogICAgICAgICAgcmV0dXJuIHkuZihnKEEpKTsKICAgICAgICB9CiAgICAgIH0pLCBfKSB7CiAgICAgICAgdmFyIGdBID0gIWMgfHwgdShmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgQSA9IF96KCk7CgogICAgICAgICAgcmV0dXJuICJbbnVsbF0iICE9IF8oW0FdKSB8fCAie30iICE9IF8oewogICAgICAgICAgICBhOiBBCiAgICAgICAgICB9KSB8fCAie30iICE9IF8oT2JqZWN0KEEpKTsKICAgICAgICB9KTsKICAgICAgICBuKHsKICAgICAgICAgIHRhcmdldDogIkpTT04iLAogICAgICAgICAgc3RhdDogITAsCiAgICAgICAgICBmb3JjZWQ6IGdBCiAgICAgICAgfSwgewogICAgICAgICAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoQSwgZSwgdCkgewogICAgICAgICAgICB2YXIgbiwKICAgICAgICAgICAgICAgIHIgPSBbQV0sCiAgICAgICAgICAgICAgICBvID0gMTsKCiAgICAgICAgICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gbykgewogICAgICAgICAgICAgIHIucHVzaChhcmd1bWVudHNbbysrXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChuID0gZSwgKGwoZSkgfHwgdm9pZCAwICE9PSBBKSAmJiAhYUEoQSkpIHJldHVybiBkKGUpIHx8IChlID0gZnVuY3Rpb24gZShBLCBfZTIpIHsKICAgICAgICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgbiAmJiAoX2UyID0gbi5jYWxsKHRoaXMsIEEsIF9lMikpLCAhYUEoX2UyKSkgcmV0dXJuIF9lMjsKICAgICAgICAgICAgfSksIHJbMV0gPSBlLCBfLmFwcGx5KG51bGwsIHIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBfeltQXVtrXSB8fCBOKF96W1BdLCBrLCBfeltQXS52YWx1ZU9mKSwgWShfeiwgTCksIFNbRl0gPSAhMDsKICAgIH0sCiAgICBhNjkxOiBmdW5jdGlvbiBhNjkxKEEsIGUpIHsKICAgICAgdmFyIHQgPSBNYXRoLmNlaWwsCiAgICAgICAgICBuID0gTWF0aC5mbG9vcjsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIGlzTmFOKEEgPSArQSkgPyAwIDogKEEgPiAwID8gbiA6IHQpKEEpOwogICAgICB9OwogICAgfSwKICAgIGE3NmY6IGZ1bmN0aW9uIGE3NmYoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB0KCI5OWFmIiksIHQoImE0MzQiKSwgdCgiYjBjMCIpOwoKICAgICAgZnVuY3Rpb24gbihBLCBlKSB7CiAgICAgICAgaWYgKCEoQSBpbnN0YW5jZW9mIGUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcihBLCBlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICB2YXIgbiA9IGVbdF07CiAgICAgICAgICBuLmVudW1lcmFibGUgPSBuLmVudW1lcmFibGUgfHwgITEsIG4uY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gbiAmJiAobi53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsIG4ua2V5LCBuKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG8oQSwgZSwgdCkgewogICAgICAgIHJldHVybiBlICYmIHIoQS5wcm90b3R5cGUsIGUpLCB0ICYmIHIoQSwgdCksIEE7CiAgICAgIH0KCiAgICAgIHZhciBpID0gdCgiODNhZiIpOwogICAgICB0LmQoZSwgImIiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGE7CiAgICAgIH0pLCB0LmQoZSwgImEiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0pOwoKICAgICAgdmFyIGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZnVuY3Rpb24gQShlKSB7CiAgICAgICAgICBuKHRoaXMsIEEpOwogICAgICAgICAgdmFyIHQgPSBlLmlkLAogICAgICAgICAgICAgIHIgPSBlLmlzX2xlYWY7CgogICAgICAgICAgZm9yICh2YXIgbyBpbiB0aGlzLmlkID0gInVuZGVmaW5lZCIgPT09IHR5cGVvZiB0ID8gbmV3IERhdGUoKS52YWx1ZU9mKCkgOiB0LCB0aGlzLnBhcmVudCA9IG51bGwsIHRoaXMuY2hpbGRyZW4gPSBudWxsLCB0aGlzLmlzX2xlYWYgPSAhIXIsIGUpIHsKICAgICAgICAgICAgImlkIiAhPT0gbyAmJiAiY2hpbGRyZW4iICE9PSBvICYmICJpc19sZWFmIiAhPT0gbyAmJiAodGhpc1tvXSA9IGVbb10pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG8oQSwgW3sKICAgICAgICAgIGtleTogImNoYW5nZU5hbWUiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKEEpIHsKICAgICAgICAgICAgdGhpcy5uYW1lID0gQTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJhZGRDaGlsZHJlbiIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoQSkgewogICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbiB8fCAodGhpcy5jaGlsZHJlbiA9IFtdKSwgQXJyYXkuaXNBcnJheShBKSkgewogICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwLCB0ID0gQS5sZW5ndGg7IGUgPCB0OyBlKyspIHsKICAgICAgICAgICAgICAgIHZhciBuID0gQVtlXTsKICAgICAgICAgICAgICAgIG4ucGFyZW50ID0gdGhpcywgbi5waWQgPSB0aGlzLmlkOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5jb25jYXQoQSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIHIgPSBBOwogICAgICAgICAgICAgIHIucGFyZW50ID0gdGhpcywgci5waWQgPSB0aGlzLmlkLCB0aGlzLmNoaWxkcmVuLnB1c2gocik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJyZW1vdmUiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgewogICAgICAgICAgICB2YXIgQSA9IHRoaXMucGFyZW50LAogICAgICAgICAgICAgICAgZSA9IEEuZmluZENoaWxkSW5kZXgodGhpcyk7CiAgICAgICAgICAgIEEuY2hpbGRyZW4uc3BsaWNlKGUsIDEpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIl9yZW1vdmVDaGlsZCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoQSkgewogICAgICAgICAgICBmb3IgKHZhciBlID0gMCwgdCA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBlIDwgdDsgZSsrKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5bZV0gPT09IEEpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGUsIDEpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiaXNUYXJnZXRDaGlsZCIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoQSkgewogICAgICAgICAgICB2YXIgZSA9IEEucGFyZW50OwoKICAgICAgICAgICAgd2hpbGUgKGUpIHsKICAgICAgICAgICAgICBpZiAoZSA9PT0gdGhpcykgcmV0dXJuICEwOwogICAgICAgICAgICAgIGUgPSBlLnBhcmVudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICExOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIm1vdmVJbnRvIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgICJyb290IiAhPT0gdGhpcy5uYW1lICYmIHRoaXMgIT09IEEgJiYgKHRoaXMuaXNUYXJnZXRDaGlsZChBKSB8fCBBLmlzX2xlYWYgfHwgKHRoaXMucGFyZW50Ll9yZW1vdmVDaGlsZCh0aGlzKSwgdGhpcy5wYXJlbnQgPSBBLCB0aGlzLnBpZCA9IEEuaWQsIEEuY2hpbGRyZW4gfHwgKEEuY2hpbGRyZW4gPSBbXSksIEEuY2hpbGRyZW4udW5zaGlmdCh0aGlzKSkpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImZpbmRDaGlsZEluZGV4IiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgIGZvciAodmFyIGUsIHQgPSAwLCBuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IHQgPCBuOyB0KyspIHsKICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlblt0XSA9PT0gQSkgewogICAgICAgICAgICAgICAgZSA9IHQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBlOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIl9jYW5JbnNlcnQiLAogICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKEEpIHsKICAgICAgICAgICAgcmV0dXJuICJyb290IiAhPT0gdGhpcy5uYW1lICYmIHRoaXMgIT09IEEgJiYgIXRoaXMuaXNUYXJnZXRDaGlsZChBKSAmJiAodGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkKHRoaXMpLCB0aGlzLnBhcmVudCA9IEEucGFyZW50LCB0aGlzLnBpZCA9IEEucGFyZW50LmlkLCAhMCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiaW5zZXJ0QmVmb3JlIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9jYW5JbnNlcnQoQSkpIHsKICAgICAgICAgICAgICB2YXIgZSA9IEEucGFyZW50LmZpbmRDaGlsZEluZGV4KEEpOwogICAgICAgICAgICAgIEEucGFyZW50LmNoaWxkcmVuLnNwbGljZShlLCAwLCB0aGlzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImluc2VydEFmdGVyIiwKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShBKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9jYW5JbnNlcnQoQSkpIHsKICAgICAgICAgICAgICB2YXIgZSA9IEEucGFyZW50LmZpbmRDaGlsZEluZGV4KEEpOwogICAgICAgICAgICAgIEEucGFyZW50LmNoaWxkcmVuLnNwbGljZShlICsgMSwgMCwgdGhpcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJ0b1N0cmluZyIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShPYmplY3QoaVsiYyJdKSh0aGlzKSk7CiAgICAgICAgICB9CiAgICAgICAgfV0pLCBBOwogICAgICB9KCksCiAgICAgICAgICBjID0gZnVuY3Rpb24gKCkgewogICAgICAgIGZ1bmN0aW9uIEEoZSkgewogICAgICAgICAgcmV0dXJuIG4odGhpcywgQSksIHRoaXMucm9vdCA9IG5ldyBhKHsKICAgICAgICAgICAgbmFtZTogInJvb3QiLAogICAgICAgICAgICBpc19sZWFmOiAhMSwKICAgICAgICAgICAgaWQ6IDAKICAgICAgICAgIH0pLCB0aGlzLmluaXROb2RlKHRoaXMucm9vdCwgZSksIHRoaXMucm9vdDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBvKEEsIFt7CiAgICAgICAgICBrZXk6ICJpbml0Tm9kZSIsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoQSwgZSkgewogICAgICAgICAgICBmb3IgKHZhciB0ID0gMCwgbiA9IGUubGVuZ3RoOyB0IDwgbjsgdCsrKSB7CiAgICAgICAgICAgICAgdmFyIHIgPSBlW3RdLAogICAgICAgICAgICAgICAgICBvID0gbmV3IGEocik7CiAgICAgICAgICAgICAgci5jaGlsZHJlbiAmJiByLmNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgdGhpcy5pbml0Tm9kZShvLCByLmNoaWxkcmVuKSwgQS5hZGRDaGlsZHJlbihvKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH1dKSwgQTsKICAgICAgfSgpOwogICAgfSwKICAgIGFlMWU6IGZ1bmN0aW9uIGFlMWUoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSAiZGF0YTpmb250L3dvZmY7YmFzZTY0LGQwOUdSZ0FCQUFBQUFBaUlBQXNBQUFBQUNEd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCUFV5OHlBQUFCQ0FBQUFHQUFBQUJnRHhJRitHTnRZWEFBQUFGb0FBQUFWQUFBQUZRWFZ0S09aMkZ6Y0FBQUFid0FBQUFJQUFBQUNBQUFBQkJuYkhsbUFBQUJ4QUFBQkZRQUFBUlVYVjhJWEdobFlXUUFBQVlZQUFBQU5nQUFBRFlPVGlxamFHaGxZUUFBQmxBQUFBQWtBQUFBSkFmQ0E4MW9iWFI0QUFBR2RBQUFBREFBQUFBd0pnQUVmR3h2WTJFQUFBYWtBQUFBR2dBQUFCb0ZwQVJNYldGNGNBQUFCc0FBQUFBZ0FBQUFJQUFTQUhCdVlXMWxBQUFHNEFBQUFZWUFBQUdHbVVvSiszQnZjM1FBQUFob0FBQUFJQUFBQUNBQUF3QUFBQU1EeHdHUUFBVUFBQUtaQXN3QUFBQ1BBcGtDekFBQUFlc0FNd0VKQUFBQUFBQUFBQUFBQUFBQUFBQUFBUkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBNlFjRHdQL0FBRUFEd0FCQUFBQUFBUUFBQUFBQUFBQUFBQUFBSUFBQUFBQUFBd0FBQUFNQUFBQWNBQUVBQXdBQUFCd0FBd0FCQUFBQUhBQUVBRGdBQUFBS0FBZ0FBZ0FDQUFFQUlPa0gvLzMvL3dBQUFBQUFJT2tBLy8zLy93QUIvK01YQkFBREFBRUFBQUFBQUFBQUFBQUFBQUVBQWYvL0FBOEFBUUFBQUFBQUFBQUFBQUlBQURjNUFRQUFBQUFCQUFBQUFBQUFBQUFBQWdBQU56a0JBQUFBQUFFQUFBQUFBQUFBQUFBQ0FBQTNPUUVBQUFBQUFRRXlBSnNDZXdMbEFCSUFBQUVVQndFR0l5SW5KalVSTkRjMk16SVhBUllDZXd2L0FBb1BEd3NMQ3dzUER3b0JBQXNCd0E4TC93QUxDd3NQQWdBUEN3c0wvd0FMQUFBQUFRRGJBUzRESlFKM0FCSUFBQUVpSndFbU5UUTNOak1oTWhjV0ZRWUhBUVlDQUE4TC93QUxDd3NQQWdBUEN3c0JDdjhBQ3dFdUN3RUFDZzhQQ3dzTEN3OFBDdjhBQ3dBQUFnQ3BBSUlEUkFNY0FDWUFOQUFBQVNJR0ZSRVVCaU1oSWlZMUVUUTJNeUV5TmpVMEppTWhJZ1lWRVJRV015RXlOalVSTkNZakJSWXlOd0UyTkNjbUlnY0JCaFFETUFnTUdCSCtCeEFZR0JBQldBZ01EQWorbEJra0pCa0NJaGtqREFqK2NRWVJCZ0ZyQmdZR0VRYitsUVlDVWd3SS9wUVFHQmdRQWZrUkdBd0lDQXdqR2YzZUdTTWpHUUdBQ0F6RkJnWUJiUVlSQmdZRy9wTUdFUUFBQUFJQUFBQ09CQUFEd0FBbUFFWUFBQUVoSnk0QkJ5TWlCaFVSRnpNZUFUTWhOU0VIRVRRMk16Y1hIZ0V6SVRJV0hRRXpOVFFtSXhNak5UUW1JeUlHSFFFaklnWVZGQlk3QVJVVUZqTXlOajBCTXpJMk5UUW1BN0w5M0NzTkhBWG5JUzBHRkFnVENnSDkvaElOQ0FYakt3VVlFZ0luQmdkQkxTRXFqaFVPRHhXT0R4VVZENDRWRHc0VmpnOFZGUU4wTkJBSkFTNGcvVkFvQmdaQ0FRS2pCUWNCTlFnUEJ3WEx5eUF0L2hPT0R4VVZENDRWRGc4VmpnOFZGUStPRlE4T0ZRQUFBQUFCQUlBQVFBTi9BejBBSUFBQUFTRVJOQ1lqSWdZVkVTRWlCaFVHRmpNaEVSUVdNekkyTlJFaE1qWTFOQ1lqQTEvK3d4TU5EUlArdmc0U0FSTU5BVU1URFEwVEFUME5FeElPQWQ4QlBnMFRFdzMrd2hNTkRSUCt3UTRTRWc0QlB4SU9EUk1BQlFCQUFBQUR3QU9BQUJJQUpBQkVBRThBYlFBQUpTSW1OUkUwTmpNeUZoVVJPQUV4RkFZak1TTWlKalVSTkRZek1oWVZFVGdCTVJRR0l3RWpOVFFtSXlFaUJoMEJJeUlHRlJRV015RTRBVEV5TmpVNEFUa0JOQ1lqSlRRMk15RXlGaDBCSVRVQklTSW1OUkUwTmpNeUZoVVJGQll6SVRJMk5SRTBOak15RmhVUkZBWUNZQTBURXcwTkV4TU53QTBURXcwTkV4TU5BZ0NnT0NmK3Z5ZzRvQTBURXcwRFFBMFRFdzM5b0JNTkFVRU5FdjZBQWFEK1FDZzRFdzBORXhNTkFjQU9FaE1ORGhJNHdCTU5BV0FORXhNTi9xQU5FeE1OQVdBTkV4TU4vcUFORXdJZ1FDZzRPQ2hBRXcwTkV4TU5EUk5BRFJNVERVQkEvT0E0S0FIZ0RoSVNEdjRnRFJNVERRSGZEUk1URGY0aEtEZ0FBd0MvQUVBRFB3TkFBQVVBQ0FBUEFBQUJJUkVoRVNjZkFTTUJFU0VWTXhFaEFtMytVZ0tBMGhOU1V2NS9BVURBL2dBRFFQMEFBaTNUYlZQK0FRSi93UDVCQUFBREFFY0FSd095QXpZQUZRQWFBQjhBQUFFaEp5NEJLd0VpQmhVUkZCWXpJVEkyTlJFMEppTWhOVE1YSVJVaEVTRVJBNGorYUkwR0VnclBFaGtaRWdNV0VSa1pFZnowd0dMKzNnTUIvUDhDcjNZSUNSa1MvV1lTR0JnU0FoUVJHVkpTTmY0Q0FmNEFBQUVBQUFBQUFBQ0FmN3JUWHc4ODlRQUxCQUFBQUFBQTFaaHk4d0FBQUFEVm1ITHpBQUFBQUFRQUE4QUFBQUFJQUFJQUFBQUFBQUFBQVFBQUE4RC93QUFBQkFBQUFBQUFCQUFBQVFBQUFBQUFBQUFBQUFBQUFBQUFBQXdFQUFBQUFBQUFBQUFBQUFBQ0FBQUFCQUFCTWdRQUFOc0VBQUNwQkFBQUFBUUFBSUFFQUFCQUJBQUF2d1FBQUVjQUFBQUFBQW9BRkFBZUFFSUFaZ0MyQVJnQlNnSFVBZllDS2dBQUFBRUFBQUFNQUc0QUJRQUFBQUFBQWdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT0FLNEFBUUFBQUFBQUFRQUhBQUFBQVFBQUFBQUFBZ0FIQUdBQUFRQUFBQUFBQXdBSEFEWUFBUUFBQUFBQUJBQUhBSFVBQVFBQUFBQUFCUUFMQUJVQUFRQUFBQUFBQmdBSEFFc0FBUUFBQUFBQUNnQWFBSW9BQXdBQkJBa0FBUUFPQUFjQUF3QUJCQWtBQWdBT0FHY0FBd0FCQkFrQUF3QU9BRDBBQXdBQkJBa0FCQUFPQUh3QUF3QUJCQWtBQlFBV0FDQUFBd0FCQkFrQUJnQU9BRklBQXdBQkJBa0FDZ0EwQUtScFkyOXRiMjl1QUdrQVl3QnZBRzBBYndCdkFHNVdaWEp6YVc5dUlERXVNQUJXQUdVQWNnQnpBR2tBYndCdUFDQUFNUUF1QURCcFkyOXRiMjl1QUdrQVl3QnZBRzBBYndCdkFHNXBZMjl0YjI5dUFHa0FZd0J2QUcwQWJ3QnZBRzVTWldkMWJHRnlBRklBWlFCbkFIVUFiQUJoQUhKcFkyOXRiMjl1QUdrQVl3QnZBRzBBYndCdkFHNUdiMjUwSUdkbGJtVnlZWFJsWkNCaWVTQkpZMjlOYjI5dUxnQkdBRzhBYmdCMEFDQUFad0JsQUc0QVpRQnlBR0VBZEFCbEFHUUFJQUJpQUhrQUlBQkpBR01BYndCTkFHOEFid0J1QUM0QUFBQURBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBIjsKICAgIH0sCiAgICBiMGMwOiBmdW5jdGlvbiBiMGMwKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI4M2FiIiksCiAgICAgICAgICByID0gdCgiOWJmMiIpLmYsCiAgICAgICAgICBvID0gRnVuY3Rpb24ucHJvdG90eXBlLAogICAgICAgICAgaSA9IG8udG9TdHJpbmcsCiAgICAgICAgICBhID0gL15ccypmdW5jdGlvbiAoW14gKF0qKS8sCiAgICAgICAgICBjID0gIm5hbWUiOwogICAgICAhbiB8fCBjIGluIG8gfHwgcihvLCBjLCB7CiAgICAgICAgY29uZmlndXJhYmxlOiAhMCwKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBpLmNhbGwodGhpcykubWF0Y2goYSlbMV07CiAgICAgICAgICB9IGNhdGNoIChBKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGIyYjk6IGZ1bmN0aW9uIGIyYjkoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB0LnIoZSk7CgogICAgICB2YXIgbiA9IGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgdmFyIEEgPSB0aGlzLAogICAgICAgICAgICBlID0gQS4kY3JlYXRlRWxlbWVudCwKICAgICAgICAgICAgdCA9IEEuX3NlbGYuX2MgfHwgZTsKICAgICAgICByZXR1cm4gdCgiZGl2IiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwiCiAgICAgICAgfSwgWyJyb290IiAhPT0gQS5tb2RlbC5uYW1lID8gdCgiZGl2IiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtbm9kZSIsCiAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAidnRsLWxlYWYtbm9kZSI6IEEubW9kZWwuaXNfbGVhZiwKICAgICAgICAgICAgInZ0bC10cmVlLW5vZGUiOiAhQS5tb2RlbC5pc19sZWFmCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgaWQ6IEEubW9kZWwuaWQKICAgICAgICAgIH0KICAgICAgICB9LCBbdCgiZGl2IiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtYm9yZGVyIHZ0bC11cCIsCiAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAidnRsLWFjdGl2ZSI6IEEuaXNEcmFnRW50ZXJVcAogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGRyb3A6IEEuZHJvcEJlZm9yZSwKICAgICAgICAgICAgZHJhZ2VudGVyOiBBLmRyYWdFbnRlclVwLAogICAgICAgICAgICBkcmFnb3ZlcjogQS5kcmFnT3ZlclVwLAogICAgICAgICAgICBkcmFnbGVhdmU6IEEuZHJhZ0xlYXZlVXAKICAgICAgICAgIH0KICAgICAgICB9KSwgdCgiZGl2IiwgewogICAgICAgICAgY2xhc3M6IEEudHJlZU5vZGVDbGFzcywKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIGRyYWdnYWJsZTogIUEubW9kZWwuZHJhZ0Rpc2FibGVkCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgZHJhZ3N0YXJ0OiBBLmRyYWdTdGFydCwKICAgICAgICAgICAgZHJhZ292ZXI6IEEuZHJhZ092ZXIsCiAgICAgICAgICAgIGRyYWdlbnRlcjogQS5kcmFnRW50ZXIsCiAgICAgICAgICAgIGRyYWdsZWF2ZTogQS5kcmFnTGVhdmUsCiAgICAgICAgICAgIGRyb3A6IEEuZHJvcCwKICAgICAgICAgICAgZHJhZ2VuZDogQS5kcmFnRW5kLAogICAgICAgICAgICBtb3VzZW92ZXI6IEEubW91c2VPdmVyLAogICAgICAgICAgICBtb3VzZW91dDogQS5tb3VzZU91dCwKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKSwgQS5jbGljayhlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFtBLm1vZGVsLmNoaWxkcmVuICYmIEEubW9kZWwuY2hpbGRyZW4ubGVuZ3RoID4gMCA/IHQoInNwYW4iLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1jYXJldCB2dGwtaXMtc21hbGwiCiAgICAgICAgfSwgW3QoImkiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1pY29uIiwKICAgICAgICAgIGNsYXNzOiBBLmNhcmV0Q2xhc3MsCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCksIEEudG9nZ2xlKGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSldKSA6IEEuX2UoKSwgQS5tb2RlbC5pc19sZWFmID8gdCgic3BhbiIsIFtBLl90KCJsZWFmTm9kZUljb24iLCBbdCgiaSIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWljb24gdnRsLW1lbnUtaWNvbiB2dGwtaWNvbi1maWxlIgogICAgICAgIH0pXSwgewogICAgICAgICAgZXhwYW5kZWQ6IEEuZXhwYW5kZWQsCiAgICAgICAgICBtb2RlbDogQS5tb2RlbCwKICAgICAgICAgIHJvb3Q6IEEucm9vdE5vZGUKICAgICAgICB9KV0sIDIpIDogdCgic3BhbiIsIFtBLl90KCJ0cmVlTm9kZUljb24iLCBbdCgiaSIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWljb24gdnRsLW1lbnUtaWNvbiB2dGwtaWNvbi1mb2xkZXIiCiAgICAgICAgfSldLCB7CiAgICAgICAgICBleHBhbmRlZDogQS5leHBhbmRlZCwKICAgICAgICAgIG1vZGVsOiBBLm1vZGVsLAogICAgICAgICAgcm9vdDogQS5yb290Tm9kZQogICAgICAgIH0pXSwgMiksIEEuZWRpdGFibGUgPyB0KCJpbnB1dCIsIHsKICAgICAgICAgIHJlZjogIm5vZGVJbnB1dCIsCiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1pbnB1dCIsCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICB0eXBlOiAidGV4dCIKICAgICAgICAgIH0sCiAgICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgICB2YWx1ZTogQS5tb2RlbC5uYW1lCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgaW5wdXQ6IEEudXBkYXRlTmFtZSwKICAgICAgICAgICAgYmx1cjogQS5zZXRVbkVkaXRhYmxlCiAgICAgICAgICB9CiAgICAgICAgfSkgOiB0KCJkaXYiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1ub2RlLWNvbnRlbnQiCiAgICAgICAgfSwgW0EuX3QoImxlYWZOYW1lRGlzcGxheSIsIFtBLl92KCIgIiArIEEuX3MoQS5tb2RlbC5uYW1lKSArICIgIildLCB7CiAgICAgICAgICBleHBhbmRlZDogQS5leHBhbmRlZCwKICAgICAgICAgIG1vZGVsOiBBLm1vZGVsLAogICAgICAgICAgcm9vdDogQS5yb290Tm9kZQogICAgICAgIH0pXSwgMiksIHQoImRpdiIsIHsKICAgICAgICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgICAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgICAgICAgIHZhbHVlOiBBLmlzSG92ZXIsCiAgICAgICAgICAgIGV4cHJlc3Npb246ICJpc0hvdmVyIgogICAgICAgICAgfV0sCiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1vcGVyYXRpb24iCiAgICAgICAgfSwgW0EubW9kZWwuaXNfbGVhZiB8fCBBLm1vZGVsLmFkZFRyZWVOb2RlRGlzYWJsZWQgPyBBLl9lKCkgOiB0KCJzcGFuIiwgewogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdGl0bGU6IEEuZGVmYXVsdEFkZFRyZWVOb2RlVGl0bGUKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIEEuYWRkQ2hpbGQoITEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgW0EuX3QoImFkZFRyZWVOb2RlSWNvbiIsIFt0KCJpIiwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJ2dGwtaWNvbiB2dGwtaWNvbi1mb2xkZXItcGx1cy1lIgogICAgICAgIH0pXSwgewogICAgICAgICAgZXhwYW5kZWQ6IEEuZXhwYW5kZWQsCiAgICAgICAgICBtb2RlbDogQS5tb2RlbCwKICAgICAgICAgIHJvb3Q6IEEucm9vdE5vZGUKICAgICAgICB9KV0sIDIpLCBBLm1vZGVsLmlzX2xlYWYgfHwgQS5tb2RlbC5hZGRMZWFmTm9kZURpc2FibGVkID8gQS5fZSgpIDogdCgic3BhbiIsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHRpdGxlOiBBLmRlZmF1bHRBZGRMZWFmTm9kZVRpdGxlCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCBBLmFkZENoaWxkKCEwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFtBLl90KCJhZGRMZWFmTm9kZUljb24iLCBbdCgiaSIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWljb24gdnRsLWljb24tcGx1cyIKICAgICAgICB9KV0sIHsKICAgICAgICAgIGV4cGFuZGVkOiBBLmV4cGFuZGVkLAogICAgICAgICAgbW9kZWw6IEEubW9kZWwsCiAgICAgICAgICByb290OiBBLnJvb3ROb2RlCiAgICAgICAgfSldLCAyKSwgQS5tb2RlbC5lZGl0Tm9kZURpc2FibGVkID8gQS5fZSgpIDogdCgic3BhbiIsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHRpdGxlOiAiZWRpdCIKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIEEuc2V0RWRpdGFibGUoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbQS5fdCgiZWRpdE5vZGVJY29uIiwgW3QoImkiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1pY29uIHZ0bC1pY29uLWVkaXQiCiAgICAgICAgfSldLCB7CiAgICAgICAgICBleHBhbmRlZDogQS5leHBhbmRlZCwKICAgICAgICAgIG1vZGVsOiBBLm1vZGVsLAogICAgICAgICAgcm9vdDogQS5yb290Tm9kZQogICAgICAgIH0pXSwgMiksIEEubW9kZWwuZGVsTm9kZURpc2FibGVkID8gQS5fZSgpIDogdCgic3BhbiIsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHRpdGxlOiAiRGVsZXRlIgogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUucHJldmVudERlZmF1bHQoKSwgQS5kZWxOb2RlKGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgW0EuX3QoImRlbE5vZGVJY29uIiwgW3QoImkiLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogInZ0bC1pY29uIHZ0bC1pY29uLXRyYXNoIgogICAgICAgIH0pXSwgewogICAgICAgICAgZXhwYW5kZWQ6IEEuZXhwYW5kZWQsCiAgICAgICAgICBtb2RlbDogQS5tb2RlbCwKICAgICAgICAgIHJvb3Q6IEEucm9vdE5vZGUKICAgICAgICB9KV0sIDIpXSldKSwgQS5tb2RlbC5jaGlsZHJlbiAmJiBBLm1vZGVsLmNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgQS5leHBhbmRlZCA/IHQoImRpdiIsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAidnRsLWJvcmRlciB2dGwtYm90dG9tIiwKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICJ2dGwtYWN0aXZlIjogQS5pc0RyYWdFbnRlckJvdHRvbQogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGRyb3A6IEEuZHJvcEFmdGVyLAogICAgICAgICAgICBkcmFnZW50ZXI6IEEuZHJhZ0VudGVyQm90dG9tLAogICAgICAgICAgICBkcmFnb3ZlcjogQS5kcmFnT3ZlckJvdHRvbSwKICAgICAgICAgICAgZHJhZ2xlYXZlOiBBLmRyYWdMZWF2ZUJvdHRvbQogICAgICAgICAgfQogICAgICAgIH0pIDogQS5fZSgpXSkgOiBBLl9lKCksIEEuaXNGb2xkZXIgPyB0KCJkaXYiLCB7CiAgICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgICBuYW1lOiAic2hvdyIsCiAgICAgICAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICAgICAgICB2YWx1ZTogInJvb3QiID09PSBBLm1vZGVsLm5hbWUgfHwgQS5leHBhbmRlZCwKICAgICAgICAgICAgZXhwcmVzc2lvbjogIm1vZGVsLm5hbWUgPT09ICdyb290JyB8fCBleHBhbmRlZCIKICAgICAgICAgIH1dLAogICAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICAgInZ0bC10cmVlLW1hcmdpbiI6ICJyb290IiAhPT0gQS5tb2RlbC5uYW1lCiAgICAgICAgICB9CiAgICAgICAgfSwgQS5fbChBLm1vZGVsLmNoaWxkcmVuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHQoIml0ZW0iLCB7CiAgICAgICAgICAgIGtleTogZS5pZCwKICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAiZGVmYXVsdC10cmVlLW5vZGUtbmFtZSI6IEEuZGVmYXVsdFRyZWVOb2RlTmFtZSwKICAgICAgICAgICAgICAiZGVmYXVsdC1sZWFmLW5vZGUtbmFtZSI6IEEuZGVmYXVsdExlYWZOb2RlTmFtZSwKICAgICAgICAgICAgICAiZGVmYXVsdC1leHBhbmRlZCI6IEEuZGVmYXVsdEV4cGFuZGVkLAogICAgICAgICAgICAgIG1vZGVsOiBlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiBBLl91KFt7CiAgICAgICAgICAgICAga2V5OiAibGVhZk5hbWVEaXNwbGF5IiwKICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtBLl90KCJsZWFmTmFtZURpc3BsYXkiLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAga2V5OiAiYWRkVHJlZU5vZGVJY29uIiwKICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtBLl90KCJhZGRUcmVlTm9kZUljb24iLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAga2V5OiAiYWRkTGVhZk5vZGVJY29uIiwKICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtBLl90KCJhZGRMZWFmTm9kZUljb24iLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAga2V5OiAiZWRpdE5vZGVJY29uIiwKICAgICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIFtBLl90KCJlZGl0Tm9kZUljb24iLCBudWxsLCBudWxsLCBlKV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAga2V5OiAiZGVsTm9kZUljb24iLAogICAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbihlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW0EuX3QoImRlbE5vZGVJY29uIiwgbnVsbCwgbnVsbCwgZSldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGtleTogImxlYWZOb2RlSWNvbiIsCiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbQS5fdCgibGVhZk5vZGVJY29uIiwgbnVsbCwgbnVsbCwgZSldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGtleTogInRyZWVOb2RlSWNvbiIsCiAgICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBbQS5fdCgidHJlZU5vZGVJY29uIiwgbnVsbCwgbnVsbCwgZSldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0sIG51bGwsICEwKQogICAgICAgICAgfSk7CiAgICAgICAgfSksIDEpIDogQS5fZSgpXSk7CiAgICAgIH0sCiAgICAgICAgICByID0gW107CgogICAgICB0KCJhNGQzIiksIHQoIjRkZTQiKSwgdCgiYjBjMCIpLCB0KCJlNDM5IiksIHQoImRiYjQiKSwgdCgiYjY0YiIpLCB0KCIxNTliIik7CgogICAgICBmdW5jdGlvbiBvKEEsIGUsIHQpIHsKICAgICAgICByZXR1cm4gZSBpbiBBID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsIGUsIHsKICAgICAgICAgIHZhbHVlOiB0LAogICAgICAgICAgZW51bWVyYWJsZTogITAsCiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLAogICAgICAgICAgd3JpdGFibGU6ICEwCiAgICAgICAgfSkgOiBBW2VdID0gdCwgQTsKICAgICAgfQoKICAgICAgdmFyIGkgPSB0KCJhNzZmIiksCiAgICAgICAgICBhID0gdCgiODNhZiIpOwoKICAgICAgZnVuY3Rpb24gYyhBLCBlKSB7CiAgICAgICAgdmFyIHQgPSBPYmplY3Qua2V5cyhBKTsKCiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICAgIHZhciBuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhBKTsKICAgICAgICAgIGUgJiYgKG4gPSBuLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihBLCBlKS5lbnVtZXJhYmxlOwogICAgICAgICAgfSkpLCB0LnB1c2guYXBwbHkodCwgbik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZihBKSB7CiAgICAgICAgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsKICAgICAgICAgIHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbZV0gPyBhcmd1bWVudHNbZV0gOiB7fTsKICAgICAgICAgIGUgJSAyID8gYyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIG8oQSwgZSwgdFtlXSk7CiAgICAgICAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogYyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEEsIGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgZSkpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gQTsKICAgICAgfQoKICAgICAgdmFyIHUgPSBudWxsLAogICAgICAgICAgcyA9IHsKICAgICAgICBuYW1lOiAidnVlLXRyZWUtbGlzdCIsCiAgICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzSG92ZXI6ICExLAogICAgICAgICAgICBlZGl0YWJsZTogITEsCiAgICAgICAgICAgIGlzRHJhZ0VudGVyVXA6ICExLAogICAgICAgICAgICBpc0RyYWdFbnRlckJvdHRvbTogITEsCiAgICAgICAgICAgIGlzRHJhZ0VudGVyTm9kZTogITEsCiAgICAgICAgICAgIGV4cGFuZGVkOiB0aGlzLmRlZmF1bHRFeHBhbmRlZAogICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICB0eXBlOiBPYmplY3QKICAgICAgICAgIH0sCiAgICAgICAgICBkZWZhdWx0TGVhZk5vZGVOYW1lOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogIkxlYWYgTm9kZSIKICAgICAgICAgIH0sCiAgICAgICAgICBkZWZhdWx0VHJlZU5vZGVOYW1lOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogIlRyZWUgTm9kZSIKICAgICAgICAgIH0sCiAgICAgICAgICBkZWZhdWx0QWRkVHJlZU5vZGVUaXRsZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICJBZGQgQ2hpbGQgTm9kZSIKICAgICAgICAgIH0sCiAgICAgICAgICBkZWZhdWx0QWRkTGVhZk5vZGVUaXRsZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICJBZGQgTGVhZiBOb2RlIgogICAgICAgICAgfSwKICAgICAgICAgIGRlZmF1bHRFeHBhbmRlZDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiAhMAogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICAgIHJvb3ROb2RlOiBmdW5jdGlvbiByb290Tm9kZSgpIHsKICAgICAgICAgICAgdmFyIEEgPSB0aGlzLiRwYXJlbnQ7CgogICAgICAgICAgICB3aGlsZSAoInJvb3QiICE9PSBBLl9wcm9wcy5tb2RlbC5uYW1lKSB7CiAgICAgICAgICAgICAgQSA9IEEuJHBhcmVudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIEE7CiAgICAgICAgICB9LAogICAgICAgICAgY2FyZXRDbGFzczogZnVuY3Rpb24gY2FyZXRDbGFzcygpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kZWQgPyAidnRsLWljb24tY2FyZXQtZG93biIgOiAidnRsLWljb24tY2FyZXQtcmlnaHQiOwogICAgICAgICAgfSwKICAgICAgICAgIGlzRm9sZGVyOiBmdW5jdGlvbiBpc0ZvbGRlcigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuY2hpbGRyZW4gJiYgdGhpcy5tb2RlbC5jaGlsZHJlbi5sZW5ndGg7CiAgICAgICAgICB9LAogICAgICAgICAgdHJlZU5vZGVDbGFzczogZnVuY3Rpb24gdHJlZU5vZGVDbGFzcygpIHsKICAgICAgICAgICAgdmFyIEEgPSB0aGlzLm1vZGVsLAogICAgICAgICAgICAgICAgZSA9IEEuZHJhZ0Rpc2FibGVkLAogICAgICAgICAgICAgICAgdCA9IEEuZGlzYWJsZWQsCiAgICAgICAgICAgICAgICBuID0gdGhpcy5pc0RyYWdFbnRlck5vZGU7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgInZ0bC1ub2RlLW1haW4iOiAhMCwKICAgICAgICAgICAgICAidnRsLWFjdGl2ZSI6IG4sCiAgICAgICAgICAgICAgInZ0bC1kcmFnLWRpc2FibGVkIjogZSwKICAgICAgICAgICAgICAidnRsLWRpc2FibGVkIjogdAogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICAgICAgICB0aGlzLiRvcHRpb25zLmNvbXBvbmVudHMuaXRlbSA9IHQoImIyYjkiKS5kZWZhdWx0OwogICAgICAgIH0sCiAgICAgICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgICAgIHZhciBBID0gdGhpczsKICAgICAgICAgIE9iamVjdChhWyJhIl0pKHdpbmRvdywgImtleXVwIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgMTMgPT09IGUua2V5Q29kZSAmJiBBLmVkaXRhYmxlICYmIChBLmVkaXRhYmxlID0gITEpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgICAgICAgT2JqZWN0KGFbImIiXSkod2luZG93LCAia2V5dXAiKTsKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgIHVwZGF0ZU5hbWU6IGZ1bmN0aW9uIHVwZGF0ZU5hbWUoQSkgewogICAgICAgICAgICB2YXIgZSA9IHRoaXMubW9kZWwubmFtZTsKICAgICAgICAgICAgdGhpcy5tb2RlbC5jaGFuZ2VOYW1lKEEudGFyZ2V0LnZhbHVlKSwgdGhpcy5yb290Tm9kZS4kZW1pdCgiY2hhbmdlLW5hbWUiLCB7CiAgICAgICAgICAgICAgaWQ6IHRoaXMubW9kZWwuaWQsCiAgICAgICAgICAgICAgb2xkTmFtZTogZSwKICAgICAgICAgICAgICBuZXdOYW1lOiBBLnRhcmdldC52YWx1ZSwKICAgICAgICAgICAgICBub2RlOiB0aGlzLm1vZGVsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwKICAgICAgICAgIGRlbE5vZGU6IGZ1bmN0aW9uIGRlbE5vZGUoKSB7CiAgICAgICAgICAgIHRoaXMucm9vdE5vZGUuJGVtaXQoImRlbGV0ZS1ub2RlIiwgdGhpcy5tb2RlbCk7CiAgICAgICAgICB9LAogICAgICAgICAgc2V0RWRpdGFibGU6IGZ1bmN0aW9uIHNldEVkaXRhYmxlKCkgewogICAgICAgICAgICB2YXIgQSA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuZWRpdGFibGUgPSAhMCwgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBlID0gQS4kcmVmcy5ub2RlSW5wdXQ7CiAgICAgICAgICAgICAgZS5mb2N1cygpLCBlLnNldFNlbGVjdGlvblJhbmdlKDAsIGUudmFsdWUubGVuZ3RoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgc2V0VW5FZGl0YWJsZTogZnVuY3Rpb24gc2V0VW5FZGl0YWJsZShBKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdGFibGUgPSAhMTsKICAgICAgICAgICAgdmFyIGUgPSB0aGlzLm1vZGVsLm5hbWU7CiAgICAgICAgICAgIHRoaXMubW9kZWwuY2hhbmdlTmFtZShBLnRhcmdldC52YWx1ZSksIHRoaXMucm9vdE5vZGUuJGVtaXQoImNoYW5nZS1uYW1lIiwgewogICAgICAgICAgICAgIGlkOiB0aGlzLm1vZGVsLmlkLAogICAgICAgICAgICAgIG9sZE5hbWU6IGUsCiAgICAgICAgICAgICAgbmV3TmFtZTogQS50YXJnZXQudmFsdWUsCiAgICAgICAgICAgICAgZXZlbnRUeXBlOiAiYmx1ciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgICAgICAgIHRoaXMuaXNGb2xkZXIgJiYgKHRoaXMuZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZCk7CiAgICAgICAgICB9LAogICAgICAgICAgbW91c2VPdmVyOiBmdW5jdGlvbiBtb3VzZU92ZXIoKSB7CiAgICAgICAgICAgIHRoaXMubW9kZWwuZGlzYWJsZWQgfHwgKHRoaXMuaXNIb3ZlciA9ICEwKTsKICAgICAgICAgIH0sCiAgICAgICAgICBtb3VzZU91dDogZnVuY3Rpb24gbW91c2VPdXQoKSB7CiAgICAgICAgICAgIHRoaXMuaXNIb3ZlciA9ICExOwogICAgICAgICAgfSwKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgdGhpcy5yb290Tm9kZS4kZW1pdCgiY2xpY2siLCBmKHsKICAgICAgICAgICAgICB0b2dnbGU6IHRoaXMudG9nZ2xlCiAgICAgICAgICAgIH0sIHRoaXMubW9kZWwpKTsKICAgICAgICAgIH0sCiAgICAgICAgICBhZGRDaGlsZDogZnVuY3Rpb24gYWRkQ2hpbGQoQSkgewogICAgICAgICAgICB2YXIgZSA9IEEgPyB0aGlzLmRlZmF1bHRMZWFmTm9kZU5hbWUgOiB0aGlzLmRlZmF1bHRUcmVlTm9kZU5hbWU7CiAgICAgICAgICAgIHRoaXMuZXhwYW5kZWQgPSAhMDsKICAgICAgICAgICAgdmFyIHQgPSBuZXcgaVsiYiJdKHsKICAgICAgICAgICAgICBuYW1lOiBlLAogICAgICAgICAgICAgIGlzX2xlYWY6IEEKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMubW9kZWwuYWRkQ2hpbGRyZW4odCwgITApLCB0aGlzLnJvb3ROb2RlLiRlbWl0KCJhZGQtbm9kZSIsIHQpOwogICAgICAgICAgfSwKICAgICAgICAgIGRyYWdTdGFydDogZnVuY3Rpb24gZHJhZ1N0YXJ0KEEpIHsKICAgICAgICAgICAgcmV0dXJuICF0aGlzLm1vZGVsLmRyYWdEaXNhYmxlZCAmJiAhdGhpcy5tb2RlbC5kaXNhYmxlZCAmJiAodSA9IHRoaXMsIEEuZGF0YVRyYW5zZmVyLnNldERhdGEoImRhdGEiLCAiZGF0YSIpLCBBLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gIm1vdmUiLCAhMCk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0VuZDogZnVuY3Rpb24gZHJhZ0VuZCgpIHsKICAgICAgICAgICAgdSA9IG51bGw7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ092ZXI6IGZ1bmN0aW9uIGRyYWdPdmVyKEEpIHsKICAgICAgICAgICAgcmV0dXJuIEEucHJldmVudERlZmF1bHQoKSwgITA7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0VudGVyOiBmdW5jdGlvbiBkcmFnRW50ZXIoKSB7CiAgICAgICAgICAgIHUgJiYgdS5tb2RlbC5pZCAhPT0gdGhpcy5tb2RlbC5pZCAmJiB1ICYmICF0aGlzLm1vZGVsLmlzX2xlYWYgJiYgKHRoaXMuaXNEcmFnRW50ZXJOb2RlID0gITApOwogICAgICAgICAgfSwKICAgICAgICAgIGRyYWdMZWF2ZTogZnVuY3Rpb24gZHJhZ0xlYXZlKCkgewogICAgICAgICAgICB0aGlzLmlzRHJhZ0VudGVyTm9kZSA9ICExOwogICAgICAgICAgfSwKICAgICAgICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoKSB7CiAgICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgICAgdmFyIEEgPSB1Lm1vZGVsLnBhcmVudDsKICAgICAgICAgICAgICB1Lm1vZGVsLm1vdmVJbnRvKHRoaXMubW9kZWwpLCB0aGlzLmlzRHJhZ0VudGVyTm9kZSA9ICExLCB0aGlzLnJvb3ROb2RlLiRlbWl0KCJkcm9wIiwgewogICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm1vZGVsLAogICAgICAgICAgICAgICAgbm9kZTogdS5tb2RlbCwKICAgICAgICAgICAgICAgIHNyYzogQQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0VudGVyVXA6IGZ1bmN0aW9uIGRyYWdFbnRlclVwKCkgewogICAgICAgICAgICB1ICYmICh0aGlzLmlzRHJhZ0VudGVyVXAgPSAhMCk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ092ZXJVcDogZnVuY3Rpb24gZHJhZ092ZXJVcChBKSB7CiAgICAgICAgICAgIHJldHVybiBBLnByZXZlbnREZWZhdWx0KCksICEwOwogICAgICAgICAgfSwKICAgICAgICAgIGRyYWdMZWF2ZVVwOiBmdW5jdGlvbiBkcmFnTGVhdmVVcCgpIHsKICAgICAgICAgICAgdSAmJiAodGhpcy5pc0RyYWdFbnRlclVwID0gITEpOwogICAgICAgICAgfSwKICAgICAgICAgIGRyb3BCZWZvcmU6IGZ1bmN0aW9uIGRyb3BCZWZvcmUoKSB7CiAgICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgICAgdmFyIEEgPSB1Lm1vZGVsLnBhcmVudDsKICAgICAgICAgICAgICB1Lm1vZGVsLmluc2VydEJlZm9yZSh0aGlzLm1vZGVsKSwgdGhpcy5pc0RyYWdFbnRlclVwID0gITEsIHRoaXMucm9vdE5vZGUuJGVtaXQoImRyb3AtYmVmb3JlIiwgewogICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLm1vZGVsLAogICAgICAgICAgICAgICAgbm9kZTogdS5tb2RlbCwKICAgICAgICAgICAgICAgIHNyYzogQQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0VudGVyQm90dG9tOiBmdW5jdGlvbiBkcmFnRW50ZXJCb3R0b20oKSB7CiAgICAgICAgICAgIHUgJiYgKHRoaXMuaXNEcmFnRW50ZXJCb3R0b20gPSAhMCk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ092ZXJCb3R0b206IGZ1bmN0aW9uIGRyYWdPdmVyQm90dG9tKEEpIHsKICAgICAgICAgICAgcmV0dXJuIEEucHJldmVudERlZmF1bHQoKSwgITA7CiAgICAgICAgICB9LAogICAgICAgICAgZHJhZ0xlYXZlQm90dG9tOiBmdW5jdGlvbiBkcmFnTGVhdmVCb3R0b20oKSB7CiAgICAgICAgICAgIHUgJiYgKHRoaXMuaXNEcmFnRW50ZXJCb3R0b20gPSAhMSk7CiAgICAgICAgICB9LAogICAgICAgICAgZHJvcEFmdGVyOiBmdW5jdGlvbiBkcm9wQWZ0ZXIoKSB7CiAgICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgICAgdmFyIEEgPSB1Lm1vZGVsLnBhcmVudDsKICAgICAgICAgICAgICB1Lm1vZGVsLmluc2VydEFmdGVyKHRoaXMubW9kZWwpLCB0aGlzLmlzRHJhZ0VudGVyQm90dG9tID0gITEsIHRoaXMucm9vdE5vZGUuJGVtaXQoImRyb3AtYWZ0ZXIiLCB7CiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubW9kZWwsCiAgICAgICAgICAgICAgICBub2RlOiB1Lm1vZGVsLAogICAgICAgICAgICAgICAgc3JjOiBBCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgICAgICBkID0gczsKICAgICAgdCgiMDRhYiIpOwoKICAgICAgZnVuY3Rpb24gbChBLCBlLCB0LCBuLCByLCBvLCBpLCBhKSB7CiAgICAgICAgdmFyIGMsCiAgICAgICAgICAgIGYgPSAiZnVuY3Rpb24iID09PSB0eXBlb2YgQSA/IEEub3B0aW9ucyA6IEE7CiAgICAgICAgaWYgKGUgJiYgKGYucmVuZGVyID0gZSwgZi5zdGF0aWNSZW5kZXJGbnMgPSB0LCBmLl9jb21waWxlZCA9ICEwKSwgbiAmJiAoZi5mdW5jdGlvbmFsID0gITApLCBvICYmIChmLl9zY29wZUlkID0gImRhdGEtdi0iICsgbyksIGkgPyAoYyA9IGZ1bmN0aW9uIGMoQSkgewogICAgICAgICAgQSA9IEEgfHwgdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCB8fCB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQsIEEgfHwgInVuZGVmaW5lZCIgPT09IHR5cGVvZiBfX1ZVRV9TU1JfQ09OVEVYVF9fIHx8IChBID0gX19WVUVfU1NSX0NPTlRFWFRfXyksIHIgJiYgci5jYWxsKHRoaXMsIEEpLCBBICYmIEEuX3JlZ2lzdGVyZWRDb21wb25lbnRzICYmIEEuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChpKTsKICAgICAgICB9LCBmLl9zc3JSZWdpc3RlciA9IGMpIDogciAmJiAoYyA9IGEgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByLmNhbGwodGhpcywgdGhpcy4kcm9vdC4kb3B0aW9ucy5zaGFkb3dSb290KTsKICAgICAgICB9IDogciksIGMpIGlmIChmLmZ1bmN0aW9uYWwpIHsKICAgICAgICAgIGYuX2luamVjdFN0eWxlcyA9IGM7CiAgICAgICAgICB2YXIgdSA9IGYucmVuZGVyOwoKICAgICAgICAgIGYucmVuZGVyID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICAgICAgcmV0dXJuIGMuY2FsbChlKSwgdShBLCBlKTsKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBzID0gZi5iZWZvcmVDcmVhdGU7CiAgICAgICAgICBmLmJlZm9yZUNyZWF0ZSA9IHMgPyBbXS5jb25jYXQocywgYykgOiBbY107CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICBleHBvcnRzOiBBLAogICAgICAgICAgb3B0aW9uczogZgogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBwID0gbChkLCBuLCByLCAhMSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAgIGVbImRlZmF1bHQiXSA9IHAuZXhwb3J0czsKICAgIH0sCiAgICBiMzAxOiBmdW5jdGlvbiBiMzAxKEEsIGUsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIG4gPSB0KCJkMDM5Iik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHZhciB0ID0gW11bQV07CiAgICAgICAgcmV0dXJuICF0IHx8ICFuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHQuY2FsbChudWxsLCBlIHx8IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhyb3cgMTsKICAgICAgICAgIH0sIDEpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKICAgIGIzOWE6IGZ1bmN0aW9uIGIzOWEoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImQwNjYiKTsKICAgICAgQS5leHBvcnRzID0gbigibmF2aWdhdG9yIiwgInVzZXJBZ2VudCIpIHx8ICIiOwogICAgfSwKICAgIGI2MjI6IGZ1bmN0aW9uIGI2MjIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImRhODQiKSwKICAgICAgICAgIHIgPSB0KCI1NjkyIiksCiAgICAgICAgICBvID0gdCgiNTEzNSIpLAogICAgICAgICAgaSA9IHQoIjkwZTMiKSwKICAgICAgICAgIGEgPSB0KCI0OTMwIiksCiAgICAgICAgICBjID0gdCgiZmRiZiIpLAogICAgICAgICAgZiA9IHIoIndrcyIpLAogICAgICAgICAgdSA9IG4uU3ltYm9sLAogICAgICAgICAgcyA9IGMgPyB1IDogdSAmJiB1LndpdGhvdXRTZXR0ZXIgfHwgaTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIG8oZiwgQSkgfHwgKGEgJiYgbyh1LCBBKSA/IGZbQV0gPSB1W0FdIDogZltBXSA9IHMoIlN5bWJvbC4iICsgQSkpLCBmW0FdOwogICAgICB9OwogICAgfSwKICAgIGI2NGI6IGZ1bmN0aW9uIGI2NGIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjIzZTciKSwKICAgICAgICAgIHIgPSB0KCI3YjBiIiksCiAgICAgICAgICBvID0gdCgiZGY3NSIpLAogICAgICAgICAgaSA9IHQoImQwMzkiKSwKICAgICAgICAgIGEgPSBpKGZ1bmN0aW9uICgpIHsKICAgICAgICBvKDEpOwogICAgICB9KTsKICAgICAgbih7CiAgICAgICAgdGFyZ2V0OiAiT2JqZWN0IiwKICAgICAgICBzdGF0OiAhMCwKICAgICAgICBmb3JjZWQ6IGEKICAgICAgfSwgewogICAgICAgIGtleXM6IGZ1bmN0aW9uIGtleXMoQSkgewogICAgICAgICAgcmV0dXJuIG8ocihBKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBiNzI3OiBmdW5jdGlvbiBiNzI3KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJmOGMyIiksCiAgICAgICAgICByID0gdCgiNDRhZCIpLAogICAgICAgICAgbyA9IHQoIjdiMGIiKSwKICAgICAgICAgIGkgPSB0KCI1MGM0IiksCiAgICAgICAgICBhID0gdCgiNjVmMCIpLAogICAgICAgICAgYyA9IFtdLnB1c2gsCiAgICAgICAgICBmID0gZnVuY3Rpb24gZihBKSB7CiAgICAgICAgdmFyIGUgPSAxID09IEEsCiAgICAgICAgICAgIHQgPSAyID09IEEsCiAgICAgICAgICAgIGYgPSAzID09IEEsCiAgICAgICAgICAgIHUgPSA0ID09IEEsCiAgICAgICAgICAgIHMgPSA2ID09IEEsCiAgICAgICAgICAgIGQgPSA1ID09IEEgfHwgczsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGwsIHAsIGcsIGgpIHsKICAgICAgICAgIGZvciAodmFyIHYsIEUsIEIgPSBvKGwpLCBiID0gcihCKSwgbSA9IG4ocCwgZywgMyksIHcgPSBpKGIubGVuZ3RoKSwgeSA9IDAsIFEgPSBoIHx8IGEsIEkgPSBlID8gUShsLCB3KSA6IHQgPyBRKGwsIDApIDogdm9pZCAwOyB3ID4geTsgeSsrKSB7CiAgICAgICAgICAgIGlmICgoZCB8fCB5IGluIGIpICYmICh2ID0gYlt5XSwgRSA9IG0odiwgeSwgQiksIEEpKSBpZiAoZSkgSVt5XSA9IEU7ZWxzZSBpZiAoRSkgc3dpdGNoIChBKSB7CiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuICEwOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gdjsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0dXJuIHk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGMuY2FsbChJLCB2KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1KSByZXR1cm4gITE7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHMgPyAtMSA6IGYgfHwgdSA/IHUgOiBJOwogICAgICAgIH07CiAgICAgIH07CgogICAgICBBLmV4cG9ydHMgPSB7CiAgICAgICAgZm9yRWFjaDogZigwKSwKICAgICAgICBtYXA6IGYoMSksCiAgICAgICAgZmlsdGVyOiBmKDIpLAogICAgICAgIHNvbWU6IGYoMyksCiAgICAgICAgZXZlcnk6IGYoNCksCiAgICAgICAgZmluZDogZig1KSwKICAgICAgICBmaW5kSW5kZXg6IGYoNikKICAgICAgfTsKICAgIH0sCiAgICBjMDMyOiBmdW5jdGlvbiBjMDMyKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCJiNjIyIik7CiAgICAgIGUuZiA9IG47CiAgICB9LAogICAgYzA0ZTogZnVuY3Rpb24gYzA0ZShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiODYxZCIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEsIGUpIHsKICAgICAgICBpZiAoIW4oQSkpIHJldHVybiBBOwogICAgICAgIHZhciB0LCByOwogICAgICAgIGlmIChlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mICh0ID0gQS50b1N0cmluZykgJiYgIW4ociA9IHQuY2FsbChBKSkpIHJldHVybiByOwogICAgICAgIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiAodCA9IEEudmFsdWVPZikgJiYgIW4ociA9IHQuY2FsbChBKSkpIHJldHVybiByOwogICAgICAgIGlmICghZSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiAodCA9IEEudG9TdHJpbmcpICYmICFuKHIgPSB0LmNhbGwoQSkpKSByZXR1cm4gcjsKICAgICAgICB0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpOwogICAgICB9OwogICAgfSwKICAgIGM0MzA6IGZ1bmN0aW9uIGM0MzAoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSAhMTsKICAgIH0sCiAgICBjNmI2OiBmdW5jdGlvbiBjNmI2KEEsIGUpIHsKICAgICAgdmFyIHQgPSB7fS50b1N0cmluZzsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgcmV0dXJuIHQuY2FsbChBKS5zbGljZSg4LCAtMSk7CiAgICAgIH07CiAgICB9LAogICAgYzZjZDogZnVuY3Rpb24gYzZjZChBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpLAogICAgICAgICAgciA9IHQoImNlNGUiKSwKICAgICAgICAgIG8gPSAiX19jb3JlLWpzX3NoYXJlZF9fIiwKICAgICAgICAgIGkgPSBuW29dIHx8IHIobywge30pOwogICAgICBBLmV4cG9ydHMgPSBpOwogICAgfSwKICAgIGM4YmE6IGZ1bmN0aW9uIGM4YmEoQSwgZSkgewogICAgICB2YXIgdDsKCiAgICAgIHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0oKTsKCiAgICAgIHRyeSB7CiAgICAgICAgdCA9IHQgfHwgbmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7CiAgICAgIH0gY2F0Y2ggKG4pIHsKICAgICAgICAib2JqZWN0IiA9PT0gKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKHdpbmRvdykpICYmICh0ID0gd2luZG93KTsKICAgICAgfQoKICAgICAgQS5leHBvcnRzID0gdDsKICAgIH0sCiAgICBjYTg0OiBmdW5jdGlvbiBjYTg0KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI1MTM1IiksCiAgICAgICAgICByID0gdCgiZmM2YSIpLAogICAgICAgICAgbyA9IHQoIjRkNjQiKS5pbmRleE9mLAogICAgICAgICAgaSA9IHQoImQwMTIiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIGEgPSByKEEpLAogICAgICAgICAgICBjID0gMCwKICAgICAgICAgICAgZiA9IFtdOwoKICAgICAgICBmb3IgKHQgaW4gYSkgewogICAgICAgICAgIW4oaSwgdCkgJiYgbihhLCB0KSAmJiBmLnB1c2godCk7CiAgICAgICAgfQoKICAgICAgICB3aGlsZSAoZS5sZW5ndGggPiBjKSB7CiAgICAgICAgICBuKGEsIHQgPSBlW2MrK10pICYmICh+byhmLCB0KSB8fCBmLnB1c2godCkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGY7CiAgICAgIH07CiAgICB9LAogICAgY2MxMjogZnVuY3Rpb24gY2MxMihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiZGE4NCIpLAogICAgICAgICAgciA9IHQoIjg2MWQiKSwKICAgICAgICAgIG8gPSBuLmRvY3VtZW50LAogICAgICAgICAgaSA9IHIobykgJiYgcihvLmNyZWF0ZUVsZW1lbnQpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gaSA/IG8uY3JlYXRlRWxlbWVudChBKSA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGNlNGU6IGZ1bmN0aW9uIGNlNGUoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImRhODQiKSwKICAgICAgICAgIHIgPSB0KCI5MTEyIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICByKG4sIEEsIGUpOwogICAgICAgIH0gY2F0Y2ggKHQpIHsKICAgICAgICAgIG5bQV0gPSBlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH07CiAgICB9LAogICAgZDAxMjogZnVuY3Rpb24gZDAxMihBLCBlKSB7CiAgICAgIEEuZXhwb3J0cyA9IHt9OwogICAgfSwKICAgIGQwMzk6IGZ1bmN0aW9uIGQwMzkoQSwgZSkgewogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gISFBKCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuICEwOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBkMDY2OiBmdW5jdGlvbiBkMDY2KEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI0MjhmIiksCiAgICAgICAgICByID0gdCgiZGE4NCIpLAogICAgICAgICAgbyA9IGZ1bmN0aW9uIG8oQSkgewogICAgICAgIHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBBID8gQSA6IHZvaWQgMDsKICAgICAgfTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlKSB7CiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gbyhuW0FdKSB8fCBvKHJbQV0pIDogbltBXSAmJiBuW0FdW2VdIHx8IHJbQV0gJiYgcltBXVtlXTsKICAgICAgfTsKICAgIH0sCiAgICBkMWU3OiBmdW5jdGlvbiBkMWU3KEEsIGUsIHQpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIG4gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwKICAgICAgICAgIHIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLAogICAgICAgICAgbyA9IHIgJiYgIW4uY2FsbCh7CiAgICAgICAgMTogMgogICAgICB9LCAxKTsKICAgICAgZS5mID0gbyA/IGZ1bmN0aW9uIChBKSB7CiAgICAgICAgdmFyIGUgPSByKHRoaXMsIEEpOwogICAgICAgIHJldHVybiAhIWUgJiYgZS5lbnVtZXJhYmxlOwogICAgICB9IDogbjsKICAgIH0sCiAgICBkNDRlOiBmdW5jdGlvbiBkNDRlKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI5YmYyIikuZiwKICAgICAgICAgIHIgPSB0KCI1MTM1IiksCiAgICAgICAgICBvID0gdCgiYjYyMiIpLAogICAgICAgICAgaSA9IG8oInRvU3RyaW5nVGFnIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSwgdCkgewogICAgICAgIEEgJiYgIXIoQSA9IHQgPyBBIDogQS5wcm90b3R5cGUsIGkpICYmIG4oQSwgaSwgewogICAgICAgICAgY29uZmlndXJhYmxlOiAhMCwKICAgICAgICAgIHZhbHVlOiBlCiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgZGE4NDogZnVuY3Rpb24gZGE4NChBLCBlLCB0KSB7CiAgICAgIChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZnVuY3Rpb24gdChBKSB7CiAgICAgICAgICByZXR1cm4gQSAmJiBBLk1hdGggPT0gTWF0aCAmJiBBOwogICAgICAgIH07CgogICAgICAgIEEuZXhwb3J0cyA9IHQoIm9iamVjdCIgPT0gKHR5cGVvZiBnbG9iYWxUaGlzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihnbG9iYWxUaGlzKSkgJiYgZ2xvYmFsVGhpcykgfHwgdCgib2JqZWN0IiA9PSAodHlwZW9mIHdpbmRvdyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2Yod2luZG93KSkgJiYgd2luZG93KSB8fCB0KCJvYmplY3QiID09ICh0eXBlb2Ygc2VsZiA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2Yoc2VsZikpICYmIHNlbGYpIHx8IHQoIm9iamVjdCIgPT0gX3R5cGVvZihlKSAmJiBlKSB8fCBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOwogICAgICB9KS5jYWxsKHRoaXMsIHQoImM4YmEiKSk7CiAgICB9LAogICAgZGJiNDogZnVuY3Rpb24gZGJiNChBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiMjNlNyIpLAogICAgICAgICAgciA9IHQoIjgzYWIiKSwKICAgICAgICAgIG8gPSB0KCI1NmVmIiksCiAgICAgICAgICBpID0gdCgiZmM2YSIpLAogICAgICAgICAgYSA9IHQoIjA2Y2YiKSwKICAgICAgICAgIGMgPSB0KCI4NDE4Iik7CiAgICAgIG4oewogICAgICAgIHRhcmdldDogIk9iamVjdCIsCiAgICAgICAgc3RhdDogITAsCiAgICAgICAgc2hhbTogIXIKICAgICAgfSwgewogICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoQSkgewogICAgICAgICAgdmFyIGUsCiAgICAgICAgICAgICAgdCwKICAgICAgICAgICAgICBuID0gaShBKSwKICAgICAgICAgICAgICByID0gYS5mLAogICAgICAgICAgICAgIGYgPSBvKG4pLAogICAgICAgICAgICAgIHUgPSB7fSwKICAgICAgICAgICAgICBzID0gMDsKCiAgICAgICAgICB3aGlsZSAoZi5sZW5ndGggPiBzKSB7CiAgICAgICAgICAgIHQgPSByKG4sIGUgPSBmW3MrK10pLCB2b2lkIDAgIT09IHQgJiYgYyh1LCBlLCB0KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRmNzU6IGZ1bmN0aW9uIGRmNzUoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoImNhODQiKSwKICAgICAgICAgIHIgPSB0KCI3ODM5Iik7CgogICAgICBBLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiBuKEEsIHIpOwogICAgICB9OwogICAgfSwKICAgIGU0Mzk6IGZ1bmN0aW9uIGU0MzkoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjIzZTciKSwKICAgICAgICAgIHIgPSB0KCJkMDM5IiksCiAgICAgICAgICBvID0gdCgiZmM2YSIpLAogICAgICAgICAgaSA9IHQoIjA2Y2YiKS5mLAogICAgICAgICAgYSA9IHQoIjgzYWIiKSwKICAgICAgICAgIGMgPSByKGZ1bmN0aW9uICgpIHsKICAgICAgICBpKDEpOwogICAgICB9KSwKICAgICAgICAgIGYgPSAhYSB8fCBjOwogICAgICBuKHsKICAgICAgICB0YXJnZXQ6ICJPYmplY3QiLAogICAgICAgIHN0YXQ6ICEwLAogICAgICAgIGZvcmNlZDogZiwKICAgICAgICBzaGFtOiAhYQogICAgICB9LCB7CiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQSwgZSkgewogICAgICAgICAgcmV0dXJuIGkobyhBKSwgZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlODkzOiBmdW5jdGlvbiBlODkzKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI1MTM1IiksCiAgICAgICAgICByID0gdCgiNTZlZiIpLAogICAgICAgICAgbyA9IHQoIjA2Y2YiKSwKICAgICAgICAgIGkgPSB0KCI5YmYyIik7CgogICAgICBBLmV4cG9ydHMgPSBmdW5jdGlvbiAoQSwgZSkgewogICAgICAgIGZvciAodmFyIHQgPSByKGUpLCBhID0gaS5mLCBjID0gby5mLCBmID0gMDsgZiA8IHQubGVuZ3RoOyBmKyspIHsKICAgICAgICAgIHZhciB1ID0gdFtmXTsKICAgICAgICAgIG4oQSwgdSkgfHwgYShBLCB1LCBjKGUsIHUpKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgZThiNTogZnVuY3Rpb24gZThiNShBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiYzZiNiIpOwoKICAgICAgQS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoQSkgewogICAgICAgIHJldHVybiAiQXJyYXkiID09IG4oQSk7CiAgICAgIH07CiAgICB9LAogICAgZjZmZDogZnVuY3Rpb24gZjZmZChBLCBlKSB7CiAgICAgIChmdW5jdGlvbiAoQSkgewogICAgICAgIHZhciBlID0gImN1cnJlbnRTY3JpcHQiLAogICAgICAgICAgICB0ID0gQS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7CiAgICAgICAgZSBpbiBBIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBLCBlLCB7CiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKICAgICAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgICAgIHZhciBBLAogICAgICAgICAgICAgICAgICBlID0gKC8uKmF0IFteXChdKlwoKC4qKTouKzouK1wpJC9naS5leGVjKG4uc3RhY2spIHx8IFshMV0pWzFdOwoKICAgICAgICAgICAgICBmb3IgKEEgaW4gdCkgewogICAgICAgICAgICAgICAgaWYgKHRbQV0uc3JjID09IGUgfHwgImludGVyYWN0aXZlIiA9PSB0W0FdLnJlYWR5U3RhdGUpIHJldHVybiB0W0FdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkoZG9jdW1lbnQpOwogICAgfSwKICAgIGY3NzI6IGZ1bmN0aW9uIGY3NzIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjU2OTIiKSwKICAgICAgICAgIHIgPSB0KCI5MGUzIiksCiAgICAgICAgICBvID0gbigia2V5cyIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gb1tBXSB8fCAob1tBXSA9IHIoQSkpOwogICAgICB9OwogICAgfSwKICAgIGY4YzI6IGZ1bmN0aW9uIGY4YzIoQSwgZSwgdCkgewogICAgICB2YXIgbiA9IHQoIjFjMGIiKTsKCiAgICAgIEEuZXhwb3J0cyA9IGZ1bmN0aW9uIChBLCBlLCB0KSB7CiAgICAgICAgaWYgKG4oQSksIHZvaWQgMCA9PT0gZSkgcmV0dXJuIEE7CgogICAgICAgIHN3aXRjaCAodCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBBLmNhbGwoZSk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICByZXR1cm4gQS5jYWxsKGUsIHQpOwogICAgICAgICAgICB9OwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0LCBuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIEEuY2FsbChlLCB0LCBuKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCwgbiwgcikgewogICAgICAgICAgICAgIHJldHVybiBBLmNhbGwoZSwgdCwgbiwgcik7CiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIEEuYXBwbHkoZSwgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9OwogICAgfSwKICAgIGZiMTU6IGZ1bmN0aW9uIGZiMTUoQSwgZSwgdCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgbjsKICAgICAgKHQucihlKSwgInVuZGVmaW5lZCIgIT09IHR5cGVvZiB3aW5kb3cpICYmICh0KCJmNmZkIiksIChuID0gd2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpICYmIChuID0gbi5zcmMubWF0Y2goLyguK1wvKVteL10rXC5qcyhcPy4qKT8kLykpICYmICh0LnAgPSBuWzFdKSk7CiAgICAgIHQoImIwYzAiKTsKICAgICAgdmFyIHIgPSB0KCJiMmI5IiksCiAgICAgICAgICBvID0gdCgiYTc2ZiIpOwoKICAgICAgclsiZGVmYXVsdCJdLmluc3RhbGwgPSBmdW5jdGlvbiAoQSkgewogICAgICAgIEEuY29tcG9uZW50KHJbImRlZmF1bHQiXS5uYW1lLCByWyJkZWZhdWx0Il0pOwogICAgICB9OwoKICAgICAgdmFyIGkgPSByWyJkZWZhdWx0Il07CiAgICAgIHQuZChlLCAiVHJlZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gb1siYSJdOwogICAgICB9KSwgdC5kKGUsICJUcmVlTm9kZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gb1siYiJdOwogICAgICB9KSwgdC5kKGUsICJWdWVUcmVlTGlzdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gclsiZGVmYXVsdCJdOwogICAgICB9KTsKICAgICAgZVsiZGVmYXVsdCJdID0gaTsKICAgIH0sCiAgICBmYzZhOiBmdW5jdGlvbiBmYzZhKEEsIGUsIHQpIHsKICAgICAgdmFyIG4gPSB0KCI0NGFkIiksCiAgICAgICAgICByID0gdCgiMWQ4MCIpOwoKICAgICAgQS5leHBvcnRzID0gZnVuY3Rpb24gKEEpIHsKICAgICAgICByZXR1cm4gbihyKEEpKTsKICAgICAgfTsKICAgIH0sCiAgICBmZGJjOiBmdW5jdGlvbiBmZGJjKEEsIGUpIHsKICAgICAgQS5leHBvcnRzID0gewogICAgICAgIENTU1J1bGVMaXN0OiAwLAogICAgICAgIENTU1N0eWxlRGVjbGFyYXRpb246IDAsCiAgICAgICAgQ1NTVmFsdWVMaXN0OiAwLAogICAgICAgIENsaWVudFJlY3RMaXN0OiAwLAogICAgICAgIERPTVJlY3RMaXN0OiAwLAogICAgICAgIERPTVN0cmluZ0xpc3Q6IDAsCiAgICAgICAgRE9NVG9rZW5MaXN0OiAxLAogICAgICAgIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiAwLAogICAgICAgIEZpbGVMaXN0OiAwLAogICAgICAgIEhUTUxBbGxDb2xsZWN0aW9uOiAwLAogICAgICAgIEhUTUxDb2xsZWN0aW9uOiAwLAogICAgICAgIEhUTUxGb3JtRWxlbWVudDogMCwKICAgICAgICBIVE1MU2VsZWN0RWxlbWVudDogMCwKICAgICAgICBNZWRpYUxpc3Q6IDAsCiAgICAgICAgTWltZVR5cGVBcnJheTogMCwKICAgICAgICBOYW1lZE5vZGVNYXA6IDAsCiAgICAgICAgTm9kZUxpc3Q6IDEsCiAgICAgICAgUGFpbnRSZXF1ZXN0TGlzdDogMCwKICAgICAgICBQbHVnaW46IDAsCiAgICAgICAgUGx1Z2luQXJyYXk6IDAsCiAgICAgICAgU1ZHTGVuZ3RoTGlzdDogMCwKICAgICAgICBTVkdOdW1iZXJMaXN0OiAwLAogICAgICAgIFNWR1BhdGhTZWdMaXN0OiAwLAogICAgICAgIFNWR1BvaW50TGlzdDogMCwKICAgICAgICBTVkdTdHJpbmdMaXN0OiAwLAogICAgICAgIFNWR1RyYW5zZm9ybUxpc3Q6IDAsCiAgICAgICAgU291cmNlQnVmZmVyTGlzdDogMCwKICAgICAgICBTdHlsZVNoZWV0TGlzdDogMCwKICAgICAgICBUZXh0VHJhY2tDdWVMaXN0OiAwLAogICAgICAgIFRleHRUcmFja0xpc3Q6IDAsCiAgICAgICAgVG91Y2hMaXN0OiAwCiAgICAgIH07CiAgICB9LAogICAgZmRiZjogZnVuY3Rpb24gZmRiZihBLCBlLCB0KSB7CiAgICAgIHZhciBuID0gdCgiNDkzMCIpOwogICAgICBBLmV4cG9ydHMgPSBuICYmICFTeW1ib2wuc2hhbSAmJiAic3ltYm9sIiA9PSBfdHlwZW9mKFN5bWJvbC5pdGVyYXRvcik7CiAgICB9CiAgfSk7Cn0pOw=="},null]}