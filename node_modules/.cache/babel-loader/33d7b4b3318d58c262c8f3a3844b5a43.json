{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Campaigns/EmailCampaign.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Campaigns/EmailCampaign.vue","mtime":1663910265450},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVnVlRWRpdG9yIH0gZnJvbSAidnVlMi1lZGl0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwsIGNsb3NlX21vZGFsIH0gZnJvbSAiQC9wb3J0YWwvbWl4aW5zIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRW1haWxDYW1wYWlnblBhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZUVkaXRvcjogVnVlRWRpdG9yLAogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0CiAgfSwKICBtaXhpbnM6IFtmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwsIGNsb3NlX21vZGFsXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVuY2lsX3N2ZzogJyA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE1LjU0NiIgaGVpZ2h0PSIxNS40NjEiIHZpZXdCb3g9IjAgMCAxNS41NDYgMTUuNDYxIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojOWU5ZTllO308L3N0eWxlPjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQ3Ljg4OCAtMzU2Ljc2OSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNNzU5LjQxNiwzNTYuNzY5YTIuMzU4LDIuMzU4LDAsMCwxLDEuNzc3LjY2MmMuNTM0LjUxMywxLjA3MiwxLjAyNSwxLjU2NywxLjU3NWEyLjMsMi4zLDAsMCwxLS4wNzEsMy4zMjVjLTIuNzM2LDIuNzYtNS40OTQsNS41LTguMjM4LDguMjUxYTEuMzgxLDEuMzgxLDAsMCwxLS43NTguMjg4Yy0uNzE5LjE3NC0xLjQyOS4zNzktMi4xNDQuNTcyLS45MzIuMjUxLTEuODYyLjUtMi43OTUuNzUxLS42LjE1OC0uOTg5LS4yMTMtLjgzMi0uODA3cS42ODktMi41OTUsMS40MDYtNS4xODJhMS4xNjQsMS4xNjQsMCwwLDEsLjI4OS0uNDg3cTQuMDkxLTQuMTA3LDguMi04LjJBMi4yNjUsMi4yNjUsMCwwLDEsNzU5LjQxNiwzNTYuNzY5Wm0tMS45ODksMi45NTYtNi41NCw2LjUzOCwzLjAyNSwzLjAyNCw2LjUzOC02LjUzN1ptNC4wMjMsMi4xNjVjLjExOC0uMTM1LjIyNS0uMjY5LjM0My0uMzkyYTEuMTM0LDEuMTM0LDAsMCwwLDAtMS43MzRjLS40Ni0uNDY2LS45MjYtLjkyNS0xLjM4OC0xLjM5YTEuMTY2LDEuMTY2LDAsMCwwLS44NjEtLjM2OGMtLjU3OCwwLS44ODEuNC0xLjIxNC43NlptLTEyLjA4NCw4Ljg2MywzLjItLjg2My0yLjMzNy0yLjMzMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDApIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik04MTMuOTQyLDQyMi42bC0uNzg5LS44LDMuODIxLTMuODE5Ljc4NC44WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5LjY0OCAtNTUuOTQ3KSIvPjwvZz48L3N2Zz4nLAogICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB0ZW1wbGF0ZV9uYW1lOiAiIiwKICAgICAgc2F2ZV9zbXM6ICIiLAogICAgICBzYXZlX2VtYWlsOiAiIiwKICAgICAgaXNfc21zOiBmYWxzZSwKICAgICAgaXNfZW1haWw6IHRydWUsCiAgICAgIHNhdmVfc3ViamVjdDogIiIsCiAgICAgIGlzX3B1Ymxpc2hfZW1haWw6IHRydWUsCiAgICAgIGlzX3B1Ymxpc2hfc21zOiB0cnVlLAogICAgICBpc19lZGl0X3NtczogZmFsc2UsCiAgICAgIGlzX2VkaXRfZW1haWw6IHRydWUsCiAgICAgIHZlcmlmaWNhdGlvbl9zdGF0dXM6IG51bGwsCiAgICAgIHRlbXBsYXRlbGlzdDogW10sCiAgICAgIGNoZWNrZWRfbGlzdDogW10sCiAgICAgIGN1c3RvbVRvb2xiYXI6IFtbImJvbGQiLCAiaXRhbGljIiwgInVuZGVybGluZSJdLCBbewogICAgICAgIGFsaWduOiBbXQogICAgICB9XSwgW3sKICAgICAgICBjb2xvcjogW10KICAgICAgfSwgewogICAgICAgIGJhY2tncm91bmQ6IFtdCiAgICAgIH1dLCBbewogICAgICAgIGxpc3Q6ICJvcmRlcmVkIgogICAgICB9LCB7CiAgICAgICAgbGlzdDogImJ1bGxldCIKICAgICAgfV0sIFsibGluayJdXSwKICAgICAgcXVpbGw6ICIiLAogICAgICBxdWlsbF9lZGl0OiAiIiwKICAgICAgaXNfaHRtbF9ib2R5OiBmYWxzZSwKICAgICAgc2xvdF92YXJpYWJsZToge30sCiAgICAgIGN1cnJlbnRfdGVtcGxhdGU6IFtdLAogICAgICBvbGRfdGVtcGxhdGVfbmFtZTogIiIsCiAgICAgIGlzRWRpdFRlbXBsYXRlOiBmYWxzZSwKICAgICAgbnVtYmVyX29mX3Jvd3M6IG51bGwsCiAgICAgIHRvdGFsX3BhZ2VzOiBudWxsLAogICAgICBwYWdlX25vOiAxLAogICAgICBwZXJfcGFnZTogMTAsCiAgICAgIGltYWdlX2ZpbGU6IG51bGwsCiAgICAgIGltYWdlX2ZpbGVfMjogbnVsbCwKICAgICAgaXNfaW1hZ2VfbmVlZGVkOiAibm9uZSIsCiAgICAgIGlzX2VkaXRfaW1hZ2VfbmVlZGVkOiAibm9uZSIsCiAgICAgIGVtYWlsX3N1YmplY3Q6ICIiLAogICAgICByZWdfdXJsOiAvaHR0cHM6XC9cL1sod3d3XC4pP2EtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKFstYS16QS1aMC05QDolX1wrLn4jPyZcL1wvPV0qKS9pLAogICAgICBpc19lZGl0X3JlZ191cmw6IC9odHRwczpcL1wvWyh3d3dcLik/YS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9XC5bYS16XXsyLDZ9XGIoWy1hLXpBLVowLTlAOiVfXCsufiM/JlwvXC89XSopL2ksCiAgICAgIGltZ19yZWRpcmVjdF91cmw6ICIiLAogICAgICBlZGl0X2ltZ19yZWRpcmVjdF91cmw6ICIiLAogICAgICBmaWxlX2xhYmVsOiAiQ2hvb3NlIGZpbGUiLAogICAgICBlZGl0ZWRfZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgcHJldmlld190ZW1wbGF0ZV9kYXRhOiAiIiwKICAgICAgdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0OiBmYWxzZSwKICAgICAgZWRpdF90ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3Q6IGZhbHNlLAogICAgICBwYWdlX2FycmF5OiBbXSwKICAgICAgc2VuZF9lbWFpbF9hbGxfY3VzdG9tZXI6IHRydWUsCiAgICAgIGN1c3RvbWVyc19saXN0OiBbXSwKICAgICAgc3BlY2lmaWNfY3VzdG9tZXJfbGlzdDogW10sCiAgICAgIGRpc2FibGVfYnRuX2V4cGlyZWQ6IGZhbHNlLAogICAgICBlbWFpbF9yZWc6IC9eKChbXjw+KClbXF1cXC4sOzpcc0BcIl0rKFwuW148PigpW1xdXFwuLDs6XHNAXCJdKykqKXwoXCIuK1wiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvLAogICAgICBzZWFyY2hfbmFtZTogIiIsCiAgICAgIGlzVmlzaWJsZVNlYXJjaENsZWFyOiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpc19ub3RpZmljYXRpb25fdGVtcGxhdGU6IEJvb2xlYW4KICB9LAogIHdhdGNoOiB7CiAgICBzZWFyY2hfbmFtZTogZnVuY3Rpb24gc2VhcmNoX25hbWUoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaF9uYW1lID09PSAiIikgewogICAgICAgIHRoaXMubG9hZF90ZW1wbGF0ZXMoKTsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2hfbmFtZSAhPT0gIiIpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gdHJ1ZTsKICAgICAgfQogICAgfSAvLyBpc19ub3RpZmljYXRpb25fdGVtcGxhdGUoKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlKTsKICAgIC8vIH0sCgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbGlkVVJMOiBmdW5jdGlvbiB2YWxpZFVSTCgpIHsKICAgICAgaWYgKHRoaXMucmVnX3VybC50ZXN0KHRoaXMuaW1nX3JlZGlyZWN0X3VybCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZF9lZGl0X1VSTDogZnVuY3Rpb24gdmFsaWRfZWRpdF9VUkwoKSB7CiAgICAgIGlmICh0aGlzLmlzX2VkaXRfcmVnX3VybC50ZXN0KHRoaXMuZWRpdF9pbWdfcmVkaXJlY3RfdXJsKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgdGhpcy4kcm9vdC4kb24oIkVtYWlsVGVtcGxhdGVQYWdlRGlzYWJsZWQiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgIF90aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQgPSB0cnVlOwoKICAgICAgICBfdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLmxvYWRfdGVtcGxhdGVzKCk7CgogICAgaWYgKHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlID09PSBmYWxzZSkgewogICAgICB0aGlzLmxvYWRfY3VzdG9tZXJfbGlzdCgpOwogICAgfQoKICAgIHZhciB2bSA9IHRoaXM7CiAgICAkKCIjc2VsZWN0YWxsIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmlzRWRpdFRlbXBsYXRlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNfc21zID0gZmFsc2U7CiAgICAgIHRoaXMuaXNfZW1haWwgPSB0cnVlOwoKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5lZGl0b3IoKTsKCiAgICBpZiAodGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUgPT09IHRydWUpIHsKICAgICAgdGhpcy5sb2FkX3Nsb3RfdmFyaWFibGUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsZWFyX3NlYXJjaF9uYW1lOiBmdW5jdGlvbiBjbGVhcl9zZWFyY2hfbmFtZSgpIHsKICAgICAgdGhpcy5zZWFyY2hfbmFtZSA9ICIiOwogICAgfSwKICAgIGNhbGxzZWFyY2g6IGZ1bmN0aW9uIGNhbGxzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoX25hbWUgIT0gIiIpIHsKICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfcHJvbW90aW9uYWxfZW1haWxfY2FtcGFpZ24oKSwgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGlzX3NlYXJjaDogdHJ1ZSwKICAgICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUsCiAgICAgICAgICBzZWFyY2hfa2V5OiB0aGlzLnNlYXJjaF9uYW1lCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczIudGVtcGxhdGVsaXN0ID0gW107CiAgICAgICAgICBfdGhpczIubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfZGF0YSA9PSB1bmRlZmluZWQgPyAwIDogcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgICBfdGhpczIudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZSA9PSB1bmRlZmluZWQgPyAwIDogcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX3BhZ2U7CgogICAgICAgICAgaWYgKF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuVEVNUExBVEVfRE9FU19OT1RfRVhJU1RTX01PREVMUy5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzMi50ZW1wbGF0ZWxpc3QgPSBbXTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuYXBpX3N0YXR1c19jb2RlLlRFTVBMQVRFX1NFQVJDSF9SRVNVTFRfTU9ERUxTLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgX3RoaXMyLnRlbXBsYXRlbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS50ZW1wbGF0ZV9zZWFyY2g7CgogICAgICAgICAgICBpZiAoX3RoaXMyLnRlbXBsYXRlbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnNob3dfdGVtcGxhdGUoMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIuaXNFZGl0VGVtcGxhdGUgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIuc2V0cGFnaW5hdGlvbigxKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMyLnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkX3Nsb3RfdmFyaWFibGU6IGZ1bmN0aW9uIGxvYWRfc2xvdF92YXJpYWJsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmZvcm1fYXV0b21hdGlvbl9kaWFsb2dfdHJlZSgpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgIGlzX2dldF9zbG90X3ZhcmlhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChfdGhpczMuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFX01PREVMUy5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzMy5zbG90X3ZhcmlhYmxlID0ge307CgogICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHJlc3BvbnNlLmRhdGEuZGF0YS5zbG90c19saXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICB2YXIgZWxlbWVudCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5zbG90c19saXN0W2luZGV4XTsKICAgICAgICAgICAgX3RoaXMzLnNsb3RfdmFyaWFibGVbZWxlbWVudF0gPSAneycgKyBlbGVtZW50ICsgJ30nOwogICAgICAgICAgfSAvLyB0aGlzLmluc2VydF92YXJpYWJsZSgncXVpbGwnLCB0aGlzLnNsb3RfdmFyaWFibGUpOwoKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuTk9fU0xPVFNfRk9VTkRfTU9ERUxTLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIHRoaXMuaW5zZXJ0X3ZhcmlhYmxlKCdxdWlsbCcsIHRoaXMuc2xvdF92YXJpYWJsZSk7CiAgICAgICAgX3RoaXMzLnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRvcjogZnVuY3Rpb24gZWRpdG9yKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMucXVpbGwgPSBuZXcgUXVpbGwoIiNlZGl0b3IiLCB7CiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgdG9vbGJhcjogW1siYm9sZCIsICJpdGFsaWMiLCAidW5kZXJsaW5lIl0sIFsibGluayJdLCBbewogICAgICAgICAgICBhbGlnbjogW10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBjb2xvcjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogW10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBsaXN0OiAib3JkZXJlZCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGlzdDogImJ1bGxldCIKICAgICAgICAgIH1dXQogICAgICAgIH0sCiAgICAgICAgdGhlbWU6ICJzbm93IgogICAgICB9KTsKICAgICAgdGhpcy5xdWlsbC5vbigidGV4dC1jaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRlbWl0KCJpbnB1dCIsIF90aGlzNC5xdWlsbC5nZXRUZXh0KCkgPyBfdGhpczQucXVpbGwucm9vdC5pbm5lckhUTUwgOiAiIik7CgogICAgICAgIF90aGlzNC5zYXZlX2VtYWlsID0gX3RoaXM0LnF1aWxsLmdldFRleHQoKSA/IF90aGlzNC5xdWlsbC5yb290LmlubmVySFRNTCA6ICIiOwogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSkgewogICAgICAgIHRoaXMuaW5zZXJ0X3ZhcmlhYmxlKCdxdWlsbCcsIHRoaXMuc2xvdF92YXJpYWJsZSk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X2VkaXRvcjogZnVuY3Rpb24gZWRpdF9lZGl0b3IoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5xdWlsbF9lZGl0ID0gbmV3IFF1aWxsKCIjZWRpdF9lZGl0b3IiLCB7CiAgICAgICAgbW9kdWxlczogewogICAgICAgICAgdG9vbGJhcjogW1siYm9sZCIsICJpdGFsaWMiLCAidW5kZXJsaW5lIl0sIFsibGluayJdLCBbewogICAgICAgICAgICBhbGlnbjogW10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBjb2xvcjogW10KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogW10KICAgICAgICAgIH1dLCBbewogICAgICAgICAgICBsaXN0OiAib3JkZXJlZCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGlzdDogImJ1bGxldCIKICAgICAgICAgIH1dXQogICAgICAgIH0sCiAgICAgICAgdGhlbWU6ICJzbm93IgogICAgICB9KTsKICAgICAgdGhpcy5xdWlsbF9lZGl0Lm9uKCJ0ZXh0LWNoYW5nZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuJGVtaXQoImlucHV0IiwgX3RoaXM1LnF1aWxsX2VkaXQuZ2V0VGV4dCgpID8gX3RoaXM1LnF1aWxsX2VkaXQucm9vdC5pbm5lckhUTUwgOiAiIik7CgogICAgICAgIF90aGlzNS5jdXJyZW50X3RlbXBsYXRlLmVtYWlsID0gX3RoaXM1LnF1aWxsX2VkaXQuZ2V0VGV4dCgpID8gX3RoaXM1LnF1aWxsX2VkaXQucm9vdC5pbm5lckhUTUwgOiAiIjsKICAgICAgfSk7CiAgICAgIHRoaXMucXVpbGxfZWRpdC5yb290LmlubmVySFRNTCA9IHRoaXMuY3VycmVudF90ZW1wbGF0ZS5lbWFpbDsKICAgICAgdGhpcy5pbnNlcnRfdmFyaWFibGUoJ3F1aWxsX2VkaXQnLCB0aGlzLnNsb3RfdmFyaWFibGUpOwogICAgfSwKICAgIGluc2VydF92YXJpYWJsZTogZnVuY3Rpb24gaW5zZXJ0X3ZhcmlhYmxlKHZhbCwgc2xvdF92YXJpYWJsZSkgewogICAgICBpZiAodGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUgPT09IHRydWUpIHsKICAgICAgICB2YXIgZHJvcERvd25JdGVtcyA9IHsKICAgICAgICAgICdObyBzbG90IHZhcmlhYmxlJzogJycKICAgICAgICB9OwogICAgICAgIHZhciBteURyb3BEb3duID0gbmV3IFF1aWxsVG9vbGJhckRyb3BEb3duKHsKICAgICAgICAgIGxhYmVsOiAiSW5zZXJ0IFZhcmlhYmxlIiwKICAgICAgICAgIHJlbWVtYmVyU2VsZWN0aW9uOiBmYWxzZSwKICAgICAgICAgIGlkOiAiZHJvcGRvd25faWQiCiAgICAgICAgfSk7CgogICAgICAgIGlmIChPYmplY3QuZW50cmllcyhzbG90X3ZhcmlhYmxlKS5sZW5ndGggPT09IDAgJiYgc2xvdF92YXJpYWJsZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7CiAgICAgICAgICBteURyb3BEb3duLnNldEl0ZW1zKGRyb3BEb3duSXRlbXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBteURyb3BEb3duLnNldEl0ZW1zKHNsb3RfdmFyaWFibGUpOwogICAgICAgIH0KCiAgICAgICAgbXlEcm9wRG93bi5vblNlbGVjdCA9IGZ1bmN0aW9uIChsYWJlbCwgdmFsdWUsIHF1aWxsKSB7CiAgICAgICAgICB2YXIgX3F1aWxsJHNlbGVjdGlvbiRzYXZlID0gcXVpbGwuc2VsZWN0aW9uLnNhdmVkUmFuZ2UsCiAgICAgICAgICAgICAgaW5kZXggPSBfcXVpbGwkc2VsZWN0aW9uJHNhdmUuaW5kZXgsCiAgICAgICAgICAgICAgbGVuZ3RoID0gX3F1aWxsJHNlbGVjdGlvbiRzYXZlLmxlbmd0aDsKICAgICAgICAgIHF1aWxsLmRlbGV0ZVRleHQoaW5kZXgsIGxlbmd0aCk7CiAgICAgICAgICBxdWlsbC5pbnNlcnRUZXh0KGluZGV4LCB2YWx1ZSk7CiAgICAgICAgICBxdWlsbC5zZXRTZWxlY3Rpb24oaW5kZXggKyB2YWx1ZS5sZW5ndGgpOwogICAgICAgIH07CgogICAgICAgIG15RHJvcERvd24uYXR0YWNoKHRoaXMucXVpbGwpOwoKICAgICAgICBpZiAodmFsID09PSAncXVpbGxfZWRpdCcpIHsKICAgICAgICAgIG15RHJvcERvd24uYXR0YWNoKHRoaXMucXVpbGxfZWRpdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkVGFnOiBmdW5jdGlvbiBhZGRUYWcobmV3VGFnKSB7CiAgICAgIHZhciB0YWdfbGlzdCA9IFtdOwogICAgICB0YWdfbGlzdCA9IG5ld1RhZy5zcGxpdCgiLCIpOwoKICAgICAgaWYgKHRhZ19saXN0Lmxlbmd0aCA+IDIpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF90ZW1wX2FkZF92YWxpZF90YWdfbXNnJyksCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIHRpbWVyOiA0NTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBlbWFpbCA9IHRhZ19saXN0WzBdOwogICAgICAgIHZhciBjdXN0b21lcl9uYW1lID0gQm9vbGVhbih0YWdfbGlzdFsxXSkgPyB0YWdfbGlzdFsxXSA6ICIgIjsKCiAgICAgICAgaWYgKCF0aGlzLmVtYWlsX3JlZy50ZXN0KGVtYWlsKSkgewogICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF90ZW1wX3ZhbGlkX2VtYWlsX2FkZHJfbXNnJyksCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgIHRpbWVyOiA0NTAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciB0YWcgPSB7CiAgICAgICAgY3VzdG9tZXJfbmFtZTogY3VzdG9tZXJfbmFtZSwKICAgICAgICBlbWFpbDogZW1haWwKICAgICAgfTsKICAgICAgdGhpcy5jdXN0b21lcnNfbGlzdC5wdXNoKHRhZyk7CiAgICAgIHRoaXMuc3BlY2lmaWNfY3VzdG9tZXJfbGlzdC5wdXNoKHRhZyk7CiAgICB9LAogICAgbG9hZF9jdXN0b21lcl9saXN0OiBmdW5jdGlvbiBsb2FkX2N1c3RvbWVyX2xpc3QoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5zZW5kX29mZmVyX3RvX2N1c3RvbWVycygpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGdldF9jdXN0b21lcnNfbGlzdDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM2LnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICBpZiAoX3RoaXM2LmFwaV9zdGF0dXNfY29kZS5TVEFUVVNfU1VDQ0VTU19NT0RFTFMuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXM2LmN1c3RvbWVyc19saXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhLmN1c3RvbWVyc19saXN0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzNi5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczYuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzOiBmdW5jdGlvbiBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKSB7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb2R1Y3Rfc2V0dGluZ3MoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNfZW1haWxfdmVyaWZpY2F0aW9uX3N0YXR1czogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM3LnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIGlmIChfdGhpczcuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczcudmVyaWZpY2F0aW9uX3N0YXR1cyA9IHJlc3BvbnNlLmRhdGEuZGF0YS52ZXJpZmljYXRpb25fc3RhdHVzOyAvLyBjb25zb2xlLmxvZyh0aGlzLnZlcmlmaWNhdGlvbl9zdGF0dXMpOwoKICAgICAgICAgICAgaWYgKF90aGlzNy52ZXJpZmljYXRpb25fc3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgICAgIC8vIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInB1Ymxpc2hfdGVtcGxhdGVfYnRuIikuZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAkKCIjc2VuZGVtYWlsIikubW9kYWwoInNob3ciKTsKCiAgICAgICAgICAgICAgX3RoaXM3LmxvYWRfY3VzdG9tZXJfbGlzdCgpOyAvLyB9CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGV4dDogX3RoaXM3LnRsdCgnZW1haWxfdGVtcF9ub3RfY29uZmlnX2luc3RydWN0aW9uX21zZycpLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgdGltZXI6IDEzMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM3LmFwaV9zdGF0dXNfY29kZS5FTUFJTF9OT1RfQ09ORklHVVJFRC5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogX3RoaXM3LnRsdCgnZW1haWxfdGVtcF9ub3RfY29uZmlnX2luc3RydWN0aW9uX21zZzEnKSwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgdGltZXI6IDEzMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczcuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoX3RoaXM3LnRsdCgnZW1haWxfdGVtcF9ub3RfY29uZmlnX2Vycm9yX29jY3VyX21zZycpKTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXM3LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKCk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZV90ZW1wbGF0ZV9uYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZV90ZW1wbGF0ZV9uYW1lKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsX2NhbXBhaWduKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICBpc190ZW1wbGF0ZV9wcmVzZW50OiB0cnVlLAogICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUsCiAgICAgICAgdGVtcGxhdGVfbmFtZTogdGhpcy50ZW1wbGF0ZV9uYW1lCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAoX3RoaXM4LmFwaV9zdGF0dXNfY29kZS5OT1RfRVhJU1RTX01PREVMUy5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzOC50ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSBmYWxzZTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZW1wbGF0ZV9uYW1lX2FkZF9pZCIpLnN0eWxlLmJvcmRlciA9IG51bGw7CgogICAgICAgICAgaWYgKF90aGlzOC50ZW1wbGF0ZV9uYW1lICE9ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZW1wbGF0ZV9uYW1lX2FkZF9pZCIpLnN0eWxlLmJvcmRlciA9ICIxcHggc29saWQgIzAwZjAwMCI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczguYXBpX3N0YXR1c19jb2RlLkFMUkVBRFlfRVhJU1RTX01PREVMUy5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzOC50ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSB0cnVlOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlbXBsYXRlX25hbWVfYWRkX2lkIikuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCByZWQiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM4LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGVfZWRpdF90ZW1wbGF0ZV9uYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZV9lZGl0X3RlbXBsYXRlX25hbWUoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfcHJvbW90aW9uYWxfZW1haWxfY2FtcGFpZ24oKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgIGlzX3RlbXBsYXRlX3ByZXNlbnQ6IHRydWUsCiAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICB0ZW1wbGF0ZV9uYW1lOiB0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfbmFtZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKF90aGlzOS5hcGlfc3RhdHVzX2NvZGUuTk9UX0VYSVNUU19NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczkuZWRpdF90ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSBmYWxzZTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZGl0X3RlbXBsYXRlX25hbWVfaWQiKS5zdHlsZS5ib3JkZXIgPSBudWxsOwoKICAgICAgICAgIGlmIChfdGhpczkuY3VycmVudF90ZW1wbGF0ZS50ZW1wbGF0ZV9uYW1lICE9ICIiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZGl0X3RlbXBsYXRlX25hbWVfaWQiKS5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkICMwMGYwMDAiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoX3RoaXM5LmFwaV9zdGF0dXNfY29kZS5BTFJFQURZX0VYSVNUU19NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBpZiAoX3RoaXM5Lm9sZF90ZW1wbGF0ZV9uYW1lID09IF90aGlzOS5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX25hbWUpIHsKICAgICAgICAgICAgX3RoaXM5LmVkaXRfdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0ID0gZmFsc2U7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZGl0X3RlbXBsYXRlX25hbWVfaWQiKS5zdHlsZS5ib3JkZXIgPSBudWxsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM5LmVkaXRfdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0ID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVkaXRfdGVtcGxhdGVfbmFtZV9pZCIpLnN0eWxlLmJvcmRlciA9ICIxcHggc29saWQgcmVkIjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzOS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHByZXZpZXdfdGVtcGxhdGU6IGZ1bmN0aW9uIHByZXZpZXdfdGVtcGxhdGUoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfcHJvbW90aW9uYWxfZW1haWxfY2FtcGFpZ24oKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGlzX3ByZXZpZXc6IHRydWUsCiAgICAgICAgdGVtcGxhdGVfaWQ6IHRoaXMuY3VycmVudF90ZW1wbGF0ZS50ZW1wbGF0ZV9pZCwKICAgICAgICBpc19ub3RpZmljYXRpb246IHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczEwLnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICBpZiAoX3RoaXMxMC5hcGlfc3RhdHVzX2NvZGUuVEVNUExBVEVfUkVDRUlWRURfTU9ERUxTLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXMxMC5wcmV2aWV3X3RlbXBsYXRlX2RhdGEgPSByZXNwb25zZS5kYXRhLmRhdGEuVGVtcGxhdGU7CiAgICAgICAgICAkKCIjcHJldmlld190ZW1wbGF0ZV92aXNpYmxlIikubW9kYWwoInNob3ciKTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTAuYXBpX3N0YXR1c19jb2RlLlRFTVBMQVRFX0RPRVNfTk9UX0VYSVNUU19NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxMC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczEwLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VuZF9lbWFpbF9jb25maXJtX3Byb21wdF90ZXh0OiBmdW5jdGlvbiBzZW5kX2VtYWlsX2NvbmZpcm1fcHJvbXB0X3RleHQoYWxsX2N1c3RvbWVyKSB7CiAgICAgIGlmIChhbGxfY3VzdG9tZXIpIHsKICAgICAgICByZXR1cm4gdGhpcy50bHQoJ2VtYWlsX3RlbXBfc2VuZF9idWxrX2VtYWlsX21zZycpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLnRsdCgnZW1haWxfdGVtcF9zZW5kX3NwZWNpZmljX2N1c3RvbWVyX21zZycpOwogICAgICB9CiAgICB9LAogICAgc2VuZF9lbWFpbDogZnVuY3Rpb24gc2VuZF9lbWFpbCgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnNlbmRfZW1haWxfYWxsX2N1c3RvbWVyKSB7CiAgICAgICAgaWYgKCFCb29sZWFuKHRoaXMuc3BlY2lmaWNfY3VzdG9tZXJfbGlzdC5sZW5ndGggPiAwKSkgewogICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF90ZW1wX3NlbGVjdF9vbmVfZW1haWxfbXNnJyksCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogdGhpcy5zZW5kX2VtYWlsX2NvbmZpcm1fcHJvbXB0X3RleHQodGhpcy5zZW5kX2VtYWlsX2FsbF9jdXN0b21lciksCiAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc3dhbF9jb25maXJtX21zZycpLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdlbWFpbF90ZW1wX3N3YWxfeWVzX21zZycpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICQoIiNzZW5kZW1haWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgX3RoaXMxMS5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc2VuZF9vZmZlcl90b19jdXN0b21lcnMoKSwgewogICAgICAgICAgICBjb21wYW55X2lkOiBfdGhpczExLmNvbXBhbnlfaWQsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXMxMS5jb21wYW55X25hbWUsCiAgICAgICAgICAgIGVtYWlsOiBfdGhpczExLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczExLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiBfdGhpczExLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBzZW5kX2VtYWlsOiB0cnVlLAogICAgICAgICAgICBzZW5kX2VtYWlsX2FsbF9jdXN0b21lcjogX3RoaXMxMS5zZW5kX2VtYWlsX2FsbF9jdXN0b21lciwKICAgICAgICAgICAgc3BlY2lmaWNfY3VzdG9tZXJfbGlzdDogX3RoaXMxMS5zZW5kX2VtYWlsX2FsbF9jdXN0b21lciAhPSB0cnVlID8gX3RoaXMxMS5zcGVjaWZpY19jdXN0b21lcl9saXN0IDogW10sCiAgICAgICAgICAgIHRlbXBsYXRlX2lkOiBfdGhpczExLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfaWQKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXMxMS4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzMTEuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgICAgICBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuU0VORElOR19FTUFJTF9NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgLy8gdGhpcy5zYXZlX3N1YmplY3QgPSAiIjsKICAgICAgICAgICAgICAvLyAkKCIjcHVibGlzaHRlbXBsYXRlbW9kZWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxMS50bHQoJ2VtYWlsX3RlbXBfc2VudF9zdWNjZXNzZnVsX21zZycpLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGltZXI6IDUwMDAsCiAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMxMS50bHQoJ2VtYWlsX3RlbXBfc3dhbF9zdWNjZXNzX21zZycpCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAkKCIjc2VuZGVtYWlsIikubW9kYWwoImhpZGUiKTsKCiAgICAgICAgICAgICAgICBfdGhpczExLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuVVBHUkFERV9QTEFOX1RPX1NFTkRfRU1BSUxfTU9ERUxTLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxMS50bHQoJ2VtYWlsX3RlbXBfdXBncmFkZV9wbGFuX21zZycpLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IF90aGlzMTEudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9ub3dfbXNnJyksCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBfdGhpczExLnRsdCgnZW1haWxfdGVtcF9zd2FsX3VwZ3JhZGVfbGF0ZXJfbXNnJyksCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMS4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTZXR0aW5ncycsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICBTdWJzY3JpcHRpb246IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMxMS5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIF90aGlzMTEuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0ZWRfdGVtcGxhdGVzOiBmdW5jdGlvbiBzZWxlY3RlZF90ZW1wbGF0ZXModmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09ICJhbGwiKSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZW1wbGF0ZWxpc3QpIHsKICAgICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh0aGlzLnRlbXBsYXRlbGlzdFtpXS50ZW1wbGF0ZV9pZCk7CiAgICAgICAgICB9CgogICAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwoKICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgJCgiIyIgKyBbX2ldKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgICQoIiNzZWxlY3RhbGwiKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICghZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh2YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICghZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CgogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkKSB7CiAgICAgICAgICAgIHNlbGVjdGFsbC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoZnVuY3Rpb24gKHRlbXBsYXRlc19pZCkgewogICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVzX2lkICE9IHZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbG9hZF90ZW1wbGF0ZXM6IGZ1bmN0aW9uIGxvYWRfdGVtcGxhdGVzKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsX2NhbXBhaWduKCksIHsKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTIuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChfdGhpczEyLmFwaV9zdGF0dXNfY29kZS5TVEFUVVNfU1VDQ0VTU19NT0RFTFMuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXMxMi5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhID09IHVuZGVmaW5lZCA/IDAgOiByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfZGF0YTsKICAgICAgICAgIF90aGlzMTIudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZSA9PSB1bmRlZmluZWQgPyAwIDogcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX3BhZ2U7CiAgICAgICAgICBfdGhpczEyLnRlbXBsYXRlbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICBpZiAoX3RoaXMxMi50ZW1wbGF0ZWxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvLyB0aGlzLmN1cnJlbnRfdGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlbGlzdFswXTsKICAgICAgICAgICAgX3RoaXMxMi5zaG93X3RlbXBsYXRlKDApOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMTIuaXNFZGl0VGVtcGxhdGUgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTIuYXBpX3N0YXR1c19jb2RlLlVOU1VDQ0VTU0ZVTF9EQl9PUEVSQVRJT05fTU9ERUxTLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzMTIudGVtcGxhdGVsaXN0ID0gW107CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzMTIuc2V0cGFnaW5hdGlvbihfdGhpczEyLnBhZ2Vfbm8pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTIuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMxMi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGZpbGVpbnB1dDE6IGZ1bmN0aW9uIGZpbGVpbnB1dDEoZSkgewogICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKCiAgICAgIGlmIChmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvcG5nIiB8fCBmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvanBlZyIpIHsKICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuOwogICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9IGZpbGVzWzBdLm5hbWU7CiAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShmaWxlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF9pbWFnZV90eXBlX21zZzEnKSwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlSW1hZ2U6IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKGZpbGUsIHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczEzLmltYWdlX2ZpbGUgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKICAgIGZpbGVpbnB1dDI6IGZ1bmN0aW9uIGZpbGVpbnB1dDIoZSkgewogICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKCiAgICAgIGlmIChmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvcG5nIiB8fCBmaWxlc1swXS50eXBlID09PSAiaW1hZ2UvanBlZyIpIHsKICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuOwogICAgICAgIHRoaXMub2xkX2VkaXRlZF9pbWFnZV9uYW1lID0gdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbDsKICAgICAgICB0aGlzLmVkaXRlZF9maWxlX2xhYmVsID0gZmlsZXNbMF0ubmFtZTsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlMihmaWxlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF9pbWFnZV90eXBlX21zZzInKSwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlSW1hZ2UyOiBmdW5jdGlvbiBjcmVhdGVJbWFnZTIoZmlsZSwgdHlwZSkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTQuaW1hZ2VfZmlsZV8yID0gZS50YXJnZXQucmVzdWx0LnNwbGl0KCJiYXNlNjQsIilbMV07CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICBjcmVhdGVfVVVJRDogZnVuY3Rpb24gY3JlYXRlX1VVSUQoKSB7CiAgICAgIHZhciBkdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICB2YXIgdXVpZCA9ICJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHsKICAgICAgICB2YXIgciA9IChkdCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7CiAgICAgICAgZHQgPSBNYXRoLmZsb29yKGR0IC8gMTYpOwogICAgICAgIHJldHVybiAoYyA9PSAieCIgPyByIDogciAmIDB4MyB8IDB4OCkudG9TdHJpbmcoMTYpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHV1aWQ7CiAgICB9LAogICAgcGFnZV9yZXF1aXJlOiBmdW5jdGlvbiBwYWdlX3JlcXVpcmUocGFnZSkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICBpZiAocGFnZSA9PSAwIHx8IHBhZ2UgPT0gdGhpcy50b3RhbF9wYWdlcyArIDEpIHt9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnNlYXJjaF9uYW1lID09ICIiKSB7CiAgICAgICAgICBpZiAocGFnZSA9PSAiLi4ucyIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIGlmIChwYWdlID09ICIuLi5sIikgewogICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKHRoaXMudG90YWxfcGFnZXMgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlOwogICAgICAgICAgfQoKICAgICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsX2NhbXBhaWduKCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUsCiAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzMTUuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgICAgICBpZiAoX3RoaXMxNS5hcGlfc3RhdHVzX2NvZGUuU1RBVFVTX1NVQ0NFU1NfTU9ERUxTLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBfdGhpczE1Lm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGEgPT0gdW5kZWZpbmVkID8gMCA6IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhOwogICAgICAgICAgICAgIF90aGlzMTUudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZSA9PSB1bmRlZmluZWQgPyAwIDogcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX3BhZ2U7CiAgICAgICAgICAgICAgX3RoaXMxNS50ZW1wbGF0ZWxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CgogICAgICAgICAgICAgIGlmIChfdGhpczE1LnRlbXBsYXRlbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczE1LmN1cnJlbnRfdGVtcGxhdGUgPSBfdGhpczE1LnRlbXBsYXRlbGlzdFswXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMTUuaXNFZGl0VGVtcGxhdGUgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczE1LmFwaV9zdGF0dXNfY29kZS5VTlNVQ0NFU1NGVUxfREJfT1BFUkFUSU9OX01PREVMUy5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgX3RoaXMxNS50ZW1wbGF0ZWxpc3QgPSBbXTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczE1LnNldHBhZ2luYXRpb24oX3RoaXMxNS5wYWdlX25vKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzMTUuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICBfdGhpczE1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHBhZ2UgPT0gIi4uLnMiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSBpZiAocGFnZSA9PSAiLi4ubCIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gcGFnZTsKICAgICAgICAgIH0KCiAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9wcm9tb3Rpb25hbF9lbWFpbF9jYW1wYWlnbigpLCB7CiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgaXNfc2VhcmNoOiB0cnVlLAogICAgICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICBpc19ub3RpZmljYXRpb246IHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlLAogICAgICAgICAgICBzZWFyY2hfa2V5OiB0aGlzLnNlYXJjaF9uYW1lCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczE1LnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczE1LnRlbXBsYXRlbGlzdCA9IFtdOwogICAgICAgICAgICBfdGhpczE1Lm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGEgPT0gdW5kZWZpbmVkID8gMCA6IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9kYXRhOwogICAgICAgICAgICBfdGhpczE1LnRvdGFsX3BhZ2VzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX3BhZ2UgPT0gdW5kZWZpbmVkID8gMCA6IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlOwoKICAgICAgICAgICAgaWYgKF90aGlzMTUuYXBpX3N0YXR1c19jb2RlLlRFTVBMQVRFX0RPRVNfTk9UX0VYSVNUU19NT0RFTFMuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIF90aGlzMTUudGVtcGxhdGVsaXN0ID0gW107CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTUuYXBpX3N0YXR1c19jb2RlLlRFTVBMQVRFX1NFQVJDSF9SRVNVTFRfTU9ERUxTLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBfdGhpczE1LnRlbXBsYXRlbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS50ZW1wbGF0ZV9zZWFyY2g7CgogICAgICAgICAgICAgIGlmIChfdGhpczE1LnRlbXBsYXRlbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczE1LnNob3dfdGVtcGxhdGUoMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMxNS5pc0VkaXRUZW1wbGF0ZSA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMxNS5zZXRwYWdpbmF0aW9uKDEpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMxNS5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIF90aGlzMTUuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNldHBhZ2luYXRpb246IGZ1bmN0aW9uIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKCiAgICAgIGlmICh0aGlzLnRvdGFsX3BhZ2VzIDw9IDcpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IDEpIHsKICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCA0OyBfaTIrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kyICsgMSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcykgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CgogICAgICAgIGZvciAodmFyIF9pMyA9IHRoaXMudG90YWxfcGFnZXMgLSA0OyBfaTMgPCB0aGlzLnRvdGFsX3BhZ2VzOyBfaTMrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kzICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPD0gNCkgewogICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHBhZ2Vfbm8gKyAzOyBfaTQrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2k0ICsgMSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPj0gdGhpcy50b3RhbF9wYWdlcyAtIDQpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwoKICAgICAgICBmb3IgKHZhciBfaTUgPSBwYWdlX25vIC0gNDsgX2k1IDwgdGhpcy50b3RhbF9wYWdlczsgX2k1KyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKF9pNSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwoKICAgICAgICBmb3IgKHZhciBfaTYgPSBwYWdlX25vIC0gMzsgX2k2IDw9IHBhZ2Vfbm8gKyAzOyBfaTYrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2k2KTsKICAgICAgICB9CgogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0aW9uX2NsYXNzOiBmdW5jdGlvbiBwYWdpbmF0aW9uX2NsYXNzKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSB0aGlzLnBhZ2Vfbm8pIHsKICAgICAgICByZXR1cm4gIiBhY3RpdmUiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHNhdmVfdGVtcGxhdGU6IGZ1bmN0aW9uIHNhdmVfdGVtcGxhdGUoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlX25hbWUgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9tb2RlbF90ZW1wbGF0ZV9uYW1lX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy50ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPT0gdHJ1ZSkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX25hbWVfZXhpc3RfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmVtYWlsX3N1YmplY3QgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9tb2RlbF9lbnRlcl9zdWJqZWN0X21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19zbXMgPT0gdHJ1ZSAmJiB0aGlzLnNhdmVfc21zID09ICIiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfZW50ZXJfc21zX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19lbWFpbCA9PSB0cnVlICYmIHRoaXMuc2F2ZV9lbWFpbCA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX2VudGVyX2VtYWlsX2JvZHlfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2VtYWlsID09IGZhbHNlICYmIHRoaXMuaXNfc21zID09IGZhbHNlKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfc2VsZWN0X29wdGlvbl9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNfaW1hZ2VfbmVlZGVkID09ICJ5ZXMiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEZpbGUiKS52YWx1ZSA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX2Nob29zZV9pbWdfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2ltYWdlX25lZWRlZCA9PSAieWVzIiAmJiAhdGhpcy52YWxpZFVSTCkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX3ZhbGlkX3VybF9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmlzX2h0bWxfYm9keSkgdGhpcy5pc19pbWFnZV9uZWVkZWQgPSAnbm9uZSc7CiAgICAgICAgdmFyIHV1aWQgPSB0aGlzLmNyZWF0ZV9VVUlEKCk7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfcHJvbW90aW9uYWxfZW1haWxfY2FtcGFpZ24oKSwgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGlzX3NhdmU6IHRydWUsCiAgICAgICAgICBpc19ub3RpZmljYXRpb246IHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlLAogICAgICAgICAgdGVtcGxhdGVfaWQ6IHV1aWQsCiAgICAgICAgICB0ZW1wbGF0ZV9uYW1lOiB0aGlzLnRlbXBsYXRlX25hbWUsCiAgICAgICAgICBzYXZlX2VtYWlsOiB0aGlzLmlzX2VtYWlsID09IHRydWUgPyB0aGlzLnNhdmVfZW1haWwgOiBudWxsLAogICAgICAgICAgc2F2ZV9zbXM6IHRoaXMuaXNfc21zID09IHRydWUgPyB0aGlzLnNhdmVfc21zIDogbnVsbCwKICAgICAgICAgIGVtYWlsX3N1YmplY3Q6IHRoaXMuZW1haWxfc3ViamVjdCwKICAgICAgICAgIGVtYWlsX2ltZ19maWxlOiB0aGlzLmlzX2ltYWdlX25lZWRlZCA9PT0gIm5vbmUiID8gbnVsbCA6IHRoaXMuaW1hZ2VfZmlsZSwKICAgICAgICAgIGVtYWlsX2ltZ19uYW1lOiB0aGlzLmZpbGVfbGFiZWwsCiAgICAgICAgICBlbWFpbF9pbWdfbGluazogdGhpcy5pbWdfcmVkaXJlY3RfdXJsLAogICAgICAgICAgaXNfaHRtbF9ib2R5OiB0aGlzLmlzX2h0bWxfYm9keQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKF90aGlzMTYuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUllfTU9ERUxTLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNi50bHQoJ2VtYWlsX21vZGVsX2RhdGFfYWRkZWRfc3VjY2Vzc2Z1bF9tc2cnKSwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICBfdGhpczE2LmVtcHR5X3ZhcmlhYmxlKCk7CgogICAgICAgICAgICAgIF90aGlzMTYubG9hZF90ZW1wbGF0ZXMoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTYuYXBpX3N0YXR1c19jb2RlLklNR19EVVBMSUNBVEVfTU9ERUxTLk1TR19DT0RFID09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRleHQ6IF90aGlzMTYudGx0KCdlbWFpbF9tb2RlbF9pbWdfYWxyZWFkeV9mb3VuZF9tc2cnKSwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTYuZW1wdHlfdmFyaWFibGUoKTsKCiAgICAgICAgICAgIF90aGlzMTYubG9hZF90ZW1wbGF0ZXMoKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxNi5hcGlfc3RhdHVzX2NvZGUuVU5TVUNDRVNTRlVMX0RCX09QRVJBVElPTl9NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMTYuZW1wdHlfdmFyaWFibGUoKTsKCiAgICAgICAgICAgIF90aGlzMTYubG9hZF90ZW1wbGF0ZXMoKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgdGV4dDogX3RoaXMxNi50bHQoJ2VtYWlsX21vZGVsX2Vycm9yX29jY3VyX21zZzInKSwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczE2LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuY2xvc2VfbW9kYWwoInNhdmVfdGVtcGxhdGVfYnRuIik7IC8vIFN3YWwuZmlyZSh7CiAgICAgICAgLy8gICB0aXRsZTogdGhpcy50bHQoJ2VtYWlsX21vZGVsX3N3YWxfYWxlcnRfbXNnJyksCiAgICAgICAgLy8gICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfYWRkX2N1cnJlbnRfdGVtcGxhdGVfbXNnJyksCiAgICAgICAgLy8gICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIC8vICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAvLyAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIC8vICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICAvLyAgIGNvbmZpcm1CdXR0b25UZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfc3dhbF9jb25maXJtX21zZycpLAogICAgICAgIC8vIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgIC8vICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgIC8vICAgICBTd2FsKHsKICAgICAgICAvLyAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfc3VibWl0X2RldGFpbHNfbXNnJyksCiAgICAgICAgLy8gICAgICAgdHlwZTogImluZm8iLAogICAgICAgIC8vICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIC8vICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAvLyAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X3RlbXBsYXRlOiBmdW5jdGlvbiBlZGl0X3RlbXBsYXRlKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX25hbWUgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9lZGl0X3RlbXBsYXRlX25hbWVfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmVkaXRfdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0ID09IHRydWUpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9lZGl0X25hbWVfYWxyZWFkeV9leGlzdF9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudF90ZW1wbGF0ZS5zdWJqZWN0ID09ICIiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF9lbnRlcl9zdWJqZWN0X21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19lZGl0X3NtcyA9PSB0cnVlICYmICh0aGlzLmN1cnJlbnRfdGVtcGxhdGUuc21zID09IG51bGwgfHwgdGhpcy5jdXJyZW50X3RlbXBsYXRlLnNtcyA9PSAiIikpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9lZGl0X2VudGVyX3Ntc19tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNfZWRpdF9lbWFpbCA9PSB0cnVlICYmICh0aGlzLmN1cnJlbnRfdGVtcGxhdGUuZW1haWwgPT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuZW1haWwgPT0gIiIpKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF9lbnRlcl9lbWFpbF9ib2R5X21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19lZGl0X2VtYWlsID09IGZhbHNlICYmIHRoaXMuaXNfZWRpdF9zbXMgPT0gZmFsc2UpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9lZGl0X3NlbGVjdF9vcHRpb25fbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID09ICJ5ZXMiICYmICF0aGlzLnZhbGlkX2VkaXRfVVJMKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF92YWxpZF91cmxfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID09ICJ5ZXMiICYmIHRoaXMuZWRpdGVkX2ZpbGVfbGFiZWwgPT0gIkNob29zZSBmaWxlIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXRGaWxlMiIpLnZhbHVlID09ICIiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF9jaG9vc2VfaW1nX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuaXNfaHRtbF9ib2R5KSB0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID0gJ25vbmUnOwogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX2VkaXRfc3VibWl0X2RldGFpbHNfbXNnJyksCiAgICAgICAgICB0eXBlOiAiaW5mbyIsCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsX2NhbXBhaWduKCksIHsKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICBpc19lZGl0OiB0cnVlLAogICAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICAgIHRlbXBsYXRlX2lkOiB0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfaWQsCiAgICAgICAgICB0ZW1wbGF0ZV9uYW1lOiB0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfbmFtZSwKICAgICAgICAgIGVtYWlsX3N1YmplY3Q6IHRoaXMuY3VycmVudF90ZW1wbGF0ZS5zdWJqZWN0LAogICAgICAgICAgc2F2ZV9lbWFpbDogdGhpcy5pc19lZGl0X2VtYWlsID09IHRydWUgPyB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuZW1haWwgOiBudWxsLAogICAgICAgICAgc2F2ZV9zbXM6IHRoaXMuaXNfZWRpdF9zbXMgPT0gdHJ1ZSA/IHRoaXMuY3VycmVudF90ZW1wbGF0ZS5zbXMgOiBudWxsLAogICAgICAgICAgZW1haWxfaW1nX2ZpbGU6IHRoaXMuaXNfZWRpdF9pbWFnZV9uZWVkZWQgPT09ICJub25lIiA/IG51bGwgOiB0aGlzLmltYWdlX2ZpbGVfMiwKICAgICAgICAgIGVtYWlsX2ltZ19uYW1lOiB0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID09PSAibm9uZSIgPyBudWxsIDogdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbCwKICAgICAgICAgIGVtYWlsX2ltZ19saW5rOiB0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID09PSAibm9uZSIgPyBudWxsIDogdGhpcy5lZGl0X2ltZ19yZWRpcmVjdF91cmwsCiAgICAgICAgICBpc19pbWFnZV9lZGl0OiB0aGlzLmVkaXRlZF9maWxlX2xhYmVsICE9IHRoaXMub2xkX2VkaXRlZF9pbWFnZV9uYW1lID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgaXNfaW1hZ2VfcHJlc2VudDogdGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9PT0gIm5vbmUiID8gZmFsc2UgOiB0cnVlLAogICAgICAgICAgb2xkX2ltYWdlOiB0aGlzLm9sZF9lZGl0ZWRfaW1hZ2VfbmFtZSA9PSAiQ2hvb3NlIEZpbGUiID8gbnVsbCA6IHRoaXMub2xkX2VkaXRlZF9pbWFnZV9uYW1lLAogICAgICAgICAgaXNfaHRtbF9ib2R5OiB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuaXNfaHRtbF9ib2R5CiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAoX3RoaXMxNy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWV9NT0RFTFMuTVNHX0NPREUgPT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0ZXh0OiBfdGhpczE3LnRsdCgnZW1haWxfZWRpdF9kYXRhX2VkaXRfc3VjY2Vzc2Z1bF9tc2cnKSwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICBfdGhpczE3LmxvYWRfdGVtcGxhdGVzKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczE3LmFwaV9zdGF0dXNfY29kZS5JTUdfRFVQTElDQVRFX01PREVMUy5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0RmlsZTIiKS52YWx1ZSA9ICIiOwogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiBfdGhpczE3LnRsdCgnZW1haWxfZWRpdF9pbWdfYWxyZWFkeV9mb3VuZF9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczE3LmFwaV9zdGF0dXNfY29kZS5VTlNVQ0NFU1NGVUxfREJfT1BFUkFUSU9OX01PREVMUy5NU0dfQ09ERSA9PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXMxNy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgdGV4dDogX3RoaXMxNy50bHQoJ2VtYWlsX2VkaXRfZXJyb3Jfb2NjdXJfbXNnMicpLAogICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVfc2VsZWN0ZWQ6IGZ1bmN0aW9uIGRlbGV0ZV9zZWxlY3RlZCgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnZW1haWxfdGVtcF9ub190ZW1wbGF0ZV9zZWxlY3RfbXNnJyksCiAgICAgICAgICB0ZXh0OiAiIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc3dhbF9hbGVydF9tc2cyJyksCiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF9zd2FsX2RlbGV0ZV9jdXJyZW50X3RlbXBsYXRlX21zZycpLAogICAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc3dhbF9jb25maXJtX21zZycpCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzMTguZGVsZXRlX3RlbXBsYXRlcyhfdGhpczE4LmNoZWNrZWRfbGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVfdGVtcGxhdGVzOiBmdW5jdGlvbiBkZWxldGVfdGVtcGxhdGVzKGNoZWNrZWRfbGlzdCkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsX2NhbXBhaWduKCksIHsKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBpc19kZWxldGU6IHRydWUsCiAgICAgICAgdGVtcGxhdGVfbGlzdDogY2hlY2tlZF9saXN0LAogICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTkuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChfdGhpczE5LmFwaV9zdGF0dXNfY29kZS5ERUxFVEVEX1NVQ0NFU1NGVUxMWV8wMDA0X01PREVMUy5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICB0ZXh0OiBfdGhpczE5LnRsdCgnZW1haWxfdGVtcF9kYXRhX2RlbGV0ZWRfbXNnJyksCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgX3RoaXMxOS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwoKICAgICAgICAgICAgX3RoaXMxOS5sb2FkX3RlbXBsYXRlcygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczE5LmFwaV9zdGF0dXNfY29kZS5VTlNVQ0NFU1NGVUxfREJfT1BFUkFUSU9OX01PREVMUy5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczE5LmFwaV9zdGF0dXNfY29kZS5OT1RISU5HX1RPX0RFTEVURV9NT0RFTFMuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTkuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMxOS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dfdGVtcGxhdGU6IGZ1bmN0aW9uIHNob3dfdGVtcGxhdGUoaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0VGVtcGxhdGUpIHsKICAgICAgICB0aGlzLmVkaXRfdGVtcGxhdGVfZGV0YWlscygpOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRfdGVtcGxhdGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudGVtcGxhdGVsaXN0W2luZGV4XSkpOwogICAgICB0aGlzLm9sZF90ZW1wbGF0ZV9uYW1lID0gdGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX25hbWU7CiAgICAgIHRoaXMuY3VycmVudF90ZW1wbGF0ZV9pbmRleCA9IGluZGV4OwoKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX2ltYWdlX25hbWUpID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9ICJ5ZXMiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNfZWRpdF9pbWFnZV9uZWVkZWQgPSAibm9uZSI7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlbGlzdFtpbmRleF0uZW1haWwgIT0gbnVsbCkgewogICAgICAgIHRoaXMuaXNfZWRpdF9lbWFpbCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc19lZGl0X2VtYWlsID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlbGlzdFtpbmRleF0uc21zICE9IG51bGwpIHsKICAgICAgICB0aGlzLmlzX2VkaXRfc21zID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX2VkaXRfc21zID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChCb29sZWFuKHRoaXMuY3VycmVudF90ZW1wbGF0ZS50ZW1wbGF0ZV9pbWFnZV9uYW1lKSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuZWRpdGVkX2ZpbGVfbGFiZWwgPSB0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfaW1hZ2VfbmFtZTsKICAgICAgICB0aGlzLm9sZF9lZGl0ZWRfaW1hZ2VfbmFtZSA9IHRoaXMuZWRpdGVkX2ZpbGVfbGFiZWw7CiAgICAgICAgdGhpcy5lZGl0X2ltZ19yZWRpcmVjdF91cmwgPSB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuaW1hZ2VfcmVkaXJlY3RfdXJsOwoKICAgICAgICBpZiAodGhpcy5lZGl0ZWRfZmlsZV9sYWJlbCA9PSAiIikgewogICAgICAgICAgdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZWRpdGVkX2ZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgIHRoaXMub2xkX2VkaXRlZF9pbWFnZV9uYW1lID0gdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbDsKICAgICAgICB0aGlzLmVkaXRfaW1nX3JlZGlyZWN0X3VybCA9ICIiOwogICAgICB9CiAgICB9LAogICAgZW1wdHlfdmFyaWFibGU6IGZ1bmN0aW9uIGVtcHR5X3ZhcmlhYmxlKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICAgIHRoaXMuc2VuZF9lbWFpbF9hbGxfY3VzdG9tZXIgPSB0cnVlOwogICAgICAgIHRoaXMucXVpbGwuc2V0VGV4dCgiIik7CiAgICAgICAgdGhpcy5jdXN0b21lcnNfbGlzdCA9IFtdOwogICAgICAgIHRoaXMuc3BlY2lmaWNfY3VzdG9tZXJfbGlzdCA9IFtdOwogICAgICAgIHRoaXMuc2F2ZV9zbXMgPSAiIjsKICAgICAgICB0aGlzLmlzX2h0bWxfYm9keSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2F2ZV9lbWFpbCA9ICIiOwogICAgICAgIHRoaXMudGVtcGxhdGVfbmFtZSA9ICIiOwogICAgICAgIHRoaXMub2xkX3RlbXBsYXRlX25hbWUgPSAiIjsKICAgICAgICB0aGlzLmlzX2VtYWlsID0gdHJ1ZTsKICAgICAgICB0aGlzLmlzX3NtcyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2F2ZV9zdWJqZWN0ID0gIiI7CiAgICAgICAgdGhpcy5pc19wdWJsaXNoX2VtYWlsID0gdHJ1ZTsKICAgICAgICB0aGlzLnZlcmlmaWNhdGlvbl9zdGF0dXMgPSBudWxsOwogICAgICAgIHRoaXMuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgdGhpcy5pbWdfcmVkaXJlY3RfdXJsID0gIiI7CiAgICAgICAgdGhpcy5lbWFpbF9zdWJqZWN0ID0gIiI7CiAgICAgICAgdGhpcy5pc19pbWFnZV9uZWVkZWQgPSAibm9uZSI7CiAgICAgICAgdGhpcy50ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSBmYWxzZTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcGxhdGVfbmFtZV9hZGRfaWQiKS5zdHlsZS5ib3JkZXIgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKCk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X3RlbXBsYXRlX2RldGFpbHM6IGZ1bmN0aW9uIGVkaXRfdGVtcGxhdGVfZGV0YWlscygpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmlzRWRpdFRlbXBsYXRlKSB7CiAgICAgICAgdGhpcy5pc0VkaXRUZW1wbGF0ZSA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIwLmVkaXRfZWRpdG9yKCk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRfdGVtcGxhdGUuaXNfaHRtbF9ib2R5KSB7CiAgICAgICAgICB2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9lZGl0b3JfdGVtcCcpOwogICAgICAgICAgZWxlbWVudHMucmVtb3ZlQ2hpbGQoZWxlbWVudHMuZmlyc3RFbGVtZW50Q2hpbGQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5pc0VkaXRUZW1wbGF0ZSA9IGZhbHNlOwogICAgICAgIHRoaXMubG9hZF90ZW1wbGF0ZXMoKTsKICAgICAgICB0aGlzLmVkaXRfdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VfYm9keV9mb3JtYXQ6IGZ1bmN0aW9uIGNoYW5nZV9ib2R5X2Zvcm1hdCgpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmlzX2h0bWxfYm9keSkgewogICAgICAgIHRoaXMuaXNfaHRtbF9ib2R5ID0gdHJ1ZTsKICAgICAgICB0aGlzLnNhdmVfZW1haWwgPSAiIjsgLy8gY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZGl0b3IiKTsKICAgICAgICAvLyBlbGVtZW50LnJlbW92ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNfaHRtbF9ib2R5ID0gZmFsc2U7CiAgICAgICAgdGhpcy5zYXZlX2VtYWlsID0gIiI7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIxLmVkaXRvcigpOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0gLy8gfSwgMTAwMCk7CgogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfdGVtcGxhdGVfYWN0aXZlOiBmdW5jdGlvbiBjaGVja19jdXJyZW50X3RlbXBsYXRlX2FjdGl2ZShpbmRleCkgewogICAgICAvLyBjb25zb2xlLnRhYmxlKGluZGV4LCB0aGlzLnRlbXBsYXRlbGlzdFtpbmRleF0sIHRoaXMuY3VycmVudF90ZW1wbGF0ZSk7CiAgICAgIGlmIChCb29sZWFuKHRoaXMudGVtcGxhdGVsaXN0W2luZGV4XSkgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZWxpc3RbaW5kZXhdLnRlbXBsYXRlX25hbWUgPT09IHRoaXMub2xkX3RlbXBsYXRlX25hbWUgPyAiY3VycmVudC1hY3RpdmUtdGVtcGxhdGUiIDogbnVsbDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["EmailCampaign.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAs1BA,SAAA,SAAA,QAAA,aAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,IAAA,MAAA,aAAA;AACA,OAAA,IAAA,MAAA,aAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AACA,SAAA,aAAA,EAAA,8BAAA,EAAA,WAAA,QAAA,iBAAA;AACA,OAAA,WAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,WAAA,EAAA;AAFA,GAFA;AAMA,EAAA,MAAA,EAAA,CAAA,aAAA,EAAA,8BAAA,EAAA,WAAA,CANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,UAAA,EACA,26BAFA;AAGA,MAAA,UAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,UAHA;AAIA,MAAA,YAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,YAJA;AAKA,MAAA,SAAA,EAAA,KALA;AAMA,MAAA,aAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,UAAA,EAAA,EARA;AASA,MAAA,MAAA,EAAA,KATA;AAUA,MAAA,QAAA,EAAA,IAVA;AAWA,MAAA,YAAA,EAAA,EAXA;AAYA,MAAA,gBAAA,EAAA,IAZA;AAaA,MAAA,cAAA,EAAA,IAbA;AAcA,MAAA,WAAA,EAAA,KAdA;AAeA,MAAA,aAAA,EAAA,IAfA;AAgBA,MAAA,mBAAA,EAAA,IAhBA;AAiBA,MAAA,YAAA,EAAA,EAjBA;AAkBA,MAAA,YAAA,EAAA,EAlBA;AAmBA,MAAA,aAAA,EAAA,CACA,CAAA,MAAA,EAAA,QAAA,EAAA,WAAA,CADA,EAEA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,CAFA,EAGA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OAAA,CAHA,EAIA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,CAJA,EAKA,CAAA,MAAA,CALA,CAnBA;AA0BA,MAAA,KAAA,EAAA,EA1BA;AA2BA,MAAA,UAAA,EAAA,EA3BA;AA4BA,MAAA,YAAA,EAAA,KA5BA;AA6BA,MAAA,aAAA,EAAA,EA7BA;AA8BA,MAAA,gBAAA,EAAA,EA9BA;AA+BA,MAAA,iBAAA,EAAA,EA/BA;AAgCA,MAAA,cAAA,EAAA,KAhCA;AAiCA,MAAA,cAAA,EAAA,IAjCA;AAkCA,MAAA,WAAA,EAAA,IAlCA;AAmCA,MAAA,OAAA,EAAA,CAnCA;AAoCA,MAAA,QAAA,EAAA,EApCA;AAqCA,MAAA,UAAA,EAAA,IArCA;AAsCA,MAAA,YAAA,EAAA,IAtCA;AAuCA,MAAA,eAAA,EAAA,MAvCA;AAwCA,MAAA,oBAAA,EAAA,MAxCA;AAyCA,MAAA,aAAA,EAAA,EAzCA;AA0CA,MAAA,OAAA,EACA,8FA3CA;AA4CA,MAAA,eAAA,EACA,8FA7CA;AA8CA,MAAA,gBAAA,EAAA,EA9CA;AA+CA,MAAA,qBAAA,EAAA,EA/CA;AAgDA,MAAA,UAAA,EAAA,aAhDA;AAiDA,MAAA,iBAAA,EAAA,aAjDA;AAkDA,MAAA,qBAAA,EAAA,EAlDA;AAmDA,MAAA,2BAAA,EAAA,KAnDA;AAoDA,MAAA,gCAAA,EAAA,KApDA;AAqDA,MAAA,UAAA,EAAA,EArDA;AAsDA,MAAA,uBAAA,EAAA,IAtDA;AAuDA,MAAA,cAAA,EAAA,EAvDA;AAwDA,MAAA,sBAAA,EAAA,EAxDA;AAyDA,MAAA,mBAAA,EAAA,KAzDA;AA0DA,MAAA,SAAA,EACA,2JA3DA;AA4DA,MAAA,WAAA,EAAA,EA5DA;AA6DA,MAAA,oBAAA,EAAA;AA7DA,KAAA;AA+DA,GAvEA;AAwEA,EAAA,KAAA,EAAA;AACA,IAAA,wBAAA,EAAA;AADA,GAxEA;AA2EA,EAAA,KAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,KAAA,WAAA,KAAA,EAAA,EAAA;AACA,aAAA,cAAA;AACA,aAAA,oBAAA,GAAA,KAAA;AACA,OAHA,MAGA,IAAA,KAAA,WAAA,KAAA,EAAA,EAAA;AACA,aAAA,oBAAA,GAAA,IAAA;AACA;AACA,KARA,CASA;AACA;AACA;;AAXA,GA3EA;AAwFA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,KAAA,OAAA,CAAA,IAAA,CAAA,KAAA,gBAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AACA,KAPA;AAQA,IAAA,cARA,4BAQA;AACA,UAAA,KAAA,eAAA,CAAA,IAAA,CAAA,KAAA,qBAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AACA;AAdA,GAxFA;AAwGA,EAAA,OAxGA,qBAwGA;AACA,QAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,IAAA,IAAA,YAAA,EAAA;AACA,WAAA,SAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,WAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,aAAA,CAAA;AACA,KAHA,MAGA;AACA,WAAA,SAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,UAAA;AACA,WAAA,WAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,YAAA;AACA;AACA,GAhHA;AAiHA,EAAA,OAjHA,qBAiHA;AAAA;;AACA,IAAA,UAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,aAAA;AACA,KAFA,EAEA,IAFA,CAAA;AAGA,SAAA,KAAA,CAAA,GAAA,CAAA,2BAAA,EAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,mBAAA,GAAA,IAAA;;AACA,QAAA,KAAA,CAAA,8BAAA;AACA;AACA,KALA;AAMA,SAAA,cAAA;;AACA,QAAA,KAAA,wBAAA,KAAA,KAAA,EAAA;AACA,WAAA,kBAAA;AACA;;AACA,QAAA,EAAA,GAAA,IAAA;AACA,IAAA,CAAA,CAAA,YAAA,CAAA,CAAA,KAAA,CAAA,YAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,IAAA;;AACA,UAAA,CAAA,CAAA,IAAA,CAAA,CAAA,EAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA,OAFA,MAEA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,EAAA;AACA,QAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,KAAA;AACA;AACA,KAVA;AAWA,SAAA,MAAA;;AACA,QAAA,KAAA,wBAAA,KAAA,IAAA,EAAA;AACA,WAAA,kBAAA;AACA;AACA,GA/IA;AAgJA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AAAA;;AACA,UAAA,KAAA,WAAA,IAAA,EAAA,EAAA;AACA,aAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,UAAA,UAAA,EAAA,KAAA,UADA;AAEA,UAAA,YAAA,EAAA,KAAA,YAFA;AAGA,UAAA,SAAA,EAAA,IAHA;AAIA,UAAA,OAAA,EAAA,CAJA;AAKA,UAAA,QAAA,EAAA,KAAA,QALA;AAMA,UAAA,eAAA,EAAA,KAAA,wBANA;AAOA,UAAA,UAAA,EAAA,KAAA;AAPA,SAHA,EAYA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SAZA,EAkBA,IAlBA,CAkBA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,YAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;;AACA,cAAA,MAAA,CAAA,eAAA,CAAA,+BAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,EAAA;AACA;AACA,WAHA,MAGA,IAAA,MAAA,CAAA,eAAA,CAAA,6BAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,eAAA;;AACA,gBAAA,MAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,aAAA,CAAA,CAAA;AACA;AACA,WALA,MAKA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,cAAA,gBAAA,EAAA,KAHA;AAIA,cAAA,iBAAA,EAAA,KAJA;AAKA,cAAA,IAAA,EAAA;AALA,aAAA,CAAA;AAOA;;AACA,UAAA,MAAA,CAAA,cAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,aAAA,CAAA,CAAA;AACA,SA1CA,EA2CA,KA3CA,CA2CA,UAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,SApDA;AAqDA;AACA,KA7DA;AA8DA,IAAA,kBA9DA,gCA8DA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,2BAAA,EAFA,EAGA;AACA,QAAA,UAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,UADA;AAEA,QAAA,YAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,YAFA;AAGA,QAAA,oBAAA,EAAA;AAHA,OAHA,EAQA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OARA,EAcA,IAdA,CAcA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,aAAA,GAAA,EAAA;;AACA,eAAA,IAAA,KAAA,GAAA,CAAA,EAAA,KAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA,MAAA,EAAA,KAAA,EAAA,EAAA;AACA,gBAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA,KAAA,CAAA;AACA,YAAA,MAAA,CAAA,aAAA,CAAA,OAAA,IAAA,MAAA,OAAA,GAAA,GAAA;AACA,WALA,CAMA;;AACA,SAPA,MAOA,IAAA,MAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA,SARA,MAQA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;AACA,OAxCA,EAyCA,KAzCA,CAyCA,UAAA,CAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAnDA;AAoDA,KApHA;AAqHA,IAAA,MArHA,oBAqHA;AAAA;;AACA,WAAA,KAAA,GAAA,IAAA,KAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,CACA,CAAA,MAAA,EAAA,QAAA,EAAA,WAAA,CADA,EAEA,CAAA,MAAA,CAFA,EAGA,CAAA;AAAA,YAAA,KAAA,EAAA;AAAA,WAAA,CAHA,EAIA,CAAA;AAAA,YAAA,KAAA,EAAA;AAAA,WAAA,EAAA;AAAA,YAAA,UAAA,EAAA;AAAA,WAAA,CAJA,EAKA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,EAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CALA;AADA,SADA;AAUA,QAAA,KAAA,EAAA;AAVA,OAAA,CAAA;AAYA,WAAA,KAAA,CAAA,EAAA,CAAA,aAAA,EAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CACA,OADA,EAEA,MAAA,CAAA,KAAA,CAAA,OAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,GAAA,EAFA;;AAIA,QAAA,MAAA,CAAA,UAAA,GAAA,MAAA,CAAA,KAAA,CAAA,OAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,GAAA,EAAA;AACA,OANA;;AAOA,UAAA,KAAA,wBAAA,EAAA;AACA,aAAA,eAAA,CAAA,OAAA,EAAA,KAAA,aAAA;AACA;AACA,KA5IA;AA6IA,IAAA,WA7IA,yBA6IA;AAAA;;AACA,WAAA,UAAA,GAAA,IAAA,KAAA,CAAA,cAAA,EAAA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,CACA,CAAA,MAAA,EAAA,QAAA,EAAA,WAAA,CADA,EAEA,CAAA,MAAA,CAFA,EAGA,CAAA;AAAA,YAAA,KAAA,EAAA;AAAA,WAAA,CAHA,EAIA,CAAA;AAAA,YAAA,KAAA,EAAA;AAAA,WAAA,EAAA;AAAA,YAAA,UAAA,EAAA;AAAA,WAAA,CAJA,EAKA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,EAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CALA;AADA,SADA;AAUA,QAAA,KAAA,EAAA;AAVA,OAAA,CAAA;AAYA,WAAA,UAAA,CAAA,EAAA,CAAA,aAAA,EAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CACA,OADA,EAEA,MAAA,CAAA,UAAA,CAAA,OAAA,KAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,SAAA,GAAA,EAFA;;AAIA,QAAA,MAAA,CAAA,gBAAA,CAAA,KAAA,GAAA,MAAA,CAAA,UAAA,CAAA,OAAA,KAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA,SAAA,GAAA,EAAA;AACA,OANA;AAOA,WAAA,UAAA,CAAA,IAAA,CAAA,SAAA,GAAA,KAAA,gBAAA,CAAA,KAAA;AACA,WAAA,eAAA,CAAA,YAAA,EAAA,KAAA,aAAA;AACA,KAnKA;AAoKA,IAAA,eApKA,2BAoKA,GApKA,EAoKA,aApKA,EAoKA;AACA,UAAA,KAAA,wBAAA,KAAA,IAAA,EAAA;AACA,YAAA,aAAA,GAAA;AACA,8BAAA;AADA,SAAA;AAGA,YAAA,UAAA,GAAA,IAAA,oBAAA,CAAA;AACA,UAAA,KAAA,EAAA,iBADA;AAEA,UAAA,iBAAA,EAAA,KAFA;AAGA,UAAA,EAAA,EAAA;AAHA,SAAA,CAAA;;AAKA,YAAA,MAAA,CAAA,OAAA,CAAA,aAAA,EAAA,MAAA,KAAA,CAAA,IAAA,aAAA,CAAA,WAAA,KAAA,MAAA,EAAA;AACA,UAAA,UAAA,CAAA,QAAA,CAAA,aAAA;AACA,SAFA,MAEA;AACA,UAAA,UAAA,CAAA,QAAA,CAAA,aAAA;AACA;;AACA,QAAA,UAAA,CAAA,QAAA,GAAA,UAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA;AAAA,sCACA,KAAA,CAAA,SAAA,CAAA,UADA;AAAA,cACA,KADA,yBACA,KADA;AAAA,cACA,MADA,yBACA,MADA;AAEA,UAAA,KAAA,CAAA,UAAA,CAAA,KAAA,EAAA,MAAA;AACA,UAAA,KAAA,CAAA,UAAA,CAAA,KAAA,EAAA,KAAA;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,KAAA,GAAA,KAAA,CAAA,MAAA;AACA,SALA;;AAMA,QAAA,UAAA,CAAA,MAAA,CAAA,KAAA,KAAA;;AACA,YAAA,GAAA,KAAA,YAAA,EAAA;AACA,UAAA,UAAA,CAAA,MAAA,CAAA,KAAA,UAAA;AACA;AACA;AACA,KA9LA;AA+LA,IAAA,MA/LA,kBA+LA,MA/LA,EA+LA;AACA,UAAA,QAAA,GAAA,EAAA;AACA,MAAA,QAAA,GAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,8BAAA,CADA;AAEA,UAAA,IAAA,EAAA,SAFA;AAGA,UAAA,iBAAA,EAAA,IAHA;AAIA,UAAA,KAAA,EAAA;AAJA,SAAA,CAAA;AAMA;AACA,OARA,MAQA;AACA,YAAA,KAAA,GAAA,QAAA,CAAA,CAAA,CAAA;AACA,YAAA,aAAA,GAAA,OAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,QAAA,CAAA,CAAA,CAAA,GAAA,GAAA;;AACA,YAAA,CAAA,KAAA,SAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,KAAA,GAAA,CAAA,iCAAA,CADA;AAEA,YAAA,IAAA,EAAA,SAFA;AAGA,YAAA,iBAAA,EAAA,IAHA;AAIA,YAAA,KAAA,EAAA;AAJA,WAAA,CAAA;AAMA;AACA;AACA;;AACA,UAAA,GAAA,GAAA;AACA,QAAA,aAAA,EAAA,aADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAAA;AAIA,WAAA,cAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAAA,sBAAA,CAAA,IAAA,CAAA,GAAA;AACA,KA7NA;AA8NA,IAAA,kBA9NA,gCA8NA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,uBAAA,EAFA,EAGA;AACA,QAAA,UAAA,EAAA,KAAA,UADA;AAEA,QAAA,YAAA,EAAA,KAAA,YAFA;AAGA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,QAAA,kBAAA,EAAA;AANA,OAHA,EAWA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAXA,EAiBA,IAjBA,CAiBA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YAAA,MAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,cAAA;AACA,SAFA,MAEA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;AACA,OA9BA,EA+BA,KA/BA,CA+BA,UAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAxCA;AAyCA,KAzQA;AA0QA,IAAA,yBA1QA,uCA0QA;AAAA;;AACA,UAAA,CAAA,KAAA,mBAAA,EAAA;AACA,aAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,gBAAA,EAFA,EAGA;AACA,UAAA,YAAA,EAAA,KAAA,WADA;AAEA,UAAA,UAAA,EAAA,KAAA,SAFA;AAGA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,UAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,UAAA,4BAAA,EAAA;AANA,SAHA,EAWA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SAXA,EAiBA,IAjBA,CAiBA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,cACA,MAAA,CAAA,eAAA,CAAA,cAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA,EAEA;AACA,YAAA,MAAA,CAAA,mBAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,mBAAA,CADA,CAEA;;AACA,gBAAA,MAAA,CAAA,mBAAA,IAAA,SAAA,EAAA;AACA;AACA,cAAA,CAAA,CAAA,YAAA,CAAA,CAAA,KAAA,CAAA,MAAA;;AACA,cAAA,MAAA,CAAA,kBAAA,GAHA,CAIA;;AACA,aALA,MAKA;AACA,cAAA,IAAA,CAAA;AACA,gBAAA,IAAA,EAAA,MAAA,CAAA,GAAA,CAAA,uCAAA,CADA;AAEA,gBAAA,IAAA,EAAA,OAFA;AAGA,gBAAA,iBAAA,EAAA,IAHA;AAIA,gBAAA,KAAA,EAAA;AAJA,eAAA,CAAA;AAMA;AACA,WAlBA,MAkBA,IAAA,MAAA,CAAA,eAAA,CAAA,oBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,MAAA,CAAA,GAAA,CAAA,wCAAA,CADA;AAEA,cAAA,IAAA,EAAA,SAFA;AAGA,cAAA,iBAAA,EAAA,IAHA;AAIA,cAAA,KAAA,EAAA;AAJA,aAAA,CAAA;AAMA,WAPA,MAQA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,cAAA,gBAAA,EAAA,KAHA;AAIA,cAAA,iBAAA,EAAA,KAJA;AAKA,cAAA,IAAA,EAAA;AALA,aAAA,CAAA;AAOA;AACA,SAtDA,EAuDA,KAvDA,CAuDA,UAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,uCAAA,CAAA;;AACA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,SAjEA;AAkEA,OApEA,MAoEA;AACA,aAAA,8BAAA;AACA;AACA,KAlVA;AAmVA,IAAA,sBAnVA,oCAmVA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,CACA,SAAA,CAAA,mCAAA,EADA,EAEA;AACA,QAAA,YAAA,EAAA,KAAA,WADA;AAEA,QAAA,UAAA,EAAA,KAAA,SAFA;AAGA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,QAAA,YAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,YANA;AAOA,QAAA,mBAAA,EAAA,IAPA;AAQA,QAAA,eAAA,EAAA,KAAA,wBARA;AASA,QAAA,aAAA,EAAA,KAAA;AATA,OAFA,EAaA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAbA,EAmBA,IAnBA,CAmBA,UAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,eAAA,CAAA,iBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,2BAAA,GAAA,KAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,sBAAA,EAAA,KAAA,CAAA,MAAA,GAAA,IAAA;;AACA,cAAA,MAAA,CAAA,aAAA,IAAA,EAAA,EAAA;AACA,YAAA,QAAA,CAAA,cAAA,CAAA,sBAAA,EAAA,KAAA,CAAA,MAAA,GACA,mBADA;AAEA;AACA,SAPA,MAOA,IAAA,MAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,2BAAA,GAAA,IAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,sBAAA,EAAA,KAAA,CAAA,MAAA,GACA,eADA;AAEA,SAJA,MAIA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;AACA,OAxCA,EAyCA,KAzCA,CAyCA,UAAA,CAAA,EAAA;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAjDA;AAkDA,KAtYA;AAuYA,IAAA,2BAvYA,yCAuYA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,CACA,SAAA,CAAA,mCAAA,EADA,EAEA;AACA,QAAA,YAAA,EAAA,KAAA,WADA;AAEA,QAAA,UAAA,EAAA,KAAA,SAFA;AAGA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,QAAA,YAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,YANA;AAOA,QAAA,mBAAA,EAAA,IAPA;AAQA,QAAA,eAAA,EAAA,KAAA,wBARA;AASA,QAAA,aAAA,EAAA,KAAA,gBAAA,CAAA;AATA,OAFA,EAaA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAbA,EAmBA,IAnBA,CAmBA,UAAA,QAAA,EAAA;AACA,YAAA,MAAA,CAAA,eAAA,CAAA,iBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,gCAAA,GAAA,KAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,uBAAA,EAAA,KAAA,CAAA,MAAA,GAAA,IAAA;;AACA,cAAA,MAAA,CAAA,gBAAA,CAAA,aAAA,IAAA,EAAA,EAAA;AACA,YAAA,QAAA,CAAA,cAAA,CAAA,uBAAA,EAAA,KAAA,CAAA,MAAA,GACA,mBADA;AAEA;AACA,SAPA,MAOA,IAAA,MAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,cAAA,MAAA,CAAA,iBAAA,IAAA,MAAA,CAAA,gBAAA,CAAA,aAAA,EAAA;AACA,YAAA,MAAA,CAAA,gCAAA,GAAA,KAAA;AACA,YAAA,QAAA,CAAA,cAAA,CAAA,uBAAA,EAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,gCAAA,GAAA,IAAA;AACA,YAAA,QAAA,CAAA,cAAA,CAAA,uBAAA,EAAA,KAAA,CAAA,MAAA,GACA,eADA;AAEA;AACA,SATA,MASA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;AACA,OA7CA,EA8CA,KA9CA,CA8CA,UAAA,CAAA,EAAA;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAtDA;AAuDA,KA/bA;AAgcA,IAAA,gBAhcA,8BAgcA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,QAAA,UAAA,EAAA,KAAA,UADA;AAEA,QAAA,YAAA,EAAA,KAAA,YAFA;AAGA,QAAA,UAAA,EAAA,IAHA;AAIA,QAAA,WAAA,EAAA,KAAA,gBAAA,CAAA,WAJA;AAKA,QAAA,eAAA,EAAA,KAAA;AALA,OAHA,EAUA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAVA,EAgBA,IAhBA,CAgBA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YAAA,OAAA,CAAA,eAAA,CAAA,wBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,qBAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,CAAA,CAAA,2BAAA,CAAA,CAAA,KAAA,CAAA,MAAA;AACA,SAHA,MAGA,IAAA,OAAA,CAAA,eAAA,CAAA,+BAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA,SARA,MAQA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;AACA,OAtCA,EAuCA,KAvCA,CAuCA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAhDA;AAiDA,KAnfA;AAofA,IAAA,8BApfA,0CAofA,YApfA,EAofA;AACA,UAAA,YAAA,EAAA;AACA,eAAA,KAAA,GAAA,CAAA,gCAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,GAAA,CAAA,uCAAA,CAAA;AACA;AACA,KA1fA;AA2fA,IAAA,UA3fA,wBA2fA;AAAA;;AACA,UAAA,CAAA,KAAA,uBAAA,EAAA;AACA,YAAA,CAAA,OAAA,CAAA,KAAA,sBAAA,CAAA,MAAA,GAAA,CAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,KAAA,GAAA,CAAA,iCAAA,CADA;AAEA,YAAA,IAAA,EAAA,SAFA;AAGA,YAAA,KAAA,EAAA;AAHA,WAAA,CAAA;AAKA;AACA;AACA;;AACA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,KAAA,8BAAA,CAAA,KAAA,uBAAA,CADA;AAEA,QAAA,IAAA,EAAA,KAAA,GAAA,CAAA,6BAAA,CAFA;AAGA,QAAA,gBAAA,EAAA,IAHA;AAIA,QAAA,IAAA,EAAA,SAJA;AAKA,QAAA,kBAAA,EAAA,SALA;AAMA,QAAA,iBAAA,EAAA,MANA;AAOA,QAAA,iBAAA,EAAA,KAAA,GAAA,CAAA,yBAAA;AAPA,OAAA,EAQA,IARA,CAQA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA,EAAA;AACA,UAAA,CAAA,CAAA,YAAA,CAAA,CAAA,KAAA,CAAA,MAAA;AACA,UAAA,OAAA,CAAA,SAAA,GAAA,IAAA;AACA,UAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,uBAAA,EAFA,EAGA;AACA,YAAA,UAAA,EAAA,OAAA,CAAA,UADA;AAEA,YAAA,YAAA,EAAA,OAAA,CAAA,YAFA;AAGA,YAAA,KAAA,EAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,YAAA,WAAA,EAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,YAAA,KAAA,EAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,YAAA,UAAA,EAAA,IANA;AAOA,YAAA,uBAAA,EAAA,OAAA,CAAA,uBAPA;AAQA,YAAA,sBAAA,EACA,OAAA,CAAA,uBAAA,IAAA,IAAA,GACA,OAAA,CAAA,sBADA,GAEA,EAXA;AAYA,YAAA,WAAA,EAAA,OAAA,CAAA,gBAAA,CAAA;AAZA,WAHA,EAiBA;AACA,YAAA,OAAA,EAAA;AACA,cAAA,aAAA,mBAAA,OAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,WAjBA,EAuBA,IAvBA,CAuBA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,gBAAA,OAAA,CAAA,eAAA,CAAA,oBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA;AACA;AACA,cAAA,IAAA,CAAA;AACA,gBAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,gCAAA,CADA;AAEA,gBAAA,IAAA,EAAA,SAFA;AAGA,gBAAA,KAAA,EAAA,IAHA;AAIA,gBAAA,KAAA,EAAA,OAAA,CAAA,GAAA,CAAA,6BAAA;AAJA,eAAA,CAAA,CAKA,IALA,CAKA,UAAA,MAAA,EAAA;AACA,gBAAA,CAAA,CAAA,YAAA,CAAA,CAAA,KAAA,CAAA,MAAA;;AACA,gBAAA,OAAA,CAAA,cAAA;AACA,eARA;AASA,aAZA,MAYA,IAAA,OAAA,CAAA,eAAA,CAAA,iCAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,cAAA,IAAA,CAAA;AACA,gBAAA,IAAA,EAAA,SADA;AAEA,gBAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,6BAAA,CAFA;AAGA,gBAAA,gBAAA,EAAA,IAHA;AAIA,gBAAA,kBAAA,EAAA,SAJA;AAKA,gBAAA,iBAAA,EAAA,OAAA,CAAA,GAAA,CAAA,iCAAA,CALA;AAMA,gBAAA,gBAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mCAAA,CANA;AAOA,gBAAA,iBAAA,EAAA;AAPA,eAAA,CAAA,CAQA,IARA,CAQA,UAAA,MAAA,EAAA;AACA,oBAAA,MAAA,CAAA,KAAA,IAAA,IAAA,EACA;AACA,kBAAA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA,UAAA;AAAA,oBAAA,MAAA,EAAA;AAAA,sBAAA,YAAA,EAAA;AAAA;AAAA,mBAAA;AACA;AACA,eAbA;AAcA,aAfA,MAeA;AACA,cAAA,IAAA,CAAA;AACA,gBAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,gBAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,gBAAA,gBAAA,EAAA,KAHA;AAIA,gBAAA,iBAAA,EAAA,KAJA;AAKA,gBAAA,IAAA,EAAA;AALA,eAAA,CAAA;AAOA;AACA,WA7DA,EA8DA,KA9DA,CA8DA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,gBACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,cAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,WAvEA;AAwEA;AACA,OArFA;AAsFA,KA5lBA;AA6lBA,IAAA,kBA7lBA,8BA6lBA,KA7lBA,EA6lBA;AACA,UAAA,KAAA,IAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA;AACA,eAAA,YAAA,GAAA,EAAA;;AACA,eAAA,IAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,iBAAA,YAAA,CAAA,IAAA,CAAA,KAAA,YAAA,CAAA,CAAA,EAAA,WAAA;AACA;;AACA,UAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,KAAA;;AACA,eAAA,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,KAAA,YAAA,CAAA,MAAA,EAAA,EAAA,EAAA,EAAA;AACA,YAAA,CAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA,YAAA,CAAA,CAAA,YAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,IAAA;AACA;AACA,SAVA,MAUA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA;AACA,eAAA,YAAA,GAAA,EAAA;AACA,UAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,KAAA;AACA;AAEA,OAhBA,MAgBA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA;AACA,eAAA,YAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAFA,MAEA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA,EAAA;AACA,cAAA,SAAA,GAAA,QAAA,CAAA,aAAA,CAAA,YAAA,CAAA;;AACA,cAAA,SAAA,CAAA,OAAA,EAAA;AACA,YAAA,SAAA,CAAA,OAAA,GAAA,KAAA;AACA;;AACA,cAAA,IAAA,GAAA,KAAA,YAAA,CAAA,MAAA,CAAA,UAAA,YAAA,EAAA;AACA,mBAAA,YAAA,IAAA,KAAA;AACA,WAFA,CAAA;AAGA,eAAA,YAAA,GAAA,IAAA;AACA;AACA;AACA,KA5nBA;AA6nBA,IAAA,cA7nBA,4BA6nBA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,QAAA,UAAA,EAAA,KAAA,UADA;AAEA,QAAA,YAAA,EAAA,KAAA,YAFA;AAGA,QAAA,MAAA,EAAA,IAHA;AAIA,QAAA,eAAA,EAAA,KAAA,wBAJA;AAKA,QAAA,OAAA,EAAA,KAAA,OALA;AAMA,QAAA,QAAA,EAAA,KAAA;AANA,OAHA,EAWA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAXA,EAiBA,IAjBA,CAiBA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YAAA,OAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;AACA,UAAA,OAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;AACA,UAAA,OAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AACA,cAAA,OAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA;AACA,YAAA,OAAA,CAAA,aAAA,CAAA,CAAA;AACA;;AACA,UAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,SATA,MASA,IAAA,OAAA,CAAA,eAAA,CAAA,gCAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA;AACA,SAHA,MAGA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;;AACA,QAAA,OAAA,CAAA,aAAA,CAAA,OAAA,CAAA,OAAA;AACA,OAzCA,EA0CA,KA1CA,CA0CA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAnDA;AAoDA,KAnrBA;AAorBA,IAAA,UAprBA,sBAorBA,CAprBA,EAorBA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CAAA,YAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,YAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA,aAAA,UAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA,aAAA,WAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,OAJA,MAIA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,4BAAA,CADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,KAAA,EAAA;AAHA,SAAA,CAAA;AAKA;AACA,KAjsBA;AAksBA,IAAA,WAlsBA,uBAksBA,IAlsBA,EAksBA,IAlsBA,EAksBA;AAAA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AAEA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,UAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AACA,OAFA;;AAGA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,KAzsBA;AA0sBA,IAAA,UA1sBA,sBA0sBA,CA1sBA,EA0sBA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CAAA,YAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,YAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA,aAAA,qBAAA,GAAA,KAAA,iBAAA;AACA,aAAA,iBAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA,aAAA,YAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,OALA,MAKA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,4BAAA,CADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,KAAA,EAAA;AAHA,SAAA,CAAA;AAKA;AACA,KAxtBA;AAytBA,IAAA,YAztBA,wBAytBA,IAztBA,EAytBA,IAztBA,EAytBA;AAAA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AAEA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,YAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AACA,OAFA;;AAGA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,KAhuBA;AAiuBA,IAAA,WAjuBA,yBAiuBA;AACA,UAAA,EAAA,GAAA,IAAA,IAAA,GAAA,OAAA,EAAA;AACA,UAAA,IAAA,GAAA,uCAAA,OAAA,CACA,OADA,EAEA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,GAAA,CAAA,EAAA,GAAA,IAAA,CAAA,MAAA,KAAA,EAAA,IAAA,EAAA,GAAA,CAAA;AACA,QAAA,EAAA,GAAA,IAAA,CAAA,KAAA,CAAA,EAAA,GAAA,EAAA,CAAA;AACA,eAAA,CAAA,CAAA,IAAA,GAAA,GAAA,CAAA,GAAA,CAAA,GAAA,GAAA,GAAA,GAAA,EAAA,QAAA,CAAA,EAAA,CAAA;AACA,OANA,CAAA;AAQA,aAAA,IAAA;AACA,KA5uBA;AA6uBA,IAAA,YA7uBA,wBA6uBA,IA7uBA,EA6uBA;AAAA;;AACA,UAAA,IAAA,IAAA,CAAA,IAAA,IAAA,IAAA,KAAA,WAAA,GAAA,CAAA,EAAA,CACA,CADA,MACA;AACA,YAAA,KAAA,WAAA,IAAA,EAAA,EAAA;AACA,cAAA,IAAA,IAAA,MAAA,EAAA;AACA,iBAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA,IAAA,KAAA,OAAA,IAAA,CAAA,CAAA;AACA,WAFA,MAEA,IAAA,IAAA,IAAA,MAAA,EAAA;AACA,iBAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA,KAAA,WAAA,GAAA,KAAA,OAAA,IAAA,CAAA,CAAA;AACA,WAFA,MAEA;AACA,iBAAA,OAAA,GAAA,IAAA;AACA;;AACA,UAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,KAAA;AACA,eAAA,SAAA,GAAA,IAAA;AACA,UAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,YAAA,UAAA,EAAA,KAAA,UADA;AAEA,YAAA,YAAA,EAAA,KAAA,YAFA;AAGA,YAAA,MAAA,EAAA,IAHA;AAIA,YAAA,eAAA,EAAA,KAAA,wBAJA;AAKA,YAAA,OAAA,EAAA,KAAA,OALA;AAMA,YAAA,QAAA,EAAA,KAAA;AANA,WAHA,EAWA;AACA,YAAA,OAAA,EAAA;AACA,cAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,WAXA,EAiBA,IAjBA,CAiBA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,gBAAA,OAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;AACA,cAAA,OAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;AACA,cAAA,OAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AACA,kBAAA,OAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,OAAA,CAAA,gBAAA,GAAA,OAAA,CAAA,YAAA,CAAA,CAAA,CAAA;AACA;;AACA,cAAA,OAAA,CAAA,cAAA,GAAA,KAAA;AACA,aARA,MAQA,IAAA,OAAA,CAAA,eAAA,CAAA,gCAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA;AACA,aAHA,MAGA;AACA,cAAA,IAAA,CAAA;AACA,gBAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,gBAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,gBAAA,gBAAA,EAAA,KAHA;AAIA,gBAAA,iBAAA,EAAA,KAJA;AAKA,gBAAA,IAAA,EAAA;AALA,eAAA,CAAA;AAOA;;AACA,YAAA,OAAA,CAAA,aAAA,CAAA,OAAA,CAAA,OAAA;AACA,WAxCA,EAyCA,KAzCA,CAyCA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,gBACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,cAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,WAlDA;AAmDA,SA7DA,MA6DA;AACA,cAAA,IAAA,IAAA,MAAA,EAAA;AACA,iBAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA,IAAA,KAAA,OAAA,IAAA,CAAA,CAAA;AACA,WAFA,MAEA,IAAA,IAAA,IAAA,MAAA,EAAA;AACA,iBAAA,OAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA,KAAA,WAAA,GAAA,KAAA,OAAA,IAAA,CAAA,CAAA;AACA,WAFA,MAEA;AACA,iBAAA,OAAA,GAAA,IAAA;AACA;;AACA,UAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,KAAA;AACA,eAAA,SAAA,GAAA,IAAA;AACA,UAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,YAAA,UAAA,EAAA,KAAA,UADA;AAEA,YAAA,YAAA,EAAA,KAAA,YAFA;AAGA,YAAA,SAAA,EAAA,IAHA;AAIA,YAAA,OAAA,EAAA,KAAA,OAJA;AAKA,YAAA,QAAA,EAAA,KAAA,QALA;AAMA,YAAA,eAAA,EAAA,KAAA,wBANA;AAOA,YAAA,UAAA,EAAA,KAAA;AAPA,WAHA,EAYA;AACA,YAAA,OAAA,EAAA;AACA,cAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,WAZA,EAkBA,IAlBA,CAkBA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,GAAA,KAAA;AACA,YAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,cAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;AACA,YAAA,OAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA,IAAA,SAAA,GAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA,UAAA;;AACA,gBAAA,OAAA,CAAA,eAAA,CAAA,+BAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA;AACA,aAHA,MAGA,IAAA,OAAA,CAAA,eAAA,CAAA,6BAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,eAAA;;AACA,kBAAA,OAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,OAAA,CAAA,aAAA,CAAA,CAAA;AACA;AACA,aALA,MAKA;AACA,cAAA,IAAA,CAAA;AACA,gBAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,gBAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,gBAAA,gBAAA,EAAA,KAHA;AAIA,gBAAA,iBAAA,EAAA,KAJA;AAKA,gBAAA,IAAA,EAAA;AALA,eAAA,CAAA;AAOA;;AACA,YAAA,OAAA,CAAA,cAAA,GAAA,KAAA;;AACA,YAAA,OAAA,CAAA,aAAA,CAAA,CAAA;AACA,WA1CA,EA2CA,KA3CA,CA2CA,UAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,gBACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,cAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,WApDA;AAqDA;AACA;AACA,KA92BA;AA+2BA,IAAA,aA/2BA,yBA+2BA,OA/2BA,EA+2BA;AACA,WAAA,UAAA,GAAA,EAAA;;AACA,UAAA,KAAA,WAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,WAAA,EAAA,CAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA;AACA;AACA,OAJA,MAIA,IAAA,OAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,GAAA,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA;AACA;;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,WAAA;AACA,OANA,MAMA,IAAA,OAAA,IAAA,KAAA,WAAA,EAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;;AACA,aAAA,IAAA,GAAA,GAAA,KAAA,WAAA,GAAA,CAAA,EAAA,GAAA,GAAA,KAAA,WAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA;AACA;AACA,OANA,MAMA,IAAA,OAAA,IAAA,CAAA,EAAA;AACA,aAAA,IAAA,GAAA,GAAA,CAAA,EAAA,GAAA,GAAA,OAAA,GAAA,CAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA;AACA;;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,WAAA;AACA,OANA,MAMA,IAAA,OAAA,IAAA,KAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;;AACA,aAAA,IAAA,GAAA,GAAA,OAAA,GAAA,CAAA,EAAA,GAAA,GAAA,KAAA,WAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA,GAAA,CAAA;AACA;AACA,OANA,MAMA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;;AACA,aAAA,IAAA,GAAA,GAAA,OAAA,GAAA,CAAA,EAAA,GAAA,IAAA,OAAA,GAAA,CAAA,EAAA,GAAA,EAAA,EAAA;AACA,eAAA,UAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,WAAA;AACA;AACA,KAt5BA;AAu5BA,IAAA,gBAv5BA,4BAu5BA,KAv5BA,EAu5BA;AACA,UAAA,KAAA,IAAA,KAAA,OAAA,EAAA;AACA,eAAA,SAAA;AACA,OAFA,MAEA;AACA,eAAA,EAAA;AACA;AACA,KA75BA;AA85BA,IAAA,aA95BA,2BA85BA;AAAA;;AACA,UAAA,KAAA,aAAA,IAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,+BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,2BAAA,IAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,4BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,aAAA,IAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,+BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,MAAA,IAAA,IAAA,IAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,2BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,QAAA,IAAA,IAAA,IAAA,KAAA,UAAA,IAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,kCAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,QAAA,IAAA,KAAA,IAAA,KAAA,MAAA,IAAA,KAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,+BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IACA,KAAA,eAAA,IAAA,KAAA,IACA,QAAA,CAAA,cAAA,CAAA,WAAA,EAAA,KAAA,IAAA,EAFA,EAGA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,4BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAbA,MAaA,IAAA,KAAA,eAAA,IAAA,KAAA,IAAA,CAAA,KAAA,QAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,2BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA;AACA,YAAA,KAAA,YAAA,EAAA,KAAA,eAAA,GAAA,MAAA;AACA,YAAA,IAAA,GAAA,KAAA,WAAA,EAAA;AACA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,UAAA,UAAA,EAAA,KAAA,UADA;AAEA,UAAA,YAAA,EAAA,KAAA,YAFA;AAGA,UAAA,OAAA,EAAA,IAHA;AAIA,UAAA,eAAA,EAAA,KAAA,wBAJA;AAKA,UAAA,WAAA,EAAA,IALA;AAMA,UAAA,aAAA,EAAA,KAAA,aANA;AAOA,UAAA,UAAA,EAAA,KAAA,QAAA,IAAA,IAAA,GAAA,KAAA,UAAA,GAAA,IAPA;AAQA,UAAA,QAAA,EAAA,KAAA,MAAA,IAAA,IAAA,GAAA,KAAA,QAAA,GAAA,IARA;AASA,UAAA,aAAA,EAAA,KAAA,aATA;AAUA,UAAA,cAAA,EACA,KAAA,eAAA,KAAA,MAAA,GAAA,IAAA,GAAA,KAAA,UAXA;AAYA,UAAA,cAAA,EAAA,KAAA,UAZA;AAaA,UAAA,cAAA,EAAA,KAAA,gBAbA;AAcA,UAAA,YAAA,EAAA,KAAA;AAdA,SAHA,EAmBA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SAnBA,EAyBA,IAzBA,CAyBA,UAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,eAAA,CAAA,0BAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,SADA;AAEA,cAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,uCAAA,CAFA;AAGA,cAAA,KAAA,EAAA;AAHA,aAAA,CAAA,CAIA,IAJA,CAIA,UAAA,MAAA,EAAA;AACA,cAAA,OAAA,CAAA,cAAA;;AACA,cAAA,OAAA,CAAA,cAAA;AAEA,aARA;AASA,WAVA,MAUA,IAAA,OAAA,CAAA,eAAA,CAAA,oBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OADA;AAEA,cAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,mCAAA,CAFA;AAGA,cAAA,KAAA,EAAA;AAHA,aAAA,CAAA;;AAKA,YAAA,OAAA,CAAA,cAAA;;AACA,YAAA,OAAA,CAAA,cAAA;;AACA;AACA,WATA,MASA,IAAA,OAAA,CAAA,eAAA,CAAA,gCAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,cAAA,gBAAA,EAAA,KAHA;AAIA,cAAA,iBAAA,EAAA,KAJA;AAKA,cAAA,IAAA,EAAA;AALA,aAAA,CAAA;;AAOA,YAAA,OAAA,CAAA,cAAA;;AACA,YAAA,OAAA,CAAA,cAAA;;AACA;AACA,WAXA,MAWA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,cAAA,gBAAA,EAAA,KAHA;AAIA,cAAA,iBAAA,EAAA,KAJA;AAKA,cAAA,IAAA,EAAA;AALA,aAAA,CAAA;AAOA;AACA;AACA,SAlEA,EAmEA,KAnEA,CAmEA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,OADA;AAEA,YAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,8BAAA,CAFA;AAGA,YAAA,KAAA,EAAA;AAHA,WAAA,CAAA;;AAKA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,SAhFA;AAiFA,aAAA,WAAA,CAAA,mBAAA,EApFA,CAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAKA,KAhmCA;AAimCA,IAAA,aAjmCA,2BAimCA;AAAA;;AACA,UAAA,KAAA,gBAAA,CAAA,aAAA,IAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,8BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,gCAAA,IAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,mCAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,gBAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,8BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IACA,KAAA,WAAA,IAAA,IAAA,KACA,KAAA,gBAAA,CAAA,GAAA,IAAA,IAAA,IAAA,KAAA,gBAAA,CAAA,GAAA,IAAA,EADA,CADA,EAGA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,0BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAbA,MAaA,IACA,KAAA,aAAA,IAAA,IAAA,KACA,KAAA,gBAAA,CAAA,KAAA,IAAA,IAAA,IACA,KAAA,gBAAA,CAAA,KAAA,IAAA,EAFA,CADA,EAIA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,iCAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAdA,MAcA,IAAA,KAAA,aAAA,IAAA,KAAA,IAAA,KAAA,WAAA,IAAA,KAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,8BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IAAA,KAAA,oBAAA,IAAA,KAAA,IAAA,CAAA,KAAA,cAAA,EAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,0BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAVA,MAUA,IACA,KAAA,oBAAA,IAAA,KAAA,IACA,KAAA,iBAAA,IAAA,aADA,IAEA,QAAA,CAAA,cAAA,CAAA,YAAA,EAAA,KAAA,IAAA,EAHA,EAIA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,2BAAA,CADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,SAHA;AAIA,UAAA,IAAA,EAAA,SAJA;AAKA,UAAA,iBAAA,EAAA,KALA;AAMA,UAAA,KAAA,EAAA;AANA,SAAA,CAAA;AAQA;AACA,OAdA,MAcA;AACA,YAAA,KAAA,YAAA,EAAA,KAAA,oBAAA,GAAA,MAAA;AACA,QAAA,IAAA,CAAA;AACA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,+BAAA,CADA;AAEA,UAAA,IAAA,EAAA,MAFA;AAGA,UAAA,KAAA,EAAA,IAHA;AAIA,UAAA,iBAAA,EAAA;AAJA,SAAA,CAAA;AAMA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,UAAA,UAAA,EAAA,KAAA,UADA;AAEA,UAAA,YAAA,EAAA,KAAA,YAFA;AAGA,UAAA,OAAA,EAAA,IAHA;AAIA,UAAA,eAAA,EAAA,KAAA,wBAJA;AAKA,UAAA,WAAA,EAAA,KAAA,gBAAA,CAAA,WALA;AAMA,UAAA,aAAA,EAAA,KAAA,gBAAA,CAAA,aANA;AAOA,UAAA,aAAA,EAAA,KAAA,gBAAA,CAAA,OAPA;AAQA,UAAA,UAAA,EACA,KAAA,aAAA,IAAA,IAAA,GAAA,KAAA,gBAAA,CAAA,KAAA,GAAA,IATA;AAUA,UAAA,QAAA,EACA,KAAA,WAAA,IAAA,IAAA,GAAA,KAAA,gBAAA,CAAA,GAAA,GAAA,IAXA;AAYA,UAAA,cAAA,EACA,KAAA,oBAAA,KAAA,MAAA,GAAA,IAAA,GAAA,KAAA,YAbA;AAcA,UAAA,cAAA,EACA,KAAA,oBAAA,KAAA,MAAA,GACA,IADA,GAEA,KAAA,iBAjBA;AAkBA,UAAA,cAAA,EACA,KAAA,oBAAA,KAAA,MAAA,GACA,IADA,GAEA,KAAA,qBArBA;AAsBA,UAAA,aAAA,EACA,KAAA,iBAAA,IAAA,KAAA,qBAAA,GACA,IADA,GAEA,KAzBA;AA0BA,UAAA,gBAAA,EACA,KAAA,oBAAA,KAAA,MAAA,GAAA,KAAA,GAAA,IA3BA;AA4BA,UAAA,SAAA,EACA,KAAA,qBAAA,IAAA,aAAA,GACA,IADA,GAEA,KAAA,qBA/BA;AAgCA,UAAA,YAAA,EAAA,KAAA,gBAAA,CAAA;AAhCA,SAHA,EAqCA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SArCA,EA2CA,IA3CA,CA2CA,UAAA,QAAA,EAAA;AACA,cAAA,OAAA,CAAA,eAAA,CAAA,0BAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,SADA;AAEA,cAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,qCAAA,CAFA;AAGA,cAAA,KAAA,EAAA;AAHA,aAAA,CAAA,CAIA,IAJA,CAIA,UAAA,MAAA,EAAA;AACA,cAAA,OAAA,CAAA,cAAA;AACA,aANA;AAOA,WARA,MAQA,IAAA,OAAA,CAAA,eAAA,CAAA,oBAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,cAAA,CAAA,YAAA,EAAA,KAAA,GAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,kCAAA,CADA;AAEA,cAAA,IAAA,EAAA,OAFA;AAGA,cAAA,KAAA,EAAA;AAHA,aAAA,CAAA;AAKA,WAPA,MAOA,IAAA,OAAA,CAAA,eAAA,CAAA,gCAAA,CAAA,QAAA,IAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,cAAA,gBAAA,EAAA,KAHA;AAIA,cAAA,iBAAA,EAAA,KAJA;AAKA,cAAA,IAAA,EAAA;AALA,aAAA,CAAA;AAOA,WARA,MAQA;AACA,YAAA,IAAA,CAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,cAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,cAAA,gBAAA,EAAA,KAHA;AAIA,cAAA,iBAAA,EAAA,KAJA;AAKA,cAAA,IAAA,EAAA;AALA,aAAA,CAAA;AAOA;AACA,SA5EA,EA6EA,KA7EA,CA6EA,UAAA,CAAA,EAAA;AACA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;;AACA,UAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,OADA;AAEA,YAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,6BAAA,CAFA;AAGA,YAAA,KAAA,EAAA;AAHA,WAAA,CAAA;AAKA,SA1FA;AA2FA;AACA,KAjyCA;AAkyCA,IAAA,eAlyCA,6BAkyCA;AAAA;;AACA,UAAA,KAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,EAAA,KAAA,GAAA,CAAA,mCAAA,CADA;AAEA,UAAA,IAAA,EAAA,EAFA;AAGA,UAAA,IAAA,EAAA,OAHA;AAIA,UAAA,KAAA,EAAA;AAJA,SAAA;AAMA,OAPA,MAOA;AACA,QAAA,IAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,EAAA,KAAA,GAAA,CAAA,4BAAA,CADA;AAEA,UAAA,IAAA,EAAA,KAAA,GAAA,CAAA,6CAAA,CAFA;AAGA,UAAA,IAAA,EAAA,UAHA;AAIA,UAAA,gBAAA,EAAA,IAJA;AAKA,UAAA,kBAAA,EAAA,SALA;AAMA,UAAA,iBAAA,EAAA,MANA;AAOA,UAAA,iBAAA,EAAA,KAAA,GAAA,CAAA,6BAAA;AAPA,SAAA,EAQA,IARA,CAQA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,CAAA,KAAA,EAAA;AACA,YAAA,OAAA,CAAA,gBAAA,CAAA,OAAA,CAAA,YAAA;AACA;AACA,SAZA;AAaA;AACA,KAzzCA;AA0zCA,IAAA,gBA1zCA,4BA0zCA,YA1zCA,EA0zCA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,mCAAA,EAFA,EAGA;AACA,QAAA,UAAA,EAAA,KAAA,UADA;AAEA,QAAA,YAAA,EAAA,KAAA,YAFA;AAGA,QAAA,SAAA,EAAA,IAHA;AAIA,QAAA,aAAA,EAAA,YAJA;AAKA,QAAA,eAAA,EAAA,KAAA;AALA,OAHA,EAUA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAVA,EAgBA,IAhBA,CAgBA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YAAA,OAAA,CAAA,eAAA,CAAA,gCAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,SADA;AAEA,YAAA,IAAA,EAAA,OAAA,CAAA,GAAA,CAAA,6BAAA,CAFA;AAGA,YAAA,KAAA,EAAA;AAHA,WAAA,CAAA,CAIA,IAJA,CAIA,UAAA,MAAA,EAAA;AACA,YAAA,OAAA,CAAA,YAAA,GAAA,EAAA;AACA,YAAA,CAAA,CAAA,gBAAA,CAAA,CAAA,IAAA,CAAA,SAAA,EAAA,KAAA;;AACA,YAAA,OAAA,CAAA,cAAA;AACA,WARA;AASA,SAVA,MAUA,IAAA,OAAA,CAAA,eAAA,CAAA,gCAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA,SARA,MAQA,IAAA,OAAA,CAAA,eAAA,CAAA,wBAAA,CAAA,QAAA,KAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA,SARA,MAQA;AACA,UAAA,IAAA,CAAA;AACA,YAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,QADA;AAEA,YAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,GAFA;AAGA,YAAA,gBAAA,EAAA,KAHA;AAIA,YAAA,iBAAA,EAAA,KAJA;AAKA,YAAA,IAAA,EAAA;AALA,WAAA,CAAA;AAOA;AACA,OArDA,EAsDA,KAtDA,CAsDA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OA/DA;AAgEA,KA53CA;AA63CA,IAAA,aA73CA,yBA63CA,KA73CA,EA63CA;AACA,UAAA,KAAA,cAAA,EAAA;AACA,aAAA,qBAAA;AACA;;AACA,WAAA,gBAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,YAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,iBAAA,GAAA,KAAA,gBAAA,CAAA,aAAA;AACA,WAAA,sBAAA,GAAA,KAAA;;AACA,UAAA,OAAA,CAAA,KAAA,gBAAA,CAAA,mBAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,oBAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,oBAAA,GAAA,MAAA;AACA;;AACA,UAAA,KAAA,YAAA,CAAA,KAAA,EAAA,KAAA,IAAA,IAAA,EAAA;AACA,aAAA,aAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA,GAAA,KAAA;AACA;;AACA,UAAA,KAAA,YAAA,CAAA,KAAA,EAAA,GAAA,IAAA,IAAA,EAAA;AACA,aAAA,WAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,WAAA,GAAA,KAAA;AACA;;AACA,UAAA,OAAA,CAAA,KAAA,gBAAA,CAAA,mBAAA,CAAA,KAAA,IAAA,EAAA;AACA,aAAA,iBAAA,GAAA,KAAA,gBAAA,CAAA,mBAAA;AACA,aAAA,qBAAA,GAAA,KAAA,iBAAA;AACA,aAAA,qBAAA,GAAA,KAAA,gBAAA,CAAA,kBAAA;;AACA,YAAA,KAAA,iBAAA,IAAA,EAAA,EAAA;AACA,eAAA,iBAAA,GAAA,aAAA;AACA;AACA,OAPA,MAOA;AACA,aAAA,iBAAA,GAAA,aAAA;AACA,aAAA,qBAAA,GAAA,KAAA,iBAAA;AACA,aAAA,qBAAA,GAAA,EAAA;AACA;AACA,KA/5CA;AAg6CA,IAAA,cAh6CA,4BAg6CA;AACA,UAAA,CAAA,KAAA,mBAAA,EAAA;AACA,aAAA,uBAAA,GAAA,IAAA;AACA,aAAA,KAAA,CAAA,OAAA,CAAA,EAAA;AACA,aAAA,cAAA,GAAA,EAAA;AACA,aAAA,sBAAA,GAAA,EAAA;AACA,aAAA,QAAA,GAAA,EAAA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,aAAA,UAAA,GAAA,EAAA;AACA,aAAA,aAAA,GAAA,EAAA;AACA,aAAA,iBAAA,GAAA,EAAA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA,aAAA,YAAA,GAAA,EAAA;AACA,aAAA,gBAAA,GAAA,IAAA;AACA,aAAA,mBAAA,GAAA,IAAA;AACA,aAAA,UAAA,GAAA,aAAA;AACA,aAAA,gBAAA,GAAA,EAAA;AACA,aAAA,aAAA,GAAA,EAAA;AACA,aAAA,eAAA,GAAA,MAAA;AACA,aAAA,2BAAA,GAAA,KAAA;AACA,QAAA,QAAA,CAAA,cAAA,CAAA,sBAAA,EAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,OArBA,MAqBA;AACA,aAAA,8BAAA;AACA;AAEA,KA17CA;AA27CA,IAAA,qBA37CA,mCA27CA;AAAA;;AACA,UAAA,CAAA,KAAA,cAAA,EAAA;AACA,aAAA,cAAA,GAAA,IAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,WAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA,OALA,MAKA;AACA,YAAA,CAAA,KAAA,gBAAA,CAAA,YAAA,EAAA;AACA,cAAA,QAAA,GAAA,QAAA,CAAA,cAAA,CAAA,kBAAA,CAAA;AACA,UAAA,QAAA,CAAA,WAAA,CAAA,QAAA,CAAA,iBAAA;AACA;;AACA,aAAA,cAAA,GAAA,KAAA;AACA,aAAA,cAAA;AACA,aAAA,gCAAA,GAAA,KAAA;AACA;AACA,KA18CA;AA28CA,IAAA,kBA38CA,gCA28CA;AAAA;;AACA,UAAA,CAAA,KAAA,YAAA,EAAA;AACA,aAAA,YAAA,GAAA,IAAA;AACA,aAAA,UAAA,GAAA,EAAA,CAFA,CAGA;AACA;AACA,OALA,MAKA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,aAAA,UAAA,GAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,OAAA,CAAA,MAAA;AACA,SAFA,EAEA,GAFA,CAAA;AAGA,OAZA,CAaA;;AACA,KAz9CA;AA09CA,IAAA,6BA19CA,yCA09CA,KA19CA,EA09CA;AACA;AACA,UAAA,OAAA,CAAA,KAAA,YAAA,CAAA,KAAA,CAAA,CAAA,KAAA,IAAA,EAAA;AACA,eAAA,KAAA,YAAA,CAAA,KAAA,EAAA,aAAA,KACA,KAAA,iBADA,GAEA,yBAFA,GAGA,IAHA;AAIA;AACA;AAl+CA;AAhJA,CAAA","sourcesContent":["<template>\n    <div :class=\"is_notification_template === true ? '':'dash-cont'\" >\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div :class=\"is_notification_template === true ? 'container-fluid p-0' : 'container-fluid'\" id=\"email_page\">\n        <div class=\"card dash-card\" style=\"border: 0\">\n          <div class=\"card dash-card\">\n            <div\n              class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n            >\n            <h4 class=\"mb-sm-0\">{{tlt('Email Campaign')}}</h4>\n              <div class=\"card-act d-flex flex-wrap\">\n                <input\n                    class=\"form-control search-bar\"\n                    style=\"padding: 0px 15px; height: 36px !important;\"\n                    id=\"search_bar_id\"\n                    :placeholder=\"tlt('search_template')\"\n                    v-model.trim=\"search_name\"\n                    v-on:keyup=\"callsearch\"\n                />\n                <a\n                  type=\"button\"\n                  v-if=\"isVisibleSearchClear\"\n                  class=\"btn bg-transparent mt-auto mb-auto py-0\"\n                  @click=\"clear_search_name\"\n                  style=\"margin-left: -40px; z-index: 10\"\n                >\n                  <img src=\"/img/close-icn.png\" alt />\n                </a>\n                <a\n                  id=\"send_email_btn\"\n                  href=\"#\"\n                  class=\"darkblue-btn\"\n                  data-toggle=\"modal\"\n                  data-target=\"\"\n                  title=\"Send Email\"\n                  v-if=\"templatelist.length > 0 && is_notification_template === false\"\n                  @click=\"email_verification_status()\"\n                >\n                  {{tlt('mailer_page_send_email_btn')}}\n                </a>\n                <a\n                  id=\"add_template_btn\"\n                  href=\"#\"\n                  class=\"darkblue-btn\"\n                  v-if=\"disable_btn_expired\"\n                  title=\"Add new Template\"\n                  @click=\"empty_variable\"\n                >\n                  {{tlt('mailer_page_add_template_btn_expired')}}\n                </a>\n                <a\n                  id=\"add_template_btn\"\n                  href=\"#\"\n                  v-else\n                  class=\"darkblue-btn\"\n                  data-toggle=\"modal\"\n                  data-target=\"#templatemodel\"\n                  title=\"Add new Template\"\n                  @click=\"empty_variable\"\n                >\n                  {{tlt('mailer_page_add_template_btn')}}\n                </a>\n                <a\n                  href=\"javascript:void(0)\"\n                  class=\"red-btn\"\n                  @click=\"delete_selected\"\n                  id=\"delete_intent\"\n                >\n                  {{tlt('mailer_page_delete_btn')}}\n                </a>\n              </div>\n            </div>\n            <div\n              class=\"modal fade\"\n              id=\"preview_template_visible\"\n              role=\"dialog\"\n              aria-labelledby=\"preview_template_visible\"\n              aria-hidden=\"true\"\n            >\n              <div\n                class=\"modal-dialog modal-dialog-centered modal-lg\"\n                role=\"document\"\n              >\n                <div class=\"modal-content\">\n                  <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">\n                      {{tlt('template_email_review_text')}}\n                    </h5>\n                    <button\n                      type=\"button\"\n                      class=\"close\"\n                      data-dismiss=\"modal\"\n                      aria-label=\"Close\"\n                    >\n                      <img src=\"/img/close-icn.png\" alt />\n                    </button>\n                  </div>\n                  <div class=\"modal-body\">\n                    <div v-html=\"preview_template_data\"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"card-body py-0\" id=\"page\">\n              <div class=\"col-sm-12 d-flex px-0\" v-if=\"templatelist.length > 0\">\n                <div class=\"col-sm-4 pl-0\" style=\"height: 80vh; overflow-y: auto\">\n                  <div class=\"table-box\">\n                    <div class=\"table-responsive\">\n                      <table class=\"table\" style=\"overflow-y: auto\">\n                        <thead>\n                          <!-- <tr> -->\n                          <th scope=\"col\">\n                            <div class=\"form-check checkbox checkbox-success\">\n                              <label class=\"form-check-label\">\n                                <input\n                                  class=\"form-check-input\"\n                                  id=\"selectall\"\n                                  type=\"checkbox\"\n                                  @change=\"selected_templates('all')\"\n                                />\n                                <span class=\"icn\"></span>\n                              </label>\n                            </div>\n                          </th>\n                          <th\n                            scope=\"col\"\n                            class=\"text-left\"\n                            style=\"\n                              font: normal normal normal 16px/22px Roboto;\n                              letter-spacing: 0px;\n                              color: #414141;\n                            \"\n                          >\n                            {{tlt('template_header')}}\n                          </th>\n                          <!-- </tr> -->\n                        </thead>\n                        <tbody>\n                          <tr\n                            v-for=\"(template, index) in templatelist\"\n                            :key=\"index\"\n                            :class=\"check_current_template_active(index)\"\n                          >\n                            <td scope=\"col\">\n                              <div class=\"form-check checkbox checkbox-success\">\n                                <label class=\"form-check-label\">\n                                  <input\n                                    class=\"form-check-input\"\n                                    type=\"checkbox\"\n                                    :id='index'\n                                    @change=\"\n                                      selected_templates(template.template_id)\n                                    \"\n                                  />\n                                  <span class=\"icn\"></span>\n                                </label>\n                              </div>\n                            </td>\n                            <td\n                              style=\"cursor: pointer\"\n                              @click=\"show_template(index)\"\n                              :title=\"template.template_name\"\n                            >\n                              <template>\n                                <p style=\"margin-bottom: 0\">\n                                  {{ template.template_name }}\n                                </p>\n                              </template>\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n                <div\n                  class=\"col-sm-8 pr-0\"\n                  style=\"overflow-y: auto\"\n                  v-if=\"templatelist.length > 0\"\n                >\n                  <div style=\"border: 1px solid #dbe2e8\">\n                    <div class=\"col-sm-12\">\n                      <div style=\"color: #414141\" class=\"\">\n                        <h5 class=\"mb-0 pt-2 d-flex\">\n                          <span class=\"mt-2 mb-0\">{{tlt('template_details_header')}}</span>\n                          <a\n                            class=\"ml-auto mt-2 mb-0\"\n                            href=\"javascript:void(0)\"\n                            title=\"Click Here for Preview\"\n                            style=\"color: rgb(39, 54, 121)\"\n                            @click=\"preview_template\"\n                            data-toggle=\"modal\"\n                          >\n                            <p\n                              class=\"labe1\"\n                              style=\"margin-right: 1rem; font-size: 1.25rem\"\n                            >\n                              {{tlt('mailer_page_preview_btn')}}\n                            </p></a\n                          >\n                          <span\n                            @click=\"edit_template_details\"\n                            v-html=\"pencil_svg\"\n                            class=\"mr-2 mt-2\"\n                            style=\"cursor: pointer\"\n                          ></span>\n                        </h5>\n                      </div>\n                    </div>\n                    <hr style=\"margin-top: 0\" />\n                    <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                          {{tlt('template_name_label')}}\n                        </p>\n                      </h5>\n                      <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                        <p>{{ current_template.template_name }}</p>\n                      </div>\n                      <div v-else>\n                        <input\n                          id=\"edit_template_name_id\"\n                          type=\"text\"\n                          v-model.trim=\"current_template.template_name\"\n                          v-on:keyup=\"validate_edit_template_name\"                    \n                          class=\"form-control\"\n                          style=\"padding: 0.375rem 0.75rem\"\n                          :placeholder=\"tlt('template_name_label')\"\n                        />\n                        <span\n                          v-show=\"edit_template_name_already_exist\"\n                          style=\"color: red\"\n                          >{{tlt('template_name_exist')}}</span\n                        >\n                      </div>\n                    </div>\n                    <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                          {{tlt('email_subject_label')}}\n                        </p>\n                      </h5>\n                      <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                        <p>{{ current_template.subject }}</p>\n                      </div>\n                      <div v-else>\n                        <input\n                          type=\"text\"\n                          v-model.trim=\"current_template.subject\"\n                          class=\"form-control\"\n                          style=\"padding: 0.375rem 0.75rem\"\n                          :placeholder=\"tlt('email_subject')\"\n                        />\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"!isEditTemplate && current_template.email != null\"\n                      class=\"col-sm-12\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_body_label')}}</p>\n                      </h5>\n                      <div style=\"padding-left: 20px\">\n                        <span v-html=\"current_template.email\"></span>\n                      </div>\n                    </div>\n                    <div\n                      v-else-if=\"is_edit_email && isEditTemplate\"\n                      class=\"col-sm-12\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_body_label')}}</p>\n                      </h5>\n                      <!-- <div>\n                        <vue-editor\n                          v-model=\"current_template.email\"\n                          :editorToolbar=\"customToolbar\"\n                        ></vue-editor>\n                      </div> -->\n                      <div id=\"edit_editor_temp\" v-if=\"!Boolean(current_template.is_html_body)\" class=\"form-group\">\n                        <div id=\"edit_editor\"></div>\n                      </div>\n                      <div v-if=\"current_template.is_html_body\">\n                        <textarea name=\"\" v-model=\"current_template.email\" id=\"\" rows=\"8\" style=\"width: 100%;\"></textarea>\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"\n                        !isEditTemplate &&\n                        Boolean(current_template.template_image_name) === true &&\n                        Boolean(current_template.image_redirect_url) === true\n                      \"\n                      class=\"col-sm-12\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('image_name_label')}}</p>\n                      </h5>\n                      <div style=\"padding-left: 20px\">\n                        <p>{{ current_template.template_image_name }}</p>\n                      </div>\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                          {{tlt('image_redirect_label')}}\n                        </p>\n                      </h5>\n                      <p>\n                        {{tlt('redirected_link_text')}}\n                      </p>\n                      <div style=\"padding-left: 20px\">\n                        <p>{{ current_template.image_redirect_url }}</p>\n                      </div>\n                    </div>\n                    <div\n                      v-else-if=\"isEditTemplate && !Boolean(current_template.is_html_body)\"\n                      class=\"col-sm-12\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <h5>\n                        {{tlt('add_img_in_email_label')}}<label\n                          style=\"\n                            font-size: 17px;\n                            font-weight: 400;\n                            padding-left: 0.3rem;\n                          \"\n                        >\n                          {{tlt('image_desc_label')}}\n                        </label>\n                      </h5>\n  \n                      <div style=\"display: flex; margin: 1%\">\n                        <div class=\"radio\">\n                          <label style=\"vertical-align: text-top\">\n                            <input\n                              type=\"radio\"\n                              value=\"yes\"\n                              name=\"is_edit_image_needed\"\n                              v-model=\"is_edit_image_needed\"\n                            />\n                            <span class=\"icn\" id=\"radio\"></span>\n                            {{tlt('img_in_email_yes_label')}}\n                          </label>\n                        </div>\n                        <div class=\"radio\" style=\"margin-left: 2%\">\n                          <label style=\"vertical-align: text-top\">\n                            <input\n                              type=\"radio\"\n                              value=\"none\"\n                              name=\"is_edit_image_needed\"\n                              v-model=\"is_edit_image_needed\"\n                            />\n                            <span class=\"icn\" id=\"radio\"></span>\n                            {{tlt('img_in_email_no_label')}}\n                          </label>\n                        </div>\n                      </div>\n                      <div\n                        class=\"custom-file\"\n                        v-if=\"is_edit_image_needed == 'yes'\"\n                        style=\"margin-bottom: 1rem\"\n                      >\n                        <input\n                          type=\"file\"\n                          class=\"custom-file-input\"\n                          @change=\"fileinput2\"\n                          id=\"inputFile2\"\n                        />\n                        <label\n                          style=\"\n                            font-weight: 400;\n                            line-height: 10px;\n                            padding-left: 15px;\n                          \"\n                          class=\"custom-file-label form-control\"\n                          for=\"file\"\n                          >{{ edited_file_label }}</label\n                        >\n                      </div>\n                      <div v-if=\"is_edit_image_needed == 'yes'\">\n                        <h5>{{tlt('image_redirect_url_label')}}</h5>\n                        <label>\n                          {{tlt('redirected_url_link_text')}}\n                        </label>\n                        <input\n                          type=\"text\"\n                          v-model=\"edit_img_redirect_url\"\n                          class=\"form-control\"\n                          style=\"padding: 0.375rem 0.75rem\"\n                          :placeholder=\"tlt('url_example')\"\n                        />\n                      </div>\n                    </div>\n  \n                    <div\n                      v-if=\"!isEditTemplate && current_template.sms != null\"\n                      class=\"col-sm-12\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">SMS</p>\n                      </h5>\n                      <div style=\"padding-left: 20px\">\n                        <p>{{ current_template.sms }}</p>\n                      </div>\n                    </div>\n                    <div\n                      v-else-if=\"is_edit_sms && isEditTemplate\"\n                      class=\"col-sm-12\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <h5>\n                        <p class=\"mt-2 mb-0\" style=\"color: #414141\">SMS</p>\n                      </h5>\n                      <div>\n                        <textarea\n                          maxlength=\"160\"\n                          class=\"form-control\"\n                          style=\"padding: 0.375rem 0.75rem\"\n                          v-model=\"current_template.sms\"\n                          id=\"exampleFormControlTextarea1\"\n                          rows=\"3\"\n                        >\n                        </textarea>\n                      </div>\n                    </div>\n                    <div class=\"modal-footer\" v-if=\"isEditTemplate\">\n                      <div class=\"dash-modal\">\n                        <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                          <button\n                            type=\"button\"\n                            class=\"btn btn-link\"\n                            style=\"border-radius: 0\"\n                            data-dismiss=\"modal\"\n                            @click=\"edit_template_details\"\n                          >\n                            {{tlt('product_config_mailer_cancel_btn')}}\n                          </button>\n                          <button\n                            type=\"submit\"\n                            class=\"darkblue-btn\"\n                            id=\"res_n_int_save\"\n                            @click=\"edit_template()\"\n                          >\n                            {{tlt('product_config_mailer_save_btn')}}\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-sm-12 d-flex px-0 py-5\" v-else-if=\"!spinnerOn\">\n                <h4 class=\"mx-auto\">\n                  {{tlt('no_template_data_text')}}\n                </h4>\n              </div>\n              <div class=\"pagin-table pb-3\" style=\"margin-top: 2%\" v-if=\"templatelist.length > 0\">\n                <nav aria-label=\"Page navigation example\">\n                  <ul class=\"pagination justify-content-center\">\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(page_no - 1)\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"8.667\"\n                          height=\"15.204\"\n                          viewBox=\"0 0 8.667 15.204\"\n                        >\n                          <g\n                            id=\"arrow-point-to-left\"\n                            transform=\"translate(105.806 15.204) rotate(180)\"\n                          >\n                            <path\n                              id=\"Path_1136\"\n                              data-name=\"Path 1136\"\n                              d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                              transform=\"translate(0 0)\"\n                              fill=\"#9499ae\"\n                            />\n                          </g>\n                        </svg>\n                      </a>\n                    </li>\n                    <li\n                      :class=\"'page-item ' + pagination_class(pageno)\"\n                      v-for=\"pageno in page_array\"\n                      :key=\"pageno\"\n                    >\n                      <a\n                        v-if=\"pageno == '...s' || pageno == '...l'\"\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(pageno)\"\n                        >...</a\n                      >\n                      <a\n                        v-if=\"pageno != '...s' && pageno != '...l'\"\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(pageno)\"\n                        >{{ pageno }}</a\n                      >\n                    </li>\n                    <li class=\"page-item\">\n                      <a\n                        class=\"page-link\"\n                        href=\"#\"\n                        @click=\"page_require(page_no + 1)\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"8.667\"\n                          height=\"15.204\"\n                          viewBox=\"0 0 8.667 15.204\"\n                        >\n                          <g\n                            id=\"arrow-point-to-right\"\n                            transform=\"translate(-97.139 0)\"\n                          >\n                            <path\n                              id=\"Path_1136\"\n                              data-name=\"Path 1136\"\n                              d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                              transform=\"translate(0 0)\"\n                              fill=\"#9499ae\"\n                            />\n                          </g>\n                        </svg>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        id=\"sendemail\"\n        class=\"modal fade dash-modal\"\n        role=\"dialog\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"modal-head d-flex align-items-center\">\n                <div class=\"head-icn\">\n                  <img src=\"/img/msg-blue.png\" alt />\n                </div>\n                <h3>{{tlt('email_model_sender_email_header')}}</h3>\n                <button\n                  type=\"button\"\n                  class=\"close close_btn\"\n                  @click=\"empty_variable\"\n                  data-dismiss=\"modal\"\n                >\n                  <img src=\"/img/close-icn.png\" alt />\n                </button>\n              </div>\n              <div class=\"form-group\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_model_template_name_header')}}</p>\n                </h5>\n                <div style=\"padding-left: 20px\">\n                  <p>{{ current_template.template_name }}</p>\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"d-flex\">\n                  <h5>\n                    <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_model_send_email_header')}}</p>\n                  </h5>\n                  <span\n                    v-if=\"!send_email_all_customer\"\n                    style=\"\n                      margin-left: 12px;\n                      margin-top: 10px !important;\n                      color: #0645ad;\n                    \"\n                  >\n                    <i\n                      class=\"fa fa-info-circle\"\n                      aria-hidden=\"true\"\n                      style=\"font-size: 16px\"\n                      title=\"you can also specify name while adding new email in this way (john.d@mail.com,John Doe), note this would only work in the case where you add new email.\"\n                    >\n                    </i>\n                  </span>\n                </div>\n                <div class=\"radio my-auto\" style=\"padding-left: 20px\">\n                  <label>\n                    <input\n                      type=\"radio\"\n                      v-model=\"send_email_all_customer\"\n                      :value=\"true\"\n                      id=\"send_email_all_customer_true_id\"\n                    />\n                    <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                    {{tlt('email_model_all_customer_label')}}\n                  </label>\n                  <label>\n                    <input\n                      type=\"radio\"\n                      v-model=\"send_email_all_customer\"\n                      :value=\"false\"\n                      id=\"send_email_all_customer_false_id\"\n                    />\n                    <span class=\"icn\"></span>\n                    {{tlt('email_model_specific_customer_label')}}\n                  </label>\n                </div>\n              </div>\n              <div class=\"form-group\" v-if=\"!send_email_all_customer\">\n                <multiselect\n                  v-model=\"specific_customer_list\"\n                  :options=\"customers_list\"\n                  id=\"specific_customer_list_id\"\n                  :searchable=\"true\"\n                  :close-on-select=\"false\"\n                  :multiple=\"true\"\n                  :taggable=\"true\"\n                  tag-position=\"top\"\n                  tag-placeholder=\"Add this as new email\"\n                  :placeholder=\"tlt('search_customer_email')\"\n                  :max-height=\"400\"\n                  label=\"email\"\n                  track-by=\"email\"\n                  open-direction=\"below\"\n                  @tag=\"addTag\"\n                >\n                  <!-- <span>{{ selected_role }}</span> -->\n                </multiselect>\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"modal\"\n                  @click=\"empty_variable\"\n                >\n                  {{tlt('template_model_cancel_btn')}}\n                </button>\n                <button\n                  type=\"submit\"\n                  class=\"darkblue-btn\"\n                  id=\"res_n_int_save\"\n                  @click=\"send_email()\"\n                >\n                 {{tlt('send_btn')}} \n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        id=\"templatemodel\"\n        class=\"modal fade dash-modal\"\n        role=\"dialog\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n      >\n        <div class=\"modal-dialog modal-lg\">\n          <div class=\"modal-content\">\n            <div class=\"modal-body\">\n              <div class=\"modal-head d-flex align-items-center\">\n                <div class=\"head-icn\">\n                  <img src=\"/img/msg-blue.png\" alt />\n                </div>\n                <h3>{{tlt('template_model_header')}}</h3>\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                  <img src=\"/img/close-icn.png\" alt />\n                </button>\n              </div>\n              <div class=\"form-group\">\n                <label>{{tlt('template_model_name_label')}}</label>\n                <input\n                  id=\"template_name_add_id\"\n                  type=\"text\"\n                  v-on:keyup=\"validate_template_name\"\n                  v-model.trim=\"template_name\"\n                  class=\"form-control\"\n                  :placeholder=\"tlt('template_name_label')\"\n                />\n                <span v-show=\"template_name_already_exist\" style=\"color: red\"\n                  >{{tlt('template_model_name_text')}}</span\n                >\n              </div>\n              <div class=\"form-group\">\n                <label>{{tlt('template_model_email_sub_label')}}</label>\n                <input\n                  type=\"text\"\n                  v-model=\"email_subject\"\n                  class=\"form-control\"\n                  :placeholder=\"tlt('email_subject')\"\n                />\n              </div>\n              <div class=\"form-group\" v-show=\"is_email\">\n                <div class=\"d-flex\">\n                  <label\n                    style=\"\n                      margin-top: 2px !important;\n                      margin-bottom: 7px !important;\n                    \"\n                    >{{tlt('template_model_email_body_label')}}</label\n                  >\n                  <span\n                    style=\"\n                      margin-left: 12px;\n                      margin-bottom: 5px !important;\n                      color: #0645ad;\n                    \"\n                  >\n                    <i\n                      class=\"fa fa-info-circle\"\n                      aria-hidden=\"true\"\n                      style=\"font-size: 16px\"\n                      title=\"To Display customer full name in email body use {full_name} and for customer first name use {first_name}. (Example Hi {full_name} would display Hi FirstName LastName).\"\n                    >\n                    </i>\n                  </span>\n                   <label\n                    class=\"ml-auto\"\n                    style=\"\n                      margin-top: 2px !important;\n                      margin-right: 10px;\n                      margin-bottom: 7px !important;\n                    \"\n                    >{{tlt('html_body_label')}}</label\n                  >\n                  <label class=\"switch col-sm-1\" style=\"margin-top:0px;\">\n                    <input\n                      type=\"checkbox\"\n                      @click=\"change_body_format\"\n                      v-model=\"is_html_body\"\n                      id=\"is_display_banner_on_landing_id\"\n                    />\n                    <span\n                      class=\"slider round\"\n                      style=\"border-radius: 50px;\"\n                    ></span>\n                  </label>\n                </div>\n                <!-- <vue-editor\n                  v-model=\"save_email\"\n                  :editorToolbar=\"customToolbar\"\n                ></vue-editor> -->\n                <div v-if=\"!is_html_body\" class=\"form-group\">\n                  <div id=\"editor\"></div>\n                </div>\n                <div v-if=\"is_html_body\">\n                  <textarea name=\"\" v-model=\"save_email\" id=\"\" rows=\"8\" style=\"width: 100%;\"></textarea>\n                </div>\n              </div>\n              <div v-if=\"!is_html_body\" class=\"form-group\">\n                <label>{{tlt('template_model_add_img_label')}}</label>\n                <label style=\"padding-left: 0.3rem\">\n                  {{tlt('template_model_add_img_text')}}\n                </label>\n                <div style=\"display: flex; margin: 1%\">\n                  <div class=\"radio\">\n                    <label style=\"vertical-align: text-top\">\n                      <input\n                        type=\"radio\"\n                        value=\"yes\"\n                        name=\"is_image_needed\"\n                        v-model=\"is_image_needed\"\n                      />\n                      <span class=\"icn\" id=\"radio\"></span>\n                      Yes\n                    </label>\n                  </div>\n                  <div class=\"radio\" style=\"margin-left: 2%\">\n                    <label style=\"vertical-align: text-top\">\n                      <input\n                        type=\"radio\"\n                        value=\"none\"\n                        name=\"is_image_needed\"\n                        v-model=\"is_image_needed\"\n                      />\n                      <span class=\"icn\" id=\"radio\"></span>\n                      No\n                    </label>\n                  </div>\n                </div>\n                <div class=\"custom-file\" v-if=\"is_image_needed == 'yes'\">\n                  <input\n                    type=\"file\"\n                    class=\"custom-file-input\"\n                    @change=\"fileinput1\"\n                    id=\"inputFile\"\n                  />\n                  <label\n                    style=\"\n                      font-weight: 400;\n                      line-height: 20px;\n                      padding-left: 15px;\n                    \"\n                    class=\"custom-file-label form-control\"\n                    for=\"file\"\n                    >{{ file_label }}</label\n                  >\n                </div>\n              </div>\n              <div class=\"form-group\" v-if=\"is_image_needed == 'yes' && !is_html_body\">\n                <label>{{tlt('template_model_image_url_label')}}</label>\n                <label>\n                  {{tlt('template_model_redirected_link_text')}}\n                </label>\n                <input\n                  type=\"text\"\n                  v-model=\"img_redirect_url\"\n                  class=\"form-control\"\n                  :placeholder=\"tlt('url_example')\"\n                />\n              </div>\n            </div>\n            <div class=\"modal-footer\">\n              <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"modal\"\n                  @click=\"empty_variable\"\n                >\n                  {{tlt('template_model_cancel_btn')}}\n                </button>\n                <button\n                  type=\"submit\"\n                  class=\"darkblue-btn \"\n                  id=\"save_template_btn\"\n                  data-dismiss=\"\"\n                  @click=\"save_template()\"\n                >\n                  {{tlt('template_model_save_btn')}}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { VueEditor } from \"vue2-editor\";\n  import axios from \"axios\";\n  import swal from \"sweetalert2\";\n  import Swal from \"sweetalert2\";\n  import api_calls from \"@/portal/api_calls\";\n  import { freeze_portal,show_subscription_expired_swal , close_modal} from \"@/portal/mixins\";\n  import Multiselect from \"vue-multiselect\";\n  \n  export default {\n    name: \"EmailCampaignPage\",\n    components: {\n      VueEditor,\n      Multiselect,\n    },\n    mixins: [freeze_portal,show_subscription_expired_swal , close_modal],\n    data() {\n      return {\n        pencil_svg:\n          ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n        company_id: this.$session.get(\"UserInformation\").company_id,\n        company_name: this.$session.get(\"UserInformation\").company_name,\n        spinnerOn: false,\n        template_name: \"\",\n        save_sms: \"\",\n        save_email: \"\",\n        is_sms: false,\n        is_email: true,\n        save_subject: \"\",\n        is_publish_email: true,\n        is_publish_sms: true,\n        is_edit_sms: false,\n        is_edit_email: true,\n        verification_status: null,\n        templatelist: [],\n        checked_list: [],\n        customToolbar: [\n          [\"bold\", \"italic\", \"underline\"],\n          [{ align: [] }],\n          [{ color: [] }, { background: [] }],\n          [{ list: \"ordered\" }, { list: \"bullet\" }],\n          [\"link\"],\n        ],\n        quill: \"\",\n        quill_edit: \"\",\n        is_html_body: false,\n        slot_variable:{},\n        current_template: [],\n        old_template_name: \"\",\n        isEditTemplate: false,\n        number_of_rows: null,\n        total_pages: null,\n        page_no: 1,\n        per_page: 10,\n        image_file: null,\n        image_file_2: null,\n        is_image_needed: \"none\",\n        is_edit_image_needed: \"none\",\n        email_subject: \"\",\n        reg_url:\n          /https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\n        is_edit_reg_url:\n          /https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\n        img_redirect_url: \"\",\n        edit_img_redirect_url: \"\",\n        file_label: \"Choose file\",\n        edited_file_label: \"Choose file\",\n        preview_template_data: \"\",\n        template_name_already_exist: false,\n        edit_template_name_already_exist: false,\n        page_array: [],\n        send_email_all_customer: true,\n        customers_list: [],\n        specific_customer_list: [],\n        disable_btn_expired: false,\n        email_reg:\n          /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n        search_name: \"\",\n        isVisibleSearchClear: false,\n      };\n    },\n    props: {\n      is_notification_template: Boolean,\n    },\n    watch: {\n      search_name() {\n        if (this.search_name === \"\") {\n          this.load_templates();\n          this.isVisibleSearchClear = false;\n        } else if (this.search_name !== \"\") {\n          this.isVisibleSearchClear = true;\n        }\n      },\n      // is_notification_template() {\n      //   console.log(this.is_notification_template);\n      // },\n    },\n    computed: {\n      validURL() {\n        if (this.reg_url.test(this.img_redirect_url)) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n      valid_edit_URL() {\n        if (this.is_edit_reg_url.test(this.edit_img_redirect_url)) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n    },\n    created() {\n      if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n        this.companyid = this.$session.get(\"CompanyId\");\n        this.companyname = this.$session.get(\"CompanyName\");\n      } else {\n        this.companyid = this.$session.get(\"UserInformation\").company_id;\n        this.companyname = this.$session.get(\"UserInformation\").company_name;\n      }\n    },\n    mounted() {\n      setTimeout(() => {\n        this.freeze_portal();\n      }, 1000);\n       this.$root.$on(\"EmailTemplatePageDisabled\", (data) =>{\n        if(data===true){\n          this.disable_btn_expired = true;\n          this.show_subscription_expired_swal();\n        }\n      })\n      this.load_templates();\n      if (this.is_notification_template === false){\n        this.load_customer_list();\n      }\n      var vm = this;\n      $(\"#selectall\").click(function () {\n        this.isEditTemplate = false;\n        this.is_sms = false;\n        this.is_email = true;\n        if ($(this).is(\":checked\")) {\n          $(\"input:checkbox\").prop(\"checked\", true);\n        } else {\n          vm.checked_list = [];\n          $(\"input:checkbox\").prop(\"checked\", false);\n        }\n      });\n      this.editor();\n      if (this.is_notification_template === true){\n        this.load_slot_variable();\n      }\n    },\n    methods: {\n      clear_search_name() {\n        this.search_name = \"\";\n      },\n      callsearch() {\n        if (this.search_name != \"\"){\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.template_promotional_email_campaign(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                is_search: true,\n                page_no: 1,\n                per_page: this.per_page,\n                is_notification: this.is_notification_template,\n                search_key: this.search_name\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.templatelist = [];\n              this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n              this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n              if (this.api_status_code.TEMPLATE_DOES_NOT_EXISTS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = [];\n                return;\n              } else if (this.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = response.data.data.template_search;\n                if (this.templatelist.length > 0) {\n                  this.show_template(0);\n                }\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n              this.isEditTemplate = false;\n              this.setpagination(1);\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      },\n      load_slot_variable(){\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.form_automation_dialog_tree(),\n            {\n              company_id: this.$session.get(\"UserInformation\").company_id,\n              company_name: this.$session.get(\"UserInformation\").company_name,\n              is_get_slot_variable: true,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.DATA_AVAILABLE_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              this.slot_variable = {};\n              for (let index = 0; index < response.data.data.slots_list.length; index++) {\n                const element = response.data.data.slots_list[index];\n                this.slot_variable[element] = '{' + element + '}';\n              }\n            // this.insert_variable('quill', this.slot_variable);\n            } else if(this.api_status_code.NO_SLOTS_FOUND_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            // this.insert_variable('quill', this.slot_variable);\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      editor(){\n        this.quill = new Quill(\"#editor\", {\n          modules: {\n            toolbar: [\n              [\"bold\", \"italic\", \"underline\"],\n              [\"link\"],\n              [{ align: [] }],\n              [{ color: [] }, { background: [] }],\n              [{ list: \"ordered\" }, { list: \"bullet\" }],\n            ],\n          },\n          theme: \"snow\",\n        });\n        this.quill.on(\"text-change\", () => {\n          this.$emit(\n            \"input\",\n            this.quill.getText() ? this.quill.root.innerHTML : \"\"\n          );\n          this.save_email = this.quill.getText() ? this.quill.root.innerHTML : \"\";\n        });\n        if(this.is_notification_template) {\n          this.insert_variable('quill', this.slot_variable);\n        }\n      },\n      edit_editor(){\n        this.quill_edit = new Quill(\"#edit_editor\", {\n        modules: {\n          toolbar: [\n            [\"bold\", \"italic\", \"underline\"],\n            [\"link\"],\n            [{ align: [] }],\n            [{ color: [] }, { background: [] }],\n            [{ list: \"ordered\" }, { list: \"bullet\" }],\n          ],\n        },\n        theme: \"snow\",\n      });\n      this.quill_edit.on(\"text-change\", () => {\n        this.$emit(\n          \"input\",\n          this.quill_edit.getText() ? this.quill_edit.root.innerHTML : \"\"\n        );\n        this.current_template.email = this.quill_edit.getText() ? this.quill_edit.root.innerHTML : \"\";\n      });\n      this.quill_edit.root.innerHTML = this.current_template.email;\n      this.insert_variable('quill_edit', this.slot_variable);\n      },\n      insert_variable(val, slot_variable){\n        if (this.is_notification_template === true){\n          const dropDownItems = {\n          'No slot variable': '',\n          }\n          const myDropDown = new QuillToolbarDropDown({\n              label: \"Insert Variable\",\n              rememberSelection: false,\n              id: \"dropdown_id\"\n          })\n          if(Object.entries(slot_variable).length === 0 && slot_variable.constructor === Object){\n            myDropDown.setItems(dropDownItems);\n          }else {\n            myDropDown.setItems(slot_variable);\n          }\n          myDropDown.onSelect = function(label, value, quill) {\n              const { index, length } = quill.selection.savedRange\n              quill.deleteText(index, length)\n              quill.insertText(index, value)\n              quill.setSelection(index + value.length)\n          }\n          myDropDown.attach(this.quill)\n          if (val === 'quill_edit'){\n            myDropDown.attach(this.quill_edit)\n          }\n        }\n      },\n      addTag(newTag) {\n        var tag_list = [];\n        tag_list = newTag.split(\",\");\n        if (tag_list.length > 2) {\n          swal({\n            text: this.tlt('email_temp_add_valid_tag_msg'),\n            type: \"warning\",\n            showConfirmButton: true,\n            timer: 4500,\n          });\n          return;\n        } else {\n          var email = tag_list[0];\n          var customer_name = Boolean(tag_list[1]) ? tag_list[1] : \" \";\n          if (!this.email_reg.test(email)) {\n            swal({\n              text: this.tlt('email_temp_valid_email_addr_msg'),\n              type: \"warning\",\n              showConfirmButton: true,\n              timer: 4500,\n            });\n            return;\n          }\n        }\n        const tag = {\n          customer_name: customer_name,\n          email: email,\n        };\n        this.customers_list.push(tag);\n        this.specific_customer_list.push(tag);\n      },\n      load_customer_list() {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.send_offer_to_customers(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              get_customers_list: true,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              this.customers_list = response.data.data.customers_list;\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      email_verification_status() {\n        if(!this.disable_btn_expired){\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.product_settings(),\n            {\n              company_name: this.companyname,\n              company_id: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              is_email_verification_status: true,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (\n              this.api_status_code.DATA_AVAILABLE.MSG_CODE == response.data.message.MSG_CODE\n            ) {\n              this.verification_status = response.data.data.verification_status;\n              // console.log(this.verification_status);\n              if (this.verification_status == \"Success\") {\n                // if (!document.getElementById(\"publish_template_btn\").disabled) {\n                $(\"#sendemail\").modal(\"show\");\n                this.load_customer_list();\n                // }\n              } else {\n                swal({\n                  text: this.tlt('email_temp_not_config_instruction_msg'),\n                  type: \"error\",\n                  showConfirmButton: true,\n                  timer: 13000,\n                });\n              }\n            } else if(this.api_status_code.EMAIL_NOT_CONFIGURED.MSG_CODE == response.data.message.MSG_CODE) {\n              swal({\n                  text: this.tlt('email_temp_not_config_instruction_msg1'),\n                  type: \"warning\",\n                  showConfirmButton: true,\n                  timer: 13000,\n                });\n            } \n            else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            toastr.error(this.tlt('email_temp_not_config_error_occur_msg'));\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n        }else{\n          this.show_subscription_expired_swal();\n        }\n      },\n      validate_template_name() {\n        axios.post(\n          api_calls.template_promotional_email_campaign(),\n          {\n             company_name: this.companyname,\n              company_id: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              subscription: this.$session.get(\"UserInformation\").subscription,\n              is_template_present: true,\n              is_notification: this.is_notification_template,\n              template_name: this.template_name,\n          },\n          {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n        )\n        .then((response) =>{\n          if (this.api_status_code.NOT_EXISTS_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              this.template_name_already_exist = false;\n              document.getElementById(\"template_name_add_id\").style.border =null;\n              if(this.template_name != \"\"){\n                document.getElementById(\"template_name_add_id\").style.border =\n                \"1px solid #00f000\";\n              }\n          } else if (this.api_status_code.ALREADY_EXISTS_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n            this.template_name_already_exist = true;\n              document.getElementById(\"template_name_add_id\").style.border =\n              \"1px solid red\";\n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"error\"\n            })\n          }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      validate_edit_template_name() {\n        axios.post(\n          api_calls.template_promotional_email_campaign(),\n          {\n             company_name: this.companyname,\n              company_id: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              subscription: this.$session.get(\"UserInformation\").subscription,\n              is_template_present: true,\n              is_notification: this.is_notification_template,\n              template_name: this.current_template.template_name,\n          },\n          {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n        )\n        .then((response) =>{\n          if (this.api_status_code.NOT_EXISTS_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              this.edit_template_name_already_exist = false;\n              document.getElementById(\"edit_template_name_id\").style.border =null;\n              if(this.current_template.template_name != \"\"){\n                document.getElementById(\"edit_template_name_id\").style.border =\n                \"1px solid #00f000\";\n              }\n            } else if (this.api_status_code.ALREADY_EXISTS_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              if (this.old_template_name == this.current_template.template_name){\n                this.edit_template_name_already_exist = false;\n                document.getElementById(\"edit_template_name_id\").style.border =null;\n              }else{\n                this.edit_template_name_already_exist = true;\n                document.getElementById(\"edit_template_name_id\").style.border =\n                \"1px solid red\";\n              }\n            } else {\n                  Swal({\n                    title: response.data.message.MSG_CODE,\n                    text: response.data.message.MSG,\n                    showCancelButton: false,\n                    showConfirmButton: false,\n                    type: \"error\"\n                  })\n                }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      preview_template() {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_email_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_preview: true,\n              template_id: this.current_template.template_id,\n              is_notification: this.is_notification_template,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.TEMPLATE_RECEIVED_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              this.preview_template_data = response.data.data.Template;\n              $(\"#preview_template_visible\").modal(\"show\");\n            } else if(this.api_status_code.TEMPLATE_DOES_NOT_EXISTS_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      send_email_confirm_prompt_text(all_customer) {\n        if (all_customer) {\n          return this.tlt('email_temp_send_bulk_email_msg');\n        } else {\n          return this.tlt('email_temp_send_specific_customer_msg');\n        }\n      },\n      send_email() {\n        if (!this.send_email_all_customer) {\n          if(!Boolean(this.specific_customer_list.length > 0)){\n            swal({\n            text: this.tlt('email_temp_select_one_email_msg'),\n            type: \"warning\",\n            timer: 5000,\n          });\n          return\n          }\n        }\n        Swal.fire({\n          title:this.send_email_confirm_prompt_text(this.send_email_all_customer),\n          text: this.tlt('email_temp_swal_confirm_msg'),\n          showCancelButton: true,\n          type:'warning',\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: this.tlt('email_temp_swal_yes_msg'),\n        }).then((result) => {\n          if (result.value) {\n            $(\"#sendemail\").modal(\"hide\");\n            this.spinnerOn = true;\n            axios\n              .post(\n                api_calls.send_offer_to_customers(),\n                {\n                  company_id: this.company_id,\n                  company_name: this.company_name,\n                  email: this.$session.get(\"UserInformation\").email,\n                  license_key: this.$session.get(\"UserInformation\").license_key,\n                  token: this.$session.get(\"UserInformation\").tokens,\n                  send_email: true,\n                  send_email_all_customer: this.send_email_all_customer,\n                  specific_customer_list:\n                    this.send_email_all_customer != true\n                      ? this.specific_customer_list\n                      : [],\n                  template_id: this.current_template.template_id,\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                this.spinnerOn = false;\n                if (this.api_status_code.SENDING_EMAIL_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                  // this.save_subject = \"\";\n                  // $(\"#publishtemplatemodel\").modal(\"hide\");\n                  swal({\n                    text: this.tlt('email_temp_sent_successful_msg'),\n                    type: \"success\",\n                    timer: 5000,\n                    title: this.tlt('email_temp_swal_success_msg'),\n                  }).then((result) => {\n                    $(\"#sendemail\").modal(\"hide\");\n                    this.empty_variable();\n                  });\n                } else if(this.api_status_code.UPGRADE_PLAN_TO_SEND_EMAIL_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                    swal({\n                      type: \"warning\",\n                      text: this.tlt('email_temp_upgrade_plan_msg'),\n                      showCancelButton: true,\n                      confirmButtonColor:'#3085d6',\n                      confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n                      cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n                      cancelButtonColor: '#d33',\n                    }).then((result) => {\n                      if (result.value == true)\n                      {\n                        this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                      }\n                    });\n                } else {\n                  Swal({\n                    title: response.data.message.MSG_CODE,\n                    text: response.data.message.MSG,\n                    showCancelButton: false,\n                    showConfirmButton: false,\n                    type: \"error\"\n                  })\n                }\n              })\n              .catch((e) => {\n                this.spinnerOn = false;\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n          }\n        });\n      },\n      selected_templates(value) {\n        if(value == \"all\"){\n          if (event.target.checked) {\n            this.checked_list = [];\n              for (var i in this.templatelist) {\n                this.checked_list.push(this.templatelist[i].template_id);\n            }\n            $(\"input:checkbox\").prop(\"checked\", false);\n            for(let i = 0; i < this.checked_list.length; i++){\n              $(\"#\"+[i]).prop(\"checked\", true);\n              $(\"#selectall\").prop(\"checked\", true);\n            }\n          }else if (!event.target.checked){\n            this.checked_list = [];\n            $(\"input:checkbox\").prop(\"checked\", false);\n          }\n  \n        }else{\n          if (event.target.checked) {\n            this.checked_list.push(value);\n          } else if (!event.target.checked){\n            var selectall = document.querySelector(\"#selectall\");\n            if (selectall.checked) {\n              selectall.checked = false;\n            }\n            var temp = this.checked_list.filter((templates_id) => {\n              return templates_id != value;\n            });\n            this.checked_list = temp;\n          }\n        }\n      },\n      load_templates() {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_email_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_get: true,\n              is_notification: this.is_notification_template,\n              page_no: this.page_no,\n              per_page: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if(this.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n                this.templatelist = response.data.data;\n                if (this.templatelist.length > 0) {\n                  // this.current_template = this.templatelist[0];\n                  this.show_template(0);\n                }\n                this.isEditTemplate = false;\n            } else if(this.api_status_code.UNSUCCESSFUL_DB_OPERATION_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.templatelist = [];\n                return;\n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n            this.setpagination(this.page_no);\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      fileinput1(e) {\n        let files = e.target.files || e.dataTransfer.files;\n        if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n          if (!files.length) return;\n          this.file_label = files[0].name;\n          this.createImage(files[0]);\n        } else {\n          swal({\n            text: this.tlt('email_temp_image_type_msg1'),\n            type: \"error\",\n            timer: 2500,\n          });\n        }\n      },\n      createImage(file, type) {\n        let reader = new FileReader();\n  \n        reader.onload = (e) => {\n          this.image_file = e.target.result.split(\"base64,\")[1];\n        };\n        reader.readAsDataURL(file);\n      },\n      fileinput2(e) {\n        let files = e.target.files || e.dataTransfer.files;\n        if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n          if (!files.length) return;\n          this.old_edited_image_name = this.edited_file_label;\n          this.edited_file_label = files[0].name;\n          this.createImage2(files[0]);\n        } else {\n          swal({\n            text: this.tlt('email_temp_image_type_msg2'),\n            type: \"error\",\n            timer: 2500,\n          });\n        }\n      },\n      createImage2(file, type) {\n        let reader = new FileReader();\n  \n        reader.onload = (e) => {\n          this.image_file_2 = e.target.result.split(\"base64,\")[1];\n        };\n        reader.readAsDataURL(file);\n      },\n      create_UUID() {\n        var dt = new Date().getTime();\n        var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n          /[xy]/g,\n          function (c) {\n            var r = (dt + Math.random() * 16) % 16 | 0;\n            dt = Math.floor(dt / 16);\n            return (c == \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n          }\n        );\n        return uuid;\n      },\n      page_require(page) {\n        if (page == 0 || page == this.total_pages + 1) {\n        } else {\n          if (this.search_name == \"\") {\n            if (page == \"...s\") {\n              this.page_no = Math.ceil((1 + this.page_no) / 2);\n            } else if (page == \"...l\") {\n              this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n            } else {\n              this.page_no = page;\n            }\n            $(\"input:checkbox\").prop(\"checked\", false);\n            this.spinnerOn = true;\n            axios\n              .post(\n                api_calls.template_promotional_email_campaign(),\n                {\n                  company_id: this.company_id,\n                  company_name: this.company_name,\n                  is_get: true,\n                  is_notification: this.is_notification_template,\n                  page_no: this.page_no,\n                  per_page: this.per_page,\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                this.spinnerOn = false;\n                if(this.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n                this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n                this.templatelist = response.data.data;\n                if (this.templatelist.length > 0) {\n                    this.current_template = this.templatelist[0];\n                  }\n                this.isEditTemplate = false;\n                } else if(this.api_status_code.UNSUCCESSFUL_DB_OPERATION_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                    this.templatelist = [];\n                    return;\n                } else {\n                  Swal({\n                    title: response.data.message.MSG_CODE,\n                    text: response.data.message.MSG,\n                    showCancelButton: false,\n                    showConfirmButton: false,\n                    type: \"error\"\n                  })\n                }\n                this.setpagination(this.page_no);\n              })\n              .catch((e) => {\n                this.spinnerOn = false;\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n          } else {\n            if (page == \"...s\") {\n                this.page_no = Math.ceil((1 + this.page_no) / 2);\n              } else if (page == \"...l\") {\n                this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n              } else {\n                this.page_no = page;\n              }\n              $(\"input:checkbox\").prop(\"checked\", false);\n              this.spinnerOn = true;\n              axios\n                .post(\n                  api_calls.template_promotional_email_campaign(),\n                  {\n                    company_id: this.company_id,\n                    company_name: this.company_name,\n                    is_search: true,\n                    page_no: this.page_no,\n                    per_page: this.per_page,\n                    is_notification: this.is_notification_template,\n                    search_key: this.search_name\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  this.spinnerOn = false;\n                  this.templatelist = [];\n                  this.number_of_rows = response.data.pagination.total_data == undefined ? 0 : response.data.pagination.total_data;\n                  this.total_pages = response.data.pagination.total_page == undefined ? 0 : response.data.pagination.total_page;\n                  if (this.api_status_code.TEMPLATE_DOES_NOT_EXISTS_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                    this.templatelist = [];\n                    return;\n                  } else if (this.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n                    this.templatelist = response.data.data.template_search;\n                    if (this.templatelist.length > 0) {\n                      this.show_template(0);\n                    }\n                  } else {\n                    Swal({\n                      title: response.data.message.MSG_CODE,\n                      text: response.data.message.MSG,\n                      showCancelButton: false,\n                      showConfirmButton: false,\n                      type: \"error\"\n                    })\n                  }\n                  this.isEditTemplate = false;\n                  this.setpagination(1);\n                })\n                .catch((e) => {\n                  this.spinnerOn = false;\n                  if (\n                    e.response.status === 410 ||\n                    e.response.status === 440 ||\n                    e.response.status === 409\n                  ) {\n                    this.$root.$emit(\"Session_Expired\", e.response.data);\n                  }\n                });\n            }\n        }\n      },\n      setpagination(page_no) {\n        this.page_array = [];\n        if (this.total_pages <= 7) {\n          for (let i = 0; i < this.total_pages; i++) {\n            this.page_array.push(i + 1);\n          }\n        } else if (page_no == 1) {\n          for (let i = 0; i < 4; i++) {\n            this.page_array.push(i + 1);\n          }\n          this.page_array.push(\"...l\");\n          this.page_array.push(this.total_pages);\n        } else if (page_no == this.total_pages) {\n          this.page_array.push(1);\n          this.page_array.push(\"...s\");\n          for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n            this.page_array.push(i + 1);\n          }\n        } else if (page_no <= 4) {\n          for (let i = 0; i < page_no + 3; i++) {\n            this.page_array.push(i + 1);\n          }\n          this.page_array.push(\"...l\");\n          this.page_array.push(this.total_pages);\n        } else if (page_no >= this.total_pages - 4) {\n          this.page_array.push(1);\n          this.page_array.push(\"...s\");\n          for (let i = page_no - 4; i < this.total_pages; i++) {\n            this.page_array.push(i + 1);\n          }\n        } else {\n          this.page_array.push(1);\n          this.page_array.push(\"...s\");\n          for (let i = page_no - 3; i <= page_no + 3; i++) {\n            this.page_array.push(i);\n          }\n          this.page_array.push(\"...l\");\n          this.page_array.push(this.total_pages);\n        }\n      },\n      pagination_class(index) {\n        if (index == this.page_no) {\n          return \" active\";\n        } else {\n          return \"\";\n        }\n      },\n      save_template() {\n        if (this.template_name == \"\") {\n          Swal({\n            text: this.tlt('email_model_template_name_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.template_name_already_exist == true) {\n          Swal({\n            text: this.tlt('email_model_name_exist_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.email_subject == \"\") {\n          Swal({\n            text: this.tlt('email_model_enter_subject_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.is_sms == true && this.save_sms == \"\") {\n          Swal({\n            text: this.tlt('email_model_enter_sms_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.is_email == true && this.save_email == \"\") {\n          Swal({\n            text: this.tlt('email_model_enter_email_body_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.is_email == false && this.is_sms == false) {\n          Swal({\n            text: this.tlt('email_model_select_option_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (\n          this.is_image_needed == \"yes\" &&\n          document.getElementById(\"inputFile\").value == \"\"\n        ) {\n          Swal({\n            text: this.tlt('email_model_choose_img_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.is_image_needed == \"yes\" && !this.validURL) {\n          Swal({\n            text: this.tlt('email_model_valid_url_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else {\n          if (this.is_html_body) this.is_image_needed = 'none';\n          var uuid = this.create_UUID();\n          axios\n                .post(\n                  api_calls.template_promotional_email_campaign(),\n                  {\n                    company_id: this.company_id,\n                    company_name: this.company_name,\n                    is_save: true,\n                    is_notification: this.is_notification_template,\n                    template_id: uuid,\n                    template_name: this.template_name,\n                    save_email: this.is_email == true ? this.save_email : null,\n                    save_sms: this.is_sms == true ? this.save_sms : null,\n                    email_subject: this.email_subject,\n                    email_img_file:\n                      this.is_image_needed === \"none\" ? null : this.image_file,\n                    email_img_name: this.file_label,\n                    email_img_link: this.img_redirect_url,\n                    is_html_body: this.is_html_body\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  if (this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                    Swal({\n                      type: \"success\",\n                      text: this.tlt('email_model_data_added_successful_msg'),\n                      timer: 2500,\n                    }).then((result) => {\n                      this.empty_variable();\n                      this.load_templates();\n                      \n                    });\n                  } else if (this.api_status_code.IMG_DUPLICATE_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                    Swal({\n                      type: \"error\",\n                      text: this.tlt('email_model_img_already_found_msg'),\n                      timer: 2500,\n                    });\n                    this.empty_variable();\n                    this.load_templates();\n                    return;\n                  } else if (this.api_status_code.UNSUCCESSFUL_DB_OPERATION_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                    Swal({\n                      title: response.data.message.MSG_CODE,\n                      text: response.data.message.MSG,\n                      showCancelButton: false,\n                      showConfirmButton: false,\n                      type: \"error\"\n                    })\n                    this.empty_variable();\n                    this.load_templates();\n                    return;\n                  } else {\n                    Swal({\n                      title: response.data.message.MSG_CODE,\n                      text: response.data.message.MSG,\n                      showCancelButton: false,\n                      showConfirmButton: false,\n                      type: \"error\"\n                    })\n                    return\n                  }\n                })\n                .catch((e) => {\n                  Swal({\n                    type: \"error\",\n                    text: this.tlt('email_model_error_occur_msg2'),\n                    timer: 2500,\n                  });\n                  if (\n                    e.response.status === 410 ||\n                    e.response.status === 440 ||\n                    e.response.status === 409\n                  ) {\n                    this.$root.$emit(\"Session_Expired\", e.response.data);\n                  }\n                });\n                this.close_modal(\"save_template_btn\");\n                \n          // Swal.fire({\n          //   title: this.tlt('email_model_swal_alert_msg'),\n          //   text: this.tlt('email_model_add_current_template_msg'),\n          //   type: \"question\",\n          //   showCancelButton: true,\n          //   confirmButtonColor: \"#3085d6\",\n          //   cancelButtonColor: \"#d33\",\n          //   confirmButtonText: this.tlt('email_model_swal_confirm_msg'),\n          // }).then((result) => {\n          //   if (result.value) {\n          //     Swal({\n          //       text: this.tlt('email_model_submit_details_msg'),\n          //       type: \"info\",\n          //       toast: true,\n          //       showConfirmButton: false,\n          //     });\n              \n           \n                \n            }\n            \n           \n       \n        \n      },\n      edit_template() {\n        if (this.current_template.template_name == \"\") {\n          Swal({\n            text: this.tlt('email_edit_template_name_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.edit_template_name_already_exist == true) {\n          Swal({\n            text: this.tlt('email_edit_name_already_exist_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.current_template.subject == \"\") {\n          Swal({\n            text: this.tlt('email_edit_enter_subject_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (\n          this.is_edit_sms == true &&\n          (this.current_template.sms == null || this.current_template.sms == \"\")\n        ) {\n          Swal({\n            text: this.tlt('email_edit_enter_sms_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (\n          this.is_edit_email == true &&\n          (this.current_template.email == null ||\n            this.current_template.email == \"\")\n        ) {\n          Swal({\n            text: this.tlt('email_edit_enter_email_body_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.is_edit_email == false && this.is_edit_sms == false) {\n          Swal({\n            text: this.tlt('email_edit_select_option_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (this.is_edit_image_needed == \"yes\" && !this.valid_edit_URL) {\n          Swal({\n            text: this.tlt('email_edit_valid_url_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else if (\n          this.is_edit_image_needed == \"yes\" &&\n          this.edited_file_label == \"Choose file\" &&\n          document.getElementById(\"inputFile2\").value == \"\"\n        ) {\n          Swal({\n            text: this.tlt('email_edit_choose_img_msg'),\n            toast: true,\n            position: \"top-end\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 2500,\n          });\n          return;\n        } else {\n          if (this.is_html_body) this.is_edit_image_needed = 'none';\n          Swal({\n            text: this.tlt('email_edit_submit_details_msg'),\n            type: \"info\",\n            toast: true,\n            showConfirmButton: false,\n          });\n          axios\n            .post(\n              api_calls.template_promotional_email_campaign(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                is_edit: true,\n                is_notification: this.is_notification_template,\n                template_id: this.current_template.template_id,\n                template_name: this.current_template.template_name,\n                email_subject: this.current_template.subject,\n                save_email:\n                  this.is_edit_email == true ? this.current_template.email : null,\n                save_sms:\n                  this.is_edit_sms == true ? this.current_template.sms : null,\n                email_img_file:\n                  this.is_edit_image_needed === \"none\" ? null : this.image_file_2,\n                email_img_name:\n                  this.is_edit_image_needed === \"none\"\n                    ? null\n                    : this.edited_file_label,\n                email_img_link:\n                  this.is_edit_image_needed === \"none\"\n                    ? null\n                    : this.edit_img_redirect_url,\n                is_image_edit:\n                  this.edited_file_label != this.old_edited_image_name\n                    ? true\n                    : false,\n                is_image_present:\n                  this.is_edit_image_needed === \"none\" ? false : true,\n                old_image:\n                  this.old_edited_image_name == \"Choose File\"\n                    ? null\n                    : this.old_edited_image_name,\n                is_html_body: this.current_template.is_html_body\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              if (this.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  type: \"success\",\n                  text: this.tlt('email_edit_data_edit_successful_msg'),\n                  timer: 2500,\n                }).then((result) => {\n                  this.load_templates();\n                });\n              } else if (this.api_status_code.IMG_DUPLICATE_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                document.getElementById(\"inputFile2\").value = \"\";\n                swal({\n                  text: this.tlt('email_edit_img_already_found_msg'),\n                  type: \"error\",\n                  timer: 3000,\n                });\n              } else if (this.api_status_code.UNSUCCESSFUL_DB_OPERATION_MODELS.MSG_CODE == response.data.message.MSG_CODE) {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n              Swal({\n                type: \"error\",\n                text: this.tlt('email_edit_error_occur_msg2'),\n                timer: 2500,\n              });\n            });\n        }\n      },\n      delete_selected() {\n        if (this.checked_list.length == 0) {\n          Swal.fire({\n            title: this.tlt('email_temp_no_template_select_msg'),\n            text: \"\",\n            type: \"error\",\n            timer: 2000,\n          });\n        } else {\n          Swal.fire({\n            title: this.tlt('email_temp_swal_alert_msg2'),\n            text: this.tlt('email_temp_swal_delete_current_template_msg'),\n            type: \"question\",\n            showCancelButton: true,\n            confirmButtonColor: \"#3085d6\",\n            cancelButtonColor: \"#d33\",\n            confirmButtonText: this.tlt('email_temp_swal_confirm_msg'),\n          }).then((result) => {\n            if (result.value) {\n              this.delete_templates(this.checked_list);\n            }\n          });\n        }\n      },\n      delete_templates(checked_list) {\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_email_campaign(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_delete: true,\n              template_list: checked_list,\n              is_notification: this.is_notification_template,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (this.api_status_code.DELETED_SUCCESSFULLY_0004_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                type: \"success\",\n                text: this.tlt('email_temp_data_deleted_msg'),\n                timer: 2500,\n              }).then((result) => {\n                this.checked_list = [];\n                $(\"input:checkbox\").prop(\"checked\", false);\n                this.load_templates();\n              });\n            } else if (this.api_status_code.UNSUCCESSFUL_DB_OPERATION_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n            } else if (this.api_status_code.NOTHING_TO_DELETE_MODELS.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n            } else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      },\n      show_template(index) {\n        if (this.isEditTemplate) {\n          this.edit_template_details();\n        }\n        this.current_template = JSON.parse(JSON.stringify(this.templatelist[index]));\n        this.old_template_name = this.current_template.template_name;\n        this.current_template_index = index;\n        if (Boolean(this.current_template.template_image_name) === true) {\n          this.is_edit_image_needed = \"yes\";\n        } else {\n          this.is_edit_image_needed = \"none\";\n        }\n        if (this.templatelist[index].email != null) {\n          this.is_edit_email = true;\n        } else {\n          this.is_edit_email = false;\n        }\n        if (this.templatelist[index].sms != null) {\n          this.is_edit_sms = true;\n        } else {\n          this.is_edit_sms = false;\n        }\n        if (Boolean(this.current_template.template_image_name) === true) {\n          this.edited_file_label = this.current_template.template_image_name;\n          this.old_edited_image_name = this.edited_file_label;\n          this.edit_img_redirect_url = this.current_template.image_redirect_url;\n          if (this.edited_file_label == \"\") {\n            this.edited_file_label = \"Choose file\";\n          }\n        } else {\n          this.edited_file_label = \"Choose file\";\n          this.old_edited_image_name = this.edited_file_label;\n          this.edit_img_redirect_url = \"\";\n        }\n      },\n      empty_variable() {\n        if(!this.disable_btn_expired){\n          this.send_email_all_customer = true;\n          this.quill.setText(\"\");\n          this.customers_list = [];\n          this.specific_customer_list = [];\n          this.save_sms = \"\";\n          this.is_html_body = false;\n          this.save_email = \"\";\n          this.template_name = \"\";\n          this.old_template_name = \"\";\n          this.is_email = true;\n          this.is_sms = false;\n          this.save_subject = \"\";\n          this.is_publish_email = true;\n          this.verification_status = null;\n          this.file_label = \"Choose file\";\n          this.img_redirect_url = \"\";\n          this.email_subject = \"\";\n          this.is_image_needed = \"none\";\n          this.template_name_already_exist = false;\n          document.getElementById(\"template_name_add_id\").style.border = null;\n        }else {\n          this.show_subscription_expired_swal();\n        }\n      \n      },\n      edit_template_details() {\n        if (!this.isEditTemplate) {\n          this.isEditTemplate = true;\n          setTimeout(() => {\n            this.edit_editor();\n          }, 1000);\n        } else {\n          if(!this.current_template.is_html_body){\n            var elements = document.getElementById('edit_editor_temp');\n            elements.removeChild(elements.firstElementChild)\n          }\n          this.isEditTemplate = false;\n          this.load_templates();\n          this.edit_template_name_already_exist = false;\n        }\n      },\n      change_body_format(){\n          if(!this.is_html_body) {\n            this.is_html_body = true;\n            this.save_email = \"\";\n            // const element = document.getElementById(\"editor\");\n            // element.remove();\n          }else {\n            this.is_html_body = false;\n            this.save_email = \"\";\n              setTimeout(() => {\n                this.editor();\n              }, 500);\n          }\n        // }, 1000);\n      },\n      check_current_template_active(index) {\n        // console.table(index, this.templatelist[index], this.current_template);\n        if (Boolean(this.templatelist[index]) === true) {\n          return this.templatelist[index].template_name ===\n            this.old_template_name\n            ? \"current-active-template\"\n            : null;\n        }\n      },\n    },\n  };\n  </script>\n  <style>\n  .ql-picker-options {\n    max-height: 200px !important;\n    overflow: auto !important;\n  }\n  .ql-dropdown_id{\n    background: lightgray !important;\n  }\n  .ql-snow .ql-picker.ql-expanded .ql-picker-label {\n      color: #000 !important;\n      z-index: 2;\n  }\n  .ql-container{\n    min-height: 150px !important;\n  }\n  .ql-editor{\n      min-height:150px !important;\n  }\n  </style>\n  <style scoped>\n  \n  .close_btn{\n    position: absolute !important;\n    top: 30px !important;\n  }\n  .current-active-template {\n    background: rgba(0, 0, 0, 0.1);\n  }\n  .modal-xl {\n    max-width: 1140px;\n    min-height: 1140px;\n  }\n  .table-box tbody tr:hover td,\n  .table-box tbody tr:hover th {\n    background: #ececec;\n  }\n  textarea {\n    resize: none;\n  }\n  /* .table-responsive {\n    height: 80vh;\n    overflow-y: auto;\n    border: 1px solid #e3e2e5;\n  } */\n  /* .table-responsive thead th {\n    top: 0;\n    position: sticky;\n  }\n  .table-responsive::-webkit-scrollbar {\n    max-height: 10px;\n    width: 7px;\n    height: 7px;\n    border-radius: 10px;\n    overflow-x: hidden;\n  }\n  .table-responsive::-webkit-scrollbar-track {\n    background: #ffffff;\n    border-radius: 10px;\n  }\n  .table-responsive::-webkit-scrollbar-thumb {\n    background: #27397b;\n    border-radius: 10px;\n  }\n  .table-responsive::-webkit-scrollbar-thumb:hover {\n    background: #19295f;\n    border-radius: 10px;\n  } */\n  </style>"],"sourceRoot":"src/portal/Chatbot/Dashboard/Campaigns"}]}