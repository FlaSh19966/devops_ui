{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/LiveChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/LiveChat.vue","mtime":1645594423483},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IFNvY2tldCB9IGZyb20gInBob2VuaXgtc29ja2V0IjsKaW1wb3J0IHsgc2V0SW50ZXJ2YWwgfSBmcm9tICJ0aW1lcnMiOwppbXBvcnQgZGVib3VuY2UgZnJvbSAidnVlLWRlYm91bmNlL2Rpc3QvZGVib3VuY2UubWluLmpzIjsKaW1wb3J0IHsgZ2VuZXJhdGVfdGltZSB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcl9saXN0OiBbXSwKICAgICAgY3VycmVudF91c2VyOiB7fSwKICAgICAgY3VycmVudF9jaGFubmVsOiAiIiwKICAgICAgZmlyc3RfbmFtZTogdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJGaXJzdE5hbWUiKSA/IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VyRmlyc3ROYW1lIikgOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZmlyc3RfbmFtZSwKICAgICAgbGFzdF9uYW1lOiB0aGlzLiRzZXNzaW9uLmhhcygiVXNlckxhc3ROYW1lIikgPyB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckxhc3ROYW1lIikgOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGFzdF9uYW1lLAogICAgICBhZ2VudF91c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICBjaGF0X2xpc3Q6IFtdLAogICAgICB0b19zZW5kOiAiIiwKICAgICAgY2g6IG51bGwsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIHVzZXJfY2hhbm5lbHM6IHt9LAogICAgICBzb2NrZXQ6IG51bGwsCiAgICAgIG1zZ19zZW5kZXI6ICIiLAogICAgICBkZWxheTogMTAwMDAsCiAgICAgIGlzX3R5cGluZ19pbmRpY2F0b3Jfb246IGZhbHNlIC8vIHVzZXJfbGlzdDogW3siY2hhbm5lbF9uYW1lIjoiY3VzdG9tZXJzX2dyb3VwczpkaHM2YmVubmtsIiwidXNlcm5hbWUiOiJWaW1sZXNoaCIsImlzX2Nvbm5lY3RlZCI6ZmFsc2UsImFnZW50X3VzZXJuYW1lIjpudWxsLCJhZ2VudF9yb2xlIjpudWxsLCJzdGF0ZSI6IndhaXRpbmcifSx7ImNoYW5uZWxfbmFtZSI6ImN1c3RvbWVyc19ncm91cHM6aGVtemFzdG5oZSIsInVzZXJuYW1lIjoiQWtzaGF5IiwiaXNfY29ubmVjdGVkIjpmYWxzZSwiYWdlbnRfdXNlcm5hbWUiOm51bGwsImFnZW50X3JvbGUiOm51bGwsInN0YXRlIjoid2FpdGluZyJ9XQoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdG9fc2VuZDogZnVuY3Rpb24gdG9fc2VuZChuZXdWYWwpIHsKICAgICAgdGhpcy5idXR0b25fZmlsbCgpOwogICAgfQogIH0sCiAgbWl4aW5zOiBbZ2VuZXJhdGVfdGltZV0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5zb2NrZXQgPSBuZXcgU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfTElWRV9DSEFUX1dFQlNPQ0tFVF9FTkRQT0lOVCwgewogICAgICBwYXJhbXM6IHsKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlCiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5zb2NrZXQuY29ubmVjdCgpOwogICAgdGhpcy5jaCA9IHRoaXMuc29ja2V0LmNoYW5uZWwoImNvbXBhbmllczoiICsgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSk7CiAgICB0aGlzLmNoLmpvaW4oKTsKICAgIHRoaXMuY2gub24oJ25ld19uYW1lJywgZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgY2hlY2sgPSBfdGhpcy51c2VyX2xpc3Quc29tZShmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIG9iai5jaGFubmVsX25hbWUgPT09IHJlcy50b3BpYzsKICAgICAgfSk7CgogICAgICB2YXIgaW5kZXggPSBfdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChvYmopIHsKICAgICAgICByZXR1cm4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gcmVzLnRvcGljOwogICAgICB9KTsKCiAgICAgIGlmIChjaGVjaykgX3RoaXMudXNlcl9saXN0W2luZGV4XS51c2VybmFtZSA9IHJlcy5uYW1lOwogICAgfSk7CiAgICB0aGlzLmNoLm9uKCJjdXN0b21lcl9ncm91cF9wcmVzZW5jZSIsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2coImN1c3RvbWVyIGdyb3VwIGludGVydmFsIHVwZGF0ZSIsIHJlcyk7CiAgICAgIHZhciB0ZW1wID0gcmVzOwoKICAgICAgZm9yICh2YXIgaSBpbiB0ZW1wLm1ldGFzKSB7CiAgICAgICAgaWYgKEJvb2xlYW4odGVtcC5tZXRhc1tpXS51c2VyX2luZm8uaXNfY3VzdG9tZXIpKSB7CiAgICAgICAgICB2YXIgY2hhbm5lbF9ncm91cCA9ICJjdXN0b21lcnNfZ3JvdXBzOiIgKyB0ZW1wLm1ldGFzW2ldLnVzZXJfaW5mby5jdXN0b21lcl9ncm91cF9uYW1lOwoKICAgICAgICAgIHZhciBjaGVjayA9IF90aGlzLnVzZXJfbGlzdC5zb21lKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5jaGFubmVsX25hbWUgPT09IGNoYW5uZWxfZ3JvdXA7CiAgICAgICAgICB9KTsgLy8gdGhpcy51c2VyX2NoYW5uZWxzW2NoYW5uZWxfZ3JvdXBdID0gdGhpcy5zb2NrZXQuY2hhbm5lbChyZXMuY3VzdG9tZXJfY2hhdF9ncm91cCk7CgoKICAgICAgICAgIGlmIChjaGVjaykgewogICAgICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICByZXR1cm4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gY2hhbm5lbF9ncm91cDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAodGVtcC5tZXRhcy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5pc19jb25uZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfcm9sZSA9IHRlbXAubWV0YXNbMV0udXNlcl9pbmZvLnJvbGU7CiAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IHRlbXAubWV0YXNbMV0udXNlcl9pbmZvLnVzZXJuYW1lOwogICAgICAgICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uc3RhdGUgPT0gImVuZGVkIiA/ICJlbmRlZCIgOiAiam9pbmVkIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy51c2VyX2xpc3RbaW5kZXhdLmlzX2Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfcm9sZSA9IG51bGw7CiAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IG51bGw7CiAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9PSAiZW5kZWQiID8gImVuZGVkIiA6ICJ3YWl0aW5nIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0LnB1c2goewogICAgICAgICAgICAgICJjaGFubmVsX25hbWUiOiBjaGFubmVsX2dyb3VwLAogICAgICAgICAgICAgICJ1c2VybmFtZSI6ICIiLAogICAgICAgICAgICAgICJpc19jb25uZWN0ZWQiOiBmYWxzZSwKICAgICAgICAgICAgICAiYWdlbnRfdXNlcm5hbWUiOiBudWxsLAogICAgICAgICAgICAgICJhZ2VudF9yb2xlIjogbnVsbCwKICAgICAgICAgICAgICAic3RhdGUiOiAid2FpdGluZyIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy51c2VyX2NoYW5uZWxzW2NoYW5uZWxfZ3JvdXBdID0gX3RoaXMuc29ja2V0LmNoYW5uZWwoY2hhbm5lbF9ncm91cCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHRoaXMuY2gub24oImN1c3RvbWVyX25lZWRzX3N1cHBvcnRfYWdlbnQiLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCJ1c2VyY2hhbm5lbCIpOyAvLyB0aGlzLnVzZXJfbGlzdC5wdXNoKHsKICAgICAgLy8gICBjaGFubmVsX25hbWU6IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwLAogICAgICAvLyAgIHVzZXJuYW1lOiAiIiwKICAgICAgLy8gICBpc19jb25uZWN0ZWQ6IGZhbHNlCiAgICAgIC8vIH0pOwogICAgICAvLyB0aGlzLmN1cnJlbnRfdXNlciA9IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwOwogICAgICAvLyB0aGlzLmN1cnJlbnRfdXNlciA9ICJDdXN0b21lciI7CiAgICAgIC8vIHRoaXMuY3VycmVudF9jaGFubmVsID0gcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXA7CgogICAgICBfdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jdXN0b21lcl9jaGF0X2dyb3VwXSA9IF90aGlzLnNvY2tldC5jaGFubmVsKHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwKTsKICAgICAgX3RoaXMubWVzc2FnZSA9IF90aGlzLnNvY2tldC5jaGFubmVsKHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwKTsKCiAgICAgIF90aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJzdGFydGVkX3R5cGluZyIsIGZ1bmN0aW9uICh0eXBpbmdfcmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXAgPT0gX3RoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZSkgewogICAgICAgICAgaWYgKHR5cGluZ19yZXNwb25zZS5zZW5kZXIgIT0gInN1cHBvcnRfYWdlbnQiKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gX3RoaXMudXNlcl9saXN0LmZpbHRlcihmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgICAgIHJldHVybiB1c2VyLmNoYW5uZWxfbmFtZSA9PSByZXMuY3VzdG9tZXJfY2hhdF9ncm91cDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAobmFtZVswXS51c2VybmFtZSA9PSAiIikgewogICAgICAgICAgICAgIF90aGlzLm1zZ19zZW5kZXIgPSB0eXBpbmdfcmVzcG9uc2Uuc2VuZGVyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLm1zZ19zZW5kZXIgPSBuYW1lWzBdLnVzZXJuYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIF90aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJzdG9wcGVkX3R5cGluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CiAgICAgIH0pOwoKICAgICAgX3RoaXMudXNlcl9jaGFubmVsc1tyZXMuY3VzdG9tZXJfY2hhdF9ncm91cF0ub24oIm5ld19jaGF0X21lc3NhZ2UiLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc2VuZGVyID09ICJjdXN0b21lciIpIHsKICAgICAgICAgIF90aGlzLmNoYXRfbGlzdC5wdXNoKHsKICAgICAgICAgICAgcmVjZWl2ZWQ6IHRydWUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLm1lc3NhZ2UsCiAgICAgICAgICAgIGN1cnJlbnRfY2hhbm5lbDogcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXAsCiAgICAgICAgICAgIHRpbWU6IF90aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMudXBkYXRlX3Njcm9sbGJhcigpOwoKICAgICAgICAgIF90aGlzLm5vX3Jlc3BvbnNlKF90aGlzKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJuZXdfbmFtZSIsIChyZXNwKSA9PiB7CiAgICAgIC8vICAgZm9yIChsZXQgaSA9IDAsIG4gPSB0aGlzLnVzZXJfbGlzdC5sZW5ndGg7IGkgPCBuOyBpKyspIHsKICAgICAgLy8gICAgIGlmICh0aGlzLnVzZXJfbGlzdFtpXS5jaGFubmVsX25hbWUgPT0gcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXApIHsKICAgICAgLy8gICAgICAgdGhpcy51c2VyX2xpc3RbaV0udXNlcm5hbWUgPSByZXNwLm5hbWU7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfQogICAgICAvLyAgIHRoaXMuY3VycmVudF91c2VyID0gcmVzcC5uYW1lOwogICAgICAvLyAgIHRoaXMubm9fcmVzcG9uc2UodGhpcyk7CiAgICAgIC8vIH0pOwoKCiAgICAgIF90aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJzdG9wcGVkX2NoYXQiLCBmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzLmNoYXRfbGlzdC5wdXNoKHsKICAgICAgICAgIHJlY2VpdmVkOiB0cnVlLAogICAgICAgICAgdGV4dDogcmVzcC5uYW1lICsgcmVzcC5tZXNzYWdlLAogICAgICAgICAgY3VycmVudF9jaGFubmVsOiByZXNwLnRvcGljLAogICAgICAgICAgdGltZTogX3RoaXMuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLnVwZGF0ZV9zY3JvbGxiYXIoKTsKCiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiByZXMubmFtZSArIHJlcy5tZXNzYWdlLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMudXNlcl9saXN0LmZpbmRJbmRleChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICByZXR1cm4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gcmVzcC50b3BpYzsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IF90aGlzLmFnZW50X3VzZXJuYW1lOwogICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uaXNfY29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICBfdGhpcy51c2VyX2xpc3RbaW5kZXhdLnN0YXRlID0gImVuZGVkIjsgLy8gdG9hc3RyLmluZm8ocmVzcC5uYW1lICsgIiAiICsgcmVzcC5tZXNzYWdlKTsKICAgICAgICAvLyB0aGlzLnVzZXJfbGlzdCA9IHRoaXMudXNlcl9saXN0LmZpbHRlcigodXNlcikgPT4gewogICAgICAgIC8vICAgcmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gcmVzcC5uYW1lOwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIHRoaXMuY2hhdF9saXN0ID0gdGhpcy5jaGF0X2xpc3QuZmlsdGVyKChjaGF0KSA9PiB7CiAgICAgICAgLy8gICByZXR1cm4gY2hhdC5jdXJyZW50X2NoYW5uZWwgIT0gdGhpcy5jdXJyZW50X2NoYW5uZWw7CiAgICAgICAgLy8gfSk7CiAgICAgICAgLy8gdGhpcy5jdXJyZW50X3VzZXIgPSB0aGlzLmZpcnN0X25hbWU7CiAgICAgIH0pOyAvLyB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLmpvaW4oKTsKCiAgICB9KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmNoLmxlYXZlKCk7IC8vZGlzY29ubmVjdCBhbGwgY3VzdG9tZXIgd2hlbiBTQSBuYXZpZ2F0ZXMgdG8gb3RoZXIgcGFnZQoKICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMudXNlcl9jaGFubmVscykgewogICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbcHJvcGVydHldLnB1c2goInN0b3BwZWRfY2hhdCIsIHsKICAgICAgICBuYW1lOiAiU3VwcG9ydCBBZ2VudCIsCiAgICAgICAgbWVzc2FnZTogImhhcyBlbmRlZCB0aGlzIGNvbnZlcnNhdGlvbi4iCiAgICAgIH0pOwogICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbcHJvcGVydHldLmxlYXZlKCk7CiAgICB9CgogICAgdGhpcy5zb2NrZXQuZGlzY29ubmVjdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgam9pbl9jdXN0b21lcjogZnVuY3Rpb24gam9pbl9jdXN0b21lcihyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jaGFubmVsX25hbWVdLmpvaW4oKTsKICAgICAgdmFyIGluZGV4ID0gdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChvYmopIHsKICAgICAgICByZXR1cm4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gcmVzLmNoYW5uZWxfbmFtZTsKICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IHRoaXMuYWdlbnRfdXNlcm5hbWU7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5pc19jb25uZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uc3RhdGUgPSAiam9pbmVkIjsKICAgICAgdGhpcy5jaC5vbigiY3VzdG9tZXJfZ3JvdXBfcHJlc2VuY2UiLCBmdW5jdGlvbiAocmVzKSB7fSk7CiAgICB9LAogICAgYnV0dG9uX2ZpbGw6IGZ1bmN0aW9uIGJ1dHRvbl9maWxsKCkgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdmciKS5zdHlsZS5maWxsID0gIiMyNzM2NzkiOwoKICAgICAgaWYgKHRoaXMudG9fc2VuZCA9PSAiIikgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInN2ZyIpLnN0eWxlLmZpbGwgPSAiIzhhOGE4YTYzIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRvX3NlbmQgIT0gIiIpIHsKICAgICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lXS5wdXNoKCJzdGFydGVkX3R5cGluZyIpOwogICAgICB9CgogICAgICB0aGlzLnN0b3BfdHlwaW5nKHRoaXMpOwogICAgfSwKICAgIHN0b3BfdHlwaW5nOiBkZWJvdW5jZShmdW5jdGlvbiAodm0pIHsKICAgICAgdm0udXNlcl9jaGFubmVsc1t2bS5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lXS5wdXNoKCJzdG9wcGVkX3R5cGluZyIpOwogICAgfSwgNTAwMCksCiAgICBub19yZXNwb25zZTogZGVib3VuY2UoZnVuY3Rpb24gKHZtKSB7CiAgICAgIHZtLnVzZXJfY2hhbm5lbHNbdm0uY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ucHVzaCgibm9fcmVzcG9uc2UiLCB7CiAgICAgICAgc2VuZGVyOiAic2VuZGVyIgogICAgICB9KTsKICAgIH0sIDEwMDAwKSwKICAgIHNlbmRfbWVzc2FnZTogZnVuY3Rpb24gc2VuZF9tZXNzYWdlKCkgewogICAgICBpZiAodGhpcy50b19zZW5kICE9ICIiICYmIHRoaXMudXNlcl9saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmNoYXRfbGlzdC5wdXNoKHsKICAgICAgICAgIHNlbnQ6IHRydWUsCiAgICAgICAgICB0ZXh0OiB0aGlzLnRvX3NlbmQsCiAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgIGN1cnJlbnRfY2hhbm5lbDogdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3RoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ucHVzaCgibmV3X2NoYXRfbWVzc2FnZSIsIHsKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMudG9fc2VuZAogICAgICAgIH0pOwogICAgICAgIHRoaXMudG9fc2VuZCA9ICIiOwogICAgICAgIHRoaXMubm9fcmVzcG9uc2UodGhpcyk7CiAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgIH0KICAgIH0sCiAgICBkaXNjb25uZWN0X3N1cHBvcnRfY2hhdDogZnVuY3Rpb24gZGlzY29ubmVjdF9zdXBwb3J0X2NoYXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3RoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZV0ucHVzaCgic3RvcHBlZF9jaGF0IiwgewogICAgICAgIG5hbWU6ICJTdXBwb3J0IEFnZW50IiwKICAgICAgICBtZXNzYWdlOiAiaGFzIGVuZGVkIHRoaXMgY29udmVyc2F0aW9uLiIKICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1t0aGlzLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWVdLmxlYXZlKCk7IC8vIHRoaXMudXNlcl9saXN0ID0gdGhpcy51c2VyX2xpc3QuZmlsdGVyKCh1c2VyKSA9PiB7CiAgICAgIC8vICAgcmV0dXJuIHVzZXIuY2hhbm5lbF9uYW1lICE9IHRoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZTsKICAgICAgLy8gfSk7CgogICAgICB2YXIgaW5kZXggPSB0aGlzLnVzZXJfbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKG9iaikgewogICAgICAgIHJldHVybiBvYmouY2hhbm5lbF9uYW1lID09PSBfdGhpczIuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZTsKICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IHRoaXMuYWdlbnRfdXNlcm5hbWU7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5pc19jb25uZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uc3RhdGUgPSAiZW5kZWQiOyAvLyB0aGlzLmN1cnJlbnRfdXNlciA9IHRoaXMuZmlyc3RfbmFtZTsKICAgIH0sCiAgICB1cGRhdGVfc2Nyb2xsYmFyOiBmdW5jdGlvbiB1cGRhdGVfc2Nyb2xsYmFyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CiAgICAgIH0sIDE1MDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5Iikuc2Nyb2xsVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbEhlaWdodDsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICAvLyB1c2VyX2xpc3RfY2xhc3MoY2hhbm5lbG5hbWUpIHsKICAgIC8vIGlmIChjaGFubmVsbmFtZSA9PSB0aGlzLmN1cnJlbnRfY2hhbm5lbCkgewogICAgLy8gICByZXR1cm4gIm5hdi1saW5rIGFjdGl2ZSI7CiAgICAvLyB9IGVsc2UgewogICAgLy8gICByZXR1cm4gIm5hdi1saW5rIGluYWN0aXZlIjsKICAgIC8vIH0KICAgIC8vIH0sCiAgICBzZWxlY3RfdXNlcjogZnVuY3Rpb24gc2VsZWN0X3VzZXIodXNlcikgewogICAgICB0aGlzLmN1cnJlbnRfdXNlciA9IHVzZXI7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfYWN0aXZlX3VzZXI6IGZ1bmN0aW9uIGNoZWNrX2N1cnJlbnRfYWN0aXZlX3VzZXIoaW5kZXgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X3VzZXIpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZSA9PT0gdGhpcy51c2VyX2xpc3RbaW5kZXhdLmNoYW5uZWxfbmFtZSA/ICJjdXJyZW50LWFjdGl2ZS11c2VyIiA6IG51bGw7CiAgICAgIH0KICAgIH0KICB9Cn07"},null]}