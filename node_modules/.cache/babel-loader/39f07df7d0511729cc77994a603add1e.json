{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Templates/EmailTemplates.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Templates/EmailTemplates.vue","mtime":1655807120965},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVnVlRWRpdG9yIH0gZnJvbSAidnVlMi1lZGl0b3IiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwgfSBmcm9tICJAL3BvcnRhbC9taXhpbnMiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFbWFpbFRlbXBsYXRlUGFnZSIsCiAgY29tcG9uZW50czogewogICAgVnVlRWRpdG9yOiBWdWVFZGl0b3IsCiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QKICB9LAogIG1peGluczogW2ZyZWV6ZV9wb3J0YWwsIHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbF0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlbmNpbF9zdmc6ICcgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNS41NDYiIGhlaWdodD0iMTUuNDYxIiB2aWV3Qm94PSIwIDAgMTUuNTQ2IDE1LjQ2MSI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6IzllOWU5ZTt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTc0Ny44ODggLTM1Ni43NjkpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTc1OS40MTYsMzU2Ljc2OWEyLjM1OCwyLjM1OCwwLDAsMSwxLjc3Ny42NjJjLjUzNC41MTMsMS4wNzIsMS4wMjUsMS41NjcsMS41NzVhMi4zLDIuMywwLDAsMS0uMDcxLDMuMzI1Yy0yLjczNiwyLjc2LTUuNDk0LDUuNS04LjIzOCw4LjI1MWExLjM4MSwxLjM4MSwwLDAsMS0uNzU4LjI4OGMtLjcxOS4xNzQtMS40MjkuMzc5LTIuMTQ0LjU3Mi0uOTMyLjI1MS0xLjg2Mi41LTIuNzk1Ljc1MS0uNi4xNTgtLjk4OS0uMjEzLS44MzItLjgwN3EuNjg5LTIuNTk1LDEuNDA2LTUuMTgyYTEuMTY0LDEuMTY0LDAsMCwxLC4yODktLjQ4N3E0LjA5MS00LjEwNyw4LjItOC4yQTIuMjY1LDIuMjY1LDAsMCwxLDc1OS40MTYsMzU2Ljc2OVptLTEuOTg5LDIuOTU2LTYuNTQsNi41MzgsMy4wMjUsMy4wMjQsNi41MzgtNi41MzdabTQuMDIzLDIuMTY1Yy4xMTgtLjEzNS4yMjUtLjI2OS4zNDMtLjM5MmExLjEzNCwxLjEzNCwwLDAsMCwwLTEuNzM0Yy0uNDYtLjQ2Ni0uOTI2LS45MjUtMS4zODgtMS4zOWExLjE2NiwxLjE2NiwwLDAsMC0uODYxLS4zNjhjLS41NzgsMC0uODgxLjQtMS4yMTQuNzZabS0xMi4wODQsOC44NjMsMy4yLS44NjMtMi4zMzctMi4zMzFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwKSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNODEzLjk0Miw0MjIuNmwtLjc4OS0uOCwzLjgyMS0zLjgxOS43ODQuOFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OS42NDggLTU1Ljk0NykiLz48L2c+PC9zdmc+JywKICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgdGVtcGxhdGVfbmFtZTogIiIsCiAgICAgIHNhdmVfc21zOiAiIiwKICAgICAgc2F2ZV9lbWFpbDogIiIsCiAgICAgIGlzX3NtczogZmFsc2UsCiAgICAgIGlzX2VtYWlsOiB0cnVlLAogICAgICBzYXZlX3N1YmplY3Q6ICIiLAogICAgICBpc19wdWJsaXNoX2VtYWlsOiB0cnVlLAogICAgICBpc19wdWJsaXNoX3NtczogdHJ1ZSwKICAgICAgaXNfZWRpdF9zbXM6IGZhbHNlLAogICAgICBpc19lZGl0X2VtYWlsOiB0cnVlLAogICAgICB2ZXJpZmljYXRpb25fc3RhdHVzOiBudWxsLAogICAgICB0ZW1wbGF0ZWxpc3Q6IFtdLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBjdXN0b21Ub29sYmFyOiBbWyJib2xkIiwgIml0YWxpYyIsICJ1bmRlcmxpbmUiXSwgW3sKICAgICAgICBhbGlnbjogW10KICAgICAgfV0sIFt7CiAgICAgICAgY29sb3I6IFtdCiAgICAgIH0sIHsKICAgICAgICBiYWNrZ3JvdW5kOiBbXQogICAgICB9XSwgW3sKICAgICAgICBsaXN0OiAib3JkZXJlZCIKICAgICAgfSwgewogICAgICAgIGxpc3Q6ICJidWxsZXQiCiAgICAgIH1dLCBbImxpbmsiXV0sCiAgICAgIHF1aWxsOiAiIiwKICAgICAgcXVpbGxfZWRpdDogIiIsCiAgICAgIGlzX2h0bWxfYm9keTogZmFsc2UsCiAgICAgIHNsb3RfdmFyaWFibGU6IHt9LAogICAgICBjdXJyZW50X3RlbXBsYXRlOiBbXSwKICAgICAgb2xkX3RlbXBsYXRlX25hbWU6ICIiLAogICAgICBpc0VkaXRUZW1wbGF0ZTogZmFsc2UsCiAgICAgIG51bWJlcl9vZl9yb3dzOiBudWxsLAogICAgICB0b3RhbF9wYWdlczogbnVsbCwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICBpbWFnZV9maWxlOiBudWxsLAogICAgICBpbWFnZV9maWxlXzI6IG51bGwsCiAgICAgIGlzX2ltYWdlX25lZWRlZDogIm5vbmUiLAogICAgICBpc19lZGl0X2ltYWdlX25lZWRlZDogIm5vbmUiLAogICAgICBlbWFpbF9zdWJqZWN0OiAiIiwKICAgICAgcmVnX3VybDogL2h0dHBzOlwvXC9bKHd3d1wuKT9hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYihbLWEtekEtWjAtOUA6JV9cKy5+Iz8mXC9cLz1dKikvaSwKICAgICAgaXNfZWRpdF9yZWdfdXJsOiAvaHR0cHM6XC9cL1sod3d3XC4pP2EtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKFstYS16QS1aMC05QDolX1wrLn4jPyZcL1wvPV0qKS9pLAogICAgICBpbWdfcmVkaXJlY3RfdXJsOiAiIiwKICAgICAgZWRpdF9pbWdfcmVkaXJlY3RfdXJsOiAiIiwKICAgICAgZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgZWRpdGVkX2ZpbGVfbGFiZWw6ICJDaG9vc2UgZmlsZSIsCiAgICAgIHByZXZpZXdfdGVtcGxhdGVfZGF0YTogIiIsCiAgICAgIHRlbXBsYXRlX25hbWVfYWxyZWFkeV9leGlzdDogZmFsc2UsCiAgICAgIGVkaXRfdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0OiBmYWxzZSwKICAgICAgcGFnZV9hcnJheTogW10sCiAgICAgIHNlbmRfZW1haWxfYWxsX2N1c3RvbWVyOiB0cnVlLAogICAgICBjdXN0b21lcnNfbGlzdDogW10sCiAgICAgIHNwZWNpZmljX2N1c3RvbWVyX2xpc3Q6IFtdLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSwKICAgICAgZW1haWxfcmVnOiAvXigoW148PigpW1xdXFwuLDs6XHNAXCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQFwiXSspKil8KFwiLitcIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLwogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpc19ub3RpZmljYXRpb25fdGVtcGxhdGU6IEJvb2xlYW4KICB9LAogIHdhdGNoOiB7Ly8gaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlKCkgewogICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSk7CiAgICAvLyB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbGlkVVJMOiBmdW5jdGlvbiB2YWxpZFVSTCgpIHsKICAgICAgaWYgKHRoaXMucmVnX3VybC50ZXN0KHRoaXMuaW1nX3JlZGlyZWN0X3VybCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZF9lZGl0X1VSTDogZnVuY3Rpb24gdmFsaWRfZWRpdF9VUkwoKSB7CiAgICAgIGlmICh0aGlzLmlzX2VkaXRfcmVnX3VybC50ZXN0KHRoaXMuZWRpdF9pbWdfcmVkaXJlY3RfdXJsKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgdGhpcy4kcm9vdC4kb24oIkVtYWlsVGVtcGxhdGVQYWdlRGlzYWJsZWQiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgIF90aGlzLmRpc2FibGVfYnRuX2V4cGlyZWQgPSB0cnVlOwoKICAgICAgICBfdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLmxvYWRfdGVtcGxhdGVzKCk7CgogICAgaWYgKHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlID09PSBmYWxzZSkgewogICAgICB0aGlzLmxvYWRfY3VzdG9tZXJfbGlzdCgpOwogICAgfQoKICAgIHZhciB2bSA9IHRoaXM7CiAgICAkKCIjc2VsZWN0YWxsIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmlzRWRpdFRlbXBsYXRlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNfc21zID0gZmFsc2U7CiAgICAgIHRoaXMuaXNfZW1haWwgPSB0cnVlOwoKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5lZGl0b3IoKTsKCiAgICBpZiAodGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUgPT09IHRydWUpIHsKICAgICAgdGhpcy5sb2FkX3Nsb3RfdmFyaWFibGUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRfc2xvdF92YXJpYWJsZTogZnVuY3Rpb24gbG9hZF9zbG90X3ZhcmlhYmxlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZm9ybV9hdXRvbWF0aW9uX2RpYWxvZ190cmVlKCksIHsKICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgaXNfZ2V0X3Nsb3RfdmFyaWFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgX3RoaXMyLnNsb3RfdmFyaWFibGUgPSB7fTsKCiAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcmVzcG9uc2UuZGF0YS5zbG90c19saXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICB2YXIgZWxlbWVudCA9IHJlc3BvbnNlLmRhdGEuc2xvdHNfbGlzdFtpbmRleF07CiAgICAgICAgICAgIF90aGlzMi5zbG90X3ZhcmlhYmxlW2VsZW1lbnRdID0gJ3snICsgZWxlbWVudCArICd9JzsKICAgICAgICAgIH0gLy8gdGhpcy5pbnNlcnRfdmFyaWFibGUoJ3F1aWxsJywgdGhpcy5zbG90X3ZhcmlhYmxlKTsKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0ZXh0OiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAvLyB0aGlzLmluc2VydF92YXJpYWJsZSgncXVpbGwnLCB0aGlzLnNsb3RfdmFyaWFibGUpOwogICAgICAgIF90aGlzMi5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlZGl0b3I6IGZ1bmN0aW9uIGVkaXRvcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnF1aWxsID0gbmV3IFF1aWxsKCIjZWRpdG9yIiwgewogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIHRvb2xiYXI6IFtbImJvbGQiLCAiaXRhbGljIiwgInVuZGVybGluZSJdLCBbImxpbmsiXSwgW3sKICAgICAgICAgICAgYWxpZ246IFtdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgY29sb3I6IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IFtdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgbGlzdDogIm9yZGVyZWQiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxpc3Q6ICJidWxsZXQiCiAgICAgICAgICB9XV0KICAgICAgICB9LAogICAgICAgIHRoZW1lOiAic25vdyIKICAgICAgfSk7CiAgICAgIHRoaXMucXVpbGwub24oInRleHQtY2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kZW1pdCgiaW5wdXQiLCBfdGhpczMucXVpbGwuZ2V0VGV4dCgpID8gX3RoaXMzLnF1aWxsLnJvb3QuaW5uZXJIVE1MIDogIiIpOwoKICAgICAgICBfdGhpczMuc2F2ZV9lbWFpbCA9IF90aGlzMy5xdWlsbC5nZXRUZXh0KCkgPyBfdGhpczMucXVpbGwucm9vdC5pbm5lckhUTUwgOiAiIjsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUpIHsKICAgICAgICB0aGlzLmluc2VydF92YXJpYWJsZSgncXVpbGwnLCB0aGlzLnNsb3RfdmFyaWFibGUpOwogICAgICB9CiAgICB9LAogICAgZWRpdF9lZGl0b3I6IGZ1bmN0aW9uIGVkaXRfZWRpdG9yKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMucXVpbGxfZWRpdCA9IG5ldyBRdWlsbCgiI2VkaXRfZWRpdG9yIiwgewogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIHRvb2xiYXI6IFtbImJvbGQiLCAiaXRhbGljIiwgInVuZGVybGluZSJdLCBbImxpbmsiXSwgW3sKICAgICAgICAgICAgYWxpZ246IFtdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgY29sb3I6IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IFtdCiAgICAgICAgICB9XSwgW3sKICAgICAgICAgICAgbGlzdDogIm9yZGVyZWQiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxpc3Q6ICJidWxsZXQiCiAgICAgICAgICB9XV0KICAgICAgICB9LAogICAgICAgIHRoZW1lOiAic25vdyIKICAgICAgfSk7CiAgICAgIHRoaXMucXVpbGxfZWRpdC5vbigidGV4dC1jaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LiRlbWl0KCJpbnB1dCIsIF90aGlzNC5xdWlsbF9lZGl0LmdldFRleHQoKSA/IF90aGlzNC5xdWlsbF9lZGl0LnJvb3QuaW5uZXJIVE1MIDogIiIpOwoKICAgICAgICBfdGhpczQuY3VycmVudF90ZW1wbGF0ZS5lbWFpbCA9IF90aGlzNC5xdWlsbF9lZGl0LmdldFRleHQoKSA/IF90aGlzNC5xdWlsbF9lZGl0LnJvb3QuaW5uZXJIVE1MIDogIiI7CiAgICAgIH0pOwogICAgICB0aGlzLnF1aWxsX2VkaXQucm9vdC5pbm5lckhUTUwgPSB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuZW1haWw7CiAgICAgIHRoaXMuaW5zZXJ0X3ZhcmlhYmxlKCdxdWlsbF9lZGl0JywgdGhpcy5zbG90X3ZhcmlhYmxlKTsKICAgIH0sCiAgICBpbnNlcnRfdmFyaWFibGU6IGZ1bmN0aW9uIGluc2VydF92YXJpYWJsZSh2YWwsIHNsb3RfdmFyaWFibGUpIHsKICAgICAgaWYgKHRoaXMuaXNfbm90aWZpY2F0aW9uX3RlbXBsYXRlID09PSB0cnVlKSB7CiAgICAgICAgdmFyIGRyb3BEb3duSXRlbXMgPSB7CiAgICAgICAgICAnTm8gc2xvdCB2YXJpYWJsZSc6ICcnCiAgICAgICAgfTsKICAgICAgICB2YXIgbXlEcm9wRG93biA9IG5ldyBRdWlsbFRvb2xiYXJEcm9wRG93bih7CiAgICAgICAgICBsYWJlbDogIkluc2VydCBWYXJpYWJsZSIsCiAgICAgICAgICByZW1lbWJlclNlbGVjdGlvbjogZmFsc2UsCiAgICAgICAgICBpZDogImRyb3Bkb3duX2lkIgogICAgICAgIH0pOwoKICAgICAgICBpZiAoT2JqZWN0LmVudHJpZXMoc2xvdF92YXJpYWJsZSkubGVuZ3RoID09PSAwICYmIHNsb3RfdmFyaWFibGUuY29uc3RydWN0b3IgPT09IE9iamVjdCkgewogICAgICAgICAgbXlEcm9wRG93bi5zZXRJdGVtcyhkcm9wRG93bkl0ZW1zKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbXlEcm9wRG93bi5zZXRJdGVtcyhzbG90X3ZhcmlhYmxlKTsKICAgICAgICB9CgogICAgICAgIG15RHJvcERvd24ub25TZWxlY3QgPSBmdW5jdGlvbiAobGFiZWwsIHZhbHVlLCBxdWlsbCkgewogICAgICAgICAgdmFyIF9xdWlsbCRzZWxlY3Rpb24kc2F2ZSA9IHF1aWxsLnNlbGVjdGlvbi5zYXZlZFJhbmdlLAogICAgICAgICAgICAgIGluZGV4ID0gX3F1aWxsJHNlbGVjdGlvbiRzYXZlLmluZGV4LAogICAgICAgICAgICAgIGxlbmd0aCA9IF9xdWlsbCRzZWxlY3Rpb24kc2F2ZS5sZW5ndGg7CiAgICAgICAgICBxdWlsbC5kZWxldGVUZXh0KGluZGV4LCBsZW5ndGgpOwogICAgICAgICAgcXVpbGwuaW5zZXJ0VGV4dChpbmRleCwgdmFsdWUpOwogICAgICAgICAgcXVpbGwuc2V0U2VsZWN0aW9uKGluZGV4ICsgdmFsdWUubGVuZ3RoKTsKICAgICAgICB9OwoKICAgICAgICBteURyb3BEb3duLmF0dGFjaCh0aGlzLnF1aWxsKTsKCiAgICAgICAgaWYgKHZhbCA9PT0gJ3F1aWxsX2VkaXQnKSB7CiAgICAgICAgICBteURyb3BEb3duLmF0dGFjaCh0aGlzLnF1aWxsX2VkaXQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFkZFRhZzogZnVuY3Rpb24gYWRkVGFnKG5ld1RhZykgewogICAgICB2YXIgdGFnX2xpc3QgPSBbXTsKICAgICAgdGFnX2xpc3QgPSBuZXdUYWcuc3BsaXQoIiwiKTsKCiAgICAgIGlmICh0YWdfbGlzdC5sZW5ndGggPiAyKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF9hZGRfdmFsaWRfdGFnX21zZycpLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICB0aW1lcjogNDUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZW1haWwgPSB0YWdfbGlzdFswXTsKICAgICAgICB2YXIgY3VzdG9tZXJfbmFtZSA9IEJvb2xlYW4odGFnX2xpc3RbMV0pID8gdGFnX2xpc3RbMV0gOiAiICI7CgogICAgICAgIGlmICghdGhpcy5lbWFpbF9yZWcudGVzdChlbWFpbCkpIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF92YWxpZF9lbWFpbF9hZGRyX21zZycpLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICB0aW1lcjogNDUwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgdGFnID0gewogICAgICAgIGN1c3RvbWVyX25hbWU6IGN1c3RvbWVyX25hbWUsCiAgICAgICAgZW1haWw6IGVtYWlsCiAgICAgIH07CiAgICAgIHRoaXMuY3VzdG9tZXJzX2xpc3QucHVzaCh0YWcpOwogICAgICB0aGlzLnNwZWNpZmljX2N1c3RvbWVyX2xpc3QucHVzaCh0YWcpOwogICAgfSwKICAgIGxvYWRfY3VzdG9tZXJfbGlzdDogZnVuY3Rpb24gbG9hZF9jdXN0b21lcl9saXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc2VuZF9vZmZlcl90b19jdXN0b21lcnMoKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICBnZXRfY3VzdG9tZXJzX2xpc3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNS5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIF90aGlzNS5jdXN0b21lcnNfbGlzdCA9IHJlc3BvbnNlLmRhdGEuY3VzdG9tZXJzX2xpc3Q7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzNS5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczUuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzOiBmdW5jdGlvbiBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKSB7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb2R1Y3Rfc2V0dGluZ3MoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNfZW1haWxfdmVyaWZpY2F0aW9uX3N0YXR1czogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM2LnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICIiICYmIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJiByZXNwb25zZS5kYXRhICE9ICJJbnRlcm5hbCBzZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgIF90aGlzNi52ZXJpZmljYXRpb25fc3RhdHVzID0gcmVzcG9uc2UuZGF0YS52ZXJpZmljYXRpb25fc3RhdHVzOyAvLyBjb25zb2xlLmxvZyh0aGlzLnZlcmlmaWNhdGlvbl9zdGF0dXMpOwoKICAgICAgICAgICAgaWYgKF90aGlzNi52ZXJpZmljYXRpb25fc3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgICAgIC8vIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInB1Ymxpc2hfdGVtcGxhdGVfYnRuIikuZGlzYWJsZWQpIHsKICAgICAgICAgICAgICAkKCIjc2VuZGVtYWlsIikubW9kYWwoInNob3ciKTsKCiAgICAgICAgICAgICAgX3RoaXM2LmxvYWRfY3VzdG9tZXJfbGlzdCgpOyAvLyB9CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGV4dDogX3RoaXM2LnRsdCgnZW1haWxfdGVtcF9ub3RfY29uZmlnX2luc3RydWN0aW9uX21zZycpLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgdGltZXI6IDEzMDAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT0gJ0VNQUlMIE5PVCBGT1VORCBPUiBOT1QgQ09ORklHVVJFRCcpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogX3RoaXM2LnRsdCgnZW1haWxfdGVtcF9ub3RfY29uZmlnX2luc3RydWN0aW9uX21zZzEnKSwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgdGltZXI6IDEzMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKF90aGlzNi50bHQoJ2VtYWlsX3RlbXBfbm90X2NvbmZpZ19zZXJ2ZXJfbXNnJykpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczYuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoX3RoaXM2LnRsdCgnZW1haWxfdGVtcF9ub3RfY29uZmlnX2Vycm9yX29jY3VyX21zZycpKTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXM2LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKCk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZV90ZW1wbGF0ZV9uYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZV90ZW1wbGF0ZV9uYW1lKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgICAgICBpc190ZW1wbGF0ZV9wcmVzZW50OiB0cnVlLAogICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUsCiAgICAgICAgdGVtcGxhdGVfbmFtZTogdGhpcy50ZW1wbGF0ZV9uYW1lCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT0gIk5vdCBFeGlzdHMiKSB7CiAgICAgICAgICBfdGhpczcudGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0ID0gZmFsc2U7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcGxhdGVfbmFtZV9hZGRfaWQiKS5zdHlsZS5ib3JkZXIgPSBudWxsOwoKICAgICAgICAgIGlmIChfdGhpczcudGVtcGxhdGVfbmFtZSAhPSAiIikgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcGxhdGVfbmFtZV9hZGRfaWQiKS5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkICMwMGYwMDAiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT0gIkFscmVhZHkgRXhpc3RzIikgewogICAgICAgICAgX3RoaXM3LnRlbXBsYXRlX25hbWVfYWxyZWFkeV9leGlzdCA9IHRydWU7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcGxhdGVfbmFtZV9hZGRfaWQiKS5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkIHJlZCI7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM3LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGVfZWRpdF90ZW1wbGF0ZV9uYW1lOiBmdW5jdGlvbiB2YWxpZGF0ZV9lZGl0X3RlbXBsYXRlX25hbWUoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudGVtcGxhdGVfcHJvbW90aW9uYWxfZW1haWwoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgIGlzX3RlbXBsYXRlX3ByZXNlbnQ6IHRydWUsCiAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICB0ZW1wbGF0ZV9uYW1lOiB0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfbmFtZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJOb3QgRXhpc3RzIikgewogICAgICAgICAgX3RoaXM4LmVkaXRfdGVtcGxhdGVfbmFtZV9hbHJlYWR5X2V4aXN0ID0gZmFsc2U7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWRpdF90ZW1wbGF0ZV9uYW1lX2lkIikuc3R5bGUuYm9yZGVyID0gbnVsbDsKCiAgICAgICAgICBpZiAoX3RoaXM4LmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfbmFtZSAhPSAiIikgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWRpdF90ZW1wbGF0ZV9uYW1lX2lkIikuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCAjMDBmMDAwIjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJBbHJlYWR5IEV4aXN0cyIpIHsKICAgICAgICAgIGlmIChfdGhpczgub2xkX3RlbXBsYXRlX25hbWUgPT0gX3RoaXM4LmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfbmFtZSkgewogICAgICAgICAgICBfdGhpczguZWRpdF90ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSBmYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVkaXRfdGVtcGxhdGVfbmFtZV9pZCIpLnN0eWxlLmJvcmRlciA9IG51bGw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczguZWRpdF90ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSB0cnVlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWRpdF90ZW1wbGF0ZV9uYW1lX2lkIikuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCByZWQiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzOC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHByZXZpZXdfdGVtcGxhdGU6IGZ1bmN0aW9uIHByZXZpZXdfdGVtcGxhdGUoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9wcm9tb3Rpb25hbF9lbWFpbCgpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgaXNfcHJldmlldzogdHJ1ZSwKICAgICAgICB0ZW1wbGF0ZV9pZDogdGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX2lkLAogICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzOS5zcGlubmVyT24gPSBmYWxzZTsgLy8gaWYgKHJlc3BvbnNlLmRhdGEgIT0gbnVsbCkgewogICAgICAgIC8vICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEucGFnZWNvdW50OwogICAgICAgIC8vICAgdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbCh0aGlzLm51bWJlcl9vZl9yb3dzIC8gdGhpcy5wZXJfcGFnZSk7CiAgICAgICAgLy8gICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gIkRCIE9QRVJBVElPTiBVTlNVQ0NFU1NGVUwiKSB7CiAgICAgICAgLy8gICAgIHRoaXMudGVtcGxhdGVsaXN0ID0gW107CiAgICAgICAgLy8gICAgIHJldHVybjsKICAgICAgICAvLyAgIH0KICAgICAgICAvLyAgIHRoaXMudGVtcGxhdGVsaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIC8vICAgaWYgKHRoaXMudGVtcGxhdGVsaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAvLyAgICAgLy8gdGhpcy5jdXJyZW50X3RlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZWxpc3RbMF07CiAgICAgICAgLy8gICAgIHRoaXMuc2hvd190ZW1wbGF0ZSgwKTsKICAgICAgICAvLyAgIH0KICAgICAgICAvLyAgIHRoaXMuaXNFZGl0VGVtcGxhdGUgPSBmYWxzZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgIF90aGlzOS5wcmV2aWV3X3RlbXBsYXRlX2RhdGEgPSByZXNwb25zZS5kYXRhLlRlbXBsYXRlOwogICAgICAgICAgJCgiI3ByZXZpZXdfdGVtcGxhdGVfdmlzaWJsZSIpLm1vZGFsKCJzaG93Iik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzOS5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczkuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZW5kX2VtYWlsX2NvbmZpcm1fcHJvbXB0X3RleHQ6IGZ1bmN0aW9uIHNlbmRfZW1haWxfY29uZmlybV9wcm9tcHRfdGV4dChhbGxfY3VzdG9tZXIpIHsKICAgICAgaWYgKGFsbF9jdXN0b21lcikgewogICAgICAgIHJldHVybiB0aGlzLnRsdCgnZW1haWxfdGVtcF9zZW5kX2J1bGtfZW1haWxfbXNnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGx0KCdlbWFpbF90ZW1wX3NlbmRfc3BlY2lmaWNfY3VzdG9tZXJfbXNnJyk7CiAgICAgIH0KICAgIH0sCiAgICBzZW5kX2VtYWlsOiBmdW5jdGlvbiBzZW5kX2VtYWlsKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuc2VuZF9lbWFpbF9hbGxfY3VzdG9tZXIpIHsKICAgICAgICBpZiAoIUJvb2xlYW4odGhpcy5zcGVjaWZpY19jdXN0b21lcl9saXN0Lmxlbmd0aCA+IDApKSB7CiAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc2VsZWN0X29uZV9lbWFpbF9tc2cnKSwKICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICB0aW1lcjogNTAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiB0aGlzLnNlbmRfZW1haWxfY29uZmlybV9wcm9tcHRfdGV4dCh0aGlzLnNlbmRfZW1haWxfYWxsX2N1c3RvbWVyKSwKICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF9zd2FsX2NvbmZpcm1fbXNnJyksCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc3dhbF95ZXNfbXNnJykKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgJCgiI3NlbmRlbWFpbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICBfdGhpczEwLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5zZW5kX29mZmVyX3RvX2N1c3RvbWVycygpLCB7CiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IF90aGlzMTAuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiBfdGhpczEwLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgZW1haWw6IF90aGlzMTAuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzMTAuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgdG9rZW46IF90aGlzMTAuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIHNlbmRfZW1haWw6IHRydWUsCiAgICAgICAgICAgIHNlbmRfZW1haWxfYWxsX2N1c3RvbWVyOiBfdGhpczEwLnNlbmRfZW1haWxfYWxsX2N1c3RvbWVyLAogICAgICAgICAgICBzcGVjaWZpY19jdXN0b21lcl9saXN0OiBfdGhpczEwLnNlbmRfZW1haWxfYWxsX2N1c3RvbWVyICE9IHRydWUgPyBfdGhpczEwLnNwZWNpZmljX2N1c3RvbWVyX2xpc3QgOiBbXSwKICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IF90aGlzMTAuY3VycmVudF90ZW1wbGF0ZS50ZW1wbGF0ZV9pZAogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChfdGhpczEwLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMxMC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICJTZW5kaW5nIEVtYWlsIikgewogICAgICAgICAgICAgICAgLy8gdGhpcy5zYXZlX3N1YmplY3QgPSAiIjsKICAgICAgICAgICAgICAgIC8vICQoIiNwdWJsaXNodGVtcGxhdGVtb2RlbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxMC50bHQoJ2VtYWlsX3RlbXBfc2VudF9zdWNjZXNzZnVsX21zZycpLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwLAogICAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMxMC50bHQoJ2VtYWlsX3RlbXBfc3dhbF9zdWNjZXNzX21zZycpCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgJCgiI3NlbmRlbWFpbCIpLm1vZGFsKCJoaWRlIik7CgogICAgICAgICAgICAgICAgICBfdGhpczEwLmVtcHR5X3ZhcmlhYmxlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09PSAiUGxlYXNlIHVwZ3JhZGUgeW91ciBwbGFuIHRvIHNlbmQgZW1haWxzIikgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxMC50bHQoJ2VtYWlsX3RlbXBfdXBncmFkZV9wbGFuX21zZycpLAogICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IF90aGlzMTAudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9ub3dfbXNnJyksCiAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IF90aGlzMTAudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9sYXRlcl9tc2cnKSwKICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJwogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTAuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTZXR0aW5ncycsCiAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxMC50bHQoJ2VtYWlsX3RlbXBfaW50ZXJuYWxfc2VydmVyX2FsZXJ0X21zZzEnKSwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzMTAudGx0KCdlbWFpbF90ZW1wX2ludGVybmFsX3NlcnZlcl9hbGVydF9tc2cyJyksCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMxMC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIF90aGlzMTAuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0ZWRfdGVtcGxhdGVzOiBmdW5jdGlvbiBzZWxlY3RlZF90ZW1wbGF0ZXModmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09ICJhbGwiKSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZW1wbGF0ZWxpc3QpIHsKICAgICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh0aGlzLnRlbXBsYXRlbGlzdFtpXS50ZW1wbGF0ZV9pZCk7CiAgICAgICAgICB9CgogICAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwoKICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgJCgiIyIgKyBbX2ldKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgICQoIiNzZWxlY3RhbGwiKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICghZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gW107CiAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh2YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICghZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CgogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkKSB7CiAgICAgICAgICAgIHNlbGVjdGFsbC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoZnVuY3Rpb24gKHRlbXBsYXRlc19pZCkgewogICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVzX2lkICE9IHZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbG9hZF90ZW1wbGF0ZXM6IGZ1bmN0aW9uIGxvYWRfdGVtcGxhdGVzKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsKCksIHsKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTEuc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgIF90aGlzMTEubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLnBhZ2Vjb3VudDsKICAgICAgICAgIF90aGlzMTEudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwoX3RoaXMxMS5udW1iZXJfb2Zfcm93cyAvIF90aGlzMTEucGVyX3BhZ2UpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAiREIgT1BFUkFUSU9OIFVOU1VDQ0VTU0ZVTCIpIHsKICAgICAgICAgICAgX3RoaXMxMS50ZW1wbGF0ZWxpc3QgPSBbXTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMTEudGVtcGxhdGVsaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgIGlmIChfdGhpczExLnRlbXBsYXRlbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIC8vIHRoaXMuY3VycmVudF90ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGVsaXN0WzBdOwogICAgICAgICAgICBfdGhpczExLnNob3dfdGVtcGxhdGUoMCk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMxMS5pc0VkaXRUZW1wbGF0ZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMxMS5zZXRwYWdpbmF0aW9uKF90aGlzMTEucGFnZV9ubyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxMS5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczExLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZmlsZWlucHV0MTogZnVuY3Rpb24gZmlsZWlucHV0MShlKSB7CiAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwoKICAgICAgaWYgKGZpbGVzWzBdLnR5cGUgPT09ICJpbWFnZS9wbmciIHx8IGZpbGVzWzBdLnR5cGUgPT09ICJpbWFnZS9qcGVnIikgewogICAgICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm47CiAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gZmlsZXNbMF0ubmFtZTsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF90ZW1wX2ltYWdlX3R5cGVfbXNnMScpLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVJbWFnZTogZnVuY3Rpb24gY3JlYXRlSW1hZ2UoZmlsZSwgdHlwZSkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTIuaW1hZ2VfZmlsZSA9IGUudGFyZ2V0LnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwoKICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICB9LAogICAgZmlsZWlucHV0MjogZnVuY3Rpb24gZmlsZWlucHV0MihlKSB7CiAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwoKICAgICAgaWYgKGZpbGVzWzBdLnR5cGUgPT09ICJpbWFnZS9wbmciIHx8IGZpbGVzWzBdLnR5cGUgPT09ICJpbWFnZS9qcGVnIikgewogICAgICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm47CiAgICAgICAgdGhpcy5vbGRfZWRpdGVkX2ltYWdlX25hbWUgPSB0aGlzLmVkaXRlZF9maWxlX2xhYmVsOwogICAgICAgIHRoaXMuZWRpdGVkX2ZpbGVfbGFiZWwgPSBmaWxlc1swXS5uYW1lOwogICAgICAgIHRoaXMuY3JlYXRlSW1hZ2UyKGZpbGVzWzBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF90ZW1wX2ltYWdlX3R5cGVfbXNnMicpLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVJbWFnZTI6IGZ1bmN0aW9uIGNyZWF0ZUltYWdlMihmaWxlLCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxMy5pbWFnZV9maWxlXzIgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKICAgIGNyZWF0ZV9VVUlEOiBmdW5jdGlvbiBjcmVhdGVfVVVJRCgpIHsKICAgICAgdmFyIGR0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIHZhciB1dWlkID0gInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgICAgIHZhciByID0gKGR0ICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDsKICAgICAgICBkdCA9IE1hdGguZmxvb3IoZHQgLyAxNik7CiAgICAgICAgcmV0dXJuIChjID09ICJ4IiA/IHIgOiByICYgMHgzIHwgMHg4KS50b1N0cmluZygxNik7CiAgICAgIH0pOwogICAgICByZXR1cm4gdXVpZDsKICAgIH0sCiAgICBwYWdlX3JlcXVpcmU6IGZ1bmN0aW9uIHBhZ2VfcmVxdWlyZShwYWdlKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIGlmIChwYWdlID09IDAgfHwgcGFnZSA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkge30gZWxzZSB7CiAgICAgICAgaWYgKHBhZ2UgPT0gIi4uLnMiKSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKDEgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgfSBlbHNlIGlmIChwYWdlID09ICIuLi5sIikgewogICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlOwogICAgICAgIH0KCiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9wcm9tb3Rpb25hbF9lbWFpbCgpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczE0LnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICJEQiBPUEVSQVRJT04gVU5TVUNDRVNTRlVMIikgewogICAgICAgICAgICAgIF90aGlzMTQudGVtcGxhdGVsaXN0ID0gW107CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczE0LnRlbXBsYXRlbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKCiAgICAgICAgICAgIGlmIChfdGhpczE0LnRlbXBsYXRlbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgX3RoaXMxNC5jdXJyZW50X3RlbXBsYXRlID0gX3RoaXMxNC50ZW1wbGF0ZWxpc3RbMF07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMTQuaXNFZGl0VGVtcGxhdGUgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczE0LnNldHBhZ2luYXRpb24oX3RoaXMxNC5wYWdlX25vKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMxNC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXMxNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNldHBhZ2luYXRpb246IGZ1bmN0aW9uIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKCiAgICAgIGlmICh0aGlzLnRvdGFsX3BhZ2VzIDw9IDcpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IDEpIHsKICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCA0OyBfaTIrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kyICsgMSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcykgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CgogICAgICAgIGZvciAodmFyIF9pMyA9IHRoaXMudG90YWxfcGFnZXMgLSA0OyBfaTMgPCB0aGlzLnRvdGFsX3BhZ2VzOyBfaTMrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kzICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPD0gNCkgewogICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHBhZ2Vfbm8gKyAzOyBfaTQrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2k0ICsgMSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPj0gdGhpcy50b3RhbF9wYWdlcyAtIDQpIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwoKICAgICAgICBmb3IgKHZhciBfaTUgPSBwYWdlX25vIC0gNDsgX2k1IDwgdGhpcy50b3RhbF9wYWdlczsgX2k1KyspIHsKICAgICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKF9pNSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgxKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ucyIpOwoKICAgICAgICBmb3IgKHZhciBfaTYgPSBwYWdlX25vIC0gMzsgX2k2IDw9IHBhZ2Vfbm8gKyAzOyBfaTYrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2k2KTsKICAgICAgICB9CgogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0aW9uX2NsYXNzOiBmdW5jdGlvbiBwYWdpbmF0aW9uX2NsYXNzKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSB0aGlzLnBhZ2Vfbm8pIHsKICAgICAgICByZXR1cm4gIiBhY3RpdmUiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHNhdmVfdGVtcGxhdGU6IGZ1bmN0aW9uIHNhdmVfdGVtcGxhdGUoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRlbXBsYXRlX25hbWUgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9tb2RlbF90ZW1wbGF0ZV9uYW1lX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy50ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPT0gdHJ1ZSkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX25hbWVfZXhpc3RfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmVtYWlsX3N1YmplY3QgPT0gIiIpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9tb2RlbF9lbnRlcl9zdWJqZWN0X21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19zbXMgPT0gdHJ1ZSAmJiB0aGlzLnNhdmVfc21zID09ICIiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfZW50ZXJfc21zX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19lbWFpbCA9PSB0cnVlICYmIHRoaXMuc2F2ZV9lbWFpbCA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX2VudGVyX2VtYWlsX2JvZHlfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2VtYWlsID09IGZhbHNlICYmIHRoaXMuaXNfc21zID09IGZhbHNlKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfc2VsZWN0X29wdGlvbl9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNfaW1hZ2VfbmVlZGVkID09ICJ5ZXMiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEZpbGUiKS52YWx1ZSA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX2Nob29zZV9pbWdfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2ltYWdlX25lZWRlZCA9PSAieWVzIiAmJiAhdGhpcy52YWxpZFVSTCkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX21vZGVsX3ZhbGlkX3VybF9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmlzX2h0bWxfYm9keSkgdGhpcy5pc19pbWFnZV9uZWVkZWQgPSAnbm9uZSc7CiAgICAgICAgdmFyIHV1aWQgPSB0aGlzLmNyZWF0ZV9VVUlEKCk7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnZW1haWxfbW9kZWxfc3dhbF9hbGVydF9tc2cnKSwKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9tb2RlbF9hZGRfY3VycmVudF90ZW1wbGF0ZV9tc2cnKSwKICAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IHRoaXMudGx0KCdlbWFpbF9tb2RlbF9zd2FsX2NvbmZpcm1fbXNnJykKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNS50bHQoJ2VtYWlsX21vZGVsX3N1Ym1pdF9kZXRhaWxzX21zZycpLAogICAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsKCksIHsKICAgICAgICAgICAgICBjb21wYW55X2lkOiBfdGhpczE1LmNvbXBhbnlfaWQsCiAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiBfdGhpczE1LmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBpc19zYXZlOiB0cnVlLAogICAgICAgICAgICAgIGlzX25vdGlmaWNhdGlvbjogX3RoaXMxNS5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUsCiAgICAgICAgICAgICAgdGVtcGxhdGVfaWQ6IHV1aWQsCiAgICAgICAgICAgICAgdGVtcGxhdGVfbmFtZTogX3RoaXMxNS50ZW1wbGF0ZV9uYW1lLAogICAgICAgICAgICAgIHNhdmVfZW1haWw6IF90aGlzMTUuaXNfZW1haWwgPT0gdHJ1ZSA/IF90aGlzMTUuc2F2ZV9lbWFpbCA6IG51bGwsCiAgICAgICAgICAgICAgc2F2ZV9zbXM6IF90aGlzMTUuaXNfc21zID09IHRydWUgPyBfdGhpczE1LnNhdmVfc21zIDogbnVsbCwKICAgICAgICAgICAgICBlbWFpbF9zdWJqZWN0OiBfdGhpczE1LmVtYWlsX3N1YmplY3QsCiAgICAgICAgICAgICAgZW1haWxfaW1nX2ZpbGU6IF90aGlzMTUuaXNfaW1hZ2VfbmVlZGVkID09PSAibm9uZSIgPyBudWxsIDogX3RoaXMxNS5pbWFnZV9maWxlLAogICAgICAgICAgICAgIGVtYWlsX2ltZ19uYW1lOiBfdGhpczE1LmZpbGVfbGFiZWwsCiAgICAgICAgICAgICAgZW1haWxfaW1nX2xpbms6IF90aGlzMTUuaW1nX3JlZGlyZWN0X3VybCwKICAgICAgICAgICAgICBpc19odG1sX2JvZHk6IF90aGlzMTUuaXNfaHRtbF9ib2R5CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzMTUuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNS50bHQoJ2VtYWlsX21vZGVsX2RhdGFfYWRkZWRfc3VjY2Vzc2Z1bF9tc2cnKSwKICAgICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfdGhpczE1LmVtcHR5X3ZhcmlhYmxlKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczE1LmxvYWRfdGVtcGxhdGVzKCk7CgogICAgICAgICAgICAgICAgICAkKCIjdGVtcGxhdGVtb2RlbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJEdXBsaWNhdGUgaW1hZ2UiKSB7CiAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNS50bHQoJ2VtYWlsX21vZGVsX2ltZ19hbHJlYWR5X2ZvdW5kX21zZycpLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMxNS5lbXB0eV92YXJpYWJsZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzMTUubG9hZF90ZW1wbGF0ZXMoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzMTUudGx0KCdlbWFpbF9tb2RlbF9lcnJvcl9vY2N1cl9tc2cxJyksCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNS50bHQoJ2VtYWlsX21vZGVsX2Vycm9yX29jY3VyX21zZzInKSwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgX3RoaXMxNS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZWRpdF90ZW1wbGF0ZTogZnVuY3Rpb24gZWRpdF90ZW1wbGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY3VycmVudF90ZW1wbGF0ZS50ZW1wbGF0ZV9uYW1lID09ICIiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF90ZW1wbGF0ZV9uYW1lX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5lZGl0X3RlbXBsYXRlX25hbWVfYWxyZWFkeV9leGlzdCA9PSB0cnVlKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF9uYW1lX2FscmVhZHlfZXhpc3RfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRfdGVtcGxhdGUuc3ViamVjdCA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX2VkaXRfZW50ZXJfc3ViamVjdF9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNfZWRpdF9zbXMgPT0gdHJ1ZSAmJiAodGhpcy5jdXJyZW50X3RlbXBsYXRlLnNtcyA9PSBudWxsIHx8IHRoaXMuY3VycmVudF90ZW1wbGF0ZS5zbXMgPT0gIiIpKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF9lbnRlcl9zbXNfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzX2VkaXRfZW1haWwgPT0gdHJ1ZSAmJiAodGhpcy5jdXJyZW50X3RlbXBsYXRlLmVtYWlsID09IG51bGwgfHwgdGhpcy5jdXJyZW50X3RlbXBsYXRlLmVtYWlsID09ICIiKSkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX2VkaXRfZW50ZXJfZW1haWxfYm9keV9tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNfZWRpdF9lbWFpbCA9PSBmYWxzZSAmJiB0aGlzLmlzX2VkaXRfc21zID09IGZhbHNlKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfZWRpdF9zZWxlY3Rfb3B0aW9uX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9PSAieWVzIiAmJiAhdGhpcy52YWxpZF9lZGl0X1VSTCkgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX2VkaXRfdmFsaWRfdXJsX21zZycpLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9PSAieWVzIiAmJiB0aGlzLmVkaXRlZF9maWxlX2xhYmVsID09ICJDaG9vc2UgZmlsZSIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0RmlsZTIiKS52YWx1ZSA9PSAiIikgewogICAgICAgIFN3YWwoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VtYWlsX2VkaXRfY2hvb3NlX2ltZ19tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmlzX2h0bWxfYm9keSkgdGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9ICdub25lJzsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdlbWFpbF9lZGl0X3N1Ym1pdF9kZXRhaWxzX21zZycpLAogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9wcm9tb3Rpb25hbF9lbWFpbCgpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgaXNfZWRpdDogdHJ1ZSwKICAgICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUsCiAgICAgICAgICB0ZW1wbGF0ZV9pZDogdGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX2lkLAogICAgICAgICAgdGVtcGxhdGVfbmFtZTogdGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX25hbWUsCiAgICAgICAgICBlbWFpbF9zdWJqZWN0OiB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuc3ViamVjdCwKICAgICAgICAgIHNhdmVfZW1haWw6IHRoaXMuaXNfZWRpdF9lbWFpbCA9PSB0cnVlID8gdGhpcy5jdXJyZW50X3RlbXBsYXRlLmVtYWlsIDogbnVsbCwKICAgICAgICAgIHNhdmVfc21zOiB0aGlzLmlzX2VkaXRfc21zID09IHRydWUgPyB0aGlzLmN1cnJlbnRfdGVtcGxhdGUuc21zIDogbnVsbCwKICAgICAgICAgIGVtYWlsX2ltZ19maWxlOiB0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID09PSAibm9uZSIgPyBudWxsIDogdGhpcy5pbWFnZV9maWxlXzIsCiAgICAgICAgICBlbWFpbF9pbWdfbmFtZTogdGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9PT0gIm5vbmUiID8gbnVsbCA6IHRoaXMuZWRpdGVkX2ZpbGVfbGFiZWwsCiAgICAgICAgICBlbWFpbF9pbWdfbGluazogdGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9PT0gIm5vbmUiID8gbnVsbCA6IHRoaXMuZWRpdF9pbWdfcmVkaXJlY3RfdXJsLAogICAgICAgICAgaXNfaW1hZ2VfZWRpdDogdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbCAhPSB0aGlzLm9sZF9lZGl0ZWRfaW1hZ2VfbmFtZSA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgIGlzX2ltYWdlX3ByZXNlbnQ6IHRoaXMuaXNfZWRpdF9pbWFnZV9uZWVkZWQgPT09ICJub25lIiA/IGZhbHNlIDogdHJ1ZSwKICAgICAgICAgIG9sZF9pbWFnZTogdGhpcy5vbGRfZWRpdGVkX2ltYWdlX25hbWUgPT0gIkNob29zZSBGaWxlIiA/IG51bGwgOiB0aGlzLm9sZF9lZGl0ZWRfaW1hZ2VfbmFtZSwKICAgICAgICAgIGlzX2h0bWxfYm9keTogdGhpcy5jdXJyZW50X3RlbXBsYXRlLmlzX2h0bWxfYm9keQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRleHQ6IF90aGlzMTYudGx0KCdlbWFpbF9lZGl0X2RhdGFfZWRpdF9zdWNjZXNzZnVsX21zZycpLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgIF90aGlzMTYubG9hZF90ZW1wbGF0ZXMoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJEdXBsaWNhdGUgaW1hZ2UiKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dEZpbGUyIikudmFsdWUgPSAiIjsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNi50bHQoJ2VtYWlsX2VkaXRfaW1nX2FscmVhZHlfZm91bmRfbXNnJyksCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGV4dDogX3RoaXMxNi50bHQoJ2VtYWlsX2VkaXRfZXJyb3Jfb2NjdXJfbXNnMScpLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMxNi5sb2FkX3RlbXBsYXRlcygpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXMxNi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgdGV4dDogX3RoaXMxNi50bHQoJ2VtYWlsX2VkaXRfZXJyb3Jfb2NjdXJfbXNnMicpLAogICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVfc2VsZWN0ZWQ6IGZ1bmN0aW9uIGRlbGV0ZV9zZWxlY3RlZCgpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiB0aGlzLnRsdCgnZW1haWxfdGVtcF9ub190ZW1wbGF0ZV9zZWxlY3RfbXNnJyksCiAgICAgICAgICB0ZXh0OiAiIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc3dhbF9hbGVydF9tc2cyJyksCiAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW1haWxfdGVtcF9zd2FsX2RlbGV0ZV9jdXJyZW50X3RlbXBsYXRlX21zZycpLAogICAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogdGhpcy50bHQoJ2VtYWlsX3RlbXBfc3dhbF9jb25maXJtX21zZycpCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzMTcuZGVsZXRlX3RlbXBsYXRlcyhfdGhpczE3LmNoZWNrZWRfbGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZWxldGVfdGVtcGxhdGVzOiBmdW5jdGlvbiBkZWxldGVfdGVtcGxhdGVzKGNoZWNrZWRfbGlzdCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnRlbXBsYXRlX3Byb21vdGlvbmFsX2VtYWlsKCksIHsKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBpc19kZWxldGU6IHRydWUsCiAgICAgICAgdGVtcGxhdGVfbGlzdDogY2hlY2tlZF9saXN0LAogICAgICAgIGlzX25vdGlmaWNhdGlvbjogdGhpcy5pc19ub3RpZmljYXRpb25fdGVtcGxhdGUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTguc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJEZWxldGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHRleHQ6IF90aGlzMTgudGx0KCdlbWFpbF90ZW1wX2RhdGFfZGVsZXRlZF9tc2cnKSwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICBfdGhpczE4LmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CgogICAgICAgICAgICBfdGhpczE4LmxvYWRfdGVtcGxhdGVzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxOC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczE4LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2hvd190ZW1wbGF0ZTogZnVuY3Rpb24gc2hvd190ZW1wbGF0ZShpbmRleCkgewogICAgICBpZiAodGhpcy5pc0VkaXRUZW1wbGF0ZSkgewogICAgICAgIHRoaXMuZWRpdF90ZW1wbGF0ZV9kZXRhaWxzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY3VycmVudF90ZW1wbGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy50ZW1wbGF0ZWxpc3RbaW5kZXhdKSk7CiAgICAgIHRoaXMub2xkX3RlbXBsYXRlX25hbWUgPSB0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfbmFtZTsKICAgICAgdGhpcy5jdXJyZW50X3RlbXBsYXRlX2luZGV4ID0gaW5kZXg7CgogICAgICBpZiAoQm9vbGVhbih0aGlzLmN1cnJlbnRfdGVtcGxhdGUudGVtcGxhdGVfaW1hZ2VfbmFtZSkgPT09IHRydWUpIHsKICAgICAgICB0aGlzLmlzX2VkaXRfaW1hZ2VfbmVlZGVkID0gInllcyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc19lZGl0X2ltYWdlX25lZWRlZCA9ICJub25lIjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudGVtcGxhdGVsaXN0W2luZGV4XS5lbWFpbCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5pc19lZGl0X2VtYWlsID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX2VkaXRfZW1haWwgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudGVtcGxhdGVsaXN0W2luZGV4XS5zbXMgIT0gbnVsbCkgewogICAgICAgIHRoaXMuaXNfZWRpdF9zbXMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNfZWRpdF9zbXMgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X3RlbXBsYXRlLnRlbXBsYXRlX2ltYWdlX25hbWUpID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbCA9IHRoaXMuY3VycmVudF90ZW1wbGF0ZS50ZW1wbGF0ZV9pbWFnZV9uYW1lOwogICAgICAgIHRoaXMub2xkX2VkaXRlZF9pbWFnZV9uYW1lID0gdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbDsKICAgICAgICB0aGlzLmVkaXRfaW1nX3JlZGlyZWN0X3VybCA9IHRoaXMuY3VycmVudF90ZW1wbGF0ZS5pbWFnZV9yZWRpcmVjdF91cmw7CgogICAgICAgIGlmICh0aGlzLmVkaXRlZF9maWxlX2xhYmVsID09ICIiKSB7CiAgICAgICAgICB0aGlzLmVkaXRlZF9maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lZGl0ZWRfZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgdGhpcy5vbGRfZWRpdGVkX2ltYWdlX25hbWUgPSB0aGlzLmVkaXRlZF9maWxlX2xhYmVsOwogICAgICAgIHRoaXMuZWRpdF9pbWdfcmVkaXJlY3RfdXJsID0gIiI7CiAgICAgIH0KICAgIH0sCiAgICBlbXB0eV92YXJpYWJsZTogZnVuY3Rpb24gZW1wdHlfdmFyaWFibGUoKSB7CiAgICAgIGlmICghdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKSB7CiAgICAgICAgdGhpcy5zZW5kX2VtYWlsX2FsbF9jdXN0b21lciA9IHRydWU7CiAgICAgICAgdGhpcy5xdWlsbC5zZXRUZXh0KCIiKTsKICAgICAgICB0aGlzLmN1c3RvbWVyc19saXN0ID0gW107CiAgICAgICAgdGhpcy5zcGVjaWZpY19jdXN0b21lcl9saXN0ID0gW107CiAgICAgICAgdGhpcy5zYXZlX3NtcyA9ICIiOwogICAgICAgIHRoaXMuaXNfaHRtbF9ib2R5ID0gZmFsc2U7CiAgICAgICAgdGhpcy5zYXZlX2VtYWlsID0gIiI7CiAgICAgICAgdGhpcy50ZW1wbGF0ZV9uYW1lID0gIiI7CiAgICAgICAgdGhpcy5vbGRfdGVtcGxhdGVfbmFtZSA9ICIiOwogICAgICAgIHRoaXMuaXNfZW1haWwgPSB0cnVlOwogICAgICAgIHRoaXMuaXNfc21zID0gZmFsc2U7CiAgICAgICAgdGhpcy5zYXZlX3N1YmplY3QgPSAiIjsKICAgICAgICB0aGlzLmlzX3B1Ymxpc2hfZW1haWwgPSB0cnVlOwogICAgICAgIHRoaXMudmVyaWZpY2F0aW9uX3N0YXR1cyA9IG51bGw7CiAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgICB0aGlzLmltZ19yZWRpcmVjdF91cmwgPSAiIjsKICAgICAgICB0aGlzLmVtYWlsX3N1YmplY3QgPSAiIjsKICAgICAgICB0aGlzLmlzX2ltYWdlX25lZWRlZCA9ICJub25lIjsKICAgICAgICB0aGlzLnRlbXBsYXRlX25hbWVfYWxyZWFkeV9leGlzdCA9IGZhbHNlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZW1wbGF0ZV9uYW1lX2FkZF9pZCIpLnN0eWxlLmJvcmRlciA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSwKICAgIGVkaXRfdGVtcGxhdGVfZGV0YWlsczogZnVuY3Rpb24gZWRpdF90ZW1wbGF0ZV9kZXRhaWxzKCkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaXNFZGl0VGVtcGxhdGUpIHsKICAgICAgICB0aGlzLmlzRWRpdFRlbXBsYXRlID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTkuZWRpdF9lZGl0b3IoKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXRoaXMuY3VycmVudF90ZW1wbGF0ZS5pc19odG1sX2JvZHkpIHsKICAgICAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2VkaXRvcl90ZW1wJyk7CiAgICAgICAgICBlbGVtZW50cy5yZW1vdmVDaGlsZChlbGVtZW50cy5maXJzdEVsZW1lbnRDaGlsZCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmlzRWRpdFRlbXBsYXRlID0gZmFsc2U7CiAgICAgICAgdGhpcy5sb2FkX3RlbXBsYXRlcygpOwogICAgICAgIHRoaXMuZWRpdF90ZW1wbGF0ZV9uYW1lX2FscmVhZHlfZXhpc3QgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGNoYW5nZV9ib2R5X2Zvcm1hdDogZnVuY3Rpb24gY2hhbmdlX2JvZHlfZm9ybWF0KCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaXNfaHRtbF9ib2R5KSB7CiAgICAgICAgdGhpcy5pc19odG1sX2JvZHkgPSB0cnVlOwogICAgICAgIHRoaXMuc2F2ZV9lbWFpbCA9ICIiOyAvLyBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVkaXRvciIpOwogICAgICAgIC8vIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc19odG1sX2JvZHkgPSBmYWxzZTsKICAgICAgICB0aGlzLnNhdmVfZW1haWwgPSAiIjsKICAgICAgICBjb25zb2xlLmxvZygiY29taW5nIGhlcmUiKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMjAuZWRpdG9yKCk7CiAgICAgICAgfSwgNTAwKTsKICAgICAgfSAvLyB9LCAxMDAwKTsKCiAgICB9LAogICAgY2hlY2tfY3VycmVudF90ZW1wbGF0ZV9hY3RpdmU6IGZ1bmN0aW9uIGNoZWNrX2N1cnJlbnRfdGVtcGxhdGVfYWN0aXZlKGluZGV4KSB7CiAgICAgIC8vIGNvbnNvbGUudGFibGUoaW5kZXgsIHRoaXMudGVtcGxhdGVsaXN0W2luZGV4XSwgdGhpcy5jdXJyZW50X3RlbXBsYXRlKTsKICAgICAgaWYgKEJvb2xlYW4odGhpcy50ZW1wbGF0ZWxpc3RbaW5kZXhdKSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlbGlzdFtpbmRleF0udGVtcGxhdGVfbmFtZSA9PT0gdGhpcy5vbGRfdGVtcGxhdGVfbmFtZSA/ICJjdXJyZW50LWFjdGl2ZS10ZW1wbGF0ZSIgOiBudWxsOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["EmailTemplates.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n    <div class=\"container-fluid p-0\" id=\"email_page\">\n      <div class=\"card dash-card\" style=\"border: 0\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"\n              card-header\n              d-block d-sm-flex\n              flex-wrap\n              justify-content-between\n            \"\n          >\n            <div class=\"card-act ml-auto d-flex flex-wrap\">\n              <a\n                id=\"send_email_btn\"\n                href=\"#\"\n                class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n                data-target=\"\"\n                title=\"Send Email\"\n                v-if=\"templatelist.length > 0 && is_notification_template === false\"\n                @click=\"email_verification_status()\"\n              >\n                {{tlt('mailer_page_send_email_btn')}}\n              </a>\n              <a\n                id=\"add_template_btn\"\n                href=\"#\"\n                class=\"darkblue-btn\"\n                v-if=\"disable_btn_expired\"\n                title=\"Add new Template\"\n                @click=\"empty_variable\"\n              >\n                {{tlt('mailer_page_add_template_btn_expired')}}\n              </a>\n              <a\n                id=\"add_template_btn\"\n                href=\"#\"\n                v-else\n                class=\"darkblue-btn\"\n                data-toggle=\"modal\"\n                data-target=\"#templatemodel\"\n                title=\"Add new Template\"\n                @click=\"empty_variable\"\n              >\n                {{tlt('mailer_page_add_template_btn')}}\n              </a>\n              <a\n                href=\"javascript:void(0)\"\n                class=\"red-btn\"\n                @click=\"delete_selected\"\n                id=\"delete_intent\"\n              >\n                {{tlt('mailer_page_delete_btn')}}\n              </a>\n            </div>\n          </div>\n\n          <div\n            class=\"modal fade\"\n            id=\"preview_template_visible\"\n            role=\"dialog\"\n            aria-labelledby=\"preview_template_visible\"\n            aria-hidden=\"true\"\n          >\n            <div\n              class=\"modal-dialog modal-dialog-centered modal-lg\"\n              role=\"document\"\n            >\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\">\n                    {{tlt('template_email_review_text')}}\n                  </h5>\n                  <button\n                    type=\"button\"\n                    class=\"close\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                  >\n                    <img src=\"/img/close-icn.png\" alt />\n                  </button>\n                </div>\n                <div class=\"modal-body\">\n                  <div v-html=\"preview_template_data\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"card-body py-0\" id=\"page\">\n            <div class=\"col-sm-12 d-flex px-0\" v-if=\"templatelist.length > 0\">\n              <div class=\"col-sm-4 pl-0\" style=\"height: 80vh; overflow-y: auto\">\n                <div class=\"table-box\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table\" style=\"overflow-y: auto\">\n                      <thead>\n                        <!-- <tr> -->\n                        <th scope=\"col\">\n                          <div class=\"form-check checkbox checkbox-success\">\n                            <label class=\"form-check-label\">\n                              <input\n                                class=\"form-check-input\"\n                                id=\"selectall\"\n                                type=\"checkbox\"\n                                @change=\"selected_templates('all')\"\n                              />\n                              <span class=\"icn\"></span>\n                            </label>\n                          </div>\n                        </th>\n                        <th\n                          scope=\"col\"\n                          class=\"text-left\"\n                          style=\"\n                            font: normal normal normal 16px/22px Roboto;\n                            letter-spacing: 0px;\n                            color: #414141;\n                          \"\n                        >\n                          {{tlt('template_header')}}\n                        </th>\n                        <!-- </tr> -->\n                      </thead>\n                      <tbody>\n                        <tr\n                          v-for=\"(template, index) in templatelist\"\n                          :key=\"index\"\n                          :class=\"check_current_template_active(index)\"\n                        >\n                          <td scope=\"col\">\n                            <div class=\"form-check checkbox checkbox-success\">\n                              <label class=\"form-check-label\">\n                                <input\n                                  class=\"form-check-input\"\n                                  type=\"checkbox\"\n                                  :id='index'\n                                  @change=\"\n                                    selected_templates(template.template_id)\n                                  \"\n                                />\n                                <span class=\"icn\"></span>\n                              </label>\n                            </div>\n                          </td>\n                          <td\n                            style=\"cursor: pointer\"\n                            @click=\"show_template(index)\"\n                            :title=\"template.template_name\"\n                          >\n                            <template>\n                              <p style=\"margin-bottom: 0\">\n                                {{ template.template_name }}\n                              </p>\n                            </template>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"col-sm-8 pr-0\"\n                style=\"overflow-y: auto\"\n                v-if=\"templatelist.length > 0\"\n              >\n                <div style=\"border: 1px solid #dbe2e8\">\n                  <div class=\"col-sm-12\">\n                    <div style=\"color: #414141\" class=\"\">\n                      <h5 class=\"mb-0 pt-2 d-flex\">\n                        <span class=\"mt-2 mb-0\">{{tlt('template_details_header')}}</span>\n                        <a\n                          class=\"ml-auto mt-2 mb-0\"\n                          href=\"javascript:void(0)\"\n                          title=\"Click Here for Preview\"\n                          style=\"color: rgb(39, 54, 121)\"\n                          @click=\"preview_template\"\n                          data-toggle=\"modal\"\n                        >\n                          <p\n                            class=\"labe1\"\n                            style=\"margin-right: 1rem; font-size: 1.25rem\"\n                          >\n                            {{tlt('mailer_page_preview_btn')}}\n                          </p></a\n                        >\n                        <span\n                          @click=\"edit_template_details\"\n                          v-html=\"pencil_svg\"\n                          class=\"mr-2 mt-2\"\n                          style=\"cursor: pointer\"\n                        ></span>\n                      </h5>\n                    </div>\n                  </div>\n                  <hr style=\"margin-top: 0\" />\n                  <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                        {{tlt('template_name_label')}}\n                      </p>\n                    </h5>\n                    <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                      <p>{{ current_template.template_name }}</p>\n                    </div>\n                    <div v-else>\n                      <input\n                        id=\"edit_template_name_id\"\n                        type=\"text\"\n                        v-model.trim=\"current_template.template_name\"\n                        v-on:keyup=\"validate_edit_template_name\"                    \n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        placeholder=\"Enter Template Name\"\n                      />\n                      <span\n                        v-show=\"edit_template_name_already_exist\"\n                        style=\"color: red\"\n                        >A Template with this name already exists.</span\n                      >\n                    </div>\n                  </div>\n                  <div class=\"col-sm-12\" style=\"margin-bottom: 1rem\">\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                        {{tlt('email_subject_label')}}\n                      </p>\n                    </h5>\n                    <div v-if=\"!isEditTemplate\" style=\"padding-left: 20px\">\n                      <p>{{ current_template.subject }}</p>\n                    </div>\n                    <div v-else>\n                      <input\n                        type=\"text\"\n                        v-model.trim=\"current_template.subject\"\n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        placeholder=\"Enter Template Name\"\n                      />\n                    </div>\n                  </div>\n                  <div\n                    v-if=\"!isEditTemplate && current_template.email != null\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_body_label')}}</p>\n                    </h5>\n                    <div style=\"padding-left: 20px\">\n                      <span v-html=\"current_template.email\"></span>\n                    </div>\n                  </div>\n                  <div\n                    v-else-if=\"is_edit_email && isEditTemplate\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_body_label')}}</p>\n                    </h5>\n                    <!-- <div>\n                      <vue-editor\n                        v-model=\"current_template.email\"\n                        :editorToolbar=\"customToolbar\"\n                      ></vue-editor>\n                    </div> -->\n                    <div id=\"edit_editor_temp\" v-if=\"!Boolean(current_template.is_html_body)\" class=\"form-group\">\n                      <div id=\"edit_editor\"></div>\n                    </div>\n                    <div v-if=\"current_template.is_html_body\">\n                      <textarea name=\"\" v-model=\"current_template.email\" id=\"\" rows=\"8\" style=\"width: 100%;\"></textarea>\n                    </div>\n                  </div>\n                  <div\n                    v-if=\"\n                      !isEditTemplate &&\n                      Boolean(current_template.template_image_name) === true &&\n                      Boolean(current_template.image_redirect_url) === true\n                    \"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('image_name_label')}}</p>\n                    </h5>\n                    <div style=\"padding-left: 20px\">\n                      <p>{{ current_template.template_image_name }}</p>\n                    </div>\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">\n                        {{tlt('image_redirect_label')}}\n                      </p>\n                    </h5>\n                    <p>\n                      {{tlt('redirected_link_text')}}\n                    </p>\n                    <div style=\"padding-left: 20px\">\n                      <p>{{ current_template.image_redirect_url }}</p>\n                    </div>\n                  </div>\n                  <div\n                    v-else-if=\"isEditTemplate && !Boolean(current_template.is_html_body)\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      {{tlt('add_img_in_email_label')}}<label\n                        style=\"\n                          font-size: 17px;\n                          font-weight: 400;\n                          padding-left: 0.3rem;\n                        \"\n                      >\n                        {{tlt('image_desc_label')}}\n                      </label>\n                    </h5>\n\n                    <div style=\"display: flex; margin: 1%\">\n                      <div class=\"radio\">\n                        <label style=\"vertical-align: text-top\">\n                          <input\n                            type=\"radio\"\n                            value=\"yes\"\n                            name=\"is_edit_image_needed\"\n                            v-model=\"is_edit_image_needed\"\n                          />\n                          <span class=\"icn\" id=\"radio\"></span>\n                          {{tlt('img_in_email_yes_label')}}\n                        </label>\n                      </div>\n                      <div class=\"radio\" style=\"margin-left: 2%\">\n                        <label style=\"vertical-align: text-top\">\n                          <input\n                            type=\"radio\"\n                            value=\"none\"\n                            name=\"is_edit_image_needed\"\n                            v-model=\"is_edit_image_needed\"\n                          />\n                          <span class=\"icn\" id=\"radio\"></span>\n                          {{tlt('img_in_email_no_label')}}\n                        </label>\n                      </div>\n                    </div>\n                    <div\n                      class=\"custom-file\"\n                      v-if=\"is_edit_image_needed == 'yes'\"\n                      style=\"margin-bottom: 1rem\"\n                    >\n                      <input\n                        type=\"file\"\n                        class=\"custom-file-input\"\n                        @change=\"fileinput2\"\n                        id=\"inputFile2\"\n                      />\n                      <label\n                        style=\"\n                          font-weight: 400;\n                          line-height: 10px;\n                          padding-left: 15px;\n                        \"\n                        class=\"custom-file-label form-control\"\n                        for=\"file\"\n                        >{{ edited_file_label }}</label\n                      >\n                    </div>\n                    <div v-if=\"is_edit_image_needed == 'yes'\">\n                      <h5>{{tlt('image_redirect_url_label')}}</h5>\n                      <label>\n                        {{tlt('redirected_url_link_text')}}\n                      </label>\n                      <input\n                        type=\"text\"\n                        v-model=\"edit_img_redirect_url\"\n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        placeholder=\"(e.g, https://cense.ai)\"\n                      />\n                    </div>\n                  </div>\n\n                  <div\n                    v-if=\"!isEditTemplate && current_template.sms != null\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">SMS</p>\n                    </h5>\n                    <div style=\"padding-left: 20px\">\n                      <p>{{ current_template.sms }}</p>\n                    </div>\n                  </div>\n                  <div\n                    v-else-if=\"is_edit_sms && isEditTemplate\"\n                    class=\"col-sm-12\"\n                    style=\"margin-bottom: 1rem\"\n                  >\n                    <h5>\n                      <p class=\"mt-2 mb-0\" style=\"color: #414141\">SMS</p>\n                    </h5>\n                    <div>\n                      <textarea\n                        maxlength=\"160\"\n                        class=\"form-control\"\n                        style=\"padding: 0.375rem 0.75rem\"\n                        v-model=\"current_template.sms\"\n                        id=\"exampleFormControlTextarea1\"\n                        rows=\"3\"\n                      >\n                      </textarea>\n                    </div>\n                  </div>\n                  <div class=\"modal-footer\" v-if=\"isEditTemplate\">\n                    <div class=\"dash-modal\">\n                      <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n                        <button\n                          type=\"button\"\n                          class=\"btn btn-link\"\n                          style=\"border-radius: 0\"\n                          data-dismiss=\"modal\"\n                          @click=\"edit_template_details\"\n                        >\n                          {{tlt('product_config_mailer_cancel_btn')}}\n                        </button>\n                        <button\n                          type=\"submit\"\n                          class=\"darkblue-btn\"\n                          id=\"res_n_int_save\"\n                          @click=\"edit_template()\"\n                        >\n                          {{tlt('product_config_mailer_save_btn')}}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-12 d-flex px-0 py-5\" v-else-if=\"!spinnerOn\">\n              <h4 class=\"mx-auto\">\n                {{tlt('no_template_data_text')}}\n              </h4>\n            </div>\n            <div class=\"pagin-table pb-3\" style=\"margin-top: 2%\">\n              <nav aria-label=\"Page navigation example\">\n                <ul class=\"pagination justify-content-center\">\n                  <li class=\"page-item\">\n                    <a\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(page_no - 1)\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"8.667\"\n                        height=\"15.204\"\n                        viewBox=\"0 0 8.667 15.204\"\n                      >\n                        <g\n                          id=\"arrow-point-to-left\"\n                          transform=\"translate(105.806 15.204) rotate(180)\"\n                        >\n                          <path\n                            id=\"Path_1136\"\n                            data-name=\"Path 1136\"\n                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                            transform=\"translate(0 0)\"\n                            fill=\"#9499ae\"\n                          />\n                        </g>\n                      </svg>\n                    </a>\n                  </li>\n                  <li\n                    :class=\"'page-item ' + pagination_class(pageno)\"\n                    v-for=\"pageno in page_array\"\n                    :key=\"pageno\"\n                  >\n                    <a\n                      v-if=\"pageno == '...s' || pageno == '...l'\"\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(pageno)\"\n                      >...</a\n                    >\n                    <a\n                      v-if=\"pageno != '...s' && pageno != '...l'\"\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(pageno)\"\n                      >{{ pageno }}</a\n                    >\n                  </li>\n                  <li class=\"page-item\">\n                    <a\n                      class=\"page-link\"\n                      href=\"#\"\n                      @click=\"page_require(page_no + 1)\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"8.667\"\n                        height=\"15.204\"\n                        viewBox=\"0 0 8.667 15.204\"\n                      >\n                        <g\n                          id=\"arrow-point-to-right\"\n                          transform=\"translate(-97.139 0)\"\n                        >\n                          <path\n                            id=\"Path_1136\"\n                            data-name=\"Path 1136\"\n                            d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                            transform=\"translate(0 0)\"\n                            fill=\"#9499ae\"\n                          />\n                        </g>\n                      </svg>\n                    </a>\n                  </li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"sendemail\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>{{tlt('email_model_sender_email_header')}}</h3>\n              <button\n                type=\"button\"\n                class=\"close close_btn\"\n                @click=\"empty_variable\"\n                data-dismiss=\"modal\"\n              >\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div class=\"form-group\">\n              <h5>\n                <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_model_template_name_header')}}</p>\n              </h5>\n              <div style=\"padding-left: 20px\">\n                <p>{{ current_template.template_name }}</p>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <div class=\"d-flex\">\n                <h5>\n                  <p class=\"mt-2 mb-0\" style=\"color: #414141\">{{tlt('email_model_send_email_header')}}</p>\n                </h5>\n                <span\n                  v-if=\"!send_email_all_customer\"\n                  style=\"\n                    margin-left: 12px;\n                    margin-top: 10px !important;\n                    color: #0645ad;\n                  \"\n                >\n                  <i\n                    class=\"fa fa-info-circle\"\n                    aria-hidden=\"true\"\n                    style=\"font-size: 16px\"\n                    title=\"you can also specify name while adding new email in this way (john.d@mail.com,John Doe), note this would only work in the case where you add new email.\"\n                  >\n                  </i>\n                </span>\n              </div>\n              <div class=\"radio my-auto\" style=\"padding-left: 20px\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    v-model=\"send_email_all_customer\"\n                    :value=\"true\"\n                    id=\"send_email_all_customer_true_id\"\n                  />\n                  <span class=\"icn\" id=\"filter_portal_user_radio\"></span>\n                  {{tlt('email_model_all_customer_label')}}\n                </label>\n                <label>\n                  <input\n                    type=\"radio\"\n                    v-model=\"send_email_all_customer\"\n                    :value=\"false\"\n                    id=\"send_email_all_customer_false_id\"\n                  />\n                  <span class=\"icn\"></span>\n                  {{tlt('email_model_specific_customer_label')}}\n                </label>\n              </div>\n            </div>\n            <div class=\"form-group\" v-if=\"!send_email_all_customer\">\n              <multiselect\n                v-model=\"specific_customer_list\"\n                :options=\"customers_list\"\n                id=\"specific_customer_list_id\"\n                :searchable=\"true\"\n                :close-on-select=\"false\"\n                :multiple=\"true\"\n                :taggable=\"true\"\n                tag-position=\"top\"\n                tag-placeholder=\"Add this as new email\"\n                placeholder=\"Search customer email or type in to add a new email\"\n                :max-height=\"400\"\n                label=\"email\"\n                track-by=\"email\"\n                open-direction=\"below\"\n                @tag=\"addTag\"\n              >\n                <!-- <span>{{ selected_role }}</span> -->\n              </multiselect>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                data-dismiss=\"modal\"\n                @click=\"empty_variable\"\n              >\n                {{tlt('template_model_cancel_btn')}}\n              </button>\n              <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"send_email()\"\n              >\n                Send\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"templatemodel\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>{{tlt('template_model_header')}}</h3>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div class=\"form-group\">\n              <label>{{tlt('template_model_name_label')}}</label>\n              <input\n                id=\"template_name_add_id\"\n                type=\"text\"\n                v-on:keyup=\"validate_template_name\"\n                v-model.trim=\"template_name\"\n                class=\"form-control\"\n                placeholder=\"Enter Template Name\"\n              />\n              <span v-show=\"template_name_already_exist\" style=\"color: red\"\n                >{{tlt('template_model_name_text')}}</span\n              >\n            </div>\n            <div class=\"form-group\">\n              <label>{{tlt('template_model_email_sub_label')}}</label>\n              <input\n                type=\"text\"\n                v-model=\"email_subject\"\n                class=\"form-control\"\n                placeholder=\"Enter Email Subject\"\n              />\n            </div>\n            <div class=\"form-group\" v-show=\"is_email\">\n              <div class=\"d-flex\">\n                <label\n                  style=\"\n                    margin-top: 2px !important;\n                    margin-bottom: 7px !important;\n                  \"\n                  >{{tlt('template_model_email_body_label')}}</label\n                >\n                <span\n                  style=\"\n                    margin-left: 12px;\n                    margin-bottom: 5px !important;\n                    color: #0645ad;\n                  \"\n                >\n                  <i\n                    class=\"fa fa-info-circle\"\n                    aria-hidden=\"true\"\n                    style=\"font-size: 16px\"\n                    title=\"To Display customer full name in email body use {full_name} and for customer first name use {first_name}. (Example Hi {full_name} would display Hi FirstName LastName).\"\n                  >\n                  </i>\n                </span>\n                 <label\n                  class=\"ml-auto\"\n                  style=\"\n                    margin-top: 2px !important;\n                    margin-right: 10px;\n                    margin-bottom: 7px !important;\n                  \"\n                  >{{tlt('html_body_label')}}</label\n                >\n                <label class=\"switch col-sm-1\" style=\"margin-top:0px;\">\n                  <input\n                    type=\"checkbox\"\n                    @click=\"change_body_format\"\n                    v-model=\"is_html_body\"\n                    id=\"is_display_banner_on_landing_id\"\n                  />\n                  <span\n                    class=\"slider round\"\n                    style=\"border-radius: 50px;\"\n                  ></span>\n                </label>\n              </div>\n              <!-- <vue-editor\n                v-model=\"save_email\"\n                :editorToolbar=\"customToolbar\"\n              ></vue-editor> -->\n              <div v-if=\"!is_html_body\" class=\"form-group\">\n                <div id=\"editor\"></div>\n              </div>\n              <div v-if=\"is_html_body\">\n                <textarea name=\"\" v-model=\"save_email\" id=\"\" rows=\"8\" style=\"width: 100%;\"></textarea>\n              </div>\n            </div>\n            <div v-if=\"!is_html_body\" class=\"form-group\">\n              <label>{{tlt('template_model_add_img_label')}}</label>\n              <label style=\"padding-left: 0.3rem\">\n                {{tlt('template_model_add_img_text')}}\n              </label>\n              <div style=\"display: flex; margin: 1%\">\n                <div class=\"radio\">\n                  <label style=\"vertical-align: text-top\">\n                    <input\n                      type=\"radio\"\n                      value=\"yes\"\n                      name=\"is_image_needed\"\n                      v-model=\"is_image_needed\"\n                    />\n                    <span class=\"icn\" id=\"radio\"></span>\n                    Yes\n                  </label>\n                </div>\n                <div class=\"radio\" style=\"margin-left: 2%\">\n                  <label style=\"vertical-align: text-top\">\n                    <input\n                      type=\"radio\"\n                      value=\"none\"\n                      name=\"is_image_needed\"\n                      v-model=\"is_image_needed\"\n                    />\n                    <span class=\"icn\" id=\"radio\"></span>\n                    No\n                  </label>\n                </div>\n              </div>\n              <div class=\"custom-file\" v-if=\"is_image_needed == 'yes'\">\n                <input\n                  type=\"file\"\n                  class=\"custom-file-input\"\n                  @change=\"fileinput1\"\n                  id=\"inputFile\"\n                />\n                <label\n                  style=\"\n                    font-weight: 400;\n                    line-height: 20px;\n                    padding-left: 15px;\n                  \"\n                  class=\"custom-file-label form-control\"\n                  for=\"file\"\n                  >{{ file_label }}</label\n                >\n              </div>\n            </div>\n            <div class=\"form-group\" v-if=\"is_image_needed == 'yes' && !is_html_body\">\n              <label>{{tlt('template_model_image_url_label')}}</label>\n              <label>\n                {{tlt('template_model_redirected_link_text')}}\n              </label>\n              <input\n                type=\"text\"\n                v-model=\"img_redirect_url\"\n                class=\"form-control\"\n                placeholder=\"(e.g, https://cense.ai)\"\n              />\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <div class=\"btn-wrap text-right mt-0 py-0 border-top-0\">\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                data-dismiss=\"modal\"\n                @click=\"empty_variable\"\n              >\n                {{tlt('template_model_cancel_btn')}}\n              </button>\n              <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"save_template()\"\n              >\n                {{tlt('template_model_save_btn')}}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { VueEditor } from \"vue2-editor\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\nimport Multiselect from \"vue-multiselect\";\n\nexport default {\n  name: \"EmailTemplatePage\",\n  components: {\n    VueEditor,\n    Multiselect,\n  },\n  mixins: [freeze_portal,show_subscription_expired_swal],\n  data() {\n    return {\n      pencil_svg:\n        ' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      spinnerOn: false,\n      template_name: \"\",\n      save_sms: \"\",\n      save_email: \"\",\n      is_sms: false,\n      is_email: true,\n      save_subject: \"\",\n      is_publish_email: true,\n      is_publish_sms: true,\n      is_edit_sms: false,\n      is_edit_email: true,\n      verification_status: null,\n      templatelist: [],\n      checked_list: [],\n      customToolbar: [\n        [\"bold\", \"italic\", \"underline\"],\n        [{ align: [] }],\n        [{ color: [] }, { background: [] }],\n        [{ list: \"ordered\" }, { list: \"bullet\" }],\n        [\"link\"],\n      ],\n      quill: \"\",\n      quill_edit: \"\",\n      is_html_body: false,\n      slot_variable:{},\n      current_template: [],\n      old_template_name: \"\",\n      isEditTemplate: false,\n      number_of_rows: null,\n      total_pages: null,\n      page_no: 1,\n      per_page: 10,\n      image_file: null,\n      image_file_2: null,\n      is_image_needed: \"none\",\n      is_edit_image_needed: \"none\",\n      email_subject: \"\",\n      reg_url:\n        /https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\n      is_edit_reg_url:\n        /https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\n      img_redirect_url: \"\",\n      edit_img_redirect_url: \"\",\n      file_label: \"Choose file\",\n      edited_file_label: \"Choose file\",\n      preview_template_data: \"\",\n      template_name_already_exist: false,\n      edit_template_name_already_exist: false,\n      page_array: [],\n      send_email_all_customer: true,\n      customers_list: [],\n      specific_customer_list: [],\n      disable_btn_expired: false,\n      email_reg:\n        /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n    };\n  },\n  props: {\n    is_notification_template: Boolean,\n  },\n  watch: {\n    // is_notification_template() {\n    //   console.log(this.is_notification_template);\n    // },\n  },\n  computed: {\n    validURL() {\n      if (this.reg_url.test(this.img_redirect_url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    valid_edit_URL() {\n      if (this.is_edit_reg_url.test(this.edit_img_redirect_url)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  created() {\n    if (this.$session.get(\"UserInformation\").role == \"SuperAdmin\") {\n      this.companyid = this.$session.get(\"CompanyId\");\n      this.companyname = this.$session.get(\"CompanyName\");\n    } else {\n      this.companyid = this.$session.get(\"UserInformation\").company_id;\n      this.companyname = this.$session.get(\"UserInformation\").company_name;\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n     this.$root.$on(\"EmailTemplatePageDisabled\", (data) =>{\n      if(data===true){\n        this.disable_btn_expired = true;\n        this.show_subscription_expired_swal();\n      }\n    })\n    this.load_templates();\n    if (this.is_notification_template === false){\n      this.load_customer_list();\n    }\n    var vm = this;\n    $(\"#selectall\").click(function () {\n      this.isEditTemplate = false;\n      this.is_sms = false;\n      this.is_email = true;\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        vm.checked_list = [];\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    this.editor();\n    if (this.is_notification_template === true){\n      this.load_slot_variable();\n    }\n  },\n  methods: {\n    load_slot_variable(){\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.form_automation_dialog_tree(),\n          {\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            company_name: this.$session.get(\"UserInformation\").company_name,\n            is_get_slot_variable: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data.status == \"Success\") {\n            this.slot_variable = {};\n            for (let index = 0; index < response.data.slots_list.length; index++) {\n              const element = response.data.slots_list[index];\n              this.slot_variable[element] = '{' + element + '}';\n            }\n          // this.insert_variable('quill', this.slot_variable);\n          }else {\n            Swal({\n              text: \"Internal Server Error\",\n              toast: true,\n              position: \"top-end\",\n              type: \"error\",\n              showConfirmButton: false,\n              timer: 5000,\n            });\n          }\n        })\n        .catch((e) => {\n          // this.insert_variable('quill', this.slot_variable);\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    editor(){\n      this.quill = new Quill(\"#editor\", {\n        modules: {\n          toolbar: [\n            [\"bold\", \"italic\", \"underline\"],\n            [\"link\"],\n            [{ align: [] }],\n            [{ color: [] }, { background: [] }],\n            [{ list: \"ordered\" }, { list: \"bullet\" }],\n          ],\n        },\n        theme: \"snow\",\n      });\n      this.quill.on(\"text-change\", () => {\n        this.$emit(\n          \"input\",\n          this.quill.getText() ? this.quill.root.innerHTML : \"\"\n        );\n        this.save_email = this.quill.getText() ? this.quill.root.innerHTML : \"\";\n      });\n      if(this.is_notification_template) {\n        this.insert_variable('quill', this.slot_variable);\n      }\n    },\n    edit_editor(){\n      this.quill_edit = new Quill(\"#edit_editor\", {\n      modules: {\n        toolbar: [\n          [\"bold\", \"italic\", \"underline\"],\n          [\"link\"],\n          [{ align: [] }],\n          [{ color: [] }, { background: [] }],\n          [{ list: \"ordered\" }, { list: \"bullet\" }],\n        ],\n      },\n      theme: \"snow\",\n    });\n    this.quill_edit.on(\"text-change\", () => {\n      this.$emit(\n        \"input\",\n        this.quill_edit.getText() ? this.quill_edit.root.innerHTML : \"\"\n      );\n      this.current_template.email = this.quill_edit.getText() ? this.quill_edit.root.innerHTML : \"\";\n    });\n    this.quill_edit.root.innerHTML = this.current_template.email;\n    this.insert_variable('quill_edit', this.slot_variable);\n    },\n    insert_variable(val, slot_variable){\n      if (this.is_notification_template === true){\n        const dropDownItems = {\n        'No slot variable': '',\n        }\n        const myDropDown = new QuillToolbarDropDown({\n            label: \"Insert Variable\",\n            rememberSelection: false,\n            id: \"dropdown_id\"\n        })\n        if(Object.entries(slot_variable).length === 0 && slot_variable.constructor === Object){\n          myDropDown.setItems(dropDownItems);\n        }else {\n          myDropDown.setItems(slot_variable);\n        }\n        myDropDown.onSelect = function(label, value, quill) {\n            const { index, length } = quill.selection.savedRange\n            quill.deleteText(index, length)\n            quill.insertText(index, value)\n            quill.setSelection(index + value.length)\n        }\n        myDropDown.attach(this.quill)\n        if (val === 'quill_edit'){\n          myDropDown.attach(this.quill_edit)\n        }\n      }\n    },\n    addTag(newTag) {\n      var tag_list = [];\n      tag_list = newTag.split(\",\");\n      if (tag_list.length > 2) {\n        swal({\n          text: this.tlt('email_temp_add_valid_tag_msg'),\n          type: \"warning\",\n          showConfirmButton: true,\n          timer: 4500,\n        });\n        return;\n      } else {\n        var email = tag_list[0];\n        var customer_name = Boolean(tag_list[1]) ? tag_list[1] : \" \";\n        if (!this.email_reg.test(email)) {\n          swal({\n            text: this.tlt('email_temp_valid_email_addr_msg'),\n            type: \"warning\",\n            showConfirmButton: true,\n            timer: 4500,\n          });\n          return;\n        }\n      }\n      const tag = {\n        customer_name: customer_name,\n        email: email,\n      };\n      this.customers_list.push(tag);\n      this.specific_customer_list.push(tag);\n    },\n    load_customer_list() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.send_offer_to_customers(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            get_customers_list: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.status == 200) {\n            this.customers_list = response.data.customers_list;\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    email_verification_status() {\n      if(!this.disable_btn_expired){\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.product_settings(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_email_verification_status: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (\n            response.data != \"\" &&\n            response.data != null &&\n            response.data != \"Internal server Error\"\n          ) {\n            this.verification_status = response.data.verification_status;\n            // console.log(this.verification_status);\n            if (this.verification_status == \"Success\") {\n              // if (!document.getElementById(\"publish_template_btn\").disabled) {\n              $(\"#sendemail\").modal(\"show\");\n              this.load_customer_list();\n              // }\n            } else {\n              swal({\n                text: this.tlt('email_temp_not_config_instruction_msg'),\n                type: \"error\",\n                showConfirmButton: true,\n                timer: 13000,\n              });\n            }\n          } else if(response.data.MSG == 'EMAIL NOT FOUND OR NOT CONFIGURED') {\n            swal({\n                text: this.tlt('email_temp_not_config_instruction_msg1'),\n                type: \"warning\",\n                showConfirmButton: true,\n                timer: 13000,\n              });\n          } \n          else {\n            toastr.error(this.tlt('email_temp_not_config_server_msg'));\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          toastr.error(this.tlt('email_temp_not_config_error_occur_msg'));\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n      }else{\n        this.show_subscription_expired_swal();\n      }\n    },\n    validate_template_name() {\n      axios.post(\n        api_calls.template_promotional_email(),\n        {\n           company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_template_present: true,\n            is_notification: this.is_notification_template,\n            template_name: this.template_name,\n        },\n        {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n      )\n      .then((response) =>{\n        if (response.data.MSG == \"Not Exists\") {\n            this.template_name_already_exist = false;\n            document.getElementById(\"template_name_add_id\").style.border =null;\n            if(this.template_name != \"\"){\n              document.getElementById(\"template_name_add_id\").style.border =\n              \"1px solid #00f000\";\n            }\n          } else if (response.data.MSG == \"Already Exists\") {\n            this.template_name_already_exist = true;\n            document.getElementById(\"template_name_add_id\").style.border =\n            \"1px solid red\";\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    validate_edit_template_name() {\n      axios.post(\n        api_calls.template_promotional_email(),\n        {\n           company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_template_present: true,\n            is_notification: this.is_notification_template,\n            template_name: this.current_template.template_name,\n        },\n        {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n      )\n      .then((response) =>{\n        if (response.data.MSG == \"Not Exists\") {\n            this.edit_template_name_already_exist = false;\n            document.getElementById(\"edit_template_name_id\").style.border =null;\n            if(this.current_template.template_name != \"\"){\n              document.getElementById(\"edit_template_name_id\").style.border =\n              \"1px solid #00f000\";\n            }\n          } else if (response.data.MSG == \"Already Exists\") {\n            if (this.old_template_name == this.current_template.template_name){\n              this.edit_template_name_already_exist = false;\n              document.getElementById(\"edit_template_name_id\").style.border =null;\n            }else{\n              this.edit_template_name_already_exist = true;\n              document.getElementById(\"edit_template_name_id\").style.border =\n              \"1px solid red\";\n            }\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    preview_template() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_promotional_email(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_preview: true,\n            template_id: this.current_template.template_id,\n            is_notification: this.is_notification_template,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          // if (response.data != null) {\n          //   this.number_of_rows = response.data.pagecount;\n          //   this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n          //   if (response.data === \"DB OPERATION UNSUCCESSFUL\") {\n          //     this.templatelist = [];\n          //     return;\n          //   }\n          //   this.templatelist = response.data.data;\n          //   if (this.templatelist.length > 0) {\n          //     // this.current_template = this.templatelist[0];\n          //     this.show_template(0);\n          //   }\n          //   this.isEditTemplate = false;\n          // }\n          // this.setpagination(this.page_no);\n          if (response.data != null) {\n            this.preview_template_data = response.data.Template;\n            $(\"#preview_template_visible\").modal(\"show\");\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    send_email_confirm_prompt_text(all_customer) {\n      if (all_customer) {\n        return this.tlt('email_temp_send_bulk_email_msg');\n      } else {\n        return this.tlt('email_temp_send_specific_customer_msg');\n      }\n    },\n    send_email() {\n      if (!this.send_email_all_customer) {\n        if(!Boolean(this.specific_customer_list.length > 0)){\n          swal({\n          text: this.tlt('email_temp_select_one_email_msg'),\n          type: \"warning\",\n          timer: 5000,\n        });\n        return\n        }\n      }\n      Swal.fire({\n        title:this.send_email_confirm_prompt_text(this.send_email_all_customer),\n        text: this.tlt('email_temp_swal_confirm_msg'),\n        showCancelButton: true,\n        type:'warning',\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: this.tlt('email_temp_swal_yes_msg'),\n      }).then((result) => {\n        if (result.value) {\n          $(\"#sendemail\").modal(\"hide\");\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.send_offer_to_customers(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                send_email: true,\n                send_email_all_customer: this.send_email_all_customer,\n                specific_customer_list:\n                  this.send_email_all_customer != true\n                    ? this.specific_customer_list\n                    : [],\n                template_id: this.current_template.template_id,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              if (response.data != null) {\n                if (response.data.MSG === \"Sending Email\") {\n                  // this.save_subject = \"\";\n                  // $(\"#publishtemplatemodel\").modal(\"hide\");\n                  swal({\n                    text: this.tlt('email_temp_sent_successful_msg'),\n                    type: \"success\",\n                    timer: 5000,\n                    title: this.tlt('email_temp_swal_success_msg'),\n                  }).then((result) => {\n                    $(\"#sendemail\").modal(\"hide\");\n                    this.empty_variable();\n                  });\n                } else if(response.data.MSG === \"Please upgrade your plan to send emails\") {\n                    swal({\n                      type: \"warning\",\n                      text: this.tlt('email_temp_upgrade_plan_msg'),\n                      showCancelButton: true,\n                      confirmButtonColor:'#3085d6',\n                      confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n                      cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n                      cancelButtonColor: '#d33',\n                    }).then((result) => {\n                      if (result.value == true)\n                      {\n                        this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                      }\n                    });\n                }\n                 else {\n                  swal({\n                    text: this.tlt('email_temp_internal_server_alert_msg1'),\n                    type: \"error\",\n                    timer: 2000,\n                  });\n                }\n              } else {\n                swal({\n                  text: this.tlt('email_temp_internal_server_alert_msg2'),\n                  type: \"error\",\n                  timer: 2000,\n                });\n              }\n            })\n            .catch((e) => {\n              this.spinnerOn = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      });\n    },\n    selected_templates(value) {\n      if(value == \"all\"){\n        if (event.target.checked) {\n          this.checked_list = [];\n            for (var i in this.templatelist) {\n              this.checked_list.push(this.templatelist[i].template_id);\n          }\n          $(\"input:checkbox\").prop(\"checked\", false);\n          for(let i = 0; i < this.checked_list.length; i++){\n            $(\"#\"+[i]).prop(\"checked\", true);\n            $(\"#selectall\").prop(\"checked\", true);\n          }\n        }else if (!event.target.checked){\n          this.checked_list = [];\n          $(\"input:checkbox\").prop(\"checked\", false);\n        }\n\n      }else{\n        if (event.target.checked) {\n          this.checked_list.push(value);\n        } else if (!event.target.checked){\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((templates_id) => {\n            return templates_id != value;\n          });\n          this.checked_list = temp;\n        }\n      }\n    },\n    load_templates() {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_promotional_email(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_get: true,\n            is_notification: this.is_notification_template,\n            page_no: this.page_no,\n            per_page: this.per_page,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data != null) {\n            this.number_of_rows = response.data.pagecount;\n            this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n            if (response.data === \"DB OPERATION UNSUCCESSFUL\") {\n              this.templatelist = [];\n              return;\n            }\n            this.templatelist = response.data.data;\n            if (this.templatelist.length > 0) {\n              // this.current_template = this.templatelist[0];\n              this.show_template(0);\n            }\n            this.isEditTemplate = false;\n          }\n          this.setpagination(this.page_no);\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    fileinput1(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n        if (!files.length) return;\n        this.file_label = files[0].name;\n        this.createImage(files[0]);\n      } else {\n        swal({\n          text: this.tlt('email_temp_image_type_msg1'),\n          type: \"error\",\n          timer: 2500,\n        });\n      }\n    },\n    createImage(file, type) {\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.image_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n    fileinput2(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].type === \"image/png\" || files[0].type === \"image/jpeg\") {\n        if (!files.length) return;\n        this.old_edited_image_name = this.edited_file_label;\n        this.edited_file_label = files[0].name;\n        this.createImage2(files[0]);\n      } else {\n        swal({\n          text: this.tlt('email_temp_image_type_msg2'),\n          type: \"error\",\n          timer: 2500,\n        });\n      }\n    },\n    createImage2(file, type) {\n      let reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.image_file_2 = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n    },\n    create_UUID() {\n      var dt = new Date().getTime();\n      var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n        /[xy]/g,\n        function (c) {\n          var r = (dt + Math.random() * 16) % 16 | 0;\n          dt = Math.floor(dt / 16);\n          return (c == \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n        }\n      );\n      return uuid;\n    },\n    page_require(page) {\n      if (page == 0 || page == this.total_pages + 1) {\n      } else {\n        if (page == \"...s\") {\n          this.page_no = Math.ceil((1 + this.page_no) / 2);\n        } else if (page == \"...l\") {\n          this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n        } else {\n          this.page_no = page;\n        }\n        $(\"input:checkbox\").prop(\"checked\", false);\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.template_promotional_email(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_get: true,\n              is_notification: this.is_notification_template,\n              page_no: this.page_no,\n              per_page: this.per_page,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            if (response.data != null) {\n              if (response.data === \"DB OPERATION UNSUCCESSFUL\") {\n                this.templatelist = [];\n                return;\n              }\n              this.templatelist = response.data.data;\n              if (this.templatelist.length > 0) {\n                this.current_template = this.templatelist[0];\n              }\n              this.isEditTemplate = false;\n            }\n            this.setpagination(this.page_no);\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    save_template() {\n      if (this.template_name == \"\") {\n        Swal({\n          text: this.tlt('email_model_template_name_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.template_name_already_exist == true) {\n        Swal({\n          text: this.tlt('email_model_name_exist_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.email_subject == \"\") {\n        Swal({\n          text: this.tlt('email_model_enter_subject_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_sms == true && this.save_sms == \"\") {\n        Swal({\n          text: this.tlt('email_model_enter_sms_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_email == true && this.save_email == \"\") {\n        Swal({\n          text: this.tlt('email_model_enter_email_body_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_email == false && this.is_sms == false) {\n        Swal({\n          text: this.tlt('email_model_select_option_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_image_needed == \"yes\" &&\n        document.getElementById(\"inputFile\").value == \"\"\n      ) {\n        Swal({\n          text: this.tlt('email_model_choose_img_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_image_needed == \"yes\" && !this.validURL) {\n        Swal({\n          text: this.tlt('email_model_valid_url_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else {\n        if (this.is_html_body) this.is_image_needed = 'none';\n        var uuid = this.create_UUID();\n        Swal.fire({\n          title: this.tlt('email_model_swal_alert_msg'),\n          text: this.tlt('email_model_add_current_template_msg'),\n          type: \"question\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: this.tlt('email_model_swal_confirm_msg'),\n        }).then((result) => {\n          if (result.value) {\n            Swal({\n              text: this.tlt('email_model_submit_details_msg'),\n              type: \"info\",\n              toast: true,\n              showConfirmButton: false,\n            });\n            axios\n              .post(\n                api_calls.template_promotional_email(),\n                {\n                  company_id: this.company_id,\n                  company_name: this.company_name,\n                  is_save: true,\n                  is_notification: this.is_notification_template,\n                  template_id: uuid,\n                  template_name: this.template_name,\n                  save_email: this.is_email == true ? this.save_email : null,\n                  save_sms: this.is_sms == true ? this.save_sms : null,\n                  email_subject: this.email_subject,\n                  email_img_file:\n                    this.is_image_needed === \"none\" ? null : this.image_file,\n                  email_img_name: this.file_label,\n                  email_img_link: this.img_redirect_url,\n                  is_html_body: this.is_html_body\n                },\n                {\n                  headers: {\n                    Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                  },\n                }\n              )\n              .then((response) => {\n                if (response.data == \"Query Executed Successfully\") {\n                  Swal({\n                    type: \"success\",\n                    text: this.tlt('email_model_data_added_successful_msg'),\n                    timer: 2500,\n                  }).then((result) => {\n                    this.empty_variable();\n                    this.load_templates();\n                    $(\"#templatemodel\").modal(\"hide\");\n                  });\n                } else if (response.data.Msg == \"Duplicate image\") {\n                  Swal({\n                    type: \"error\",\n                    text: this.tlt('email_model_img_already_found_msg'),\n                    timer: 2500,\n                  });\n                  this.empty_variable();\n                  this.load_templates();\n                } else {\n                  Swal({\n                    type: \"error\",\n                    text: this.tlt('email_model_error_occur_msg1'),\n                    timer: 2500,\n                  });\n                }\n              })\n              .catch((e) => {\n                Swal({\n                  type: \"error\",\n                  text: this.tlt('email_model_error_occur_msg2'),\n                  timer: 2500,\n                });\n                if (\n                  e.response.status === 410 ||\n                  e.response.status === 440 ||\n                  e.response.status === 409\n                ) {\n                  this.$root.$emit(\"Session_Expired\", e.response.data);\n                }\n              });\n          }\n        });\n      }\n    },\n    edit_template() {\n      if (this.current_template.template_name == \"\") {\n        Swal({\n          text: this.tlt('email_edit_template_name_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.edit_template_name_already_exist == true) {\n        Swal({\n          text: this.tlt('email_edit_name_already_exist_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.current_template.subject == \"\") {\n        Swal({\n          text: this.tlt('email_edit_enter_subject_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_edit_sms == true &&\n        (this.current_template.sms == null || this.current_template.sms == \"\")\n      ) {\n        Swal({\n          text: this.tlt('email_edit_enter_sms_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_edit_email == true &&\n        (this.current_template.email == null ||\n          this.current_template.email == \"\")\n      ) {\n        Swal({\n          text: this.tlt('email_edit_enter_email_body_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_edit_email == false && this.is_edit_sms == false) {\n        Swal({\n          text: this.tlt('email_edit_select_option_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (this.is_edit_image_needed == \"yes\" && !this.valid_edit_URL) {\n        Swal({\n          text: this.tlt('email_edit_valid_url_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.is_edit_image_needed == \"yes\" &&\n        this.edited_file_label == \"Choose file\" &&\n        document.getElementById(\"inputFile2\").value == \"\"\n      ) {\n        Swal({\n          text: this.tlt('email_edit_choose_img_msg'),\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else {\n        if (this.is_html_body) this.is_edit_image_needed = 'none';\n        Swal({\n          text: this.tlt('email_edit_submit_details_msg'),\n          type: \"info\",\n          toast: true,\n          showConfirmButton: false,\n        });\n        axios\n          .post(\n            api_calls.template_promotional_email(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_edit: true,\n              is_notification: this.is_notification_template,\n              template_id: this.current_template.template_id,\n              template_name: this.current_template.template_name,\n              email_subject: this.current_template.subject,\n              save_email:\n                this.is_edit_email == true ? this.current_template.email : null,\n              save_sms:\n                this.is_edit_sms == true ? this.current_template.sms : null,\n              email_img_file:\n                this.is_edit_image_needed === \"none\" ? null : this.image_file_2,\n              email_img_name:\n                this.is_edit_image_needed === \"none\"\n                  ? null\n                  : this.edited_file_label,\n              email_img_link:\n                this.is_edit_image_needed === \"none\"\n                  ? null\n                  : this.edit_img_redirect_url,\n              is_image_edit:\n                this.edited_file_label != this.old_edited_image_name\n                  ? true\n                  : false,\n              is_image_present:\n                this.is_edit_image_needed === \"none\" ? false : true,\n              old_image:\n                this.old_edited_image_name == \"Choose File\"\n                  ? null\n                  : this.old_edited_image_name,\n              is_html_body: this.current_template.is_html_body\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            if (response.data == \"Query Executed Successfully\") {\n              Swal({\n                type: \"success\",\n                text: this.tlt('email_edit_data_edit_successful_msg'),\n                timer: 2500,\n              }).then((result) => {\n                this.load_templates();\n              });\n            } else if (response.data.Msg == \"Duplicate image\") {\n              document.getElementById(\"inputFile2\").value = \"\";\n              swal({\n                text: this.tlt('email_edit_img_already_found_msg'),\n                type: \"error\",\n                timer: 3000,\n              });\n            } else {\n              Swal({\n                type: \"error\",\n                text: this.tlt('email_edit_error_occur_msg1'),\n                timer: 2500,\n              });\n              this.load_templates();\n            }\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n            Swal({\n              type: \"error\",\n              text: this.tlt('email_edit_error_occur_msg2'),\n              timer: 2500,\n            });\n          });\n      }\n    },\n    delete_selected() {\n      if (this.checked_list.length == 0) {\n        Swal.fire({\n          title: this.tlt('email_temp_no_template_select_msg'),\n          text: \"\",\n          type: \"error\",\n          timer: 2000,\n        });\n      } else {\n        Swal.fire({\n          title: this.tlt('email_temp_swal_alert_msg2'),\n          text: this.tlt('email_temp_swal_delete_current_template_msg'),\n          type: \"question\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: this.tlt('email_temp_swal_confirm_msg'),\n        }).then((result) => {\n          if (result.value) {\n            this.delete_templates(this.checked_list);\n          }\n        });\n      }\n    },\n    delete_templates(checked_list) {\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.template_promotional_email(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_delete: true,\n            template_list: checked_list,\n            is_notification: this.is_notification_template,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          if (response.data == \"Deleted Successfully\") {\n            Swal({\n              type: \"success\",\n              text: this.tlt('email_temp_data_deleted_msg'),\n              timer: 2500,\n            }).then((result) => {\n              this.checked_list = [];\n              $(\"input:checkbox\").prop(\"checked\", false);\n              this.load_templates();\n            });\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    show_template(index) {\n      if (this.isEditTemplate) {\n        this.edit_template_details();\n      }\n      this.current_template = JSON.parse(JSON.stringify(this.templatelist[index]));\n      this.old_template_name = this.current_template.template_name;\n      this.current_template_index = index;\n      if (Boolean(this.current_template.template_image_name) === true) {\n        this.is_edit_image_needed = \"yes\";\n      } else {\n        this.is_edit_image_needed = \"none\";\n      }\n      if (this.templatelist[index].email != null) {\n        this.is_edit_email = true;\n      } else {\n        this.is_edit_email = false;\n      }\n      if (this.templatelist[index].sms != null) {\n        this.is_edit_sms = true;\n      } else {\n        this.is_edit_sms = false;\n      }\n      if (Boolean(this.current_template.template_image_name) === true) {\n        this.edited_file_label = this.current_template.template_image_name;\n        this.old_edited_image_name = this.edited_file_label;\n        this.edit_img_redirect_url = this.current_template.image_redirect_url;\n        if (this.edited_file_label == \"\") {\n          this.edited_file_label = \"Choose file\";\n        }\n      } else {\n        this.edited_file_label = \"Choose file\";\n        this.old_edited_image_name = this.edited_file_label;\n        this.edit_img_redirect_url = \"\";\n      }\n    },\n    empty_variable() {\n      if(!this.disable_btn_expired){\n        this.send_email_all_customer = true;\n        this.quill.setText(\"\");\n        this.customers_list = [];\n        this.specific_customer_list = [];\n        this.save_sms = \"\";\n        this.is_html_body = false;\n        this.save_email = \"\";\n        this.template_name = \"\";\n        this.old_template_name = \"\";\n        this.is_email = true;\n        this.is_sms = false;\n        this.save_subject = \"\";\n        this.is_publish_email = true;\n        this.verification_status = null;\n        this.file_label = \"Choose file\";\n        this.img_redirect_url = \"\";\n        this.email_subject = \"\";\n        this.is_image_needed = \"none\";\n        this.template_name_already_exist = false;\n        document.getElementById(\"template_name_add_id\").style.border = null;\n      }else {\n        this.show_subscription_expired_swal();\n      }\n    \n    },\n    edit_template_details() {\n      if (!this.isEditTemplate) {\n        this.isEditTemplate = true;\n        setTimeout(() => {\n          this.edit_editor();\n        }, 1000);\n      } else {\n        if(!this.current_template.is_html_body){\n          var elements = document.getElementById('edit_editor_temp');\n          elements.removeChild(elements.firstElementChild)\n        }\n        this.isEditTemplate = false;\n        this.load_templates();\n        this.edit_template_name_already_exist = false;\n      }\n    },\n    change_body_format(){\n        if(!this.is_html_body) {\n          this.is_html_body = true;\n          this.save_email = \"\";\n          // const element = document.getElementById(\"editor\");\n          // element.remove();\n        }else {\n          this.is_html_body = false;\n          this.save_email = \"\";\n          console.log(\"coming here\"); \n            setTimeout(() => {\n              this.editor();\n            }, 500);\n        }\n      // }, 1000);\n    },\n    check_current_template_active(index) {\n      // console.table(index, this.templatelist[index], this.current_template);\n      if (Boolean(this.templatelist[index]) === true) {\n        return this.templatelist[index].template_name ===\n          this.old_template_name\n          ? \"current-active-template\"\n          : null;\n      }\n    },\n  },\n};\n</script>\n<style>\n.ql-picker-options {\n  max-height: 200px !important;\n  overflow: auto !important;\n}\n.ql-dropdown_id{\n  background: lightgray !important;\n}\n.ql-snow .ql-picker.ql-expanded .ql-picker-label {\n    color: #000 !important;\n    z-index: 2;\n}\n.ql-container{\n  min-height: 150px !important;\n}\n.ql-editor{\n    min-height:150px !important;\n}\n</style>\n<style scoped>\n\n.close_btn{\n  position: absolute !important;\n  top: 30px !important;\n}\n.current-active-template {\n  background: rgba(0, 0, 0, 0.1);\n}\n.modal-xl {\n  max-width: 1140px;\n  min-height: 1140px;\n}\n.table-box tbody tr:hover td,\n.table-box tbody tr:hover th {\n  background: #ececec;\n}\ntextarea {\n  resize: none;\n}\n/* .table-responsive {\n  height: 80vh;\n  overflow-y: auto;\n  border: 1px solid #e3e2e5;\n} */\n/* .table-responsive thead th {\n  top: 0;\n  position: sticky;\n}\n.table-responsive::-webkit-scrollbar {\n  max-height: 10px;\n  width: 7px;\n  height: 7px;\n  border-radius: 10px;\n  overflow-x: hidden;\n}\n.table-responsive::-webkit-scrollbar-track {\n  background: #ffffff;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb {\n  background: #27397b;\n  border-radius: 10px;\n}\n.table-responsive::-webkit-scrollbar-thumb:hover {\n  background: #19295f;\n  border-radius: 10px;\n} */\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard/Templates"}]}