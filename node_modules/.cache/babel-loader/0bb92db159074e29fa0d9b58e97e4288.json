{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Integrations/Components/WhatsappDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Integrations/Components/WhatsappDetails.vue","mtime":1655807120961},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS92aW1hbGVzaC9DRU5TRS9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNZXNzYWdpbmdGcmFtZXdvcmtzIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmlnX3NwaW5uZXI6IGZhbHNlLAogICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICBmYl9hY2Nlc3NfdG9rZW46ICIiLAogICAgICBmYl91c2VyX2lkOiAiIiwKICAgICAgdXNlcl9hY2Nlc3NfdG9rZW46IG51bGwsCiAgICAgIHdoYXRzYXBwX2J1c2luZXNzX2lkc19kYXRhOiBbXSwKICAgICAgd2hhdHNhcHBfYnVzaW5lc3NfaWRzOiBbXSwKICAgICAgd2FiYV9pZDogbnVsbCAvLyBmYl9tZXNzYWdpbmdfdXJsX3JlZ2V4OiAvWyhtLm1lKVwvP2EtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKFstYS16QS1aMC05QDolX1wrLn4jPyYvLz1dKikvaSwKCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGZiX3BhZ2VfZW5hYmxlZDogZnVuY3Rpb24gZmJfcGFnZV9lbmFibGVkKG5ld1ZhbCkgey8vIGNvbnNvbGUubG9nKG5ld1ZhbCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXNbd2VicyArICJfZGF0YSJdLmlzX3Zpc2libGVfb25fYm90KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CiAgICB2YXIgdGVtcCA9IHsKICAgICAgImFwcF9pZCI6ICI0MTQzMTEwMDc0MDgwMTQiLAogICAgICAidHlwZSI6ICJVU0VSIiwKICAgICAgImFwcGxpY2F0aW9uIjogIkNlbnNlIEFJIiwKICAgICAgImRhdGFfYWNjZXNzX2V4cGlyZXNfYXQiOiAxNjYzMjI0MTIxLAogICAgICAiZXhwaXJlc19hdCI6IDE2NTU0NTI4MDAsCiAgICAgICJpc192YWxpZCI6IHRydWUsCiAgICAgICJzY29wZXMiOiBbInBhZ2VzX3Nob3dfbGlzdCIsICJidXNpbmVzc19tYW5hZ2VtZW50IiwgInBhZ2VzX21lc3NhZ2luZyIsICJwYWdlc19yZWFkX2VuZ2FnZW1lbnQiLCAicGFnZXNfbWFuYWdlX21ldGFkYXRhIiwgIndoYXRzYXBwX2J1c2luZXNzX21lc3NhZ2luZyIsICJwdWJsaWNfcHJvZmlsZSJdLAogICAgICAiZ3JhbnVsYXJfc2NvcGVzIjogW3sKICAgICAgICAic2NvcGUiOiAicGFnZXNfc2hvd19saXN0IgogICAgICB9LCB7CiAgICAgICAgInNjb3BlIjogImJ1c2luZXNzX21hbmFnZW1lbnQiLAogICAgICAgICJ0YXJnZXRfaWRzIjogWyIxMTg1NTc0MzAyMjYyODcyIl0KICAgICAgfSwgewogICAgICAgICJzY29wZSI6ICJwYWdlc19tZXNzYWdpbmciCiAgICAgIH0sIHsKICAgICAgICAic2NvcGUiOiAicGFnZXNfcmVhZF9lbmdhZ2VtZW50IgogICAgICB9LCB7CiAgICAgICAgInNjb3BlIjogInBhZ2VzX21hbmFnZV9tZXRhZGF0YSIKICAgICAgfSwgewogICAgICAgICJzY29wZSI6ICJ3aGF0c2FwcF9idXNpbmVzc19tZXNzYWdpbmciLAogICAgICAgICJ0YXJnZXRfaWRzIjogWyIxMDkxMjM3NDg0ODUwMjciXQogICAgICB9XSwKICAgICAgInVzZXJfaWQiOiAiMTE4NzA5Njc0MTkxMjYwIgogICAgfTsgLy8gdGhpcy5jaGVja0xvZ2luU3RhdGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzOiBmdW5jdGlvbiBnZXRfaW50ZWdyYXRpb25fZGV0YWlscygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X2ludGVncmF0aW9uX2RldGFpbHMoKSwgewogICAgICAgIGlzX2dldDogdHJ1ZSwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgX3RoaXMuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZygiR2V0IGludGVncmF0aW9uIGRldGFpbHMiLCBkYXRhKTsKCiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgIF90aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YSA9IFtdOwoKICAgICAgICAgIGlmIChCb29sZWFuKGRhdGEuZGF0YS5mYWNlYm9va19kZXRhaWxzLmxlbmd0aCkpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhLmRhdGEuZmFjZWJvb2tfZGV0YWlscykgewogICAgICAgICAgICAgIHZhciB0ZW1wID0ge307CiAgICAgICAgICAgICAgdGVtcCA9IHsKICAgICAgICAgICAgICAgIGZiX2FjY2Vzc190b2tlbjogZGF0YS5kYXRhLmZhY2Vib29rX2RldGFpbHNbaV0uZmJfYWNjZXNzX3Rva2VuLAogICAgICAgICAgICAgICAgZmJfcGFnZV9pZDogZGF0YS5kYXRhLmZhY2Vib29rX2RldGFpbHNbaV0uZmJfcGFnZV9pZCwKICAgICAgICAgICAgICAgIGZiX3BhZ2VfbmFtZTogZGF0YS5kYXRhLmZhY2Vib29rX2RldGFpbHNbaV0uZmJfcGFnZV9uYW1lLAogICAgICAgICAgICAgICAgZmJfdmVyaWZ5X3Rva2VuOiBkYXRhLmRhdGEuZmFjZWJvb2tfZGV0YWlsc1tpXS5mYl92ZXJpZnlfdG9rZW4sCiAgICAgICAgICAgICAgICBmYl9wYWdlX2VuYWJsZWQ6IGRhdGEuZGF0YS5mYWNlYm9va19kZXRhaWxzW2ldLmVuYWJsZWQKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBfdGhpcy5mYl9zYXZlZF9wYWdlX2RhdGEucHVzaCh0ZW1wKTsKICAgICAgICAgICAgfSAvLyB0aGlzLmZiX3NhdmVkX3BhZ2VfZGF0YS5pc192aXNpYmxlX29uX2JvdCA9PT0gdHJ1ZSA/IHRoaXMuZmJfc2F2ZWRfcGFnZV9kYXRhLmlzX2ludGVncmF0ZWQgPSB0cnVlIDoKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYl9zYXZlZF9wYWdlX2RhdGEuaXNfaW50ZWdyYXRlZCA9IGZhbHNlOwoKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy51cGRhdGVfZGF0YSgpOwogICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tc2cgPT0gIk5PIERBVEEgQVZBSUxBQkxFIikge30KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpcy5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tMb2dpblN0YXRlOiBmdW5jdGlvbiBjaGVja0xvZ2luU3RhdGUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIEZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLnN0YXR1c0NoYW5nZUNhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgc3RhdHVzQ2hhbmdlQ2FsbGJhY2s6IGZ1bmN0aW9uIHN0YXR1c0NoYW5nZUNhbGxiYWNrKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJXaGF0c2FwcCBMT0dJTjEiLCByZXNwb25zZSk7CgogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAiY29ubmVjdGVkIikgewogICAgICAgIHRoaXMuZmJfYWNjZXNzX3Rva2VuID0gcmVzcG9uc2UuYXV0aFJlc3BvbnNlLmFjY2Vzc1Rva2VuOwogICAgICAgIHRoaXMuZmJfdXNlcl9pZCA9IHJlc3BvbnNlLmF1dGhSZXNwb25zZS51c2VySUQ7CiAgICAgICAgJCgiI2xvZ2luIikuaGlkZSgpOwogICAgICAgICQoIiNsb2dvdXQiKS5zaG93KCk7CiAgICAgICAgdGhpcy5mZXRjaFVzZXJQcm9maWxlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mYWNlYm9va0xvZ2luQnlEaWFsb2coKTsKICAgICAgfQogICAgfSwKICAgIGZhY2Vib29rTG9nb3V0OiBmdW5jdGlvbiBmYWNlYm9va0xvZ291dCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgJCgiI2xvZ291dCIpLmhpZGUoKTsKICAgICAgJCgiI2xvZ2luIikuc2hvdygpOwogICAgICAkKCIjc3RhdHVzIikuZW1wdHkoKTsKICAgICAgRkIubG9nb3V0KGZ1bmN0aW9uIChyZXNwb25zZSkgey8vIHZtLnN0YXR1c0NoYW5nZUNhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZmJfcGFnZV9kYXRhID0gW107CiAgICAgIHRoaXMuZmJfYWNjZXNzX3Rva2VuID0gIiI7CiAgICAgIHRoaXMuZmJfdXNlcl9pZCA9ICIiOwogICAgICB0aGlzLmdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CiAgICAgIHRoaXMud2hhdHNhcHBfYnVzaW5lc3NfaWRzID0gW107CiAgICAgIHRoaXMud2hhdHNhcHBfYnVzaW5lc3NfaWRzX2RhdGEgPSBbXTsKICAgIH0sCiAgICBmYWNlYm9va0xvZ2luQnlEaWFsb2c6IGZ1bmN0aW9uIGZhY2Vib29rTG9naW5CeURpYWxvZygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgRkIubG9naW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0uc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpOwogICAgICB9LCB7CiAgICAgICAgc2NvcGU6ICdwdWJsaWNfcHJvZmlsZSx3aGF0c2FwcF9idXNpbmVzc19tYW5hZ2VtZW50LGJ1c2luZXNzX21hbmFnZW1lbnQsd2hhdHNhcHBfYnVzaW5lc3NfbWVzc2FnaW5nJyAvLyBleHRyYXM6IHsKICAgICAgICAvLyAgIGZlYXR1cmU6ICd3aGF0c2FwcF9lbWJlZGRlZF9zaWdudXAnLAogICAgICAgIC8vIH0KCiAgICAgIH0pOwogICAgfSwKICAgIHN1Ym1pdF9kZXRhaWxzOiBmdW5jdGlvbiBzdWJtaXRfZGV0YWlscygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygid2hhdHNhcHBfYnVzaW5lc3NfaWRzX2RhdGEiLCB0aGlzLndoYXRzYXBwX2J1c2luZXNzX2lkc19kYXRhKTsgLy8gU2F2ZSBBUEkgY2FsbAoKICAgICAgY29uc29sZS5sb2coImNvbWluZyBoZXJlIiwgQm9vbGVhbih0aGlzLndoYXRzYXBwX2J1c2luZXNzX2lkc19kYXRhKSk7CgogICAgICBpZiAoQm9vbGVhbih0aGlzLndoYXRzYXBwX2J1c2luZXNzX2lkc19kYXRhKSkgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIHdhX2lzX3RoaXJkX3BhcnR5OiBmYWxzZSwKICAgICAgICAgIHdoYXRzYXBwX2J1c2luZXNzX2RldGFpbHM6IHRoaXMud2hhdHNhcHBfYnVzaW5lc3NfaWRzX2RhdGFbMF0sCiAgICAgICAgICBpc19tZXNzYWdpbmdfcGxhdGZvcm06IGZhbHNlLAogICAgICAgICAgaXNfd2hhdHNhcHA6IHRydWUsCiAgICAgICAgICBpc19zYXZlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiU0FWRSBXSEFUU0FQUCBERVRBSUxTIiwgcmVzcG9uc2UpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJXaGF0c2FwcCBJbnRlZ3JhdGlvbiBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tc2cgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMyLnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBmZXRjaFVzZXJQcm9maWxlOiBmdW5jdGlvbiBmZXRjaFVzZXJQcm9maWxlKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgYWNjZXNzX3Rva2VuID0gdGhpcy5mYl9hY2Nlc3NfdG9rZW47CiAgICAgIHZhciBmYl93cF9zeXN0ZW1fYWNjZXNzX3Rva2VuID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9GQl9XUF9TWVNURU1fQUNDRVNTX1RPS0VOOwogICAgICB2YXIgdGVtcF93YWJhID0gbnVsbDsKICAgICAgdmFyIHN5c3RlbV91c2VyX2lkID0gbnVsbDsKICAgICAgdmFyIHBhdGgxID0gJy9kZWJ1Z190b2tlbj9pbnB1dF90b2tlbj0nICsgYWNjZXNzX3Rva2VuICsgJyZhY2Nlc3NfdG9rZW49JyArIGZiX3dwX3N5c3RlbV9hY2Nlc3NfdG9rZW47CiAgICAgIEZCLmFwaShwYXRoMSwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygiUGF0aCAxIiwgZGF0YS5kYXRhKTsKICAgICAgICB0ZW1wX3dhYmEgPSBkYXRhLmRhdGE7CgogICAgICAgIGZvciAodmFyIGkgaW4gdGVtcF93YWJhLmdyYW51bGFyX3Njb3BlcykgewogICAgICAgICAgaWYgKHRlbXBfd2FiYS5ncmFudWxhcl9zY29wZXNbaV0uc2NvcGUgPT0gIndoYXRzYXBwX2J1c2luZXNzX21hbmFnZW1lbnQiKSB7CiAgICAgICAgICAgIHZtLndoYXRzYXBwX2J1c2luZXNzX2lkcyA9IHRlbXBfd2FiYS5ncmFudWxhcl9zY29wZXNbaV0udGFyZ2V0X2lkczsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcGF0aDMgPSAnLzQyNzM5NjIxMTYwMzY3OS9zeXN0ZW1fdXNlcnM/YWNjZXNzX3Rva2VuPScgKyBmYl93cF9zeXN0ZW1fYWNjZXNzX3Rva2VuOwogICAgICAgIEZCLmFwaShwYXRoMywgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJQYXRoIDMiLCBkYXRhLmRhdGEpOwogICAgICAgICAgc3lzdGVtX3VzZXJfaWQgPSBkYXRhLmRhdGFbMF0uaWQ7CiAgICAgICAgICBjb25zb2xlLmxvZygic3lzdGVtX3VzZXJfaWQiLCBkYXRhLmRhdGEpOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gdm0ud2hhdHNhcHBfYnVzaW5lc3NfaWRzKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZWFjaGUgaGVyZSIpOwogICAgICAgICAgICB2YXIgcGF0aDQgPSAnLycgKyB2bS53aGF0c2FwcF9idXNpbmVzc19pZHNbaV0gKyAnL2Fzc2lnbmVkX3VzZXJzP3VzZXI9JyArIHN5c3RlbV91c2VyX2lkICsgJyZ0YXNrcz1bTUFOQUdFXSZhY2Nlc3NfdG9rZW49JyArIGZiX3dwX3N5c3RlbV9hY2Nlc3NfdG9rZW47CiAgICAgICAgICAgIEZCLmFwaShwYXRoNCwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUGF0aCA0IiwgZGF0YSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBmb3IgKHZhciBpIGluIHZtLndoYXRzYXBwX2J1c2luZXNzX2lkcykgewogICAgICAgICAgY29uc29sZS5sb2coIkxPT1AgaW4gd2FiYSBpZHMiLCB2bS53aGF0c2FwcF9idXNpbmVzc19pZHNbaV0pOwogICAgICAgICAgdmFyIHdhYmFfaWQgPSB2bS53aGF0c2FwcF9idXNpbmVzc19pZHNbaV07CiAgICAgICAgICB2YXIgcGF0aDIgPSAnLycgKyB3YWJhX2lkICsgJy9waG9uZV9udW1iZXJzP2FjY2Vzc190b2tlbj0nICsgYWNjZXNzX3Rva2VuOwogICAgICAgICAgRkIuYXBpKHBhdGgyLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiUGF0aCAyIiwgZGF0YSk7CiAgICAgICAgICAgIHZtLndoYXRzYXBwX2J1c2luZXNzX2lkc19kYXRhLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCB3YWJhX2lkLCBkYXRhLmRhdGFbMF0pKTsKICAgICAgICAgICAgdm0uc3VibWl0X2RldGFpbHMoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgMjAwMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["WhatsappDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"modal-body\">\n        <div class=\"modal-head d-flex align-items-center\">\n        <h3>{{tlt('whatsapp_setting')}}</h3>\n        </div>\n        <button\n        type=\"button\"\n        class=\"close\"\n        data-dismiss=\"modal\"\n        aria-label=\"Close\"\n        >\n        <img src=\"/img/close-icn.png\" alt />\n        </button>\n        <div>\n        <div>\n            <h4>{{tlt('connect_facebook_msg')}}</h4>\n            <div class=\"d-flex\">\n            <div id=\"login\" class=\"fb-button\" @click=\"checkLoginState()\">\n            <div class=\"icon\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 118 222\">\n                <path id=\"f\" d=\"M75.41,220.31V120.5h33.5l5-38.9H75.41V56.78c0-11.26,3.13-18.93,19.27-18.93h20.6V3a275.33,275.33,0,0,0-30-1.53c-29.7,0-50,18.13-50,51.41V81.61H1.66v38.9H35.24v99.8Z\" style=\"fill: #fff\"></path>\n                </svg>\n            </div> \n            <span>{{tlt('connect_whatsapp')}}</span>\n            </div>\n            <div style=\"display:none;\" @click=\"facebookLogout()\" id=\"logout\" class=\"logout-button\"><span>{{tlt('logout_btn')}}</span></div>\n            </div>\n        \n        </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls\";\n\nexport default {\n  name: \"MessagingFrameworks\",\n  components: {\n  },\n  data() {\n    return {\n      big_spinner: false,\n      company_name: this.$session.get(\"UserInformation\").company_name,\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      fb_access_token: \"\",\n      fb_user_id: \"\",\n      user_access_token: null,\n      whatsapp_business_ids_data: [],\n      whatsapp_business_ids: [],\n      waba_id: null\n      // fb_messaging_url_regex: /[(m.me)\\/?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/i,\n    };\n  },\n  watch: {\n    fb_page_enabled(newVal) {\n      // console.log(newVal);\n      // console.log(this[webs + \"_data\"].is_visible_on_bot);\n    },\n  },\n  mounted() {   \n    this.get_integration_details();\n    var temp = {\n        \"app_id\": \"414311007408014\",\n        \"type\": \"USER\",\n        \"application\": \"Cense AI\",\n        \"data_access_expires_at\": 1663224121,\n        \"expires_at\": 1655452800,\n        \"is_valid\": true,\n        \"scopes\": [\n            \"pages_show_list\",\n            \"business_management\",\n            \"pages_messaging\",\n            \"pages_read_engagement\",\n            \"pages_manage_metadata\",\n            \"whatsapp_business_messaging\",\n            \"public_profile\"\n        ],\n        \"granular_scopes\": [\n            {\n                \"scope\": \"pages_show_list\"\n            },\n            {\n                \"scope\": \"business_management\",\n                \"target_ids\": [\n                    \"1185574302262872\"\n                ]\n            },\n            {\n                \"scope\": \"pages_messaging\"\n            },\n            {\n                \"scope\": \"pages_read_engagement\"\n            },\n            {\n                \"scope\": \"pages_manage_metadata\"\n            },\n            {\n                \"scope\": \"whatsapp_business_messaging\",\n                \"target_ids\": [\n                    \"109123748485027\"\n                ]\n            }\n        ],\n        \"user_id\": \"118709674191260\"\n      }\n    // this.checkLoginState();\n  },\n  methods: {\n    get_integration_details() {\n      this.big_spinner = true;\n      axios\n        .post(\n          api_calls.chatbot_integration_details(),\n          {\n            is_get: true,\n            company_name: this.company_name,\n            company_id: this.company_id,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          this.big_spinner = false;\n          console.log(\"Get integration details\", data);\n          if (data.status === \"success\") {\n            this.fb_saved_page_data = [];\n            if (\n              Boolean(data.data.facebook_details.length)\n            ) {\n              for (var i in data.data.facebook_details) {\n                var temp = {};\n                temp = {\n                  fb_access_token: data.data.facebook_details[i].fb_access_token,\n                  fb_page_id:  data.data.facebook_details[i].fb_page_id,\n                  fb_page_name:  data.data.facebook_details[i].fb_page_name,\n                  fb_verify_token:  data.data.facebook_details[i].fb_verify_token,\n                  fb_page_enabled:  data.data.facebook_details[i].enabled,\n                }\n                this.fb_saved_page_data.push(temp);\n              }\n              // this.fb_saved_page_data.is_visible_on_bot === true ? this.fb_saved_page_data.is_integrated = true :\n              //                                                 this.fb_saved_page_data.is_integrated = false;\n            }\n            this.update_data();\n          }else if(data.msg == \"NO DATA AVAILABLE\") {   }\n        })\n        .catch((e) => {\n          this.big_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    checkLoginState() {\n      var vm = this;\n      FB.getLoginStatus(function(response) {\n        vm.statusChangeCallback(response);\n      });\n    },\n    statusChangeCallback(response) {\n      console.log(\"Whatsapp LOGIN1\", response);\n      if(response.status === \"connected\")\n      {\n        this.fb_access_token = response.authResponse.accessToken;\n        this.fb_user_id = response.authResponse.userID;\n        $(\"#login\").hide();\n        $(\"#logout\").show(); \n        this.fetchUserProfile();\n      }\n      else{\n          this.facebookLoginByDialog();\n      }\n    },\n    facebookLogout() {\n      var vm = this;\n      $(\"#logout\").hide();\n      $(\"#login\").show();\n      $(\"#status\").empty();\n      FB.logout(function(response) {\n        // vm.statusChangeCallback(response);\n      });\n      this.fb_page_data = [];\n      this.fb_access_token = \"\";\n      this.fb_user_id = \"\";\n      this.get_integration_details();\n      this.whatsapp_business_ids = [];\n      this.whatsapp_business_ids_data = [];\n    },\n    facebookLoginByDialog() {\n      var vm = this;\n      FB.login(function(response) {        \n          vm.statusChangeCallback(response);\n      }, {scope: 'public_profile,whatsapp_business_management,business_management,whatsapp_business_messaging',\n          // extras: {\n          //   feature: 'whatsapp_embedded_signup',\n          // }\n      });\n    },\n    submit_details(){\n      console.log(\"whatsapp_business_ids_data\", this.whatsapp_business_ids_data);\n      // Save API call\n      console.log(\"coming here\", Boolean(this.whatsapp_business_ids_data));  \n      if(Boolean(this.whatsapp_business_ids_data)) {\n          axios\n          .post(\n            api_calls.chatbot_integration_details(),\n            {\n              company_name: this.$session.get(\"UserInformation\").company_name,\n              company_id: this.$session.get(\"UserInformation\").company_id,\n              wa_is_third_party: false,\n              whatsapp_business_details: this.whatsapp_business_ids_data[0],\n              is_messaging_platform: false,\n              is_whatsapp: true,\n              is_save: true,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            console.log(\"SAVE WHATSAPP DETAILS\",response);\n            if (response.data.status === \"Success\") {\n              Swal.fire({\n                title: \"Whatsapp Integration Successfully\",\n                type: \"success\",\n                timer: 2500,\n              });\n            } else if (response.data.msg == \"Internal Server Error\") {\n              Swal.fire({\n                title: \"Internal Server Error\",\n                type: \"error\",\n                timer: 2500,\n              });\n            }else {\n              Swal.fire({\n                title: \"Some Error Occurred, Please Try Again!\",\n                type: \"error\",\n              });\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n        }\n    },\n    fetchUserProfile() {\n      var vm = this;\n      var access_token = this.fb_access_token;\n      var fb_wp_system_access_token = process.env.VUE_APP_FB_WP_SYSTEM_ACCESS_TOKEN;\n      var temp_waba = null;\n      var system_user_id = null;\n\n      var path1 = '/debug_token?input_token=' + access_token + '&access_token=' + fb_wp_system_access_token;\n      FB.api(path1, function(data) {\n        console.log(\"Path 1\", data.data);\n        temp_waba = data.data;\n        for (var i in temp_waba.granular_scopes){\n          if (temp_waba.granular_scopes[i].scope == \"whatsapp_business_management\") {\n            vm.whatsapp_business_ids = temp_waba.granular_scopes[i].target_ids\n          }\n        }\n      })\n\n      setTimeout(() => {\n        var path3 = '/427396211603679/system_users?access_token=' + fb_wp_system_access_token;\n        FB.api(path3, function(data) {\n          console.log(\"Path 3\", data.data);\n          system_user_id = data.data[0].id;\n          console.log(\"system_user_id\", data.data);\n          \n          for(var i in vm.whatsapp_business_ids) {\n            console.log(\"reache here\");\n            var path4 = '/'+ vm.whatsapp_business_ids[i] + '/assigned_users?user=' + system_user_id + '&tasks=[MANAGE]&access_token=' + fb_wp_system_access_token;\n            FB.api(path4, function(data) {\n              console.log(\"Path 4\", data);\n            })\n          }\n        })\n        for(var i in vm.whatsapp_business_ids) {\n          console.log(\"LOOP in waba ids\", vm.whatsapp_business_ids[i]);\n          var waba_id = vm.whatsapp_business_ids[i];\n          var path2 = '/' + waba_id + '/phone_numbers?access_token=' + access_token;\n          FB.api(path2, function(data) {\n            console.log(\"Path 2\", data)\n            vm.whatsapp_business_ids_data.push({\n              [waba_id]: data.data[0]\n            })\n            vm.submit_details();\n          }); \n        }\n      }, 2000);   \n    },\n  },\n};\n</script>\n<style scoped>\n.delete-cart-item {\n  cursor: pointer;\n}\n.delete-cart-item svg :hover {\n  color: #f23d3d !important;\n  fill: #f23d3d !important;\n}\n.fb-connect-btn {\n  background: #006cff;\n  border: 1px solid #006cff;\n  color: #fff;\n  cursor: pointer;\n  transition: all .3s;\n}\n.fb-connect-btn:active {\n  opacity: .5!important;\n}\n.fb-connect-btn:hover {\n  opacity: .8!important;\n}\n.fb-button {\n  width: 45%;\n  display: flex;\n  background: #25D366;\n  color: #fff;\n  padding: 10px 20px;\n  border-radius: 10px;\n  -webkit-transition: opacity .3s;\n  transition: opacity .3s;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-backface-visibility: hidden;\n  cursor: pointer;\n  -webkit-transition: all .3s;\n  transition: all .3s;\n}\n.fb-button:active {\n  opacity: .5!important;\n}\n.fb-button:hover {\n  opacity: .8!important;\n}\n.fb-button .icon {\n  margin-right: 10px;\n  width: 15px;\n  height: 25px;\n}\n.fb-button .icon svg {\n  max-width: 100%;\n  max-height: 100%;\n  -o-object-fit: contain;\n  object-fit: contain;\n}\n.logout-button {\n  margin-left: auto;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 10px 20px;\n  border-radius: 20px;\n  background: #f0f4f7;\n  color: #9ba6b3;\n  width: 96px;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-backface-visibility: hidden;\n  cursor: pointer;\n  -webkit-transition: all .3s;\n  transition: all .3s;\n}\n.logout-button:active {\n  opacity: .5!important;\n}\n.logout-button:hover {\n  opacity: .8!important;\n}\n.messenger-pages {\n  width: 100%;\n  background: #f7f7f8;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  /* -webkit-box-align: center; */\n  -ms-flex-align: center;\n  align-items: center;\n  padding: 10px 15px;\n  border-radius: 4px;\n  margin-bottom: 10px;\n}\n.third-party-logo {\n  width: 150px;\n  height: 75px;\n  object-fit: contain;\n}\n.msg__span {\n  padding-left: 1rem;\n}\n.card-act .red-btn {\n  font-size: 14px;\n  color: #fff;\n  background: #f23d3d;\n  border: solid 1px #f23d3d;\n  padding: 5px 20px;\n  font-weight: 400;\n  line-height: 20px;\n  display: inline-block;\n  border-radius: 4px;\n  cursor: pointer;\n  text-align: center;\n}\n.switch {\n  margin-left: 1rem;\n}\n.col-sm-3{\n  max-width: 24%;\n}\n.row {\n    display: flex;\n    flex-wrap: wrap;\n    margin-right: -2px;\n    margin-left: 15px;\n}\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard/Integrations/Components"}]}