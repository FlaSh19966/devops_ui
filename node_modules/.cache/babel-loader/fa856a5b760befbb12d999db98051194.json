{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/PortalUserChatHistory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/PortalUserChatHistory.vue","mtime":1655807120957},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9ob21lL3ZpbWFsZXNoL0NFTlNFL2NoYXRib3QtcG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgQ29udGVudExvYWRlciB9IGZyb20gInZ1ZS1jb250ZW50LWxvYWRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBDb250ZW50TG9hZGVyOiBDb250ZW50TG9hZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbnVtYmVyX29mX3Jvd3M6ICIiLAogICAgICB0b3RhbF9wYWdlczogMCwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDE1LAogICAgICB1c2VyX2xpc3Q6IFtdLAogICAgICB1c2VyX3JlcGx5OiBbXSwKICAgICAgYm90X3JlcGx5OiBbXSwKICAgICAgY2hhdERldGFpbHM6IFtdLAogICAgICBhY3Rpb25fc3RhdHM6IFtdLAogICAgICB1c2VyX2FjdGlvbl9zdGF0czogW10sCiAgICAgIGN1cnJlbnRfdXNlcjogIiIsCiAgICAgIHRpbWVzdGFtcDogIiIsCiAgICAgIHNlbmRlcl9pZDogW10sCiAgICAgIHNlbGVjdGVkOiAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiLAogICAgICBzZWxlY3RlZF9kYXRlOiAiIiwKICAgICAgc2VsZWN0ZWRfaW5kZXg6IG51bGwsCiAgICAgIGNoYXRfZGF0ZXM6IFtdLAogICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgaXNzZWFyY2g6IGZhbHNlLAogICAgICBzZWFyY2hzdHJpbmc6ICIiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB2aWV3X2NvbXBvbmVudF9uYW1lOiAicG9ydGFsX3VzZXIiLAogICAgICAvLyBmaW5nZXJwcmludHJlZ2V4Oi9eWzAtOV17MTB9JC8sCiAgICAgIGZpbmdlcnByaW50cmVnZXg6IC9eWzAtOS0rXC9cc117OSx9JC8sCiAgICAgIHBhZ2VfYXJyYXk6IFtdLAogICAgICBzaG93X2xvYWRlcjogZmFsc2UsCiAgICAgIGlzX3BvcnRhbF91c2VyOiB0cnVlLAogICAgICBjb250YWN0X2hlbHBfZW1haWw6IG51bGwsCiAgICAgIHJldGFpbF93ZWJfZnJhbWV3b3JrOiB0aGlzLiRzZXNzaW9uLmdldCgicmV0YWlsX3dlYl9mcmFtZXdvcmsiKSwKICAgICAgZmlsdGVyX2NoYXRfaGlzdG9yeTogdGhpcy4kc2Vzc2lvbi5nZXQoImZpbHRlcl9jaGF0X2hpc3RvcnkiKQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMucmV0YWlsX3dlYl9mcmFtZXdvcmsgPSB0aGlzLiRzZXNzaW9uLmdldCgicmV0YWlsX3dlYl9mcmFtZXdvcmsiKTsKICAgICQoIiNzZWxlY3RhbGwiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgkKHRoaXMpLmlzKCI6Y2hlY2tlZCIpKSB7CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuJHJvb3QuJG9uKCJzZWFyY2hfcG9ydGFsX3VzZXJfY2hhdF9oaXN0b3J5IiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMuc2VhcmNoc3RyaW5nID0gZGF0YTsKCiAgICAgIF90aGlzLnNlYXJjaF9jaGF0KCk7IC8vIHRoaXMuc2VhcmNoX3F1ZXN0aW9uKCk7CgogICAgfSk7CiAgICB0aGlzLiRyb290LiRvbigibG9hZF9wb3J0YWxfdXNlcl9jaGF0X2hpc3RvcnkiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBfdGhpcy5sb2FkX3BvcnRhbF91c2VyX2NoYXRfaGlzdG9yeSgpOwogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kcm9vdC4kb2ZmKCJzZWFyY2hfcG9ydGFsX3VzZXJfY2hhdF9oaXN0b3J5Iik7CiAgICB0aGlzLiRyb290LiRvZmYoImxvYWRfcG9ydGFsX3VzZXJfY2hhdF9oaXN0b3J5Iik7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkX3Byb2R1Y3Rfc2V0dGluZ3MoKTsKICAgIHRoaXMubG9hZF9wb3J0YWxfdXNlcl9jaGF0X2hpc3RvcnkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdF9kYXRlX2luX2xvY2FsX3RpbWV6b25lOiBmdW5jdGlvbiBmb3JtYXRfZGF0ZV9pbl9sb2NhbF90aW1lem9uZShkYXRlKSB7CiAgICAgIHZhciB0ZXN0RGF0ZVV0YyA9IG1vbWVudC51dGMoZGF0ZSk7CiAgICAgIHZhciBsb2NhbERhdGUgPSBtb21lbnQodGVzdERhdGVVdGMpLmxvY2FsKCkudG9EYXRlKCk7IC8vIG5vdGU6IGRvIG5vdCBmb3JtYXQgdGltZSBiZWxvdyB0byBzaG93IGhvdXIgYW5kIG1pbnV0ZSBiZWNhdXNlICJWaWV3IENoYXQgSGlzdG9yeSIgc2hvdyBhbGwgbWVzc2FnZSBvZiB0aGF0IGRhdGUgbm90IHNwZWNpZmljIGhvdXItbWludXRlIHRpbWUuCgogICAgICBsb2NhbERhdGUgPSBtb21lbnQobG9jYWxEYXRlKS5mb3JtYXQoImRkZCBNTU0gRCBZWVlZIik7CiAgICAgIHJldHVybiBsb2NhbERhdGUudG9TdHJpbmcoKTsKICAgIH0sCiAgICBtZXNzYWdpbmdfcGxhdGZvcm1fZm9ybWF0aW5nOiBmdW5jdGlvbiBtZXNzYWdpbmdfcGxhdGZvcm1fZm9ybWF0aW5nKG1lc3NhZ2UpIHsKICAgICAgcmV0dXJuICJQbGVhc2UgZmVlbCBmcmVlIHRvIHJlYWNob3V0IHRvIHVzIGF0IDoiICsgbWVzc2FnZTsKICAgIH0sCiAgICBtZXNzYWdpbmdfcGxhdGZvcm1fZm9ybWF0aW5nX251bWJlcjogZnVuY3Rpb24gbWVzc2FnaW5nX3BsYXRmb3JtX2Zvcm1hdGluZ19udW1iZXIobWVzc2FnZSkgewogICAgICBpZiAobWVzc2FnZSAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuICIgb3IgY2FsbCB1cyBhdCA6IiArIG1lc3NhZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9LAogICAgY29uZnVzaW9uX21lc3NhZ2VfZm9ybWF0aW5nOiBmdW5jdGlvbiBjb25mdXNpb25fbWVzc2FnZV9mb3JtYXRpbmcobWVzc2FnZSkgewogICAgICByZXR1cm4gbWVzc2FnZS5zcGxpdCgne2VtYWlsfScpLmpvaW4odGhpcy5jb250YWN0X2hlbHBfZW1haWwpOwogICAgfSwKICAgIGxvYWRfcHJvZHVjdF9zZXR0aW5nczogZnVuY3Rpb24gbG9hZF9wcm9kdWN0X3NldHRpbmdzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd19sb2FkZXIgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGlzX2dldDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHdlYmZyYW1ld29yayA9IF90aGlzMi5yZXRhaWxfd2ViX2ZyYW1ld29yazsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gIiIgJiYgcmVzcG9uc2UuZGF0YSAhPSBudWxsICYmIHJlc3BvbnNlLmRhdGEgIT0gIkludGVybmFsIHNlcnZlciBFcnJvciIgJiYgcmVzcG9uc2UuZGF0YS5tc2cgIT09ICJOTyBEQVRBIEFWQUlMQUJMRSIpIHsKICAgICAgICAgIF90aGlzMi5jb250YWN0X2hlbHBfZW1haWwgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLmNvbnRhY3RfaGVscF9lbWFpbDsKICAgICAgICB9IC8vIGVsc2UgewogICAgICAgIC8vICAgdG9hc3RyLmVycm9yKCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICAvLyB9CgogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi5zaG93X2xvYWRlciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrX2ltYWdlX3R5cGU6IGZ1bmN0aW9uIGNoZWNrX2ltYWdlX3R5cGUoaW1hZ2UpIHsKICAgICAgaWYgKHR5cGVvZiBpbWFnZSA9PSAnc3RyaW5nJykgewogICAgICAgIHJldHVybiBpbWFnZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoaW1hZ2UgIT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIGltYWdlLnNyYzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxvYWRfcG9ydGFsX3VzZXJfY2hhdF9oaXN0b3J5OiBmdW5jdGlvbiBsb2FkX3BvcnRhbF91c2VyX2NoYXRfaGlzdG9yeSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnBhZ2Vfbm8gPSAxOwogICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICB0aGlzLnNlYXJjaHN0cmluZyA9ICIiOwogICAgICB0aGlzLmFjdGlvbl9zdGF0cyA9IFtdOwogICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzID0gW107CiAgICAgIHRoaXMuc2hvd19sb2FkZXIgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5hY3Rpb25fc3RhdHNfdXJsKCksIHsKICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucwogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmFjdGlvbl9zdGF0cyA9IHJlc3BvbnNlLmRhdGEuYWN0aW9uX3N0YXRzOyAvLyBjb25zb2xlLmxvZyh0aGlzLmFjdGlvbl9zdGF0cyk7CgogICAgICAgIF90aGlzMy5hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICBIaXRzOiAxLAogICAgICAgICAgTmFtZTogImdlbmVyYWxfY2hhdF9oaXN0b3J5IgogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMy5zaG93X2xvYWRlciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnNob3dfbG9hZGVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwgewogICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGlzc2hvdzogdHJ1ZSwKICAgICAgICBpc19wb3J0YWxfdXNlcjogdHJ1ZSwKICAgICAgICBhY3Rpb246ICJnZW5lcmFsX2NoYXRfaGlzdG9yeSIsCiAgICAgICAgZmlsdGVyX2NoYXRfaGlzdG9yeTogdGhpcy4kc2Vzc2lvbi5nZXQoImZpbHRlcl9jaGF0X2hpc3RvcnkiKSwKICAgICAgICBwYWdlbm86IHRoaXMucGFnZV9ubywKICAgICAgICBwZXJwYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgIGlzc2VhcmNoOiB0aGlzLmlzc2VhcmNoCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuc2hvd19sb2FkZXIgPSBmYWxzZTsKICAgICAgICBfdGhpczMudXNlcl9hY3Rpb25fc3RhdHMgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygKICAgICAgICAgIC8vICAgdGhpcy5maW5nZXJwcmludHJlZ2V4LnRlc3QocmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlcikKICAgICAgICAgIC8vICk7CiAgICAgICAgICBpZiAoX3RoaXMzLmZpbmdlcnByaW50cmVnZXgudGVzdChyZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyKSkgewogICAgICAgICAgICBfdGhpczMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICAgICAgdXNlcmVtYWlsOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLkVtYWlsLAogICAgICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgICAgICAgICB1c2VyaWQ6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5EYXRlCiAgICAgICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyh0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLCByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldKTsKCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICAgICAgdXNlcmVtYWlsOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgICAgICAgICB1c2VyaWQ6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5EYXRlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSAvLyB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgLy8gICAgIHVzZXJlbWFpbCA6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAvLyAgICAgdXNlcnBob25lbnVtYmVyIDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgIC8vICAgICB1c2VybmFtZSA6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgICAgICAvLyB9KTsKCiAgICAgICAgfQoKICAgICAgICBfdGhpczMudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhLlBhZ2VDb3VudDsKCiAgICAgICAgX3RoaXMzLnNldHBhZ2luYXRpb24oX3RoaXMzLnBhZ2Vfbm8pOyAvLyBjb25zb2xlLmxvZyh0aGlzLnVzZXJfYWN0aW9uX3N0YXRzKTsKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuc2hvd19sb2FkZXIgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcGFnZV9yZXF1aXJlOiBmdW5jdGlvbiBwYWdlX3JlcXVpcmUocGFnZV9ubykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkICE9ICJnZW5lcmFsX2NoYXRfaGlzdG9yeSIpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRvdGFsX3BhZ2VzLCBwYWdlX25vKTsKICAgICAgICBpZiAocGFnZV9ubyA9PSAwIHx8IHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcyArIDEpIHt9IGVsc2UgewogICAgICAgICAgLy8gdGhpcy5wYWdlX25vID0gcGFnZV9ubzsKICAgICAgICAgIGlmIChwYWdlID09ICIuLi5zIikgewogICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKDEgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAgICAgICB9IGVsc2UgaWYgKHBhZ2UgPT0gIi4uLmwiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IHBhZ2U7CiAgICAgICAgICB9CgogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYWN0aW9uX3VzYWdlX3N0YXRzX3VybCgpLCB7CiAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgLy8gYWN0aW9uOiB0aGlzLmFjdGlvbl9zdGF0c1tpbmRleF0uTmFtZSwKICAgICAgICAgICAgYWN0aW9uOiB0aGlzLnNlbGVjdGVkLAogICAgICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgey8vIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICAgIC8vIHRoaXMudXNlcl9saXN0ID0gW107CiAgICAgICAgICAgIC8vIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgICAgICAgICAvLyAgIHRoaXMuaW50ZW50bGlzdC5wdXNoKHsKICAgICAgICAgICAgLy8gICAgIGludGVudDogcmVzcG9uc2UuZGF0YVswXVtpXSwKICAgICAgICAgICAgLy8gICAgIGVtYWlsOiByZXNwb25zZS5kYXRhWzFdW2ldLAogICAgICAgICAgICAvLyAgICAgY3JlYXRlZDogcmVzcG9uc2UuZGF0YVsyXVtpXQogICAgICAgICAgICAvLyAgIH0pOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICBfdGhpczQuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAocGFnZV9ubyA9PSAwIHx8IHBhZ2Vfbm8gPT0gdGhpcy50b3RhbF9wYWdlcyArIDEpIHt9IGVsc2UgewogICAgICAgICAgaWYgKHBhZ2Vfbm8gPT0gIi4uLnMiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgoMSArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgICAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSAiLi4ubCIpIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCh0aGlzLnRvdGFsX3BhZ2VzICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5wYWdlX25vID0gcGFnZV9ubzsKICAgICAgICAgIH0gLy8gdGhpcy5wYWdlX25vID0gcGFnZV9ubzsKCgogICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwgX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBpc3Nob3c6IHRydWUsCiAgICAgICAgICAgIGlzX3BvcnRhbF91c2VyOiB0cnVlLAogICAgICAgICAgICBhY3Rpb246IHRoaXMuc2VsZWN0ZWQsCiAgICAgICAgICAgIGZpbHRlcl9jaGF0X2hpc3Rvcnk6IHRoaXMuJHNlc3Npb24uZ2V0KCJmaWx0ZXJfY2hhdF9oaXN0b3J5IiksCiAgICAgICAgICAgIHBhZ2VubzogdGhpcy5wYWdlX25vLAogICAgICAgICAgICBwZXJwYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgICBpc3NlYXJjaDogdGhpcy5pc3NlYXJjaAogICAgICAgICAgfSwgImlzX3BvcnRhbF91c2VyIiwgdHJ1ZSksIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzNC5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXM0LnVzZXJfYWN0aW9uX3N0YXRzID0gW107CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnkubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoX3RoaXM0LmZpbmdlcnByaW50cmVnZXgudGVzdChyZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyKSkgewogICAgICAgICAgICAgICAgX3RoaXM0LnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uRW1haWwsCiAgICAgICAgICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgICAgICAgICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5EYXRlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM0LnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAgICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgICAgICAgICAgICAgICAgZGF0ZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5EYXRlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IC8vIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgICAgICAgICAgLy8gICAgIHVzZXJlbWFpbCA6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgICAgICAgICAgLy8gICAgIHVzZXJwaG9uZW51bWJlciA6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uUGhvbmVOdW1iZXIsCiAgICAgICAgICAgICAgLy8gICAgIHVzZXJuYW1lIDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNC50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEuUGFnZUNvdW50OwoKICAgICAgICAgICAgX3RoaXM0LnNldHBhZ2luYXRpb24oX3RoaXM0LnBhZ2Vfbm8pOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgX3RoaXM0LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0aW9uX2NsYXNzOiBmdW5jdGlvbiBwYWdpbmF0aW9uX2NsYXNzKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCA9PSB0aGlzLnBhZ2Vfbm8pIHsKICAgICAgICByZXR1cm4gIiBhY3RpdmUiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfSwKICAgIHNldHBhZ2luYXRpb246IGZ1bmN0aW9uIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKCiAgICAgIGlmICh0aGlzLnRvdGFsX3BhZ2VzIDw9IDcpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudG90YWxfcGFnZXM7IGkrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goaSArIDEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09IDEpIHsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgNDsgX2krKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2kgKyAxKTsKICAgICAgICB9CgogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzKSB7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKCiAgICAgICAgZm9yICh2YXIgX2kyID0gdGhpcy50b3RhbF9wYWdlcyAtIDQ7IF9pMiA8IHRoaXMudG90YWxfcGFnZXM7IF9pMisrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChfaTIgKyAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA8PSA0KSB7CiAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgcGFnZV9ubyArIDM7IF9pMysrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChfaTMgKyAxKTsKICAgICAgICB9CgogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAgIH0gZWxzZSBpZiAocGFnZV9ubyA+PSB0aGlzLnRvdGFsX3BhZ2VzIC0gNCkgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CgogICAgICAgIGZvciAodmFyIF9pNCA9IHBhZ2Vfbm8gLSA0OyBfaTQgPCB0aGlzLnRvdGFsX3BhZ2VzOyBfaTQrKykgewogICAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goX2k0ICsgMSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CgogICAgICAgIGZvciAodmFyIF9pNSA9IHBhZ2Vfbm8gLSAzOyBfaTUgPD0gcGFnZV9ubyArIDM7IF9pNSsrKSB7CiAgICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChfaTUpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLmwiKTsKICAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCh0aGlzLnRvdGFsX3BhZ2VzKTsKICAgICAgfQogICAgfSwKICAgIC8vIHZpZXdfYWN0aW9uKCkgewogICAgLy8gICB2YXIgYWN0aW9uX25hbWUgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAvLyAgIHRoaXMuc2VsZWN0ZWQgPSBhY3Rpb25fbmFtZTsKICAgIC8vICAgdGhpcy5zZWFyY2hzdHJpbmcgPSAiIjsKICAgIC8vICAgaWYgKGFjdGlvbl9uYW1lICE9ICJnZW5lcmFsX2NoYXRfaGlzdG9yeSIpIHsKICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICBhcGlfY2FsbHMuYWN0aW9uX3VzYWdlX3N0YXRzX3VybCgpLAogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAvLyAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25fbmFtZSwKICAgIC8vICAgICAgICAgICBwYWdlX25vOiAxLAogICAgLy8gICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgKQogICAgLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhLm51bWJlcl9vZl9yb3dzOwogICAgLy8gICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKHRoaXMubnVtYmVyX29mX3Jvd3MgLyB0aGlzLnBlcl9wYWdlKTsKICAgIC8vICAgICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cyA9IFtdOwogICAgLy8gICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGEudXNlcnMpIHsKICAgIC8vICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2Vyc1tpXS5hY3Rpb25faGl0cyAhPSAwKSB7CiAgICAvLyAgICAgICAgICAgICBsZXQgYWN0aW9uX2hpc3RvcnkgPSBbXTsKICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIGogaW4gcmVzcG9uc2UuZGF0YS51c2Vyc1tpXS5hY3Rpb25faGl0cykgewogICAgLy8gICAgICAgICAgICAgICBhY3Rpb25faGlzdG9yeS5wdXNoKHJlc3BvbnNlLmRhdGEudXNlcnNbaV0uYWN0aW9uX2hpdHNbal0pOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cy5wdXNoKHsKICAgIC8vICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEudXNlcnNbaV0udXNlcm5hbWUsCiAgICAvLyAgICAgICAgICAgICAgIGFjdGlvbl9saXN0OiBhY3Rpb25faGlzdG9yeSwKICAgIC8vICAgICAgICAgICAgICAgc2VuZGVyX2lkOiByZXNwb25zZS5kYXRhLnVzZXJzW2ldLnNlbmRlcl9pZCwKICAgIC8vICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgIGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLAogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAvLyAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAvLyAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgICAgaXNzaG93OiB0cnVlLAogICAgLy8gICAgICAgICAgIGFjdGlvbjogYWN0aW9uX25hbWUsCiAgICAvLyAgICAgICAgICAgcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAvLyAgICAgICAgICAgcGVycGFnZTogdGhpcy5wZXJfcGFnZSwKICAgIC8vICAgICAgICAgICBpc3NlYXJjaDogdGhpcy5pc3NlYXJjaCwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICkKICAgIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzID0gW107CiAgICAvLyAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeS5sZW5ndGg7IGkrKykgewogICAgLy8gICAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAvLyAgICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAvLyAgICAgICAgICAgICB1c2VycGhvbmVudW1iZXI6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uUGhvbmVOdW1iZXIsCiAgICAvLyAgICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICkgewogICAgLy8gICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgc2Nyb2xsX2RpdjogZnVuY3Rpb24gc2Nyb2xsX2RpdigpIHsKICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5idXktcHJvZHVjdHMiKTsKCiAgICAgIGlmIChldmVudC5kZWx0YVggPiBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCArPSAxMDsKICAgICAgfSBlbHNlIGlmIChldmVudC5kZWx0YVggPCBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCAtPSAxMDsKICAgICAgfQogICAgfSwKICAgIHNjcm9sbF9jYXJkX2RpdjogZnVuY3Rpb24gc2Nyb2xsX2NhcmRfZGl2KCkgewogICAgICB2YXIgZG9jID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm1haW4tY2FyZC1jb250YWluZXIiKTsKCiAgICAgIGlmIChldmVudC5kZWx0YVggPiBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCArPSAxMDsKICAgICAgfSBlbHNlIGlmIChldmVudC5kZWx0YVggPCBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCAtPSAxMDsKICAgICAgfQogICAgfSwKICAgIGNoZWNraW50ZW50OiBmdW5jdGlvbiBjaGVja2ludGVudChpbmRleCkgewogICAgICBpZiAodGhpcy5jaGF0RGV0YWlsc1tpbmRleCAtIDFdICE9IHVuZGVmaW5lZCkgewogICAgICAgIGlmICh0aGlzLmNoYXREZXRhaWxzW2luZGV4IC0gMV0uQk9UUmVzcG9uc2VbMF0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAodGhpcy5jaGF0RGV0YWlsc1tpbmRleCAtIDFdLkJPVFJlc3BvbnNlWzBdLmludGVudCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgY2hhdF9kYXRlOiBmdW5jdGlvbiBjaGF0X2RhdGUoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmNoYXREZXRhaWxzID0gW107CiAgICAgIHRoaXMuc2VuZGVyX2lkID0gdGhpcy51c2VyX2FjdGlvbl9zdGF0c1tpbmRleF0udXNlcmlkOwogICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmdlbmVyYWxfY2hhdF9oaXN0b3J5KCksIHsKICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICB1c2VybmFtZTogdGhpcy5zZW5kZXJfaWQsCiAgICAgICAgaXNzaG93ZGF0ZXM6IHRydWUsCiAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gsCiAgICAgICAgaXNfcG9ydGFsX3VzZXI6IHRydWUsCiAgICAgICAgc2VhcmNoc3RyaW5nOiB0aGlzLnNlYXJjaHN0cmluZwogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1LnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIF90aGlzNS5jaGF0X2RhdGVzID0gcmVzcG9uc2UuZGF0YS5EYXRlczsKICAgICAgICBfdGhpczUuc2VsZWN0ZWRfZGF0ZSA9IHJlc3BvbnNlLmRhdGEuRGF0ZXNbcmVzcG9uc2UuZGF0YS5EYXRlcy5sZW5ndGggLSAxXTsKCiAgICAgICAgX3RoaXM1LmNoYXRfZGF0ZXMucmV2ZXJzZSgpOyAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkX2luZGV4KTsKCgogICAgICAgIF90aGlzNS5zZWxlY3RlZF9pbmRleCA9IGluZGV4OwoKICAgICAgICBfdGhpczUuY2hhdF9jb252ZXJzYXRpb24oaW5kZXgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhdF9jb252ZXJzYXRpb246IGZ1bmN0aW9uIGNoYXRfY29udmVyc2F0aW9uKGluZGV4LCBjaGF0X2luZGV4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgsIGNoYXRfaW5kZXgpOwogICAgICBpZiAodGhpcy5zZWxlY3RlZCAhPSAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiKSB7CiAgICAgICAgdGhpcy5zZW5kZXJfaWQgPSB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzW2luZGV4XS51c2VyaWQ7CiAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNvbnZlcnNhdGlvbl9zdGF0c191cmwoKSwgewogICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIHNlbmRlcl9pZDogdGhpcy51c2VyX2FjdGlvbl9zdGF0c1tpbmRleF0uc2VuZGVyX2lkLAogICAgICAgICAgYWN0aW9uX3RpbWVzdGFtcDogdGhpcy51c2VyX2FjdGlvbl9zdGF0c1tpbmRleF0uYWN0aW9uX2xpc3RbY2hhdF9pbmRleF0udGltZXN0YW1wCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczYuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczYudXNlcl9yZXBseSA9IFtdOwogICAgICAgICAgX3RoaXM2LmJvdF9yZXBseSA9IFtdOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRfdXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcl9jb252ZXJzYXRpb25zLnVzZXJuYW1lOwoKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhLnVzZXJfY29udmVyc2F0aW9ucy5pbnRlcmFjdGlvbnMpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLnVzZXIgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBfdGhpczYudXNlcl9yZXBseS5wdXNoKHJlc3BvbnNlLmRhdGEudXNlcl9jb252ZXJzYXRpb25zLmludGVyYWN0aW9uc1tpXS51c2VyKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEudXNlcl9jb252ZXJzYXRpb25zLmludGVyYWN0aW9uc1tpXS5ib3QgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBfdGhpczYuYm90X3JlcGx5LnB1c2gocmVzcG9uc2UuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLmJvdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSA6aW5wdXQiKS5wcm9wKCJkaXNhYmxlZCIsIHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKF90aGlzNi50bHQoJ3BvcnRhbF91c2VyX25vX2NoYXRzX21zZycpKTsKICAgICAgICAgICAgJCgiI2NvbnZlcnNhdGlvbl9tb2RlbDEiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgfQoKICAgICAgICAgICQoIiNjb252ZXJzYXRpb25fbW9kZWwxIDppbnB1dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczYuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGF0RGV0YWlscyA9IFtdOwogICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLCB7CiAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuc2VuZGVyX2lkLAogICAgICAgICAgaXNzaG93Y2hhdGRldGFpbHM6IHRydWUsCiAgICAgICAgICBkYXRlOiB0aGlzLnNlbGVjdGVkX2RhdGUsCiAgICAgICAgICBpc3NlYXJjaDogdGhpcy5pc3NlYXJjaCwKICAgICAgICAgIGlzX3BvcnRhbF91c2VyOiB0cnVlLAogICAgICAgICAgc2VhcmNoc3RyaW5nOiB0aGlzLnNlYXJjaHN0cmluZwogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3RlZF9pbmRleCwgdGhpcy51c2VyX2FjdGlvbl9zdGF0cyk7CiAgICAgICAgICBfdGhpczYuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczYudXNlcl9yZXBseSA9IFtdOwogICAgICAgICAgX3RoaXM2LmJvdF9yZXBseSA9IFtdOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRfdXNlciA9IF90aGlzNi51c2VyX2FjdGlvbl9zdGF0c1tfdGhpczYuc2VsZWN0ZWRfaW5kZXhdLnVzZXJlbWFpbDsKICAgICAgICAgICAgX3RoaXM2LmNoYXREZXRhaWxzID0gcmVzcG9uc2UuZGF0YS5jaGF0RGV0YWlsczsKICAgICAgICAgICAgdmFyIG9mZmVyc19pbmRleCA9IG51bGw7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzNi5jaGF0RGV0YWlscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3RoaXM2LmNoYXREZXRhaWxzW2ldLkJPVFJlc3BvbnNlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmNoYXREZXRhaWxzW2ldLkJPVFJlc3BvbnNlW2pdLnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWQgPT0gdHJ1ZSAmJiBfdGhpczYuY2hhdERldGFpbHNbaV0uQk9UUmVzcG9uc2Vbal0udGV4dCA9PSBudWxsICYmIF90aGlzNi5jaGF0RGV0YWlsc1tpXS5Vc2VyUXVlcnkgPT09ICJQcm9tb3Rpb25hbCBvZmZlcnMiKSB7CiAgICAgICAgICAgICAgICAgIG9mZmVyc19pbmRleCA9IGk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAob2ZmZXJzX2luZGV4ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpczYuY2hhdERldGFpbHNbb2ZmZXJzX2luZGV4XTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG9mZmVyc19pbmRleCA9IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBuZXdfYXJyID0gX3RoaXM2LmNoYXREZXRhaWxzLmZpbHRlcihmdW5jdGlvbiAoYSkgewogICAgICAgICAgICAgIHJldHVybiBhOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNi5jaGF0RGV0YWlscyA9IG5ld19hcnI7CiAgICAgICAgICB9IC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgLy8gICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSA6aW5wdXQiKS5wcm9wKCJkaXNhYmxlZCIsIHRydWUpOwogICAgICAgICAgLy8gICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSA6YnV0dG9uIikucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAgICAgICAvLyB9LCA1MDApOwoKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzNi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHByb2R1Y3RfdmFyaWF0aW9uOiBmdW5jdGlvbiBwcm9kdWN0X3ZhcmlhdGlvbihwcm9kdWN0c19saXN0KSB7CiAgICAgIGZvciAodmFyIGkgaW4gcHJvZHVjdHNfbGlzdCkgewogICAgICAgIHByb2R1Y3RzX2xpc3RbaV0ub3JkZXJfcXR5ID0gMTsKICAgICAgICBwcm9kdWN0c19saXN0W2ldLmJ1eV9xdHkgPSAxOwoKICAgICAgICBpZiAocHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zICYmIHByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLmlkID0gcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLmlkOwogICAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS5pbWdfdXJsID0gcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLmltZ191cmwgPT09IG51bGwgPyBwcm9kdWN0c19saXN0W2ldLmltZ191cmwgOiBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uaW1nX3VybCB8fCBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uaW1hZ2U7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLnBlcm1hbGluayA9IHByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS5wZXJtYWxpbms7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLnZhcmlhbnRfdGl0bGUgPSBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0udmFyaWFudF90aXRsZTsKICAgICAgICAgIHByb2R1Y3RzX2xpc3RbaV0uc3RvY2tfcXVhbnRpdHkgPSBwcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uc3RvY2tfcXVhbnRpdHk7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLnN0b2NrX3N0YXR1cyA9IHByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS5zdG9ja19zdGF0dXM7CiAgICAgICAgICBwcm9kdWN0c19saXN0W2ldLnByaWNlID0gcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLnByaWNlOwogICAgICAgICAgcHJvZHVjdHNfbGlzdFtpXS5yZWd1bGFyX3ByaWNlID0gcHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLnJlZ3VsYXJfcHJpY2U7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcHJvZHVjdHNfbGlzdDsKICAgIH0sCiAgICBzZWFyY2hfY2hhdDogZnVuY3Rpb24gc2VhcmNoX2NoYXQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoc3RyaW5nICE9ICIiKSB7CiAgICAgICAgdmFyIF9heGlvcyRwb3N0MjsKCiAgICAgICAgLy8gdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIHRoaXMucGFnZV9ubyA9IDE7CiAgICAgICAgdGhpcy5pc3NlYXJjaCA9IHRydWUsIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLCAoX2F4aW9zJHBvc3QyID0gewogICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIGlzc2hvdzogdHJ1ZSwKICAgICAgICAgIGlzX3BvcnRhbF91c2VyOiB0cnVlLAogICAgICAgICAgYWN0aW9uOiAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiLAogICAgICAgICAgcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgICBwZXJwYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gKICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QyLCAiaXNfcG9ydGFsX3VzZXIiLCB0cnVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MiwgInNlYXJjaHN0cmluZyIsIHRoaXMuc2VhcmNoc3RyaW5nKSwgX2F4aW9zJHBvc3QyKSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczcuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBfdGhpczcudXNlcl9hY3Rpb25fc3RhdHMgPSBbXTsKCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0cgIT0gIk5vIFJlc3VsdHMgRm91bmQiICYmIHJlc3BvbnNlLmRhdGEuTVNHICE9ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIF90aGlzNy51c2VyX2FjdGlvbl9zdGF0cy5wdXNoKHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEuUGFnZUNvdW50OwoKICAgICAgICAgICAgX3RoaXM3LnNldHBhZ2luYXRpb24oX3RoaXM3LnBhZ2Vfbm8pOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PSAiTm8gUmVzdWx0cyBGb3VuZCIpIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKF90aGlzNy50bHQoJ3BvcnRhbF91c2VyX25vX3Jlc3VsdF9mb3VuZF9tc2cnKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihfdGhpczcudGx0KCdwb3J0YWxfdXNlcl9pbnRlcm5hbF9zZXJ2ZXJfbXNnMScpKTsKCiAgICAgICAgICAgIF90aGlzNy5sb2FkX3BvcnRhbF91c2VyX2NoYXRfaGlzdG9yeSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKF90aGlzNy50bHQoJ3BvcnRhbF91c2VyX2ludGVybmFsX3NlcnZlcl9tc2cyJykpOwoKICAgICAgICAgICAgX3RoaXM3LmxvYWRfcG9ydGFsX3VzZXJfY2hhdF9oaXN0b3J5KCk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczcuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9hc3RyLmVycm9yKHRoaXMudGx0KCdwb3J0YWxfdXNlcl9kYXRhX2Zvcl9zZWFyY2hfbXNnJykpOwogICAgICB9CiAgICB9LAogICAgY2xvc2VfbW9kYWw6IGZ1bmN0aW9uIGNsb3NlX21vZGFsKCkgewogICAgICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSIpLm1vZGFsKCJoaWRlIik7CiAgICB9LAogICAgY2hlY2tfYm90X29mZmVyczogZnVuY3Rpb24gY2hlY2tfYm90X29mZmVycyhib3RfcmVwb25zZSkgewogICAgICB2YXIgcmVzdWx0X2JvdCA9IGJvdF9yZXBvbnNlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBCb29sZWFuKGl0ZW0ub2ZmZXJzKSA9PT0gdHJ1ZTsKICAgICAgfSk7CgogICAgICBpZiAocmVzdWx0X2JvdC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuICJkaXNwbGF5IDpibG9jayI7CiAgICAgIH0KCiAgICAgIHJldHVybiAiZGlzcGxheSA6IGZsZXgiOwogICAgfSwKICAgIHRyaW1fY2FyZF9kZXNjcmlwdGlvbjogZnVuY3Rpb24gdHJpbV9jYXJkX2Rlc2NyaXB0aW9uKHRleHQpIHsKICAgICAgaWYgKHRleHQubGVuZ3RoID4gMTAwKSB7CiAgICAgICAgdmFyIHN0cmluZ190ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgODApICsgIi4uLiI7CiAgICAgICAgcmV0dXJuIHN0cmluZ190ZXh0OwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["PortalUserChatHistory.vue"],"names":[],"mappings":"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A,UAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,UAAA,CAAA,IAAA,CAAA,KAAA,WAAA;AACA;AACA,KAtXA;AAuXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,UAzdA,wBAydA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,eAAA,CAAA;;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,OAFA,MAEA,IAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA;AACA,KAheA;AAieA,IAAA,eAjeA,6BAieA;AACA,UAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,sBAAA,CAAA;;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,OAFA,MAEA,IAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA;AACA,KAxeA;AAyeA,IAAA,WAzeA,uBAyeA,KAzeA,EAyeA;AACA,UAAA,KAAA,WAAA,CAAA,KAAA,GAAA,CAAA,KAAA,SAAA,EAAA;AACA,YAAA,KAAA,WAAA,CAAA,KAAA,GAAA,CAAA,EAAA,WAAA,CAAA,CAAA,KAAA,SAAA,EAAA;AACA,cAAA,KAAA,WAAA,CAAA,KAAA,GAAA,CAAA,EAAA,WAAA,CAAA,CAAA,EAAA,MAAA,IAAA,SAAA,EAAA;AACA,mBAAA,IAAA;AACA;AACA;AACA;;AACA,aAAA,KAAA;AACA,KAlfA;AAmfA,IAAA,SAnfA,qBAmfA,KAnfA,EAmfA;AAAA;;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,KAAA,iBAAA,CAAA,KAAA,EAAA,MAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,oBAAA,EAFA,EAGA;AACA,QAAA,WAAA,EAAA,KAAA,WADA;AAEA,QAAA,SAAA,EAAA,KAAA,SAFA;AAGA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,QAAA,QAAA,EAAA,KAAA,SANA;AAOA,QAAA,WAAA,EAAA,IAPA;AAQA,QAAA,QAAA,EAAA,KAAA,QARA;AASA,QAAA,cAAA,EAAA,IATA;AAUA,QAAA,YAAA,EAAA,KAAA;AAVA,OAHA,EAeA;AACA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,OAfA,EAqBA,IArBA,CAqBA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,aAAA,GACA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CADA;;AAEA,QAAA,MAAA,CAAA,UAAA,CAAA,OAAA,GALA,CAMA;;;AACA,QAAA,MAAA,CAAA,cAAA,GAAA,KAAA;;AACA,QAAA,MAAA,CAAA,iBAAA,CAAA,KAAA;AACA,OA9BA,EA+BA,KA/BA,CA+BA,UAAA,CAAA,EAAA;AACA,YACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,OAvCA;AAwCA,KA/hBA;AAgiBA,IAAA,iBAhiBA,6BAgiBA,KAhiBA,EAgiBA,UAhiBA,EAgiBA;AAAA;;AACA;AACA,UAAA,KAAA,QAAA,IAAA,sBAAA,EAAA;AACA,aAAA,SAAA,GAAA,KAAA,iBAAA,CAAA,KAAA,EAAA,MAAA;AACA,aAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,sBAAA,EAFA,EAGA;AACA,UAAA,WAAA,EAAA,KAAA,WADA;AAEA,UAAA,SAAA,EAAA,KAAA,SAFA;AAGA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,UAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,UAAA,SAAA,EAAA,KAAA,iBAAA,CAAA,KAAA,EAAA,SANA;AAOA,UAAA,gBAAA,EAAA,KAAA,iBAAA,CAAA,KAAA,EAAA,WAAA,CACA,UADA,EAEA;AATA,SAHA,EAcA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SAdA,EAoBA,IApBA,CAoBA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,EAAA;;AACA,cAAA,QAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,QAAA;;AACA,iBAAA,IAAA,CAAA,IAAA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,EAAA;AACA,kBACA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,CAAA,CAAA,EAAA,IAAA,IACA,SAFA,EAGA;AACA,gBAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CACA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,CAAA,CAAA,EAAA,IADA;AAGA,eAPA,MAOA,IACA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,CAAA,CAAA,EAAA,GAAA,IACA,SAFA,EAGA;AACA,gBAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CACA,QAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,YAAA,CAAA,CAAA,EAAA,GADA;AAGA;AACA;;AACA,YAAA,CAAA,CAAA,6BAAA,CAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA;AACA,WApBA,MAoBA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,0BAAA,CAAA;AACA,YAAA,CAAA,CAAA,sBAAA,CAAA,CAAA,KAAA,CAAA,MAAA;AACA;;AACA,UAAA,CAAA,CAAA,6BAAA,CAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA;AACA,SAjDA,EAkDA,KAlDA,CAkDA,UAAA,CAAA,EAAA;AACA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,SA1DA;AA2DA,OA9DA,MA8DA;AACA,aAAA,WAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,oBAAA,EAFA,EAGA;AACA,UAAA,WAAA,EAAA,KAAA,WADA;AAEA,UAAA,SAAA,EAAA,KAAA,SAFA;AAGA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAHA;AAIA,UAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAJA;AAKA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MALA;AAMA,UAAA,QAAA,EAAA,KAAA,SANA;AAOA,UAAA,iBAAA,EAAA,IAPA;AAQA,UAAA,IAAA,EAAA,KAAA,aARA;AASA,UAAA,QAAA,EAAA,KAAA,QATA;AAUA,UAAA,cAAA,EAAA,IAVA;AAWA,UAAA,YAAA,EAAA,KAAA;AAXA,SAHA,EAgBA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SAhBA,EAsBA,IAtBA,CAsBA,UAAA,QAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,EAAA;;AACA,cAAA,QAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,GAAA,MAAA,CAAA,iBAAA,CACA,MAAA,CAAA,cADA,EAEA,SAFA;AAGA,YAAA,MAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,WAAA;AACA,gBAAA,YAAA,GAAA,IAAA;;AACA,iBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,WAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,mBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,WAAA,CAAA,CAAA,EAAA,WAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,oBAAA,MAAA,CAAA,WAAA,CAAA,CAAA,EAAA,WAAA,CAAA,CAAA,EAAA,yBAAA,IAAA,IAAA,IAAA,MAAA,CAAA,WAAA,CAAA,CAAA,EAAA,WAAA,CAAA,CAAA,EAAA,IAAA,IAAA,IAAA,IACA,MAAA,CAAA,WAAA,CAAA,CAAA,EAAA,SAAA,KAAA,oBADA,EACA;AACA,kBAAA,YAAA,GAAA,CAAA;AACA;AACA;;AACA,kBAAA,YAAA,IAAA,IAAA,EAAA;AACA,uBAAA,MAAA,CAAA,WAAA,CAAA,YAAA,CAAA;AACA;;AACA,cAAA,YAAA,GAAA,IAAA;AACA;;AACA,gBAAA,OAAA,GAAA,MAAA,CAAA,WAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,qBAAA,CAAA;AAAA,aAAA,CAAA;;AACA,YAAA,MAAA,CAAA,WAAA,GAAA,OAAA;AACA,WAzBA,CA0BA;AACA;AACA;AACA;;AACA,SApDA,EAqDA,KArDA,CAqDA,UAAA,CAAA,EAAA;AACA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,SA7DA;AA8DA;AACA,KAlqBA;AAmqBA,IAAA,iBAnqBA,6BAmqBA,aAnqBA,EAmqBA;AACA,WAAA,IAAA,CAAA,IAAA,aAAA,EAAA;AACA,QAAA,aAAA,CAAA,CAAA,CAAA,CAAA,SAAA,GAAA,CAAA;AACA,QAAA,aAAA,CAAA,CAAA,CAAA,CAAA,OAAA,GAAA,CAAA;;AACA,YAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,IAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,EAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,EAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,OAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,OAAA,KAAA,IAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,OAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,OAAA,IACA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,KADA;AAEA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,SAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,SAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,aAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,aAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,cAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,cAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,YAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,YAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,KAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,KAAA;AACA,UAAA,aAAA,CAAA,CAAA,CAAA,CAAA,aAAA,GAAA,aAAA,CAAA,CAAA,CAAA,CAAA,UAAA,CAAA,CAAA,EAAA,aAAA;AACA;AACA;;AACA,aAAA,aAAA;AACA,KAprBA;AAqrBA,IAAA,WArrBA,yBAqrBA;AAAA;;AACA,UAAA,KAAA,YAAA,IAAA,EAAA,EAAA;AAAA;;AACA;AACA,aAAA,OAAA,GAAA,CAAA;AACA,aAAA,QAAA,GAAA,IAAA,EAAA,KAAA,SAAA,GAAA,IAAA;AACA,QAAA,KAAA,CACA,IADA,CAEA,SAAA,CAAA,oBAAA,EAFA;AAIA,UAAA,WAAA,EAAA,KAAA,WAJA;AAKA,UAAA,SAAA,EAAA,KAAA,SALA;AAMA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KANA;AAOA,UAAA,WAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,WAPA;AAQA,UAAA,KAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,MARA;AASA,UAAA,MAAA,EAAA,IATA;AAUA,UAAA,cAAA,EAAA,IAVA;AAWA,UAAA,MAAA,EAAA,sBAXA;AAYA,UAAA,MAAA,EAAA,KAAA,OAZA;AAaA,UAAA,OAAA,EAAA,KAAA,QAbA;AAcA,UAAA,QAAA,EAAA,KAAA;AAdA,2DAeA,IAfA,iDAgBA,KAAA,YAhBA,kBAkBA;AACA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,mBAAA,KAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AADA;AADA,SAlBA,EAwBA,IAxBA,CAwBA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,EAAA;;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,GAAA,IAAA,kBAAA,IACA,QAAA,CAAA,IAAA,CAAA,GAAA,IAAA,uBADA,EAGA;AACA,iBAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,MAAA,CAAA,iBAAA,CAAA,IAAA,CAAA;AACA,gBAAA,QAAA,EAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,CAAA;AADA,eAAA;AAGA;;AACA,YAAA,MAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,SAAA;;AACA,YAAA,MAAA,CAAA,aAAA,CAAA,MAAA,CAAA,OAAA;AACA,WAXA,MAYA,IAAA,QAAA,CAAA,IAAA,CAAA,GAAA,IAAA,kBAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,iCAAA,CAAA;AAEA,WAHA,MAGA,IAAA,QAAA,CAAA,IAAA,CAAA,GAAA,IAAA,uBAAA,EAAA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,kCAAA,CAAA;;AACA,YAAA,MAAA,CAAA,6BAAA;AACA,WAHA,MAIA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,kCAAA,CAAA;;AACA,YAAA,MAAA,CAAA,6BAAA;AACA;AAEA,SAnDA,EAoDA,KApDA,CAoDA,UAAA,CAAA,EAAA;AACA,cACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAAA,IACA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GADA,IAEA,CAAA,CAAA,QAAA,CAAA,MAAA,KAAA,GAHA,EAIA;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,EAAA,CAAA,CAAA,QAAA,CAAA,IAAA;AACA;AACA,SA5DA;AA6DA,OAjEA,MAiEA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,iCAAA,CAAA;AACA;AACA,KA1vBA;AA2vBA,IAAA,WA3vBA,yBA2vBA;AACA,MAAA,CAAA,CAAA,sBAAA,CAAA,CAAA,KAAA,CAAA,MAAA;AACA,KA7vBA;AA8vBA,IAAA,gBA9vBA,4BA8vBA,WA9vBA,EA8vBA;AACA,UAAA,UAAA,GAAA,WAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,IAAA;AACA,OAFA,CAAA;;AAGA,UAAA,UAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,eAAA,gBAAA;AACA;;AACA,aAAA,gBAAA;AACA,KAtwBA;AAuwBA,IAAA,qBAvwBA,iCAuwBA,IAvwBA,EAuwBA;AACA,UAAA,IAAA,CAAA,MAAA,GAAA,GAAA,EAAA;AACA,YAAA,WAAA,GAAA,IAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,KAAA;AACA,eAAA,WAAA;AACA;;AACA,aAAA,IAAA;AACA;AA7wBA;AAnEA,CAAA","sourcesContent":["<template>\n    <div class=\"table-box\">\n    <div class=\"spinner\" id=\"spinner\" v-show=\"show_loader\"></div>\n        <div\n            v-if=\"selected != 'general_chat_history'\"\n            class=\"table-responsive\"\n            style=\"min-height: 349px\"\n        >\n            <table class=\"table\">\n            <thead>\n                <tr>\n                <!-- <th scope=\"col\">\n                                    <div class=\"form-check checkbox checkbox-success\">\n                                        <label class=\"form-check-label\">\n                                            <input class=\"form-check-input checkbox-success\" type=\"checkbox\" id=\"selectall\">\n                                            <span class=\"icn\"></span>\n                                        </label>\n                                    </div>\n            </th>-->\n                <th\n                    scope=\"col\"\n                    style=\"width: 25%; text-align: center\"\n                >\n                    USER NAME\n                </th>\n                <th\n                    scope=\"col\"\n                    style=\"width: 20%; text-align: center\"\n                >\n                    NAME OF TASK\n                </th>\n                <th\n                    scope=\"col\"\n                    style=\"width: 20%; text-align: center\"\n                >\n                    LAST INTERACTED ON\n                </th>\n                <th\n                    scope=\"col\"\n                    style=\"width: 20%; text-align: center\"\n                >\n                    TIME\n                </th>\n                </tr>\n            </thead>\n            <tr\n                v-for=\"(user, index) in user_action_stats\"\n                :key=\"index\"\n            >\n                <template\n                v-if=\"\n                    user.username != 'Bot User' &&\n                    user.username != '' &&\n                    Boolean(user.username)\n                \"\n                >\n                <td style=\"text-align: center\">\n                    {{ user.username }}\n                </td>\n                <td>\n                    <tr\n                    v-for=\"(action, chat_index) in user.action_list\"\n                    :key=\"chat_index\"\n                    >\n                    <td style=\"width: 50%; text-align: center\">\n                        <a\n                        href=\"javascript:void(0)\"\n                        data-toggle=\"modal\"\n                        data-target=\"#conversation_model\"\n                        @click=\"\n                            chat_conversation(index, chat_index)\n                        \"\n                        >{{ action.name }}</a\n                        >\n                    </td>\n                    </tr>\n                </td>\n                <td style=\"text-align: center\">\n                    <tr\n                    v-for=\"(action, chat_index) in user.action_list\"\n                    :key=\"chat_index\"\n                    >\n                    <td style=\"width: 10%\">{{ action.date }}</td>\n                    </tr>\n                </td>\n                <td style=\"text-align: center\">\n                    <tr\n                    v-for=\"(action, chat_index) in user.action_list\"\n                    :key=\"chat_index\"\n                    >\n                    <td style=\"width: 10%\">{{ action.time }}</td>\n                    </tr>\n                </td>\n                </template>\n            </tr>\n            </table>\n        </div>\n\n        <!-- for general_chat_history -->\n        <div\n            v-if=\"selected == 'general_chat_history'\"\n            class=\"table-responsive\"\n            style=\"min-height: 349px\"\n        >\n            <table class=\"table\">\n            <thead>\n                <tr>\n                <!-- <th\n                    scope=\"col\"\n                    style=\"width: 20%; text-align: center\"\n                >\n                    USER NAME\n                </th> -->\n                <th\n                    scope=\"col\"\n                    style=\"width: 30%; text-align: center\"\n                >\n                    {{tlt('portal_user_unique_id')}}\n                </th>\n                <!-- <th\n                    scope=\"col\"\n                    style=\"width: 20%; text-align: center\"\n                >\n                    PHONE NUMBER\n                </th> -->\n                <th\n                    scope=\"col\"\n                    style=\"width: 30%; text-align: center;\"\n                >\n                    {{tlt('portal_user_interacted')}} \n                </th>\n                <th\n                    scope=\"col\"\n                    style=\"width: 40%; text-align: center\"\n                >\n                    {{tlt('portal_user_view_chat')}}\n                </th>\n                <!-- <th scope=\"col\" style=\"width: 20%;text-align: center;\">NAME OF TASK</th>\n            <th scope=\"col\" style=\"width: 20%;text-align: center;\">DATE</th>\n            <th scope=\"col\" style=\"width: 20%;text-align: center;\">TIME</th>-->\n                </tr>\n            </thead>\n            <tr\n                v-for=\"(user, index) in user_action_stats\"\n                :key=\"index\"\n            >\n                <template>\n                <!-- <td class=\"text-center\">{{ user.username }}</td> -->\n                <td class=\"text-center\">{{ user.useremail }}</td>\n                <!-- <td class=\"text-center\">{{ user.userphonenumber }}</td> -->\n                <td class=\"text-center\">{{ format_date_in_local_timezone(user.date) }}</td>\n                <td style=\"width: 50%; text-align: center\">\n                    <a\n                    href=\"javascript:void(0)\"\n                    data-toggle=\"modal\"\n                    data-target=\"#conversation_model1\"\n                    @click=\"chat_date(index)\"\n                    style=\"text-align: center\"\n                    >{{tlt('view_chat_label')}}</a\n                    >\n                </td>\n                </template>\n            </tr>\n            </table>\n        </div>\n\n        <div class=\"pagin-table\" style=\"margin-top: 2%\">\n            <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination justify-content-center\">\n                <li class=\"page-item\">\n                <a\n                    class=\"page-link\"\n                    href=\"javascript:void(0)\"\n                    @click=\"page_require(page_no - 1)\"\n                >\n                    <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                    >\n                    <g\n                        id=\"arrow-point-to-left\"\n                        transform=\"translate(105.806 15.204) rotate(180)\"\n                    >\n                        <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                        />\n                    </g>\n                    </svg>\n                </a>\n                </li>\n                <li\n                :class=\"'page-item ' + pagination_class(pageno)\"\n                v-for=\"pageno in page_array\"\n                :key=\"pageno\"\n                >\n                <a\n                    v-if=\"pageno == '...s' || pageno == '...l'\"\n                    class=\"page-link\"\n                    href=\"javascript:void(0)\"\n                    @click=\"page_require(pageno)\"\n                    >...</a\n                >\n                <a\n                    v-if=\"pageno != '...s' && pageno != '...l'\"\n                    class=\"page-link\"\n                    href=\"#\"\n                    @click=\"page_require(pageno)\"\n                    >{{ pageno }}</a\n                >\n                </li>\n                <li class=\"page-item\">\n                <a\n                    class=\"page-link\"\n                    href=\"javascript:void(0)\"\n                    @click=\"page_require(page_no + 1)\"\n                >\n                    <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"8.667\"\n                    height=\"15.204\"\n                    viewBox=\"0 0 8.667 15.204\"\n                    >\n                    <g\n                        id=\"arrow-point-to-right\"\n                        transform=\"translate(-97.139 0)\"\n                    >\n                        <path\n                        id=\"Path_1136\"\n                        data-name=\"Path 1136\"\n                        d=\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\"\n                        transform=\"translate(0 0)\"\n                        fill=\"#9499ae\"\n                        />\n                    </g>\n                    </svg>\n                </a>\n                </li>\n            </ul>\n            </nav>\n        </div>\n\n        <div\n            v-if=\"selected != 'general_chat_history'\"\n            class=\"modal fade dash-modal\"\n            id=\"conversation_model\"\n            tabindex=\"-1\"\n            role=\"dialog\"\n            aria-labelledby=\"conversation_model\"\n            aria-hidden=\"true\"\n            style=\"margin-left: -1%\"\n        >\n            <div\n            class=\"modal-dialog modal-dialog-centered\"\n            role=\"document\"\n            >\n            <div class=\"modal-content\">\n                <div class=\"modal-body\">\n                <div class=\"modal-head d-flex align-items-center\">\n                    <div class=\"head-icn\">\n                    <img src=\"/img/user-blue.png\" alt />\n                    </div>\n                    <h3>{{tlt('chat_history_header')}}</h3>\n                </div>\n                <button\n                    type=\"button\"\n                    class=\"close\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                >\n                    <img src=\"/img/close-icn.png\" alt />\n                </button>\n                <div>\n                    <div\n                    v-for=\"(user, index) in user_reply\"\n                    :key=\"index\"\n                    >\n                    <span class=\"d-flex\">\n                        <h5>{{ current_user }}: &nbsp;</h5>\n                        <p>{{ user }}</p>\n                    </span>\n                    <span style=\"display: flex\">\n                        <h5>Bot: &nbsp;</h5>\n                        <p>{{ bot_reply[index] }}</p>\n                    </span>\n                    </div>\n                </div>\n                </div>\n            </div>\n            </div>\n        </div>\n\n        <div\n            v-if=\"selected == 'general_chat_history'\"\n            class=\"modal fade dash-modal\"\n            id=\"conversation_model1\"\n            tabindex=\"-1\"\n            role=\"dialog\"\n            aria-labelledby=\"conversation_model1\"\n            aria-hidden=\"true\"\n            style=\"margin-left: -1%\"\n          >\n            <div\n              class=\"modal-dialog modal-dialog-centered\"\n              role=\"document\"\n              style=\"max-width: 60%\"\n            >\n              <div class=\"modal-content\">\n                <div class=\"modal-body\">\n                  <div class=\"modal-head d-flex align-items-center\">\n                    <div class=\"head-icn\">\n                      <img src=\"/img/user-blue.png\" alt />\n                    </div>\n                    <h3>{{tlt('chat_history_header')}}</h3>\n                  </div>\n                  <button\n                    type=\"button\"\n                    class=\"close\"\n                    data-dismiss=\"modal\"\n                    aria-label=\"Close\"\n                  >\n                    <img src=\"/img/close-icn.png\" alt />\n                  </button>\n                  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" @click=\"close_modal\">&times;</button> -->\n                  <div>\n                    <!-- <div>\n                      <select\n                        id=\"select_coversation_date\"\n                        v-model=\"selected_date\"\n                        class=\"form-control\"\n                        @change=\"chat_conversation\"\n                      >\n                        <option\n                          v-for=\"(date, index) in chat_dates\"\n                          :key=\"index\"\n                          :value=\"date\"\n                        >\n                          {{ date }}\n                        </option>\n                      </select>\n                    </div> -->\n                  <div class=\"form-group\" >\n                    <label>{{tlt('time_range_label')}}</label>\n                    <multiselect\n                      v-model=\"selected_date\"\n                      id=\"select_coversation_date\"\n                      :options=\"chat_dates\"\n                      :searchable=\"true\"\n                      :close-on-select=\"true\"\n                      :show-labels=\"false\"\n                      :allow-empty=\"false\"\n                      @input=\"chat_conversation\"\n                      placeholder=\"Select Time Range\"\n                      :disabled-selected=\"false\"\n                      :hide-selected=\"false\"\n                      :max-height=\"200\"\n                    >\n                      <span>{{ selected_date }}</span>\n                    </multiselect>\n                    <div v-show=\"chatDetails.length ==0\">\n                      <content-loader\n                        viewBox=\"0 0 180 360\"\n                        :speed=\"5\"\n                        primaryColor=\"#f3f3f3\"\n                        secondaryColor=\"#ecebeb\"\n                        >\n                        <rect x=\"40\" y=\"3\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                        <rect x=\"2\" y=\"3\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                        <rect x=\"40\" y=\"23\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                        <rect x=\"2\" y=\"23\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                        <rect x=\"40\" y=\"45\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                        <rect x=\"2\" y=\"45\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                        <rect x=\"40\" y=\"66\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                        <rect x=\"2\" y=\"66\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                        <rect x=\"40\" y=\"88\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                        <rect x=\"2\" y=\"88 \" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                        <rect x=\"40\" y=\"108\" rx=\"4\" ry=\"4\" width=\"350\" height=\"14\" />\n                        <rect x=\"2\" y=\"108\" rx=\"4\" ry=\"4\" width=\"35\" height=\"14\" />\n                      </content-loader>\n                    </div>\n                  </div>\n                    <p></p>\n                    <div style=\"text-align:justify\" v-for=\"(user, index) in chatDetails\" :key=\"index\">\n                      <span v-if=\"user.UserQuery != ''\" class=\"py-0 my-0\" style=\"display: flex; height:0%;\">\n                        <h5 class=\"py-0 mt-2 mb-0\" style=\"float:left;width:3%; height:0%;\">Q:</h5>\n                        <p class=\"py-0 mb-0\" style=\"word-break: break-all; margin-top:11px;\">\n                          {{ user.UserQuery }}\n                        </p>\n                      </span>\n                      <div v-if=\"user.UserQuery != '' || checkintent(index)\">                      \n                        <span\n                          v-for=\"(bot, index2) in user.BOTResponse\"\n                          :key=\"index2\"\n                          :style=\"check_bot_offers(user.BOTResponse)\"\n                        > \n                          <h5\n                            v-if=\"bot.img != undefined || \n                              bot.text != undefined || \n                              bot.products!= undefined || \n                              bot.offers!= undefined || \n                              bot.template == 'utter_default' ||\n                              bot.contact_us_email != undefined ||\n                              bot.contact_us_phone_number != undefined ||\n                              bot.buttons != undefined\"\n                              class=\"py-0 mt-0 mb-0\"\n                              style=\"float:left;width:3%;!important\">\n                            A: \n                          </h5>                 \n                          <div v-if=\"(Boolean(bot.buttons)=== true) &&( bot.text == '')\"\n                            style=\"width: max-content;\">\n                            <strong v-if=\"Boolean(bot.buttons)=== true && bot.buttons.length > 0 && bot.text == ''\"\n                                  style=\"color: dimgray;\">\n                                Options :</strong>\n                            <span v-for=\"(button, index3) in bot.buttons\"\n                                :key=\"index3\"\n                                style=\"border: 1px solid #cccccc; cursor: default; padding: 2px;\n                                      margin-right: 5px; background: #f2f2f2; border-radius: 5px;\">\n                            <span class=\"p-0 mb-1\">\n                              {{button.title }}</span>\n                            </span>\n                          </div>\n                          <!-- <p style=\"margin-top:2px; margin-bottom:0px; width:100%\" \n                            v-if=\"bot.contact_us_email != undefined\"\n                          >Please feel free to reachout to us at : <span v-html=\"bot.contact_us_email\"></span></p> -->\n                          <p style=\"margin-top:2px; margin-bottom:0px; width:100%\" \n                            v-if=\"bot.contact_us_email != undefined\" \n                            v-html=\"messaging_platform_formating(bot.contact_us_email)\n                            + messaging_platform_formating_number(bot.contact_us_phone_number)\"\n                          ></p>\n                          <p style=\"margin-top:2px; margin-bottom:0px; width:100%\" \n                            v-if=\"bot.message != undefined\" \n                            v-html=\"confusion_message_formating(bot.message)\"\n                          ></p>\n                          <div>\n                            <p style=\"margin-top:2px; margin-bottom:0px; width:100%;\" \n                              v-if=\"bot.text != undefined && bot.text != ''\"  \n                              v-html=\"bot.text\">\n                            </p>\n                            <span v-if=\"bot.video != undefined && bot.video != ''\" ><a :href=\"bot.video\" target=\"blank\">Attach Video</a></span>\n                          </div>\n                          <div\n                            v-for=\"(offer, index4) in bot.offers\"\n                            :key=\"index4\"\n                            style=\"width:100%; margin-bottom:0px; padding-left:1.7rem\"\n                            class=\"pb-0\" \n                          >\n                            <span v-html=\"offer.offer\" v-if=\"bot.offers != undefined\"></span>\n                          </div>\n                          <div style=\"float:left;width:100% \" v-if=\"bot.img != undefined && bot.img !=''\">\n                            <img :src=\"bot.img\"/>\n                          </div>\n                          <div style=\"height:140px; width:140px;position:relative\" v-if=\"bot.image != undefined && bot.image !=''\">\n                            <img style=\"position:absolute;height:inherit\" :src=\"bot.image\" />\n                          </div>\n                          <!-- <p v-if=\"bot.intent!=undefined\" >{{bot.intent}}</p> -->\n                          <div\n                            class=\"buy-products\"\n                            style=\"display: flex; overflow: auto hidden; float:left;width:100% \"\n                            @mousewheel=\"scroll_div\"\n                            v-if=\"bot.products != undefined\"\n                          >\n                            <div\n                              class=\"image-container\"\n                              v-for=\"(product, index1) in product_variation(bot.products.products_list)\"\n                              :key=\"index1\"\n                            >\n                              <img v-if=\"product.img_url != null\" :src=\"check_image_type(product.img_url)\" class=\"center-block p-0 m-0\" style=\"height:140px; width:140px;\"/>\n                              <img v-else src=\"/img/blank_product_image.png\" class=\"image-product-blank\" style=\"height:140px; width:140px; border: 1px solid;\" alt=\"No Product Image\" />\n                              <p class=\"p-0 mb-1\">{{ product.title }}</p>\n                              <p class=\"p-0 mb-1\">{{ product.price }}</p>\n                              <!-- <p class=\"buy-now\" @click=\"generate_payment(product.price)\">Buy Now</p> -->\n                            </div>\n                          </div>\n                          <div\n                            class=\"main-card-container\"\n                            @mousewheel=\"scroll_card_div\"\n                            v-if=\"bot.card != undefined\"\n                          >\n                            <div\n                              class=\"card-container\" \n                              style=\"\"\n                              v-for=\"(card, index5) in bot.card\"\n                              :key=\"index5\"\n                            >\n                              <span v-if=\"card.is_image == true\">\n                                <img v-if=\"card.image != ''\" \n                                :src=\"check_image_type(card.image)\" \n                                class=\"center-block p-0 m-0 carousel-card-img\" \n                                />\n                                <img v-else src=\"/img/blank_product_image.png\" class=\"image-product-blank image-box-card\" style=\"\" alt=\"No Product Image\" />\n                              </span> \n                              <span v-else> \n                                <video width=\"200\" height=\"160\" controls>\n                                  <source v-if=\"card.video != ''\" :src=\"card.video\" type=\"video/mp4\" \n                                  class=\"center-block p-0 m-0\" allow=\"autoplay\"\n                                    accept=\"video/mp4,video/x-m4v,video/*\">\n                                  Your browser does not support the video tag.\n                                </video>\n                              </span>\n                                <h6 class=\"p-0 my-1 ml-1\">\n                                  {{ card.title }}</h6>\n                                <p class=\"p-0 mb-1 ml-1\"\n                                  style=\"width: 180px; text-align: left; font-size: 15px;\"\n                                  :title=\"card.text.length > 100 ? card.text :''\">\n                                  {{ trim_card_description(card.text) }}\n                                </p>\n                              <div class=\"card-button\" style=\"margin-left: 5px; margin-bottom: 5px;\" \n                                v-if=\"Boolean(card.buttons) === true && card.buttons.length > 0\" >\n                                <span\n                                  v-for=\"(cardbtn, index6) in card.buttons\"\n                                  :key=\"index6\"\n                                  style=\"cursor: default;\n                                        margin-right: 5px;\">\n                                  <span v-if=\"cardbtn.title != '' && cardbtn.value != ''\"  \n                                    class=\"p-0 mb-1 carousel-btn\">\n                                    {{cardbtn.title }}\n                                  </span>\n                                  <span v-else>\n                                  </span>  \n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                        </span>\n                      </div>\n                      <!-- Showing Products -->\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport Multiselect from \"vue-multiselect\";\nimport moment from \"moment\";\nimport { ContentLoader } from \"vue-content-loader\";\nexport default {\n  components: {\n    Multiselect,\n    ContentLoader,\n  },\n  data() {\n    return {\n      number_of_rows: \"\",\n      total_pages: 0,\n      page_no: 1,\n      per_page: 15,\n      user_list: [],\n      user_reply: [],\n      bot_reply: [],\n      chatDetails: [],\n      action_stats: [],\n      user_action_stats: [],\n      current_user: \"\",\n      timestamp: \"\",\n      sender_id: [],\n      selected: \"general_chat_history\",\n      selected_date: \"\",\n      selected_index: null,\n      chat_dates: [],\n      companyname: this.$session.get(\"UserInformation\").company_name,\n      companyid: this.$session.get(\"UserInformation\").company_id,\n      issearch: false,\n      searchstring: \"\",\n      spinnerOn: false,\n      view_component_name: \"portal_user\",\n      // fingerprintregex:/^[0-9]{10}$/,\n      fingerprintregex: /^[0-9-+\\/\\s]{9,}$/,\n      page_array: [],\n      show_loader: false,\n      is_portal_user: true,\n      contact_help_email: null,\n      retail_web_framework: this.$session.get(\"retail_web_framework\"),\n      filter_chat_history: this.$session.get(\"filter_chat_history\"),\n      \n    };\n  },\n  mounted() {\n    this.retail_web_framework = this.$session.get(\"retail_web_framework\");\n    $(\"#selectall\").click(function () {\n      if ($(this).is(\":checked\")) {\n        $(\"input:checkbox\").prop(\"checked\", true);\n      } else {\n        $(\"input:checkbox\").prop(\"checked\", false);\n      }\n    });\n    this.$root.$on(\"search_portal_user_chat_history\", (data) => {\n        this.searchstring = data;\n        this.search_chat();\n        // this.search_question();\n    });\n    this.$root.$on(\"load_portal_user_chat_history\", (data) => {\n      this.load_portal_user_chat_history();\n    });\n  },\n  beforeDestroy() {\n    this.$root.$off(\"search_portal_user_chat_history\");\n    this.$root.$off(\"load_portal_user_chat_history\");\n  },\n  created() {\n    this.load_product_settings();\n    this.load_portal_user_chat_history();\n  },\n  methods: {\n    format_date_in_local_timezone(date){\n      var testDateUtc = moment.utc(date);\n      var localDate = moment(testDateUtc).local().toDate();\n      // note: do not format time below to show hour and minute because \"View Chat History\" show all message of that date not specific hour-minute time.\n      localDate = moment(localDate).format(\"ddd MMM D YYYY\");\n      return localDate.toString();\n    },\n    messaging_platform_formating(message){\n      return \"Please feel free to reachout to us at :\"+message;\n    },\n    messaging_platform_formating_number(message){\n      if(message != null){\n        return \" or call us at :\"+message;\n      }else{\n        return \"\";\n      }\n    },\n    confusion_message_formating(message){\n      return message.split('{email}').join(this.contact_help_email);\n    },\n    load_product_settings() {\n      this.show_loader = true;\n      axios\n        .post(\n          api_calls.product_settings(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            is_get: true\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n          var webframework = this.retail_web_framework;\n          if (\n            response.data != \"\" &&\n            response.data != null &&\n            response.data != \"Internal server Error\" &&\n            response.data.msg !== \"NO DATA AVAILABLE\"\n          ) {\n            this.contact_help_email = \n            response.data[webframework + '_details'].contact_help_email;\n          } \n          // else {\n          //   toastr.error(\"Internal Server Error\");\n          // }\n        })\n        .catch(e => {\n          this.show_loader = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    check_image_type(image){\n      if (typeof(image) == 'string'){\n        return image\n      }\n      else {\n        if(image != null){\n          return image.src\n        }else{\n          return ''\n        }\n      }\n    },\n    load_portal_user_chat_history(){\n      this.page_no = 1;\n      this.checked_list = [];\n      this.searchstring = \"\";\n      this.action_stats = [];\n      this.user_action_stats = [];\n      this.show_loader = true;\n      axios\n      .post(\n        api_calls.action_stats_url(),\n        {\n          companyname: this.companyname,\n          companyid: this.companyid,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        this.action_stats = response.data.action_stats;\n        // console.log(this.action_stats);\n        this.action_stats.push({\n          Hits: 1,\n          Name: \"general_chat_history\",\n        });\n      })\n      .catch((e) => {\n        this.show_loader = false;\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n      this.show_loader = true;\n      axios\n        .post(\n          api_calls.general_chat_history(),\n          {\n            companyname: this.companyname,\n            companyid: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            isshow: true,\n            is_portal_user: true,\n            action: \"general_chat_history\",\n            filter_chat_history: this.$session.get(\"filter_chat_history\"),\n            pageno: this.page_no,\n            perpage: this.per_page,\n            issearch: this.issearch,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_loader = false;\n          this.user_action_stats = [];\n          for (let i = 0; i < response.data.chatHistory.length; i++) {\n            // console.log(\n            //   this.fingerprintregex.test(response.data.chatHistory[i]._id.User)\n            // );\n            if (\n              this.fingerprintregex.test(response.data.chatHistory[i]._id.User)\n            ) {\n              this.user_action_stats.push({\n                useremail: response.data.chatHistory[i].Email,\n                userphonenumber: response.data.chatHistory[i].PhoneNumber,\n                username: response.data.chatHistory[i].UserName,\n                userid: response.data.chatHistory[i]._id.User,\n                date: response.data.chatHistory[i].Date,\n              });\n              // console.log(this.user_action_stats, response.data.chatHistory[i]);\n            } else {\n              this.user_action_stats.push({\n                useremail: response.data.chatHistory[i]._id.User,\n                userphonenumber: response.data.chatHistory[i].PhoneNumber,\n                username: response.data.chatHistory[i].UserName,\n                userid: response.data.chatHistory[i]._id.User,\n                date: response.data.chatHistory[i].Date,\n              });\n            }\n            // this.user_action_stats.push({\n            //     useremail : response.data.chatHistory[i]._id.User,\n            //     userphonenumber : response.data.chatHistory[i].PhoneNumber,\n            //     username : response.data.chatHistory[i].UserName,\n            // });\n          }\n          this.total_pages = response.data.PageCount;\n          this.setpagination(this.page_no);\n          // console.log(this.user_action_stats);\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n            \n          }\n          this.show_loader = false;\n        });\n    },\n    page_require(page_no) {\n      if (this.selected != \"general_chat_history\") {\n        // console.log(this.total_pages, page_no);\n        if (page_no == 0 || page_no == this.total_pages + 1) {\n        } else {\n          // this.page_no = page_no;\n          if (page == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (page == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = page;\n          }\n          axios\n            .post(\n              api_calls.action_usage_stats_url(),\n              {\n                companyname: this.companyname,\n                companyid: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                // action: this.action_stats[index].Name,\n                action: this.selected,\n                page_no: this.page_no,\n                per_page: this.per_page,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              // this.spinnerOn = false;\n              // this.user_list = [];\n              // for (var i in response.data[0]) {\n              //   this.intentlist.push({\n              //     intent: response.data[0][i],\n              //     email: response.data[1][i],\n              //     created: response.data[2][i]\n              //   });\n              // }\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      } else {\n        if (page_no == 0 || page_no == this.total_pages + 1) {\n        } else {\n          if (page_no == \"...s\") {\n            this.page_no = Math.ceil((1 + this.page_no) / 2);\n          } else if (page_no == \"...l\") {\n            this.page_no = Math.ceil((this.total_pages + this.page_no) / 2);\n          } else {\n            this.page_no = page_no;\n          }\n          // this.page_no = page_no;\n          this.spinnerOn = true;\n          axios\n            .post(\n              api_calls.general_chat_history(),\n              {\n                companyname: this.companyname,\n                companyid: this.companyid,\n                email: this.$session.get(\"UserInformation\").email,\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                token: this.$session.get(\"UserInformation\").tokens,\n                isshow: true,\n                is_portal_user: true,\n                action: this.selected,\n                filter_chat_history: this.$session.get(\"filter_chat_history\"),\n                pageno: this.page_no,\n                perpage: this.per_page,\n                issearch: this.issearch,\n                is_portal_user: true,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.spinnerOn = false;\n              this.user_action_stats = [];\n              for (let i = 0; i < response.data.chatHistory.length; i++) {\n                if (\n                  this.fingerprintregex.test(\n                    response.data.chatHistory[i]._id.User\n                  )\n                ) {\n                  this.user_action_stats.push({\n                    useremail: response.data.chatHistory[i].Email,\n                    userphonenumber: response.data.chatHistory[i].PhoneNumber,\n                    username: response.data.chatHistory[i].UserName,\n                    userid: response.data.chatHistory[i]._id.User,\n                    date: response.data.chatHistory[i].Date,\n                  });\n                } else {\n                  this.user_action_stats.push({\n                    useremail: response.data.chatHistory[i]._id.User,\n                    userphonenumber: response.data.chatHistory[i].PhoneNumber,\n                    username: response.data.chatHistory[i].UserName,\n                    userid: response.data.chatHistory[i]._id.User,\n                    date: response.data.chatHistory[i].Date,\n                  });\n                }\n                // this.user_action_stats.push({\n                //     useremail : response.data.chatHistory[i]._id.User,\n                //     userphonenumber : response.data.chatHistory[i].PhoneNumber,\n                //     username : response.data.chatHistory[i].UserName,\n                // });\n              }\n              this.total_pages = response.data.PageCount;\n              this.setpagination(this.page_no);\n            })\n            .catch((e) => {\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }\n    },\n    pagination_class(index) {\n      if (index == this.page_no) {\n        return \" active\";\n      } else {\n        return \"\";\n      }\n    },\n    setpagination(page_no) {\n      this.page_array = [];\n      if (this.total_pages <= 7) {\n        for (let i = 0; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no == 1) {\n        for (let i = 0; i < 4; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no == this.total_pages) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = this.total_pages - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else if (page_no <= 4) {\n        for (let i = 0; i < page_no + 3; i++) {\n          this.page_array.push(i + 1);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      } else if (page_no >= this.total_pages - 4) {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 4; i < this.total_pages; i++) {\n          this.page_array.push(i + 1);\n        }\n      } else {\n        this.page_array.push(1);\n        this.page_array.push(\"...s\");\n        for (let i = page_no - 3; i <= page_no + 3; i++) {\n          this.page_array.push(i);\n        }\n        this.page_array.push(\"...l\");\n        this.page_array.push(this.total_pages);\n      }\n    },\n    // view_action() {\n    //   var action_name = event.target.value;\n    //   this.selected = action_name;\n    //   this.searchstring = \"\";\n    //   if (action_name != \"general_chat_history\") {\n    //     this.spinnerOn = true;\n    //     axios\n    //       .post(\n    //         api_calls.action_usage_stats_url(),\n    //         {\n    //           companyname: this.companyname,\n    //           companyid: this.companyid,\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           action: action_name,\n    //           page_no: 1,\n    //           per_page: this.per_page,\n    //         },\n    //         {\n    //           headers: {\n    //             Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //           },\n    //         }\n    //       )\n    //       .then((response) => {\n    //         this.spinnerOn = false;\n    //         this.number_of_rows = response.data.number_of_rows;\n    //         this.total_pages = Math.ceil(this.number_of_rows / this.per_page);\n    //         this.user_action_stats = [];\n    //         for (var i in response.data.users) {\n    //           if (response.data.users[i].action_hits != 0) {\n    //             let action_history = [];\n    //             for (var j in response.data.users[i].action_hits) {\n    //               action_history.push(response.data.users[i].action_hits[j]);\n    //             }\n    //             this.user_action_stats.push({\n    //               username: response.data.users[i].username,\n    //               action_list: action_history,\n    //               sender_id: response.data.users[i].sender_id,\n    //             });\n    //           }\n    //         }\n    //       })\n    //       .catch((e) => {\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   } else {\n    //     this.spinnerOn = true;\n    //     axios\n    //       .post(\n    //         api_calls.general_chat_history(),\n    //         {\n    //           companyname: this.companyname,\n    //           companyid: this.companyid,\n    //           email: this.$session.get(\"UserInformation\").email,\n    //           license_key: this.$session.get(\"UserInformation\").license_key,\n    //           token: this.$session.get(\"UserInformation\").tokens,\n    //           isshow: true,\n    //           action: action_name,\n    //           pageno: this.page_no,\n    //           perpage: this.per_page,\n    //           issearch: this.issearch,\n    //         },\n    //         {\n    //           headers: {\n    //             Authorization: `Bearer ${this.$session.get(\"at\")}`,\n    //           },\n    //         }\n    //       )\n    //       .then((response) => {\n    //         this.spinnerOn = false;\n    //         this.user_action_stats = [];\n    //         for (let i = 0; i < response.data.chatHistory.length; i++) {\n    //           this.user_action_stats.push({\n    //             useremail: response.data.chatHistory[i]._id.User,\n    //             userphonenumber: response.data.chatHistory[i].PhoneNumber,\n    //             username: response.data.chatHistory[i].UserName,\n    //           });\n    //         }\n    //       })\n    //       .catch((e) => {\n    //         if (\n    //           e.response.status === 410 ||\n    //           e.response.status === 440 ||\n    //           e.response.status === 409\n    //         ) {\n    //           this.$root.$emit(\"Session_Expired\", e.response.data);\n    //         }\n    //       });\n    //   }\n    // },\n    scroll_div() {\n      var doc = document.querySelector(\".buy-products\");\n      if (event.deltaX > event.deltaY) {\n        doc.scrollLeft += 10;\n      } else if (event.deltaX < event.deltaY) {\n        doc.scrollLeft -= 10;\n      }\n    },\n    scroll_card_div() {\n      var doc = document.querySelector(\".main-card-container\");\n      if (event.deltaX > event.deltaY) {\n        doc.scrollLeft += 10;\n      } else if (event.deltaX < event.deltaY) {\n        doc.scrollLeft -= 10;\n      }\n    },\n    checkintent(index) {\n      if (this.chatDetails[index - 1] != undefined) {\n        if (this.chatDetails[index - 1].BOTResponse[0] != undefined) {\n          if (this.chatDetails[index - 1].BOTResponse[0].intent != undefined) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    chat_date(index) {\n      this.chatDetails = [];\n      this.sender_id = this.user_action_stats[index].userid;\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.general_chat_history(),\n          {\n            companyname: this.companyname,\n            companyid: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            username: this.sender_id,\n            isshowdates: true,\n            issearch: this.issearch,\n            is_portal_user: true,\n            searchstring: this.searchstring,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.spinnerOn = false;\n          this.chat_dates = response.data.Dates;\n          this.selected_date =\n            response.data.Dates[response.data.Dates.length - 1];\n          this.chat_dates.reverse();\n          // console.log(this.selected_index);\n          this.selected_index = index;\n          this.chat_conversation(index);\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    chat_conversation(index, chat_index) {\n      // console.log(index, chat_index);\n      if (this.selected != \"general_chat_history\") {\n        this.sender_id = this.user_action_stats[index].userid;\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.conversation_stats_url(),\n            {\n              companyname: this.companyname,\n              companyid: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              sender_id: this.user_action_stats[index].sender_id,\n              action_timestamp: this.user_action_stats[index].action_list[\n                chat_index\n              ].timestamp,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            this.user_reply = [];\n            this.bot_reply = [];\n            if (response.data != null) {\n              this.current_user = response.data.user_conversations.username;\n              for (var i in response.data.user_conversations.interactions) {\n                if (\n                  response.data.user_conversations.interactions[i].user !=\n                  undefined\n                ) {\n                  this.user_reply.push(\n                    response.data.user_conversations.interactions[i].user\n                  );\n                } else if (\n                  response.data.user_conversations.interactions[i].bot !=\n                  undefined\n                ) {\n                  this.bot_reply.push(\n                    response.data.user_conversations.interactions[i].bot\n                  );\n                }\n              }\n              $(\"#conversation_model1 :input\").prop(\"disabled\", true);\n            } else {\n              toastr.error(this.tlt('portal_user_no_chats_msg'));\n              $(\"#conversation_model1\").modal(\"hide\");\n            }\n            $(\"#conversation_model1 :input\").prop(\"disabled\", true);\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        this.chatDetails = [];\n        this.spinnerOn = true;\n        axios\n          .post(\n            api_calls.general_chat_history(),\n            {\n              companyname: this.companyname,\n              companyid: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              username: this.sender_id,\n              isshowchatdetails: true,\n              date: this.selected_date,\n              issearch: this.issearch,\n              is_portal_user: true,\n              searchstring: this.searchstring,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            // console.log(this.selected_index, this.user_action_stats);\n            this.spinnerOn = false;\n            this.user_reply = [];\n            this.bot_reply = [];\n            if (response.data != null) {\n              this.current_user = this.user_action_stats[\n                this.selected_index\n              ].useremail;\n              this.chatDetails = response.data.chatDetails;\n              let offers_index = null ;\n                for (var i=0; i<this.chatDetails.length ; i++){\n                  for (let j =0 ; j<this.chatDetails[i].BOTResponse.length; j++){\n                    if(this.chatDetails[i].BOTResponse[j].shopify_fetch_customer_id == true && this.chatDetails[i].BOTResponse[j].text == null && \n                      this.chatDetails[i].UserQuery === \"Promotional offers\" ){\n                        offers_index = i;\n                    } \n                  }\n                  if (offers_index != null) {\n                  delete this.chatDetails[offers_index];\n                  }\n                  offers_index = null;   \n                }\n                const new_arr = this.chatDetails.filter((a) => a);\n                this.chatDetails= new_arr;\n            }\n            // setTimeout(() => {\n            //   $(\"#conversation_model1 :input\").prop(\"disabled\", true);\n            //   $(\"#conversation_model1 :button\").prop(\"disabled\", false);\n            // }, 500);\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }\n    },\n    product_variation(products_list){\n      for (var i in products_list){\n        products_list[i].order_qty = 1;\n        products_list[i].buy_qty = 1;\n        if (products_list[i].variations && products_list[i].variations.length > 0){\n          products_list[i].id = products_list[i].variations[0].id;\n          products_list[i].img_url = (products_list[i].variations[0].img_url === null) ? products_list[i].img_url : products_list[i].variations[0].img_url || \n          products_list[i].variations[0].image;\n          products_list[i].permalink = products_list[i].variations[0].permalink;\n          products_list[i].variant_title = products_list[i].variations[0].variant_title;\n          products_list[i].stock_quantity = products_list[i].variations[0].stock_quantity;\n          products_list[i].stock_status = products_list[i].variations[0].stock_status;\n          products_list[i].price = products_list[i].variations[0].price;\n          products_list[i].regular_price = products_list[i].variations[0].regular_price;\n        }\n      }\n      return products_list;\n    },\n    search_chat() {\n      if (this.searchstring != \"\") {\n        // this.spinnerOn = true;\n        this.page_no = 1;\n        (this.issearch = true), (this.spinnerOn = true);\n        axios\n          .post(\n            api_calls.general_chat_history(),\n            {\n              companyname: this.companyname,\n              companyid: this.companyid,\n              email: this.$session.get(\"UserInformation\").email,\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.$session.get(\"UserInformation\").tokens,\n              isshow: true,\n              is_portal_user: true,\n              action: \"general_chat_history\",\n              pageno: this.page_no,\n              perpage: this.per_page,\n              issearch: this.issearch,\n              is_portal_user: true,\n              searchstring: this.searchstring,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.spinnerOn = false;\n            this.user_action_stats = [];\n            if (response.data.MSG != \"No Results Found\" &&\n              response.data.MSG != \"Internal Server Error\"\n              )\n             {\n              for (let i = 0; i < response.data.chatHistory.length; i++) {\n                this.user_action_stats.push({\n                  username: response.data.chatHistory[i],\n                });\n              }\n              this.total_pages = response.data.PageCount;\n              this.setpagination(this.page_no);\n            }\n            else if(response.data.MSG == \"No Results Found\"){\n              toastr.error(this.tlt('portal_user_no_result_found_msg'));\n\n            }else if(response.data.MSG == \"Internal Server Error\"){\n              toastr.error(this.tlt('portal_user_internal_server_msg1'));\n              this.load_portal_user_chat_history();\n            }\n            else {\n                toastr.error(this.tlt('portal_user_internal_server_msg2'));\n                this.load_portal_user_chat_history();\n              }\n\n          })\n          .catch((e) => {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        toastr.error(this.tlt('portal_user_data_for_search_msg'));\n      }\n    },\n    close_modal() {\n      $(\"#conversation_model1\").modal(\"hide\");\n    },\n    check_bot_offers(bot_reponse){\n      let result_bot = bot_reponse.filter((item) => {\n        return Boolean(item.offers) === true;\n      });\n      if(result_bot.length > 0){\n        return \"display :block\";\n      }\n      return \"display : flex\";\n    },\n    trim_card_description(text) {\n      if (text.length > 100) {\n        let string_text = text.substring(0, 80) + \"...\";\n        return string_text;\n      }\n      return text;\n    },\n  }\n};\n</script>\n\n<style scoped>\n.carousel-card-img{\n  height:160px; \n  width:200px;\n  background-size: cover !important;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.image-box-card{\n  width: 200px;\n  height: 160px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n.carousel-btn{\n    width: 95%!important;\n    font-size: 14px!important;\n    text-align: center!important;\n    background: #e4e6eb!important;\n    border: 1px solid #e4e6eb!important;\n    padding: 6px 15px!important;\n    font-weight: 550!important;\n    line-height: 1.9vh!important;\n    display: inline-block!important;\n    border-radius: 5px!important;\n    margin-bottom: 0.5rem !important;\n    /* cursor: pointer!important; */\n}\n.main-card-container{\n  display: flex; \n  overflow: auto hidden; \n  float:left;\n  width:100%; \n  margin-bottom: 5px;\n}\n.card-container{\n  box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;\n  background-color: #f0f2f5!important;\n  margin-right: 0.5rem; \n  border-radius: 10px; \n  width: 200px; \n  margin-bottom: 10px;\n}\n.table td,\n.table th {\n  vertical-align: middle;\n}\n.view-pass {\n  position: initial;\n  right: 15px;\n  top: 15px;\n}\nimg {\n  max-width: 100%;\n  max-height: 100%;\n  /* height: 140px;\n  width: 140px; */\n}\n.image-container {\n  /* background: #fff;\n  border: #fff 1px solid;\n  border-radius: 5px 5px 5px 5px; */\n  margin: 5px;\n  /* height: 230px;\n  width: -webkit-fill-available; */\n}\n.image-container {\n  font-size: 15px;\n  text-align: center;\n}\n.search-bar {\n  height: 32px;\n}\n.darkblue-btn {\n  height: 32px;\n  margin-left: 10px;\n}\n</style>\n\n"],"sourceRoot":"src/portal/Chatbot/Dashboard/End User Response"}]}