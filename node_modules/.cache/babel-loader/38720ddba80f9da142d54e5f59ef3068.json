{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvaG9tZS92aW1hbGVzaC9DRU5TRS9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZWxlbWVudElkOiBTdHJpbmcsCiAgICBleGlzdGluZ1RhZ3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICB0eXBlYWhlYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0eXBlYWhlYWRTdHlsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdiYWRnZXMnCiAgICB9LAogICAgdHlwZWFoZWFkQWN0aXZhdGlvblRocmVzaG9sZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICB0eXBlYWhlYWRNYXhSZXN1bHRzOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHR5cGVhaGVhZEFsd2F5c1Nob3c6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0eXBlYWhlYWRTaG93T25Gb2N1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgdHlwZWFoZWFkSGlkZURpc2NhcmQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB0eXBlYWhlYWRVcmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ0FkZCBhIHRhZycKICAgIH0sCiAgICBkaXNjYXJkU2VhcmNoVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdEaXNjYXJkIFNlYXJjaCBSZXN1bHRzJwogICAgfSwKICAgIGxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGhpZGVJbnB1dE9uTGltaXQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBvbmx5RXhpc3RpbmdUYWdzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGVsZXRlT25CYWNrc3BhY2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGFsbG93RHVwbGljYXRlczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHZhbGlkYXRlOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGFkZFRhZ3NPbkNvbW1hOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgYWRkVGFnc09uU3BhY2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBhZGRUYWdzT25CbHVyOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgd3JhcHBlckNsYXNzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3RhZ3MtaW5wdXQtd3JhcHBlci1kZWZhdWx0JwogICAgfSwKICAgIHNvcnRTZWFyY2hSZXN1bHRzOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBjYXNlU2Vuc2l0aXZlVGFnczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGJlZm9yZUFkZGluZ1RhZzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVSZW1vdmluZ1RhZzogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYWRnZUlkOiAwLAogICAgICB0YWdzOiBbXSwKICAgICAgaW5wdXQ6ICcnLAogICAgICBvbGRJbnB1dDogJycsCiAgICAgIGhpZGRlbklucHV0OiAnJywKICAgICAgc2VhcmNoUmVzdWx0czogW10sCiAgICAgIHNlYXJjaFNlbGVjdGlvbjogMCwKICAgICAgc2VsZWN0ZWRUYWc6IC0xLAogICAgICBpc0FjdGl2ZTogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy50YWdzRnJvbVZhbHVlKCk7CgogICAgaWYgKHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdykgewogICAgICB0aGlzLnNlYXJjaFRhZyhmYWxzZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBFbWl0IGFuIGV2ZW50CiAgICB0aGlzLiRlbWl0KCdpbml0aWFsaXplZCcpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLiRyZWZzWyd0YWdpbnB1dCddKSB7CiAgICAgICAgX3RoaXMuY2xlYXJTZWFyY2hSZXN1bHRzKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGhpZGVJbnB1dEZpZWxkOiBmdW5jdGlvbiBoaWRlSW5wdXRGaWVsZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaGlkZUlucHV0T25MaW1pdCAmJiB0aGlzLmxpbWl0ID4gMCAmJiB0aGlzLnRhZ3MubGVuZ3RoID49IHRoaXMubGltaXQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuc2VhcmNoVGFnKGZhbHNlKTsKCiAgICAgIGlmIChuZXdWYWwubGVuZ3RoICYmIG5ld1ZhbCAhPSBvbGRWYWwpIHsKICAgICAgICB2YXIgZGlmZiA9IG5ld1ZhbC5zdWJzdHJpbmcob2xkVmFsLmxlbmd0aCwgbmV3VmFsLmxlbmd0aCk7CgogICAgICAgIGlmICh0aGlzLmFkZFRhZ3NPblNwYWNlKSB7CiAgICAgICAgICBpZiAobmV3VmFsLmVuZHNXaXRoKCcgJykpIHsKICAgICAgICAgICAgLy8gVGhlIHNwYWNlIHNob3VsZG4ndCBhY3R1YWxseSBiZSBpbnNlcnRlZAogICAgICAgICAgICB0aGlzLmlucHV0ID0gbmV3VmFsLnRyaW0oKTsgLy8gQWRkIHRoZSBpbnB1dGVkIHRhZwoKICAgICAgICAgICAgdGhpcy50YWdGcm9tSW5wdXQodHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5hZGRUYWdzT25Db21tYSkgewogICAgICAgICAgbmV3VmFsID0gbmV3VmFsLnRyaW0oKTsKCiAgICAgICAgICBpZiAobmV3VmFsLmVuZHNXaXRoKCcsJykpIHsKICAgICAgICAgICAgLy8gVGhlIGNvbW1hIHNob3VsZG4ndCBhY3R1YWxseSBiZSBpbnNlcnRlZAogICAgICAgICAgICB0aGlzLmlucHV0ID0gbmV3VmFsLnN1YnN0cmluZygwLCBuZXdWYWwubGVuZ3RoIC0gMSk7IC8vIEFkZCB0aGUgaW5wdXRlZCB0YWcKCiAgICAgICAgICAgIHRoaXMudGFnRnJvbUlucHV0KHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgbmV3VmFsKTsKICAgICAgfQogICAgfSwKICAgIHRhZ3M6IGZ1bmN0aW9uIHRhZ3MoKSB7CiAgICAgIC8vIFVwZGF0aW5nIHRoZSBoaWRkZW4gaW5wdXQKICAgICAgdGhpcy5oaWRkZW5JbnB1dCA9IEpTT04uc3RyaW5naWZ5KHRoaXMudGFncyk7IC8vIFVwZGF0ZSB0aGUgYm91bmQgdi1tb2RlbCB2YWx1ZQoKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnRhZ3MpOwogICAgfSwKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsKICAgICAgdGhpcy50YWdzRnJvbVZhbHVlKCk7CiAgICB9LAogICAgdHlwZWFoZWFkQWx3YXlzU2hvdzogZnVuY3Rpb24gdHlwZWFoZWFkQWx3YXlzU2hvdyhuZXdWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLnNlYXJjaFRhZyhmYWxzZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbGVhclNlYXJjaFJlc3VsdHMoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBSZW1vdmUgcmVzZXJ2ZWQgcmVnZXggY2hhcmFjdGVycyBmcm9tIGEgc3RyaW5nIHNvIHRoYXQgdGhleSBkb24ndAogICAgICogYWZmZWN0IHNlYXJjaCByZXN1bHRzCiAgICAgKiAKICAgICAqIEBwYXJhbSBzdHJpbmcKICAgICAqIEByZXR1cm5zIFN0cmluZwogICAgICovCiAgICBlc2NhcGVSZWdFeHA6IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHsKICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLiorP14ke30oKXxbXF1cXF0vZywgJ1xcJCYnKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBBZGQgYSB0YWcgd2hldGhlciBmcm9tIHVzZXIgaW5wdXQgb3IgZnJvbSBzZWFyY2ggcmVzdWx0cyAodHlwZWFoZWFkKQogICAgICogCiAgICAgKiBAcGFyYW0gaWdub3JlU2VhcmNoUmVzdWx0cwogICAgICogQHJldHVybnMgdm9pZAogICAgICovCiAgICB0YWdGcm9tSW5wdXQ6IGZ1bmN0aW9uIHRhZ0Zyb21JbnB1dCgpIHsKICAgICAgdmFyIGlnbm9yZVNlYXJjaFJlc3VsdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwoKICAgICAgLy8gSWYgd2UncmUgY2hvb3NpbmcgYSB0YWcgZnJvbSB0aGUgc2VhcmNoIHJlc3VsdHMKICAgICAgaWYgKHRoaXMuc2VhcmNoUmVzdWx0cy5sZW5ndGggJiYgdGhpcy5zZWFyY2hTZWxlY3Rpb24gPj0gMCAmJiAhaWdub3JlU2VhcmNoUmVzdWx0cykgewogICAgICAgIHRoaXMudGFnRnJvbVNlYXJjaCh0aGlzLnNlYXJjaFJlc3VsdHNbdGhpcy5zZWFyY2hTZWxlY3Rpb25dKTsKICAgICAgICB0aGlzLmlucHV0ID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gSWYgd2UncmUgYWRkaW5nIGFuIHVuZXhpc3RpbmcgdGFnCiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmlucHV0LnRyaW0oKTsgLy8gSWYgdGhlIG5ldyB0YWcgaXMgbm90IGFuIGVtcHR5IHN0cmluZyBhbmQgcGFzc2VzIHZhbGlkYXRpb24KCiAgICAgICAgaWYgKCF0aGlzLm9ubHlFeGlzdGluZ1RhZ3MgJiYgdGV4dC5sZW5ndGggJiYgdGhpcy52YWxpZGF0ZSh0ZXh0KSkgewogICAgICAgICAgdGhpcy5pbnB1dCA9ICcnOyAvLyBEZXRlcm1pbmUgaWYgdGhlIGlucHV0dGVkIHRhZyBleGlzdHMgaW4gdGhlIGV4aXN0aW5nVGFncwogICAgICAgICAgLy8gYXJyYXkKCiAgICAgICAgICB2YXIgbmV3VGFnID0gewogICAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgICB2YWx1ZTogdGV4dAogICAgICAgICAgfTsKICAgICAgICAgIHZhciBzZWFyY2hRdWVyeSA9IHRoaXMuZXNjYXBlUmVnRXhwKHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MgPyBuZXdUYWcudmFsdWUgOiBuZXdUYWcudmFsdWUudG9Mb3dlckNhc2UoKSk7CgogICAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZXhpc3RpbmdUYWdzKSwKICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciB0YWcgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICB2YXIgY29tcGFyZWFibGUgPSB0aGlzLmNhc2VTZW5zaXRpdmVUYWdzID8gdGFnLnZhbHVlIDogdGFnLnZhbHVlLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgICAgIGlmIChzZWFyY2hRdWVyeSA9PT0gY29tcGFyZWFibGUpIHsKICAgICAgICAgICAgICAgIG5ld1RhZyA9IE9iamVjdC5hc3NpZ24oe30sIHRhZyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmFkZFRhZyhuZXdUYWcpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIEFkZCBhIHRhZyBmcm9tIHNlYXJjaCByZXN1bHRzIHdoZW4gYSB1c2VyIGNsaWNrcyBvbiBpdAogICAgICogCiAgICAgKiBAcGFyYW0gdGFnCiAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgKi8KICAgIHRhZ0Zyb21TZWFyY2hPbkNsaWNrOiBmdW5jdGlvbiB0YWdGcm9tU2VhcmNoT25DbGljayh0YWcpIHsKICAgICAgdGhpcy50YWdGcm9tU2VhcmNoKHRhZyk7CiAgICAgIHRoaXMuJHJlZnNbJ3RhZ2lucHV0J10uYmx1cigpOwogICAgfSwKCiAgICAvKioKICAgICAqIEFkZCB0aGUgc2VsZWN0ZWQgdGFnIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzLgogICAgICogQ2xlYXIgc2VhcmNoIHJlc3VsdHMuCiAgICAgKiBDbGVhciB1c2VyIGlucHV0LgogICAgICogCiAgICAgKiBAcGFyYW0gdGFnCiAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAqLwogICAgdGFnRnJvbVNlYXJjaDogZnVuY3Rpb24gdGFnRnJvbVNlYXJjaCh0YWcpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNsZWFyU2VhcmNoUmVzdWx0cygpOwogICAgICB0aGlzLmFkZFRhZyh0YWcpOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmlucHV0ID0gJyc7CiAgICAgICAgX3RoaXMyLm9sZElucHV0ID0gJyc7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIEFkZC9TZWxlY3QgYSB0YWcKICAgICAqIAogICAgICogQHBhcmFtIHRhZwogICAgICogQHJldHVybnMgdm9pZCB8IEJvb2xlYW4KICAgICAqLwogICAgYWRkVGFnOiBmdW5jdGlvbiBhZGRUYWcodGFnKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmJlZm9yZUFkZGluZ1RhZyh0YWcpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIENoZWNrIGlmIHRoZSBsaW1pdCBoYXMgYmVlbiByZWFjaGVkCgoKICAgICAgaWYgKHRoaXMubGltaXQgPiAwICYmIHRoaXMudGFncy5sZW5ndGggPj0gdGhpcy5saW1pdCkgewogICAgICAgIHRoaXMuJGVtaXQoJ2xpbWl0LXJlYWNoZWQnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8gQXR0YWNoIHRoZSB0YWcgaWYgaXQgaGFzbid0IGJlZW4gYXR0YWNoZWQgeWV0CgoKICAgICAgaWYgKCF0aGlzLnRhZ1NlbGVjdGVkKHRhZykpIHsKICAgICAgICB0aGlzLnRhZ3MucHVzaCh0YWcpOyAvLyBFbWl0IGV2ZW50cwoKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczMuJGVtaXQoJ3RhZy1hZGRlZCcsIHRhZyk7CgogICAgICAgICAgX3RoaXMzLiRlbWl0KCd0YWdzLXVwZGF0ZWQnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIFJlbW92ZSB0aGUgbGFzdCB0YWcgaW4gdGhlIHRhZ3MgYXJyYXkuCiAgICAgKiAKICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAqLwogICAgcmVtb3ZlTGFzdFRhZzogZnVuY3Rpb24gcmVtb3ZlTGFzdFRhZygpIHsKICAgICAgaWYgKCF0aGlzLmlucHV0Lmxlbmd0aCAmJiB0aGlzLmRlbGV0ZU9uQmFja3NwYWNlICYmIHRoaXMudGFncy5sZW5ndGgpIHsKICAgICAgICB0aGlzLnJlbW92ZVRhZyh0aGlzLnRhZ3MubGVuZ3RoIC0gMSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBSZW1vdmUgdGhlIHNlbGVjdGVkIHRhZyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LgogICAgICogCiAgICAgKiBAcGFyYW0gaW5kZXgKICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAqLwogICAgcmVtb3ZlVGFnOiBmdW5jdGlvbiByZW1vdmVUYWcoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgdGFnID0gdGhpcy50YWdzW2luZGV4XTsKCiAgICAgIGlmICghdGhpcy5iZWZvcmVSZW1vdmluZ1RhZyh0YWcpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLnRhZ3Muc3BsaWNlKGluZGV4LCAxKTsgLy8gRW1pdCBldmVudHMKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJGVtaXQoJ3RhZy1yZW1vdmVkJywgdGFnKTsKCiAgICAgICAgX3RoaXM0LiRlbWl0KCd0YWdzLXVwZGF0ZWQnKTsKCiAgICAgICAgaWYgKF90aGlzNC50eXBlYWhlYWRBbHdheXNTaG93KSB7CiAgICAgICAgICBfdGhpczQuc2VhcmNoVGFnKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBTZWFyY2ggdGhlIGN1cnJlbnRseSBlbnRlcmVkIHRleHQgaW4gdGhlIGxpc3Qgb2YgZXhpc3RpbmcgdGFncwogICAgICogCiAgICAgKiBAcmV0dXJucyB2b2lkIHwgQm9vbGVhbgogICAgICovCiAgICBzZWFyY2hUYWc6IGZ1bmN0aW9uIHNlYXJjaFRhZygpIHsKICAgICAgaWYgKHRoaXMudHlwZWFoZWFkICE9PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5vbGRJbnB1dCAhPSB0aGlzLmlucHV0IHx8ICF0aGlzLnNlYXJjaFJlc3VsdHMubGVuZ3RoICYmIHRoaXMudHlwZWFoZWFkQWN0aXZhdGlvblRocmVzaG9sZCA9PSAwIHx8IHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdyB8fCB0aGlzLnR5cGVhaGVhZFNob3dPbkZvY3VzKSB7CiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gW107CiAgICAgICAgdGhpcy5zZWFyY2hTZWxlY3Rpb24gPSAwOwogICAgICAgIHZhciBpbnB1dCA9IHRoaXMuaW5wdXQudHJpbSgpOwoKICAgICAgICBpZiAoaW5wdXQubGVuZ3RoICYmIGlucHV0Lmxlbmd0aCA+PSB0aGlzLnR5cGVhaGVhZEFjdGl2YXRpb25UaHJlc2hvbGQgfHwgdGhpcy50eXBlYWhlYWRBY3RpdmF0aW9uVGhyZXNob2xkID09IDAgfHwgdGhpcy50eXBlYWhlYWRBbHdheXNTaG93KSB7CiAgICAgICAgICAvLyBGaW5kIGFsbCB0aGUgZXhpc3RpbmcgdGFncyB3aGljaCBpbmNsdWRlIHRoZSBzZWFyY2ggdGV4dAogICAgICAgICAgdmFyIHNlYXJjaFF1ZXJ5ID0gdGhpcy5lc2NhcGVSZWdFeHAodGhpcy5jYXNlU2Vuc2l0aXZlVGFncyA/IGlucHV0IDogaW5wdXQudG9Mb3dlckNhc2UoKSk7IC8vIEFKQVggc2VhcmNoCgogICAgICAgICAgaWYgKHRoaXMudHlwZWFoZWFkVXJsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy5leGlzdGluZ1RhZ3Muc3BsaWNlKCk7CiAgICAgICAgICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICAgICAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgdGhhdC5leGlzdGluZ1RhZ3MgPSBKU09OLnBhcnNlKHhodHRwLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICB0aGF0LmRvU2VhcmNoKHNlYXJjaFF1ZXJ5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICB2YXIgZW5kcG9pbnQgPSB0aGlzLnR5cGVhaGVhZFVybC5yZXBsYWNlKCc6c2VhcmNoJywgc2VhcmNoUXVlcnkpOwogICAgICAgICAgICB4aHR0cC5vcGVuKCdHRVQnLCBlbmRwb2ludCwgdHJ1ZSk7CiAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFNlYXJjaCB0aGUgZXhpc3RpbmcgY29sbGVjdGlvbgogICAgICAgICAgICB0aGlzLmRvU2VhcmNoKHNlYXJjaFF1ZXJ5KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMub2xkSW5wdXQgPSB0aGlzLmlucHV0OwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogUGVyZm9ybSB0aGUgYWN0dWFsIHNlYXJjaAogICAgICogCiAgICAgKiBAcGFyYW0gc3RyaW5nIHNlYXJjaFF1ZXJ5CiAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAqLwogICAgZG9TZWFyY2g6IGZ1bmN0aW9uIGRvU2VhcmNoKHNlYXJjaFF1ZXJ5KSB7CiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5leGlzdGluZ1RhZ3MpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHRhZyA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIHZhciBjb21wYXJlYWJsZSA9IHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MgPyB0YWcudmFsdWUgOiB0YWcudmFsdWUudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgICBpZiAoY29tcGFyZWFibGUuc2VhcmNoKHNlYXJjaFF1ZXJ5KSA+IC0xICYmICF0aGlzLnRhZ1NlbGVjdGVkKHRhZykpIHsKICAgICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnB1c2godGFnKTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIFNvcnQgdGhlIHNlYXJjaCByZXN1bHRzIGFscGhhYmV0aWNhbGx5CgogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc29ydFNlYXJjaFJlc3VsdHMpIHsKICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgaWYgKGEudmFsdWUgPCBiLnZhbHVlKSByZXR1cm4gLTE7CiAgICAgICAgICBpZiAoYS52YWx1ZSA+IGIudmFsdWUpIHJldHVybiAxOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSk7CiAgICAgIH0gLy8gU2hvcnRlbiBTZWFyY2ggcmVzdWx0cyB0byBkZXNpcmVkIGxlbmd0aAoKCiAgICAgIGlmICh0aGlzLnR5cGVhaGVhZE1heFJlc3VsdHMgPiAwKSB7CiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gdGhpcy5zZWFyY2hSZXN1bHRzLnNsaWNlKDAsIHRoaXMudHlwZWFoZWFkTWF4UmVzdWx0cyk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiBIaWRlIHRoZSB0eXBlYWhlYWQgaWYgdGhlcmUncyBub3RoaW5nIGludGVyZWQgaW50byB0aGUgaW5wdXQgZmllbGQuCiAgICAgKiAKICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAqLwogICAgaGlkZVR5cGVhaGVhZDogZnVuY3Rpb24gaGlkZVR5cGVhaGVhZCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaW5wdXQubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM1LmNsZWFyU2VhcmNoUmVzdWx0cygpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogU2VsZWN0IHRoZSBuZXh0IHNlYXJjaCByZXN1bHQgaW4gdHlwZWFoZWFkLgogICAgICogCiAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgKi8KICAgIG5leHRTZWFyY2hSZXN1bHQ6IGZ1bmN0aW9uIG5leHRTZWFyY2hSZXN1bHQoKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaFNlbGVjdGlvbiArIDEgPD0gdGhpcy5zZWFyY2hSZXN1bHRzLmxlbmd0aCAtIDEpIHsKICAgICAgICB0aGlzLnNlYXJjaFNlbGVjdGlvbisrOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogU2VsZWN0IHRoZSBwcmV2aW91cyBzZWFyY2ggcmVzdWx0IGluIHR5cGVhaGVhZC4KICAgICAqIAogICAgICogQHJldHVybnMgdm9pZAogICAgICovCiAgICBwcmV2U2VhcmNoUmVzdWx0OiBmdW5jdGlvbiBwcmV2U2VhcmNoUmVzdWx0KCkgewogICAgICBpZiAodGhpcy5zZWFyY2hTZWxlY3Rpb24gPiAwKSB7CiAgICAgICAgdGhpcy5zZWFyY2hTZWxlY3Rpb24tLTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIENsZWFyL0VtcHR5IHRoZSBzZWFyY2ggcmVzdWx0cy4KICAgICAqIAogICAgICogQHJldXRybnMgdm9pZAogICAgICovCiAgICBjbGVhclNlYXJjaFJlc3VsdHM6IGZ1bmN0aW9uIGNsZWFyU2VhcmNoUmVzdWx0cygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgcmV0dXJuRm9jdXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSBbXTsKICAgICAgdGhpcy5zZWFyY2hTZWxlY3Rpb24gPSAwOwoKICAgICAgaWYgKHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdykgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNi5zZWFyY2hUYWcoKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHJldHVybkZvY3VzKSB7CiAgICAgICAgdGhpcy4kcmVmc1sndGFnaW5wdXQnXS5mb2N1cygpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogQ2xlYXIgdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgdGFncy4KICAgICAqIAogICAgICogQHJldHVybnMgdm9pZAogICAgICovCiAgICBjbGVhclRhZ3M6IGZ1bmN0aW9uIGNsZWFyVGFncygpIHsKICAgICAgdGhpcy50YWdzLnNwbGljZSgwLCB0aGlzLnRhZ3MubGVuZ3RoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBSZXBsYWNlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGFncyB3aXRoIHRoZSB0YWdzIGZyb20gdGhlIHZhbHVlLgogICAgICogCiAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgKi8KICAgIHRhZ3NGcm9tVmFsdWU6IGZ1bmN0aW9uIHRhZ3NGcm9tVmFsdWUoKSB7CiAgICAgIGlmICh0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdWb2Vycm8gVGFncyBJbnB1dDogdGhlIHYtbW9kZWwgdmFsdWUgbXVzdCBiZSBhbiBhcnJheSEnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB0YWdzID0gdGhpcy52YWx1ZTsgLy8gRG9uJ3QgdXBkYXRlIGlmIG5vdGhpbmcgaGFzIGNoYW5nZWQKCiAgICAgICAgaWYgKHRoaXMudGFncyA9PSB0YWdzKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNsZWFyVGFncygpOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRhZ3MpLAogICAgICAgICAgICBfc3RlcDM7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgdGFnID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICB0aGlzLmFkZFRhZyh0YWcpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy50YWdzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNsZWFyVGFncygpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogQ2hlY2sgaWYgYSB0YWcgaXMgYWxyZWFkeSBzZWxlY3RlZC4KICAgICAqIAogICAgICogQHBhcmFtIHRhZwogICAgICogQHJldHVybnMgQm9vbGVhbgogICAgICovCiAgICB0YWdTZWxlY3RlZDogZnVuY3Rpb24gdGFnU2VsZWN0ZWQodGFnKSB7CiAgICAgIGlmICh0aGlzLmFsbG93RHVwbGljYXRlcykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKCF0YWcpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBzZWFyY2hRdWVyeSA9IHRoaXMuZXNjYXBlUmVnRXhwKHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MgPyB0YWcudmFsdWUgOiB0YWcudmFsdWUudG9Mb3dlckNhc2UoKSk7CgogICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudGFncyksCiAgICAgICAgICBfc3RlcDQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgc2VsZWN0ZWRUYWcgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgICB2YXIgY29tcGFyZWFibGUgPSB0aGlzLmNhc2VTZW5zaXRpdmVUYWdzID8gc2VsZWN0ZWRUYWcudmFsdWUgOiBzZWxlY3RlZFRhZy52YWx1ZS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgIGlmIChzZWxlY3RlZFRhZy5rZXkgPT09IHRhZy5rZXkgJiYgdGhpcy5lc2NhcGVSZWdFeHAoY29tcGFyZWFibGUpLmxlbmd0aCA9PSBzZWFyY2hRdWVyeS5sZW5ndGggJiYgY29tcGFyZWFibGUuc2VhcmNoKHNlYXJjaFF1ZXJ5KSA+IC0xKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBDbGVhciB0aGUgaW5wdXQuCiAgICAgKiAKICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAqLwogICAgY2xlYXJJbnB1dDogZnVuY3Rpb24gY2xlYXJJbnB1dCgpIHsKICAgICAgdGhpcy5pbnB1dCA9ICcnOwogICAgfSwKCiAgICAvKioKICAgICAqIFByb2Nlc3MgYWxsIHRoZSBrZXl1cCBldmVudHMuCiAgICAgKiAKICAgICAqIEBwYXJhbSBlCiAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgKi8KICAgIG9uS2V5VXA6IGZ1bmN0aW9uIG9uS2V5VXAoZSkgewogICAgICB0aGlzLiRlbWl0KCdrZXl1cCcsIGUpOwogICAgfSwKCiAgICAvKioKICAgICAqIFByb2Nlc3MgYWxsIHRoZSBrZXlkb3duIGV2ZW50cy4KICAgICAqIAogICAgICogQHBhcmFtIGUKICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAqLwogICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkgewogICAgICB0aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7CiAgICB9LAoKICAgIC8qKgogICAgICogUHJvY2VzcyB0aGUgb25mb2N1cyBldmVudC4KICAgICAqIAogICAgICogQHBhcmFtIGUKICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAqLwogICAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2ZvY3VzJywgZSk7CiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgfSwKCiAgICAvKioKICAgICAqIFByb2Nlc3MgdGhlIG9uQ2xpY2sgZXZlbnQuCiAgICAgKiAKICAgICAqIEBwYXJhbSBlCiAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgKi8KICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkgewogICAgICB0aGlzLiRlbWl0KCdjbGljaycsIGUpOwogICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTsKICAgICAgdGhpcy5zZWFyY2hUYWcoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBQcm9jZXNzIHRoZSBvbmJsdXIgZXZlbnQuCiAgICAgKiAKICAgICAqIEBwYXJhbSBlCiAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgKi8KICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHsKICAgICAgdGhpcy4kZW1pdCgnYmx1cicsIGUpOwoKICAgICAgaWYgKHRoaXMuYWRkVGFnc09uQmx1cikgewogICAgICAgIC8vIEFkZCB0aGUgaW5wdXRlZCB0YWcKICAgICAgICB0aGlzLnRhZ0Zyb21JbnB1dCh0cnVlKTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLnR5cGVhaGVhZEFsd2F5c1Nob3cpIHsKICAgICAgICB0aGlzLmhpZGVUeXBlYWhlYWQoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaFRhZygpOwogICAgICB9CgogICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},null]}