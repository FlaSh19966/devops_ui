{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/WhatsappNewpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/WhatsappNewpage.vue","mtime":1663910265482},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvaG9tZS92aW1hbGVzaC9DRU5TRS9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS92aW1hbGVzaC9DRU5TRS9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCB7IFNvY2tldCwgUHJlc2VuY2UgfSBmcm9tICJwaG9lbml4IjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgVnVlUGhvbmVOdW1iZXJJbnB1dCBmcm9tICJ2dWUtcGhvbmUtbnVtYmVyLWlucHV0IjsKaW1wb3J0IHN3YWwgZnJvbSAnc3dlZXRhbGVydDInOwppbXBvcnQgRW1vamlQaWNrZXIgZnJvbSAidnVlLWVtb2ppLXBpY2tlciI7CmltcG9ydCB7IGNsb3NlX21vZGFsIH0gZnJvbSAiQC9wb3J0YWwvbWl4aW5zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJXaGF0c0FwcENoYXROZXdwYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICBWdWVQaG9uZU51bWJlcklucHV0OiBWdWVQaG9uZU51bWJlcklucHV0LAogICAgRW1vamlQaWNrZXI6IEVtb2ppUGlja2VyCiAgfSwKICBtaXhpbnM6IFtjbG9zZV9tb2RhbF0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwoKICAgIHJldHVybiBfcmVmID0gewogICAgICBjdXJyZW50X3BhZ2Vfbm86IDEsCiAgICAgIGxhdGVzdF9wYWdlX25vOiAxLAogICAgICBzaG93X3NwaW5uZXI6IGZhbHNlLAogICAgICBoaXN0b3J5OiBbXSwKICAgICAgY29udGFjdF9saXN0OiBbXSwKICAgICAgb2xkQ3Vyc29yUG9zaXRpb246IG51bGwsCiAgICAgIGlucHV0OiAiIiwKICAgICAgc2VhcmNoOiAiIiwKICAgICAgc2Nyb2xsX3RvcF9jYWxsZWQ6IGZhbHNlLAogICAgICBzaG93RW1vamlQaWNrZXI6IGZhbHNlLAogICAgICBzZWFyY2hlZF9tZXNzYWdlOiBbXSwKICAgICAgcGhvbmVubzogbnVsbCwKICAgICAgY3VzdG9tZXJfbmFtZTogIiIsCiAgICAgIGNoYXRfZGV0YWlsczogW10sCiAgICAgIHNlYXJjaF92YWx1ZTogIiIsCiAgICAgIGlzX3NlYXJjaF9kaXZfb3BlbjogZmFsc2UsCiAgICAgIHNlYXJjaF9tZXNzYWdlX3ZhbHVlOiAiIiwKICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgc2Vzc2lvbl90b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgaW5pdGlhbF9tZXNzYWdlX2xvYWQ6IGZhbHNlLAogICAgICBpc19wcm9maWxlX3NldHVwOiBmYWxzZSwKICAgICAgbWVzc2FnZV9wYWdpbmF0aW9uOiB7CiAgICAgICAgaXNfc2Nyb2xsX3VwOiBmYWxzZSwKICAgICAgICBpc19zY3JvbGxfZG93bjogdHJ1ZSwKICAgICAgICBwZXJfcGFnZTogMTAsCiAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICB0b3RhbF9yZWNvcmRzOiAxMCwKICAgICAgICBwYWdlX3JlY29yZF9mZXRjaGVkOiBbXQogICAgICB9LAogICAgICBpc19wYWdpbmF0ZWRfY2FsbDogZmFsc2UsCiAgICAgIGRlZmF1bHRfd2hhdHNhcHBfc3RhdHVzOiAnSGV5IHRoZXJlISBJIGFtIHVzaW5nIHdoYXRzYXBwJywKICAgICAgZWRpdF9zdGF0dXM6IGZhbHNlLAogICAgICBzY3JvbGxfc3Bpbm5lcl9jaGF0OiBmYWxzZSwKICAgICAgc2hvd19zZW5kX21lc3NhZ2U6IGZhbHNlLAogICAgICBpc19tZXNzYWdlX3NlbmRpbmdfZW5hYmxlZDogZmFsc2UsCiAgICAgIGlzX3Nob3dfbWVzc2FnZV9kaXNhYmxlZDogdHJ1ZSwKICAgICAgd2hhdHNhcHBfcHJvZmlsZToge30sCiAgICAgIGVkaXRfZW1haWw6IGZhbHNlLAogICAgICBlZGl0X2FkZHJlc3M6IGZhbHNlLAogICAgICBlZGl0X2Rlc2NyaXB0aW9uOiBmYWxzZSwKICAgICAgZWRpdF93ZWJzaXRlOiBmYWxzZSwKICAgICAgdG9nZ2xlTW9kYWw6IGZhbHNlLAogICAgICB0b2dnbGVNb2RhbDI6IGZhbHNlLAogICAgICBzZWFyY2hlZF9tZXNzYWdlX3NlbGVjdGVkOiBudWxsLAogICAgICBlbWFpbF9hZGRyZXNzOiAnJywKICAgICAgYnVzaW5lc3NfYWRkcmVzczogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgd2Vic2l0ZV91cmw6ICcnLAogICAgICB3aGF0c2FwcF9waG9uZV9udW1iZXI6IG51bGwsCiAgICAgIGNoYW5uZWw6IG51bGwsCiAgICAgIGNoYXRfc29ja2V0OiBudWxsLAogICAgICBzdXBwb3J0X2NoYW5uZWw6IG51bGwsCiAgICAgIG1lc3NhZ2VfdG9fc2VuZDogbnVsbCwKICAgICAgd2hhdHNhcHBfc3RhdHVzOiAnJywKICAgICAgaW5kZXhfdXBkYXRlOiBudWxsLAogICAgICBzZWNvbmRfd2Vic2l0ZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkX2ZpbGVzOiAnJywKICAgICAgbW91c2VfaG92ZXJfdGV4dDogZmFsc2UsCiAgICAgIHZlcnRpY2FsX3R5cGVzOiBbJ0F1dG9tb3RpdmUnLCAnQmVhdXR5JywgJ1NwYSBhbmQgU2Fsb24nLCAnQ2xvdGhpbmcgYW5kIEFwcGFyZWwnLCAnRWR1Y2F0aW9uJywgJ0VudGVydGFpbm1lbnQnLCAnRXZlbnQgUGxhbm5pbmcgYW5kIFNlcnZpY2UnLCAnRmluYW5jZSBhbmQgQmFua2luZycsICdGb29kIGFuZCBHcm9jZXJ5JywgJ1B1YmxpYyBTZXJ2aWNlJywgJ0hvdGVsIGFuZCBMb2RnaW5nJywgJ01lZGljYWwgYW5kIEhlYWx0aCcsICdOb24tcHJvZml0JywgJ1Byb2Zlc3Npb25hbCBTZXJ2aWNlcycsICdTaG9wcGluZyBhbmQgUmV0YWlsJywgJ1RyYXZlbCBhbmQgVHJhbnNwb3J0YXRpb24nLCAnUmVzdGF1cmFudCcsICdPdGhlciddLAogICAgICBjdXJyZW50X2NvbnRhY3RfbnVtYmVyOiBudWxsCiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIndoYXRzYXBwX3Bob25lX251bWJlciIsIG51bGwpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgImlzX2NvbnRhY3RfbGlzdCIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJjdXJyZW50X2NvbnRhY3RfaW5kZXgiLCBudWxsKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJzZWFyY2hfaW5fY29udGFjdF9saXN0IiwgJycpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgImFsbF9jb250YWN0X2xpc3QiLCBbXSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAic3RhcnRfbmV3X2NvbnZfZGF0YSIsIHsKICAgICAgc3RhcnRfbmV3X2NvbnY6IGZhbHNlLAogICAgICBpc19tZXNzYWdlX3NlbmRpbmdfZW5hYmxlZDogdHJ1ZQogICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiYWxsX2NvbnRhY3RfcGFnaW5hdGlvbiIsIHsKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICBwYWdlX25vOiAxLAogICAgICB0b3RhbF9yZWNvcmRzOiAxMAogICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAic2VuZF9hdHRhY2htZW50X2RldGFpbCIsIHsKICAgICAgbWVkaWFfZmlsZV9uYW1lOiBudWxsLAogICAgICBtZWRpYV9maWxlOiBudWxsLAogICAgICBzaG93X3ByZXZpZXc6IGZhbHNlLAogICAgICBtZWRpYV9jb250ZW50X3R5cGU6IG51bGwsCiAgICAgIG1lZGlhX3R5cGU6IG51bGwsCiAgICAgIHNlbmRfbWVkaWE6IHRydWUsCiAgICAgIGRvY3VtZW50X2NvbnRlbnQ6IG51bGwsCiAgICAgIG1lZGlhX2NhcHRpb246IG51bGwKICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgImN1cnJlbnRfZnVsbHNjcmVlbl9pbWFnZV9zcmMiLCBudWxsKSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJhZGRfbmV3X2NvbnRhY3QiLCB7CiAgICAgIHBob25lX251bWJlcjogbnVsbCwKICAgICAgaXNfYWRkX2NvbnRhY3Q6IHRydWUsCiAgICAgIGNvbnRhY3RfbmFtZTogbnVsbCwKICAgICAgZm9ybWF0dGVkTnVtYmVyOiBudWxsCiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJhZGRfbmV3X2NvbnRhY3RfZm9ybWF0dGVkX3Bob25lX251bWJlciIsIG51bGwpLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgImZpbGVfZXh0ZW5zaW9ucyIsIHsKICAgICAgYWxsX2FsbG93ZWRfZmlsZV9leHRlbnNpb25zOiBbImltYWdlL3BuZyIsICJpbWFnZS9qcGVnIiwgImFwcGxpY2F0aW9uL3BkZiIsICJ0ZXh0L3BsYWluIiwgImFwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCIsICJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCIsICJhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCIsICJhcHBsaWNhdGlvbi9tc3dvcmQiLCAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQiLCAidGV4dC9jc3YiXSwKICAgICAgaW1hZ2VfZmlsZV9leHRlbnNpb25zOiBbImltYWdlL3BuZyIsICJpbWFnZS9qcGVnIl0sCiAgICAgIGRvY3VtZW50X2ZpbGVfZXh0ZW5zaW9uczogWyJhcHBsaWNhdGlvbi9wZGYiLCAidGV4dC9wbGFpbiIsICJhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwiLCAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQiLCAiYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQiLCAiYXBwbGljYXRpb24vbXN3b3JkIiwgImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50IiwgInRleHQvY3N2Il0KICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIndoYXRzYXBwX3RlbXBsYXRlcyIsIHsKICAgICAgdGVtcGxhdGVzX2xpc3Q6IFtdLAogICAgICBwYWdpbmF0aW9uX2RhdGE6IHsKICAgICAgICBwZXJfcGFnZTogMTAsCiAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICB0b3RhbF9yZWNvcmRzOiAxMAogICAgICB9LAogICAgICBzZWxlY3RlZF90ZW1wbGF0ZTogbnVsbCwKICAgICAgcHJldmlld190ZW1wbGF0ZV9kYXRhOiBudWxsCiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJjb250YWN0X2NzdiIsIHsKICAgICAgZmlsZV9sYWJlbDogJ0Nob29zZSBGaWxlJywKICAgICAgZmlsZV9jb250ZW50OiBudWxsLAogICAgICBmaWxlX3NlbGVjdGVkOiBmYWxzZQogICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAid2hhdHNhcHBfZm9ybWF0X2RpY3QiLCB7CiAgICAgICIqIjogWyc8c3Ryb25nPicsICc8L3N0cm9uZz4nXSwKICAgICAgIl8iOiBbJzxpPicsICc8L2k+J10sCiAgICAgICJ+IjogWyc8cz4nLCAnPC9zPiddLAogICAgICAiYGBgIjogWyc8dHQ+JywgJzwvdHQ+J10KICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIndoYXRzYXBwX2Zvcm1hdGluZ19saXN0IiwgWyIqIiwgIl8iLCAifiIsICJgYGAiXSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAic2hvd19wcm9maWxlX2RpdiIsIGZhbHNlKSwgX3JlZjsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyB0b3RhbF9wYWdlc19sb2FkZWQoKSB7CiAgICAvLyAgIGlmICgodGhpcy5tZXNzYWdlX3BhZ2luYXRpb24ucGFnZV9ubyAqIHRoaXMubWVzc2FnZV9wYWdpbmF0aW9uLnBlcl9wYWdlKSA+PSB0aGlzLm1lc3NhZ2VfcGFnaW5hdGlvbi50b3RhbF9yZWNvcmRzKSB7CiAgICAvLyAgICAgcmV0dXJuIHRydWU7CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIGZhbHNlOwogICAgLy8gfSwKICAgIG1lc3NhZ2VfdGV4dF9ib3hfcGxhY2Vob2xkZXI6IGZ1bmN0aW9uIG1lc3NhZ2VfdGV4dF9ib3hfcGxhY2Vob2xkZXIoKSB7CiAgICAgIHJldHVybiAiU2VuZCBhIG1lc3NhZ2UgdG8gdXNlciI7CiAgICB9LAogICAgcmV0dXJuVmFsdWVzOiBmdW5jdGlvbiByZXR1cm5WYWx1ZXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbGVnZW5kOiAnY2FuY2VsX2J0bicKICAgICAgfTsKICAgIH0sCiAgICB0b3RhbF9jb250YWN0X2xvYWRlZDogZnVuY3Rpb24gdG90YWxfY29udGFjdF9sb2FkZWQoKSB7CiAgICAgIGlmICh0aGlzLmFsbF9jb250YWN0X3BhZ2luYXRpb24ucGFnZV9ubyAqIHRoaXMuYWxsX2NvbnRhY3RfcGFnaW5hdGlvbi5wZXJfcGFnZSA+PSB0aGlzLmFsbF9jb250YWN0X3BhZ2luYXRpb24udG90YWxfcmVjb3JkcykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgdHJhbnNpdGlvbl9kYXRhOiBmdW5jdGlvbiB0cmFuc2l0aW9uX2RhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY291bnRyeVNlbGVjdG9yTGFiZWw6ICIiLmNvbmNhdCh0aGlzLnRsdCgnY291bnRyeV9jb2RlJykpLAogICAgICAgIHBob25lTnVtYmVyTGFiZWw6ICIiLmNvbmNhdCh0aGlzLnRsdCgncGhvbmVfbnVtYmVyJykpCiAgICAgIH07CiAgICB9CiAgfSwKICBiZWZvcmVSb3V0ZUxlYXZlOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUxlYXZlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAkKCcjcG9wb3ZlcicpLnBvcG92ZXIoJ2Rpc3Bvc2UnKTsKICAgICQoJyNwb3BvdmVyJykucG9wb3ZlcignaGlkZScpOwogICAgdGhpcy5pc19vcGVuID0gZmFsc2U7CiAgICBuZXh0KCk7CiAgfSwKICBiZWZvcmVSb3V0ZUVudGVyOiBmdW5jdGlvbiBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAkKCcjcG9wb3ZlcicpLnBvcG92ZXIoJ2Rpc3Bvc2UnKTsKICAgICQoJyNwb3BvdmVyJykucG9wb3ZlcignaGlkZScpOwogICAgbmV4dCgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXRfY29udGFjdF9saXN0KHRydWUpOwogICAgdGhpcy5nZXRfcHJvZmlsZV9kZXRhaWxzKCk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCh3aW5kb3cpLmJpbmQoJ21vdXNld2hlZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhKQogICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC53aGVlbERlbHRhID49IDApIHsKICAgICAgICB2bS5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX3VwID0gdHJ1ZTsKICAgICAgICB2bS5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX2Rvd24gPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX3VwID0gZmFsc2U7CiAgICAgICAgdm0ubWVzc2FnZV9wYWdpbmF0aW9uLmlzX3Njcm9sbF9kb3duID0gdHJ1ZTsKICAgICAgICB0aGlzLnNjcm9sbF90b3BfY2FsbGVkID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZtLmlzX3BhZ2luYXRlZF9jYWxsID0gZmFsc2U7CiAgICB9KTsgLy8gdmFyIGxhc3RTY3JvbGxUb3AgPSAwOwogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigKICAgIC8vICAgInNjcm9sbCIsCiAgICAvLyAgIGZ1bmN0aW9uIChldikgewogICAgLy8gICAgIGlmIChldi50YXJnZXQuaWQgPT09ICJzY3JvbGxpbmctZGl2LXdoYXRzYXBwIikgewogICAgLy8gICAgICAgY29uc29sZS5sb2coZXYpCiAgICAvLyAgICAgICB2YXIgc3QgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsgLy8gQ3JlZGl0czogImh0dHBzOi8vZ2l0aHViLmNvbS9xZXJlbXkvc28vYmxvYi9tYXN0ZXIvc28uZG9tLmpzI0w0MjYiCiAgICAvLyAgICAgICBpZiAoc3QgPiBsYXN0U2Nyb2xsVG9wKXsKICAgIC8vICAgICAgICAgdm0ubWVzc2FnZV9wYWdpbmF0aW9uLmlzX3Njcm9sbF91cCA9IGZhbHNlOwogICAgLy8gICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgY29uc29sZS5sb2coIlNjcm9sbGluZyBVcCIpCiAgICAvLyAgICAgICAgIHZtLm1lc3NhZ2VfcGFnaW5hdGlvbi5pc19zY3JvbGxfdXAgPSB0cnVlOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgbGFzdFNjcm9sbFRvcCA9IHN0IDw9IDAgPyAwIDogc3Q7CiAgICAvLyAgICAgICAvLyB2bS5zY3JvbGxQb3NpdGlvbiA9IGV2LnRhcmdldFsic2Nyb2xsVG9wIl07CiAgICAvLyAgICAgfQogICAgLy8gICB9LAogICAgLy8gICB0cnVlCiAgICAvLyApOwoKICAgICQoIiNzaG93SW1hZ2VNb2RhbCIpLm9uKCJoaWRkZW4uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICB2bS5jdXJyZW50X2Z1bGxzY3JlZW5faW1hZ2Vfc3JjID0gbnVsbDsKICAgIH0pOwogICAgJCgiI2ltcG9ydENvbnRhY3RDU1ZNb2RhbCIpLm9uKCJoaWRkZW4uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICB2bS5lbXB0eV91cGxvYWRfY3N2X2NvbnRhY3RzKCk7CiAgICB9KTsgLy8gYXhpb3MucG9zdChhcGlfY2FsbHMuaW5pdGlhbGl6ZV93aGF0c2FwcF90b3BpYygpLCAKICAgIC8vIHsKICAgIC8vICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgLy8gICB3aGF0c2FwcF9waG9uZV9udW1iZXI6ICIxMDAiLAogICAgLy8gICB0ZXN0OiBidG9hKCJ0ZXN0X3BhcmFtYXRlciIpCiAgICAvLyB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAvLyB0aGlzLmNoYXRfZ3JvdXBfbmFtZSA9IHJlc3BvbnNlLmRhdGEuY2hhdF9ncm91cF9uYW1lOwogICAgLy8gdGhpcy5saXZlX2NoYXRfdG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuOwogICAgLy8gdGhpcy5saXZlX2NoYXRfb24gPSB0cnVlOwogICAgLy8gdGhpcy5jaGF0X3NvY2tldCA9IG5ldyBTb2NrZXQoCiAgICAvLyAgIHByb2Nlc3MuZW52LlZVRV9BUFBfTElWRV9DSEFUX1dFQlNPQ0tFVF9FTkRQT0lOVCwKICAgIC8vICAgewogICAgLy8gICAgIHBhcmFtczogewogICAgLy8gICAgICAgd2hhdHNhcHA6ICJ0cnVlIiwKICAgIC8vICAgICAgIGVsaXhpcl90b2tlbiA6IHJlc3BvbnNlLmRhdGEuZWxpeGlyX3Rva2VuLAogICAgLy8gICAgICAgdG9rZW46IHRoaXMuc2Vzc2lvbl90b2tlbiwKICAgIC8vICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgIC8vICAgICB9LAogICAgLy8gICB9CiAgICAvLyApOwoKICAgIHRoaXMuY2hhdF9zb2NrZXQgPSBuZXcgU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfTElWRV9DSEFUX1dFQlNPQ0tFVF9FTkRQT0lOVCwgewogICAgICBwYXJhbXM6IHsKICAgICAgICB3aGF0c2FwcDogInRydWUiLAogICAgICAgIGp3dDogdGhpcy4kc2Vzc2lvbi5nZXQoImF0IiksCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUKICAgICAgfQogICAgfSk7CiAgICB0aGlzLmNoYXRfc29ja2V0LmNvbm5lY3QoKTsKICAgIHZhciBjb21wYW55X2lkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICB0aGlzLmNoYW5uZWwgPSB0aGlzLmNoYXRfc29ja2V0LmNoYW5uZWwoIndoYXRzYXBwOiIgKyBjb21wYW55X2lkKTsKICAgIHRoaXMuY2hhbm5lbC5qb2luKCk7CiAgICB0aGlzLmNoYW5uZWwub24oIm5ld193aGF0c2FwcF9tZXNzYWdlIiwgZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgaWYgKHJlcy5jb21wYW55X2lkID09PSBjb21wYW55X2lkKSB7CiAgICAgICAgLy8gaWYoIXJlcy5pc19ib3RfY29udmVyc2F0aW9uX3JlYWx0aW1lKXsKICAgICAgICAvLyBjb25zb2xlLmxvZygidXNlciBib3QgY29udmVyc2F0aW9uIikKICAgICAgICB2YXIgY29udGFjdF9pbmRleCA9IF90aGlzLmNvbnRhY3RfbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLndoYXRzYXBwX3Bob25lX251bWJlciA9PT0gcmVzLndoYXRzYXBwX3Bob25lX251bWJlcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHJlcy5CT1RSZXNwb25zZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vIGxldCBsYXRlc3RfbWVzc2FnZTsKICAgICAgICAgIC8vIGlmKHJlcy5pc19ib3RfY29udmVyc2F0aW9uX3JlYWx0aW1lKXsKICAgICAgICAgIC8vICAgbGV0IGlzX3RleHQgPSAgcmVzLkJPVFJlc3BvbnNlLmZpbmQoKGl0ZW0pID0+IGl0ZW0udGV4dCAhPSBudWxsKSwKICAgICAgICAgIC8vICAgaXNfcHJvZHVjdCA9IHJlcy5CT1RSZXNwb25zZS5maW5kKChpdGVtKSA9PiAoaXRlbS50ZXh0ID09IG51bGwgJiYgaXRlbS5wcm9kdWN0cykpOwogICAgICAgICAgLy8gICBpZihCb29sZWFuKGlzX3RleHQpKSB7CiAgICAgICAgICAvLyAgICAgbGF0ZXN0X21lc3NhZ2UgPSBpc190ZXh0LnRleHQ7CiAgICAgICAgICAvLyAgIH0gZWxzZSBpZihCb29sZWFuKGlzX3Byb2R1Y3QpKSB7CiAgICAgICAgICAvLyAgICAgbGF0ZXN0X21lc3NhZ2UgPSAiUHJvZHVjdCBib3QgcmVzcG9uc2UiCiAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgbGF0ZXN0X21lc3NhZ2UgPSBudWxsCiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAvLyAgIGxhdGVzdF9tZXNzYWdlID0gcmVzLndoYXRzYXBwX21lc3NhZ2U7CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMsICJlbHNlIiwgY29udGFjdF9pbmRleCkKICAgICAgICAgIGlmIChjb250YWN0X2luZGV4ICE9IC0xKSB7CiAgICAgICAgICAgIF90aGlzLmNvbnRhY3RfbGlzdFtjb250YWN0X2luZGV4XS5sYXN0X2JvdF9yZXNwb25zZS50ZXh0ID0gcmVzLndoYXRzYXBwX21lc3NhZ2U7CiAgICAgICAgICAgIF90aGlzLmNvbnRhY3RfbGlzdFtjb250YWN0X2luZGV4XS5pc19uZXdfbm90aWZpY2F0aW9uID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMuY29udGFjdF9saXN0W2NvbnRhY3RfaW5kZXhdLm5ld19tZXNzYWdlX2NvdW50ID0gMTsKICAgICAgICAgICAgX3RoaXMuY29udGFjdF9saXN0ID0gX3RoaXMuYXJyYXlfbW92ZShfdGhpcy5jb250YWN0X2xpc3QsIGNvbnRhY3RfaW5kZXgsIDApOyAvLyB0aGlzLmN1cnJlbnRfY29udGFjdF9pbmRleAogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpcy5jaGVja19jdXJyZW50X251bWJlcihyZXMpKSB7CiAgICAgICAgICAgIHZhciBjdXJyZW50X3RpbWVzdGFtcCA9IG5ldyBEYXRlKCksCiAgICAgICAgICAgICAgICBjdXJyZW50X2RhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgdmFyIGJvdF9yZXNwb25zZV9kYXRlID0gY3VycmVudF9kYXRlOwoKICAgICAgICAgICAgaWYgKF90aGlzLmhpc3RvcnkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYm90X3Jlc3BvbnNlX2RhdGUgPT0gYm90X3Jlc3BvbnNlX2RhdGU7CiAgICAgICAgICAgIH0pLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBib3RfcmVzcG9uc2VfZGF0ZSA9ICIiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy5oaXN0b3J5LnB1c2goewogICAgICAgICAgICAgICJCT1RSZXNwb25zZSI6IFtdLAogICAgICAgICAgICAgICJVc2VyUXVlcnkiOiByZXMud2hhdHNhcHBfbWVzc2FnZSwKICAgICAgICAgICAgICAiYm90X3Jlc3BvbnNlX2RhdGUiOiBib3RfcmVzcG9uc2VfZGF0ZSwKICAgICAgICAgICAgICAiYm90X3Jlc3BvbnNlX3RpbWUiOiBjdXJyZW50X3RpbWVzdGFtcCwKICAgICAgICAgICAgICAidXNlcl9xdWVyeV9kYXRlIjogY3VycmVudF9kYXRlLAogICAgICAgICAgICAgICJ1c2VyX3F1ZXJ5X3RpbWUiOiBjdXJyZW50X3RpbWVzdGFtcCwKICAgICAgICAgICAgICAiVXNlclF1ZXJ5X0RhdGVUaW1lIjogY3VycmVudF90aW1lc3RhbXAudG9JU09TdHJpbmcoKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGxhdGVzdF9tZXNzYWdlLAogICAgICAgICAgICAgIGlzX3RleHQgPSByZXMuQk9UUmVzcG9uc2UuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS50ZXh0ICE9IG51bGw7CiAgICAgICAgICB9KSwKICAgICAgICAgICAgICBpc19wcm9kdWN0ID0gcmVzLkJPVFJlc3BvbnNlLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0udGV4dCA9PSBudWxsICYmIGl0ZW0ucHJvZHVjdHM7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoQm9vbGVhbihpc190ZXh0KSkgewogICAgICAgICAgICBsYXRlc3RfbWVzc2FnZSA9IGlzX3RleHQudGV4dDsKICAgICAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihpc19wcm9kdWN0KSkgewogICAgICAgICAgICBsYXRlc3RfbWVzc2FnZSA9ICJQcm9kdWN0IGJvdCByZXNwb25zZSI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsYXRlc3RfbWVzc2FnZSA9IG51bGw7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNvbnRhY3RfaW5kZXggIT0gLTEpIHsKICAgICAgICAgICAgX3RoaXMuY29udGFjdF9saXN0W2NvbnRhY3RfaW5kZXhdLmxhc3RfYm90X3Jlc3BvbnNlLnRleHQgPSBsYXRlc3RfbWVzc2FnZTsKICAgICAgICAgICAgX3RoaXMuY29udGFjdF9saXN0W2NvbnRhY3RfaW5kZXhdLmlzX25ld19ub3RpZmljYXRpb24gPSB0cnVlOwogICAgICAgICAgICBfdGhpcy5jb250YWN0X2xpc3RbY29udGFjdF9pbmRleF0ubmV3X21lc3NhZ2VfY291bnQgPSAxOwogICAgICAgICAgICBfdGhpcy5jb250YWN0X2xpc3QgPSBfdGhpcy5hcnJheV9tb3ZlKF90aGlzLmNvbnRhY3RfbGlzdCwgY29udGFjdF9pbmRleCwgMCk7IC8vIHRoaXMuY3VycmVudF9jb250YWN0X2luZGV4CiAgICAgICAgICB9CgogICAgICAgICAgOwoKICAgICAgICAgIGlmIChfdGhpcy5jaGVja19jdXJyZW50X251bWJlcihyZXMpKSB7CiAgICAgICAgICAgIHZhciBfY3VycmVudF90aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLAogICAgICAgICAgICAgICAgX2N1cnJlbnRfZGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwoKICAgICAgICAgICAgdmFyIF9ib3RfcmVzcG9uc2VfZGF0ZSA9IF9jdXJyZW50X2RhdGU7CgogICAgICAgICAgICBpZiAoX3RoaXMuaGlzdG9yeS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbS5ib3RfcmVzcG9uc2VfZGF0ZSA9PSBfYm90X3Jlc3BvbnNlX2RhdGU7CiAgICAgICAgICAgIH0pLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBfYm90X3Jlc3BvbnNlX2RhdGUgPSAiIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmVzWyJib3RfcmVzcG9uc2VfZGF0ZSJdID0gX2JvdF9yZXNwb25zZV9kYXRlOwogICAgICAgICAgICByZXNbImJvdF9yZXNwb25zZV90aW1lIl0gPSBfY3VycmVudF90aW1lc3RhbXA7CiAgICAgICAgICAgIHJlc1sidXNlcl9xdWVyeV9kYXRlIl0gPSBfY3VycmVudF9kYXRlOwogICAgICAgICAgICByZXNbInVzZXJfcXVlcnlfdGltZSJdID0gX2N1cnJlbnRfdGltZXN0YW1wOwoKICAgICAgICAgICAgX3RoaXMuaGlzdG9yeS5wdXNoKHJlcyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5zY3JvbGxfZG93bigpOyAvLyB9IGVsc2UgewogICAgICAgIC8vICAgY29uc29sZS5sb2coInJlYWx0aW1lIGNvbnZlcnNhdGlvbiIpCiAgICAgICAgLy8gfQoKICAgICAgfQogICAgfSk7IC8vIH0pCiAgfSwKICB3YXRjaDogewogICAgc2VhcmNoX3ZhbHVlOiBmdW5jdGlvbiBzZWFyY2hfdmFsdWUobmV3VmFsdWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyhuZXdWYWx1ZSkKICAgICAgaWYgKG5ld1ZhbHVlICE9ICIiICYmIG5ld1ZhbHVlLmxlbmd0aCA+IDIpIHsKICAgICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfY2hhdCgpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgaXNfc2VhcmNoOiB0cnVlLAogICAgICAgICAgc2VhcmNoX3N0cmluZzogbmV3VmFsdWUsCiAgICAgICAgICBpc19nZXRfY29udGFjdHM6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChfdGhpczIuYXBpX3N0YXR1c19jb2RlLkNPTlRBQ1RTX05PVF9GT1VORC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFIHx8IF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuREFUQV9OT1RfRk9VTkQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczIuY29udGFjdF9saXN0ID0gW107CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczIuY29udGFjdF9saXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhLmNvbnRhY3RzOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczIuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldF9jb250YWN0X2xpc3QoZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgc2VhcmNoX21lc3NhZ2VfdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaF9tZXNzYWdlX3ZhbHVlKG5ld1ZhbHVlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKG5ld1ZhbHVlICE9ICIiKSB7CiAgICAgICAgdGhpcy5zaG93X3NwaW5uZXIgPSB0cnVlOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndoYXRzYXBwX2NoYXQoKSwgewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHdoYXRzYXBwX2NvbnRhY3RfbnVtYmVyOiB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXIsCiAgICAgICAgICBnZXRfYnlfd2hhdHNhcHBfcGhvbmVfbnVtYmVyOiB0cnVlLAogICAgICAgICAgaXNfc2VhcmNoOiB0cnVlLAogICAgICAgICAgc2VhcmNoX3N0cmluZzogbmV3VmFsdWUKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMy5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoX3RoaXMzLmFwaV9zdGF0dXNfY29kZS5OT19EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzMy5zZWFyY2hlZF9tZXNzYWdlID0gW107CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczMuc2VhcmNoZWRfbWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5zZWFyY2hfcmVzdWx0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczMuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzMy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaGVkX21lc3NhZ2UgPSBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIHRvZ2dsZU1vZGFsKG5ld1ZhbHVlKXsKICAgIC8vICAgaWYobmV3VmFsdWUpewogICAgLy8gICAgIGNvbnNvbGUubG9nKCJuZXcgdmFsdWUiICwgbmV3VmFsdWUpOwogICAgLy8gICAgIHRvZ2dsZURyb3Bkb3duKCk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyB0b2dnbGVNb2RhbDogewogICAgLy8gICAgaGFuZGxlcjogZnVuY3Rpb24odmFsLCBvbGRWYWwpIHsKICAgIC8vICAgICAgIGlmKHZhbCl7CiAgICAvLyAgICAgY29uc29sZS5sb2coIm5ldyB2YWx1ZSIgLCB2YWwgLCBvbGRWYWwpOwogICAgLy8gICAgIHRoaXMudG9nZ2xlRHJvcGRvd24oKTsKICAgIC8vICAgfS8vIGNhbGwgaXQgaW4gdGhlIGNvbnRleHQgb2YgeW91ciBjb21wb25lbnQgb2JqZWN0CiAgICAvLyAgICB9LAogICAgLy8gICAgZGVlcDogdHJ1ZQogICAgLy8gfSwKICAgIHNlYXJjaF9pbl9jb250YWN0X2xpc3Q6IGZ1bmN0aW9uIHNlYXJjaF9pbl9jb250YWN0X2xpc3QobmV3VmFsdWUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAobmV3VmFsdWUgIT0gIiIgJiYgbmV3VmFsdWUubGVuZ3RoID4gMikgewogICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9jaGF0KCksIHsKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICBpc19zZWFyY2g6IHRydWUsCiAgICAgICAgICBzZWFyY2hfc3RyaW5nOiBuZXdWYWx1ZSwKICAgICAgICAgIGlzX2dldF9hbGxfY29udGFjdHM6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNC5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzNC5hcGlfc3RhdHVzX2NvZGUuQ09OVEFDVFNfTk9UX0ZPVU5ELk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzNC5hbGxfY29udGFjdF9saXN0ID0gW107CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNC5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczQuYWxsX2NvbnRhY3RfbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jb250YWN0czsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM0LmFwaV9zdGF0dXNfY29kZS5EQVRBX05PVF9GT1VORC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzNC5hbGxfY29udGFjdF9saXN0ID0gW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzNC5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXM0LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZ2V0X2FsbF9jb250YWN0X2xpc3QoKTsKICAgICAgfQogICAgfSwKICAgICd3aGF0c2FwcF90ZW1wbGF0ZXMuc2VsZWN0ZWRfdGVtcGxhdGUnOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgICAgaWYgKEJvb2xlYW4obmV3VmFsKSkgewogICAgICAgICAgdmFyIGN1cnJlbnRfdGVtcGxhdGUgPSB0aGlzLndoYXRzYXBwX3RlbXBsYXRlcy50ZW1wbGF0ZXNfbGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnRlbXBsYXRlX2lkID09IG5ld1ZhbDsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHRlbXBsYXRlX2lkID0gbmV3VmFsOwogICAgICAgICAgdmFyIHZhcmlhYmxlX2RpY3QgPSBjdXJyZW50X3RlbXBsYXRlLnZhcmlhYmxlX2RpY3Q7CiAgICAgICAgICB2YXIgaXNfcGFyZW50X3RlbXBsYXRlID0gZmFsc2U7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF90ZW1wbGF0ZSgpLCB7CiAgICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgaXNfbm90aWZpY2F0aW9uOiBmYWxzZSwKICAgICAgICAgICAgaXNfcHJldmlldzogdHJ1ZSwKICAgICAgICAgICAgaXNfcGFyZW50X3RlbXBsYXRlOiBpc19wYXJlbnRfdGVtcGxhdGUsCiAgICAgICAgICAgIHRlbXBsYXRlX2lkOiB0ZW1wbGF0ZV9pZCwKICAgICAgICAgICAgdmFyaWFibGVfZGljdDogdmFyaWFibGVfZGljdAogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXM1LnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKF90aGlzNS5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIF90aGlzNS53aGF0c2FwcF90ZW1wbGF0ZXMucHJldmlld190ZW1wbGF0ZV9kYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNS5hcGlfc3RhdHVzX2NvZGUuV0hBVFNBUFBfVVNFUl9MSU1JVF9SRUFDSEVELk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfdGhpczUudGx0KCd0aWVyX3NwZWNpZmljX3VzZXJfbGltaXRfcmVhY2hlZCcpLAogICAgICAgICAgICAgICAgdGV4dDogX3RoaXM1LnRsdCgndGllcl9zcGVjaWZpY191c2VyX2xpbWl0X3JlYWNoZWRfbXNnJyksCiAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogNDAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNS5hcGlfc3RhdHVzX2NvZGUuTUVTU0FHRV9TRU5ESU5HX0xJTUlUX1JFQUNIRUQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgICAgdGV4dDogIk1lc3NhZ2UgU2VuZGluZyBMaW1pdCBSZWFjaGVkIiwKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBfdGhpczUudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9ub3dfbXNnJyksCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBfdGhpczUudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9sYXRlcl9tc2cnKSwKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2V0dGluZ3MnLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoaWdobGlnaHRfdGV4dDogZnVuY3Rpb24gaGlnaGxpZ2h0X3RleHQodXNlclF1ZXJ5KSB7CiAgICAgIHZhciBjbGFzc25hbWUgPSAiIjsKCiAgICAgIGlmICh1c2VyUXVlcnkgPT09IHRoaXMuc2VhcmNoZWRfbWVzc2FnZV9zZWxlY3RlZCkgewogICAgICAgIGNsYXNzbmFtZSA9ICJhZGQtaGlnaGxpZ2h0IjsKICAgICAgICByZXR1cm4gY2xhc3NuYW1lOwogICAgICB9CgogICAgICByZXR1cm4gY2xhc3NuYW1lOwogICAgfSwKICAgIHJlZnJlc2hQb3BvdmVyOiBmdW5jdGlvbiByZWZyZXNoUG9wb3ZlcigpIHsKICAgICAgaWYgKHRoaXMuaXNfb3BlbiA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuaXNfb3BlbiA9PT0gZmFsc2UpIHsKICAgICAgICAkKCcjcG9wb3ZlcicpLnBvcG92ZXIoJ2Rpc3Bvc2UnKTsgLy8gJCgnI3BvcG92ZXInKS5wb3BvdmVyKCdzaG93JykKCiAgICAgICAgJCgnI3BvcG92ZXInKS5wb3BvdmVyKHsKICAgICAgICAgIGh0bWw6IHRydWUsCiAgICAgICAgICB0aXRsZTogIiIuY29uY2F0KHRoaXMudGx0KCd3aGF0c2FwcF93ZWJ2aWV3X2xlZ2VuZCcpKSwKICAgICAgICAgIGNvbnRlbnQ6ICI8c3BhbiBzdHlsZT0nY29sb3I6IzI1YWYwMjtmb250LXNpemU6IGxhcmdlcjsnPiYjeDI1Q0Y7PC9zcGFuPiA8c3Bhbj4gIi5jb25jYXQodGhpcy50bHQoJ3doYXRzYXBwX3dlYnZpZXdfY29udGFjdF9vbl93aGF0c2FwcCcpLCAiIDwvc3Bhbj4gPGJyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9J2NvbG9yOiNmZjQ3NDc7Zm9udC1zaXplOiBsYXJnZXI7Jz4mI3gyNUNGOzwvc3Bhbj4gPHNwYW4+ICIpLmNvbmNhdCh0aGlzLnRsdCgnd2hhdHNhcHBfd2Vidmlld19jb250YWN0X25vdF9vbl93aGF0c2FwcCcpLCAiPC9zcGFuPiA8YnI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0nY29sb3I6I2ZmYzM0Nztmb250LXNpemU6IGxhcmdlcjsnPiYjeDI1Q0Y7PC9zcGFuPiA8c3Bhbj4gIikuY29uY2F0KHRoaXMudGx0KCd3aGF0c2FwcF93ZWJ2aWV3X2NvbnRhY3RfZG9udF9rbm93X29uX3doYXRzYXBwJyksICI8L3NwYW4+IikKICAgICAgICB9KTsKICAgICAgICAkKCcjcG9wb3ZlcicpLnBvcG92ZXIoJ3Nob3cnKTsKICAgICAgICB0aGlzLmlzX29wZW4gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgICQoJyNwb3BvdmVyJykucG9wb3ZlcignZGlzcG9zZScpOwogICAgICAgICQoJyNwb3BvdmVyJykucG9wb3ZlcignaGlkZScpOwogICAgICAgIHRoaXMuaXNfb3BlbiA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY2xvc2VNb2RlbDogZnVuY3Rpb24gY2xvc2VNb2RlbChlKSB7CiAgICAgIC8vY29uc29sZS5sb2coZS50YXJnZXQuY2xhc3NMaXN0ICwgIiBjYWxsaW5nIG1vZGFsIikKICAgICAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2xlZ2VuZF93aGF0c2FwcCcpKSB7CiAgICAgICAgJCgnI3BvcG92ZXInKS5wb3BvdmVyKCdkaXNwb3NlJyk7CiAgICAgICAgJCgnI3BvcG92ZXInKS5wb3BvdmVyKCdoaWRlJyk7CiAgICAgICAgdGhpcy5pc19vcGVuID0gZmFsc2U7CiAgICAgIH0gLy8gaWYoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd25NZW51QnV0dG9uT25lJykpewogICAgICAvLyB9CgoKICAgICAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImJ0biIpICYmICFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImJpLXRocmVlLWRvdHMtdmVydGljYWwiKSAmJiAhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJjdXN0b21lci1uYW1lIikgJiYgIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiYnRuIikpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMudG9nZ2xlTW9kYWwyLCJiZWZvcmUgY2xvc2luZyBtb2RhbCIpCiAgICAgICAgdmFyIGRyb3Bkb3duUGFyZW50MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93blBhcmVudDInKTsKICAgICAgICB2YXIgZHJvcGRvd25NZW51MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnUyJyk7CiAgICAgICAgdmFyIGRyb3Bkb3duTWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnVCdXR0b24yJyk7CiAgICAgICAgdmFyIGRyb3Bkb3duUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duUGFyZW50Jyk7CiAgICAgICAgdmFyIGRyb3Bkb3duTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnUnKTsKICAgICAgICB2YXIgZHJvcGRvd25NZW51QnV0dG9uT25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duTWVudUJ1dHRvbk9uZScpOwoKICAgICAgICBpZiAoZHJvcGRvd25QYXJlbnQyICYmIGRyb3Bkb3duTWVudTIgJiYgZHJvcGRvd25NZW51QnV0dG9uICYmIHRoaXMudG9nZ2xlTW9kYWwyKSB7CiAgICAgICAgICBkcm9wZG93blBhcmVudDIuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgZHJvcGRvd25NZW51Mi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgICBkcm9wZG93bk1lbnVCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTsKICAgICAgICAgIGRyb3Bkb3duTWVudTIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7IHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoNTVweCwgNThweCwgMHB4KTsnKTsKICAgICAgICAgIHRoaXMudG9nZ2xlTW9kYWwyID0gZmFsc2U7IC8vY29uc29sZS5sb2codGhpcy50b2dnbGVNb2RhbDIgLCAiYWZ0ZXIgY2xvc2luZyBtb2RhbCAtLS0tLS0tLSIpCiAgICAgICAgfQoKICAgICAgICBpZiAoZHJvcGRvd25NZW51ICYmIGRyb3Bkb3duUGFyZW50ICYmIGRyb3Bkb3duTWVudUJ1dHRvbk9uZSAmJiB0aGlzLnRvZ2dsZU1vZGFsKSB7CiAgICAgICAgICAvL2NvbnNvbGUubG9nKCItLS0iICwgImluc2lkZSBkcm9wZG93biIpCiAgICAgICAgICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgZHJvcGRvd25QYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgZHJvcGRvd25NZW51QnV0dG9uT25lLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1leHBhbmRlZCcsICd0cnVlJyk7CiAgICAgICAgICBkcm9wZG93bk1lbnUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7IHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoNTVweCwgNThweCwgMHB4KTsnKTsKICAgICAgICAgIHRoaXMudG9nZ2xlTW9kYWwgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBvcGVuU2VhcmNoRGl2OiBmdW5jdGlvbiBvcGVuU2VhcmNoRGl2KCkgewogICAgICB0aGlzLmlzX3NlYXJjaF9kaXZfb3BlbiA9IHRydWU7CiAgICAgIHZhciBjaGF0X2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X2RpdicpOwogICAgICBjaGF0X2Rpdi5jbGFzc0xpc3QucmVtb3ZlKCdjb2wtc20tOCcpOwogICAgICBjaGF0X2Rpdi5jbGFzc0xpc3QuYWRkKCdjb2wtc20tNCcpOwogICAgICB2YXIgc2VhcmNoX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hfZGl2Jyk7CiAgICAgIHNlYXJjaF9kaXYuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgdmFyIGJvdF9tc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjbXNnLWRpdiIpOwogICAgICBib3RfbXNnLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoInJlc3BvbnNpdmUtd2lkdGgiKTsKICAgICAgfSk7CiAgICAgIHZhciBwcmV2aWV3X2J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNwcmV2aWV3LWJ0biIpOwogICAgICBwcmV2aWV3X2J0bi5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCJjb2wtc20tMTEiKTsKICAgICAgfSk7CiAgICAgIHZhciBib3RfY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5ib3QtcmVzcCIpOwogICAgICBib3RfY2FyZC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCJjb2wtNyIpOwogICAgICB9KTsKICAgICAgdmFyIGVtb2ppX2ZpbGVzaGFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbW9qaV9maWxlc2hhcmUnKTsKCiAgICAgIGlmIChlbW9qaV9maWxlc2hhcmUpIHsKICAgICAgICBlbW9qaV9maWxlc2hhcmUuc3R5bGUud2lkdGggPSAiMTklIjsKICAgICAgfQogICAgfSwKICAgIGNsb3NlU2VhcmNoRGl2OiBmdW5jdGlvbiBjbG9zZVNlYXJjaERpdigpIHsKICAgICAgdGhpcy5pc19zZWFyY2hfZGl2X29wZW4gPSBmYWxzZTsKICAgICAgdmFyIGNoYXRfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfZGl2Jyk7CiAgICAgIGNoYXRfZGl2LmNsYXNzTGlzdC5hZGQoJ2NvbC1zbS04Jyk7CiAgICAgIGNoYXRfZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbC1zbS00Jyk7CiAgICAgIHZhciBzZWFyY2hfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaF9kaXYnKTsKICAgICAgc2VhcmNoX2Rpdi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB0aGlzLnNlYXJjaGVkX21lc3NhZ2UgPSBbXTsKICAgICAgdGhpcy5zZWFyY2hfbWVzc2FnZV92YWx1ZSA9ICIiOwogICAgICB0aGlzLnNlYXJjaGVkX21lc3NhZ2Vfc2VsZWN0ZWQgPSBudWxsOwogICAgICB2YXIgYm90X21zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNtc2ctZGl2Iik7CiAgICAgIGJvdF9tc2cuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgicmVzcG9uc2l2ZS13aWR0aCIpOwogICAgICB9KTsKICAgICAgdmFyIHByZXZpZXdfYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI3ByZXZpZXctYnRuIik7CiAgICAgIHByZXZpZXdfYnRuLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoImNvbC1zbS0xMSIpOwogICAgICB9KTsKICAgICAgdmFyIGJvdF9jYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmJvdC1yZXNwIik7CiAgICAgIGJvdF9jYXJkLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygiLS0tcnVuLS0tIikKICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoImNvbC03Iik7CiAgICAgIH0pOwogICAgICB2YXIgZW1vamlfZmlsZXNoYXJlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vtb2ppX2ZpbGVzaGFyZScpOwoKICAgICAgaWYgKGVtb2ppX2ZpbGVzaGFyZSkgewogICAgICAgIGVtb2ppX2ZpbGVzaGFyZS5zdHlsZS53aWR0aCA9ICI4JSI7CiAgICAgIH0KICAgIH0sCiAgICBlbXB0eV92YXJpYWJsZTogZnVuY3Rpb24gZW1wdHlfdmFyaWFibGUoKSB7CiAgICAgIHRoaXMuaGlzdG9yeSA9IFtdLCB0aGlzLnBob25lbm8gPSBudWxsOwogICAgICB0aGlzLmN1c3RvbWVyX25hbWUgPSAiIjsKICAgICAgdGhpcy5jaGF0X2RldGFpbHMgPSBbXTsKICAgICAgdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24ucGVyX3BhZ2UgPSAxMDsKICAgICAgdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24ucGFnZV9ubyA9IDE7CiAgICAgIHRoaXMubWVzc2FnZV9wYWdpbmF0aW9uLnRvdGFsX3JlY29yZHMgPSAxMDsKICAgICAgdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24ucGFnZV9yZWNvcmRfZmV0Y2hlZCA9IFtdOwogICAgICB0aGlzLm1lc3NhZ2VfdG9fc2VuZCA9IG51bGw7CiAgICAgIHRoaXMuY3VycmVudF9jb250YWN0X2luZGV4ID0gbnVsbDsKICAgICAgdGhpcy5hbGxfY29udGFjdF9wYWdpbmF0aW9uLnBlcl9wYWdlID0gMTA7CiAgICAgIHRoaXMuYWxsX2NvbnRhY3RfcGFnaW5hdGlvbi5wYWdlX25vID0gMTsKICAgICAgdGhpcy5hbGxfY29udGFjdF9wYWdpbmF0aW9uLnRvdGFsX3JlY29yZHMgPSAxMDsKICAgICAgdGhpcy5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsID0gewogICAgICAgIG1lZGlhX2ZpbGVfbmFtZTogbnVsbCwKICAgICAgICBtZWRpYV9maWxlOiBudWxsLAogICAgICAgIHNob3dfcHJldmlldzogZmFsc2UsCiAgICAgICAgbWVkaWFfY29udGVudF90eXBlOiBudWxsLAogICAgICAgIG1lZGlhX3R5cGU6IG51bGwsCiAgICAgICAgc2VuZF9tZWRpYTogdHJ1ZSwKICAgICAgICBkb2N1bWVudF9jb250ZW50OiBudWxsLAogICAgICAgIG1lZGlhX2NhcHRpb246IG51bGwKICAgICAgfTsKICAgIH0sCiAgICByZXNldF9jdXJzb3JfcG9zaXRpb246IGZ1bmN0aW9uIHJlc2V0X2N1cnNvcl9wb3NpdGlvbigpIHsKICAgICAgdGhpcy5vbGRDdXJzb3JQb3NpdGlvbiA9IG51bGw7CiAgICB9LAogICAgdG9nZ2xlRW1vamlQaWNrZXI6IGZ1bmN0aW9uIHRvZ2dsZUVtb2ppUGlja2VyKCkgewogICAgICB0aGlzLnNob3dFbW9qaVBpY2tlciA9ICF0aGlzLnNob3dFbW9qaVBpY2tlcjsKICAgIH0sCiAgICBhcHBlbmRfb25fY2hhdDogZnVuY3Rpb24gYXBwZW5kX29uX2NoYXQoZW1vamksIGlkKSB7CiAgICAgIHZhciB0ZXh0YXJlYSA9IHRoaXMuJHJlZnMudGV4dGFyZWE7CiAgICAgIHZhciBjaGF0X3ZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3doYXRzYXBwX3RleHRfaW5wdXRfYm94JykudmFsdWU7CiAgICAgIHZhciBjdXJzb3JQb3MgPSB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQ7IC8vIHZhciBjdXJzb3JQb3NpdGlvbiA9IHRleHRhcmVhLnNlbGVjdGlvbkVuZAogICAgICAvLyBsZXQgdiA9ICQoIiMiICsgaWQpLnZhbCgpOwoKICAgICAgaWYgKHRoaXMub2xkQ3Vyc29yUG9zaXRpb24pIHsKICAgICAgICB2YXIgdGV4dEJlZm9yZSA9IGNoYXRfdmFsdWUuc3Vic3RyaW5nKDAsIHRoaXMub2xkQ3Vyc29yUG9zaXRpb24pOwogICAgICAgIHZhciB0ZXh0QWZ0ZXIgPSBjaGF0X3ZhbHVlLnN1YnN0cmluZyh0aGlzLm9sZEN1cnNvclBvc2l0aW9uLCBjaGF0X3ZhbHVlLmxlbmd0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHRleHRCZWZvcmUgPSBjaGF0X3ZhbHVlLnN1YnN0cmluZygwLCBjdXJzb3JQb3MpOwogICAgICAgIHZhciB0ZXh0QWZ0ZXIgPSBjaGF0X3ZhbHVlLnN1YnN0cmluZyhjdXJzb3JQb3MsIGNoYXRfdmFsdWUubGVuZ3RoKTsKICAgICAgfQoKICAgICAgdGhpcy5tZXNzYWdlX3RvX3NlbmQgPSB0ZXh0QmVmb3JlICsgZW1vamkgKyB0ZXh0QWZ0ZXI7CiAgICAgICF0aGlzLm9sZEN1cnNvclBvc2l0aW9uID8gdGhpcy5vbGRDdXJzb3JQb3NpdGlvbiA9IGN1cnNvclBvcyArIDIgOiB0aGlzLm9sZEN1cnNvclBvc2l0aW9uID0gdGhpcy5vbGRDdXJzb3JQb3NpdGlvbiArIDI7CiAgICB9LAogICAgZ2V0X2hpc3RvcnlfZGF0YTogZnVuY3Rpb24gZ2V0X2hpc3RvcnlfZGF0YSh3aGF0c2FwcF9ubywgdXNlcl9uYW1lLCBjb250YWN0X2luZGV4LCBjb250YWN0KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2coInJ1bm5uIikKICAgICAgdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7CiAgICAgIHRoaXMuY3VzdG9tZXJfbmFtZSA9IHRoaXMuZ2V0X2NvbnRhY3RfZGlzcGxheV9uYW1lKGNvbnRhY3QpOyAvLyB0aGlzLmN1c3RvbWVyX25hbWUgPSB1c2VyX25hbWU7CgogICAgICB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXIgPSB3aGF0c2FwcF9ubzsKICAgICAgdGhpcy5zaG93X3NlbmRfbWVzc2FnZSA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbnRfY29udGFjdF9pbmRleCA9IGNvbnRhY3RfaW5kZXg7CiAgICAgIHRoaXMuY29udGFjdF9saXN0W2NvbnRhY3RfaW5kZXhdLmlzX25ld19ub3RpZmljYXRpb24gPSBmYWxzZTsKICAgICAgdGhpcy5zdGFydF9uZXdfY29udl9kYXRhLnN0YXJ0X25ld19jb252ID0gZmFsc2U7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndoYXRzYXBwX2NoYXQoKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGdldF9ieV93aGF0c2FwcF9waG9uZV9udW1iZXI6IHRydWUsCiAgICAgICAgd2hhdHNhcHBfY29udGFjdF9udW1iZXI6IHdoYXRzYXBwX25vLAogICAgICAgIHBlcl9wYWdlOiB0aGlzLm1lc3NhZ2VfcGFnaW5hdGlvbi5wZXJfcGFnZSwKICAgICAgICBwYWdlX25vOiAxCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYuc2hvd19zZW5kX21lc3NhZ2UgPSB0cnVlOwogICAgICAgIF90aGlzNi5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgaWYgKF90aGlzNi5hcGlfc3RhdHVzX2NvZGUuREFUQV9OT1RfRk9VTkQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXM2LnN0YXJ0X25ld19jb252X2RhdGEuc3RhcnRfbmV3X2NvbnYgPSB0cnVlOwogICAgICAgICAgX3RoaXM2Lm5ld19jb252X2NvbnRhY3RfZGF0YSA9IGNvbnRhY3Q7CiAgICAgICAgICBfdGhpczYucGhvbmVubyA9IHdoYXRzYXBwX25vOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXM2LmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczYuaGlzdG9yeSA9IF90aGlzNi5mb3JtYXRfaGlzdG9yeV9yZXNwb25zZShyZXNwb25zZS5kYXRhLmRhdGEuY2hhdF9oaXN0b3J5KTsKICAgICAgICAgIF90aGlzNi5waG9uZW5vID0gcmVzcG9uc2UuZGF0YS5kYXRhLndoYXRzYXBwX3Bob25lX251bWJlciB8fCB3aGF0c2FwcF9ubzsgLy8gY29uc29sZS5sb2codGhpcy5waG9uZW5vLCB0aGlzLmNvbnRhY3RfbGlzdCk7CgogICAgICAgICAgdmFyIGNvbnRhY3RfbGlzdF9pbmRleCA9IF90aGlzNi5jb250YWN0X2xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLndoYXRzYXBwX3Bob25lX251bWJlciA9PSBfdGhpczYucGhvbmVubzsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChjb250YWN0X2xpc3RfaW5kZXggPj0gMSkgewogICAgICAgICAgICAvLyB0aGlzLmNvbnRhY3RfbGlzdCA9IHRoaXMuYXJyYXlfbW92ZSh0aGlzLmNvbnRhY3RfbGlzdCwgY29udGFjdF9saXN0X2luZGV4LCAwKTsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRfY29udGFjdF9pbmRleCA9IGNvbnRhY3RfbGlzdF9pbmRleDsKICAgICAgICAgICAgX3RoaXM2LmN1cnJlbnRfY29udGFjdF9udW1iZXIgPSBfdGhpczYucGhvbmVubzsgLy8gdGhpcy5jb250YWN0X2xpc3RbY29udGFjdF9saXN0X2luZGV4XS5pc19tZXNzYWdlX3NlbmRpbmdfZW5hYmxlZCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNi5jdXJyZW50X3BhZ2Vfbm8gPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZTsKICAgICAgICAgIF90aGlzNi5sYXRlc3RfcGFnZV9ubyA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi5wYWdlOwogICAgICAgICAgX3RoaXM2Lm1lc3NhZ2VfcGFnaW5hdGlvbi50b3RhbF9yZWNvcmRzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlID09PSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZSkgewogICAgICAgICAgICBfdGhpczYudG90YWxfcGFnZXNfbG9hZGVkID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJlbHNlIikKICAgICAgICAgICAgX3RoaXM2LnRvdGFsX3BhZ2VzX2xvYWRlZCA9IGZhbHNlOwogICAgICAgICAgfSAvLyAgY29uc29sZS5sb2codGhpcy50b3RhbF9wYWdlc19sb2FkZWQpCgoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczYuc2Nyb2xsX2Rvd24oKTsKCiAgICAgICAgICAgIF90aGlzNi5pbml0aWFsX21lc3NhZ2VfbG9hZCA9IHRydWU7CiAgICAgICAgICAgIF90aGlzNi5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX3VwID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczYuY2hhdFNjcm9sbE1lc3NhZ2VzKHRydWUpOwoKICAgICAgICAgICAgX3RoaXM2LnNjcm9sbF90b3BfY2FsbGVkID0gZmFsc2U7CiAgICAgICAgICB9LCA0MDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczYuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZSk7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM2LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8gZ2V0X3NlYXJjaGVkX2NoYXRfaW50ZXJtZWRpYXRlX2Z1bmN0aW9uKHRpbWUpewogICAgLy8gICBjb25zb2xlLmxvZyh0aW1lICwgdGhpcy5jdXJyZW50X2NvbnRhY3RfbnVtYmVyKQogICAgLy8gICB0aGlzLmdldF9zZWFyY2hlZF9jaGF0X2RhdGEoIHRoaXMuY3VycmVudF9jb250YWN0X251bWJlciAsdGltZSkKICAgIC8vIH0sCiAgICAvLyBoaWdobGlnaHRfdGV4dCgpewogICAgLy8gICAgICAgIHRoaXMuc2VhcmNoZWRfbWVzc2FnZV9zZWxlY3RlZCA9IHRoaXMuc2VhcmNoZWRfbWVzc2FnZVtpbmRleF0uc2VhcmNoX3RleHQKICAgIC8vICAgICAgICAgICBsZXQgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiN0ZXh0IikKICAgIC8vICAgICAgICAgICB0ZXh0LmZvckVhY2goZWxlbT0+ewogICAgLy8gICAgICAgICAgICAgaWYoZWxlbS50ZXh0Q29udGVudC50cmltKCkgPT09IHNlYXJjaGVkX21lc3NhZ2Vfc2VsZWN0ZWQudHJpbSgpKXsKICAgIC8vICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdhZGRfaGlnaGxpZ2h0JykKICAgIC8vICAgICAgICAgICAgICAgY29uc29sZS5sb2coImdvdGNoYSBpbnNpZGUgaWYiICwgZWxlbS5jbGFzc0xpc3QgLCBzZWFyY2hlZF9tZXNzYWdlX3NlbGVjdGVkKQogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgIH0pOwogICAgLy8gfSwKICAgIGdldF9zZWFyY2hlZF9jaGF0X2RhdGE6IGZ1bmN0aW9uIGdldF9zZWFyY2hlZF9jaGF0X2RhdGEod2hhdHNhcHBfbm8sIHRpbWUsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2coImluZGV4IixpbmRleCkKICAgICAgLy8gdGhpcy5lbXB0eV92YXJpYWJsZSgpOwogICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IGZhbHNlOyAvLyB0aGlzLmN1c3RvbWVyX25hbWUgPSB0aGlzLmdldF9jb250YWN0X2Rpc3BsYXlfbmFtZShjb250YWN0KTsKICAgICAgLy8gLy8gdGhpcy5jdXN0b21lcl9uYW1lID0gdXNlcl9uYW1lOwogICAgICAvLyB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXIgPSB3aGF0c2FwcF9ubzsKCiAgICAgIHRoaXMuc2hvd19zZW5kX21lc3NhZ2UgPSBmYWxzZTsgLy8gdGhpcy5jdXJyZW50X2NvbnRhY3RfaW5kZXggPSBjb250YWN0X2luZGV4OwogICAgICAvLyB0aGlzLmNvbnRhY3RfbGlzdFtjb250YWN0X2luZGV4XS5pc19uZXdfbm90aWZpY2F0aW9uID0gZmFsc2U7CiAgICAgIC8vIHRoaXMuc3RhcnRfbmV3X2NvbnZfZGF0YS5zdGFydF9uZXdfY29udiA9IGZhbHNlOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfY2hhdCgpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgZ2V0X2J5X3doYXRzYXBwX3Bob25lX251bWJlcjogdHJ1ZSwKICAgICAgICB3aGF0c2FwcF9jb250YWN0X251bWJlcjogd2hhdHNhcHBfbm8sCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMubWVzc2FnZV9wYWdpbmF0aW9uLnBlcl9wYWdlLAogICAgICAgIGlzX2dldF9zZWFyY2g6IHRydWUsCiAgICAgICAgbWVzc2FnZV9kYXRldGltZTogdGltZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coInJhbm5uIik7CiAgICAgICAgX3RoaXM3LnNob3dfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgIF90aGlzNy5zaG93X3NlbmRfbWVzc2FnZSA9IHRydWU7CgogICAgICAgIGlmIChfdGhpczcuYXBpX3N0YXR1c19jb2RlLkRBVEFfTk9UX0ZPVU5ELk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIHJldHVybjsgLy8gICB0aGlzLnN0YXJ0X25ld19jb252X2RhdGEuc3RhcnRfbmV3X2NvbnYgPSB0cnVlOwogICAgICAgICAgLy8gICB0aGlzLm5ld19jb252X2NvbnRhY3RfZGF0YSA9IGNvbnRhY3Q7CiAgICAgICAgICAvLyB0aGlzLnBob25lbm8gPSB3aGF0c2FwcF9ubzsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzNy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5oaXN0b3J5ICwgImJlZm9yZSIpCiAgICAgICAgICAvLyB0aGlzLmhpc3RvcnkgPSAiIjsKICAgICAgICAgIC8vIGRlYnVnZ2VyOwogICAgICAgICAgX3RoaXM3Lmhpc3RvcnkgPSBfdGhpczcuZm9ybWF0X2hpc3RvcnlfcmVzcG9uc2UocmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRfaGlzdG9yeSk7CiAgICAgICAgICBfdGhpczcuY3VycmVudF9wYWdlX25vID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnBhZ2U7CiAgICAgICAgICBfdGhpczcubGF0ZXN0X3BhZ2Vfbm8gPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZTsgLy8gY29uc29sZS5sb2codGhpcy5jdXJyZW50X3BhZ2Vfbm8gLCAiY3VycmVudCBzZXQiKQoKICAgICAgICAgIF90aGlzNy5tZXNzYWdlX3BhZ2luYXRpb24ucGFnZV9yZWNvcmRfZmV0Y2hlZCA9IFtyZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZV07IC8vIHRoaXMucGhvbmVubyA9IHJlc3BvbnNlLmRhdGEuZGF0YS53aGF0c2FwcF9waG9uZV9udW1iZXIgfHwgd2hhdHNhcHBfbm87CiAgICAgICAgICAvLyAvLyBjb25zb2xlLmxvZyh0aGlzLnBob25lbm8sIHRoaXMuY29udGFjdF9saXN0KTsKICAgICAgICAgIC8vIGxldCBjb250YWN0X2xpc3RfaW5kZXggPSB0aGlzLmNvbnRhY3RfbGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLndoYXRzYXBwX3Bob25lX251bWJlciA9PSB0aGlzLnBob25lbm8pOwogICAgICAgICAgLy8gaWYoY29udGFjdF9saXN0X2luZGV4ID49IDEpewogICAgICAgICAgLy8gICAvLyB0aGlzLmNvbnRhY3RfbGlzdCA9IHRoaXMuYXJyYXlfbW92ZSh0aGlzLmNvbnRhY3RfbGlzdCwgY29udGFjdF9saXN0X2luZGV4LCAwKTsKICAgICAgICAgIC8vICAgdGhpcy5jdXJyZW50X2NvbnRhY3RfaW5kZXggPWNvbnRhY3RfbGlzdF9pbmRleDsKICAgICAgICAgIC8vICAgdGhpcy5jdXJyZW50X2NvbnRhY3RfbnVtYmVyID0gdGhpcy5waG9uZW5vOwogICAgICAgICAgLy8gICAvLyB0aGlzLmNvbnRhY3RfbGlzdFtjb250YWN0X2xpc3RfaW5kZXhdLmlzX21lc3NhZ2Vfc2VuZGluZ19lbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAvLyB9CgogICAgICAgICAgX3RoaXM3Lm1lc3NhZ2VfcGFnaW5hdGlvbi50b3RhbF9yZWNvcmRzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgICBfdGhpczcuaXNfcGFnaW5hdGVkX2NhbGwgPSB0cnVlOwogICAgICAgICAgX3RoaXM3LmluaXRpYWxfbWVzc2FnZV9sb2FkID0gdHJ1ZTsKICAgICAgICAgIF90aGlzNy5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX3VwID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpczcuY2hhdFNjcm9sbE1lc3NhZ2VzKGZhbHNlKTsKCiAgICAgICAgICBfdGhpczcuc2VhcmNoZWRfbWVzc2FnZV9zZWxlY3RlZCA9IF90aGlzNy5zZWFyY2hlZF9tZXNzYWdlW2luZGV4XS5zZWFyY2hfdGV4dDsgLy8gIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoZWRfbWVzc2FnZVtpbmRleF0gLCAiaW5kZXgiICwgaW5kZXgpOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZSA9PT0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnBhZ2UpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImlmIikKICAgICAgICAgICAgX3RoaXM3LnRvdGFsX3BhZ2VzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgICAgIF90aGlzNy5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX2Rvd24gPSB0cnVlOwogICAgICAgICAgICBfdGhpczcuc2Nyb2xsX3RvcF9jYWxsZWQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImVsc2UiKQogICAgICAgICAgICBfdGhpczcudG90YWxfcGFnZXNfbG9hZGVkID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzNy5zY3JvbGxfdG9wX2NhbGxlZCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczcuaXNfcGFnaW5hdGVkX2NhbGwgPSB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBsZXQgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiN0ZXh0IikKICAgICAgICAgICAgLy8gdGV4dC5mb3JFYWNoKGVsZW09PnsKICAgICAgICAgICAgLy8gICBpZihlbGVtLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGhpcy5zZWFyY2hlZF9tZXNzYWdlX3NlbGVjdGVkLnRyaW0oKSl7CiAgICAgICAgICAgIC8vICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2FkZF9oaWdobGlnaHQnKQogICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coImdvdGNoYSBpbnNpZGUgaWYiICwgZWxlbS5jbGFzc0xpc3QgLCB0aGlzLnNlYXJjaGVkX21lc3NhZ2Vfc2VsZWN0ZWQpCiAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgdmFyIHNlbGVjdGVkX21zZyA9IF90aGlzNy5zZWFyY2hlZF9tZXNzYWdlW2luZGV4XS5kYXRlX3RpbWU7CiAgICAgICAgICAgIHZhciBzZWxlY3RlZF9kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3RlZF9tc2cpOwoKICAgICAgICAgICAgaWYgKHNlbGVjdGVkX2RpdikgewogICAgICAgICAgICAgIHNlbGVjdGVkX2Rpdi5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICAgICAgICBiZWhhdmlvcjogInNtb290aCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSAvLyAgY29uc29sZS5sb2coc2VsZWN0ZWRfZGl2ICwgc2VsZWN0ZWRfbXNnICk7CgogICAgICAgICAgfSwgNDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXM3LnNob3dfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGUsICdlZWVlZScpOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzNy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldF9jb250YWN0X2xpc3Q6IGZ1bmN0aW9uIGdldF9jb250YWN0X2xpc3QoZW5hYmxlX2JvdF9yZXNwb25zZXMpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndoYXRzYXBwX2NoYXQoKSwgewogICAgICAgIGlzX2dldF9jb250YWN0czogdHJ1ZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBlbmFibGVfYm90X3Jlc3BvbnNlX2FsbDogZW5hYmxlX2JvdF9yZXNwb25zZXMKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzOC5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgaWYgKF90aGlzOC5hcGlfc3RhdHVzX2NvZGUuQ09OVEFDVFNfTk9UX0ZPVU5ELk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgfHwgX3RoaXM4LmFwaV9zdGF0dXNfY29kZS5EQVRBX05PVF9GT1VORC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczguY29udGFjdF9saXN0ID0gW107CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczguYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzOC5jb250YWN0X2xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEuY29udGFjdHM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczguc2hvd19zcGlubmVyID0gZmFsc2U7IC8vIHRoaXMuY29udGFjdF9saXN0ID0gcmVzcG9uc2UuZGF0YS5jb250YWN0czsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczguc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM4LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2Nyb2xsX2Rvd246IGZ1bmN0aW9uIHNjcm9sbF9kb3duKCkgewogICAgICAvLyBjb25zb2xlLmxvZygiLS0tLXNjcm9sbGxsIik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWVzc2FnZS10YWJsZS1zY3JvbGwiKTsKCiAgICAgICAgaWYgKEJvb2xlYW4oY29udGFpbmVyLnNjcm9sbEhlaWdodCkpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiaGVyZSBzY3IiKTsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coIGNvbnRhaW5lci5zY3JvbGxUb3AgLCAgY29udGFpbmVyLnNjcm9sbEhlaWdodCk7CiAgICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gNTAwOwogICAgICAgICAgfSwgMTAwKTsgLy8gdGhpcy5pbml0aWFsX21lc3NhZ2VfbG9hZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LCAxMDApOwogICAgfSwKICAgIHNjcm9sbF90b3A6IGZ1bmN0aW9uIHNjcm9sbF90b3AoKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWVzc2FnZS10YWJsZS1zY3JvbGwiKTsKCiAgICAgICAgaWYgKEJvb2xlYW4oY29udGFpbmVyLnNjcm9sbEhlaWdodCkpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAqIDAuMDE1OwogICAgICAgICAgfSwgMTAwKTsgLy8gdGhpcy5pbml0aWFsX21lc3NhZ2VfbG9hZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LCAxMDApOwogICAgfSwKICAgIHNjcm9sbF9taWRkbGU6IGZ1bmN0aW9uIHNjcm9sbF9taWRkbGUoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJtaWRkbGUgcnVubmluZyIpCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWVzc2FnZS10YWJsZS1zY3JvbGwiKTsKCiAgICAgICAgaWYgKEJvb2xlYW4oY29udGFpbmVyLnNjcm9sbEhlaWdodCkpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbEhlaWdodCAqIDAuMjU7CiAgICAgICAgICB9LCAxMDApOyAvLyB0aGlzLmluaXRpYWxfbWVzc2FnZV9sb2FkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgc2Nyb2xsX2Rvd25fZWZmZWN0OiBmdW5jdGlvbiBzY3JvbGxfZG93bl9lZmZlY3QoKSB7CiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWVzc2FnZS10YWJsZS1zY3JvbGwiKTsgLy8gY29uc29sZS5sb2coY29udGFpbmVyKTsKCiAgICAgIGlmIChCb29sZWFuKGNvbnRhaW5lcikpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSAxMDsKICAgICAgICB9LCAwKTsgLy8gdGhpcy5pbml0aWFsX21lc3NhZ2VfbG9hZCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBwcm9kdWN0X3ZhcmlhdGlvbjogZnVuY3Rpb24gcHJvZHVjdF92YXJpYXRpb24ocHJvZHVjdHNfbGlzdCkgewogICAgICB2YXIgbmV3X3Byb2R1Y3RfbGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSBpbiBwcm9kdWN0c19saXN0KSB7CiAgICAgICAgdmFyIGNvbXBvbmVudHMgPSBwcm9kdWN0c19saXN0W2ldLnRlbXBsYXRlLmNvbXBvbmVudHM7CiAgICAgICAgdmFyIHRlbXAgPSB7fTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAodmFyIGogaW4gY29tcG9uZW50cykgewogICAgICAgICAgICBpZiAoaiA9PSAwKSB7CiAgICAgICAgICAgICAgdGVtcFsiaW1nX3VybCJdID0gY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzWzBdLmltYWdlLmxpbms7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChqID09IDEpIHsKICAgICAgICAgICAgICB0ZW1wWyJ0aXRsZSJdID0gY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzWzBdLnRleHQ7CgogICAgICAgICAgICAgIGlmIChjb21wb25lbnRzW2pdLnBhcmFtZXRlcnMubGVuZ3RoID09IDIpIHsKICAgICAgICAgICAgICAgIHRlbXBbInByaWNlIl0gPSBjb21wb25lbnRzW2pdLnBhcmFtZXRlcnNbMV0udGV4dDsKICAgICAgICAgICAgICAgIHRlbXBbInZhcmlhdGlvbiJdID0gY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzWzFdLnRleHQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzLmxlbmd0aCA9PSAzKSB7CiAgICAgICAgICAgICAgICB0ZW1wWyJ2YXJpYXRpb24iXSA9IGNvbXBvbmVudHNbal0ucGFyYW1ldGVyc1sxXS50ZXh0OwogICAgICAgICAgICAgICAgdGVtcFsicHJpY2UiXSA9IGNvbXBvbmVudHNbal0ucGFyYW1ldGVyc1syXS50ZXh0OwogICAgICAgICAgICAgIH0gLy8gY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzLmxlbmd0aCA9PSAzID8gdGVtcFsidmFyaWF0aW9uIl0gPSBjb21wb25lbnRzW2pdLnBhcmFtZXRlcnNbMV0udGV4dDsgdGVtcFsicHJpY2UiXSA9IGNvbXBvbmVudHNbal0ucGFyYW1ldGVyc1sxXS50ZXh0OiBudWxsOwoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGogPT0gMikgewogICAgICAgICAgICAgIHRlbXBbInVybCJdID0gY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzWzBdLnRleHQ7CiAgICAgICAgICAgICAgdGVtcFsidHlwZSJdID0gY29tcG9uZW50c1tqXS5wYXJhbWV0ZXJzLnR5cGU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikge30KCiAgICAgICAgbmV3X3Byb2R1Y3RfbGlzdC5wdXNoKHRlbXApOwogICAgICB9CgogICAgICByZXR1cm4gbmV3X3Byb2R1Y3RfbGlzdDsKICAgIH0sCiAgICBjaGVja19pbWFnZV90eXBlOiBmdW5jdGlvbiBjaGVja19pbWFnZV90eXBlKGltYWdlKSB7CiAgICAgIGlmICh0eXBlb2YgaW1hZ2UgPT0gInN0cmluZyIpIHsKICAgICAgICByZXR1cm4gaW1hZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGltYWdlICE9IG51bGwpIHsKICAgICAgICAgIHJldHVybiBpbWFnZS5zcmM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB0cmltX2NhcmRfZGVzY3JpcHRpb246IGZ1bmN0aW9uIHRyaW1fY2FyZF9kZXNjcmlwdGlvbih0ZXh0KSB7CiAgICAgIGlmIChCb29sZWFuKHRleHQpKSB7CiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMTAwKSB7CiAgICAgICAgICB2YXIgc3RyaW5nX3RleHQgPSB0ZXh0LnN1YnN0cmluZygwLCA4MCkgKyAiLi4uIjsKICAgICAgICAgIHJldHVybiBzdHJpbmdfdGV4dDsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0ZXh0OwogICAgICB9CiAgICB9LAogICAgbGF0ZXN0X2JvdF90ZXh0OiBmdW5jdGlvbiBsYXRlc3RfYm90X3RleHQodGV4dCkgewogICAgICBpZiAoIUJvb2xlYW4odGV4dCkpIHsKICAgICAgICByZXR1cm4gIkN1c3RvbSBib3QgUmVzcG9uc2UiOwogICAgICB9CgogICAgICBpZiAodGV4dC5sZW5ndGggPiAzNSkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQodGV4dC5zdWJzdHJpbmcoMCwgMzUpLCAiLi4uIik7CiAgICAgIH0KCiAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHNlYXJjaF9jb250YWN0X2xpc3Q6IGZ1bmN0aW9uIHNlYXJjaF9jb250YWN0X2xpc3QoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoX3ZhbHVlID09ICIiKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFjdF9saXN0OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBuZXdfdmFsID0gdGhpcy5zZWFyY2hfdmFsdWU7CgogICAgICAgIGlmIChuZXdfdmFsICE9IHRoaXMuc2VhcmNoX3ZhbHVlKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaF92YWx1ZSk7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9jaGF0KCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBpc19nZXRfYWxsX2NvbnRhY3RzOiB0cnVlLAogICAgICAgICAgICBpc19zZWFyY2g6IHRydWUsCiAgICAgICAgICAgIHNlYXJjaF9zdHJpbmc6IHRoaXMuc2VhcmNoX3ZhbHVlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczkuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzOS5hcGlfc3RhdHVzX2NvZGUuQ09OVEFDVFNfTk9UX0ZPVU5ELk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgX3RoaXM5LmNvbnRhY3RfbGlzdCA9IFtdOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzOS5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIF90aGlzOS5jb250YWN0X2xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEuY29udGFjdHM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM5LmFwaV9zdGF0dXNfY29kZS5EQVRBX05PVF9GT1VORC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgX3RoaXM5LmNvbnRhY3RfbGlzdCA9IFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXM5LnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgX3RoaXM5LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmNvbnRhY3RfbGlzdDsKICAgICAgfQogICAgfSwKICAgIGNoYXRTY3JvbGxNZXNzYWdlczogZnVuY3Rpb24gY2hhdFNjcm9sbE1lc3NhZ2VzKHNjcm9sbF9kb3duKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5pdGlhbF9tZXNzYWdlX2xvYWQpOwogICAgICBpZiAodGhpcy5pbml0aWFsX21lc3NhZ2VfbG9hZCA9PT0gdHJ1ZSkgewogICAgICAgIGlmICh0aGlzLmlzX3NlYXJjaF9kaXZfb3BlbikgewogICAgICAgICAgdmFyIGJvdF9tc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjbXNnLWRpdiIpOwogICAgICAgICAgYm90X21zZy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgicmVzcG9uc2l2ZS13aWR0aCIpOwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgcHJldmlld19idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjcHJldmlldy1idG4iKTsKICAgICAgICAgIHByZXZpZXdfYnRuLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKCJjb2wtc20tMTEiKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGJvdF9jYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmJvdC1yZXNwIik7CiAgICAgICAgICBib3RfY2FyZC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7CiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgiY29sLTciKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX2JvdF9tc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjbXNnLWRpdiIpOwoKICAgICAgICAgIF9ib3RfbXNnLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCJyZXNwb25zaXZlLXdpZHRoIik7CiAgICAgICAgICB9KTsKCiAgICAgICAgICB2YXIgX3ByZXZpZXdfYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI3ByZXZpZXctYnRuIik7CgogICAgICAgICAgX3ByZXZpZXdfYnRuLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCJjb2wtc20tMTEiKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIHZhciBfYm90X2NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuYm90LXJlc3AiKTsKCiAgICAgICAgICBfYm90X2NhcmQuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoImNvbC03Iik7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHZhciBjb250YWluZXJfZGl2X3Njcm9sbF90b3AgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJtZXNzYWdlLXRhYmxlLXNjcm9sbCIpWzBdLnNjcm9sbFRvcDsKICAgICAgICB2YXIgY29udGFpbmVyX2Rpdl9zY3JvbGxfaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibWVzc2FnZS10YWJsZS1zY3JvbGwiKVswXS5zY3JvbGxIZWlnaHQgLSA0OTM7IC8vIGNvbnNvbGUubG9nKHRoaXMuc2Nyb2xsX3RvcF9jYWxsZWQgLCAidG9wIik7CiAgICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmlzX3BhZ2luYXRlZF9jYWxsICwgInBhZ2luYXRlZCBjYWxsIHZhciAiKQogICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbnRhaW5lcl9kaXZfc2Nyb2xsX3RvcCA8IDIwICwgdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX3VwID09PSB0cnVlICwgIXRoaXMuaXNfcGFnaW5hdGVkX2NhbGwgLCAhdGhpcy50b3RhbF9wYWdlc19sb2FkZWQgLCAiY2hlY2sgZm9yIHVwIikKICAgICAgICAvLyAgY29uc29sZS5sb2coY29udGFpbmVyX2Rpdl9zY3JvbGxfdG9wID4gY29udGFpbmVyX2Rpdl9zY3JvbGxfaGVpZ2h0ICwgdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24uaXNfc2Nyb2xsX2Rvd24gPT09IHRydWUgLCAhdGhpcy5pc19wYWdpbmF0ZWRfY2FsbCAsIHRoaXMuY3VycmVudF9wYWdlX25vID4gMSAsICJjaGVjayBmb3IgZG93biIpCgogICAgICAgIGlmIChjb250YWluZXJfZGl2X3Njcm9sbF90b3AgPCAyMCAmJiB0aGlzLm1lc3NhZ2VfcGFnaW5hdGlvbi5pc19zY3JvbGxfdXAgPT09IHRydWUgJiYgIXRoaXMuaXNfcGFnaW5hdGVkX2NhbGwgJiYgIXRoaXMudG90YWxfcGFnZXNfbG9hZGVkKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygiYXBpIGNhbGwgcGFnaW5hdGVkIiwgdGhpcy5jdXJyZW50X3BhZ2Vfbm8pCiAgICAgICAgICB0aGlzLmlzX3BhZ2luYXRlZF9jYWxsID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc2Nyb2xsX3NwaW5uZXJfY2hhdCA9IHRydWU7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9jaGF0KCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBnZXRfYnlfd2hhdHNhcHBfcGhvbmVfbnVtYmVyOiB0cnVlLAogICAgICAgICAgICB3aGF0c2FwcF9jb250YWN0X251bWJlcjogdGhpcy5jdXJyZW50X2NvbnRhY3RfbnVtYmVyLAogICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24ucGVyX3BhZ2UsCiAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMuY3VycmVudF9wYWdlX25vICsgMQogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIF90aGlzMTAuc2Nyb2xsX3NwaW5uZXJfY2hhdCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczEwLmlzX3BhZ2luYXRlZF9jYWxsID0gZmFsc2U7CgogICAgICAgICAgICBpZiAoX3RoaXMxMC5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIGlmICghX3RoaXMxMC5tZXNzYWdlX3BhZ2luYXRpb24ucGFnZV9yZWNvcmRfZmV0Y2hlZC5pbmNsdWRlcyhyZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZSkpIHsKICAgICAgICAgICAgICAgIHZhciBuZXdfZGF0YSA9IF90aGlzMTAuZm9ybWF0X2hpc3RvcnlfcmVzcG9uc2UocmVzcG9uc2UuZGF0YS5kYXRhLmNoYXRfaGlzdG9yeSk7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5oaXN0b3J5ID0gbmV3X2RhdGEuY29uY2F0KF90aGlzMTAuaGlzdG9yeSk7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5tZXNzYWdlX3BhZ2luYXRpb24ucGFnZV9yZWNvcmRfZmV0Y2hlZC5wdXNoKHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi5wYWdlKTsgLy8gY29uc29sZS5sb2codGhpcy5oaXN0b3J5KTsKCgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi50b3RhbF9wYWdlID09PSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZSkgewogICAgICAgICAgICAgICAgICBfdGhpczEwLnRvdGFsX3BhZ2VzX2xvYWRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczEwLnRvdGFsX3BhZ2VzX2xvYWRlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTAuY3VycmVudF9wYWdlX25vICs9IDE7CgogICAgICAgICAgICAgICAgaWYgKHNjcm9sbF9kb3duID09IHRydWUgfHwgX3R5cGVvZihzY3JvbGxfZG93bikgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuc2Nyb2xsX21pZGRsZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsvLyB0aGlzLnNjcm9sbF9kb3duX2VmZmVjdCgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTAuYXBpX3N0YXR1c19jb2RlLkRBVEFfTk9UX0ZPVU5ELk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHt9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgX3RoaXMxMC5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgIF90aGlzMTAuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyX2Rpdl9zY3JvbGxfdG9wID4gY29udGFpbmVyX2Rpdl9zY3JvbGxfaGVpZ2h0ICYmIHRoaXMubWVzc2FnZV9wYWdpbmF0aW9uLmlzX3Njcm9sbF9kb3duID09PSB0cnVlICYmICF0aGlzLmlzX3BhZ2luYXRlZF9jYWxsICYmIHRoaXMubGF0ZXN0X3BhZ2Vfbm8gPiAxKSB7CiAgICAgICAgICB0aGlzLmlzX3BhZ2luYXRlZF9jYWxsID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc2Nyb2xsX3NwaW5uZXJfY2hhdCA9IHRydWU7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9jaGF0KCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgICBnZXRfYnlfd2hhdHNhcHBfcGhvbmVfbnVtYmVyOiB0cnVlLAogICAgICAgICAgICB3aGF0c2FwcF9jb250YWN0X251bWJlcjogdGhpcy5jdXJyZW50X2NvbnRhY3RfbnVtYmVyLAogICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5tZXNzYWdlX3BhZ2luYXRpb24ucGVyX3BhZ2UsCiAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMubGF0ZXN0X3BhZ2Vfbm8gLSAxCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgX3RoaXMxMC5zY3JvbGxfc3Bpbm5lcl9jaGF0ID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzMTAuaXNfcGFnaW5hdGVkX2NhbGwgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChfdGhpczEwLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgaWYgKCFfdGhpczEwLm1lc3NhZ2VfcGFnaW5hdGlvbi5wYWdlX3JlY29yZF9mZXRjaGVkLmluY2x1ZGVzKHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbi5wYWdlKSkgewogICAgICAgICAgICAgICAgdmFyIG5ld19kYXRhID0gX3RoaXMxMC5mb3JtYXRfaGlzdG9yeV9yZXNwb25zZShyZXNwb25zZS5kYXRhLmRhdGEuY2hhdF9oaXN0b3J5KTsgLy8gdGhpcy5oaXN0b3J5ID0gbmV3X2RhdGEuY29uY2F0KHRoaXMuaGlzdG9yeSk7CgoKICAgICAgICAgICAgICAgIF90aGlzMTAuaGlzdG9yeSA9IF90aGlzMTAuaGlzdG9yeS5jb25jYXQobmV3X2RhdGEpOwoKICAgICAgICAgICAgICAgIF90aGlzMTAubWVzc2FnZV9wYWdpbmF0aW9uLnBhZ2VfcmVjb3JkX2ZldGNoZWQucHVzaChyZXNwb25zZS5kYXRhLnBhZ2luYXRpb24ucGFnZSk7CgogICAgICAgICAgICAgICAgX3RoaXMxMC5sYXRlc3RfcGFnZV9ubyA9IF90aGlzMTAubGF0ZXN0X3BhZ2Vfbm8gLSAxOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCItLS0iICwgdGhpcy5zY3JvbGxfdG9wX2NhbGxlZCkKICAgICAgICAgICAgICAgICAgLy8gICAgaWYodGhpcy5zY3JvbGxfdG9wX2NhbGxlZCl7CiAgICAgICAgICAgICAgICAgIC8vICAgdGhpcy5zY3JvbGxfdG9wKCk7CiAgICAgICAgICAgICAgICAgIC8vIH1lbHNlewogICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsX2Rvd24gPT0gdHJ1ZSB8fCBfdHlwZW9mKHNjcm9sbF9kb3duKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiZG93biIpCiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zY3JvbGxfZG93bigpOwogICAgICAgICAgICAgICAgICB9IGVsc2Uge30gLy8gdGhpcy5zY3JvbGxfZG93bl9lZmZlY3QoKQogICAgICAgICAgICAgICAgICAvLyB9CgoKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5zY3JvbGxfdG9wX2NhbGxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMC5hcGlfc3RhdHVzX2NvZGUuREFUQV9OT1RfRk9VTkQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkge30gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczEwLnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgX3RoaXMxMC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2hvd19wcm9maWxlX3NldHVwOiBmdW5jdGlvbiBzaG93X3Byb2ZpbGVfc2V0dXAoKSB7CiAgICAgIHRoaXMuaXNfcHJvZmlsZV9zZXR1cCA9ICF0aGlzLmlzX3Byb2ZpbGVfc2V0dXA7CiAgICAgIHRoaXMuZ2V0X3Byb2ZpbGVfZGV0YWlscygpOwogICAgfSwKICAgIHNob3dfYWxsX2NvbnRhY3RzOiBmdW5jdGlvbiBzaG93X2FsbF9jb250YWN0cygpIHsKICAgICAgJCgnI3BvcG92ZXInKS5wb3BvdmVyKCdkaXNwb3NlJyk7CiAgICAgICQoJyNwb3BvdmVyJykucG9wb3ZlcignaGlkZScpOwogICAgICB0aGlzLmlzX29wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5pc19wcm9maWxlX3NldHVwID0gIXRoaXMuaXNfcHJvZmlsZV9zZXR1cDsKICAgICAgdGhpcy5pc19jb250YWN0X2xpc3QgPSAhdGhpcy5pc19jb250YWN0X2xpc3Q7CiAgICAgIHRoaXMuZ2V0X2FsbF9jb250YWN0X2xpc3QoKTsKICAgIH0sCiAgICB0b2dnbGVEcm9wZG93bjogZnVuY3Rpb24gdG9nZ2xlRHJvcGRvd24oKSB7CiAgICAgIHZhciBkcm9wZG93blBhcmVudDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd25QYXJlbnQyJyk7CiAgICAgIHZhciBkcm9wZG93bk1lbnUyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duTWVudTInKTsKICAgICAgdmFyIGRyb3Bkb3duTWVudUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnVCdXR0b24yJyk7CiAgICAgIGRyb3Bkb3duUGFyZW50Mi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgIGRyb3Bkb3duTWVudTIuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICBkcm9wZG93bk1lbnVCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTsKICAgICAgZHJvcGRvd25NZW51Mi5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJywgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTsgdG9wOiAwcHg7IGxlZnQ6IDBweDsgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCg1NXB4LCA1OHB4LCAwcHgpOycpOwogICAgICB0aGlzLnRvZ2dsZU1vZGFsMiA9IGZhbHNlOwogICAgICB2YXIgZHJvcGRvd25QYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd25QYXJlbnQnKTsKICAgICAgdmFyIGRyb3Bkb3duTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnUnKTsKICAgICAgdmFyIGRyb3Bkb3duTWVudUJ1dHRvbk9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnVCdXR0b25PbmUnKTsKCiAgICAgIGlmICh0aGlzLnRvZ2dsZU1vZGFsKSB7CiAgICAgICAgZHJvcGRvd25QYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgIGRyb3Bkb3duTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgZHJvcGRvd25NZW51QnV0dG9uT25lLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1leHBhbmRlZCcsICd0cnVlJyk7CiAgICAgICAgZHJvcGRvd25NZW51LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IGFic29sdXRlOyB3aWxsLWNoYW5nZTogdHJhbnNmb3JtOyB0b3A6IDBweDsgbGVmdDogMHB4OyB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDU1cHgsIDU4cHgsIDBweCk7Jyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZHJvcGRvd25QYXJlbnQuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgIGRyb3Bkb3duTWVudS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgICAgZHJvcGRvd25NZW51QnV0dG9uT25lLnNldEF0dHJpYnV0ZSgnZGF0YS1leHBhbmRlZCcsICd0cnVlJyk7CiAgICAgICAgZHJvcGRvd25NZW51LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IGFic29sdXRlOyB3aWxsLWNoYW5nZTogdHJhbnNmb3JtOyB0b3A6IDBweDsgbGVmdDogMHB4OyB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDU1cHgsIDU4cHgsIDBweCk7Jyk7CiAgICAgIH0KCiAgICAgIHRoaXMudG9nZ2xlTW9kYWwgPSAhdGhpcy50b2dnbGVNb2RhbDsKICAgIH0sCiAgICB0b2dnbGVUZW1wbGF0ZTogZnVuY3Rpb24gdG9nZ2xlVGVtcGxhdGUoKSB7CiAgICAgIHZhciBkcm9wZG93blBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93blBhcmVudCcpOwogICAgICB2YXIgZHJvcGRvd25NZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duTWVudScpOwogICAgICB2YXIgZHJvcGRvd25NZW51QnV0dG9uT25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duTWVudUJ1dHRvbk9uZScpOwogICAgICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICBkcm9wZG93blBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgIGRyb3Bkb3duTWVudUJ1dHRvbk9uZS5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtZXhwYW5kZWQnLCAndHJ1ZScpOwogICAgICBkcm9wZG93bk1lbnUucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7IHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoNTVweCwgNThweCwgMHB4KTsnKTsKICAgICAgdGhpcy50b2dnbGVNb2RhbCA9IGZhbHNlOwogICAgICB2YXIgZHJvcGRvd25QYXJlbnQyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duUGFyZW50MicpOwogICAgICB2YXIgZHJvcGRvd25NZW51MiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wZG93bk1lbnUyJyk7CiAgICAgIHZhciBkcm9wZG93bk1lbnVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd25NZW51QnV0dG9uMicpOyAvL2NvbnNvbGUubG9nKHRoaXMudG9nZ2xlTW9kYWwyICwgImRlY2lkaW5nIHZhbHVlIikKCiAgICAgIGlmICh0aGlzLnRvZ2dsZU1vZGFsMikgewogICAgICAgIC8vY29uc29sZS5sb2codGhpcy50b2dnbGVNb2RhbDIpCiAgICAgICAgZHJvcGRvd25QYXJlbnQyLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICBkcm9wZG93bk1lbnUyLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICBkcm9wZG93bk1lbnVCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTsKICAgICAgICBkcm9wZG93bk1lbnUyLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnLCAncG9zaXRpb246IGFic29sdXRlOyB3aWxsLWNoYW5nZTogdHJhbnNmb3JtOyB0b3A6IDBweDsgbGVmdDogMHB4OyB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDU1cHgsIDU4cHgsIDBweCk7Jyk7CiAgICAgICAgdGhpcy50b2dnbGVNb2RhbDIgPSBmYWxzZTsgLy9jb25zb2xlLmxvZyh0aGlzLnRvZ2dsZU1vZGFsMiwiYWZ0ZXIgZGVjaWRpbmciKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkcm9wZG93blBhcmVudDIuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgIGRyb3Bkb3duTWVudTIuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgIGRyb3Bkb3duTWVudUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpOwogICAgICAgIGRyb3Bkb3duTWVudTIuc2V0QXR0cmlidXRlKCdzdHlsZScsICdwb3NpdGlvbjogYWJzb2x1dGU7IHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07IHRvcDogMHB4OyBsZWZ0OiAwcHg7IHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoNTVweCwgNThweCwgMHB4KTsnKTsKICAgICAgICB0aGlzLnRvZ2dsZU1vZGFsMiA9IHRydWU7IC8vY29uc29sZS5sb2codGhpcy50b2dnbGVNb2RhbDIsImFmdGVyIGRlY2lkaW5nIik7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXRfaGlzdG9yeV9yZXNwb25zZTogZnVuY3Rpb24gZm9ybWF0X2hpc3RvcnlfcmVzcG9uc2UocmVzcG9uc2UpIHsKICAgICAgdmFyIGNvbl9kYXRlID0gIiI7CgogICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKGkgPT0gMCkgewogICAgICAgICAgY29uX2RhdGUgPSByZXNwb25zZVtpXS5ib3RfcmVzcG9uc2VfZGF0ZTsKICAgICAgICB9CgogICAgICAgIGlmIChjb25fZGF0ZSA9PSByZXNwb25zZVtpXS5ib3RfcmVzcG9uc2VfZGF0ZSAmJiBpICE9IDApIHsKICAgICAgICAgIHJlc3BvbnNlW2ldLmJvdF9yZXNwb25zZV9kYXRlID0gIiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbl9kYXRlID0gcmVzcG9uc2VbaV0uYm90X3Jlc3BvbnNlX2RhdGU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9LAogICAgc2VuZF9tZXNzYWdlX3RvX3VzZXI6IGZ1bmN0aW9uIHNlbmRfbWVzc2FnZV90b191c2VyKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICBpZiAoQm9vbGVhbih0aGlzLm1lc3NhZ2VfdG9fc2VuZCkgPT09IGZhbHNlICYmIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5zaG93X3ByZXZpZXcgPT0gZmFsc2UpIHJldHVybiBmYWxzZTsKICAgICAgdmFyIGN1cnJlbnRfdGltZXN0YW1wID0gbmV3IERhdGUoKSwKICAgICAgICAgIGN1cnJlbnRfZGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpOwoKICAgICAgaWYgKHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5zaG93X3ByZXZpZXcgPT0gdHJ1ZSkgewogICAgICAgIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5jb21wYW55X2lkID0gdGhpcy5jb21wYW55X2lkOwogICAgICAgIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5jb21wYW55X25hbWUgPSB0aGlzLmNvbXBhbnlfbmFtZTsKICAgICAgICB0aGlzLnNlbmRfYXR0YWNobWVudF9kZXRhaWwud2hhdHNhcHBfY29udGFjdF9udW1iZXIgPSB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXI7CiAgICAgICAgdGhpcy5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLmRvY3VtZW50X2NvbnRlbnQgPSBudWxsOwogICAgICAgIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5tZWRpYV9jYXB0aW9uID0gdGhpcy5tZXNzYWdlX3RvX3NlbmQ7CiAgICAgICAgdGhpcy5zaG93X3NwaW5uZXIgPSB0cnVlOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndoYXRzYXBwX2NoYXQoKSwgdGhpcy5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMTEuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICBfdGhpczExLnNlbmRfYXR0YWNobWVudF9kZXRhaWwuc2hvd19wcmV2aWV3ID0gZmFsc2U7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VuZF9hdHRhY2htZW50IikudmFsdWUgPSAnJzsKCiAgICAgICAgICBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuV0hBVFNBUFBfTUVESUFfU0VORF9TVUNDRVNTRlVMTFkuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICB2YXIgYm90X3Jlc3BvbnNlID0gW107CgogICAgICAgICAgICBpZiAoX3RoaXMxMS5maWxlX2V4dGVuc2lvbnMuZG9jdW1lbnRfZmlsZV9leHRlbnNpb25zLmluY2x1ZGVzKF90aGlzMTEuc2VuZF9hdHRhY2htZW50X2RldGFpbC5tZWRpYV9jb250ZW50X3R5cGUpKSB7CiAgICAgICAgICAgICAgYm90X3Jlc3BvbnNlID0gW3sKICAgICAgICAgICAgICAgICJ0ZXh0IjogbnVsbCwKICAgICAgICAgICAgICAgICJyZWNpcGllbnRfaWQiOiBfdGhpczExLmN1cnJlbnRfY29udGFjdF9udW1iZXIsCiAgICAgICAgICAgICAgICAiYXR0YWNobWVudCI6IHsKICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IF90aGlzMTEuc2VuZF9hdHRhY2htZW50X2RldGFpbC5tZWRpYV9maWxlX25hbWUsCiAgICAgICAgICAgICAgICAgIGxpbms6ICJodHRwczovL3N0b3JhZ2UuY2Vuc2UuYWkvIi5jb25jYXQoX3RoaXMxMS5jb21wYW55X2lkLCAiL1doYXRzYXBwTWVkaWEvIikuY29uY2F0KF90aGlzMTEuc2VuZF9hdHRhY2htZW50X2RldGFpbC5tZWRpYV9maWxlX25hbWUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDsKCiAgICAgICAgICAgIGlmIChfdGhpczExLmZpbGVfZXh0ZW5zaW9ucy5pbWFnZV9maWxlX2V4dGVuc2lvbnMuaW5jbHVkZXMoX3RoaXMxMS5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLm1lZGlhX2NvbnRlbnRfdHlwZSkpIHsKICAgICAgICAgICAgICBib3RfcmVzcG9uc2UgPSBbewogICAgICAgICAgICAgICAgInRleHQiOiBudWxsLAogICAgICAgICAgICAgICAgInJlY2lwaWVudF9pZCI6IF90aGlzMTEuY3VycmVudF9jb250YWN0X251bWJlciwKICAgICAgICAgICAgICAgICJpbWFnZSI6IHJlc3BvbnNlLmRhdGEuZmlsZV9saW5rCiAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBib3RfcmVzcG9uc2VfZGF0ZSA9IGN1cnJlbnRfZGF0ZTsKCiAgICAgICAgICAgIGlmIChfdGhpczExLmhpc3RvcnkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYm90X3Jlc3BvbnNlX2RhdGUgPT0gYm90X3Jlc3BvbnNlX2RhdGU7CiAgICAgICAgICAgIH0pLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBib3RfcmVzcG9uc2VfZGF0ZSA9ICIiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczExLmhpc3RvcnkucHVzaCh7CiAgICAgICAgICAgICAgIkJPVFJlc3BvbnNlIjogYm90X3Jlc3BvbnNlLAogICAgICAgICAgICAgICJ1c2VyX3F1ZXJ5X3RpbWUiOiBjdXJyZW50X3RpbWVzdGFtcCwKICAgICAgICAgICAgICAiVXNlclF1ZXJ5IjogIiIsCiAgICAgICAgICAgICAgImJvdF9yZXNwb25zZV9kYXRlIjogYm90X3Jlc3BvbnNlX2RhdGUsCiAgICAgICAgICAgICAgImJvdF9yZXNwb25zZV90aW1lIjogY3VycmVudF90aW1lc3RhbXAsCiAgICAgICAgICAgICAgInVzZXJfcXVlcnlfZGF0ZSI6IGN1cnJlbnRfZGF0ZSwKICAgICAgICAgICAgICAiQ2hhdF9EYXRldGltZSI6IGN1cnJlbnRfdGltZXN0YW1wLnRvSVNPU3RyaW5nKCkKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczExLmNvbnRhY3RfbGlzdFtfdGhpczExLmN1cnJlbnRfY29udGFjdF9pbmRleF0ubGFzdF9ib3RfcmVzcG9uc2UudGV4dCA9IF90aGlzMTEubWVzc2FnZV90b19zZW5kOwogICAgICAgICAgICBfdGhpczExLmNvbnRhY3RfbGlzdCA9IF90aGlzMTEuYXJyYXlfbW92ZShfdGhpczExLmNvbnRhY3RfbGlzdCwgX3RoaXMxMS5jdXJyZW50X2NvbnRhY3RfaW5kZXgsIDApOwogICAgICAgICAgICBfdGhpczExLm1lc3NhZ2VfdG9fc2VuZCA9IG51bGw7CiAgICAgICAgICAgIF90aGlzMTEuY3VycmVudF9jb250YWN0X2luZGV4ID0gMDsgLy8gdGhpcy5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLnNob3dfcHJldmlldyA9IGZhbHNlOwoKICAgICAgICAgICAgX3RoaXMxMS5zY3JvbGxfZG93bigpOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmFwaV9zdGF0dXNfY29kZS5XSEFUU0FQUF9NRURJQV9TRU5EX0ZBSUxVUkUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQiLAogICAgICAgICAgICAgIHRleHQ6ICJQbGVhc2UgdHJ5IGFnYWluIiwKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmFwaV9zdGF0dXNfY29kZS5XSEFUU0FQUF9VU0VSX0xJTUlUX1JFQUNIRUQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogX3RoaXMxMS50bHQoJ3RpZXJfc3BlY2lmaWNfdXNlcl9saW1pdF9yZWFjaGVkJyksCiAgICAgICAgICAgICAgdGV4dDogX3RoaXMxMS50bHQoJ3RpZXJfc3BlY2lmaWNfdXNlcl9saW1pdF9yZWFjaGVkX21zZycpLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdGltZXI6IDQwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTEuYXBpX3N0YXR1c19jb2RlLk1FU1NBR0VfU0VORElOR19MSU1JVF9SRUFDSEVELk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIHRleHQ6ICJNZXNzYWdlIFNlbmRpbmcgTGltaXQgUmVhY2hlZCIsCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogX3RoaXMxMS50bHQoJ2VtYWlsX3RlbXBfc3dhbF91cGdyYWRlX25vd19tc2cnKSwKICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBfdGhpczExLnRsdCgnZW1haWxfdGVtcF9zd2FsX3VwZ3JhZGVfbGF0ZXJfbXNnJyksCiAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJwogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlID09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzMTEuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ1NldHRpbmdzJywKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uOiB0cnVlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTEuYXBpX3N0YXR1c19jb2RlLklOVkFMSURfV0hBVFNBUFBfQ09OVEFDVC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuV0hBVFNBUFBfTlVNQkVSX05PTkUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTEuYXBpX3N0YXR1c19jb2RlLlRFWFRfSVNfTk9ORS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuTUlTU0lOR19NRURJQV9JTkZPUk1BVElPTi5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwoKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMTEuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzMTEuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMxMS5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLnNob3dfcHJldmlldyA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5zaG93X3NwaW5uZXIgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMubWVzc2FnZV90b19zZW5kLnRyaW0oKSAhPT0gIiIpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9jaGF0KCksIHsKICAgICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICBzZW5kX21lc3NhZ2U6IHRydWUsCiAgICAgICAgICB0ZXh0OiB0aGlzLm1lc3NhZ2VfdG9fc2VuZCwKICAgICAgICAgIHdoYXRzYXBwX2NvbnRhY3RfbnVtYmVyOiB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXIKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMTEuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgaWYgKF90aGlzMTEuYXBpX3N0YXR1c19jb2RlLldIQVRTQVBQX1RFWFRfU0VORF9TVUNDRVNTRlVMTFkuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBpZiAoX3RoaXMxMS5zdGFydF9uZXdfY29udl9kYXRhLnN0YXJ0X25ld19jb252KSB7CiAgICAgICAgICAgICAgX3RoaXMxMS5jdXJyZW50X2NvbnRhY3RfaW5kZXggPSAwOwogICAgICAgICAgICAgIF90aGlzMTEubmV3X2NvbnZfY29udGFjdF9kYXRhLmNoYXRfZGF0ZXRpbWUgPSBjdXJyZW50X3RpbWVzdGFtcC50b0lTT1N0cmluZygpOwogICAgICAgICAgICAgIF90aGlzMTEubmV3X2NvbnZfY29udGFjdF9kYXRhLmlzX21lc3NhZ2Vfc2VuZGluZ19lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICBfdGhpczExLm5ld19jb252X2NvbnRhY3RfZGF0YS5sYXN0X2JvdF9yZXNwb25zZSA9IHsKICAgICAgICAgICAgICAgIHRleHQ6IF90aGlzMTEubWVzc2FnZV90b19zZW5kLAogICAgICAgICAgICAgICAgY2hhdF9kYXRldGltZTogY3VycmVudF90aW1lc3RhbXAudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGRhdGU6IGN1cnJlbnRfZGF0ZSwKICAgICAgICAgICAgICAgIHRpbWU6ICIiLmNvbmNhdChjdXJyZW50X3RpbWVzdGFtcC5nZXRVVENIb3VycygpLCAiOiIpLmNvbmNhdChjdXJyZW50X3RpbWVzdGFtcC5nZXRVVENNaW51dGVzKCkpCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgX3RoaXMxMS5jb250YWN0X2xpc3QudW5zaGlmdChfdGhpczExLm5ld19jb252X2NvbnRhY3RfZGF0YSk7CgogICAgICAgICAgICAgIF90aGlzMTEuc3RhcnRfbmV3X2NvbnZfZGF0YS5zdGFydF9uZXdfY29udiA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgYm90X3Jlc3BvbnNlX2RhdGUgPSBjdXJyZW50X2RhdGU7CgogICAgICAgICAgICBpZiAoX3RoaXMxMS5oaXN0b3J5Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLmJvdF9yZXNwb25zZV9kYXRlID09IGJvdF9yZXNwb25zZV9kYXRlOwogICAgICAgICAgICB9KS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgYm90X3Jlc3BvbnNlX2RhdGUgPSAiIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMxMS5oaXN0b3J5LnB1c2goewogICAgICAgICAgICAgICJCT1RSZXNwb25zZSI6IFt7CiAgICAgICAgICAgICAgICAidGV4dCI6IF90aGlzMTEubWVzc2FnZV90b19zZW5kLAogICAgICAgICAgICAgICAgInJlY2lwaWVudF9pZCI6IF90aGlzMTEuY3VycmVudF9jb250YWN0X251bWJlcgogICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICJ1c2VyX3F1ZXJ5X3RpbWUiOiBjdXJyZW50X3RpbWVzdGFtcCwKICAgICAgICAgICAgICAiVXNlclF1ZXJ5IjogIiIsCiAgICAgICAgICAgICAgImJvdF9yZXNwb25zZV9kYXRlIjogYm90X3Jlc3BvbnNlX2RhdGUsCiAgICAgICAgICAgICAgImJvdF9yZXNwb25zZV90aW1lIjogY3VycmVudF90aW1lc3RhbXAsCiAgICAgICAgICAgICAgInVzZXJfcXVlcnlfZGF0ZSI6IGN1cnJlbnRfZGF0ZSwKICAgICAgICAgICAgICAiQ2hhdF9EYXRldGltZSI6IGN1cnJlbnRfdGltZXN0YW1wLnRvSVNPU3RyaW5nKCkKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczExLnNjcm9sbF9kb3duKCk7CgogICAgICAgICAgICBfdGhpczExLmNvbnRhY3RfbGlzdFtfdGhpczExLmN1cnJlbnRfY29udGFjdF9pbmRleF0ubGFzdF9ib3RfcmVzcG9uc2UudGV4dCA9IF90aGlzMTEubWVzc2FnZV90b19zZW5kOwogICAgICAgICAgICBfdGhpczExLmNvbnRhY3RfbGlzdCA9IF90aGlzMTEuYXJyYXlfbW92ZShfdGhpczExLmNvbnRhY3RfbGlzdCwgX3RoaXMxMS5jdXJyZW50X2NvbnRhY3RfaW5kZXgsIDApOwogICAgICAgICAgICBfdGhpczExLm1lc3NhZ2VfdG9fc2VuZCA9IG51bGw7CiAgICAgICAgICAgIF90aGlzMTEuY3VycmVudF9jb250YWN0X2luZGV4ID0gMDsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuV0hBVFNBUFBfVVNFUl9MSU1JVF9SRUFDSEVELk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzMTEudGx0KCd0aWVyX3NwZWNpZmljX3VzZXJfbGltaXRfcmVhY2hlZCcpLAogICAgICAgICAgICAgIHRleHQ6IF90aGlzMTEudGx0KCd0aWVyX3NwZWNpZmljX3VzZXJfbGltaXRfcmVhY2hlZF9tc2cnKSwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHRpbWVyOiA0MDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmFwaV9zdGF0dXNfY29kZS5NRVNTQUdFX1NFTkRJTkdfTElNSVRfUkVBQ0hFRC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICB0ZXh0OiAiTWVzc2FnZSBTZW5kaW5nIExpbWl0IFJlYWNoZWQiLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IF90aGlzMTEudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9ub3dfbXNnJyksCiAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogX3RoaXMxMS50bHQoJ2VtYWlsX3RlbXBfc3dhbF91cGdyYWRlX2xhdGVyX21zZycpLAogICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBfdGhpczExLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdTZXR0aW5ncycsCiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIFN1YnNjcmlwdGlvbjogdHJ1ZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmFwaV9zdGF0dXNfY29kZS5JTlZBTElEX1dIQVRTQVBQX0NPTlRBQ1QuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiBfdGhpczExLmFwaV9zdGF0dXNfY29kZS5JTlZBTElEX1dIQVRTQVBQX0NPTlRBQ1QuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmFwaV9zdGF0dXNfY29kZS5XSEFUU0FQUF9OVU1CRVJfTk9ORS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMS5hcGlfc3RhdHVzX2NvZGUuVEVYVF9JU19OT05FLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczExLmFwaV9zdGF0dXNfY29kZS5NSVNTSU5HX01FRElBX0lORk9STUFUSU9OLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMTEuYXBpX2Vycm9yX2NoZWNrcyhlLnJlc3BvbnNlKTsKCiAgICAgICAgICBfdGhpczExLnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczExLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZXNzYWdlX3RvX3NlbmQgPSBudWxsOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfSwKICAgIGVkaXRfd2Vic2l0ZV92YWx1ZTogZnVuY3Rpb24gZWRpdF93ZWJzaXRlX3ZhbHVlKGluZGV4KSB7CiAgICAgIHRoaXMuaW5kZXhfdXBkYXRlID0gaW5kZXg7CiAgICAgIHRoaXMuZWRpdF93ZWJzaXRlID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRfcHJvZmlsZV9kZXRhaWxzOiBmdW5jdGlvbiBnZXRfcHJvZmlsZV9kZXRhaWxzKCkgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7CiAgICAgIHRoaXMuZWRpdF9lbWFpbCA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRfYWRkcmVzcyA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRfZGVzY3JpcHRpb24gPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0X3dlYnNpdGUgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0X3N0YXR1cyA9IGZhbHNlOwogICAgICB0aGlzLmluZGV4X3VwZGF0ZSA9IG51bGw7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndoYXRzYXBwX3Byb2ZpbGUoKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGlzX2dldDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMxMi5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgaWYgKF90aGlzMTIuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzMTIud2hhdHNhcHBfcHJvZmlsZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS53aGF0c2FwcF9wcm9maWxlOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxMi5hcGlfc3RhdHVzX2NvZGUuTk9fREFUQV9BVkFJTEFCTEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXMxMi53aGF0c2FwcF9wcm9maWxlID0gcmVzcG9uc2UuZGF0YS5kYXRhLndoYXRzYXBwX3Byb2ZpbGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTIuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMxMi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZV9wcm9maWxlX2RldGFpbHM6IGZ1bmN0aW9uIHVwZGF0ZV9wcm9maWxlX2RldGFpbHMoKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHRoaXMuZWRpdF9lbWFpbCA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRfYWRkcmVzcyA9IGZhbHNlOwogICAgICB0aGlzLmVkaXRfZGVzY3JpcHRpb24gPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0X3dlYnNpdGUgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0X3N0YXR1cyA9IGZhbHNlOwogICAgICB0aGlzLmluZGV4X3VwZGF0ZSA9IG51bGw7CgogICAgICBpZiAodGhpcy53aGF0c2FwcF9wcm9maWxlLndlYnNpdGVzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgdGhpcy5zZWNvbmRfd2Vic2l0ZSA9IHRydWU7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfcHJvZmlsZSgpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgaXNfZWRpdDogdHJ1ZSwKICAgICAgICB3aGF0c2FwcF9wcm9maWxlOiB0aGlzLndoYXRzYXBwX3Byb2ZpbGUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMTMuc2hvd19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgdmFyIHJlc3AgPSByZXNwb25zZS5kYXRhLnVwZGF0ZV9yZXNwb25zZTsKCiAgICAgICAgaWYgKF90aGlzMTMuYXBpX3N0YXR1c19jb2RlLldIQVRTQVBQX1BST0ZJTEVfRURJVF9TVUNDRVNTRlVMLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczEzLmdldF9wcm9maWxlX2RldGFpbHMoKTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTMuYXBpX3N0YXR1c19jb2RlLldIQVRTQVBQX1BST0ZJTEVfRURJVF9VTlNVQ0NFU1NGVUwuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRleHQ6IF90aGlzMTMudGx0KCd3aGF0c2FwcF9wcm9maWxlX2VkaXRlZF91bnN1Y2Nlc3MnKSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMTMuZ2V0X3Byb2ZpbGVfZGV0YWlscygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICBfdGhpczEzLnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMTMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVfcHJvZmlsZV9pbWFnZTogZnVuY3Rpb24gdXBkYXRlX3Byb2ZpbGVfaW1hZ2UoZSkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVkX2ZpbGVzID0gZS50YXJnZXQuZmlsZXNbMF07CgogICAgICBpZiAodGhpcy5zZWxlY3RlZF9maWxlcy50eXBlID09ICdpbWFnZS9wbmcnIHx8IHRoaXMuc2VsZWN0ZWRfZmlsZXMudHlwZSA9PSAnaW1hZ2UvanBnJyB8fCB0aGlzLnNlbGVjdGVkX2ZpbGVzLnR5cGUgPT0gJ2ltYWdlL2pwZWcnKSB7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfZmlsZXMuc2l6ZSA+IDUwOTcxNTIpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0ZXh0OiAiVXBsb2FkIGltYWdlIHdpdGggc2l6ZSBzaG91bGQgYmUgbGVzcyB0aGFuIDVNQiIsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfZmlsZXMgPSAnJzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBmaWxlX3RvX3VwbG9hZCA9IHRoaXMuc2VsZWN0ZWRfZmlsZXM7CiAgICAgICAgdmFyIHByb2ZpbGVfaW1nID0gewogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHBob3RvOiBmaWxlX3RvX3VwbG9hZCwKICAgICAgICAgIHdhX3Bob25lX251bWJlcjogdGhpcy53aGF0c2FwcF9wcm9maWxlLndoYXRzYXBwX3Bob25lX251bWJlcgogICAgICAgIH07CiAgICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeShwcm9maWxlX2ltZyk7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbanNvbl0sIHsKICAgICAgICAgIHR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgIH0pOwogICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZkLmFwcGVuZCgncGhvdG8nLCB0aGlzLnNlbGVjdGVkX2ZpbGVzKTsKICAgICAgICBmZC5hcHBlbmQoImpzb24iLCBibG9iKTsKICAgICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfcHJvZmlsZSgpLCBmZCwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczE0LnNob3dfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgdmFyIHJlc3AgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgIGlmIChfdGhpczE0LmFwaV9zdGF0dXNfY29kZS5VUERBVEVEX1dIQVRTQVBQX1BST0ZJTEVfUEhPVE8uTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczE0LmdldF9wcm9maWxlX2RldGFpbHMoKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxNC5hcGlfc3RhdHVzX2NvZGUuUEVORElOR19XSEFUU0FQUF9QUk9GSUxFX1BIT1RPX1VQREFUSU9OLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTQuYXBpX3N0YXR1c19jb2RlLldIQVRTQVBQX1BST0ZJTEVfUElDVFVSRV9VTkRFUl9SRVNPTFVUSU9OLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTQuYXBpX3N0YXR1c19jb2RlLldIQVRTQVBQX1BIT1RPX1VQREFUSU9OX0ZBSUxFRC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUsCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczE0LmdldF9wcm9maWxlX2RldGFpbHMoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIFN3YWwoewogICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMxNC5nZXRfcHJvZmlsZV9kZXRhaWxzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgX3RoaXMxNC5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXMxNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRleHQ6ICJVcGxvYWQgaW1hZ2Ugd2l0aCBzcGVjaWZpYyBmb3JtYXRlKGpwZyBqcGVnIHBuZykiLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVfcHJvZmlsZV9pbWFnZTogZnVuY3Rpb24gcmVtb3ZlX3Byb2ZpbGVfaW1hZ2UoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfcHJvZmlsZSgpLCB7CiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgaXNfcmVtb3ZlX3Bob3RvOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczE1LnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpczE1LmFwaV9zdGF0dXNfY29kZS5XSEFUU0FQUF9QUk9GSUxFX1BIT1RPX1JFTU9WRUQuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzMTUuZ2V0X3Byb2ZpbGVfZGV0YWlscygpOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpczE1LmFwaV9zdGF0dXNfY29kZS5GQUlMRURfV0hBVFNBUFBfUFJPRklMRV9QSE9UT19SRU1PVkFMLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczE1LmdldF9wcm9maWxlX2RldGFpbHMoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxNS5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczE1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29ubmVjdF9lbGl4aXJfc29ja2V0OiBmdW5jdGlvbiBjb25uZWN0X2VsaXhpcl9zb2NrZXQoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmluaXRpYWxpemVfd2hhdHNhcHBfdG9waWMoKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICB3aGF0c2FwcF9waG9uZV9udW1iZXI6ICIxMDAiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgLy8gdGhpcy5jaGF0X2dyb3VwX25hbWUgPSByZXNwb25zZS5kYXRhLmNoYXRfZ3JvdXBfbmFtZTsKICAgICAgICAvLyB0aGlzLmxpdmVfY2hhdF90b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgLy8gdGhpcy5saXZlX2NoYXRfb24gPSB0cnVlOwogICAgICAgIF90aGlzMTYuY2hhdF9zb2NrZXQgPSBuZXcgU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfTElWRV9DSEFUX1dFQlNPQ0tFVF9FTkRQT0lOVCwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHdoYXRzYXBwOiAidHJ1ZSIsCiAgICAgICAgICAgIHRva2VuOiByZXNwb25zZS5kYXRhLnRva2VuCiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMTYuY2hhdF9zb2NrZXQuY29ubmVjdCgpOwoKICAgICAgICBfdGhpczE2LmNoYW5uZWwgPSBfdGhpczE2LmNoYXRfc29ja2V0LmNoYW5uZWwoIndoYXRzYXBwOiIgKyByZXNwb25zZS5kYXRhLndoYXRzYXBwX3RvcGljKTsKCiAgICAgICAgX3RoaXMxNi5jaGFubmVsLmpvaW4oKTsKCiAgICAgICAgX3RoaXMxNi5jaGFubmVsLm9uKCJuZXdfd2hhdHNhcHBfbWVzc2FnZSIsIGZ1bmN0aW9uIChyZXMpIHsvLyBjb25zb2xlLmxvZygibmV3X3doYXRzYXBwX21lc3NhZ2UiLCByZXMpCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGVuYWJsZV9zZW5kaW5nX21lc3NhZ2VzX2Zvcl91c2VyOiBmdW5jdGlvbiBlbmFibGVfc2VuZGluZ19tZXNzYWdlc19mb3JfdXNlcigpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfY2hhdCgpLCB7CiAgICAgICAgdXBkYXRlX2JvdF9yZXNwb25zZTogdHJ1ZSwKICAgICAgICB3aGF0c2FwcF9jb250YWN0X251bWJlcjogdGhpcy5jdXJyZW50X2NvbnRhY3RfbnVtYmVyLAogICAgICAgIGJvdF9yZXNwb25zZTogZmFsc2UsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChfdGhpczE3LmFwaV9zdGF0dXNfY29kZS5TVUNDRVNTRlVMX0RCX1FVRVJZLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIGlmIChfdGhpczE3LnN0YXJ0X25ld19jb252X2RhdGEuc3RhcnRfbmV3X2NvbnYgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXMxNy5zdGFydF9uZXdfY29udl9kYXRhLmlzX21lc3NhZ2Vfc2VuZGluZ19lbmFibGVkID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMTcuY29udGFjdF9saXN0W190aGlzMTcuY3VycmVudF9jb250YWN0X2luZGV4XS5pc19tZXNzYWdlX3NlbmRpbmdfZW5hYmxlZCA9IHRydWU7CgogICAgICAgICAgICBfdGhpczE3LiRzZXQoX3RoaXMxNy5jb250YWN0X2xpc3QsIF90aGlzMTcuY3VycmVudF9jb250YWN0X2luZGV4LCBfdGhpczE3LmNvbnRhY3RfbGlzdFtfdGhpczE3LmN1cnJlbnRfY29udGFjdF9pbmRleF0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMTcuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsvLyB0aGlzLiRyZWZzWyJtZXNzYWdlX3NlbmRpbmdfdGV4dGJveCJdLmZvY3VzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTcuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgaWYgKF90aGlzMTcuc3RhcnRfbmV3X2NvbnZfZGF0YS5zdGFydF9uZXdfY29udiA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczE3LnN0YXJ0X25ld19jb252X2RhdGEuaXNfbWVzc2FnZV9zZW5kaW5nX2VuYWJsZWQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMxNy5jb250YWN0X2xpc3RbX3RoaXMxNy5jdXJyZW50X2NvbnRhY3RfaW5kZXhdLmlzX21lc3NhZ2Vfc2VuZGluZ19lbmFibGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIF90aGlzMTcuJHNldChfdGhpczE3LmNvbnRhY3RfbGlzdCwgX3RoaXMxNy5jdXJyZW50X2NvbnRhY3RfaW5kZXgsIF90aGlzMTcuY29udGFjdF9saXN0W190aGlzMTcuY3VycmVudF9jb250YWN0X2luZGV4XSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMxNy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgey8vIHRoaXMuJHJlZnNbIm1lc3NhZ2Vfc2VuZGluZ190ZXh0Ym94Il0uZm9jdXMoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxNy5hcGlfc3RhdHVzX2NvZGUuVU5TVUNDRVNTRlVMX0RCX1FVRVJZLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0ZXh0OiBfdGhpczE3LnRsdCgnZGJfb3BlcmF0aW9uX3Vuc3VjY2VzcycpLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczE3LmFwaV9zdGF0dXNfY29kZS5NRVNTQUdFX1NFTkRJTkdfTElNSVRfUkVBQ0hFRC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICB0ZXh0OiAiTWVzc2FnZSBTZW5kaW5nIExpbWl0IFJlYWNoZWQiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IF90aGlzMTcudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9ub3dfbXNnJyksCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IF90aGlzMTcudGx0KCdlbWFpbF90ZW1wX3N3YWxfdXBncmFkZV9sYXRlcl9tc2cnKSwKICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUgPT0gdHJ1ZSkgewogICAgICAgICAgICAgIF90aGlzMTcuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdTZXR0aW5ncycsCiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uOiB0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxNy5zaG93X3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczE3LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZXhwYW5kX3RleHRib3g6IGZ1bmN0aW9uIGV4cGFuZF90ZXh0Ym94KGlkLCBrZXkpIHsKICAgICAgaWYgKGlkICE9ICcjYnVzaW5lc3NfYWRkcmVzcycpIHsKICAgICAgICB0aGlzLmNhbGxzZWFyY2goKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpOwogICAgICAgICAgdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBzY3JvbGxfaGVpZ2h0ID0gZS50YXJnZXQuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQoc2Nyb2xsX2hlaWdodCwgInB4Iik7CiAgICAgICAgICB9KTsKICAgICAgICB9LCAxMCk7CiAgICAgIH0KICAgIH0sCiAgICBjYWxsc2VhcmNoOiBmdW5jdGlvbiBjYWxsc2VhcmNoKCkgewogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7CiAgICAgICAgdGhpcy51cGRhdGVfcHJvZmlsZV9kZXRhaWxzKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja19jdXJyZW50X251bWJlcjogZnVuY3Rpb24gY2hlY2tfY3VycmVudF9udW1iZXIocmVzKSB7CiAgICAgIHJldHVybiByZXMud2hhdHNhcHBfcGhvbmVfbnVtYmVyID09PSB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXIgPyB0cnVlIDogZmFsc2U7CiAgICB9LAogICAgZm9ybWF0X3VzZXJfcXVlcnlfZGF0ZTogZnVuY3Rpb24gZm9ybWF0X3VzZXJfcXVlcnlfZGF0ZSh1c2VyX3F1ZXJ5X2RhdGUsIGluZGV4KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKE9iamVjdC5rZXlzKHRoaXMuaGlzdG9yeVtpbmRleC0xXSkpCiAgICAgIGlmICh0aGlzLmhpc3RvcnlbaW5kZXggLSAxXS51c2VyX3F1ZXJ5X2RhdGUgPT0gdXNlcl9xdWVyeV9kYXRlKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CgogICAgICByZXR1cm4gdXNlcl9xdWVyeV9kYXRlOwogICAgfSwKICAgIGdldF9hbGxfY29udGFjdF9saXN0OiBmdW5jdGlvbiBnZXRfYWxsX2NvbnRhY3RfbGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgdGhpcy5zaG93X3NwaW5uZXIgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9jaGF0KCksIHsKICAgICAgICBpc19nZXRfYWxsX2NvbnRhY3RzOiB0cnVlLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczE4LnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09IF90aGlzMTguYXBpX3N0YXR1c19jb2RlLkNPTlRBQ1RTX05PVF9GT1VORC5NU0dfQ09ERSkgewogICAgICAgICAgX3RoaXMxOC5jb250YWN0X2xpc3QgPSBbXTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTguYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzMTguYWxsX2NvbnRhY3RfbGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jb250YWN0czsKICAgICAgICAgIF90aGlzMTguYWxsX2NvbnRhY3RfcGFnaW5hdGlvbi50b3RhbF9yZWNvcmRzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczE4LmFwaV9zdGF0dXNfY29kZS5EQVRBX05PVF9GT1VORC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczE4LmNvbnRhY3RfbGlzdCA9IFtdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMTguc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMxOC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vRE9ORQogICAgbmV3X2NvbnRhY3RfbGlzdDogZnVuY3Rpb24gbmV3X2NvbnRhY3RfbGlzdCgpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgdmFyIHNjcm9sbGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWxsLWNvbnRhY3QtbGlzdCcpWzBdLnNjcm9sbFRvcDsKCiAgICAgIGlmIChzY3JvbGxlciA+IDEyMCAmJiAhdGhpcy5pc19wYWdpbmF0ZWRfY2FsbCAmJiAhdGhpcy50b3RhbF9jb250YWN0X2xvYWRlZCkgewogICAgICAgIHRoaXMuaXNfcGFnaW5hdGVkX2NhbGwgPSB0cnVlOwogICAgICAgIHRoaXMuc2Nyb2xsX3NwaW5uZXJfY2hhdCA9IHRydWU7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfY2hhdCgpLCB7CiAgICAgICAgICBpc19nZXRfYWxsX2NvbnRhY3RzOiB0cnVlLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLmFsbF9jb250YWN0X3BhZ2luYXRpb24ucGVyX3BhZ2UsCiAgICAgICAgICBwYWdlX25vOiB0aGlzLmFsbF9jb250YWN0X3BhZ2luYXRpb24ucGFnZV9ubyArIDEKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMTkuc2Nyb2xsX3NwaW5uZXJfY2hhdCA9IGZhbHNlOwogICAgICAgICAgX3RoaXMxOS5pc19wYWdpbmF0ZWRfY2FsbCA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT0gX3RoaXMxOS5hcGlfc3RhdHVzX2NvZGUuQ09OVEFDVFNfTk9UX0ZPVU5ELk1TR19DT0RFKSB7CiAgICAgICAgICAgIF90aGlzMTkuY29udGFjdF9saXN0ID0gW107CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMTkuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5jb250YWN0cy5sZW5ndGggIT0gMCkgewogICAgICAgICAgICAgIF90aGlzMTkuYWxsX2NvbnRhY3RfbGlzdCA9IF90aGlzMTkuYWxsX2NvbnRhY3RfbGlzdC5jb25jYXQocmVzcG9uc2UuZGF0YS5kYXRhLmNvbnRhY3RzKTsKICAgICAgICAgICAgICBfdGhpczE5LmFsbF9jb250YWN0X3BhZ2luYXRpb24ucGFnZV9ubyArPSAxOwogICAgICAgICAgICAgIF90aGlzMTkuYWxsX2NvbnRhY3RfcGFnaW5hdGlvbi50b3RhbF9yZWNvcmRzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMxOS5hcGlfc3RhdHVzX2NvZGUuREFUQV9OT1RfRk9VTkQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgICBfdGhpczE5LmNvbnRhY3RfbGlzdCA9IFtdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBfdGhpczE5LnNjcm9sbF9zcGlubmVyX2NoYXQgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXMxOS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGFycmF5X21vdmU6IGZ1bmN0aW9uIGFycmF5X21vdmUoYXJyLCBvbGRfaW5kZXgsIG5ld19pbmRleCkgewogICAgICBpZiAobmV3X2luZGV4ID49IGFyci5sZW5ndGgpIHsKICAgICAgICB2YXIgayA9IG5ld19pbmRleCAtIGFyci5sZW5ndGggKyAxOwoKICAgICAgICB3aGlsZSAoay0tKSB7CiAgICAgICAgICBhcnIucHVzaCh1bmRlZmluZWQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgYXJyLnNwbGljZShuZXdfaW5kZXgsIDAsIGFyci5zcGxpY2Uob2xkX2luZGV4LCAxKVswXSk7CiAgICAgIHJldHVybiBhcnI7IC8vIGZvciB0ZXN0aW5nCiAgICB9LAogICAgZm9ybWF0VXNlclF1ZXJ5VGltZTogZnVuY3Rpb24gZm9ybWF0VXNlclF1ZXJ5VGltZSh1c2VyX3F1ZXJ5X3RpbWUsIHZhbCkgewogICAgICAvLyBpZiAodmFsID09IHVuZGVmaW5lZCkgewogICAgICAvLyAgIHJldHVybiBuZXcgRGF0ZSh1c2VyX3F1ZXJ5X3RpbWUpLnRvTG9jYWxlVGltZVN0cmluZyhuYXZpZ2F0b3IubGFuZ3VhZ2UsIHsKICAgICAgLy8gICBob3VyOiAnMi1kaWdpdCcsCiAgICAgIC8vICAgbWludXRlOicyLWRpZ2l0JwogICAgICAvLyAgIH0pCiAgICAgIC8vIH1lbHNlewogICAgICByZXR1cm4gbW9tZW50LnV0Yyh1c2VyX3F1ZXJ5X3RpbWUpLmxvY2FsKCkuZm9ybWF0KCJoOm1tIGEiKTsgLy8gcmV0dXJuIHVzZXJfcXVlcnlfdGltZQogICAgfSwKICAgIGlzX2FjdGl2ZV9jaGF0OiBmdW5jdGlvbiBpc19hY3RpdmVfY2hhdChpbmRleCkgewogICAgICBpZiAoaW5kZXggPT09IHRoaXMuY3VycmVudF9jb250YWN0X2luZGV4KSB7CiAgICAgICAgcmV0dXJuICJiYWNrZ3JvdW5kOiAjZjBmOGZmIjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRhY3RfbGlzdFtpbmRleF0uaXNfbmV3X25vdGlmaWNhdGlvbiB8fCBmYWxzZSkgewogICAgICAgIHJldHVybiAiYmFja2dyb3VuZDogIzQ3YTg4NDMzIjsKICAgICAgfQoKICAgICAgcmV0dXJuICJiYWNrZ3JvdW5kOiAjZmZmZmZmIjsKICAgIH0sCiAgICBmb3JtYXRDb250YWN0TGFzdE1lc3NhZ2VEYXRlOiBmdW5jdGlvbiBmb3JtYXRDb250YWN0TGFzdE1lc3NhZ2VEYXRlKGRhdGUsIHRpbWUpIHsKICAgICAgaWYgKG1vbWVudChkYXRlKS5pc1NhbWUoRGF0ZS5ub3coKSwgJ2RheScpKSB7CiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCIiLmNvbmNhdChkYXRlLCAiICIpLmNvbmNhdCh0aW1lLCAiWiIpKS50b0xvY2FsZVRpbWVTdHJpbmcobmF2aWdhdG9yLmxhbmd1YWdlLCB7CiAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsCiAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gZGF0ZTsKICAgIH0sCiAgICBmb3JtYXRTZWFyY2hlZERhdGU6IGZ1bmN0aW9uIGZvcm1hdFNlYXJjaGVkRGF0ZShkYXRlKSB7CiAgICAgIHZhciByZXNwb25zZURhdGUgPSBtb21lbnQoZGF0ZSkuZm9ybWF0KCdERC9NTS9ZWVlZJyk7CiAgICAgIHJldHVybiByZXNwb25zZURhdGU7CiAgICB9LAogICAgY2hlY2tfcHJldmlvdXNfbWVzc2FnZV9kYXRlX3NhbWU6IGZ1bmN0aW9uIGNoZWNrX3ByZXZpb3VzX21lc3NhZ2VfZGF0ZV9zYW1lKGluZGV4KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGluZGV4KQogICAgICByZXR1cm4gdHJ1ZTsgLy8gaWYoaW5kZXggPT0gMCkgewogICAgICAvLyAgIHJldHVybiB0cnVlOyAKICAgICAgLy8gfQogICAgICAvLyByZXR1cm4gdGhpcy5oaXN0b3J5W2luZGV4LTFdLmJvdF9yZXNwb25zZV9kYXRlID09IHRoaXMuaGlzdG9yeVtpbmRleF0uYm90X3Jlc3BvbnNlX2RhdGUgPyB0cnVlIDogZmFsc2U7IAogICAgfSwKICAgIHByb2Nlc3NfYXR0YWNobWVudF9maWxlOiBmdW5jdGlvbiBwcm9jZXNzX2F0dGFjaG1lbnRfZmlsZShlKSB7CiAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwoKICAgICAgaWYgKGZpbGVzWzBdLnNpemUgPiAyMDk3MTUyKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0ZXh0OiAiVXBsb2FkIGltYWdlIHdpdGggc2l6ZSBsZXNzIHRoYW4gMk1CIiwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMTAwMDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZpbGVfZXh0ZW5zaW9ucy5hbGxfYWxsb3dlZF9maWxlX2V4dGVuc2lvbnMuaW5jbHVkZXMoZmlsZXNbMF0udHlwZSkpIHsKICAgICAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuOwogICAgICAgIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5tZWRpYV9maWxlX25hbWUgPSBmaWxlc1swXS5uYW1lOwogICAgICAgIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5tZWRpYV9jb250ZW50X3R5cGUgPSBmaWxlc1swXS50eXBlOwogICAgICAgIHRoaXMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5kb2N1bWVudF9jb250ZW50ID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlc1swXSk7CiAgICAgICAgdGhpcy5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLnNob3dfcHJldmlldyA9IHRydWU7CiAgICAgICAgdGhpcy5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLm1lZGlhX3R5cGUgPSB0aGlzLmZpbGVfZXh0ZW5zaW9ucy5pbWFnZV9maWxlX2V4dGVuc2lvbnMuaW5jbHVkZXMoZmlsZXNbMF0udHlwZSkgPyAnaW1hZ2UnIDogJ2RvY3VtZW50JzsKICAgICAgICB0aGlzLnNlbmRfYXR0YWNobWVudF9kZXRhaWwubWVkaWFfY2FwdGlvbiA9IHRoaXMubWVzc2FnZV90b19zZW5kOwogICAgICAgIHRoaXMuY3JlYXRlQXR0YWNobWVudChmaWxlc1swXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0aXRsZTogIlBsZWFzZSBTZWxlY3QgYSBwcm9wZXIgZG9jdW1lbnQgb3IgaW1hZ2UgaGF2aW5nIHRoZSBjb3JyZWN0IGZpbGV0eXBlIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlQXR0YWNobWVudDogZnVuY3Rpb24gY3JlYXRlQXR0YWNobWVudChmaWxlLCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyMC5zZW5kX2F0dGFjaG1lbnRfZGV0YWlsLm1lZGlhX2ZpbGUgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1nLXByZXZpZXciKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbWctcHJldmlldyIpLmlubmVySFRNTCA9ICc8aW1nIGNsYXNzPSJjdXN0b20tZGlzcGxheS1pbWFnZSIgc3R5bGU9Im1heC13aWR0aDo5OCU7aGVpZ2h0OjQ5MHB4OyBwYWRkaW5nOiAxLjVyZW07bWFyZ2luLWxlZnQ6IGF1dG87IG1hcmdpbi1yaWdodDogYXV0bzsiIHNyYz0iJyArIHRoaXMucmVzdWx0ICsgJyIgLz4nOwogICAgICB9KTsKICAgIH0sCiAgICBpc19yZXNwb25zZV9pbWFnZTogZnVuY3Rpb24gaXNfcmVzcG9uc2VfaW1hZ2UoZGF0YSkgewogICAgICBpZiAoZGF0YS50ZW1wbGF0ZSA9PSBudWxsICYmIGRhdGEudGV4dCA9PSBudWxsICYmIEJvb2xlYW4oZGF0YS5pbWFnZSkgIT0gbnVsbCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaXNfcmVzcG9uc2VfZG9jdW1lbnQ6IGZ1bmN0aW9uIGlzX3Jlc3BvbnNlX2RvY3VtZW50KGRhdGEpIHsKICAgICAgaWYgKGRhdGEudGVtcGxhdGUgPT0gbnVsbCAmJiBkYXRhLnRleHQgPT0gbnVsbCAmJiBkYXRhLmltYWdlID09IG51bGwgJiYgQm9vbGVhbihkYXRhLmF0dGFjaG1lbnQpICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIHNob3dfaW1hZ2VfZnVsbHNjcmVlbjogZnVuY3Rpb24gc2hvd19pbWFnZV9mdWxsc2NyZWVuKGltZ19zcmMpIHsKICAgICAgJCgiI3Nob3dJbWFnZU1vZGFsIikubW9kYWwoInNob3ciKTsKICAgICAgdGhpcy5jdXJyZW50X2Z1bGxzY3JlZW5faW1hZ2Vfc3JjID0gaW1nX3NyYzsKICAgIH0sCiAgICBhZGRfbmV3X2NvbnRhY3RfbW9kYWw6IGZ1bmN0aW9uIGFkZF9uZXdfY29udGFjdF9tb2RhbCgpIHsKICAgICAgLy8gY29uc29sZS5sb2coImFkZCBuZXcgY29udGFjdC1hZGRDb250YWN0TW9kYWwiKQogICAgICAkKCIjYWRkQ29udGFjdE1vZGFsIikubW9kYWwoInNob3ciKTsKICAgIH0sCiAgICBzYXZlX25ld19jb250YWN0OiBmdW5jdGlvbiBzYXZlX25ld19jb250YWN0KCkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5hZGRfbmV3X2NvbnRhY3QuY29udGFjdF9uYW1lID09IG51bGwgfHwgdGhpcy5hZGRfbmV3X2NvbnRhY3QucGhvbmVfbnVtYmVyID09IG51bGwpIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRpdGxlOiAiRmlsbCBkZXRhaWxzIiwKICAgICAgICAgIHRleHQ6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBjb250YWN0IG51bWJlciIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5hZGRfbmV3X2NvbnRhY3QuY29tcGFueV9pZCA9IHRoaXMuY29tcGFueV9pZDsKICAgICAgdGhpcy5hZGRfbmV3X2NvbnRhY3QuY29tcGFueV9uYW1lID0gdGhpcy5jb21wYW55X25hbWU7CiAgICAgIHRoaXMuc2hvd19zcGlubmVyID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfY2hhdCgpLCB0aGlzLmFkZF9uZXdfY29udGFjdCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMjEuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChfdGhpczIxLmFwaV9zdGF0dXNfY29kZS5XSEFUU0FQUF9DT05UQUNUX0FEREVEX1NVQ0NFU1NGVUxMWS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzIiwKICAgICAgICAgICAgdGV4dDogIkNvbnRhY3QgQWRkZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICAkKCIjYWRkQ29udGFjdE1vZGFsIikubW9kYWwoImhpZGUiKTsKCiAgICAgICAgICBfdGhpczIxLmNsZWFyX2FkZF9jb250YWN0KCk7CgogICAgICAgICAgX3RoaXMyMS5nZXRfYWxsX2NvbnRhY3RfbGlzdCgpOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyMS5hcGlfc3RhdHVzX2NvZGUuV0hBVFNBUFBfQ09OVEFDVF9BTFJFQURZX0VYSVNULk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogIk9vcHMhIiwKICAgICAgICAgICAgdGV4dDogIlByb3ZpZGVkIG51bWJlciBhbHJlYWR5IGV4aXN0cyBpbiBjb250YWN0cyIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMjEuYXBpX3N0YXR1c19jb2RlLldIQVRTQVBQX0NPTlRBQ1RfUVVFUllfRVJST1IuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiAiT29wcyEiLAogICAgICAgICAgICB0ZXh0OiAiU29tZSBFcnJvciBPY2N1cnJlZC4gUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0aXRsZTogIk9vcHMhIiwKICAgICAgICAgIHRleHQ6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICBfdGhpczIxLnNob3dfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMjEuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbGVhcl9hZGRfY29udGFjdDogZnVuY3Rpb24gY2xlYXJfYWRkX2NvbnRhY3QoKSB7CiAgICAgIHRoaXMuYWRkX25ld19jb250YWN0ID0gewogICAgICAgIHBob25lX251bWJlcjogbnVsbCwKICAgICAgICBpc19hZGRfY29udGFjdDogdHJ1ZSwKICAgICAgICBjb250YWN0X25hbWU6IG51bGwsCiAgICAgICAgZm9ybWF0dGVkTnVtYmVyOiBudWxsCiAgICAgIH07CiAgICB9LAogICAgZG93bmxvYWRfZG9jdW1lbnQ6IGZ1bmN0aW9uIGRvd25sb2FkX2RvY3VtZW50KGF0dGFjaG1lbnQpIHsKICAgICAgLy8gY29uc29sZS5sb2coYXR0YWNobWVudCkKICAgICAgdmFyIGFUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGFUYWcuc2V0QXR0cmlidXRlKCdpZCcsICdhYmNkZWZnJyk7CiAgICAgIGFUYWcuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICdkb3dubG9hZCcpOwogICAgICBhVGFnLnNldEF0dHJpYnV0ZSgnaHJlZicsIGF0dGFjaG1lbnQubGluayk7CiAgICAgIGFUYWcuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAiX2JsYW5rIik7CiAgICAgIGFUYWcuY2xpY2soKTsgLy8gY29uc3QgYmxvYiA9IG5ldyBCbG9iKFthdHRhY2htZW50LmxpbmtdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9wZGYnIH0pCiAgICAgIC8vIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgLy8gbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKQogICAgICAvLyBsaW5rLmRvd25sb2FkID0gYXR0YWNobWVudC5maWxlbmFtZQogICAgICAvLyBsaW5rLmNsaWNrKCkKICAgICAgLy8gVVJMLnJldm9rZU9iamVjdFVSTChsaW5rLmhyZWYpCiAgICAgIC8vIGxpbmsuY2xpY2soKTsKICAgIH0sCiAgICBvcGVuX3NlbmRfdGVtcGxhdGVfdG9fdXNlcjogZnVuY3Rpb24gb3Blbl9zZW5kX3RlbXBsYXRlX3RvX3VzZXIoKSB7CiAgICAgIHRoaXMucmV0cmlldmVfYWxsX3RlbXBsYXRlcygpOwogICAgICAkKCIjc2VuZFRlbXBsYXRlTW9kYWwiKS5tb2RhbCgic2hvdyIpOwogICAgfSwKICAgIHJldHJpZXZlX2FsbF90ZW1wbGF0ZXM6IGZ1bmN0aW9uIHJldHJpZXZlX2FsbF90ZW1wbGF0ZXMoKSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudF90ZW1wbGF0ZSA9IHt9OwogICAgICB0aGlzLnNob3dfc3Bpbm5lciA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLndoYXRzYXBwX3RlbXBsYXRlKCksIHsKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnlfbmFtZSwKICAgICAgICBpc19nZXQ6IHRydWUsCiAgICAgICAgaXNfbm90aWZpY2F0aW9uOiB0aGlzLmlzX25vdGlmaWNhdGlvbl90ZW1wbGF0ZSwKICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMjIuc2hvd19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChfdGhpczIyLmFwaV9zdGF0dXNfY29kZS5EQVRBX0FWQUlMQUJMRS5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBfdGhpczIyLndoYXRzYXBwX3RlbXBsYXRlcy50ZW1wbGF0ZXNfbGlzdCA9IFtdOwogICAgICAgICAgX3RoaXMyMi53aGF0c2FwcF90ZW1wbGF0ZXMudGVtcGxhdGVzX2xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEudGVtcGxhdGVzOwogICAgICAgICAgX3RoaXMyMi53aGF0c2FwcF90ZW1wbGF0ZXMucGFnaW5hdGlvbl9kYXRhLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YS5wYWdpbmF0aW9uLnRvdGFsX2RhdGE7CiAgICAgICAgICBfdGhpczIyLndoYXRzYXBwX3RlbXBsYXRlcy5wYWdpbmF0aW9uX2RhdGEudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhLnBhZ2luYXRpb24udG90YWxfcGFnZTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMjIuYXBpX3N0YXR1c19jb2RlLk5PX1dIQVRTQVBQX1RFTVBMQVRFLk1TR19DT0RFID09PSByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUpIHsKICAgICAgICAgIF90aGlzMjIud2hhdHNhcHBfdGVtcGxhdGVzLnRlbXBsYXRlc19saXN0ID0gW107CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczIyLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VuZF90ZW1wbGF0ZV90b19jdXN0b21lcjogZnVuY3Rpb24gc2VuZF90ZW1wbGF0ZV90b19jdXN0b21lcigpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMud2hhdHNhcHBfdGVtcGxhdGUoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24sCiAgICAgICAgaXNfbm90aWZpY2F0aW9uOiBmYWxzZSwKICAgICAgICB0ZW1wbGF0ZV9pZDogdGhpcy53aGF0c2FwcF90ZW1wbGF0ZXMuc2VsZWN0ZWRfdGVtcGxhdGUsCiAgICAgICAgY29udGFjdHNfbGlzdDogW3RoaXMuY3VycmVudF9jb250YWN0X251bWJlcl0sCiAgICAgICAgcHVibGlzaF90ZW1wbGF0ZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UgLCAicmVzIikKICAgICAgICBpZiAoX3RoaXMyMy5hcGlfc3RhdHVzX2NvZGUuTUVTU0FHRV9TRU5ESU5HX0xJTUlUX1JFQUNIRUQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgdGV4dDogIk1lc3NhZ2UgU2VuZGluZyBMaW1pdCBSZWFjaGVkIiwKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBfdGhpczIzLnRsdCgnZW1haWxfdGVtcF9zd2FsX3VwZ3JhZGVfbm93X21zZycpLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBfdGhpczIzLnRsdCgnZW1haWxfdGVtcF9zd2FsX3VwZ3JhZGVfbGF0ZXJfbXNnJyksCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlID09IHRydWUpIHsKICAgICAgICAgICAgICBfdGhpczIzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnU2V0dGluZ3MnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgIFN1YnNjcmlwdGlvbjogdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMjMuYXBpX3N0YXR1c19jb2RlLlNFTkRJTkdfVEVNUExBVEUuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiBfdGhpczIzLnRsdCgnc2VuZF90ZW1wbGF0ZV9zZW50X21zZycpLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZygiLS0tLSIgLCByZXNwb25zZS5kYXRhKQogICAgICAgICAgLy8gY29uc3QgdGVtcGxhdGUgPSAgdGhpcy53aGF0c2FwcF90ZW1wbGF0ZXMudGVtcGxhdGVzX2xpc3QuZmluZCgoaXRlbSkgPT4gaXRlbS50ZW1wbGF0ZV9pZCA9PSB0aGlzLndoYXRzYXBwX3RlbXBsYXRlcy5zZWxlY3RlZF90ZW1wbGF0ZSk7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLndoYXRzYXBwX3RlbXBsYXRlcy5zZWxlY3RlZF90ZW1wbGF0ZSk7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0ZW1wbGF0ZS52YXJpYWJsZV9kaWN0LCB0aGlzLmN1cnJlbnRfY29udGFjdF9udW1iZXIpOwoKICAgICAgICAgIHZhciBjdXJyZW50X3RpbWVzdGFtcCA9IG5ldyBEYXRlKCksCiAgICAgICAgICAgICAgY3VycmVudF9kYXRlID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7CiAgICAgICAgICB2YXIgYm90X3Jlc3BvbnNlID0gW3sKICAgICAgICAgICAgInRleHQiOiBudWxsLAogICAgICAgICAgICAidHlwZSI6ICJ0ZW1wbGF0ZSIsCiAgICAgICAgICAgICJyZWNpcGllbnRfaWQiOiBfdGhpczIzLmN1cnJlbnRfY29udGFjdF9udW1iZXIsCiAgICAgICAgICAgICJ0ZW1wbGF0ZSI6IF90aGlzMjMud2hhdHNhcHBfdGVtcGxhdGVzLnByZXZpZXdfdGVtcGxhdGVfZGF0YS5ib2R5CiAgICAgICAgICB9XTsKCiAgICAgICAgICBpZiAoX3RoaXMyMy5zdGFydF9uZXdfY29udl9kYXRhLnN0YXJ0X25ld19jb252KSB7CiAgICAgICAgICAgIF90aGlzMjMuY3VycmVudF9jb250YWN0X2luZGV4ID0gMDsKICAgICAgICAgICAgX3RoaXMyMy5uZXdfY29udl9jb250YWN0X2RhdGEuY2hhdF9kYXRldGltZSA9IGN1cnJlbnRfdGltZXN0YW1wLnRvSVNPU3RyaW5nKCk7IC8vIHRoaXMubmV3X2NvbnZfY29udGFjdF9kYXRhLmlzX21lc3NhZ2Vfc2VuZGluZ19lbmFibGVkID0gdHJ1ZQoKICAgICAgICAgICAgX3RoaXMyMy5uZXdfY29udl9jb250YWN0X2RhdGEubGFzdF9ib3RfcmVzcG9uc2UgPSB7CiAgICAgICAgICAgICAgdGV4dDogX3RoaXMyMy5tZXNzYWdlX3RvX3NlbmQsCiAgICAgICAgICAgICAgY2hhdF9kYXRldGltZTogY3VycmVudF90aW1lc3RhbXAudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICBkYXRlOiBjdXJyZW50X2RhdGUsCiAgICAgICAgICAgICAgdGltZTogIiIuY29uY2F0KGN1cnJlbnRfdGltZXN0YW1wLmdldFVUQ0hvdXJzKCksICI6IikuY29uY2F0KGN1cnJlbnRfdGltZXN0YW1wLmdldFVUQ01pbnV0ZXMoKSkKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIF90aGlzMjMuY29udGFjdF9saXN0LnVuc2hpZnQoX3RoaXMyMy5uZXdfY29udl9jb250YWN0X2RhdGEpOwoKICAgICAgICAgICAgX3RoaXMyMy5zdGFydF9uZXdfY29udl9kYXRhLnN0YXJ0X25ld19jb252ID0gZmFsc2U7CiAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKGJvdF9yZXNwb25zZSkKCgogICAgICAgICAgdmFyIGJvdF9yZXNwb25zZV9kYXRlID0gY3VycmVudF9kYXRlOwoKICAgICAgICAgIGlmIChfdGhpczIzLmhpc3RvcnkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmJvdF9yZXNwb25zZV9kYXRlID09IGJvdF9yZXNwb25zZV9kYXRlOwogICAgICAgICAgfSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICBib3RfcmVzcG9uc2VfZGF0ZSA9ICIiOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMjMuaGlzdG9yeS5wdXNoKHsKICAgICAgICAgICAgIkJPVFJlc3BvbnNlIjogYm90X3Jlc3BvbnNlLAogICAgICAgICAgICAidXNlcl9xdWVyeV90aW1lIjogY3VycmVudF90aW1lc3RhbXAsCiAgICAgICAgICAgICJVc2VyUXVlcnkiOiAiIiwKICAgICAgICAgICAgImJvdF9yZXNwb25zZV9kYXRlIjogYm90X3Jlc3BvbnNlX2RhdGUsCiAgICAgICAgICAgICJib3RfcmVzcG9uc2VfdGltZSI6IGN1cnJlbnRfdGltZXN0YW1wLAogICAgICAgICAgICAidXNlcl9xdWVyeV9kYXRlIjogY3VycmVudF9kYXRlLAogICAgICAgICAgICAiQ2hhdF9EYXRldGltZSI6IGN1cnJlbnRfdGltZXN0YW1wLnRvSVNPU3RyaW5nKCkKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMjMuc2Nyb2xsX2Rvd24oKTsKCiAgICAgICAgICBfdGhpczIzLmNvbnRhY3RfbGlzdFtfdGhpczIzLmN1cnJlbnRfY29udGFjdF9pbmRleF0ubGFzdF9ib3RfcmVzcG9uc2UudGV4dCA9IF90aGlzMjMubWVzc2FnZV90b19zZW5kOwogICAgICAgICAgX3RoaXMyMy5jb250YWN0X2xpc3QgPSBfdGhpczIzLmFycmF5X21vdmUoX3RoaXMyMy5jb250YWN0X2xpc3QsIF90aGlzMjMuY3VycmVudF9jb250YWN0X2luZGV4LCAwKTsKICAgICAgICAgIF90aGlzMjMubWVzc2FnZV90b19zZW5kID0gbnVsbDsKICAgICAgICAgIF90aGlzMjMuY3VycmVudF9jb250YWN0X2luZGV4ID0gMDsKICAgICAgICAgIF90aGlzMjMuc2VuZF9hdHRhY2htZW50X2RldGFpbC5zaG93X3ByZXZpZXcgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMjMud2hhdHNhcHBfdGVtcGxhdGVzLnNlbGVjdGVkX3RlbXBsYXRlID0gbnVsbDsKICAgICAgICAgICQoIiNzZW5kVGVtcGxhdGVNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpczIzLmFwaV9zdGF0dXNfY29kZS5XSEFUU0FQUF9VU0VSX0xJTUlUX1JFQUNIRUQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiBfdGhpczIzLnRsdCgndGllcl9zcGVjaWZpY191c2VyX2xpbWl0X3JlYWNoZWQnKSwKICAgICAgICAgICAgdGV4dDogX3RoaXMyMy50bHQoJ3RpZXJfc3BlY2lmaWNfdXNlcl9saW1pdF9yZWFjaGVkX21zZycpLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDQwMDAKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyMy5hcGlfc3RhdHVzX2NvZGUuV0hBVFNBUFBfT1BUX09VVF9DT05UQUNUUy5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGV4dDogX3RoaXMyMy50bHQoJ0FsbF9jb250YWN0c19oYXZlX29wdGVkX291dF9vZl9nZXR0aW5nX3RlbXBsYXRlcycpLAogICAgICAgICAgICB0eXBlOiAiZXJvb3IiLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiA0MDAwCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMjMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRfY29udGFjdF9kaXNwbGF5X25hbWU6IGZ1bmN0aW9uIGdldF9jb250YWN0X2Rpc3BsYXlfbmFtZShjb250YWN0KSB7CiAgICAgIGlmIChjb250YWN0LmNvbnRhY3RfbmFtZSkgcmV0dXJuIGNvbnRhY3QuY29udGFjdF9uYW1lOwogICAgICBpZiAoY29udGFjdC5wcm9maWxlX25hbWUpIHJldHVybiBjb250YWN0LnByb2ZpbGVfbmFtZTsKICAgICAgcmV0dXJuIGNvbnRhY3Qud2hhdHNhcHBfcGhvbmVfbnVtYmVyOwogICAgfSwKICAgIG9wZW5faW1wb3J0X2Zyb21fY3N2X21vZGFsOiBmdW5jdGlvbiBvcGVuX2ltcG9ydF9mcm9tX2Nzdl9tb2RhbCgpIHsKICAgICAgJCgiI2FkZENvbnRhY3RNb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICQoIiNpbXBvcnRDb250YWN0Q1NWTW9kYWwiKS5tb2RhbCgic2hvdyIpOwogICAgfSwKICAgIGZpbGVfaW5wdXRfY29udGFjdHNfY3N2OiBmdW5jdGlvbiBmaWxlX2lucHV0X2NvbnRhY3RzX2NzdihlKSB7CiAgICAgIGlmIChlLnRhcmdldC5maWxlc1swXS50eXBlID09ICd0ZXh0L2NzdicpIHsKICAgICAgICB0aGlzLmNvbnRhY3RfY3N2LmZpbGVfbGFiZWwgPSBlLnRhcmdldC5maWxlc1swXS5uYW1lOwogICAgICAgIHRoaXMuY29udGFjdF9jc3YuZmlsZV9jb250ZW50ID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgdGhpcy5jb250YWN0X2Nzdi5maWxlX3NlbGVjdGVkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRpdGxlOiAiUGxlYXNlIHNlbGVjdCBhIHByb3BlciBkb2N1bWVudCBoYXZpbmcgQ1NWIGZpbGV0eXBlIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmlsZV9zdWJtaXRfdXBsb2FkX2NvbnRhY3RzOiBmdW5jdGlvbiBmaWxlX3N1Ym1pdF91cGxvYWRfY29udGFjdHMoKSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIGlmICgkKCIjaW5wdXRHcm91cFVwbG9hZEZpbGVjc3YiKS52YWwoKSA9PSAnJykgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogIk9vcHMhIiwKICAgICAgICAgIHRleHQ6ICJQbGVhc2UgU2VsZWN0IGEgQ1NWIGZpbGUiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB1c2VyX2RldGFpbHMgPSB7CiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleQogICAgICB9OwogICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHVzZXJfZGV0YWlscyk7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2pzb25dLCB7CiAgICAgICAgdHlwZTogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgIH0pOwogICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZmQuYXBwZW5kKCJmaWxlIiwgdGhpcy5jb250YWN0X2Nzdi5maWxlX2NvbnRlbnQsIHRoaXMuY29udGFjdF9jc3YuZmlsZV9sYWJlbCk7IC8vIGZkLmFwcGVuZCgianNvbiIsIGJsb2IpOwoKICAgICAgZmQuYXBwZW5kKCJjb21wYW55X2lkIiwgdGhpcy5jb21wYW55X2lkKTsKICAgICAgZmQuYXBwZW5kKCJjb21wYW55X25hbWUiLCB0aGlzLmNvbXBhbnlfbmFtZSk7CiAgICAgIGZkLmFwcGVuZCgiZW1haWwiLCB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwpOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy53aGF0c2FwcF9pbXBvcnRfY29udGFjdHMoKSwgZmQsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAoX3RoaXMyNC5hcGlfc3RhdHVzX2NvZGUuRklMRV9VUExPQUQuTVNHX0NPREUgPT09IHJlc3BvbnNlLmRhdGEubWVzc2FnZS5NU0dfQ09ERSkgewogICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICAgIHRleHQ6ICJNdWx0aXBsZSBjb250YWN0cyBhcmUgYmVpbmcgYWRkZWQuIFlvdSB3aWxsIHJlY2VpdmUgYSBtYWlsIHdoZW4gdGhlIHByb2Nlc3NpbmcgaXMgZmluaXNoZWQuIiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICAkKCIjaW1wb3J0Q29udGFjdENTVk1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMjQuYXBpX3N0YXR1c19jb2RlLklOQ09SUkVDVF9GSUxFX0ZPUk1BVC5NU0dfQ09ERSA9PT0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFKSB7CiAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgdGl0bGU6ICJJbmNvcnJlY3QgRmlsZSBGb3JtYXQhIiwKICAgICAgICAgICAgdGV4dDogIlBsZWFzZSB0cnkgYWdhaW4gd2l0aCBhIGRpZmZlcmVudCBjc3YgZmlsZSB3aGljaCBtYXRjaGVzIHRoZSBzYW1wbGUgZmlsZSBzdHJ1Y3R1cmUiLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFLAogICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQhIiwKICAgICAgICAgIHRleHQ6ICJQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzMjQuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlbXB0eV91cGxvYWRfY3N2X2NvbnRhY3RzOiBmdW5jdGlvbiBlbXB0eV91cGxvYWRfY3N2X2NvbnRhY3RzKCkgewogICAgICB0aGlzLmNvbnRhY3RfY3N2ID0gewogICAgICAgIGZpbGVfbGFiZWw6ICdDaG9vc2UgRmlsZScsCiAgICAgICAgZmlsZV9jb250ZW50OiBudWxsLAogICAgICAgIGZpbGVfc2VsZWN0ZWQ6IGZhbHNlCiAgICAgIH07CiAgICAgICQoIiNpbnB1dEdyb3VwVXBsb2FkRmlsZWNzdiIpLnZhbCgnJyk7CiAgICB9LAogICAgZG93bmxvYWRfc2FtcGxlX2NvbnRhY3RfZmlsZTogZnVuY3Rpb24gZG93bmxvYWRfc2FtcGxlX2NvbnRhY3RfZmlsZSgpIHsKICAgICAgdmFyIF90aGlzMjUgPSB0aGlzOwoKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogYXBpX2NhbGxzLmZpbGVfZG93bmxvYWQoKSwKICAgICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBzYW1wbGVfZmlsZTogIndoYXRzYXBwX2NvbnRhY3RzIiwKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsCiAgICAgICAgfSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczI1LnNwaW5uZXJPbkZpbGVEb3dubG9hZCA9IGZhbHNlOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAiTm90IGFibGUgdG8gZG93bmxvYWQgZmlsZSIpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQuIFBsZWFzZSBUcnkgQWdhaW4iLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbcmVzcG9uc2UuZGF0YV0pKTsKICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgbGluay5ocmVmID0gdXJsOyAvLyBjb25zb2xlLmxvZyh0aGlzLmNvbXBhbnluYW1lKQoKICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsICJ0ZXN0LmNzdiIpOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgICAgIGxpbmsuY2xpY2soKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyNS5zcGlubmVyT25GaWxlRG93bmxvYWQgPSBmYWxzZTsKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZC4gUGxlYXNlIFRyeSBBZ2FpbiIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczI1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdGV4dGJveF9oZWlnaHQ6IGZ1bmN0aW9uIHRleHRib3hfaGVpZ2h0KGlkLCBrZXkpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzICYmICFldmVudC5zaGlmdEtleSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdGhpcy5zZW5kX21lc3NhZ2VfdG9fdXNlcigpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpOwogICAgICAgIHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHNjcm9sbF9oZWlnaHQgPSBlLnRhcmdldC5zY3JvbGxIZWlnaHQ7CgogICAgICAgICAgaWYgKHNjcm9sbF9oZWlnaHQgPiA2MCkgewogICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRleHRhcmVhLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZV9kb2N1bWVudF9wcmV2aWV3OiBmdW5jdGlvbiBjbG9zZV9kb2N1bWVudF9wcmV2aWV3KCkgewogICAgICB0aGlzLnNlbmRfYXR0YWNobWVudF9kZXRhaWwgPSB7CiAgICAgICAgbWVkaWFfZmlsZV9uYW1lOiBudWxsLAogICAgICAgIG1lZGlhX2ZpbGU6IG51bGwsCiAgICAgICAgc2hvd19wcmV2aWV3OiBmYWxzZSwKICAgICAgICBtZWRpYV9jb250ZW50X3R5cGU6IG51bGwsCiAgICAgICAgbWVkaWFfdHlwZTogbnVsbCwKICAgICAgICBzZW5kX21lZGlhOiB0cnVlLAogICAgICAgIGRvY3VtZW50X2NvbnRlbnQ6IG51bGwsCiAgICAgICAgbWVkaWFfY2FwdGlvbjogbnVsbAogICAgICB9OwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VuZF9hdHRhY2htZW50IikudmFsdWUgPSAnJzsKICAgIH0sCiAgICB3aGF0c2FwcF9tZXNzYWdlX2Zvcm1hdGluZzogZnVuY3Rpb24gd2hhdHNhcHBfbWVzc2FnZV9mb3JtYXRpbmcoYSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2hhdHNhcHBfZm9ybWF0aW5nX2xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgY250ID0gMDsKICAgICAgICB2YXIgcG9zMSA9IC0xOwoKICAgICAgICB3aGlsZSAoY250IDwgYS5sZW5ndGgpIHsKICAgICAgICAgIHBvczEgPSBhLmluZGV4T2YodGhpcy53aGF0c2FwcF9mb3JtYXRpbmdfbGlzdFtpXSwgcG9zMSArIDEpOwoKICAgICAgICAgIGlmIChwb3MxID09IC0xKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciByZXBsYWNlX2ZpcnN0X2NoYXIgPSBhLnN1YnN0cmluZygwLCBwb3MxKSArIHRoaXMud2hhdHNhcHBfZm9ybWF0X2RpY3RbdGhpcy53aGF0c2FwcF9mb3JtYXRpbmdfbGlzdFtpXV1bMF0gKyBhLnN1YnN0cmluZyhwb3MxICsgMSk7CiAgICAgICAgICBhID0gcmVwbGFjZV9maXJzdF9jaGFyOwogICAgICAgICAgdmFyIHBvczIgPSBhLmluZGV4T2YodGhpcy53aGF0c2FwcF9mb3JtYXRpbmdfbGlzdFtpXSk7CiAgICAgICAgICB2YXIgcmVwbGFjZV9zZWNvbmRfY2hhciA9IGEuc3Vic3RyaW5nKDAsIHBvczIpICsgdGhpcy53aGF0c2FwcF9mb3JtYXRfZGljdFt0aGlzLndoYXRzYXBwX2Zvcm1hdGluZ19saXN0W2ldXVsxXSArIGEuc3Vic3RyaW5nKHBvczIgKyAxKTsKICAgICAgICAgIGEgPSByZXBsYWNlX3NlY29uZF9jaGFyOwogICAgICAgICAgcG9zMSA9IHBvczI7CiAgICAgICAgICBjbnQgPSBwb3MyOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGE7CiAgICB9LAogICAgZm9ybWF0VXNlclF1ZXJ5OiBmdW5jdGlvbiBmb3JtYXRVc2VyUXVlcnkoVXNlclF1ZXJ5KSB7CiAgICAgIGlmIChVc2VyUXVlcnkgJiYgVXNlclF1ZXJ5LnN0YXJ0c1dpdGgoJy8nKSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIganNvbl9zdGFydCA9IFVzZXJRdWVyeS5pbmRleE9mKCd7JyksCiAgICAgICAgICAgICAganNvbl9lbmQgPSBVc2VyUXVlcnkuaW5kZXhPZignfScpICsgMSwKICAgICAgICAgICAgICBqc29uX2RhdGEgPSBKU09OLnBhcnNlKFVzZXJRdWVyeS5zdWJzdHJpbmcoanNvbl9zdGFydCwganNvbl9lbmQpKTsKICAgICAgICAgIHJldHVybiAiSWQ6ICIuY29uY2F0KGpzb25fZGF0YS5vcmRlcl9pZCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHJldHVybiBVc2VyUXVlcnk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gVXNlclF1ZXJ5OwogICAgfSwKICAgIGdldF9vcmRlcl90ZW1wbGF0ZV9mb3JtYXR0ZWRfdGV4dDogZnVuY3Rpb24gZ2V0X29yZGVyX3RlbXBsYXRlX2Zvcm1hdHRlZF90ZXh0KGN1cnJlbnRfYm90X3Jlc3BvbnNlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRfYm90X3Jlc3BvbnNlKTsKICAgICAgcmV0dXJuIHRoaXMud2hhdHNhcHBfbWVzc2FnZV9mb3JtYXRpbmcoY3VycmVudF9ib3RfcmVzcG9uc2UudGVtcGxhdGUuY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAnQk9EWSc7CiAgICAgIH0pLnRleHQpOwogICAgfSwKICAgIGNoZWNrX2J1dHRvbl9pbl9vcmRlcl90ZW1wbGF0ZTogZnVuY3Rpb24gY2hlY2tfYnV0dG9uX2luX29yZGVyX3RlbXBsYXRlKGN1cnJlbnRfYm90X3Jlc3BvbnNlKSB7CiAgICAgIHZhciBjaGVja19idXR0b25zID0gY3VycmVudF9ib3RfcmVzcG9uc2UudGVtcGxhdGUuY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAnQlVUVE9OUyc7CiAgICAgIH0pOwoKICAgICAgaWYgKEJvb2xlYW4oY2hlY2tfYnV0dG9ucykpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGdldF9vcmRlcl90ZW1wbGF0ZV9idXR0b25fdXJsOiBmdW5jdGlvbiBnZXRfb3JkZXJfdGVtcGxhdGVfYnV0dG9uX3VybChjdXJyZW50X2JvdF9yZXNwb25zZSwga2V5KSB7CiAgICAgIHJldHVybiBjdXJyZW50X2JvdF9yZXNwb25zZS50ZW1wbGF0ZS5jb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS50eXBlID09ICdCVVRUT05TJzsKICAgICAgfSkuYnV0dG9ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAnVVJMJzsKICAgICAgfSlba2V5XTsKICAgIH0sCiAgICBjaGVja19oZWlnaHQ6IGZ1bmN0aW9uIGNoZWNrX2hlaWdodChpZCwga2V5KSB7CiAgICAgIHZhciB0ZXh0YXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWQpOwoKICAgICAgaWYgKHRleHRhcmVhLnNjcm9sbFRvcCA+IDkwKSB7CiAgICAgICAgdGhpcy5zaG93X3Byb2ZpbGVfZGl2ID0gdHJ1ZTsKICAgICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSAiNTI1cHgiOwogICAgICB9IGVsc2UgewogICAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICI0ODVweCI7CiAgICAgICAgdGhpcy5zaG93X3Byb2ZpbGVfZGl2ID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmNoYW5uZWwubGVhdmUoKTsKICAgIHRoaXMuY2hhdF9zb2NrZXQuZGlzY29ubmVjdCgpOwogIH0KfTs="},{"version":3,"sources":["WhatsappNewpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["<template>\n  <div class=\"log-wrap d-flex align-items-center\" id=\"whatsapp_page\" @click=\"closeModel\">\n    <div class=\"spinner\" v-show=\"show_spinner\" id=\"spinner\"></div>\n    <div class=\"container\">\n      <!-- <div class=\"container-fluid front-container p-0 m-0\">\n        <div class=\"back-top\"></div>\n        <div class=\"back-main\"></div>\n      </div> -->\n      <div class=\"container-fluid\" style=\"padding: 0 50px 50px 50px ;\">\n        <div class=\"col-sm-12 d-flex p-0 mb-0\">\n          <button\n            type=\"button\"\n            class=\"close mr-3 mt-1\"\n            aria-label=\"Close\"\n            style=\"padding-bottom: 10px;color:#E9F0FF;\"\n            @click=\"$router.go(-1)\"\n          >\n          <img src=\"@/portal/assets/img/back-key.png\" alt=\"\" class=\"mt-2\" height=\"27px\" width=\"27px\">\n          </button>\n          \n          <img src=\"@/portal/assets/img/cense_logo_whatsapp.png\" alt=\"\" class=\"mt-2\" height=\"40px\" width=\"100px\" @click=\"$router.push('/bot/dashboard')\"\n          style=\"cursor: pointer\"\n          >\n        </div>\n        <div class=\"col-sm-12 text-white ml-3 mb-2\">\n          <small>{{tlt('whatsapp_webview_powered_cense')}}</small>\n        </div>\n        <div class=\"col-sm-12 row\">\n          <div class=\"col-sm-4 chat-top p-0\" v-show=\"!is_profile_setup\" style=\"height: 600px;\">\n              <div v-show =\"!show_profile_div\" style=\"background: #ffff;\" id=\"contactsearchdisplay\">\n                <div class=\"d-flex p-2\"\n                  style=\"align-items: center;\">\n                  <!-- top-bar -->\n                  <div class=\"mt-1 ml-2\">\n                    <img v-if=\"whatsapp_profile.photo\" \n                      :src=whatsapp_profile.photo\n                      class=\"rounded-circle\"\n                      @click=\"show_profile_setup\"\n                      height=\"45px\" width=\"45px\"\n                      style=\"cursor: pointer;\">\n                    <img v-else src=\"/img/whatsapp-dp.png\" \n                      class=\"rounded-circle\" \n                      @click=\"show_profile_setup\"\n                      height=\"45px\" width=\"45px\"\n                      style=\"cursor: pointer;\">\n                  </div>\n                  <div class=\"ml-4\">\n                    <p class=\"mb-0\" style=\"font-size: 17px;\">{{company_name}}</p>\n                    <p class=\"mb-0\" style=\"font-size: 12px;\">{{whatsapp_profile.whatsapp_phone_number}}</p>\n                  </div>\n                  <span class=\"ml-auto d-flex mr-2\">\n                    <img src=\"@/portal/assets/img/whatsapp_msg_icon.png\" alt=\"\" class=\"mt-2\" height=\"35px\"  style=\"cursor:pointer;\" width=\"35px\" @click=\"show_all_contacts\">\n                  </span>\n                </div>\n                <div class=\"search-chat\">\n                  <div>\n                    <input type=\"text\" :placeholder=\"tlt('whatsapp_webview_placeholder_start_or_search_chat')\" v-model=\"search_value\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-search\"\n                      viewBox=\"0 0 16 16\">\n                      <path\n                        d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                    </svg>\n                  </div>\n                </div>\n              </div>\n              <div v-show =\"show_profile_div\"  style=\"background: #ffff;\" id=\"contactsearchdisplaynew\">\n                <div class=\"d-flex p-2 justify-content-between\"\n                  style=\"align-items: center;\">\n                  <!-- top-bar -->\n                  <div class=\"mt-1 ml-2\">\n                    <img v-if=\"whatsapp_profile.photo\" \n                      :src=whatsapp_profile.photo\n                      class=\"rounded-circle\" \n                      @click=\"show_profile_setup\"\n                      height=\"45px\" width=\"45px\"\n                      style=\"cursor: pointer;\">\n                    <img v-else src=\"/img/whatsapp-dp.png\" \n                      class=\"rounded-circle\" \n                      @click=\"show_profile_setup\"\n                      height=\"45px\" width=\"45px\"\n                      style=\"cursor: pointer;\">\n                  </div>\n                  <div class=\"new-search-chat w-100 mt-2\">\n                      <div>\n                        <input type=\"text\" :placeholder=\"tlt('whatsapp_webview_placeholder_start_or_search_chat')\" v-model=\"search_value\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-search\"\n                          viewBox=\"0 0 16 16\">\n                          <path\n                            d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                        </svg>\n                      </div>\n                  </div>\n                  <span class=\"d-flex mr-2\">\n                    <img src=\"@/portal/assets/img/whatsapp_msg_icon.png\" alt=\"\" class=\"mt-2\" height=\"35px\"  style=\"cursor:pointer;\" width=\"35px\" @click=\"show_all_contacts\">\n                  </span>\n                </div>\n              </div>\n            <div class=\"contacts pr-0\">\n              <!-- seach tab -->\n              <div class=\"contact-table-scroll\" id=\"noChatContacts\" @scroll=\"check_height('#noChatContacts')\">\n                <table class=\"table table-hover\" style=\"margin-bottom: 0rem !important\">\n                  <tbody v-if=\"contact_list.length > 0\">\n                    <tr v-for=\"(contact, index) in contact_list\" :key=\"index\"\n                      @click=\"get_history_data(contact.whatsapp_phone_number, contact.profile_name, index, contact);closeSearchDiv()\"\n                      style=\"cursor:pointer\" :style=\"is_active_chat(index)\">\n                      <td class=\"\" style=\"width: 22%;\"><img src=\"/img/whatsapp-dp.png\" alt=\"\"\n                          class=\"user-profile-picture rounded-circle\"></td>\n                      <td class=\"pl-0 pb-1 pr-3\" style=\"font-size: 13px;\">\n                        <div class=\"user-name-date d-flex\">\n                          <div class=\"user-name\">\n                            <span>{{get_contact_display_name(contact)}}</span>\n                            <!-- <span v-if=\"contact.profile_name\">{{ contact.profile_name }}</span>\n                            <span v-else>{{ contact.whatsapp_phone_number }}</span> -->\n                          </div>\n                          <div class=\"date\" v-if=\"contact.last_bot_response\">\n                            <span>{{ formatContactLastMessageDate(contact.last_bot_response.date, contact.last_bot_response.time) }}</span>\n                          </div>\n                        </div>\n                        <div>\n                          <span v-if=\"contact.last_bot_response\" class=\"user-msg-latest-conv\"><span\n                              :title=\"contact.last_bot_response.text\">{{ latest_bot_text(contact.last_bot_response.text)\n                              }}</span></span>\n                              <span v-if=\"contact.is_new_notification || false\" style=\"float: right\"><i class=\"fa fa-circle\" aria-hidden=\"true\" style=\"color:#00ff00\"></i></span>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                  <tbody v-else>\n                    <tr>\n                      <td style=\"position: relative; padding:44px; text-align: center;\">\n                        <span class=\"contact-list-empty\">{{tlt('whatsapp_webview_no_chat')}}</span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-4 p-0\" v-show=\"is_profile_setup && !is_contact_list\" style=\"height: 600px;\">\n            <!-- profile -->\n            <div\n              style=\"border-right: 1px solid rgba(0,0,0,0.2);align-items: center; justify-content: space-between; height: 100%;\">\n              <div class=\"profile-top d-flex\">\n                <span  style=\"margin:0 0 10px 17px;cursor: pointer;\" @click=\"show_profile_setup\"><svg\n                    xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"22\" fill=\"currentColor\"\n                    class=\"bi bi-arrow-left left-arrow \" viewBox=\"0 0 16 16\">\n                    <path fill-rule=\"evenodd\"\n                      d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                  </svg>\n                </span>\n                <span style=\"opacity:2;font-size:1.1rem;margin:0 0 8px 17px;\">Profile</span>\n              </div>\n              <!-- profile pic -->\n              <div class=\"profile-bottom\">\n                <div class=\"profile-pic \">\n                  <div style=\"width: 100%;height: 100%;position: relative;\">\n                    <div class=\"second-circle\" v-if=\"whatsapp_profile.photo === ''\">\n                      <input type=\"file\" id=\"imgupload\" @change=\"update_profile_image\"/> \n                      <div class=\"img-circle-gry\">\n                        <span class=\"img-circle-title-cam\">\n                          <span>{{tlt('whatsapp_webview_add_profile')}}</span>\n                          <span>{{tlt('whatsapp_webview_photo')}}</span>\n                        </span>\n                      </div>\n                    </div>\n                    <div class=\"second-circle-image\" v-else>\n                      <div style=\"width:300px\">\n                        <input type=\"file\" id=\"imgupload\" @change=\"update_profile_image\"/>\n                      </div>\n                      <img :src=whatsapp_profile.photo  alt=\"\">\n                    </div>                \n                  </div>\n                </div>\n                <div class=\"img-cricle\">\n                  <div class=\"remove-profile-pic\" v-if=\"whatsapp_profile.photo != ''\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"cursor: pointer;\" @click=\"remove_profile_image()\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n                      <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n                      <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n                    </svg>\n                  </div>\n                  <div class=\"no-image\">\n                  </div>\n                </div>\n                <!-- profile-details -->\n                <div class=\"profile-details\">\n                  <div class=\"all-basic-info\">\n                    <div class=\"user-email-details\">\n                      <div class=\"user-email\" v-if=\"!edit_email\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n                          <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z\"/>\n                        </svg>\n                        <span v-if=\"whatsapp_profile.email == ''\"> Email Address</span>\n                        <span v-else>{{whatsapp_profile.email}}</span>\n                        <svg v-if=\"!edit_address && !edit_description && !edit_website\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\" @click=\"edit_email = true\"  style=\"cursor: pointer;\">\n                          <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                        </svg>\n                      </div>\n                      <div class=\"edit-user-email\" v-if=\"edit_email\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n                          <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z\"/>\n                        </svg>                      \n                        <textarea \n                          class=\"input ml-1\" \n                          id=\"user_email_address\" \n                          v-model=\"whatsapp_profile.email\" \n                          :placeholder=\"tlt('whatsapp_webview_placeholder_email_address')\"\n                          @keydown=\"expand_textbox('#user_email_address')\"\n                          >\n                        </textarea>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"22\" fill=\"currentColor\" class=\"bi bi-check2\" viewBox=\"0 0 16 16\"  @click=\"update_profile_details()\" style=\"cursor: pointer;top:1vh !important;right:0 !important;\n                          position: absolute;\"\n                        >\n                          <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\n                        </svg>\n                      </div>\n                    </div>\n                    <div class=\"user-address-details\">\n                      <div class=\"user-address\" v-if=\"!edit_address\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\n                          <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\"/>\n                          <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\n                        </svg>\n                        <span v-if=\"whatsapp_profile.address == ''\">{{tlt('whatsapp_webview_business_address')}}</span>\n                        <span v-else>{{whatsapp_profile.address}}</span>\n                        <svg v-if=\"!edit_email && !edit_description && !edit_website\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\" @click=\"edit_address = true\"  style=\"cursor: pointer;\">\n                          <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                        </svg>                    \n                      </div>\n                      <div class=\"edit-user-address\" v-if=\"edit_address\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\n                          <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\"/>\n                          <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\n                        </svg>                     \n                        <textarea \n                          class=\"input ml-1\"\n                          id=\"business_address\"\n                          v-model=\"whatsapp_profile.address\"\n                          :placeholder=\"tlt('whatsapp_webview_placeholder_business_address')\"\n                          @keydown=\"expand_textbox('#business_address')\"\n                          ></textarea>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"22\" fill=\"currentColor\" class=\"bi bi-check2\" viewBox=\"0 0 16 16\"  @click=\"update_profile_details()\" style=\"cursor: pointer;top:1vh !important;right:0 !important;\n                          position: absolute;\"\n                        >\n                          <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\n                        </svg>\n                      </div>  \n                    </div>\n                    <div class=\"description-details\">\n                      <div class=\"description\" v-if=\"!edit_description\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-shop\" viewBox=\"0 0 16 16\">\n                          <path d=\"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z\"/>\n                        </svg>\n                        <span v-if=\"whatsapp_profile.description == ''\">{{tlt('whatsapp_webview_description')}}</span>                      \n                        <span v-else>{{whatsapp_profile.description}}</span>\n                        <svg v-if=\"!edit_address && !edit_email && !edit_website\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\" @click=\"edit_description = true\"  style=\"cursor: pointer;\">\n                          <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                        </svg>                         \n                      </div>\n                      <div class=\"edit-description\" v-if=\"edit_description\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-shop\" viewBox=\"0 0 16 16\">\n                          <path d=\"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z\"/>\n                        </svg>                     \n                        <textarea \n                          class=\"input ml-1\" \n                          v-model=\"whatsapp_profile.description\" \n                          :placeholder=\"tlt('whatsapp_webview_placeholder_description')\"\n                          id=\"user_description\"\n                          @keydown=\"expand_textbox('#user_description')\"\n                          ></textarea>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"22\" fill=\"currentColor\" class=\"bi bi-check2\" viewBox=\"0 0 16 16\"  @click=\"update_profile_details()\" style=\"cursor: pointer;top:1vh !important;right:0 !important;\n                          position: absolute;\"\n                        >\n                          <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\n                        </svg>\n                      </div>                      \n                    </div>\n                    <div class=\"website-details mb-1\">\n                      <div  v-if=\"!edit_website\">\n                        <span v-if=\"whatsapp_profile.websites\">\n                          <div v-if=\"whatsapp_profile.websites.length == 0\" class=\"website\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-globe\" viewBox=\"0 0 16 16\">\n                              <path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z\"/>\n                            </svg>\n                            <span>Website Url</span>\n                            <svg v-if=\"!edit_address && !edit_email && !edit_description\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\" @click=\"edit_website_value(0)\"  style=\"cursor: pointer;\">\n                              <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                            </svg>\n                          </div>\n                          <div v-else v-for=\"(website,index) in whatsapp_profile.websites\"\n                          :key=\"index\" class=\"website mb-2 mt-1\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-globe\" viewBox=\"0 0 16 16\">\n                              <path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z\"/>\n                            </svg>\n                            <span >{{website}}</span>\n                            <svg v-if=\"!edit_address && !edit_email && !edit_description\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\" @click=\"edit_website_value(index)\"  style=\"cursor: pointer;\">\n                              <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                            </svg>\n                          </div>\n                          <div v-if=\"whatsapp_profile.websites.length == 1 && !second_website\">\n                            <span class=\"add-another-website\" @click=\"edit_website_value(1)\">{{tlt('whatsapp_webview_add_another_website')}}</span>\n                          </div>\n                        </span>\n                      </div>\n                      <div class=\"edit-website\" v-if=\"edit_website\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-globe\" viewBox=\"0 0 16 16\">\n                          <path d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z\"/>\n                        </svg>                  \n                        <textarea \n                          class=\"input ml-1\"\n                          v-model=\"whatsapp_profile.websites[index_update]\" \n                          :placeholder=\"tlt('whatsapp_webview_placeholder_website_url')\"\n                          id=\"business_website_url\"\n                          @keydown=\"expand_textbox('#business_website_url')\"                      \n                          ></textarea>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"22\" fill=\"currentColor\" class=\"bi bi-check2\" viewBox=\"0 0 16 16\"  @click=\"update_profile_details()\" style=\"cursor: pointer;top:1vh !important;right:0 !important;\n                          position: absolute;\"\n                        >\n                          <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\n                        </svg>\n                      </div>\n                    </div>\n                    <div class=\"webiste-vertical-details mb-3\">\n                      <div class=\"webiste-vertical d-flex\" style=\"\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\"  style=\"margin-right: 1rem;\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-tag-fill\" viewBox=\"0 0 16 16\">\n                          <path d=\"M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n                        </svg>\n                        <multiselect\n                          :options=\"vertical_types\"\n                          v-model=\"whatsapp_profile.vertical\"\n                          :searchable=\"false\"\n                          :allow-empty=\"false\"\n                          :show-labels=\"false\"\n                          :close-on-select=\"true\"\n                          :placeholder=\"tlt('whatsapp_webview_placeholder_pick_categories')\"\n                          style=\"width: 80%;z-index:4000;\"\n                        >\n                        </multiselect>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"22\" fill=\"currentColor\" class=\"bi bi-check2\" viewBox=\"0 0 16 16\"  @click=\"update_profile_details()\" style=\"cursor: pointer;top:1vh !important;right:0 !important;\n                          position: absolute;\"\n                        >\n                          <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"about-phone\" >\n                    <div class=\"mb-4\"><span class=\"abt-phone-title\">{{tlt('whatsapp_webview_about_phone')}}</span></div>\n                    <div class=\"whts-app-status\">\n                      <div class=\"d-flex whts-status\" v-if=\"!edit_status\">\n                        <span v-if=\"whatsapp_profile.about == ''\">{{default_whatsapp_status}}</span>\n                        <span v-else>{{whatsapp_profile.about}}</span>\n                        <svg v-if=\"!edit_address && !edit_email && !edit_website && !edit_description\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-pencil-fill\" viewBox=\"0 0 16 16\" @click=\"edit_status = true\"  style=\"cursor: pointer;\">\n                          <path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\n                        </svg>\n                      </div>\n                      <div class=\"edit-status\" v-if=\"edit_status\">\n                        <textarea \n                          class=\"input\"\n                          v-model=\"whatsapp_profile.about\"\n                          id=\"whtsapp_status\"\n                          @keydown=\"expand_textbox('#whtsapp_status')\"  \n                        ></textarea>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"22\" fill=\"currentColor\" class=\"bi bi-check2\" viewBox=\"0 0 16 16\"  @click=\"update_profile_details()\" style=\"cursor: pointer;  top: 1.6vh;right: 15px;\n                          position: absolute;\"\n                        >\n                          <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\n                        </svg>\n                      </div>\n                    </div>\n                    <div class=\"whtsapp-no mt-3\">\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-telephone-fill\" viewBox=\"0 0 16 16\" style=\"color:#8696a0;\">\n                        <path fill-rule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\n                      </svg>\n                      <span class=\"ml-3\">{{whatsapp_profile.whatsapp_phone_number}}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-4 p-0\" v-show=\"is_contact_list\">\n            <!-- whatsapp all contacts -->\n            <div\n              style=\"border-right: 1px solid rgba(0,0,0,0.2);align-items: center; justify-content: space-between; height: 550px;\">\n              <div class=\"profile-top d-flex\">\n                <span style=\" margin:0 0 10px 17px;cursor: pointer;\" @click=\"show_all_contacts\"><svg\n                    xmlns=\"http://www.w3.org/2000/svg\" width=\"38\" height=\"22\" fill=\"currentColor\"\n                    class=\"bi bi-arrow-left left-arrow\" viewBox=\"0 0 16 16\">\n                    <path fill-rule=\"evenodd\"\n                      d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\" />\n                  </svg>\n                </span>\n                <span style=\"opacity:2;font-size:1.1rem;margin:0 0 8px 17px;\">{{tlt('new_chat')}}</span>\n                <span style=\"margin: 0 5px 13px auto;\">\n                  <button class=\"legend_whatsapp\" id=\"popover\" style=\"border: none; cursor: pointer; font-size: 18px;\" type=\"button\" data-toggle=\"popover\"  @click=\"refreshPopover\" >\n                    <i class=\"fa fa-question-circle legend_whatsapp\" ></i>\n                  </button>\n                </span>\n\n              </div>\n              <div class=\"contacts-list pr-0\">\n                <div class=\"search-contact\">\n                  <div>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-search\"\n                      viewBox=\"0 0 16 16\">\n                      <path\n                        d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                    </svg>\n                    <input type=\"text\" :placeholder=\"tlt('whatsapp_webview_placeholder_start_or_search_chat')\" v-model=\"search_in_contact_list\">\n                  </div>\n                </div>\n                <div class=\"all-contact-list\"  @scroll=\"new_contact_list\" >\n                  <ul v-if=\"all_contact_list.length>0\"\n                      id=\"all_contacts_scroll\" \n                  >\n                    <li class=\"d-flex\"\n                      style=\"cursor:pointer;\"\n                      @click=\"add_new_contact_modal()\"\n                      >\n                        <!-- <div style=\"width: 15%;\"><img src=\"/img/whatsapp-dp.png\" alt=\"\"\n                        class=\"user-profile-picture rounded-circle\">\n                        </div> -->\n                        <div class=\"user-name\">\n                          <strong>+ {{tlt('whatsapp_webview_add_new_contact')}}</strong>\n                          <!-- <span v-if=\"contact.profile_name\">{{ contact.profile_name }}</span>\n                          <span v-else>{{ contact.whatsapp_phone_number }}</span> -->\n                        </div>\n                    </li>\n                    <li v-for=\"(contact, index) in all_contact_list\" \n                    :key=\"index\"\n                    class=\"d-flex\"\n                    style=\"cursor:pointer;\"\n                    @click=\"get_history_data(contact.whatsapp_phone_number, contact.contact_name, 0,contact) ; closeSearchDiv()\"\n                    >\n                      <div style=\"width: 15%;\"><img src=\"/img/whatsapp-dp.png\" alt=\"\"\n                      class=\"user-profile-picture rounded-circle\">\n                      </div>\n                      <div class=\"user-name\">\n                        <span>{{get_contact_display_name(contact)}}</span>\n                        <!-- <span v-if=\"contact.contact_name\">{{ contact.contact_name }}</span>\n                        <span v-else-if=\"contact.profile_name\">{{ contact.profile_name }}</span>\n                        <span v-else>{{ contact.whatsapp_phone_number }}</span> -->\n                      </div>\n                      <div class=\"contact-verified-status ml-auto\" :class=\"contact.verify_status\" :title=\"contact.verify_status\">\n                        &#x25CF;\n                      </div>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-8 p-0\" style=\"height: 600px; background-color: #f0f2f5 !important;\" id=\"chat_div\">\n            <div class=\"user-info-page\" v-show=\"history.length == 0 && !start_new_conv_data.start_new_conv\">\n              <div class=\"cense-whatsapp-image\" v-show=\"!show_spinner\" style=\"text-align: center;\">\n                  <img src=\"@/portal/assets/img/cense_whtsapp_logo.png\" alt=\"\" class=\"cense-image\">\n              </div>\n            </div>\n            <div class=\"col-sm-12 d-flex\" id=\"dropdownParent\" v-if=\"history.length > 0\">\n              <img src=\"/img/whatsapp-dp.png\" alt=\"\" class=\"no-profile-image-conv rounded-circle my-2\" height=\"40px\" width=\"40px\">\n              <div>\n                <button class=\"btn\" type=\"button\" id=\"dropdownMenuButtonOne\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" @click=\"toggleDropdown\">\n                  <!-- <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\"></i> -->\n                  <p v-if=\"customer_name != ''\" class=\"customer-name\">{{ customer_name }}</p>\n                <p v-else class=\"mt-3 ml-2\">{{ phoneno }}</p>\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButtonOne\" id=\"dropdownMenu\">\n                  <a class=\"dropdown-item\" href=\"javascript:void(0);\">\n                   +{{ phoneno }}\n                  </a>\n                </div>\n                <!-- <p v-if=\"customer_name != ''\" class=\"mt-3 ml-2 customer-name\">{{ customer_name }}</p>\n                <p v-else class=\"mt-3 ml-2\">{{ phoneno }}</p> -->\n              </div>\n              <div class=\"ml-auto mt-2 d-flex\">\n                <!-- <div>\n                  <label style=\"cursor:pointer;\" class=\"mb-0 mt-2\">\n                    <input type=\"file\" hidden  name=\"send_attachment\" id=\"send_attachment\" :accept=\"file_extensions.all_allowed_file_extensions.toString()\" @change=\"process_attachment_file\" />\n                      <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\"></i>\n                    Upload\n                  </label>\n\n                    <input type=\"file\" name=\"send_attachment\" id=\"send_attachment\" @change=\"process_attachment_file\"> -->\n                     <!-- </i> -->\n                <!-- </div> -->\n              <div class=\"dropdown mt-1\" id=\"dropdownParent2\">\n                <button class=\"btn\" type=\"button\" id=\"search_btn\" @click=\"openSearchDiv\">\n                 <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" class=\"bi bi-search\"\n                      viewBox=\"0 0 16 16\">\n                      <path\n                        d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                    </svg>\n                </button>\n                <button class=\"btn\" type=\"button\" id=\"dropdownMenuButton2\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" @click=\"toggleTemplate\">\n                  <!-- <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\"></i> -->\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\"\n                    class=\"bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\n                    <path\n                      d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n                  </svg>\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\" id=\"dropdownMenu2\">\n                  <a class=\"dropdown-item\" href=\"javascript:void(0);\" @click=\"open_send_template_to_user\">Send Template</a>\n                </div>\n              </div>\n                <!-- <span class=\"d-flex\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" fill=\"currentColor\"\n                    class=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\n                    <path\n                      d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n                  </svg>\n                </span> -->\n              </div>\n            </div>\n            <div class=\"message-area\" v-if=\"history.length > 0 && send_attachment_detail.show_preview == false\"> \n              <div class=\"message-table-scroll\" id=\"scrolling-div-whatsapp\" @scroll=\"chatScrollMessages\">\n                <div v-if=\"scroll_spinner_chat\">\n                  <div class=\"lds-ring\">\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                  </div>\n                </div>\n                <div class=\"d-flex flex-column\" style=\"overflow: hidden; width: 100%\">\n                    <div v-for=\"(data, index) in history\" :key=\"index\">\n                      <div class=\"m-2\"\n                        style=\"text-align: center;\" \n                        v-if=\"![null,''].includes(data.bot_response_date) && check_previous_message_date_same(index)\">\n                        <span class=\"conversation-date\">{{ data.bot_response_date}}</span>\n                      </div>\n                      <div class=\"col-sm-12\" v-if=\"data.UserQuery!=='' && data.UserQuery!== undefined\">\n                        <td class=\"pt-2 pl-2 pb-0\">\n                          <p id=\"msg-div\" class=\"bg-white mb-0 shadow-sm text-black rounded user-msg\"  style=\"word-break: break-all; white-space: pre-line\">\n                          <span  :id=\"data.UserQuery_DateTime\" :class=\"highlight_text(formatUserQuery(data.UserQuery))\">\n                            {{formatUserQuery(data.UserQuery)}}\n                          </span>\n                            \n                          </p>\n                          <span class=\"user-msg-flag\"><small></small></span>\n                          <p class=\"text-black user-msg-time pr-2\"><small>{{ formatUserQueryTime(data.UserQuery_DateTime) }}</small></p>\n                        </td>\n                      </div>\n                      <div v-if=\"data.BOTResponse.length > 0\">\n                        <div v-for=\"(current_bot_response, response_index) in data.BOTResponse\" :key=\"response_index\">\n                          <div class=\"row justify-content-end\" v-if=\"current_bot_response.text\">\n                            <div class=\"col-auto\">\n                              <div class=\"col-sm\" style=\"padding-right: 25px;\" id=\"bot-msg-parent\">\n                                <div class=\"mb-1\">\n                                  <p id=\"msg-div\" class=\" mb-0 shadow-sm text-black pt-2 pr-2 pl-3 bot-resp-msg \" style=\"word-break: break-all; white-space: pre-line;\">\n                                  <span  :id=\"data.Chat_Datetime\" :class=\"highlight_text(current_bot_response.text)\">\n                                     {{ current_bot_response.text }}\n                                  </span>\n                                   \n                                  </p>\n                                  <p class=\"text-black bot-resp-time pr-2\" v-if=\"data.Chat_DateTime == undefined\"><small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small></p>\n                                  <p class=\"text-black bot-resp-time pr-2\" v-else>\n                                    <small>{{ formatUserQueryTime(data.Chat_DateTime,'utc') }}</small>\n                                  </p>\n                                  <p class=\"bot-resp-msg-flag\"><small></small></p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div class=\"\" v-if=\"current_bot_response.buttons\" style=\"padding-right: 25px;\">\n                            <!-- <div class=\"row\"> -->\n                              <!-- <div class=\"col-sm\" style=\"padding-right: 25px;\"> -->\n                              <div class=\"row justify-content-end\" v-if=\"current_bot_response.buttons.length <= 3\">\n                                <div v-for=\"(btn, index) in current_bot_response.buttons\" :key=\"index\" class=\"col-sm-3 mb-1\" id=\"preview-btn\">\n                                  <div class=\"preview-button-div\" v-if=\"Boolean(btn.title) && Boolean(btn.value)\">\n                                    <a class=\"preview-button\" type=\"button\">\n                                      {{ btn.title }}\n                                    </a>\n                                  </div>\n                                </div>\n                              </div> \n                              <div v-else>\n                                <div class=\"row justify-content-end\" >\n                                <div class=\"preview-button-div col-sm-3\" id=\"preview-btn\">\n                                  <a class=\"preview-button\" type=\"button\">\n                                   <i class=\"fa fa-list\"></i> {{tlt('buttons')}}\n                                  </a>\n                                </div>\n                                </div>\n                              </div>\n                            <!-- </div> -->\n                          </div>\n                          <div v-if=\"current_bot_response.products\">\n                            <div class=\"row justify-content-end\">\n                            <div class=\"col-4 bot-resp\" id=\"bot-resp-card\">\n                            <div class=\"col-sm\" v-for=\"(product, index) in  product_variation(current_bot_response.products.products_list)\"\n                                  :key=\"index\">\n                                  \n                              <div class=\"cards\">\n                              <img class=\"cards-img\" v-if=\"product.img_url != null\" :src=\"check_image_type(product.img_url)\"/>\n                              <img class=\"cards-img\" v-else src=\"/img/blank_product_image.png\"\n                                alt=\"No Product Image\" />\n                              <div>\n                                <label class=\"mb-0\" style=\"line-height: 1.5;\">\n                                  {{ product.title }}\n                                </label>\n                                <br>\n                                <label class=\"mb-0\" style=\"line-height: 1.5;\">\n                                  {{ product.variation }}\n                                </label>\n                                <br>\n                                <!-- <label class=\"mb-0\" style=\"line-height: 1.5;\">\n                                  {{product.price}}\n                                </label> -->\n                                <label class=\"mb-0\" style=\"line-height: 1.5;\" v-html=\"whatsapp_message_formating(product.price)\">\n                                </label>\n                              </div>\n                              <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-if=\"data.Chat_DateTime == undefined\">\n                                <small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small>\n                              </p>\n                              <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-else>\n                                <small>{{ formatUserQueryTime(data.Chat_DateTime,'utc') }}</small>\n                              </p>\n                            <!-- </div> -->\n                              </div>\n                              <div class=\"d-flex\" \n                                style=\"margin-top: 1px; max-width: 205px\">\n                                <div\n                                  style=\"width: 100%\"\n                                >\n                                  <div\n                                    class=\"preview-button-div\"\n                                    style=\"text-align: center;\"\n                                  >\n                                    <a\n                                      class=\"preview-button\"\n                                      :href=\"product.url\"\n                                      target=\"_blank\"\n                                    >\n                                      <span color=\"#0b67aa\" class=\"\"\n                                      ><svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"17\"\n                                        height=\"17\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"#0b67aa\"\n                                        stroke-width=\"2\"\n                                        stroke-linecap=\"round\"\n                                        stroke-linejoin=\"round\"\n                                        class=\"mr-2\"\n                                      >\n                                        <path\n                                          d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"\n                                        ></path>\n                                        <polyline points=\"15 3 21 3 21 9\"></polyline>\n                                        <line\n                                          x1=\"10\"\n                                          y1=\"14\"\n                                          x2=\"21\"\n                                          y2=\"3\"\n                                        ></line>\n                                        </svg>{{tlt('whatsapp_webview_buy_now')}}\n                                      </span>\n                                    </a>\n                                  </div>\n                                </div>\n                              </div>\n                              <p class=\"bot-resp-msg-flag-card\"><small></small></p>\n                            </div>\n                            </div>\n                            </div>\n                          </div>\n                          <div v-if=\"current_bot_response.card != undefined\">\n                            <div div class=\"row justify-content-end\">\n                            <div class=\"col-4 bot-resp\">\n                                <div class=\"col-sm carousel_cards\" style=\"\" v-for=\"(carousel, index) in current_bot_response.card\"\n                                  :key=\"index\">\n                                <div class=\"cards\">\n                                  <div class=\"carousel_card_single\">\n                                    <div v-if=\"carousel.image\">\n                                      <img class=\"cards-img\" :src=carousel.image alt=\"carousel Image\">\n                                    </div>\n                                    <div v-if=\"carousel.video\">\n                                      <iframe :src=\"carousel.video\" allowfullscreen allowtransparency\n                                        allow=\"autoplay\"></iframe>\n                                    </div>\n                                    <div class=\"pl-1\">\n                                      <p v-if=\"carousel.title\">{{ carousel.title }}</p>\n                                      <div>\n                                        <div v-if=\"carousel.text\">\n                                          <p>{{ carousel.text }}</p>\n                                        </div>\n                                      </div>\n                                    </div>\n                                    <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\">\n                                      <small>{{ data.bot_response_time }}</small>\n                                    </p>\n                                  </div>\n                                </div>\n                                  <div v-for=\"(btn, indx) in carousel.buttons\" :key=\"indx\"\n                                          class=\"d-flex\" \n                                          style=\"margin-top: 1px; max-width: 205px\">\n                                    <div class=\"preview-button-div\" v-if=\"Boolean(btn.title) && Boolean(btn.value)\">\n                                      <a class=\"preview-button\" type=\"button\" @click=\"custom_button_click(btn, item)\" :key=\"index\">\n                                        {{ btn.title }}\n                                      </a>\n                                    </div>\n                                  </div>\n                                  <p class=\"bot-resp-msg-flag-card\"><small></small></p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div v-if=\"Boolean(current_bot_response.template)\">\n                            <div div class=\"row justify-content-end\">\n                            <div class=\"bot-resp bot-card col-4 \">\n                            <div class=\"col-sm\">\n                            <div class=\"cards\">\n                          <!-- <div\n                            v-for=\"(comp, name, index) in preview_template_data\"\n                            :key=\"index\"\n                          > -->\n                            <div v-if=\"Boolean(current_bot_response.template['HEADER'])\">\n                              <div v-if=\"current_bot_response.template['HEADER'].type == 'IMAGE'\">\n                                <img class=\"cards-img\" :src=\"current_bot_response.template['HEADER'].body\">\n                              </div>\n                              <div v-else>\n                                  <p>{{current_bot_response.template['HEADER'].body}}</p>\n                              </div>\n                            </div>\n                            <div v-if=\"Boolean(current_bot_response.template['BODY'])\">\n                              <label v-if=\"current_bot_response.template['BODY'].type == 'text'\"\n                              style=\"line-height: 1.5; overflow-wrap: anywhere;\">\n                                {{ current_bot_response.template['BODY'].body }}\n                              </label>\n                            </div>\n                            <div v-if=\"Boolean(current_bot_response.template['FOOTER'])\">\n                              <span \n                                v-if=\"current_bot_response.template['FOOTER'].type == 'text'\"\n                                style=\"font-size: 10px; line-height: 1.5; font-weight: 300;\">\n                                {{current_bot_response.template['FOOTER'].body}}\n                              </span>\n                            </div>\n                            <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-if=\"data.Chat_DateTime == undefined\">\n                              <small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small>\n                            </p>\n                            <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-else>\n                              <small>{{ formatUserQueryTime(data.Chat_DateTime,'utc') }}</small>\n                            </p>\n                          <!-- </div> -->\n                            </div>\n                            <div class=\"d-flex\" \n                              style=\"margin-top: 1px; max-width: 205px\" \n                              v-if=\"Boolean(current_bot_response.template['BUTTON'])\">\n                              <div\n                                v-for=\"(btn, index1) in current_bot_response.template['BUTTON'].body\"\n                                :key=\"index1\" style=\"width: 100%\"\n                              >\n                                <div\n                                  v-if=\"btn['type'] === 'QUICK_REPLY'\"\n                                  class=\"preview-button-div\"\n                                  style=\"text-align: center;\"\n                                  :style=\"btn['text'] == 'Yes' ? 'margin-right: 1px;' : ''\"\n                                >\n                                  <a\n                                    class=\"preview-button\"\n                                  >\n                                    <span color=\"rgba(11,103,170,1)\" class=\"\"\n                                      >{{ btn['text'] }}\n                                    </span>\n                                  </a>\n                                </div>\n                                <div\n                                  v-else-if=\"btn['type'] === 'URL'\"\n                                  class=\"preview-button-div\"\n                                  style=\"text-align: center;\"\n                                >\n                                  <a\n                                    :href=\"btn.url\"\n                                    target=\"_blank\"\n                                    class=\"preview-button\"\n                                  >\n                                    <span color=\"#0b67aa\" class=\"\"\n                                      ><svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"17\"\n                                        height=\"17\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"#0b67aa\"\n                                        stroke-width=\"2\"\n                                        stroke-linecap=\"round\"\n                                        stroke-linejoin=\"round\"\n                                        class=\"mr-2\"\n                                      >\n                                        <path\n                                          d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"\n                                        ></path>\n                                        <polyline points=\"15 3 21 3 21 9\"></polyline>\n                                        <line\n                                          x1=\"10\"\n                                          y1=\"14\"\n                                          x2=\"21\"\n                                          y2=\"3\"\n                                        ></line>\n                                        </svg>{{ btn['text'] }}</span\n                                    >\n                                  </a>\n                                </div>\n                              </div>\n                            </div>\n                            <p class=\"bot-resp-msg-flag-card\"><small></small></p>\n                            </div>\n                            </div>\n                            </div>\n                          </div>\n                          <div v-if=\"is_response_image(current_bot_response)\" class=\"pt-2 pl-2 pb-0\">\n                            <div v-if=\"typeof(current_bot_response.image) == 'string'\" >\n                              <div div class=\"row justify-content-end\">\n                                <div class=\"col-6 bot-resp\">\n                                  <div class=\"col-sm carousel_cards\" style=\"\" >\n                                  <div class=\"cards image-custom\">\n                                    <div class=\"carousel_card_single\" @click=\"show_image_fullscreen(current_bot_response.image)\" style=\"cursor:pointer;\">\n                                        <img class=\"cards-img\" :src=current_bot_response.image alt=\"carousel Image\">\n                                      <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-if=\"data.Chat_DateTime == undefined\">\n                                        <small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small>\n                                      </p>\n                                      <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-else>\n                                        <small>{{ formatUserQueryTime(data.Chat_DateTime,'utc') }}</small>\n                                      </p> \n                                    </div>\n                                  </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n\n                            <div v-if=\"typeof(current_bot_response.image) == 'object'\">\n                              <div div class=\"row justify-content-end\">\n                                <div class=\"col-6 bot-resp\">\n                                  <div class=\"col-sm carousel_cards\" style=\"\" >\n                                  <div class=\"cards image-custom\">\n                                    <div class=\"carousel_card_single\" @click=\"show_image_fullscreen(current_bot_response.image.link)\" style=\"cursor:pointer;\">\n                                      <img class=\"cards-img\" :src=current_bot_response.image.link alt=\"carousel Image\">\n                                      <p class=\"text-black\" style=\"margin: 0;word-break: break-all;\" v-if=\"current_bot_response.image.caption\">\n                                      {{current_bot_response.image.caption}}\n                                      </p>\n                                      <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\"  v-if=\"data.Chat_DateTime == undefined\">\n                                        <small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small>\n                                      </p>\n                                      <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-else>\n                                        <small>{{ formatUserQueryTime(data.Chat_DateTime,'utc') }}</small>\n                                      </p> \n                                    </div>\n                                  </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div v-if=\"is_response_document(current_bot_response)\">\n                            <div v-if=\"typeof(current_bot_response.attachment) == 'object'\" class=\"\" style=\"margin-bottom: 1rem;\">\n                              <div div class=\"row justify-content-end\">\n                                <div class=\"col-6 bot-resp\">\n                                  <div class=\"col-sm carousel_cards\" style=\"\" >\n                                    <div class=\"cards image-custom\">\n                                      <!-- {{data.BOTResponse[0].attachment.filename}} -->\n                                      <!-- <div class=\"carousel_card_single\" @click=\"show_image_fullscreen(data.BOTResponse[0].image)\" style=\"cursor:pointer;\">\n                                          <img class=\"cards-img\" :src=data.BOTResponse[0].image alt=\"carousel Image\">\n                                        <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\">\n                                          <small>{{ data.bot_response_time }}</small>\n                                        </p> \n                                      </div> -->\n                                      <div class=\"carousel_cards\" style=\"\">\n                                        <div class=\"\">\n                                          <div class=\"carousel_card_single\">\n                                            <div>\n                                              <img style=\"filter: blur(2.2px);\" class=\"cards-img\" src=/img/pdf-placeholder-2.png alt=\"carousel Image\">\n                                            </div>\n                                            <!-- <div v-if=\"carousel.video\">\n                                              <iframe :src=\"carousel.video\" allowfullscreen allowtransparency\n                                                allow=\"autoplay\"></iframe>\n                                            </div> -->\n                                            <div class=\"pl-1\">\n                                              <p v-if=\"current_bot_response.attachment.filename\" class=\"d-flex\">\n                                                <i style=\"cursor: pointer;\" @click=\"show_image_fullscreen(current_bot_response.attachment.link)\" class=\"fa fa-2x pt-1 fa-arrow-circle-down\" aria-hidden=\"true\"></i>\n                                                <span class=\"ml-auto pt-1\"> {{current_bot_response.attachment.filename}}</span>\n                                              </p>\n                                              <!-- <div>\n                                                <div v-if=\"carousel.text\">\n                                                  <p>{{ carousel.text }}</p>\n                                                </div>\n                                              </div> -->\n                                            </div>\n                                            <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-if=\"data.Chat_DateTime == undefined\">\n                                              <small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small>\n                                            </p>\n                                             <p class=\"text-black\" style=\"text-align: end !important; margin: 0;\" v-else>\n                                              <small>{{ formatUserQueryTime(data.Chat_Datetime,'utc') }}</small>\n                                            </p>\n                                          </div>\n                                        </div>\n                                          <!-- <div v-for=\"(btn, indx) in carousel.buttons\" :key=\"indx\"\n                                                  class=\"d-flex\" \n                                                  style=\"margin-top: 1px; max-width: 205px\">\n                                            <div class=\"preview-button-div\" v-if=\"Boolean(btn.title) && Boolean(btn.value)\">\n                                              <a class=\"preview-button\" type=\"button\" @click=\"custom_button_click(btn, item)\" :key=\"index\">\n                                                {{ btn.title }}\n                                              </a>\n                                            </div>\n                                          </div> -->\n                                          <p class=\"bot-resp-msg-flag-card\"><small></small></p>\n                                        </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div class=\"row justify-content-end\" v-if=\"current_bot_response.order_template\">\n                            <div class=\"col-auto\">\n                              <div class=\"col-sm\" style=\"padding-right: 25px;\">\n                                <div class=\"mb-1\">\n                                  <p class=\" mb-0 shadow-sm text-black pt-2 pr-2 pl-3 bot-resp-msg \" style=\"word-break: break-all; white-space: pre-line;\">\n                                   <label class=\"mb-0\" style=\"line-height: 1.5;\" v-html=\"get_order_template_formatted_text(current_bot_response.order_template)\">\n                                    </label>\n                                  </p>\n                                  <p class=\"text-black bot-resp-time pr-2\" v-if=\"data.Chat_DateTime == undefined\"><small>{{ formatUserQueryTime(data.Chat_Datetime) }}</small></p>\n                                  <p class=\"text-black bot-resp-time pr-2\" v-else><small>{{ formatUserQueryTime(data.Chat_DateTime,'utc') }}</small></p>\n                                  <p class=\"bot-resp-msg-flag\"><small></small></p>\n                                  <div class=\"preview-button-div\" v-if=\"check_button_in_order_template(current_bot_response.order_template)\">\n                                    <a\n                                      class=\"preview-button\"\n                                      :href=\"get_order_template_button_url(current_bot_response.order_template, 'url')\"\n                                      target=\"_blank\"\n                                    >\n                                      <span color=\"#0b67aa\" class=\"\"\n                                      ><svg\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        width=\"17\"\n                                        height=\"17\"\n                                        viewBox=\"0 0 24 24\"\n                                        fill=\"none\"\n                                        stroke=\"#0b67aa\"\n                                        stroke-width=\"2\"\n                                        stroke-linecap=\"round\"\n                                        stroke-linejoin=\"round\"\n                                        class=\"mr-2\"\n                                      >\n                                        <path\n                                          d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"\n                                        ></path>\n                                        <polyline points=\"15 3 21 3 21 9\"></polyline>\n                                        <line\n                                          x1=\"10\"\n                                          y1=\"14\"\n                                          x2=\"21\"\n                                          y2=\"3\"\n                                        ></line></svg>{{get_order_template_button_url(current_bot_response.order_template, 'text')}}\n                                      </span>\n                                    </a>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div>\n                        </div>\n                      </div>\n                    </div>\n                </div>\n                <!-- <div class=\"d-flex\">\n                  <input disabled type=\"text\" placeholder=\"Type here to chat...\" class=\"form-control\" id=\"send_message_whatsapp\">\n                  <button\n                    class=\"btn\"\n                    type=\"button\"\n                    id=\"send_btn\"\n                    @click=\"send_message_to_user\"\n                  >\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      id=\"send_button\"\n                      style=\"fill: #8a8a8a63\"\n                      width=\"40\"\n                      height=\"25\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                    </svg>\n                  </button>\n                </div> -->\n              </div>\n              <!-- <div v-else>\n                  <div class=\"text-center\">\n                    <h3 class=\"mt-3\">Welcome to Whatsapp Interface of Cense</h3>\n                    <h6>Please select a contact or start a new chat</h6>\n                  </div>\n                </div> -->\n            </div>\n            <div class=\"start-new-conv\" v-if=\"start_new_conv_data.start_new_conv\">\n              <div class=\"col-sm-12 d-flex\">\n                <img src=\"/img/whatsapp-dp.png\" alt=\"\" class=\"no-profile-image-conv rounded-circle my-2\" height=\"40px\" width=\"40px\">\n                <button class=\"btn p-0\" type=\"button\" id=\"dropdownMenuButtonOne\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  <p v-if=\"customer_name != ''\" class=\"mt-3 ml-2 customer-name\">{{ customer_name }}</p>\n                  <p v-else class=\"mt-3 ml-2\">{{ phoneno }}</p>\n                </button>\n                <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButtonOne\">\n                  <a class=\"dropdown-item\" href=\"javascript:void(0);\">\n                   +{{ phoneno }}\n                  </a>\n                </div>\n                <div class=\"ml-auto mt-3\" >\n                <div class=\"dropdown\">\n                  <button class=\"btn p-0\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <!-- <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\"></i> -->\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" fill=\"currentColor\"\n                      class=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\n                      <path\n                        d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n                    </svg>\n                  </button>\n                  <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    <a class=\"dropdown-item\" href=\"javascript:void(0);\" @click=\"open_send_template_to_user\">Send Template</a>\n                  </div>\n                </div>\n                </div>\n              </div>\n               <div class=\"message-area\" > \n              <div class=\"message-table-scroll\" id=\"scrolling-div-whatsapp\" @scroll=\"chatScrollMessages\">\n              </div>\n              </div>\n\n              \n              <!-- <div class=\"user-info pb-2\">\n                <span class=\"w-25 d-flex\">\n                  <img src=\"/img/whatsapp-dp.png\" alt=\"\" class=\"profile-image rounded-circle\">\n                  <span>\n                    <p v-if=\"customer_name != ''\" class=\"mt-3 mb-0 pl-3 customer-name\">{{ customer_name }}</p>\n                    <p v-else class=\"mt-0 mb-1\">{{ phoneno }}</p>\n                  </span>\n                </span>\n                <span class=\"w-75\">\n                  <span class=\"float-right d-flex w-25\"\n                    style=\"align-items: center;padding-left:3rem;justify-content: space-around;margin-top: 5px;\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" fill=\"currentColor\"\n                      class=\"bi bi-three-dots-vertical mr-4\" viewBox=\"0 0 16 16\">\n                      <path\n                        d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n                    </svg>\n                  </span>\n                </span>\n              </div> -->\n            </div>\n            <div class=\"document-preview\" v-show=\"send_attachment_detail.show_preview == true && file_extensions.image_file_extensions.includes(send_attachment_detail.media_content_type)\">\n              <div class=\"image-preview-container\">\n               <div id=\"img-preview\"></div>\n               <button type=\"button\" class=\"close\" @click=\"close_document_preview\">\n                  <span aria-hidden=\"true\" style=\"font-size: 2.5rem;\">&times;</span>\n               </button>\n              </div>  \n            </div>\n             <div class=\"document-preview\" v-show=\"send_attachment_detail.show_preview == true && file_extensions.document_file_extensions.includes(send_attachment_detail.media_content_type)\">\n              <div class=\"document-preview-container\">\n               <!-- <div id=\"img-preview\"></div> -->\n               <!-- <div style=\"height:500px;display: flex;\" v-if=\"send_attachment_detail.media_content_type == 'application/pdf'\"> -->\n               <div style=\"height:490px;\">\n                   <span aria-hidden=\"true\" style=\"font-size: 2rem;color: aliceblue;\">&times;</span>\n                  <div class=\"d-flex\">                \n                    <img style=\"max-height: 300px;text-align: center;margin-left: auto;margin-right: auto;\" src=\"/img/document-placeholder-1.png\" alt=\"\">\n                  </div>\n                  <p class=\"text-center pt-4\">{{send_attachment_detail.media_file_name}}</p>\n               </div>\n\n              </div>  \n            </div>\n            <div style=\"width:100%\" class=\"send-message-to-user d-flex\" v-if=\"show_send_message && !start_new_conv_data.start_new_conv\">  \n              <!-- <input type=\"text\" ref=\"message_sending_textbox\" style=\"padding: 21px !important;\" class=\"form-control\" :disabled=\"!contact_list[current_contact_index].is_message_sending_enabled\"\n                :placeholder=\"message_text_box_placeholder\" v-model=\"message_to_send\" @keypress.enter=\"send_message_to_user\"> -->\n                <div  :style=\"[!is_search_div_open ? {'width':'8%'}:{'width':'19%'}]\" id=\"emoji_fileshare\" v-show=\"contact_list[current_contact_index].is_message_sending_enabled\">\n                  <span style=\"position: relative;\">\n                    <emoji-picker\n                      @emoji=\"append_on_chat($event, '#whatsapp_text_input_box')\"\n                      :search=\"search\"\n                    >\n                    <!-- :disabled=\"!start_new_conv_data.is_message_sending_enabled\" -->\n                      <div\n                        id=\"emoji\"\n                        class=\"emoji-invoker\"\n                        slot=\"emoji-invoker\"\n                        style=\"top: 5px;\"\n                        @mousedown.prevent=\"toggleEmojiPicker\"\n                        slot-scope=\"{\n                          events: { click: clickEvent }\n                        }\"\n                        @click.stop=\"clickEvent\"\n                      >\n                        <svg\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                          width=\"24\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                        >\n                          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          <path\n                            d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z\"\n                          />\n                        </svg>\n                      </div>\n                      <div\n                        slot=\"emoji-picker\"\n                        slot-scope=\"{ emojis, insert, display }\"\n                      >\n                        <div\n                          class=\"emoji-picker\"\n                          :style=\"{\n                            top: display.y + 'px',\n                            left: display.x + 'px'\n                          }\"\n                        >\n                          <div class=\"emoji-picker__search\">\n                            <input\n                              type=\"text\"\n                              v-model=\"search\"\n                              :placeholder=\"tlt('search')\"\n                              v-focus\n                            />\n                          </div>\n                          <div>\n                            <div\n                              v-for=\"(emojiGroup,\n                              category) in emojis\"\n                              :key=\"category\"\n                            >\n                              <h5>{{ category }}</h5>\n                              <div class=\"emojis\">\n                                <span\n                                  v-for=\"(emoji,\n                                  emojiName) in emojiGroup\"\n                                  :key=\"emojiName\"\n                                  @click=\"insert(emoji)\"\n                                  :title=\"emojiName\"\n                                  >{{ emoji }}</span\n                                >\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </emoji-picker>\n                  </span>\n\n                  <label style=\"cursor:pointer;\" class=\"mb-0 mt-2 pl-2 ml-1 send_attach_file\">\n                    <input type=\"file\" hidden  name=\"send_attachment\" id=\"send_attachment\" :accept=\"file_extensions.all_allowed_file_extensions.toString()\" @change=\"process_attachment_file\" \n                    />\n                      <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\" style=\"transform: rotate(-15deg); color:rgb(114 114 114); font-size:18px;margin-top:4px;\"></i>\n                    <!-- Upload -->\n                  </label>\n                    <!-- <input type=\"file\" name=\"send_attachment\" id=\"send_attachment\" @change=\"process_attachment_file\"> -->\n                    <!-- </i> -->\n                </div>\n                <textarea autofocus name=\"\" id=\"whatsapp_text_input_box\" cols=\"30\" rows=\"10\" :placeholder=\"tlt('whatsapp_webview_placeholder_send_msg_to_user')\" class=\"form-control-textarea\" \n                :disabled=\"!contact_list[current_contact_index].is_message_sending_enabled\" v-model=\"message_to_send\"\n                @keydown=\"textbox_height('#whatsapp_text_input_box')\"\n                @focus=\"reset_cursor_position\"\n                ref=\"textarea\"\n                @input=\"$emit('input', $event.target.value)\"\n                ></textarea>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-send-fill ml-2 mt-1  mr-1\" viewBox=\"0 0 16 16\" style=\"color:2ead7e\"\n                @click=\"send_message_to_user\" id=\"msg_send_btn\" v-if=\"contact_list[current_contact_index].is_message_sending_enabled\"\n                >\n                  <path d=\"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z\"/>\n                </svg>\n                <!-- <button class=\"btn p-0\" type=\"button\" id=\"send_btn\" @click=\"send_message_to_user\" v-if=\"contact_list[current_contact_index].is_message_sending_enabled\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"send_button\" style=\"fill: #8a8a8a63\" width=\"40\" height=\"25\"\n                    viewBox=\"0 0 24 24\">\n                    <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                  </svg>\n                </button> -->\n                <a href=\"javascript:void(0);\" id=\"enable-message-sending\" @click=\"enable_sending_messages_for_user\" v-if=\"!contact_list[current_contact_index].is_message_sending_enabled\">{{tlt('enable_msg_sending')}}</a>\n            </div>\n            <div style=\"width:100%\" class=\"send-message-to-user d-flex\" v-if=\"show_send_message && start_new_conv_data.start_new_conv\" >\n              <!-- <input type=\"text\" ref=\"message_sending_textbox\" style=\"padding: 21px !important;\" class=\"form-control\" :disabled=\"!start_new_conv_data.is_message_sending_enabled\"\n                :placeholder=\"message_text_box_placeholder\" v-model=\"message_to_send\" @keypress.enter=\"send_message_to_user\"> -->              \n              <div style=\"width:8%\"   v-show=\"start_new_conv_data.is_message_sending_enabled\">\n                  <span style=\"position: relative;\">\n                    <emoji-picker\n                      @emoji=\"append_on_chat($event, '#whatsapp_text_input_box')\"\n                      :search=\"search\"\n                    >\n                    <!-- :disabled=\"start_new_conv_data.is_message_sending_enabled\" -->\n                      <div\n                        id=\"emoji\"\n                        class=\"emoji-invoker\"\n                        slot=\"emoji-invoker\"\n                        style=\"top: 8px;\"\n                        @mousedown=\"toggleEmojiPicker\"\n                        slot-scope=\"{\n                          events: { click: clickEvent }\n                        }\"\n                        @click.stop=\"clickEvent\"\n                      >\n                        <svg\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                          width=\"24\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                        >\n                          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          <path\n                            d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z\"\n                          />\n                        </svg>\n                      </div>\n                      <div\n                        slot=\"emoji-picker\"\n                        slot-scope=\"{ emojis, insert, display }\"\n                      >\n                        <div\n                          class=\"emoji-picker\"\n                          :style=\"{\n                            top: display.y + 'px',\n                            left: display.x + 'px'\n                          }\"\n                        >\n                          <div class=\"emoji-picker__search\">\n                            <input\n                              type=\"text\"\n                              v-model=\"search\"\n                              :placeholder=\"tlt('search')\"\n                              v-focus\n                            />\n                          </div>\n                          <div>\n                            <div\n                              v-for=\"(emojiGroup,\n                              category) in emojis\"\n                              :key=\"category\"\n                            >\n                              <h5>{{ category }}</h5>\n                              <div class=\"emojis\">\n                                <span\n                                  v-for=\"(emoji,\n                                  emojiName) in emojiGroup\"\n                                  :key=\"emojiName\"\n                                  @click=\"insert(emoji)\"\n                                  :title=\"emojiName\"\n                                  >{{ emoji }}</span\n                                >\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </emoji-picker>\n                  </span>\n\n                  <label style=\"cursor:pointer;\" class=\"mb-0 mt-2 pl-2 ml-1 send_attach_file\">\n                    <input type=\"file\" hidden  name=\"send_attachment\" id=\"send_attachment\" :accept=\"file_extensions.all_allowed_file_extensions.toString()\" @change=\"process_attachment_file\" \n                    />\n                      <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\" style=\"transform: rotate(-15deg); color:rgb(114 114 114); font-size:18px; margin-top:4px;\"></i>\n                    <!-- Upload -->\n                  </label>\n\n                    <!-- <input type=\"file\" name=\"send_attachment\" id=\"send_attachment\" @change=\"process_attachment_file\"> -->\n                    <!-- </i> -->\n              </div>\n              <textarea autofocus name=\"\" id=\"whatsapp_text_new_input_box\" cols=\"30\" rows=\"10\" :placeholder=\"tlt('whatsapp_webview_placeholder_send_msg_to_user')\" class=\"form-control-textarea\" \n                :disabled=\"!start_new_conv_data.is_message_sending_enabled\" v-model=\"message_to_send\"\n                @keydown=\"textbox_height('#whatsapp_text_new_input_box')\" ref=\"textarea\"\n                @focus=\"reset_cursor_position\" @input=\"$emit('input', $event.target.value)\"\n              ></textarea>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-send-fill ml-2 mt-1  mr-1\" viewBox=\"0 0 16 16\" style=\"color:2ead7e\"\n                @click=\"send_message_to_user\" id=\"msg_send_btn\" v-if=\"start_new_conv_data.is_message_sending_enabled\"\n                >\n                  <path d=\"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z\"/>\n              </svg>\n              <!-- <button class=\"btn p-0\" type=\"button\" id=\"send_btn\" @click=\"send_message_to_user\" v-if=\"start_new_conv_data.is_message_sending_enabled\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"send_button\" style=\"fill: #8a8a8a63\" width=\"40\" height=\"25\"\n                  viewBox=\"0 0 24 24\">\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                </svg>\n              </button> -->\n              <a href=\"javascript:void(0);\" id=\"enable-message-sending\" @click=\"enable_sending_messages_for_user\" v-if=\"!start_new_conv_data.is_message_sending_enabled\">{{tlt('enable_msg')}}</a>\n            </div>\n          </div>\n           <div class=\"col-sm-4 p-0\" style=\"height: 600px; background-color: #ffffff !important;display: none\" id=\"search_div\">\n            <div  style=\"background: #ffff; width: 100% !important;\" id=\"contactsearchdisplay\">\n                <div class=\"d-flex p-2\"\n                  style=\"align-items: center; background-color: #F0F2F5;height:63px ; border-left: 1px solid #cacaca\">\n                  <!-- top-bar -->\n                  <div data-v-d10a3fd6=\"\" type=\"button\" @click=\"closeSearchDiv\" class=\"close-btn \" style=\"font-size: 0px; height: 20px; width: 20px; \">\n                <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" class=\"\">\n                  <path d=\"m19.1 17.2-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z\">\n\n                  </path></svg>\n              </div>\n                  <div title=\"Search Messages\" class=\"mr-auto \" style=\"padding: 13px 0 0 28px;\">\n                <h1 class=\"\" style=\"font-size: 18px; font-weight:400\">Search Messages</h1>\n              </div>\n                  <span class=\"ml-auto d-flex mr-2\">\n                  </span>\n                </div>\n                <div class=\"search-chat\" style=\"border-bottom: 1px solid grey\">\n                  <div>\n                    <input type=\"text\" placeholder=\"Search...\" v-model=\"search_message_value\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" fill=\"currentColor\" class=\"bi bi-search\"\n                      viewBox=\"0 0 16 16\">\n                      <path\n                        d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                    </svg>\n                  </div>\n                </div>\n                <div>\n                  <div class=\"contact-table-scroll\" id=\"noChatContacts\" @scroll=\"check_height('#noChatContacts')\">\n                  <table class=\"table table-hover\" style=\"margin-bottom: 0rem !important\">\n                    <tbody v-if=\"searched_message.length > 0\">\n                      <tr v-for=\"(message, index) in searched_message\" :key=\"index\"\n                          @click=\"get_searched_chat_data( current_contact_number, message.date_time , index)\"\n                        style=\"cursor:pointer\" >\n                        \n                        <td class=\"pl-3 pb-1 pr-3\" style=\"font-size: 13px;\">\n                          <div class=\"user-name-date d-flex\">\n                            <div class=\"user-name\">\n                              <span>{{message.search_text}}</span>\n                              <!-- <span v-if=\"contact.profile_name\">{{ contact.profile_name }}</span>\n                              <span v-else>{{ contact.whatsapp_phone_number }}</span> -->\n                            </div>\n                            \n                          </div>\n                          <div>\n                           \n                                <span  style=\"float: right\">\n                                <span>{{formatSearchedDate(message.date_time)}}</span>\n                                </span>\n                          </div>\n                        </td>\n                      </tr>\n                    </tbody>\n                    <tbody v-else>\n                      <tr>\n                        <td style=\"position: relative; padding:44px; text-align: center;\">\n                          <span class=\"contact-list-empty\">No searched messages available</span>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                  </div>\n                </div>\n              </div>\n          \n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"showImageModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n          <span aria-hidden=\"true\" style=\"font-size: 2rem;color: aliceblue;\">&times;</span>\n        </button>\n        <img class=\"modal-image-preview\" :src=\"current_fullscreen_image_src\" >\n        <!-- <iframe :src=\"current_fullscreen_image_src\" frameborder=\"0\"></iframe> -->\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"addContactModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n        <div class=\"modal-head d-flex align-items-center m-2\">\n          <div class=\"head-icn\">\n            <img src=\"/img/msg-blue.png\" alt />\n          </div>\n          <h3>{{tlt('whatsapp_webview_add_contact')}}</h3>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"top: initial;\">\n            <img src=\"/img/close-icn.png\" alt />\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group\">\n            <label>{{tlt('whatsapp_webview_number')}}</label>\n            <!-- <input\n              type=\"text\"\n              v-model.trim=\"add_new_contact.phone_number\"\n              class=\"form-control\"\n              placeholder=\"Enter Phone Number\"\n              id=\"phone_number\"\n            /> -->\n      \n            <vue-phone-number-input \n              v-model=\"add_new_contact.formattedNumber\"\n              :no-use-browser-locale=\"true\"\n              color=\"#53b9d0\"\n              valid-color=\"#ccc\"\n              @update=\"add_new_contact.phone_number = $event.formattedNumber\"\n              :translations=\"transition_data\"\n            />\n         \n        \n            <label>{{tlt('name')}}</label>\n            <input\n              type=\"text\"\n              v-model.trim=\"add_new_contact.contact_name\"\n              class=\"form-control\"\n              :placeholder=\"tlt('whatsapp_webview_placeholder_enter_contact_name')\"\n              id=\"contact_name\"\n            />\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <div class=\"mr-auto\" @click=\"open_import_from_csv_modal\" style=\"cursor:pointer;\">\n            <i class=\"fa fa-paperclip mr-2\" aria-hidden=\"true\"></i> {{tlt('whatsapp_webview_import_csv_file')}}\n          </div>\n            <div class=\"btn-wrap card-act text-right mt-0 py-0 border-top-0\">\n              <button\n                type=\"button\"\n                class=\"btn btn-link\"\n                data-dismiss=\"modal\"\n              >\n               {{tlt('cancel_btn')}}\n              </button>\n              <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"save_new_contact\"\n              >\n                {{tlt('save_btn')}}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"sendTemplateModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n        <div class=\"modal-head d-flex align-items-center m-2\">\n          <div class=\"head-icn\">\n            <img src=\"/img/msg-blue.png\" alt />\n          </div>\n          <h3>{{tlt('send_template')}}</h3>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"top: initial;\">\n            <img src=\"/img/close-icn.png\" alt />\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div>\n            <h6>{{tlt('select_template')}}</h6>\n            <!-- <div class=\"d-flex\"> -->\n              <table class=\"table\" style=\"overflow-y: auto\">\n                <tr\n                  v-for=\"(template, index) in whatsapp_templates.templates_list\"\n                  :key=\"index\"\n                >\n                  <td scope=\"row\" style=\"border:none; padding:0.25rem;\">\n                    <div class=\"form-check\">\n                       <label :for=\"template.template_id\" class=\"ml-3\"> \n                      <input  type=\"radio\" :name=\"template.template_id\" :id=\"template.template_id\" :value=\"template.template_id\" v-model=\"whatsapp_templates.selected_template\">\n                    {{ template.template_name }}\n                    </label>\n                    </div>\n                  </td>\n                </tr>\n              </table>\n              <!-- <div>\n                <div\n                      v-if=\"Boolean(whatsapp_templates.preview_template_data)\"\n                      class=\"cards\"\n                      style=\"width: 50%; margin: 0 auto\"\n                    >\n                      <div v-if=\"Boolean(whatsapp_templates.preview_template_data['HEADER'])\">\n                        <div\n                          v-if=\"whatsapp_templates.preview_template_data['HEADER'].type == 'IMAGE'\"\n                        >\n                          <img\n                            :src=\"preview_template_data['HEADER'].body\"\n                            width=\"100%\"\n                          />\n                        </div>\n                        <div v-else>\n                          <p>{{ whatsapp_templates.preview_template_data[\"HEADER\"].body }}</p>\n                        </div>\n                      </div>\n                      <div\n                        class=\"mt-4\"\n                        v-if=\"Boolean(whatsapp_templates.preview_template_data['BODY'])\"\n                      >\n                        <label\n                          v-if=\"whatsapp_templates.preview_template_data['BODY'].type == 'text'\"\n                          style=\"line-height: 1.5\"\n                        >\n                          {{ whatsapp_templates.preview_template_data[\"BODY\"].body }}\n                        </label>\n                      </div>\n                      <div v-if=\"Boolean(whatsapp_templates.preview_template_data['FOOTER'])\">\n                        <span\n                          v-if=\"whatsapp_templates.preview_template_data['FOOTER'].type == 'text'\"\n                          style=\"\n                            font-size: 10px;\n                            line-height: 1.5;\n                            font-weight: 300;\n                          \"\n                        >\n                          {{ whatsapp_templates.preview_template_data[\"FOOTER\"].body }}\n                        </span>\n                      </div>\n                    </div>\n                    <div\n                      v-if=\"\n                        Boolean(whatsapp_templates.preview_template_data) &&\n                        Boolean(whatsapp_templates.preview_template_data['BUTTON'])\n                      \"\n                    >\n                      <div\n                        v-for=\"(btn, index1) in whatsapp_templates.preview_template_data['BUTTON']\n                          .body\"\n                        :key=\"index1\"\n                      >\n                        <div\n                          v-if=\"btn['type'] === 'QUICK_REPLY'\"\n                          class=\"preview-button-div\"\n                          style=\"width: 50%; margin: 0 auto\"\n                        >\n                          <button\n                            color=\"rgba(11,103,170,1)\"\n                            class=\"btn preview-button\"\n                          >\n                            <span color=\"rgba(11,103,170,1)\" class=\"\"\n                              >{{ btn[\"text\"] }}\n                            </span>\n                          </button>\n                        </div>\n                        <div\n                          v-else-if=\"btn['type'] === 'URL'\"\n                          class=\"preview-button-div\"\n                          style=\"width: 50%; margin: 0 auto\"\n                        >\n                          <a\n                            :href=\"btn.url\"\n                            target=\"_blank\"\n                            class=\"btn preview-button\"\n                          >\n                            <span color=\"#0b67aa\" class=\"\"\n                              ><svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                width=\"17\"\n                                height=\"17\"\n                                viewBox=\"0 0 24 24\"\n                                fill=\"none\"\n                                stroke=\"#0b67aa\"\n                                stroke-width=\"2\"\n                                stroke-linecap=\"round\"\n                                stroke-linejoin=\"round\"\n                                class=\"mr-2\"\n                              >\n                                <path\n                                  d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"\n                                ></path>\n                                <polyline points=\"15 3 21 3 21 9\"></polyline>\n                                <line\n                                  x1=\"10\"\n                                  y1=\"14\"\n                                  x2=\"21\"\n                                  y2=\"3\"\n                                ></line></svg\n                              >{{ btn[\"text\"] }}</span\n                            >\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n              </div> -->\n              <!-- </div> -->\n            <div class=\"modal-footer\">\n              <div class=\"btn-wrap card-act text-right mt-0 py-0 border-top-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"modal\"\n                >\n                  {{tlt('cancel_btn')}}\n                </button>\n                <button\n                  type=\"submit\"\n                  class=\"darkblue-btn\"\n                  id=\"res_n_int_save\"\n                  @click=\"send_template_to_customer()\"\n                >\n                  {{tlt('send_btn')}}\n                </button>\n              </div>\n           </div>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"importContactCSVModal\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n    >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n        <div class=\"modal-head d-flex align-items-center m-2\">\n          <div class=\"head-icn\">\n            <img src=\"/img/msg-blue.png\" alt />\n          </div>\n          <h3>{{tlt('whatsapp_webview_import_csv_contacts')}}</h3>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" style=\"top: initial;\">\n            <img src=\"/img/close-icn.png\" alt />\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div>\n            <form @submit.prevent=\"file_submit_upload_contacts\">\n              <div class=\"form-group\">\n                <div class=\"custom-file\">\n                  <input\n                    type=\"file\"\n                    accept=\".csv\"\n                    class=\"custom-file-input\"\n                    @change=\"file_input_contacts_csv\"\n                    id=\"inputGroupUploadFilecsv\"\n                    aria-describedby=\"inputGroupFileAddoncsv\"\n                  />\n                  <label\n                    style=\"font-weight: 400; line-height: 15px\"\n                    class=\"custom-file-label form-control\"\n                    for=\"file\"\n                    >{{contact_csv.file_label}}</label\n                  >\n                </div>\n                <!-- <p class=\"mt-2\" style=\"color: #fa0000; font-size: 0.85rem\">\n                  * Please Note that only Responses with only Text Response can\n                  be added via CSV, API Endpoints and Responses with Image need\n                  to be added from the portal.\n                </p> -->\n              </div>\n              <div class=\"btn-wrap text-right\">\n                <a href=\"javascript:void(0)\" @click=\"download_sample_contact_file\">\n                  {{tlt('whatsapp_webview_download_csv')}}\n                  <!-- <i\n                    class=\"fa fa-spinner fa-spin\"\n                  ></i> -->\n                </a>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  @click=\"empty_upload_csv_contacts\"\n                  data-dismiss=\"modal\"\n                >\n                  {{tlt('cancel_btn')}}\n                </button>\n                <button type=\"submit\" class=\"darkblue-btn\">{{tlt('submit_btn')}}</button>\n              </div>\n            </form>\n              \n            <!-- <div class=\"modal-footer\">\n              <div class=\"btn-wrap card-act text-right mt-0 py-0 border-top-0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-link\"\n                  data-dismiss=\"modal\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  class=\"darkblue-btn\"\n                  id=\"res_n_int_save\"\n                  @click=\"send_template_to_customer()\"\n                >\n                  Send\n                </button>\n              </div>\n           </div> -->\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport { Socket, Presence } from \"phoenix\";\nimport moment from 'moment';\nimport Swal from \"sweetalert2\";\nimport Multiselect from \"vue-multiselect\";\nimport VuePhoneNumberInput from \"vue-phone-number-input\";\nimport swal from 'sweetalert2';\nimport EmojiPicker from \"vue-emoji-picker\";\nimport { close_modal } from \"@/portal/mixins\";\nexport default {\n  name: \"WhatsAppChatNewpage\",\n  components: {\n    Multiselect,\n    VuePhoneNumberInput,\n    EmojiPicker\n  },\n  mixins: [close_modal],\n  data() {\n    return {\n      current_page_no:1,\n      latest_page_no:1,\n      show_spinner: false,\n      history: [],\n      contact_list: [],\n      oldCursorPosition: null,\n      input: \"\",\n      search: \"\",\n      scroll_top_called:false,\n      showEmojiPicker: false,\n      searched_message:[],\n      phoneno: null,\n      customer_name: \"\",\n      chat_details: [],\n      search_value: \"\",\n      is_search_div_open:false,\n      search_message_value:\"\",\n      company_id: this.$session.get(\"UserInformation\").company_id,\n      company_name:this.$session.get(\"UserInformation\").company_name, \n      session_token: this.$session.get(\"UserInformation\").tokens,\n      initial_message_load: false,\n      is_profile_setup: false,\n      message_pagination: {\n        is_scroll_up: false,\n        is_scroll_down:true,\n        per_page: 10,\n        page_no: 1,\n        total_records: 10,\n        page_record_fetched: []\n      },\n      is_paginated_call: false,\n      default_whatsapp_status: 'Hey there! I am using whatsapp',\n      edit_status: false,\n      scroll_spinner_chat: false,\n      show_send_message: false,\n      is_message_sending_enabled: false,\n      is_show_message_disabled: true,\n      whatsapp_profile : {},\n      edit_email: false,\n      edit_address: false,\n      edit_description: false,\n      edit_website: false,\n      toggleModal:false,\n      toggleModal2:false,\n      searched_message_selected:null,\n      email_address: '',\n      business_address: '',\n      description : '',\n      website_url : '',\n      whatsapp_phone_number: null,\n      channel: null,\n      chat_socket: null,\n      support_channel: null,\n      message_to_send: null,\n      whatsapp_status : '',\n      index_update:null,\n      second_website :false,\n      selected_files :'',\n      mouse_hover_text : false,\n      vertical_types : ['Automotive','Beauty', 'Spa and Salon','Clothing and Apparel','Education',\n              'Entertainment','Event Planning and Service','Finance and Banking','Food and Grocery'\n              ,'Public Service','Hotel and Lodging','Medical and Health','Non-profit',\n              'Professional Services','Shopping and Retail','Travel and Transportation','Restaurant','Other'],\n      current_contact_number: null,\n      whatsapp_phone_number:null,\n      is_contact_list : false,\n      current_contact_index: null,\n      search_in_contact_list: '',\n      all_contact_list : [],\n      start_new_conv_data : {\n        start_new_conv: false,\n        is_message_sending_enabled: true\n      },\n      all_contact_pagination:{\n        per_page: 10,\n        page_no: 1,\n        total_records: 10,\n      },\n      send_attachment_detail: {\n        media_file_name: null,\n        media_file: null,\n        show_preview: false,\n        media_content_type: null,\n        media_type: null,\n        send_media: true,\n        document_content: null,\n        media_caption: null\n      },\n      current_fullscreen_image_src: null,\n      add_new_contact: {\n        phone_number: null,\n        is_add_contact: true,\n        contact_name: null,\n        formattedNumber: null\n      },\n      add_new_contact_formatted_phone_number: null,\n      file_extensions: {\n        all_allowed_file_extensions: [\"image/png\",\"image/jpeg\", \"application/pdf\", \"text/plain\", \"application/vnd.ms-excel\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", \n                                      \"application/vnd.ms-powerpoint\", \"application/msword\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"text/csv\"],\n        image_file_extensions: [\"image/png\", \"image/jpeg\"],\n        document_file_extensions: [\"application/pdf\", \"text/plain\", \"application/vnd.ms-excel\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", \n                                    \"application/vnd.ms-powerpoint\", \"application/msword\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"text/csv\"]\n      },\n      whatsapp_templates: {\n        templates_list: [],\n        pagination_data: {\n          per_page: 10,\n          page_no: 1,\n          total_records: 10,\n        },\n        selected_template: null,\n        preview_template_data: null\n      },\n      contact_csv: {\n        file_label: 'Choose File',\n        file_content: null,\n        file_selected: false\n      },\n      whatsapp_format_dict : { \n        \"*\":['<strong>','</strong>'],\n        \"_\":['<i>','</i>'],\n        \"~\":['<s>','</s>'],\n        \"```\":['<tt>','</tt>']\n      },\n      whatsapp_formating_list : [\"*\",\"_\",\"~\",\"```\"],\n      show_profile_div : false\n    };\n  },\n  computed: {\n    // total_pages_loaded() {\n    //   if ((this.message_pagination.page_no * this.message_pagination.per_page) >= this.message_pagination.total_records) {\n    //     return true;\n    //   }\n    //   return false;\n    // },\n    message_text_box_placeholder() {\n      return \"Send a message to user\"\n    },\n    returnValues() {\n      return {\n        legend:'cancel_btn'\n      }\n    },\n    total_contact_loaded(){\n      if ((this.all_contact_pagination.page_no * this.all_contact_pagination.per_page) >= this.all_contact_pagination.total_records) {\n        return true;\n      }\n      return false;\n    },\n    transition_data(){\n      return{\n                  countrySelectorLabel:`${this.tlt('country_code')}` ,\n                  phoneNumberLabel: `${this.tlt('phone_number')}`, \n      }\n                    \n      }\n  },\n  beforeRouteLeave(to, from, next) {\n            $('#popover').popover('dispose')  \n            $('#popover').popover('hide')  \n            this.is_open = false;\n            next();\n  },\n   beforeRouteEnter(to, from, next) {\n            $('#popover').popover('dispose')  \n            $('#popover').popover('hide')  \n   \n            next();\n  },\n  mounted() {\n    this.get_contact_list(true);\n    this.get_profile_details();\n    const vm = this;\n    $(window).bind('mousewheel', function (event) {\n      // console.log(event.originalEvent.wheelDelta)\n      if (event.originalEvent.wheelDelta >= 0) {\n        vm.message_pagination.is_scroll_up = true;\n        vm.message_pagination.is_scroll_down = false;\n      }\n      else {\n        vm.message_pagination.is_scroll_up = false;\n        vm.message_pagination.is_scroll_down = true;\n        this.scroll_top_called = false;\n\n      }\n      vm.is_paginated_call = false\n    });\n    // var lastScrollTop = 0;\n    // document.addEventListener(\n    //   \"scroll\",\n    //   function (ev) {\n    //     if (ev.target.id === \"scrolling-div-whatsapp\") {\n    //       console.log(ev)\n    //       var st = window.pageYOffset || document.documentElement.scrollTop; // Credits: \"https://github.com/qeremy/so/blob/master/so.dom.js#L426\"\n    //       if (st > lastScrollTop){\n    //         vm.message_pagination.is_scroll_up = false;\n    //       } else {\n    //         console.log(\"Scrolling Up\")\n    //         vm.message_pagination.is_scroll_up = true;\n    //       }\n    //       lastScrollTop = st <= 0 ? 0 : st;\n\n    //       // vm.scrollPosition = ev.target[\"scrollTop\"];\n    //     }\n    //   },\n    //   true\n    // );\n    $(\"#showImageModal\").on(\"hidden.bs.modal\", function (e) {\n        vm.current_fullscreen_image_src = null;\n    });\n    $(\"#importContactCSVModal\").on(\"hidden.bs.modal\", function (e) {\n        vm.empty_upload_csv_contacts();\n    });\n\n    // axios.post(api_calls.initialize_whatsapp_topic(), \n    // {\n    //   company_id: this.company_id,\n    //   whatsapp_phone_number: \"100\",\n    //   test: btoa(\"test_paramater\")\n    // }).then((response) => {\n      // console.log(response)\n      // this.chat_group_name = response.data.chat_group_name;\n      // this.live_chat_token = response.data.token;\n      // this.live_chat_on = true;\n      // this.chat_socket = new Socket(\n      //   process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT,\n      //   {\n      //     params: {\n      //       whatsapp: \"true\",\n      //       elixir_token : response.data.elixir_token,\n      //       token: this.session_token,\n      //       username: this.$session.get(\"UserInformation\").email\n      //     },\n      //   }\n      // );\n      this.chat_socket = new Socket(\n        process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT,\n        {\n          params: {\n            whatsapp: \"true\",\n            jwt: this.$session.get(\"at\"),\n            email: this.$session.get(\"UserInformation\").email,\n            company_id: this.$session.get(\"UserInformation\").company_id,\n            company_name: this.$session.get(\"UserInformation\").company_name,\n          },\n        }\n      );\n      this.chat_socket.connect();\n      let company_id =  this.$session.get(\"UserInformation\").company_id;\n      this.channel = this.chat_socket.channel(\n        \"whatsapp:\" + company_id\n      );\n      this.channel.join();\n      this.channel.on(\"new_whatsapp_message\", (res) => {\n        console.log(res)\n        if(res.company_id === company_id){\n          // if(!res.is_bot_conversation_realtime){\n            // console.log(\"user bot conversation\")\n            let contact_index = this.contact_list.findIndex((item) => {return item.whatsapp_phone_number === res.whatsapp_phone_number});\n            \n            if(res.BOTResponse == undefined){\n            // let latest_message;\n            // if(res.is_bot_conversation_realtime){\n            //   let is_text =  res.BOTResponse.find((item) => item.text != null),\n            //   is_product = res.BOTResponse.find((item) => (item.text == null && item.products));\n            //   if(Boolean(is_text)) {\n            //     latest_message = is_text.text;\n            //   } else if(Boolean(is_product)) {\n            //     latest_message = \"Product bot response\"\n            //   } else {\n            //     latest_message = null\n            //   }\n            // } else {\n            //   latest_message = res.whatsapp_message;\n            // }\n            // console.log(res, \"else\", contact_index)\n              if (contact_index != -1){\n                this.contact_list[contact_index].last_bot_response.text = res.whatsapp_message;\n                this.contact_list[contact_index].is_new_notification = true;\n                this.contact_list[contact_index].new_message_count = 1;\n                this.contact_list = this.array_move(this.contact_list, contact_index, 0);\n                // this.current_contact_index\n              }\n              if(this.check_current_number(res)){ \n                let current_timestamp = new Date(),\n                current_date = moment().format('YYYY-MM-DD');\n                let bot_response_date = current_date;\n                if(this.history.map(item => item.bot_response_date == bot_response_date).length > 0){\n                  bot_response_date = \"\";\n                }\n                this.history.push(\n                {\n                  \"BOTResponse\": [],\n                  \"UserQuery\": res.whatsapp_message,\n                  \"bot_response_date\": bot_response_date, \n                  \"bot_response_time\": current_timestamp, \n                  \"user_query_date\": current_date,\n                  \"user_query_time\": current_timestamp,\n                  \"UserQuery_DateTime\": current_timestamp.toISOString()\n                }\n              );\n              }\n            } else {\n              let latest_message,\n              is_text =  res.BOTResponse.find((item) => item.text != null),\n              is_product = res.BOTResponse.find((item) => (item.text == null && item.products));\n              if(Boolean(is_text)) {\n                latest_message = is_text.text;\n              } else if(Boolean(is_product)) {\n                latest_message = \"Product bot response\"\n              } else {\n                latest_message = null\n              }\n              if (contact_index != -1){\n                this.contact_list[contact_index].last_bot_response.text = latest_message;\n                this.contact_list[contact_index].is_new_notification = true;\n                this.contact_list[contact_index].new_message_count = 1;\n                this.contact_list = this.array_move(this.contact_list, contact_index, 0);\n                // this.current_contact_index\n              };\n              if(this.check_current_number(res)){ \n                let current_timestamp = new Date(),\n                current_date = moment().format('YYYY-MM-DD');\n                let bot_response_date = current_date;\n                if(this.history.map(item => item.bot_response_date == bot_response_date).length > 0){\n                  bot_response_date = \"\";\n                }\n                res[\"bot_response_date\"] = bot_response_date; \n                res[\"bot_response_time\"] = current_timestamp; \n                res[\"user_query_date\"] = current_date;\n                res[\"user_query_time\"] = current_timestamp;\n                this.history.push(res);\n              }\n            }\n            this.scroll_down();\n          // } else {\n          //   console.log(\"realtime conversation\")\n          // }\n        }\n      })\n    // })\n  },\n  watch: {\n    search_value(newValue) {\n      // console.log(newValue)\n      if (newValue != \"\" && newValue.length > 2)  {\n        this.show_spinner = true;\n        axios\n          .post(\n            api_calls.whatsapp_chat(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_search: true,\n              search_string: newValue,\n              is_get_contacts: true\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            if ((this.api_status_code.CONTACTS_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE)\n             || (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE)) {\n              this.contact_list = [];\n            }else if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n              this.contact_list = response.data.data.contacts;\n            }else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.show_spinner = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        this.get_contact_list(false);\n      }\n    },\n\n    search_message_value(newValue) {\n      if (newValue != \"\")  {\n        this.show_spinner = true;\n        axios\n          .post(\n            api_calls.whatsapp_chat(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              whatsapp_contact_number: this.current_contact_number,\n              get_by_whatsapp_phone_number:true,\n              is_search: true,\n              search_string: newValue,\n              \n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n                 this.show_spinner = false;\n            if ((this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE)) {\n                this.searched_message = [];\n            }else if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n              this.searched_message = response.data.data.search_result;\n\n            }else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.show_spinner = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else{\n        this.searched_message = []\n      }\n    },\n    // toggleModal(newValue){\n    //   if(newValue){\n    //     console.log(\"new value\" , newValue);\n    //     toggleDropdown();\n    //   }\n\n    // },\n    // toggleModal: {\n    //    handler: function(val, oldVal) {\n    //       if(val){\n    //     console.log(\"new value\" , val , oldVal);\n    //     this.toggleDropdown();\n    //   }// call it in the context of your component object\n    //    },\n    //    deep: true\n    // },\n    search_in_contact_list(newValue){\n      if (newValue != \"\" && newValue.length > 2)  {\n        this.show_spinner = true;\n        axios\n          .post(\n            api_calls.whatsapp_chat(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_search: true,\n              search_string: newValue,\n              is_get_all_contacts: true\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.show_spinner = false;\n            if (response.data.message.MSG_CODE == this.api_status_code.CONTACTS_NOT_FOUND.MSG_CODE) {\n              this.all_contact_list = [];\n            }else if(this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n              this.all_contact_list = response.data.data.contacts;\n            }else if (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE) {\n              this.all_contact_list = [];\n            }else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            this.show_spinner = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      } else {\n        this.get_all_contact_list();\n      }\n    },\n    'whatsapp_templates.selected_template': {\n      handler: function (newVal, oldVal){\n        if(Boolean(newVal)){\n          var current_template = this.whatsapp_templates.templates_list.find((item) => item.template_id == newVal);\n          var template_id = newVal;\n          var variable_dict = current_template.variable_dict;\n          var is_parent_template = false;\n          axios.post(\n            api_calls.whatsapp_template(),\n            {\n              company_id: this.company_id,\n              company_name: this.company_name,\n              is_notification: false,\n              is_preview: true,\n              is_parent_template: is_parent_template,\n              template_id: template_id,\n              variable_dict: variable_dict,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then((response) => {\n            this.show_spinner = false;\n            if(this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n              this.whatsapp_templates.preview_template_data = response.data.data;\n            } else if (this.api_status_code.WHATSAPP_USER_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n                Swal({\n                  title: this.tlt('tier_specific_user_limit_reached'),\n                  text: this.tlt('tier_specific_user_limit_reached_msg'),\n                  type: \"warning\",\n                  showConfirmButton: false,\n                  timer: 4000,\n                });\n            } else if (this.api_status_code.MESSAGE_SENDING_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n                Swal({\n                  type: \"warning\",\n                  text: \"Message Sending Limit Reached\",\n                  showCancelButton: true,\n                  confirmButtonColor:'#3085d6',\n                  confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n                  cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n                  cancelButtonColor: '#d33',\n                }).then((result) => {\n                    if (result.value == true)\n                    {\n                      this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                    }\n                  });\n            }else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n          })\n          .catch((e) => {\n            console.log(e)\n          })\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n     highlight_text(userQuery){\n      let classname = \"\"\n      if(userQuery ===this.searched_message_selected){\n        classname = \"add-highlight\"\n        return classname\n      }\n      return classname\n    },\n    refreshPopover(){\n         if(this.is_open === undefined || this.is_open === false){\n                    $('#popover').popover('dispose')\n    \n          \n\n          // $('#popover').popover('show')\n            $('#popover').popover({\n              html: true,\n              title: `${this.tlt('whatsapp_webview_legend')}`,\n              content: `<span style='color:#25af02;font-size: larger;'>&#x25CF;</span> <span> ${this.tlt('whatsapp_webview_contact_on_whatsapp')} </span> <br>\n                        <span style='color:#ff4747;font-size: larger;'>&#x25CF;</span> <span> ${this.tlt('whatsapp_webview_contact_not_on_whatsapp')}</span> <br>\n                        <span style='color:#ffc347;font-size: larger;'>&#x25CF;</span> <span> ${this.tlt('whatsapp_webview_contact_dont_know_on_whatsapp')}</span>`,\n              \n            })\n            $('#popover').popover('show')  \n            this.is_open = true;\n          \n        }else{\n        \n           $('#popover').popover('dispose')  \n            $('#popover').popover('hide')  \n            this.is_open = false;\n          \n        }\n      },\n      closeModel(e){\n        //console.log(e.target.classList , \" calling modal\")\n        if(!e.target.classList.contains('legend_whatsapp')){\n         \n          $('#popover').popover('dispose')  \n              $('#popover').popover('hide')  \n              this.is_open = false;\n        }\n        // if(!e.target.classList.contains('dropdownMenuButtonOne')){\n         \n        // }\n          if(!e.target.classList.contains(\"btn\") && !e.target.classList.contains(\"bi-three-dots-vertical\") && !e.target.classList.contains(\"customer-name\") && !e.target.classList.contains(\"btn\")){\n            //console.log(this.toggleModal2,\"before closing modal\")\n            let dropdownParent2 = document.getElementById('dropdownParent2')\n            let dropdownMenu2 = document.getElementById('dropdownMenu2')\n            let dropdownMenuButton = document.getElementById('dropdownMenuButton2')\n            let dropdownParent = document.getElementById('dropdownParent')\n            let dropdownMenu = document.getElementById('dropdownMenu')\n            let dropdownMenuButtonOne = document.getElementById('dropdownMenuButtonOne')\n            \n          \n         \n            if(dropdownParent2 && dropdownMenu2 && dropdownMenuButton && this.toggleModal2){\n                 dropdownParent2.classList.remove('show');\n              dropdownMenu2.classList.remove('show');\n              dropdownMenuButton.removeAttribute('aria-expanded', 'true')\n              dropdownMenu2.removeAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n              this.toggleModal2 = false\n              //console.log(this.toggleModal2 , \"after closing modal --------\")\n\n            }\n            if(dropdownMenu && dropdownParent && dropdownMenuButtonOne && this.toggleModal){\n            //console.log(\"---\" , \"inside dropdown\")\n            dropdownMenu.classList.remove('show');\n            dropdownParent.classList.remove('show');\n            dropdownMenuButtonOne.removeAttribute('data-expanded', 'true')\n            dropdownMenu.removeAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n            this.toggleModal = false\n      \n          }\n         \n        }\n     \n      },\n    openSearchDiv(){\n      this.is_search_div_open=true\n      let chat_div = document.getElementById('chat_div');\n      chat_div.classList.remove('col-sm-8')\n      chat_div.classList.add('col-sm-4')\n      let search_div = document.getElementById('search_div');\n      search_div.style.display = \"flex\"\n\n\n      let bot_msg = document.querySelectorAll(\"#msg-div\")\n      bot_msg.forEach(elem=>{\n        elem.classList.add(\"responsive-width\")       \n      })\n      \n      let preview_btn = document.querySelectorAll(\"#preview-btn\")\n      preview_btn.forEach(elem=>{\n        elem.classList.add(\"col-sm-11\")       \n      })\n       let bot_card = document.querySelectorAll(\".bot-resp\")\n      bot_card.forEach(elem=>{\n        elem.classList.add(\"col-7\")       \n      })\n      let emoji_fileshare = document.getElementById('emoji_fileshare');\n      if(emoji_fileshare){\n\n        emoji_fileshare.style.width = \"19%\"\n      }\n\n    },\n    closeSearchDiv(){\n            this.is_search_div_open=false\n      let chat_div = document.getElementById('chat_div');\n      chat_div.classList.add('col-sm-8')\n      chat_div.classList.remove('col-sm-4')\n      let search_div = document.getElementById('search_div');\n      search_div.style.display = \"none\"\n      this.searched_message = []\n      this.search_message_value=\"\"\n      this.searched_message_selected = null\n\n      let bot_msg = document.querySelectorAll(\"#msg-div\")\n      bot_msg.forEach(elem=>{\n        elem.classList.remove(\"responsive-width\")       \n      })\n        let preview_btn = document.querySelectorAll(\"#preview-btn\")\n      preview_btn.forEach(elem=>{\n        elem.classList.remove(\"col-sm-11\")       \n      })\n      let bot_card = document.querySelectorAll(\".bot-resp\")\n      bot_card.forEach(elem=>{\n        // console.log(\"---run---\")\n        elem.classList.remove(\"col-7\")       \n      })\n        let emoji_fileshare = document.getElementById('emoji_fileshare');\n      if(emoji_fileshare){\n\n        emoji_fileshare.style.width = \"8%\"\n      }\n    },\n    empty_variable() {\n      (this.history = []), (this.phoneno = null);\n      this.customer_name = \"\";\n      this.chat_details = [];\n      this.message_pagination.per_page = 10;\n      this.message_pagination.page_no = 1;\n      this.message_pagination.total_records = 10;\n      this.message_pagination.page_record_fetched = [];\n      this.message_to_send = null;\n      this.current_contact_index = null;\n      this.all_contact_pagination.per_page = 10;\n      this.all_contact_pagination.page_no = 1;\n      this.all_contact_pagination.total_records = 10;\n      this.send_attachment_detail = {\n        media_file_name: null,\n        media_file: null,\n        show_preview: false,\n        media_content_type: null,\n        media_type: null,\n        send_media: true,\n        document_content: null,\n        media_caption: null\n      }\n    },\n    reset_cursor_position() {\n      this.oldCursorPosition = null;\n    },\n    toggleEmojiPicker(){\n      this.showEmojiPicker = !this.showEmojiPicker;\n    },\n    append_on_chat(emoji, id) {\n      var textarea = this.$refs.textarea;\n      let chat_value = document.getElementById('whatsapp_text_input_box').value;\n      var cursorPos = textarea.selectionEnd;\n      // var cursorPosition = textarea.selectionEnd\n      // let v = $(\"#\" + id).val();\n      if (this.oldCursorPosition) {\n        var textBefore = chat_value.substring(0, this.oldCursorPosition);\n        var textAfter = chat_value.substring(this.oldCursorPosition, chat_value.length);\n      } else {\n        var textBefore = chat_value.substring(0, cursorPos);\n        var textAfter = chat_value.substring(cursorPos, chat_value.length);\n      }\n      this.message_to_send = textBefore + emoji + textAfter;\n      !this.oldCursorPosition\n        ? (this.oldCursorPosition = cursorPos + 2)\n        : (this.oldCursorPosition = this.oldCursorPosition + 2);\n    },\n    get_history_data(whatsapp_no, user_name, contact_index, contact) {\n      // console.log(\"runnn\")\n      this.empty_variable();\n      this.show_spinner = true;\n      this.customer_name = this.get_contact_display_name(contact);\n      // this.customer_name = user_name;\n      this.current_contact_number = whatsapp_no;\n      this.show_send_message = false;\n      this.current_contact_index = contact_index;\n      this.contact_list[contact_index].is_new_notification = false;\n      this.start_new_conv_data.start_new_conv = false;\n      axios\n        .post(\n          api_calls.whatsapp_chat(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            get_by_whatsapp_phone_number: true,\n            whatsapp_contact_number: whatsapp_no,\n            per_page: this.message_pagination.per_page,\n            page_no: 1,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_send_message = true;\n          this.show_spinner = false;\n          if (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE) {\n              this.start_new_conv_data.start_new_conv = true;\n              this.new_conv_contact_data = contact;\n            this.phoneno = whatsapp_no;\n          }else if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n            this.history = this.format_history_response(response.data.data.chat_history);\n            this.phoneno = response.data.data.whatsapp_phone_number || whatsapp_no;\n            // console.log(this.phoneno, this.contact_list);\n            let contact_list_index = this.contact_list.findIndex(item => item.whatsapp_phone_number == this.phoneno);\n            if(contact_list_index >= 1){\n              // this.contact_list = this.array_move(this.contact_list, contact_list_index, 0);\n              this.current_contact_index =contact_list_index;\n              this.current_contact_number = this.phoneno;\n              // this.contact_list[contact_list_index].is_message_sending_enabled = false;\n            }\n            this.current_page_no = response.data.pagination.page;\n            this.latest_page_no = response.data.pagination.page;\n\n            this.message_pagination.total_records = response.data.pagination.total_data;\n            if(response.data.pagination.total_page === response.data.pagination.page){\n            \n                this.total_pages_loaded = true\n          \n               }else{\n                // console.log(\"else\")\n                this.total_pages_loaded = false             \n      \n               }\n              //  console.log(this.total_pages_loaded)\n            setTimeout(() => {\n              this.scroll_down();\n              this.initial_message_load = true;\n              this.message_pagination.is_scroll_up = false;\n              this.chatScrollMessages(true);\n              this.scroll_top_called=false\n            }, 400);\n          }else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n          }\n        })\n        .catch((e) => {\n          this.show_spinner = false;\n          console.log(e);\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    // get_searched_chat_intermediate_function(time){\n    //   console.log(time , this.current_contact_number)\n    //   this.get_searched_chat_data( this.current_contact_number ,time)\n   \n    // },\n    // highlight_text(){\n    //        this.searched_message_selected = this.searched_message[index].search_text\n    //           let text = document.querySelectorAll(\"#text\")\n              \n    //           text.forEach(elem=>{\n    //             if(elem.textContent.trim() === searched_message_selected.trim()){\n    //               elem.classList.add('add_highlight')\n    //               console.log(\"gotcha inside if\" , elem.classList , searched_message_selected)\n    //             }\n    //           });\n    // },\n     get_searched_chat_data(whatsapp_no,time , index) {\n      // console.log(\"index\",index)\n      // this.empty_variable();\n      this.show_spinner = false;\n      // this.customer_name = this.get_contact_display_name(contact);\n      // // this.customer_name = user_name;\n      // this.current_contact_number = whatsapp_no;\n      this.show_send_message = false;\n      // this.current_contact_index = contact_index;\n      // this.contact_list[contact_index].is_new_notification = false;\n      // this.start_new_conv_data.start_new_conv = false;\n      axios\n        .post(\n          api_calls.whatsapp_chat(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            get_by_whatsapp_phone_number: true,\n            whatsapp_contact_number: whatsapp_no,\n            per_page: this.message_pagination.per_page,\n            is_get_search:true,\n            message_datetime: time\n\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          // console.log(\"rannn\");\n          this.show_spinner = false;\n          this.show_send_message = true;\n          if (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE) {\n            return\n            //   this.start_new_conv_data.start_new_conv = true;\n            //   this.new_conv_contact_data = contact;\n            // this.phoneno = whatsapp_no;\n          }else if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n            \n            // console.log(this.history , \"before\")\n            // this.history = \"\";\n            // debugger;\n            this.history = this.format_history_response(response.data.data.chat_history);\n            this.current_page_no = response.data.pagination.page;\n            this.latest_page_no = response.data.pagination.page;\n            // console.log(this.current_page_no , \"current set\")\n            this.message_pagination.page_record_fetched = [response.data.pagination.page]\n            // this.phoneno = response.data.data.whatsapp_phone_number || whatsapp_no;\n            // // console.log(this.phoneno, this.contact_list);\n            // let contact_list_index = this.contact_list.findIndex(item => item.whatsapp_phone_number == this.phoneno);\n            // if(contact_list_index >= 1){\n            //   // this.contact_list = this.array_move(this.contact_list, contact_list_index, 0);\n            //   this.current_contact_index =contact_list_index;\n            //   this.current_contact_number = this.phoneno;\n            //   // this.contact_list[contact_list_index].is_message_sending_enabled = false;\n            // }\n            this.message_pagination.total_records = response.data.pagination.total_data;\n             this.is_paginated_call = true\n              this.initial_message_load = true;\n              this.message_pagination.is_scroll_up = true;\n              this.chatScrollMessages(false);\n               this.searched_message_selected = this.searched_message[index].search_text\n              //  console.log(this.searched_message[index] , \"index\" , index);\n              \n               if(response.data.pagination.total_page === response.data.pagination.page){\n                // console.log(\"if\")\n                this.total_pages_loaded = true\n                this.message_pagination.is_scroll_down = true;\n                this.scroll_top_called=true\n               }else{\n                // console.log(\"else\")\n                this.total_pages_loaded = false             \n                this.scroll_top_called=false\n                 this.is_paginated_call = true\n               }\n            setTimeout(() => {\n             \n               \n              // let text = document.querySelectorAll(\"#text\")\n              \n              // text.forEach(elem=>{\n              //   if(elem.textContent.trim() === this.searched_message_selected.trim()){\n              //     elem.classList.add('add_highlight')\n              //     console.log(\"gotcha inside if\" , elem.classList , this.searched_message_selected)\n              //   }\n              // });\n               let selected_msg = this.searched_message[index].date_time;\n               let selected_div = document.getElementById(selected_msg)\n              if(selected_div){selected_div.scrollIntoView({behavior: \"smooth\"})}\n              //  console.log(selected_div , selected_msg );\n\n            }, 400);\n               \n               \n                \n          }else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n          }\n        })\n        .catch((e) => {\n          this.show_spinner = false;\n          console.log(e,'eeeee');\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    get_contact_list(enable_bot_responses) {\n      this.show_spinner = true;\n      axios\n        .post(\n          api_calls.whatsapp_chat(),\n          {\n            is_get_contacts: true,\n            company_id: this.company_id,\n            company_name: this.company_name,\n            enable_bot_response_all: enable_bot_responses\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_spinner = false;\n          if ((this.api_status_code.CONTACTS_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE)\n             || (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE)) {\n            this.contact_list = [];\n          }else if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n            this.contact_list = response.data.data.contacts;\n          }else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n          }\n          this.show_spinner = false;\n          // this.contact_list = response.data.contacts;\n        })\n        .catch((e) => {\n          this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    scroll_down() {\n      // console.log(\"----scrollll\");\n      setTimeout(() => {\n      var container = document.querySelector(\".message-table-scroll\");\n        if (Boolean(container.scrollHeight)) {\n        setTimeout(() => {\n          // console.log(\"here scr\");\n          // console.log( container.scrollTop ,  container.scrollHeight);\n          container.scrollTop = container.scrollHeight - 500;\n        }, 100)\n        // this.initial_message_load = true;\n      }\n      }, 100); \n    },\n    scroll_top() {\n      setTimeout(() => {\n      var container = document.querySelector(\".message-table-scroll\");\n        if (Boolean(container.scrollHeight)) {\n        setTimeout(() => {\n          container.scrollTop = container.scrollHeight*0.015;\n        }, 100)\n        // this.initial_message_load = true;\n      }\n      }, 100); \n    },\n    scroll_middle() {\n      // console.log(\"middle running\")\n      setTimeout(() => {\n      var container = document.querySelector(\".message-table-scroll\");\n        if (Boolean(container.scrollHeight)) {\n        setTimeout(() => {\n          container.scrollTop = container.scrollHeight*0.25;\n        }, 100)\n        // this.initial_message_load = true;\n      }\n      }, 100); \n    },\n    scroll_down_effect() {\n      var container = document.querySelector(\".message-table-scroll\");\n      // console.log(container);\n      if (Boolean(container)) {\n        setTimeout(() => {\n          container.scrollTop = 10;\n        }, 0)\n        // this.initial_message_load = true;\n      }\n    },\n    product_variation(products_list) {\n      let new_product_list = [];\n      for (let i in products_list) {\n        let components = products_list[i].template.components;\n        let temp = {};\n        try {\n        \n        for (let j in components) {\n          if (j == 0) {\n            temp[\"img_url\"] = components[j].parameters[0].image.link;\n          }\n          if (j == 1) {\n\n            temp[\"title\"] = components[j].parameters[0].text;\n            if(components[j].parameters.length == 2) {\n              temp[\"price\"] = components[j].parameters[1].text;\n              temp[\"variation\"] = components[j].parameters[1].text;\n            } \n            if(components[j].parameters.length == 3) { \n              temp[\"variation\"] = components[j].parameters[1].text; \n              temp[\"price\"] = components[j].parameters[2].text\n            }\n            // components[j].parameters.length == 3 ? temp[\"variation\"] = components[j].parameters[1].text; temp[\"price\"] = components[j].parameters[1].text: null;\n            \n          }\n          if (j == 2) {\n            temp[\"url\"] = components[j].parameters[0].text;\n            temp[\"type\"] = components[j].parameters.type;\n          }\n        }\n        }\n        catch (error) {\n        }\n        new_product_list.push(temp);\n      }\n      return new_product_list;\n    },\n    check_image_type(image) {\n      if (typeof image == \"string\") {\n        return image;\n      } else {\n        if (image != null) {\n          return image.src;\n        } else {\n          return \"\";\n        }\n      }\n    },\n    trim_card_description(text) {\n      if (Boolean(text)){\n        if (text.length > 100) {\n          let string_text = text.substring(0, 80) + \"...\";\n          return string_text;\n        }\n        return text;\n      }\n    },\n    latest_bot_text(text) {\n      if(!Boolean(text)){\n        return \"Custom bot Response\"\n      }\n      if (text.length > 35) {\n        return `${text.substring(0, 35)}...`;\n      }\n      return text;\n    },\n    search_contact_list() {\n      if (this.search_value == \"\") {\n        return this.contact_list;\n      } else {\n        let new_val = this.search_value;\n        if (new_val != this.search_value) {\n          // console.log(this.search_value);\n          axios\n            .post(\n              api_calls.whatsapp_chat(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                is_get_all_contacts: true,\n                is_search: true,\n                search_string: this.search_value,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              this.show_spinner = false;\n              if (response.data.message.MSG_CODE == this.api_status_code.CONTACTS_NOT_FOUND.MSG_CODE) {\n                this.contact_list = [];\n              }else if(this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n                this.contact_list = response.data.data.contacts;\n              }else if (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE) {\n                this.contact_list = [];\n              }else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              this.show_spinner = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n        return this.contact_list;\n      }\n    },\n    chatScrollMessages(scroll_down) {\n      // console.log(this.initial_message_load);\n      if (this.initial_message_load === true) {\n        if(this.is_search_div_open){\n          let bot_msg = document.querySelectorAll(\"#msg-div\")\n      bot_msg.forEach(elem=>{\n        elem.classList.add(\"responsive-width\")       \n      })\n      \n      let preview_btn = document.querySelectorAll(\"#preview-btn\")\n      preview_btn.forEach(elem=>{\n        elem.classList.add(\"col-sm-11\")       \n      })\n       let bot_card = document.querySelectorAll(\".bot-resp\")\n      bot_card.forEach(elem=>{\n        elem.classList.add(\"col-7\")       \n      })\n        }else{\n          let bot_msg = document.querySelectorAll(\"#msg-div\")\n      bot_msg.forEach(elem=>{\n        elem.classList.remove(\"responsive-width\")       \n      })\n        let preview_btn = document.querySelectorAll(\"#preview-btn\")\n      preview_btn.forEach(elem=>{\n        elem.classList.remove(\"col-sm-11\")       \n      })\n      let bot_card = document.querySelectorAll(\".bot-resp\")\n      bot_card.forEach(elem=>{\n        elem.classList.remove(\"col-7\")       \n      })\n        }\n        let container_div_scroll_top = document.getElementsByClassName(\n          \"message-table-scroll\"\n        )[0].scrollTop;\n       let container_div_scroll_height = document.getElementsByClassName(\n          \"message-table-scroll\"\n        )[0].scrollHeight - 493;\n        // console.log(this.scroll_top_called , \"top\");\n      //   console.log(this.is_paginated_call , \"paginated call var \")\n        // console.log(container_div_scroll_top < 20 , this.message_pagination.is_scroll_up === true , !this.is_paginated_call , !this.total_pages_loaded , \"check for up\")\n      //  console.log(container_div_scroll_top > container_div_scroll_height , this.message_pagination.is_scroll_down === true , !this.is_paginated_call , this.current_page_no > 1 , \"check for down\")\n\n        if (container_div_scroll_top < 20 && this.message_pagination.is_scroll_up === true && !this.is_paginated_call && !this.total_pages_loaded) {\n          // console.log(\"api call paginated\", this.current_page_no)\n          this.is_paginated_call = true;\n          this.scroll_spinner_chat = true;\n          axios\n            .post(\n              api_calls.whatsapp_chat(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                get_by_whatsapp_phone_number: true,\n                whatsapp_contact_number: this.current_contact_number,\n                per_page: this.message_pagination.per_page,\n                page_no: this.current_page_no + 1,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              // console.log(response.data);\n              this.scroll_spinner_chat = false;\n              this.is_paginated_call = false;\n               if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n                if (!this.message_pagination.page_record_fetched.includes(response.data.pagination.page)) {\n                  let new_data = this.format_history_response(response.data.data.chat_history);\n                  this.history = new_data.concat(this.history);\n                  this.message_pagination.page_record_fetched.push(response.data.pagination.page);\n                  // console.log(this.history);\n                  if(response.data.pagination.total_page === response.data.pagination.page){\n                this.total_pages_loaded = true\n               }else{\n                this.total_pages_loaded = false             \n               }\n                  this.current_page_no += 1;\n                  if(scroll_down == true || typeof(scroll_down) === \"object\") {\n                    this.scroll_middle();\n                  } else {\n                    // this.scroll_down_effect()\n                  }\n                }\n              }else if(this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE){\n\n              }else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              this.show_spinner = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }else if(container_div_scroll_top > container_div_scroll_height && this.message_pagination.is_scroll_down === true && !this.is_paginated_call && this.latest_page_no > 1){\n           this.is_paginated_call = true;\n          this.scroll_spinner_chat = true;\n          axios\n            .post(\n              api_calls.whatsapp_chat(),\n              {\n                company_id: this.company_id,\n                company_name: this.company_name,\n                get_by_whatsapp_phone_number: true,\n                whatsapp_contact_number: this.current_contact_number,\n                per_page: this.message_pagination.per_page,\n                page_no:  this.latest_page_no - 1,\n              },\n              {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n            )\n            .then((response) => {\n              // console.log(response.data);\n              this.scroll_spinner_chat = false;\n              this.is_paginated_call = false;\n               if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE){\n\n                if (!this.message_pagination.page_record_fetched.includes(response.data.pagination.page)) {\n                  let new_data = this.format_history_response(response.data.data.chat_history);\n                  // this.history = new_data.concat(this.history);\n                  this.history = this.history.concat(new_data);\n\n                  this.message_pagination.page_record_fetched.push(response.data.pagination.page);\n                   this.latest_page_no = this.latest_page_no - 1;\n                   setTimeout(()=>{\n                    // console.log(\"---\" , this.scroll_top_called)\n                  //    if(this.scroll_top_called){\n                  //   this.scroll_top();\n                  // }else{\n                      if(scroll_down == true || typeof(scroll_down) === \"object\") {\n                        // console.log(\"down\")\n                      this.scroll_down();\n                    } else {\n                      // this.scroll_down_effect()\n                    }\n                  // }\n                  this.scroll_top_called = false;\n                   },100)\n                 \n                  \n                }\n              }else if(this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE){\n\n              }\n              else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              this.show_spinner = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n      }\n    },\n    show_profile_setup() {\n      this.is_profile_setup = !this.is_profile_setup;\n      this.get_profile_details();\n    },\n    show_all_contacts(){\n          $('#popover').popover('dispose')  \n          $('#popover').popover('hide')  \n      this.is_open = false;\n      this.is_profile_setup = !this.is_profile_setup;\n      this.is_contact_list = !this.is_contact_list;\n      this.get_all_contact_list();\n    },\n    toggleDropdown(){\n       let dropdownParent2 = document.getElementById('dropdownParent2')\n            let dropdownMenu2 = document.getElementById('dropdownMenu2')\n            let dropdownMenuButton = document.getElementById('dropdownMenuButton2')\n         dropdownParent2.classList.remove('show');\n              dropdownMenu2.classList.remove('show');\n              dropdownMenuButton.removeAttribute('aria-expanded', 'true')\n              dropdownMenu2.removeAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n              this.toggleModal2 = false\n            let dropdownParent = document.getElementById('dropdownParent')\n            let dropdownMenu = document.getElementById('dropdownMenu')\n            let dropdownMenuButtonOne = document.getElementById('dropdownMenuButtonOne')\n\n      if(this.toggleModal){\n      dropdownParent.classList.remove('show');\n      dropdownMenu.classList.remove('show');\n      dropdownMenuButtonOne.removeAttribute('data-expanded', 'true')\n      dropdownMenu.removeAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n   \n      }else{\n      dropdownParent.classList.add('show');\n      dropdownMenu.classList.add('show');\n      dropdownMenuButtonOne.setAttribute('data-expanded', 'true')\n      dropdownMenu.setAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n   \n      }\n     \n         this.toggleModal = !this.toggleModal\n    },\n    toggleTemplate(){\n          let dropdownParent = document.getElementById('dropdownParent')\n            let dropdownMenu = document.getElementById('dropdownMenu')\n            let dropdownMenuButtonOne = document.getElementById('dropdownMenuButtonOne')\n            \n        dropdownMenu.classList.remove('show');\n            dropdownParent.classList.remove('show');\n            dropdownMenuButtonOne.removeAttribute('data-expanded', 'true')\n            dropdownMenu.removeAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n            this.toggleModal = false\n            let dropdownParent2 = document.getElementById('dropdownParent2')\n            let dropdownMenu2 = document.getElementById('dropdownMenu2')\n            let dropdownMenuButton = document.getElementById('dropdownMenuButton2')\n      //console.log(this.toggleModal2 , \"deciding value\")\n      if(this.toggleModal2){\n        //console.log(this.toggleModal2)\n      dropdownParent2.classList.remove('show');\n      dropdownMenu2.classList.remove('show');\n      dropdownMenuButton.removeAttribute('aria-expanded', 'true')\n      dropdownMenu2.removeAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n      this.toggleModal2=false\n      //console.log(this.toggleModal2,\"after deciding\");\n      }else{\n      dropdownParent2.classList.add('show');\n      dropdownMenu2.classList.add('show');\n      dropdownMenuButton.setAttribute('aria-expanded', 'true')\n      dropdownMenu2.setAttribute('style', 'position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(55px, 58px, 0px);')\n      this.toggleModal2=true\n      //console.log(this.toggleModal2,\"after deciding\");\n      }\n     \n         \n    },\n    format_history_response(response) {\n      let con_date = \"\";\n      for (let i in response) {\n        if (i == 0) {\n          con_date = response[i].bot_response_date;\n        }\n        if (con_date == response[i].bot_response_date && i != 0) {\n          response[i].bot_response_date = \"\";\n        } else {\n          con_date = response[i].bot_response_date;\n        }\n      }\n      return response;\n    },\n    send_message_to_user() {\n      if(Boolean(this.message_to_send)=== false && this.send_attachment_detail.show_preview == false) return false;\n        let current_timestamp =  new Date(),\n        current_date = moment().format('YYYY-MM-DD')\n        if(this.send_attachment_detail.show_preview == true){\n          this.send_attachment_detail.company_id = this.company_id;\n          this.send_attachment_detail.company_name = this.company_name;\n          this.send_attachment_detail.whatsapp_contact_number = this.current_contact_number;\n          this.send_attachment_detail.document_content = null;\n          this.send_attachment_detail.media_caption = this.message_to_send;\n          this.show_spinner = true;\n          axios.post(api_calls.whatsapp_chat(), this.send_attachment_detail,\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }).then((response) => {\n            this.show_spinner = false;\n            this.send_attachment_detail.show_preview = false;\n            document.getElementById(\"send_attachment\").value = '';\n            if(this.api_status_code.WHATSAPP_MEDIA_SEND_SUCCESSFULLY.MSG_CODE === response.data.message.MSG_CODE){\n              let bot_response = [];\n              if(this.file_extensions.document_file_extensions.includes(this.send_attachment_detail.media_content_type)){\n                bot_response = [\n                    {\n                      \"text\": null, \n                      \"recipient_id\": this.current_contact_number,\n                      \"attachment\" : {\n                        filename: this.send_attachment_detail.media_file_name,\n                        link : `https://storage.cense.ai/${this.company_id}/WhatsappMedia/${this.send_attachment_detail.media_file_name}`\n                      }\n                    }, \n                ]\n              };\n              if(this.file_extensions.image_file_extensions.includes(this.send_attachment_detail.media_content_type)){\n                bot_response = [\n                    {\n                      \"text\": null, \n                      \"recipient_id\": this.current_contact_number,\n                      \"image\" : response.data.file_link\n                    }, \n                ]\n              }\n              let bot_response_date = current_date;\n              if(this.history.map(item => item.bot_response_date == bot_response_date).length > 0){\n                bot_response_date = \"\";\n              }\n              this.history.push(\n                {\n                  \"BOTResponse\": bot_response,\n                  \"user_query_time\":current_timestamp,\n                  \"UserQuery\": \"\",\n                  \"bot_response_date\": bot_response_date, \n                  \"bot_response_time\": current_timestamp, \n                  \"user_query_date\": current_date,\n                  \"Chat_Datetime\": current_timestamp.toISOString()\n                }\n              );\n              this.contact_list[this.current_contact_index].last_bot_response.text = this.message_to_send;\n              this.contact_list = this.array_move(this.contact_list, this.current_contact_index, 0);\n              this.message_to_send = null;\n              this.current_contact_index = 0;\n              // this.send_attachment_detail.show_preview = false;\n              this.scroll_down();\n            } else if(this.api_status_code.WHATSAPP_MEDIA_SEND_FAILURE.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: \"Some Error Occurred\",\n                text: \"Please try again\",\n                showCancelButton: false,\n                type: \"error\"\n              })\n            } else if (this.api_status_code.WHATSAPP_USER_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: this.tlt('tier_specific_user_limit_reached'),\n                text: this.tlt('tier_specific_user_limit_reached_msg'),\n                type: \"warning\",\n                showConfirmButton: false,\n                timer: 4000,\n              });\n            } else if (this.api_status_code.MESSAGE_SENDING_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n                Swal({\n                type: \"warning\",\n                text: \"Message Sending Limit Reached\",\n                showCancelButton: true,\n                confirmButtonColor:'#3085d6',\n                confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n                cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n                cancelButtonColor: '#d33',\n              }).then((result) => {\n                  if (result.value == true)\n                  {\n                    this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                  }\n                });\n            } else if (this.api_status_code.INVALID_WHATSAPP_CONTACT.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            } else if (this.api_status_code.WHATSAPP_NUMBER_NONE.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            } else if (this.api_status_code.TEXT_IS_NONE.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n              \n            } else if (this.api_status_code.MISSING_MEDIA_INFORMATION.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n              \n            } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n            // console.log(response);\n            return;\n          }).catch((e) => {\n            this.show_spinner = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n            this.send_attachment_detail.show_preview = false;\n            return;\n          })\n          return false;\n        }\n      this.show_spinner = true;\n      if(this.message_to_send.trim() !== \"\"){\n\n    \n      axios.post(api_calls.whatsapp_chat(), {\n        company_id: this.company_id,\n        company_name: this.company_name,\n        send_message: true,\n        text: this.message_to_send,\n        whatsapp_contact_number: this.current_contact_number\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      }).then((response) => {\n        this.show_spinner = false;\n        if(this.api_status_code.WHATSAPP_TEXT_SEND_SUCCESSFULLY.MSG_CODE === response.data.message.MSG_CODE){\n          if(this.start_new_conv_data.start_new_conv){\n            this.current_contact_index = 0;\n            this.new_conv_contact_data.chat_datetime = current_timestamp.toISOString()\n            this.new_conv_contact_data.is_message_sending_enabled = true\n            this.new_conv_contact_data.last_bot_response = {\n              text: this.message_to_send, \n              chat_datetime: current_timestamp.toISOString(), \n              date: current_date, \n              time: `${current_timestamp.getUTCHours()}:${current_timestamp.getUTCMinutes()}`\n            }\n            this.contact_list.unshift(\n              this.new_conv_contact_data\n            )\n            this.start_new_conv_data.start_new_conv = false;\n          }\n          let bot_response_date = current_date;\n          if(this.history.map(item => item.bot_response_date == bot_response_date).length > 0){\n            bot_response_date = \"\";\n          }\n          this.history.push(\n            {\n              \"BOTResponse\": [\n                {\n                  \"text\": this.message_to_send, \n                  \"recipient_id\": this.current_contact_number\n                }, \n              ],\n              \"user_query_time\":current_timestamp,\n              \"UserQuery\": \"\",\n              \"bot_response_date\": bot_response_date, \n              \"bot_response_time\": current_timestamp, \n              \"user_query_date\": current_date,\n              \"Chat_Datetime\": current_timestamp.toISOString()\n            }\n          );\n          this.scroll_down();\n          this.contact_list[this.current_contact_index].last_bot_response.text = this.message_to_send;\n          this.contact_list = this.array_move(this.contact_list, this.current_contact_index, 0);\n          this.message_to_send = null;\n          this.current_contact_index = 0;\n        } else if (this.api_status_code.WHATSAPP_USER_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n            Swal({\n              title: this.tlt('tier_specific_user_limit_reached'),\n              text: this.tlt('tier_specific_user_limit_reached_msg'),\n              type: \"warning\",\n              showConfirmButton: false,\n              timer: 4000,\n            });\n        } else if (this.api_status_code.MESSAGE_SENDING_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n            Swal({\n              type: \"warning\",\n              text: \"Message Sending Limit Reached\",\n              showCancelButton: true,\n              confirmButtonColor:'#3085d6',\n              confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n              cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n              cancelButtonColor: '#d33',\n            }).then((result) => {\n                if (result.value == true)\n                {\n                  this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                }\n              });\n        } else if (this.api_status_code.INVALID_WHATSAPP_CONTACT.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n                text: this.api_status_code.INVALID_WHATSAPP_CONTACT.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n        } else if (this.api_status_code.WHATSAPP_NUMBER_NONE.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n        } else if (this.api_status_code.TEXT_IS_NONE.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n        } else if (this.api_status_code.MISSING_MEDIA_INFORMATION.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n        } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n        }\n      }).catch((e) => {\n        this.api_error_checks(e.response)\n        this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n      })\n      }else{\n          this.show_spinner = false;\n          this.message_to_send = null\n        return\n      }\n    },\n    edit_website_value(index){\n      this.index_update = index;\n      this.edit_website = true;\n    },\n    get_profile_details(){\n      this.show_spinner = true;\n      this.edit_email =false;\n      this.edit_address = false;\n      this.edit_description = false;\n      this.edit_website = false;\n      this.edit_status = false;\n      this.index_update = null ;\n      axios\n        .post(\n          api_calls.whatsapp_profile(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_get:true\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_spinner = false;\n          if (this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n            this.whatsapp_profile = response.data.data.whatsapp_profile;\n          } else if (this.api_status_code.NO_DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n            this.whatsapp_profile = response.data.data.whatsapp_profile;\n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n          }\n        })\n        .catch((e) => {\n          this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    update_profile_details(){\n      this.edit_email =false;\n      this.edit_address = false;\n      this.edit_description = false;\n      this.edit_website = false;\n      this.edit_status = false;\n      this.index_update = null ;\n      if (this.whatsapp_profile.websites.length == 2) {\n           this.second_website = true; \n      }\n      this.show_spinner = true;\n      axios\n        .post(\n          api_calls.whatsapp_profile(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_edit:true,\n            whatsapp_profile:this.whatsapp_profile\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_spinner = false;\n          let resp = response.data.update_response;\n          if(this.api_status_code.WHATSAPP_PROFILE_EDIT_SUCCESSFUL.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n                text: response.data.message.MSG,\n                toast: true,\n                position: \"top-end\",\n                type: \"success\",\n                showConfirmButton: false,\n                timer: 2000\n              });\n              this.get_profile_details();\n          } else if (this.api_status_code.WHATSAPP_PROFILE_EDIT_UNSUCCESSFUL.MSG_CODE === response.data.message.MSG_CODE) {\n            Swal({\n              text: this.tlt('whatsapp_profile_edited_unsuccess'),\n            toast: true,\n            position: \"top-end\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2000\n            });\n            this.get_profile_details();\n          } else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              toast: true,\n              position: \"top-end\",\n              showConfirmButton: false,\n              type: \"error\"\n            })\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    update_profile_image(e){\n      this.selected_files = e.target.files[0];\n      if (this.selected_files.type == 'image/png' || this.selected_files.type == 'image/jpg' || this.selected_files.type == 'image/jpeg'  ) {\n        if (this.selected_files.size > 5097152) {\n          Swal({\n            text: \"Upload image with size should be less than 5MB\",\n            toast: true,\n            position: \"top-end\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n          this.selected_files ='';\n          return\n        }\n        let file_to_upload = this.selected_files;\n        var profile_img = {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            photo:file_to_upload,\n            wa_phone_number: this.whatsapp_profile.whatsapp_phone_number\n          }\n        var json = JSON.stringify(profile_img);\n        var blob = new Blob([json], {\n            type: \"application/json\",\n        });\n        const fd = new FormData();\n        fd.append(\n          'photo',\n          this.selected_files\n        )\n        fd.append(\"json\", blob);\n        this.show_spinner = true;\n        axios\n          .post(\n            api_calls.whatsapp_profile(),fd,\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          ).then((response) => {\n          this.show_spinner = false;\n          let resp = response.data;\n          if (this.api_status_code.UPDATED_WHATSAPP_PROFILE_PHOTO.MSG_CODE === response.data.message.MSG_CODE) {\n              this.get_profile_details();\n          } else if(this.api_status_code.PENDING_WHATSAPP_PROFILE_PHOTO_UPDATION.MSG_CODE === response.data.message.MSG_CODE){\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              type: \"error\",\n              showConfirmButton: true,\n              showCancelButton: false\n            });\n          } else if(this.api_status_code.WHATSAPP_PROFILE_PICTURE_UNDER_RESOLUTION.MSG_CODE === response.data.message.MSG_CODE){\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              type: \"error\",\n              showConfirmButton: true,\n              showCancelButton: false\n            });\n          }else if (this.api_status_code.WHATSAPP_PHOTO_UPDATION_FAILED.MSG_CODE === response.data.message.MSG_CODE){\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n              type: \"warning\",\n              showConfirmButton: true,\n              showCancelButton: false\n            });\n            this.get_profile_details();\n          }else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n            this.get_profile_details();\n          }      \n          })\n          .catch((e) => {\n            console.log(e);\n            this.show_spinner = false;\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          });\n      }else {\n        Swal({\n            text: \"Upload image with specific formate(jpg jpeg png)\",\n            toast: true,\n            position: \"top-end\",\n            type: \"error\",\n            showConfirmButton: false,\n            timer: 2000\n          });\n      }\n    },\n    remove_profile_image(){\n      this.show_spinner = true;\n      axios\n        .post(\n          api_calls.whatsapp_profile(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_remove_photo:true\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_spinner = false;\n          if(response.data.message.MSG_CODE === this.api_status_code.WHATSAPP_PROFILE_PHOTO_REMOVED.MSG_CODE) {\n            this.get_profile_details();\n          }else if (response.data.message.MSG_CODE === this.api_status_code.FAILED_WHATSAPP_PROFILE_PHOTO_REMOVAL.MSG_CODE) {\n            this.get_profile_details();\n          }else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\"\n            })\n          }\n        })\n        .catch((e) => {\n          this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    connect_elixir_socket(){\n      axios.post(api_calls.initialize_whatsapp_topic(),{\n        company_id: this.company_id,\n        whatsapp_phone_number: \"100\"\n      }).then((response) => {\n        // console.log(response)\n        // this.chat_group_name = response.data.chat_group_name;\n        // this.live_chat_token = response.data.token;\n        // this.live_chat_on = true;\n        this.chat_socket = new Socket(\n          process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT,\n          {\n            params: {\n              whatsapp: \"true\",\n              token : response.data.token\n            },\n          }\n        );\n        this.chat_socket.connect();\n        this.channel = this.chat_socket.channel(\n          \"whatsapp:\" + response.data.whatsapp_topic\n        );\n        this.channel.join();\n        this.channel.on(\"new_whatsapp_message\", (res) => {\n          // console.log(\"new_whatsapp_message\", res)\n        })\n      })\n    },\n    enable_sending_messages_for_user(){\n      axios.post(api_calls.whatsapp_chat(), {\n        update_bot_response: true,\n        whatsapp_contact_number: this.current_contact_number,\n        bot_response: false,\n        company_name: this.company_name,\n        company_id: this.company_id\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      }).then((response) => {\n        if(this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE === response.data.message.MSG_CODE) {\n          if(this.start_new_conv_data.start_new_conv === true){\n\n            this.start_new_conv_data.is_message_sending_enabled = true;\n          } else {\n            this.contact_list[this.current_contact_index].is_message_sending_enabled = true;\n            this.$set(this.contact_list, this.current_contact_index, this.contact_list[this.current_contact_index]);\n          }\n          this.$nextTick(() => {\n            // this.$refs[\"message_sending_textbox\"].focus();\n          })\n        } else if(this.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE === response.data.message.MSG_CODE){\n          if(this.start_new_conv_data.start_new_conv === true){\n            this.start_new_conv_data.is_message_sending_enabled = true;\n          } else {\n            this.contact_list[this.current_contact_index].is_message_sending_enabled = true;\n            this.$set(this.contact_list, this.current_contact_index, this.contact_list[this.current_contact_index]);\n          }\n          this.$nextTick(() => {\n            // this.$refs[\"message_sending_textbox\"].focus();\n          })\n        } else if(this.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE === response.data.message.MSG_CODE){\n          Swal({\n                text: this.tlt('db_operation_unsuccess'),\n                showCancelButton: false,\n                showConfirmButton: false,\n                timer: 2500,\n                type: \"error\"\n              })\n        } else if (this.api_status_code.MESSAGE_SENDING_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n            Swal({\n              type: \"warning\",\n              text: \"Message Sending Limit Reached\",\n              showCancelButton: true,\n              confirmButtonColor:'#3085d6',\n              confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n              cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n              cancelButtonColor: '#d33',\n            }).then((result) => {\n                if (result.value == true)\n                {\n                  this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                }\n            });\n        }else {\n            Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n              showConfirmButton: false,\n              toast: true,\n              position: \"top-end\",\n              type: \"error\",\n              timer:2500\n            })\n        }\n      }).catch((e) => {\n        this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n      })\n    }, \n    expand_textbox(id, key) {\n      if (id != '#business_address') {\n        this.callsearch();\n      }else{\n        setTimeout(() => {\n        var textarea = document.querySelector(id);\n        textarea.addEventListener('keydown', e =>{\n          let scroll_height =e.target.scrollHeight;\n          textarea.style.height = `${scroll_height}px`\n        });\n        },10);\n      }\n    },\n    callsearch() {\n      if (event.keyCode === 13 && !event.shiftKey) {\n        this.update_profile_details();\n      }\n    },\n    check_current_number(res){\n      return res.whatsapp_phone_number === this.current_contact_number ? true : false;\n    },\n    format_user_query_date(user_query_date, index){\n      // console.log(Object.keys(this.history[index-1]))\n      if(this.history[index-1].user_query_date == user_query_date){\n        return \"\"\n      }\n      return user_query_date\n    },\n    get_all_contact_list() {\n      this.show_spinner = true;\n      axios\n        .post(\n          api_calls.whatsapp_chat(),\n          {\n            is_get_all_contacts: true,\n            company_id: this.company_id,\n            company_name: this.company_name,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_spinner = false;\n          if (response.data.message.MSG_CODE == this.api_status_code.CONTACTS_NOT_FOUND.MSG_CODE) {\n            this.contact_list = [];\n          }else if(this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n            this.all_contact_list = response.data.data.contacts;\n            this.all_contact_pagination.total_records = response.data.pagination.total_data;\n          }else if (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE) {\n            this.contact_list = [];\n          } else {\n              Swal({\n                title: response.data.message.MSG_CODE,\n                text: response.data.message.MSG,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\"\n              })\n            }\n        })\n        .catch((e) => {\n          this.show_spinner = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    //DONE\n    new_contact_list() {\n       let scroller = document.getElementsByClassName('all-contact-list')[0].scrollTop;\n       if (scroller > 120 && !this.is_paginated_call && !this.total_contact_loaded) {\n        this.is_paginated_call = true;\n        this.scroll_spinner_chat = true;\n        axios\n          .post(\n            api_calls.whatsapp_chat(),\n            {\n              is_get_all_contacts: true,\n              company_id: this.company_id,\n              company_name: this.company_name,\n              per_page: this.all_contact_pagination.per_page,\n              page_no: this.all_contact_pagination.page_no + 1,\n            },\n            {\n                headers: {\n                  Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                },\n              }\n          )\n          .then((response) => {\n              this.scroll_spinner_chat = false;\n              this.is_paginated_call = false;\n              if (response.data.message.MSG_CODE == this.api_status_code.CONTACTS_NOT_FOUND.MSG_CODE) {\n                this.contact_list = [];\n              }else if(this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n                if(response.data.data.contacts.length != 0) {\n                  this.all_contact_list = this.all_contact_list.concat(response.data.data.contacts);\n              this.all_contact_pagination.page_no += 1;\n                  this.all_contact_pagination.total_records = response.data.pagination.total_data;\n                }\n              }else if (this.api_status_code.DATA_NOT_FOUND.MSG_CODE === response.data.message.MSG_CODE) {\n                this.contact_list = [];\n              }else {\n                Swal({\n                  title: response.data.message.MSG_CODE,\n                  text: response.data.message.MSG,\n                  showCancelButton: false,\n                  showConfirmButton: false,\n                  type: \"error\"\n                })\n              }\n            })\n            .catch((e) => {\n              this.scroll_spinner_chat = false;\n              if (\n                e.response.status === 410 ||\n                e.response.status === 440 ||\n                e.response.status === 409\n              ) {\n                this.$root.$emit(\"Session_Expired\", e.response.data);\n              }\n            });\n        }\n    },\n    array_move(arr, old_index, new_index) {\n      if (new_index >= arr.length) {\n          var k = new_index - arr.length + 1;\n          while (k--) {\n              arr.push(undefined);\n          }\n      }\n      arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n      return arr; // for testing\n    },\n    formatUserQueryTime(user_query_time,val){  \n      // if (val == undefined) {\n      //   return new Date(user_query_time).toLocaleTimeString(navigator.language, {\n      //   hour: '2-digit',\n      //   minute:'2-digit'\n      //   })\n      // }else{\n        return moment.utc(user_query_time).local().format(\"h:mm a\");\n      \n      // return user_query_time\n    },\n    is_active_chat(index) {\n      if(index === this.current_contact_index) {\n        return \"background: #f0f8ff\"\n      } else if(this.contact_list[index].is_new_notification || false){\n        return \"background: #47a88433\"\n      }\n      return \"background: #ffffff\"\n    },\n    formatContactLastMessageDate(date, time) {\n      if(moment(date).isSame(Date.now(), 'day')){\n        return new Date(`${date} ${time}Z`).toLocaleTimeString(navigator.language, {\n        hour: '2-digit',\n        minute:'2-digit'\n      })\n      } \n      return date\n    },\n    formatSearchedDate(date,) {\n      var responseDate = moment(date).format('DD/MM/YYYY');\n        return responseDate;\n    },\n    check_previous_message_date_same(index){\n      // console.log(index)\n      return true; \n      // if(index == 0) {\n      //   return true; \n      // }\n      // return this.history[index-1].bot_response_date == this.history[index].bot_response_date ? true : false; \n    },\n    process_attachment_file(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (files[0].size > 2097152) {\n        Swal({\n          text: \"Upload image with size less than 2MB\",\n          toast: true,\n          position: \"top-end\",\n          type: \"error\",\n          showConfirmButton: false,\n          timer: 10000,\n        });\n        return;\n      }\n      if (this.file_extensions.all_allowed_file_extensions.includes(files[0].type)) {\n        if (!files.length) return;\n        this.send_attachment_detail.media_file_name = files[0].name;\n        this.send_attachment_detail.media_content_type = files[0].type;\n        this.send_attachment_detail.document_content = URL.createObjectURL(files[0]);\n        this.send_attachment_detail.show_preview = true;\n        this.send_attachment_detail.media_type = this.file_extensions.image_file_extensions.includes(files[0].type) ? 'image': 'document';\n        this.send_attachment_detail.media_caption = this.message_to_send;\n        this.createAttachment(files[0]);\n      } else {\n        Swal({\n          title: \"Please Select a proper document or image having the correct filetype\",\n          type: \"error\",\n          showCancelButton: false\n        })\n      }\n    },\n    createAttachment(file, type) {\n      let reader = new FileReader();\n      reader.onload = (e) => {\n        this.send_attachment_detail.media_file = e.target.result.split(\"base64,\")[1];\n      };\n      reader.readAsDataURL(file);\n      reader.addEventListener(\"load\", function () {\n        document.getElementById(\"img-preview\").style.display = \"flex\";\n        document.getElementById(\"img-preview\").innerHTML = '<img class=\"custom-display-image\" style=\"max-width:98%;height:490px; padding: 1.5rem;margin-left: auto; margin-right: auto;\" src=\"' + this.result + '\" />';\n      });    \n    },\n    is_response_image(data){\n      if(data.template == null && data.text == null && Boolean(data.image)!= null){\n        return true;\n      }\n      return false;\n    },\n    is_response_document(data){\n      if(data.template == null && data.text == null && data.image== null && Boolean(data.attachment) != null){\n        return true;\n      }\n      return false;\n    },\n    show_image_fullscreen(img_src){\n      $(\"#showImageModal\").modal(\"show\");\n      this.current_fullscreen_image_src = img_src;\n    },\n    add_new_contact_modal(){\n      // console.log(\"add new contact-addContactModal\")\n      $(\"#addContactModal\").modal(\"show\");\n    },\n    save_new_contact() {\n      if(this.add_new_contact.contact_name == null || this.add_new_contact.phone_number == null) {\n        Swal({\n          title: \"Fill details\",\n          text: \"Please enter a valid contact number\",\n          type: \"warning\",\n          showCancelButton: false\n        })\n        return;\n      }\n      this.add_new_contact.company_id = this.company_id;\n      this.add_new_contact.company_name = this.company_name;\n      this.show_spinner = true;\n      axios\n      .post(\n        api_calls.whatsapp_chat(),this.add_new_contact,\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n      this.show_spinner = false;\n      if(this.api_status_code.WHATSAPP_CONTACT_ADDED_SUCCESSFULLY.MSG_CODE === response.data.message.MSG_CODE) {\n        Swal({\n            title: \"Success\",\n            text: \"Contact Added Successfully\",\n            type: \"success\",\n            showCancelButton: false\n          })\n          $(\"#addContactModal\").modal(\"hide\");\n          this.clear_add_contact();\n          this.get_all_contact_list();\n      } else if(this.api_status_code.WHATSAPP_CONTACT_ALREADY_EXIST.MSG_CODE === response.data.message.MSG_CODE) {\n        Swal({\n            title: \"Oops!\",\n          text: \"Provided number already exists in contacts\",\n            type: \"error\",\n            showCancelButton: false\n          })\n      } else if(this.api_status_code.WHATSAPP_CONTACT_QUERY_ERROR.MSG_CODE === response.data.message.MSG_CODE) {\n        Swal({\n            title: \"Oops!\",\n            text: \"Some Error Occurred. Please Try Again!\",\n            type: \"error\",\n            showCancelButton: false\n          })\n      } else {\n        Swal({\n          title: response.data.message.MSG_CODE,\n          text: response.data.message.MSG,\n          showCancelButton: false,\n          showConfirmButton: false,\n          type: \"error\"\n        })\n        }\n      }).catch((e) => {\n        swal({\n          title: \"Oops!\",\n          text: \"Some Error Occurred. Please Try Again!\",\n          type: \"error\",\n          showCancelButton: false\n        })\n        this.show_spinner = false;\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n    },\n    clear_add_contact(){\n      this.add_new_contact = {\n        phone_number: null,\n        is_add_contact: true,\n        contact_name: null,\n        formattedNumber: null\n      }\n    },\n    download_document(attachment){\n      // console.log(attachment)\n      var aTag = document.createElement('a');\n      aTag.setAttribute('id','abcdefg');\n      aTag.setAttribute('download', 'download');\n      aTag.setAttribute('href',attachment.link);\n      aTag.setAttribute('target',\"_blank\");\n      aTag.click();\n\n      // const blob = new Blob([attachment.link], { type: 'application/pdf' })\n      // const link = document.createElement('a')\n      // link.href = URL.createObjectURL(blob)\n      // link.download = attachment.filename\n      // link.click()\n      // URL.revokeObjectURL(link.href)\n      // link.click();\n    },\n    open_send_template_to_user(){\n      this.retrieve_all_templates();\n      $(\"#sendTemplateModal\").modal(\"show\");\n    },\n    retrieve_all_templates(){\n      this.current_template = {};\n      this.show_spinner = true;\n      axios\n        .post(\n          api_calls.whatsapp_template(),\n          {\n            company_id: this.company_id,\n            company_name: this.company_name,\n            is_get: true,\n            is_notification: this.is_notification_template,\n            page_no: this.page_no,\n            per_page: this.per_page,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.show_spinner = false;\n          if(this.api_status_code.DATA_AVAILABLE.MSG_CODE === response.data.message.MSG_CODE) {\n            this.whatsapp_templates.templates_list = [];\n            this.whatsapp_templates.templates_list = response.data.data.templates;\n            this.whatsapp_templates.pagination_data.number_of_rows = response.data.pagination.total_data;\n            this.whatsapp_templates.pagination_data.total_pages = response.data.pagination.total_page;\n          } else if(this.api_status_code.NO_WHATSAPP_TEMPLATE.MSG_CODE === response.data.message.MSG_CODE) {\n              this.whatsapp_templates.templates_list = [];\n          } else {\n              Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n                showConfirmButton: false,\n              type: \"error\"\n            })\n            }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    send_template_to_customer(){\n      axios\n      .post(\n        api_calls.whatsapp_template(),\n        {\n          company_name: this.company_name,\n          company_id: this.company_id,\n          email: this.$session.get(\"UserInformation\").email,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          subscription: this.$session.get(\"UserInformation\").subscription,\n          is_notification: false,\n          template_id: this.whatsapp_templates.selected_template,\n          contacts_list: [this.current_contact_number],\n          publish_template: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        // console.log(response , \"res\")\n        if (this.api_status_code.MESSAGE_SENDING_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n            type: \"warning\",\n              text: \"Message Sending Limit Reached\",\n              showCancelButton: true,\n              confirmButtonColor:'#3085d6',\n              confirmButtonText: this.tlt('email_temp_swal_upgrade_now_msg'),\n              cancelButtonText: this.tlt('email_temp_swal_upgrade_later_msg'),\n              cancelButtonColor: '#d33',\n            }).then((result) => {\n                if (result.value == true)\n                {\n                  this.$router.push({name: 'Settings',params:{Subscription:true}});     \n                }\n          });\n        } else if (this.api_status_code.SENDING_TEMPLATE.MSG_CODE === response.data.message.MSG_CODE) {\n              Swal({\n            title: this.tlt('send_template_sent_msg'),\n            type: \"success\",\n            showConfirmButton: false,\n            timer: 2500\n          });\n          // console.log(\"----\" , response.data)\n          // const template =  this.whatsapp_templates.templates_list.find((item) => item.template_id == this.whatsapp_templates.selected_template);\n          // console.log(this.whatsapp_templates.selected_template);\n          // console.log(template.variable_dict, this.current_contact_number);\n          \n          let current_timestamp =  new Date(),\n          current_date = moment().format('YYYY-MM-DD')\n          let bot_response = [\n            {\n              \"text\": null, \n              \"type\": \"template\",\n              \"recipient_id\": this.current_contact_number,\n              \"template\": this.whatsapp_templates.preview_template_data.body\n            }\n          ];\n          if(this.start_new_conv_data.start_new_conv){\n            this.current_contact_index = 0;\n            this.new_conv_contact_data.chat_datetime = current_timestamp.toISOString()\n            // this.new_conv_contact_data.is_message_sending_enabled = true\n                        \n            this.new_conv_contact_data.last_bot_response = {\n              text: this.message_to_send, \n              chat_datetime: current_timestamp.toISOString(), \n              date: current_date, \n              time: `${current_timestamp.getUTCHours()}:${current_timestamp.getUTCMinutes()}`\n            }\n            this.contact_list.unshift(\n              this.new_conv_contact_data\n            )\n            this.start_new_conv_data.start_new_conv = false;\n          }\n          // console.log(bot_response)\n          let bot_response_date = current_date;\n          if(this.history.map(item => item.bot_response_date == bot_response_date).length > 0){\n            bot_response_date = \"\";\n          }\n          this.history.push(\n            {\n              \"BOTResponse\": bot_response,\n              \"user_query_time\":current_timestamp,\n              \"UserQuery\": \"\",\n              \"bot_response_date\": bot_response_date, \n              \"bot_response_time\": current_timestamp, \n              \"user_query_date\": current_date,\n              \"Chat_Datetime\": current_timestamp.toISOString()\n            }\n          );\n          this.scroll_down();\n          this.contact_list[this.current_contact_index].last_bot_response.text = this.message_to_send;\n          this.contact_list = this.array_move(this.contact_list, this.current_contact_index, 0);\n          this.message_to_send = null;\n          this.current_contact_index = 0;\n          this.send_attachment_detail.show_preview = false;\n          this.whatsapp_templates.selected_template = null ;\n          $(\"#sendTemplateModal\").modal(\"hide\");\n        } else if (this.api_status_code.WHATSAPP_USER_LIMIT_REACHED.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n              title: this.tlt('tier_specific_user_limit_reached'),\n              text: this.tlt('tier_specific_user_limit_reached_msg'),\n            type: \"warning\",\n            showConfirmButton: false,\n              timer: 4000,\n            });\n        } else if (this.api_status_code.WHATSAPP_OPT_OUT_CONTACTS.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n              text: this.tlt('All_contacts_have_opted_out_of_getting_templates'),\n            type: \"eroor\",\n            showConfirmButton: false,\n              timer: 4000,\n            });\n        }else {\n          Swal({\n              title: response.data.message.MSG_CODE,\n              text: response.data.message.MSG,\n              showCancelButton: false,\n            showConfirmButton: false,\n              type: \"error\"\n            })\n        }\n      })\n      .catch((e) => {\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      })\n    },\n    get_contact_display_name(contact){\n      if(contact.contact_name) return contact.contact_name \n      if(contact.profile_name) return contact.profile_name\n      return contact.whatsapp_phone_number\n    },\n    open_import_from_csv_modal(){\n      $(\"#addContactModal\").modal(\"hide\");\n      $(\"#importContactCSVModal\").modal(\"show\");\n    },\n    file_input_contacts_csv(e){\n      if (e.target.files[0].type == 'text/csv'){\n        this.contact_csv.file_label = e.target.files[0].name;\n        this.contact_csv.file_content = e.target.files[0];\n        this.contact_csv.file_selected = true;\n      } else {\n        Swal({\n          title: \"Please select a proper document having CSV filetype\",\n          type: \"error\",\n          showCancelButton: false\n        })\n      }\n    },\n    file_submit_upload_contacts() {\n      if ($(\"#inputGroupUploadFilecsv\").val() == '') {\n        Swal.fire({\n          title: \"Oops!\",\n          text: \"Please Select a CSV file\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      }\n      var user_details = {\n        email: this.$session.get(\"UserInformation\").email,\n        company_name: this.companyname,\n        company_id: this.companyid,\n        license_key: this.$session.get(\"UserInformation\").license_key,\n      };\n      var json = JSON.stringify(user_details);\n      var blob = new Blob([json], {\n        type: \"application/json\",\n      });\n      const fd = new FormData();\n      fd.append(\n        \"file\",\n        this.contact_csv.file_content,\n        this.contact_csv.file_label\n      );\n      // fd.append(\"json\", blob);\n      fd.append(\"company_id\", this.company_id);\n      fd.append(\"company_name\", this.company_name);\n      fd.append(\"email\", this.$session.get(\"UserInformation\").email);\n      axios\n      .post(api_calls.whatsapp_import_contacts(), fd, {\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n      .then((response) => {\n        if (this.api_status_code.FILE_UPLOAD.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n            title: \"Success\",\n            text: \"Multiple contacts are being added. You will receive a mail when the processing is finished.\",\n            type: \"success\",\n            showCancelButton: false\n          });\n          $(\"#importContactCSVModal\").modal(\"hide\");\n        } else if(this.api_status_code.INCORRECT_FILE_FORMAT.MSG_CODE === response.data.message.MSG_CODE) {\n          Swal({\n            title: \"Incorrect File Format!\",\n            text: \"Please try again with a different csv file which matches the sample file structure\",\n            showCancelButton: false,\n            type: \"error\"\n          })\n        } else {\n          Swal({\n            title: response.data.message.MSG_CODE,\n            text: response.data.message.MSG,\n            showCancelButton: false,\n            showConfirmButton: false,\n            type: \"error\"\n          })\n        }\n      })\n      .catch((e) => {\n        Swal({\n          title: \"Some Error Occurred!\",\n          text: \"Please Try Again\",\n          showCancelButton: false,\n          type: \"error\"\n        })\n          if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      })\n    },\n    empty_upload_csv_contacts(){\n      this.contact_csv = {\n        file_label: 'Choose File',\n        file_content: null,\n        file_selected: false\n      };\n      $(\"#inputGroupUploadFilecsv\").val('');\n    },\n    download_sample_contact_file(){\n      axios({\n        method: \"post\",\n        url: api_calls.file_download(),\n        responseType: \"blob\",\n        data: {\n          sample_file: \"whatsapp_contacts\",\n          companyid: this.$session.get(\"UserInformation\").company_id,\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.$session.get(\"UserInformation\").tokens,\n          email: this.$session.get(\"UserInformation\").email,\n        },\n        headers: {\n          Authorization: `Bearer ${this.$session.get(\"at\")}`,\n        },\n      })\n        .then((response) => {\n          this.spinnerOnFileDownload = false;\n          if (response.data.message === \"Not able to download file\") {\n            Swal({\n              title: \"Some Error Occurred. Please Try Again\",\n              type: \"error\",\n              timer: 2500,\n            });\n          } else {\n            var url = window.URL.createObjectURL(new Blob([response.data]));\n            var link = document.createElement(\"a\");\n            link.href = url;\n            // console.log(this.companyname)\n            link.setAttribute(\"download\", \"test.csv\");\n            document.body.appendChild(link);\n            link.click();\n          }\n        })\n        .catch((e) => {\n          this.spinnerOnFileDownload = false;\n          Swal({\n            title: \"Some Error Occurred. Please Try Again\",\n            type: \"error\",\n            timer: 2500,\n          });\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n\n    textbox_height(id,key){\n      if (event.keyCode === 13 && !event.shiftKey){\n         event.preventDefault();\n        this.send_message_to_user();\n      }else{\n        var textarea = document.querySelector(id);\n        textarea.addEventListener('keydown', e =>{\n          let scroll_height =e.target.scrollHeight;\n          if (scroll_height > 60) {\n            textarea.style.overflow = 'auto'\n          }else{\n            textarea.style.overflow = 'hidden'\n          }\n        });\n      }\n    },\n    close_document_preview(){\n      this.send_attachment_detail = {\n        media_file_name: null,\n        media_file: null,\n        show_preview: false,\n        media_content_type: null,\n        media_type: null,\n        send_media: true,\n        document_content: null,\n        media_caption: null\n      };\n     document.getElementById(\"send_attachment\").value = '';\n    },\n    whatsapp_message_formating(a){\n      for (let i= 0 ;i<this.whatsapp_formating_list.length;i++ ){\n        let cnt = 0;\n        let pos1 = -1;\n        while(cnt < a.length){\n          pos1 = a.indexOf(this.whatsapp_formating_list[i],pos1+1)\n          if(pos1 == -1){\n             break\n          }\n          var replace_first_char = a.substring(0, pos1) + this.whatsapp_format_dict[this.whatsapp_formating_list[i]][0] +\n                                a.substring(pos1 + 1)\n          a =replace_first_char;\n          let pos2 = a.indexOf(this.whatsapp_formating_list[i])\n          let replace_second_char = a.substring(0, pos2) + this.whatsapp_format_dict[this.whatsapp_formating_list[i]][1] +\n                                a.substring(pos2 + 1);\n          a = replace_second_char\n          pos1 = pos2;\n          cnt = pos2;\n        }\n      }\n      return a;\n    },\n    formatUserQuery(UserQuery){\n      if(UserQuery && UserQuery.startsWith('/')){\n        try {\n          let json_start = UserQuery.indexOf('{'),\n          json_end = UserQuery.indexOf('}')+1,\n          json_data = JSON.parse(UserQuery.substring(json_start, json_end));\n          return `Id: ${json_data.order_id}`;\n        } catch (error) {\n          return UserQuery\n        }\n      }\n      return UserQuery\n    },\n    get_order_template_formatted_text(current_bot_response){\n      // console.log(current_bot_response);\n      return this.whatsapp_message_formating(current_bot_response.template.components.find((item) => item.type =='BODY').text);\n    },\n    check_button_in_order_template(current_bot_response){\n      let check_buttons = current_bot_response.template.components.find((item) => item.type == 'BUTTONS');\n      if(Boolean(check_buttons)){\n        return true;\n      }\n      return false;\n    },\n    get_order_template_button_url(current_bot_response, key){\n      return current_bot_response.template.components.find((item) => item.type =='BUTTONS').buttons.find((item) => item.type == 'URL')[key]\n    },\n    check_height(id,key){\n      var textarea = document.querySelector(id);\n      if (textarea.scrollTop > 90){\n        this.show_profile_div = true;\n          textarea.style.height = `525px`;\n      }else{\n        textarea.style.height = `485px`;\n        this.show_profile_div = false;  \n      }\n    }\n\n  },\n  beforeDestroy(){\n    this.channel.leave(); \n    this.chat_socket.disconnect();\n  }\n};\n</script>\n\n<style scoped>\n.emoji-invoker {\n  position: relative;\n  right: 0px;\n  top: 0px;\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n.emoji-invoker:hover {\n  transform: scale(1.1);\n}\n.emoji-invoker > svg {\n  fill: #b1c6d0;\n}\n.emoji-picker {\n  position: absolute;\n  top: -163px !important;\n  left: 0px !important;\n   /* top: 5px !important;\n  left: -2px !important; */\n  z-index: 1;\n  font-family: Montserrat;\n  border: 1px solid #ccc;\n  width: 15rem;\n  height: 10rem;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 1rem;\n  box-sizing: border-box;\n  border-radius: 0.5rem;\n  background: #fff;\n  box-shadow: 1px 1px 8px #c7dbe6;\n}\n.emoji-picker__search {\n  display: flex;\n  font-size: 8px;\n  margin-left: -8px;\n  margin-top: -8px;\n}\n.emoji-picker__search > input {\n  flex: 1;\n  border-radius: 10rem;\n  font-size: 13px;\n  border: 1px solid #ccc;\n  padding: 0.2rem 1rem;\n  outline: none;\n}\n.emoji-picker h5 {\n  margin-bottom: 0;\n  color: #b1b1b1;\n  text-transform: uppercase;\n  font-size: 0.8rem;\n  cursor: default;\n}\n.emoji-picker .emojis {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.emoji-picker .emojis:after {\n  content: \"\";\n  flex: auto;\n}\n.emoji-picker .emojis span {\n  padding: 0.2rem;\n  cursor: pointer;\n  border-radius: 5px;\n}\n.emoji-picker .emojis span:hover {\n  background: #ececec;\n  cursor: pointer;\n}\n.send_attach_file{\n  position: relative !important;\n  top: -27px !important;\n  left: 18px !important;\n}\n.log-wrap {\n  position: relative;\n  min-height: 100vh;\n  background: linear-gradient(\n    to bottom,\n    #283677 0%,\n    #283677 30%,\n    #dedfdd 30%,\n    #dedfdd 100%\n  );\n}\n.container{\n  /* height: 95vh; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.cards {\n  /* margin-left: 150px; */\n  background: rgb(255, 255, 255);\n  border-radius: 6px 6px 0 0;\n  position: relative;\n  padding: 5px 5px 0 5px;\n  /* min-height: 175px; */\n  max-width: 205px;\n  /* box-shadow: 0px 2px 8px rgba(12, 12, 13, 0.1); */\n}\n.cards-img {\n  width: 100%;\n  max-height: 195px;\n  object-fit: contain;\n}\n.preview-button-div {\n  display: grid;\n  gap: 4px;\n  width: 100%;\n  text-align: center;\n  grid-auto-columns: minmax(50%, 100%);\n}\n.preview-button {\n  background: rgb(255, 255, 255);\n  border-top: solid 1px #D3D3D3;\n  border-radius: 0 0 6px 6px;\n  padding: 0.375rem 0.75rem;\n  position: relative;\n  /* box-shadow: 0px 2px 8px rgba(12, 12, 13, 0.1); */\n  color: #0b67aa;\n  cursor: pointer;\n}\n.back-top {\n  background: linear-gradient(\n    #47a884 0%,\n    #47a884 130px,\n    #d9dbd5 30px,\n    #d9dbd5 100%\n  ) !important;\n  height: 14vh !important;\n}\n\n.back-main {\n  background-color: #dedfdd !important; \n  height: 82vh !important;\n}\n\n.back-container {\n  position: relative !important;\n}\n\n.search-chat {\n  /* width: 100% !important; */\n  height: 50px !important;\n  background: #ffff !important;\n  display: flex !important;\n  justify-content: center !important;\n  align-items: center !important;\n  position: relative;\n}\n\n.search-chat div {\n  width: 90% !important;\n}\n\n.search-chat div input {\n  width: 100% !important;\n  outline: none !important;\n  border: none !important;\n  background: #f0f2f5 !important; \n  height: 30px !important;\n  border-radius: 3px !important;\n  font-size: 13px !important;\n  padding-left: 50px !important;\n}\n\n.search-chat div svg {\n  position: absolute !important;\n  left: 1.7rem !important;\n  top: 1.2rem !important;\n}\n.front-container{\n position: absolute !important;    \n top:0 !important;\n left:0 !important;\n right: 0 !important;\n}\n.front-container1{\n  padding: 2rem 0 1rem 0 !important;\n  margin-left: auto !important;\n  margin-right: auto !important;\n  max-width: 75% !important;\n  position: relative !important;\n}\n.chat-top{\n /* height: 89vh !important; */\n /* position: relative !important; */\n border-right: 1px solid rgba(0, 0, 0, 0.2);\n background-color: #f0f2f5 !important;\n /* min-height: 40px !important; */\n}\n.contacts{\n  width: 100% !important;\n  height: inherit;\n  /* background-color: #ffffff !important;\n  border-right: 1px solid rgba(0,0,0,0.2) !important; */\n}\n.contact-table-scroll{\n  overflow-y: scroll !important;\n  scroll-behavior: smooth;\n  height: 485px;\n  background-color: white;\n}\n.message-area{\n background-color:  #e4e1de !important;\n height: 492px;\n}\n.profile-image{\n  height: 81%!important;\n  width: 81% !important;\n  margin-left: 15px !important;\n}\n.no-profile-image{\n  height: 13%!important;\n  width: 13% !important;\n  margin-left: 15px !important;\n}\n/* .no-profile-image-conv{\n  height: 70%!important;\n  width: 13% !important;\n  margin-left: 15px !important;\n} */\n\n.user-profile-picture {\n  height: 40px !important;\n  width: 40px !important;\n  padding: 0 !important;\n}\n\n.message-table-scroll {\n  position: relative !important;\n  overflow-y: scroll !important;\n  overflow-x: auto !important;\n  width: 100% !important;\n  height: 100% !important;\n  background-image: url(/img/web-whatsapp-bg-2.png);\n  background-color: #efeae2;    \n}\n\n.conversation-date {\n  font-size: 0.7em !important;\n  border-radius: 5px !important;\n  padding: 6px !important;\n  background: #ffff !important;\n  color: #757bb0 !important;\n}\n\n.bot-resp {\n  position: relative !important;\n}\n\n.bot-resp-msg {\n  max-width: 550px !important;\n  min-width: 100px !important;\n  text-align: justify !important;\n  background: #dcf8c6 !important;\n  font-size: 0.8em !important;\n  border-radius: 10px 10px 0 0 !important;\n  padding: 6px 6px 0 11px !important;\n}\n\n.bot-resp-time {\n  width: 100% !important;\n  text-align: end !important;\n  background: #dcf8c6 !important;\n  font-size: 0.8em !important;\n  border-radius: 0 0 10px 10px !important;\n}\n\n.bot-resp-msg2 {\n  margin-bottom: 0.5rem !important; \n  width: 100% !important;\n  text-align: end !important;\n  background: #f0f2f5 !important;\n  font-size: 0.8em !important;\n  border-radius: 0 0 10px 10px !important;\n  padding: 0 5px 2px 0 !important;\n}\n\n.bot-resp-msg3 {\n  width: 100% !important;\n  text-align: end !important;\n  background: #f0f2f5 !important;\n  font-size: 0.8em !important;\n  border-radius: 0 0 10px 10px !important;\n  padding: 0 5px 2px 0 !important;\n}\n.bot-resp-msg-flag-card ::after {\n  content: \"\" !important;\n  position: absolute !important;\n  top: 0px !important;\n  right: 5px !important;\n  background: #ffffff !important;\n  width: 16px !important;\n  height: 20px !important;\n  background: linear-gradient(\n    135deg,\n    #ffffff 0%,\n    #ffffff 50%,\n    transparent 50%,\n    transparent\n  ) !important;\n}\n.bot-resp-msg-flag ::after {\n  content: \"\" !important;\n  position: absolute !important;\n  top: 0px !important;\n  right: 14px !important;\n  background: #dcf8c6 !important;\n  width: 16px !important;\n  height: 20px !important;\n  background: linear-gradient(\n    135deg,\n    #dcf8c6 0%,\n    #dcf8c6 50%,\n    transparent 50%,\n    transparent\n  ) !important;\n}\n\n.user-msg {\n  max-width: 550px !important;\n  min-width: 100px !important;\n  text-align: justify !important;\n  font-size: 0.8em !important;\n  border-radius: 0 10px 0 0 !important;\n  padding: 6px 6px 0 11px !important;\n}\n\n.user-msg-flag ::after {\n  content: \"\" !important;\n  position: absolute !important;\n  top: 8px !important;\n  left: 10px !important;\n  background: #dcf8c6 !important;\n  width: 15px !important;\n  height: 15px !important;\n  background: linear-gradient(\n    225deg,\n    #fff 0%,\n    #fff 50%,\n    transparent 50%,\n    transparent\n  ) !important;\n}\n\n.user-msg-time {\n  width: 100% !important;\n  text-align: end !important;\n  background: #ffff !important;\n  font-size: 0.8em !important;\n  border-radius: 0 0 10px 10px !important;\n}\n\n/* .user-info-page {\n  height: 89vh !important;\n  position: relative !important;\n  background: #f8f8f8 !important;\n} */\n.cense-whatsapp-image img{\n\n  width: 500px !important;\n  margin-top: 130px !important;\n}\n/* .cense-whatsapp-image .cense-image {\n  width: 150px !important;\n  margin-top: 26% !important;\n}\n.cense-whatsapp-image .whats-app-image {\n  width: 150px !important;\n  margin-top: 26% !important;\n  position: relative !important;\n  margin-left: 3rem !important;\n}\n.cense-whatsapp-image h4 {\n  color:#41525d !important ;\n} */\n.profile-info{\n  height: 89vh !important;\n  position: relative !important;\n  min-height: 40px !important;\n  ;\n}\n\n.profile-top {\n  height: 10% !important;\n  align-items: end !important;\n  background: #f0f2f5 !important\n}\n.profile-bottom {\n  overflow: auto !important;\n  height: 90% !important;\n  background: #ffffff !important\n}\n.profile-details {\n  padding: 24px 24px 24px 24px !important;\n  height: 49vh !important;\n  position: relative !important;\n  min-height: 40px !important;\n  background: #ffffff !important;\n}\n\n.user-info {\n  display: flex !important;\n  align-items: center !important;\n  justify-content: space-between !important;\n  background: #f0f2f5 !important;\n}\n\n.user-info div p {\n  font-size: 15px !important;\n}\n\n.image-container {\n  position: relative !important;\n}\n\n.message-table-scroll {\n  scroll-behavior: smooth !important;\n}\n\n.carousel_cards {\n  /* min-width: 75% !important;\n  margin-left: 0.9em !important;\n  height: auto !important;\n  margin-bottom: 0.8rem !important; */\n}\n\n.carousel_card_single {\n  /* height: auto !important;\n  min-width: 55% !important;\n  border-radius: 0.25rem !important;\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n  background-color: #f0f2f5 !important;\n  border-radius: 1.3rem !important; */\n}\n.close-btn{\n\n}\n.close-btn:hover{\n  cursor: pointer;\n\n}\n.carousel_card_single img {\n  /* width: 100% !important;\n  height: 8.7em !important;\n  background-position: center center !important;\n  background-size: cover !important;\n  border-top-left-radius: 1.6em !important;\n  border-top-right-radius: 1.6em !important;\n  display: block !important; */\n}\n\n.carousel_card_single iframe {\n  width: 100% !important;\n  height: 10em !important;\n  background-position: center center !important;\n  background-size: cover !important;\n  border-top-left-radius: 1.6em !important;\n  border-top-right-radius: 1.6em !important;\n  display: block !important;\n}\n\n.carousel_card_single p {\n  /* font-family: var(--bot-font-style) !important;\n  width: 100% !important;\n  font-size: 0.8805rem !important;\n  font-weight: 300 !important;\n  line-height: 1em !important;\n  text-align: initial !important;\n  color: #4a4a4a !important;\n  margin-bottom: 0.3em !important; */\n}\n\n.carousel_card_single h4 {\n  /* font-family: var(--bot-font-style) !important;\n  color: rgba(0, 0, 0, 1) !important;\n  font-weight: 700 !important;\n  font-size: 0.95rem !important;\n  margin-bottom: 0.3em !important; */\n}\n\n.carousel_card_single a {\n  /* width: 93% !important;\n  font-family: var(--bot-font-style) !important;\n  margin-bottom: 0.2em !important;\n  border-radius: 8px !important;\n  font-size: 14px !important;\n  text-align: center !important;\n  color: rgba(0, 0, 0, 1) !important;\n  background: #e4e6eb !important;\n  border: 1px solid #e4e6eb !important;\n  padding: 6px 15px !important;\n  font-weight: 550 !important;\n  line-height: 1.9vh !important;\n  display: inline-block !important;\n  border-radius: 7px !important;\n  cursor: pointer !important; */\n}\n\n.carousel_card_button {\n  text-align: center !important;\n}\n\n.carousel_card_single a:hover {\n  /* opacity: 0.8 !important;\n  background: #c8cbce !important; */\n}\n\n.carousel_card_single a:active {\n  /* transform: translateY(1px) !important;\n  background: #a5cff1 !important; */\n}\n\n.single-product {\n  margin-left: 100px;\n  background: rgb(255, 255, 255);\n  border-radius: 6px 6px 0 0;\n  position: relative;\n  padding: 10px;\n  min-height: 175px;\n}\n\n.single-product img {\n  width: 100% !important;\n  height: 8.7em !important;\n  background-position: center center !important;\n  background-size: cover !important;\n  border-top-left-radius: 1.6em !important;\n  border-top-right-radius: 1.6em !important;\n  display: block !important;\n  border-bottom: 1px solid rgb(78, 77, 77) !important;\n}\n\n::-webkit-scrollbar {\n  width: 6px !important;\n  height: 6px !important;\n}\n\n::-webkit-scrollbar-thumb {\n  background-color: #ced0d1 !important;\n}\n\n::-webkit-scrollbar-track {\n  background: transparent!important;\n}\n\n.user-name-date {\n  justify-content: space-between !important;\n}\n\n.user-name-date .user-name {\n  font-weight: 400 !important;\n  color: black !important;\n  font-size: 15px !important;\n}\n\n.user-info .customer-name {\n  font-weight: 400 !important;\n  color: black !important;\n  font-size: 15px !important;\n}\n\n.contact-list-empty {\n  /* position: absolute !important;\n  text-align: center !important;\n  padding-right: 2.3rem !important;\n  padding-left: 4.3rem !important;\n  padding-top: 4em !important;\n  font-size: 0.9em !important; */\n  color: #8696a0 !important;\n}\n\n.about-phone {\n  margin-bottom: 30px !important;\n}\n.abt-phone-title{\n  color: #008069 !important;\n  font-weight:400 !important;\n  font-size: 14px !important;\n}\n.add-another-website {\n  color: #008069 !important;\n  font-weight:400 !important;\n  font-size: 12px !important; \n  margin-left: 30px !important;\n  cursor: pointer !important;\n}\n.whts-status {\n  display: flex !important;\n  align-items: center !important;\n  justify-content: space-between !important;\n}\n.edit-status{\n  display: flex !important;\n  align-content: center !important;\n  position: relative !important;\n}\n\n.edit-status textarea {\n  outline: 0 !important;\n  border-width: 0 0 2px !important;\n  border-color: #47a884 !important;\n  padding:5px !important;\n  resize: none !important;\n  width: 88% !important;\n  height: 40px;\n}\n\n.whtsapp-no {\n  display: flex !important;\n  align-items: center !important;\n  padding-bottom: 20px !important;\n}\n.user-email-details{\n  padding: 5px !important;\n  min-height: 3.1rem !important;\n}\n.user-email-details .user-email {\n  display: flex !important;\n  align-items: center !important;\n}\n.user-email-details .user-email span {\n  margin-left: 1rem !important;\n  width: 90% !important;\n  margin-right: 1rem !important;\n}\n.user-email-details .edit-user-email {\n  display: flex !important;\n  align-items: center !important;\n  position: relative !important;\n}\n.user-email-details .edit-user-email textarea{\n  outline: 0 !important;\n  border-width: 0 0 2px !important;\n  border-color: #47a884 !important;\n  padding:5px !important;\n  resize: none !important;\n  width: 88% !important;\n  height: 35px ;\n  overflow: hidden !important;\n}\n.user-address-details{\n  padding: 5px !important;\n  min-height: 3.1rem !important;\n}\n.user-address-details .user-address{\n  display: flex !important;\n  align-items: center !important;\n}\n.user-address-details .user-address span {\n  margin-left: 1rem !important;\n  width: 90% !important;\n  margin-right: 1rem !important;\n}\n.user-address-details .edit-user-address {\n  display: flex !important; \n  align-items: center !important;\n  position: relative !important; \n}\n.user-address-details .edit-user-address textarea{\n  outline: 0 !important;\n  border-width: 0 0 2px !important;\n  border-color: #47a884 !important;\n  padding:5px !important;\n  resize: none !important;\n  width: 88% !important;\n  height: 35px ;\n  overflow: hidden !important;\n}\n.description-details {\n  padding: 5px !important;\n  min-height: 3.1rem !important;\n}\n.description-details .description {\n  display: flex !important;\n  align-items: center !important;\n}\n.description-details .description span { \n  margin-left: 1rem !important;\n  width: 90% !important;\n  margin-right: 1rem !important;\n}\n.description-details .edit-description {\n  display: flex !important;\n  align-items: center !important;\n  position: relative !important;    \n}\n.description-details .edit-description textarea{\n  outline: 0 !important;\n  border-width: 0 0 2px !important;\n  border-color: #47a884 !important;\n  padding:5px !important; \n  resize: none !important;\n  width: 88% !important;\n  height: 35px ;\n  overflow: hidden !important;\n}\n.website-details{\n  padding: 5px !important;\n  min-height: 3.1rem !important;\n}\n.website-details .website {\n  display:flex !important;\n  align-items: center !important;\n}\n.website-details .website span {\n  margin-left: 1rem !important;\n  width: 90% !important;\n}\n.website-details .edit-website {\n  display: flex !important;\n  align-items: center !important;\n  position: relative !important; \n}\n.website-details .edit-website textarea{\n  outline: 0 !important;\n  border-width: 0 0 2px !important;\n  border-color: #47a884 !important;\n  padding:5px !important;\n  resize: none !important;\n  width: 88% !important;\n  height: 35px;\n  overflow: hidden !important;\n}\n.webiste-vertical-details{\n  padding: 5px !important;\n  min-height: 3.1rem !important;\n}\n.webiste-vertical-details .webiste-vertical{\n  display: flex !important;\n  align-items:center !important;\n  position: relative !important;\n}\n\n</style>\n<style scoped>\n.lds-ring {\n  display: inline-block;\n  position: absolute;\n  width: 80px;\n  height: 80px;\n  left: 27vw;\n}\n.btn{\n  background:transparent;\n}\n.btn{\n  box-shadow: none;\n}\n.lds-ring div {\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  margin: 8px;\n  border: 3px solid rgb(105, 100, 100);\n  border-radius: 50%;\n  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: rgb(110, 109, 109) transparent transparent transparent;\n}\n\n.lds-ring div:nth-child(1) {\n  animation-delay: -0.45s;\n}\n\n.lds-ring div:nth-child(2) {\n  animation-delay: -0.3s;\n}\n\n.lds-ring div:nth-child(3) {\n  animation-delay: -0.15s;\n}\n.profile-pic {\n  width: 100% !important;\n  height: 150px !important;\n  background: #eaf2f5 !important;\n  position: relative !important;\n}\n.profile-pic .second-circle {\n  position: absolute !important;\n  width: 130px !important;\n  height: 110px !important;\n  background: #76848c!important;\n  top: 150px !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  border-radius: 50% !important;\n  z-index: 1000 !important;\n  cursor: pointer;\n  border: 5px solid #ffff;\n}\n.profile-pic .second-circle input{\n  position: absolute !important;\n  width: 128px !important;\n  opacity: 0.01 !important;\n  height: 110px !important;\n  top: 0 !important;\n  left: 3px !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  border-radius: 50% !important;\n  z-index: 2000 !important;\n  cursor: pointer;\n}\n.profile-pic .second-circle .img-circle-gry {\n  width: 100% !important;\n  height: 100% !important;\n}\n.profile-pic .second-circle .img-circle-gry .img-circle-title-cam {\n  display: flex !important;\n  flex-direction: column !important;\n  justify-content: center !important;\n  align-items: center !important;\n  padding-top: 40px !important;\n}\n.profile-pic .second-circle .img-circle-gry .img-circle-title-cam span {\n  font-size: 12px !important;\n  color: #ffff !important;\n}\n.profile-pic .second-circle-image img{\n  position: absolute !important;\n  width: 128px !important;\n  height: 120px !important;\n  top: 150px !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  border-radius: 50% !important;\n  z-index: 1000 !important;\n  cursor: pointer;\n  border: 5px solid #ffff;\n}\n.profile-pic .second-circle-image input{\n  position: absolute !important;\n  width: 128px !important;\n  opacity: 0.01 !important;\n  height: 110px !important;\n  top: 150px !important;\n  left: 3px !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  border-radius: 50% !important;\n  z-index: 2000 !important;\n  cursor: pointer;\n}\n.img-cricle {\n  width: 100%;\n  height: 49px;\n  background: #ffff;\n}\n.img-cricle .no-image {\n  width: 100%;\n  height:7vh;\n  background: #ffff;\n  text-align: center;\n  position: relative;\n}\n.remove-profile-pic {\n  padding-top: 28px;\n  text-align: center;\n  margin-left: 120px;\n}\n.remove-profile-pic:hover .remove-profile-pic-hover{\n  visibility: visible;\n}\n@keyframes lds-ring {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n#send_message_whatsapp {\n  width: 100%\n}\n\n\n\n#enable-message-sending {\n  position: absolute !important;\n  right: 1vw !important;\n  top: 31% !important;\n  font-size: 14px !important;\n}\n.search-contact{\n  width: 100% !important;\n  height: 50px !important;\n  background: #ffff !important;\n  display: flex !important;\n  justify-content: center !important;\n  align-items: center !important;\n  position: relative;\n}\n.search-contact div {\n  width: 95% !important;\n}\n.search-contact div input {\n  width: 100% !important;\n  outline: none !important;\n  border: none !important;\n  background: #f0f2f5 !important; \n  height: 30px !important;\n  border-radius: 6px !important;\n  font-size: 13px !important;\n  padding-left: 50px !important;\n}\n.search-contact div svg {\n  position: absolute !important;\n  left: 1.7rem !important;\n  top: 1.2rem !important;\n}\n.contacts-list{\n  background-color: #ffffff !important;\n}\n.all-contact-list{\n  overflow-y:scroll !important;\n  height: 495px !important;\n}\n.all-contact-list ul {\n  margin: 5px !important;\n}\n.all-contact-list li {\n  margin-bottom: 10px !important;\n  border-bottom: 1px solid #dee2e6 !important;\n  padding-bottom: 8px !important;\n  padding-left: 5px;\n}\n.all-contact-list li .user-name {\n  font-weight: 400 !important;\n  color: black !important;\n  font-size: 15px !important;\n  padding-bottom:5px !important;\n  padding-top:4px !important;\n  padding-left: 9px !important;\n}\n/* input#send_attachment{\n  display: inline-block;\n  width: 100%;\n  padding: 120px 0 0 0;\n  height: 10px;\n  overflow: hidden;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  background: url('https://cdn1.iconfinder.com/data/icons/hawcons/32/698394-icon-130-cloud-upload-512.png') center center no-repeat #e4e4e4;\n  border-radius: 20px;\n  background-size: 60px 60px;\n} */\n</style>\n\n<style lang=\"scss\" scoped>\n\n.send-message-to-user {\n  position:relative !important;\n  height: 7.5% !important;\n  outline: 0 !important;\n  resize: none !important;\n  // overflow: hidden !important;\n  padding: 5px !important;\n}\n.responsive-width{\n  max-width:275px !important;\n  word-break: break-word !important;\n}\n// #img-preview {\n//   display: none; \n//   width: 155px;   \n//   border: 2px dashed #333;  \n//   margin-bottom: 20px;\n// }\n// #img-preview img {  \n//   width: 100%;\n//   height: auto; \n//   display: block;   \n// }\n.image-preview-container{\n  background-color: white;\n}\n.image-preview-container .close{\n  position: absolute;\n  top: 3rem;\n  right: 1rem;\n  \n}\n// .custom-display-image {\n//   max-width: 100%;\n//   max-height: 100%;\n//   padding: 0.8rem;\n// }\n.image-custom {\nmax-width: 100%;\n}\n#showImageModal>.modal-dialog{\n  max-width: 75vw;\n}\n#showImageModal .close{\n  right: -2.5%;\n  top: 0%;\n}\n.form-check label {\n  display: inline-block;\n  width: auto;\n}\n.contact-verified-status {\n  text-transform:capitalize;\n  // border: 0.5px solid;\n  padding: 0.2rem;\n  // width: 20%;\n  text-align: center;\n  font-size: larger;\n}\n.contact-verified-status.pending{\n  color: #ffc347;\n}\n.contact-verified-status.valid{\n  color: #25af02;\n}\n.contacts-legend-preview{\n    text-align: left;\n    padding-top: 6rem;\n    padding-left: 2rem;\n}\n.form-control-textarea {\n  box-shadow: none;\n  border: solid 1px #DBE2E8;\n  font-size: 16px;\n  line-height: 20px;\n  padding: 8px 25px 8px 13px;\n  height: auto;\n  color: #9499AE;\n  font-weight: 400;\n  margin: 0;\n  background-position: 15px 15px !important;\n  outline: 0 !important;\n  resize: none !important;\n  overflow: hidden;\n  width: 100% !important;\n  border-radius: 10px ;\n}\n.modal-image-preview {\n  max-height: 90vh;\n  width: 100%;\n  object-fit: contain;\n}\n#msg_send_btn{\n  transform: rotate(20deg);\n  cursor: pointer;\n}\n.new-search-chat {\n  /* width: 100% !important; */\n  height: 50px !important;\n  background: #ffff !important;\n  display: flex !important;\n  justify-content: center !important;\n  align-items: center !important;\n  position: relative;\n}\n.new-search-chat  div {\n  width: 90% !important;\n}\n\n.new-search-chat div input {\n  width: 100% !important;\n  outline: none !important;\n  border: none !important;\n  background: #f0f2f5 !important; \n  height: 30px !important;\n  border-radius: 3px !important;\n  font-size: 13px !important;\n  padding-left: 50px !important;\n}\n.customer-name{\n  position:relative;\n  margin-top: 10px;\n  margin-left: 2px;\n  }\n.new-search-chat div svg {\n  position: absolute !important;\n  left: 1.7rem !important;\n  top: 1.2rem !important;\n}\n#contactsearchdisplay {\n  transition: top 0.5s ease;\n}\n#contactsearchdisplaynew {\n  transition: all 0.5s ease;\n}\n.add-highlight{\n  background: yellow;\n}\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard"}]}