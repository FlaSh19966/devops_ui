{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/eslint-loader/index.js??ref--13-0!/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/2D-Donut/index.js","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/2D-Donut/index.js","mtime":1643027096188},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0IHsgdmFsdWVzIH0gZnJvbSAiZDMiOwoKdmFyIGQzID0gcmVxdWlyZSgiZDMiKTsKCmV4cG9ydCB7IGRvbnV0Q2hhcnQgfTsKCmZ1bmN0aW9uIGRvbnV0Q2hhcnQoKSB7CiAgLy8gdmFyIHZtID0gdGhpCiAgdmFyIHdpZHRoLAogICAgICBoZWlnaHQsCiAgICAgIG1hcmdpbiA9IHsKICAgIHRvcDogMTYwLAogICAgcmlnaHQ6IDEwLAogICAgYm90dG9tOiAxMCwKICAgIGxlZnQ6IDMwCiAgfSwKICAgICAgLy8gY29sb3VyID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApLCAvLyBjb2xvdXIgc2NoZW1lCiAgdmFyaWFibGUsCiAgICAgIC8vIHZhbHVlIGluIGRhdGEgdGhhdCB3aWxsIGRpY3RhdGUgcHJvcG9ydGlvbnMgb24gY2hhcnQKICBjYXRlZ29yeSwKICAgICAgLy8gY29tcGFyZSBkYXRhIGJ5CiAgcGFkQW5nbGUsCiAgICAgIC8vIGVmZmVjdGl2ZWx5IGRpY3RhdGVzIHRoZSBnYXAgYmV0d2VlbiBzbGljZXMKICBmbG9hdEZvcm1hdCA9IGQzLmZvcm1hdCgnLjRyJyksCiAgICAgIGNvcm5lclJhZGl1cywKICAgICAgLy8gc2V0cyBob3cgcm91bmRlZCB0aGUgY29ybmVycyBhcmUgb24gZWFjaCBzbGljZQogIHBlcmNlbnRGb3JtYXQgPSBkMy5mb3JtYXQoJywuMiUnKTsgLy8gICAgICBjb25zdCBjb2xvdXIgPSBkMy5zY2FsZU9yZGluYWwoKQogIC8vICAuZG9tYWluKHRoaXMuZGF0YS5tYXAoZCA9PiBkW3ZtLnhLZXldKSkKICAvLyAgLnJhbmdlKGQzLnF1YW50aXplKHQgPT4gZDMuaW50ZXJwb2xhdGVTcGVjdHJhbCAgKHQgKiAwLjggKyAwLjEpLCAyMCkucmV2ZXJzZSgpKTsKCiAgZnVuY3Rpb24gY2hhcnQoc2VsZWN0aW9uKSB7CiAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3Rpb24pOwogICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIGNvbG91ciA9IGQzLnNjYWxlT3JkaW5hbCgpLmRvbWFpbihkYXRhLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkW3ZhcmlhYmxlXTsKICAgICAgfSkpLnJhbmdlKGQzLnF1YW50aXplKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIGQzLmludGVycG9sYXRlU3BlY3RyYWwodCAqIDAuOCArIDAuMSk7CiAgICAgIH0sIGRhdGEubGVuZ3RoKS5yZXZlcnNlKCkpOyAvLyBnZW5lcmF0ZSBjaGFydAogICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vIFNldCB1cCBjb25zdHJ1Y3RvcnMgZm9yIG1ha2luZyBkb251dC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kMy9kMy1zaGFwZS9ibG9iL21hc3Rlci9SRUFETUUubWQKCiAgICAgIHZhciByYWRpdXMgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDIuNjsgLy8gY3JlYXRlcyBhIG5ldyBwaWUgZ2VuZXJhdG9yCgogICAgICB2YXIgcGllID0gZDMucGllKCkudmFsdWUoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZFt2YXJpYWJsZV07CiAgICAgIH0pIC8vIC52YWx1ZShmdW5jdGlvbihkKSB7IGNvbnNvbGUubG9nKGQsdmFyaWFibGUpO3JldHVybiBmbG9hdEZvcm1hdChkW3ZhcmlhYmxlXSk7IH0pCiAgICAgIC5zb3J0KG51bGwpOyAvLyBjb250cnVjdHMgYW5kIGFyYyBnZW5lcmF0b3IuIFRoaXMgd2lsbCBiZSB1c2VkIGZvciB0aGUgZG9udXQuIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb3V0ZXIgYW5kIGlubmVyCiAgICAgIC8vIHJhZGl1cyB3aWxsIGRpY3RhdGUgdGhlIHRoaWNrbmVzcyBvZiB0aGUgZG9udXQKICAgICAgLy8gY29uc29sZS5sb2cocmFkaXVzKQoKICAgICAgdmFyIGFyYyA9IGQzLmFyYygpLm91dGVyUmFkaXVzKHJhZGl1cyAqIDAuNykuaW5uZXJSYWRpdXMocmFkaXVzICogMC40KS5jb3JuZXJSYWRpdXMoY29ybmVyUmFkaXVzKS5wYWRBbmdsZShwYWRBbmdsZSk7IC8vIHRoaXMgYXJjIGlzIHVzZWQgZm9yIGFsaWduaW5nIHRoZSB0ZXh0IGxhYmVscwoKICAgICAgdmFyIG91dGVyQXJjID0gZDMuYXJjKCkub3V0ZXJSYWRpdXMocmFkaXVzICogMikuaW5uZXJSYWRpdXMocmFkaXVzICogMC4yKTsKICAgICAgdmFyIG91dGVyQXJjdGV4dCA9IGQzLmFyYygpLm91dGVyUmFkaXVzKHJhZGl1cyAqIDIpLmlubmVyUmFkaXVzKHJhZGl1cyAqIDAuMik7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAvLyBhcHBlbmQgdGhlIHN2ZyBvYmplY3QgdG8gdGhlIHNlbGVjdGlvbgoKICAgICAgdmFyIHN2ZyA9IHNlbGVjdGlvbi5hcHBlbmQoJ3N2ZycpLmF0dHIoJ3dpZHRoJywgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCkuYXR0cignaGVpZ2h0JywgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHdpZHRoIC8gMiArICcsJyArIGhlaWdodCAvIDIgKyAnKScpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgLy8gZyBlbGVtZW50cyB0byBrZWVwIGVsZW1lbnRzIHdpdGhpbiBzdmcgbW9kdWxhcgoKICAgICAgc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3NsaWNlcycpOwogICAgICBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbGFiZWxOYW1lJyk7CiAgICAgIHZhciBsaW5lc3NzID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2xpbmVzJyk7CiAgICAgIHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdsYWJlbHMnKTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vIGFkZCBhbmQgY29sb3VyIHRoZSBkb251dCBzbGljZXMKCiAgICAgIHZhciBwYXRoID0gc3ZnLnNlbGVjdCgnLnNsaWNlcycpLmRhdHVtKGRhdGEpLnNlbGVjdEFsbCgncGF0aCcpLmRhdGEocGllKS5lbnRlcigpLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBjb2xvdXIoZC5kYXRhW2NhdGVnb3J5XSk7CiAgICAgIH0pLmF0dHIoJ2QnLCBhcmMpOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgLy8gYWRkIHRleHQgbGFiZWxzCgogICAgICB2YXIgbGFiZWwgPSBzdmcuc2VsZWN0KCcubGFiZWxOYW1lJykuc2VsZWN0QWxsKCd0ZXh0JykuZGF0YShwaWUpLmVudGVyKCkuYXBwZW5kKCd0ZXh0JykuYXR0cignZHknLCAnLjI1ZW0nKSAvLyAuYXR0cignZHknLCBmdW5jdGlvbihkLGkpeyByZXR1cm4gKGkgKiAxNS4zNCArMTApIH0gKQogICAgICAvLyAuYXR0cigneCcsICcuMjVlbScpCiAgICAgIC8vIC5hdHRyKCd5JywgJy4yNWVtJykKICAgICAgLmh0bWwoZnVuY3Rpb24gKGQpIHsKICAgICAgICAvLyBhZGQgImtleTogdmFsdWUiIGZvciBnaXZlbiBjYXRlZ29yeS4gTnVtYmVyIGluc2lkZSB0c3BhbiBpcyBib2xkZWQgaW4gc3R5bGVzaGVldC4KICAgICAgICByZXR1cm4gZC5kYXRhW2NhdGVnb3J5XSArICc6IDx0c3Bhbj4nICsgZC5kYXRhW3ZhcmlhYmxlXS50b0ZpeGVkKDIpICsgJzwvdHNwYW4+JzsKICAgICAgfSkuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICAvLyBlZmZlY3RpdmVseSBjb21wdXRlcyB0aGUgY2VudHJlIG9mIHRoZSBzbGljZS4KICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2QzL2QzLXNoYXBlL2Jsb2IvbWFzdGVyL1JFQURNRS5tZCNhcmNfY2VudHJvaWQKICAgICAgICB2YXIgcG9zID0gb3V0ZXJBcmMuY2VudHJvaWQoZCk7IC8vIGNoYW5nZXMgdGhlIHBvaW50IHRvIGJlIG9uIGxlZnQgb3IgcmlnaHQgZGVwZW5kaW5nIG9uIHdoZXJlIGxhYmVsIGlzLgoKICAgICAgICBwb3NbMF0gPSByYWRpdXMgKiAwLjk1ICogKG1pZEFuZ2xlKGQpIDwgTWF0aC5QSSA/IDEgOiAtMSk7IC8vIHJldHVybiAndHJhbnNsYXRlKCcgKyBwb3MgKyAnKScgKyAicm90YXRlKCIgKyBnZXRBbmdsZShkKSArICIpIjs7CgogICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBwb3MgKyAnKSc7CiAgICAgIH0pLnN0eWxlKCd0ZXh0LWFuY2hvcicsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgLy8gaWYgc2xpY2UgY2VudHJlIGlzIG9uIHRoZSBsZWZ0LCBhbmNob3IgdGV4dCB0byBzdGFydCwgb3RoZXJ3aXNlIGFuY2hvciB0byBlbmQKICAgICAgICByZXR1cm4gbWlkQW5nbGUoZCkgPCBNYXRoLlBJID8gJ3N0YXJ0JyA6ICdlbmQnOwogICAgICB9KTsgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKICAgICAgdmFyIGdldEFuZ2xlID0gZnVuY3Rpb24gZ2V0QW5nbGUoZCkgewogICAgICAgIHJldHVybiAxODAgLyBNYXRoLlBJICogKGQuc3RhcnRBbmdsZSArIGQuZW5kQW5nbGUpIC8gMiAtIDkwOwogICAgICB9OyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vIGFkZCBsaW5lcyBjb25uZWN0aW5nIGxhYmVscyB0byBzbGljZS4gQSBwb2x5bGluZSBjcmVhdGVzIHN0cmFpZ2h0IGxpbmVzIGNvbm5lY3Rpbmcgc2V2ZXJhbCBwb2ludHMKCgogICAgICB2YXIgcG9seWxpbmUgPSBzdmcuc2VsZWN0KCcubGluZXMnKS5zZWxlY3RBbGwoJ3BvbHlsaW5lJykuZGF0YShwaWUpLmVudGVyKCkuYXBwZW5kKCdwb2x5bGluZScpLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgIHJldHVybiBpICogMTUuMzQgKyAxMDsKICAgICAgfSkuYXR0cigncG9pbnRzJywgZnVuY3Rpb24gKGQpIHsKICAgICAgICAvLyBzZWUgbGFiZWwgdHJhbnNmb3JtIGZ1bmN0aW9uIGZvciBleHBsYW5hdGlvbnMgb2YgdGhlc2UgdGhyZWUgbGluZXMuCiAgICAgICAgdmFyIHBvcyA9IG91dGVyQXJjLmNlbnRyb2lkKGQpOwogICAgICAgIHBvc1swXSA9IHJhZGl1cyAqIDAuOTUgKiAobWlkQW5nbGUoZCkgPCBNYXRoLlBJID8gMSA6IC0xKTsKICAgICAgICByZXR1cm4gW2FyYy5jZW50cm9pZChkKSwgb3V0ZXJBcmMuY2VudHJvaWQoZCksIHBvc107CiAgICAgIH0pOyAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vIHZhciBsYWJlbHMgPSBkMy5zZWxlY3QoIiNsYWJlbHMiKTsKICAgICAgLy8gdmFyIGVudGVyaW5nTGFiZWxzID0gbGFiZWxzLnNlbGVjdEFsbCgiLmxhYmVsIikuZGF0YShwaWUpLmVudGVyKCk7CiAgICAgIC8vIHZhciBsYWJlbEdyb3VwcyA9IGVudGVyaW5nTGFiZWxzLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgImxhYmVsIik7CiAgICAgIC8vIGxhYmVsR3JvdXBzLmFwcGVuZCgiY2lyY2xlIikuYXR0cih7CiAgICAgIC8vICAgICB4OiAwLAogICAgICAvLyAgICAgeTogMCwKICAgICAgLy8gICAgIHI6IDIsCiAgICAgIC8vICAgICBmaWxsOiAiIzAwMCIsCiAgICAgIC8vICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIC8vICAgICB2YXIgY2VudHJvaWQgPSBwaWUuY2VudHJvaWQoZCk7CiAgICAgIC8vICAgICAgICAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIHBpZS5jZW50cm9pZChkKSArICIpIjsKICAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgICAgICAgJ2NsYXNzJzogImxhYmVsLWNpcmNsZSIKICAgICAgLy8gfSk7CiAgICAgIC8vIC8vICJXaGVuIGFtIEkgZXZlciBnb2luZyB0byB1c2UgdGhpcz8iIEkgc2FpZCBpbiAKICAgICAgLy8gLy8gMTB0aCBncmFkZSB0cmlnLgogICAgICAvLyB2YXIgdGV4dExpbmVzID0gbGFiZWxHcm91cHMuYXBwZW5kKCJsaW5lIikuYXR0cih7CiAgICAgIC8vICAgICB4MTogZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgLy8gICAgICAgICAvLyByZXR1cm4gcGllZF9hcmMuY2VudHJvaWQoZClbMF07CiAgICAgIC8vICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllLmNlbnRyb2lkKGQpOwogICAgICAvLyAgICAgICAgIHZhciBtaWRBbmdsZSA9IE1hdGguYXRhbjIoY2VudHJvaWRbMV0sIGNlbnRyb2lkWzBdKTsKICAgICAgLy8gICAgICAgICB2YXIgeCA9IE1hdGguY29zKG1pZEFuZ2xlKSAqIGNEaW0ub3V0ZXJSYWRpdXM7CiAgICAgIC8vICAgICAgICAgcmV0dXJuIHg7CiAgICAgIC8vICAgICB9LAogICAgICAvLyAgICAgeTE6IGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIC8vICAgICAgICAgLy8gcmV0dXJuIHBpZWRfYXJjLmNlbnRyb2lkKGQpWzFdOwogICAgICAvLyAgICAgICAgIHZhciBjZW50cm9pZCA9IHBpZS5jZW50cm9pZChkKTsKICAgICAgLy8gICAgICAgICB2YXIgbWlkQW5nbGUgPSBNYXRoLmF0YW4yKGNlbnRyb2lkWzFdLCBjZW50cm9pZFswXSk7CiAgICAgIC8vICAgICAgICAgdmFyIHkgPSBNYXRoLnNpbihtaWRBbmdsZSkgKiBjRGltLm91dGVyUmFkaXVzOwogICAgICAvLyAgICAgICAgIHJldHVybiB5OwogICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIHgyOiBmdW5jdGlvbiAoZCwgaSkgewogICAgICAvLyAgICAgICAgIHZhciBjZW50cm9pZCA9IHBpZS5jZW50cm9pZChkKTsKICAgICAgLy8gICAgICAgICB2YXIgbWlkQW5nbGUgPSBNYXRoLmF0YW4yKGNlbnRyb2lkWzFdLCBjZW50cm9pZFswXSk7CiAgICAgIC8vICAgICAgICAgdmFyIHggPSBNYXRoLmNvcyhtaWRBbmdsZSkgKiBjRGltLmxhYmVsUmFkaXVzOwogICAgICAvLyAgICAgICAgIHJldHVybiB4OwogICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIHkyOiBmdW5jdGlvbiAoZCwgaSkgewogICAgICAvLyAgICAgICAgIHZhciBjZW50cm9pZCA9IHBpZS5jZW50cm9pZChkKTsKICAgICAgLy8gICAgICAgICB2YXIgbWlkQW5nbGUgPSBNYXRoLmF0YW4yKGNlbnRyb2lkWzFdLCBjZW50cm9pZFswXSk7CiAgICAgIC8vICAgICB2YXIgeSA9IE1hdGguc2luKG1pZEFuZ2xlKSAqIGNEaW0ubGFiZWxSYWRpdXM7CiAgICAgIC8vICAgICAgICAgcmV0dXJuIHk7CiAgICAgIC8vICAgICB9LAogICAgICAvLyAgICAgICAgICdjbGFzcyc6ICJsYWJlbC1saW5lIgogICAgICAvLyB9KTsKICAgICAgLy8gdmFyIHRleHRMYWJlbHMgPSBsYWJlbEdyb3Vwcy5hcHBlbmQoInRleHQiKS5hdHRyKHsKICAgICAgLy8gICAgIHg6IGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIC8vICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllZF9hcmMuY2VudHJvaWQoZCk7CiAgICAgIC8vICAgICAgICAgdmFyIG1pZEFuZ2xlID0gTWF0aC5hdGFuMihjZW50cm9pZFsxXSwgY2VudHJvaWRbMF0pOwogICAgICAvLyAgICAgICAgIHZhciB4ID0gTWF0aC5jb3MobWlkQW5nbGUpICogY0RpbS5sYWJlbFJhZGl1czsKICAgICAgLy8gICAgICAgICB2YXIgc2lnbiA9ICh4ID4gMCkgPyAxIDogLTEKICAgICAgLy8gICAgICAgICB2YXIgbGFiZWxYID0geCArICg1ICogc2lnbikKICAgICAgLy8gICAgICAgICByZXR1cm4gbGFiZWxYOwogICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIHk6IGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIC8vICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllZF9hcmMuY2VudHJvaWQoZCk7CiAgICAgIC8vICAgICAgICAgdmFyIG1pZEFuZ2xlID0gTWF0aC5hdGFuMihjZW50cm9pZFsxXSwgY2VudHJvaWRbMF0pOwogICAgICAvLyAgICAgICAgIHZhciB5ID0gTWF0aC5zaW4obWlkQW5nbGUpICogKHJhZGl1cyAqIDAuNyk7CiAgICAgIC8vICAgICAgICAgcmV0dXJuIHk7CiAgICAgIC8vICAgICB9LAogICAgICAvLyAgICAgICAgICd0ZXh0LWFuY2hvcic6IGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgIC8vICAgICAgICAgdmFyIGNlbnRyb2lkID0gcGllZF9hcmMuY2VudHJvaWQoZCk7CiAgICAgIC8vICAgICAgICAgdmFyIG1pZEFuZ2xlID0gTWF0aC5hdGFuMihjZW50cm9pZFsxXSwgY2VudHJvaWRbMF0pOwogICAgICAvLyAgICAgICAgIHZhciB4ID0gTWF0aC5jb3MobWlkQW5nbGUpICogKHJhZGl1cyAqIDAuNSkKICAgICAgLy8gICAgICAgICByZXR1cm4gKHggPiAwKSA/ICJzdGFydCIgOiAiZW5kIjsKICAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgICAgICAgJ2NsYXNzJzogJ2xhYmVsLXRleHQnCiAgICAgIC8vIH0pLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgLy8gICAgIHJldHVybiBkCiAgICAgIC8vIH0pOwogICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgIC8vIGFkZCB0b29sdGlwIHRvIG1vdXNlIGV2ZW50cyBvbiBzbGljZXMgYW5kIGxhYmVscwoKICAgICAgZDMuc2VsZWN0QWxsKCcubGFiZWxOYW1lIHRleHQsIC5zbGljZXMgcGF0aCcpLmNhbGwodG9vbFRpcCk7IC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgLy8gZDMuc2VsZWN0KCIubGFiZWxOYW1lIikKICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAvLyBGdW5jdGlvbnMKICAgICAgLy8gY2FsY3VsYXRlcyB0aGUgYW5nbGUgZm9yIHRoZSBtaWRkbGUgb2YgYSBzbGljZQoKICAgICAgZnVuY3Rpb24gbWlkQW5nbGUoZCkgewogICAgICAgIHJldHVybiBkLnN0YXJ0QW5nbGUgKyAoZC5lbmRBbmdsZSAtIGQuc3RhcnRBbmdsZSkgLyAyOwogICAgICB9IC8vIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbmQgYWRkcyB0aGUgdG9vbCB0aXAgdG8gYSBzZWxlY3RlZCBlbGVtZW50CgoKICAgICAgZnVuY3Rpb24gdG9vbFRpcChzZWxlY3Rpb24pIHsKICAgICAgICAvLyBhZGQgdG9vbHRpcCAoc3ZnIGNpcmNsZSBlbGVtZW50KSB3aGVuIG1vdXNlIGVudGVycyBsYWJlbCBvciBzbGljZQogICAgICAgIHNlbGVjdGlvbi5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBzdmcuYXBwZW5kKCd0ZXh0JykuYXR0cignY2xhc3MnLCAndG9vbENpcmNsZScpLmF0dHIoJ2R5JywgLTE1KSAvLyBoYXJkLWNvZGVkLiBjYW4gYWRqdXN0IHRoaXMgdG8gYWRqdXN0IHRleHQgdmVydGljYWwgYWxpZ25tZW50IGluIHRvb2x0aXAKICAgICAgICAgIC5odG1sKHRvb2xUaXBIVE1MKGRhdGEpKSAvLyBhZGQgdGV4dCB0byB0aGUgY2lyY2xlLgogICAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCAnLjllbScpLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTsgLy8gY2VudHJlcyB0ZXh0IGluIHRvb2x0aXAKCiAgICAgICAgICBzdmcuYXBwZW5kKCdjaXJjbGUnKS5hdHRyKCdjbGFzcycsICd0b29sQ2lyY2xlJykuYXR0cigncicsIHJhZGl1cyAqIDAuMjUpIC8vIHJhZGl1cyBvZiB0b29sdGlwIGNpcmNsZQogICAgICAgICAgLnN0eWxlKCdmaWxsJywgY29sb3VyKGRhdGEuZGF0YVtjYXRlZ29yeV0pKSAvLyBjb2xvdXIgYmFzZWQgb24gY2F0ZWdvcnkgbW91c2UgaXMgb3ZlcgogICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjM1KTsKICAgICAgICB9KTsgLy8gcmVtb3ZlIHRoZSB0b29sdGlwIHdoZW4gbW91c2UgbGVhdmVzIHRoZSBzbGljZS9sYWJlbAoKICAgICAgICBzZWxlY3Rpb24ub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgZDMuc2VsZWN0QWxsKCcudG9vbENpcmNsZScpLnJlbW92ZSgpOwogICAgICAgIH0pOwogICAgICB9IC8vIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgSFRNTCBzdHJpbmcgZm9yIHRoZSB0b29sIHRpcC4gTG9vcHMgdGhyb3VnaCBlYWNoIGtleSBpbiBkYXRhIG9iamVjdAogICAgICAvLyBhbmQgcmV0dXJucyB0aGUgaHRtbCBzdHJpbmcga2V5OiB2YWx1ZQoKCiAgICAgIGZ1bmN0aW9uIHRvb2xUaXBIVE1MKGRhdGEpIHsKICAgICAgICB2YXIgdGlwID0gJycsCiAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YS5kYXRhKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhrZXksZGF0YSkKICAgICAgICAgIC8vIGlmIHZhbHVlIGlzIGEgbnVtYmVyLCBmb3JtYXQgaXQgYXMgYSBwZXJjZW50YWdlCiAgICAgICAgICB2YXIgdmFsdWUgPSBkYXRhLmRhdGFba2V5XTsgLy8gbGVhdmUgb2ZmICdkeScgYXR0ciBmb3IgZmlyc3QgdHNwYW4gc28gdGhlICdkeScgYXR0ciBvbiB0ZXh0IGVsZW1lbnQgd29ya3MuIFRoZSAnZHknIGF0dHIgb24KICAgICAgICAgIC8vIHRzcGFuIGVmZmVjdGl2ZWx5IGltaXRhdGVzIGEgbGluZSBicmVhay4KCiAgICAgICAgICBpZiAoaSA9PT0gMCkgdGlwICs9ICc8dHNwYW4geD0iMCI+JyArIGtleSArICc6ICcgKyB2YWx1ZSArICc8L3RzcGFuPic7ZWxzZSB0aXAgKz0gJzx0c3BhbiB4PSIwIiBkeT0iMS4yZW0iPicgKyBrZXkgKyAnOiAnICsgdmFsdWUgKyAnPC90c3Bhbj4nOwogICAgICAgICAgaSsrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRpcDsKICAgICAgfSAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogICAgfSk7CiAgfSAvLyBnZXR0ZXIgYW5kIHNldHRlciBmdW5jdGlvbnMuIFNlZSBNaWtlIEJvc3RvY2tzIHBvc3QgIlRvd2FyZHMgUmV1c2FibGUgQ2hhcnRzIiBmb3IgYSB0dXRvcmlhbCBvbiBob3cgdGhpcyB3b3Jrcy4KCgogIGNoYXJ0LndpZHRoID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB3aWR0aDsKICAgIHdpZHRoID0gdmFsdWU7CiAgICByZXR1cm4gY2hhcnQ7CiAgfTsKCiAgY2hhcnQuaGVpZ2h0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBoZWlnaHQ7CiAgICBoZWlnaHQgPSB2YWx1ZTsKICAgIHJldHVybiBjaGFydDsKICB9OwoKICBjaGFydC5tYXJnaW4gPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIG1hcmdpbjsKICAgIG1hcmdpbiA9IHZhbHVlOwogICAgcmV0dXJuIGNoYXJ0OwogIH07IC8vIGNoYXJ0LnJhZGl1cyA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgLy8gICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHJhZGl1czsKICAvLyAgICAgcmFkaXVzID0gdmFsdWU7CiAgLy8gICAgIHJldHVybiBjaGFydDsKICAvLyB9OwoKCiAgY2hhcnQucmFkaXVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiByYWRpdXM7CiAgICByYWRpdXMgPSB2YWx1ZTsKICAgIHJldHVybiBjaGFydDsKICB9OwoKICBjaGFydC5wYWRBbmdsZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gcGFkQW5nbGU7CiAgICBwYWRBbmdsZSA9IHZhbHVlOwogICAgcmV0dXJuIGNoYXJ0OwogIH07CgogIGNoYXJ0LmNvcm5lclJhZGl1cyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gY29ybmVyUmFkaXVzOwogICAgY29ybmVyUmFkaXVzID0gdmFsdWU7CiAgICByZXR1cm4gY2hhcnQ7CiAgfTsKCiAgY2hhcnQuY29sb3VyID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBjb2xvdXI7CiAgICBjb2xvdXIgPSB2YWx1ZTsKICAgIHJldHVybiBjaGFydDsKICB9OwoKICBjaGFydC52YXJpYWJsZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgLy8gY29uc29sZS5sb2codmFsdWUsInZhciIpOwogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdmFyaWFibGU7CiAgICB2YXJpYWJsZSA9IHZhbHVlOwogICAgcmV0dXJuIGNoYXJ0OwogIH07CgogIGNoYXJ0LmNhdGVnb3J5ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAvLyBjb25zb2xlLmxvZyh2YWx1ZSwiY2F0ZSIpOwogICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gY2F0ZWdvcnk7CiAgICBjYXRlZ29yeSA9IHZhbHVlOwogICAgcmV0dXJuIGNoYXJ0OwogIH07CgogIHJldHVybiBjaGFydDsKfQ=="},{"version":3,"sources":["/home/vimalesh/Learning/devops_ui/src/portal/analytics/components/2D-Donut/index.js"],"names":["values","d3","require","donutChart","width","height","margin","top","right","bottom","left","variable","category","padAngle","floatFormat","format","cornerRadius","percentFormat","chart","selection","each","data","colour","scaleOrdinal","domain","map","d","range","quantize","t","interpolateSpectral","length","reverse","radius","Math","min","pie","value","sort","arc","outerRadius","innerRadius","outerArc","outerArctext","svg","append","attr","linesss","path","select","datum","selectAll","enter","label","html","toFixed","pos","centroid","midAngle","PI","style","getAngle","startAngle","endAngle","polyline","i","call","toolTip","on","toolTipHTML","remove","tip","key","arguments"],"mappings":";;AAAA,SAASA,MAAT,QAAuB,IAAvB;;AAEA,IAAMC,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AAEA,SACIC,UADJ;;AAKA,SAASA,UAAT,GAAsB;AAClB;AACA,MAAIC,KAAJ;AAAA,MACIC,MADJ;AAAA,MAEIC,MAAM,GAAG;AAACC,IAAAA,GAAG,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE,EAAlB;AAAsBC,IAAAA,MAAM,EAAE,EAA9B;AAAkCC,IAAAA,IAAI,EAAE;AAAxC,GAFb;AAAA,MAGI;AACAC,EAAAA,QAJJ;AAAA,MAIc;AACVC,EAAAA,QALJ;AAAA,MAKc;AACVC,EAAAA,QANJ;AAAA,MAMc;AACVC,EAAAA,WAAW,GAAGb,EAAE,CAACc,MAAH,CAAU,KAAV,CAPlB;AAAA,MAQIC,YARJ;AAAA,MAQkB;AACdC,EAAAA,aAAa,GAAGhB,EAAE,CAACc,MAAH,CAAU,MAAV,CATpB,CAFkB,CAalB;AACI;AACA;;AAEJ,WAASG,KAAT,CAAeC,SAAf,EAAyB;AACrB;AAEAA,IAAAA,SAAS,CAACC,IAAV,CAAe,UAASC,IAAT,EAAe;AAC1B,UAAMC,MAAM,GAAGrB,EAAE,CAACsB,YAAH,GACdC,MADc,CACPH,IAAI,CAACI,GAAL,CAAU,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACf,QAAD,CAAL;AAAA,OAAX,CADO,EAEdgB,KAFc,CAER1B,EAAE,CAAC2B,QAAH,CAAY,UAAAC,CAAC;AAAA,eAAI5B,EAAE,CAAC6B,mBAAH,CAAyBD,CAAC,GAAG,GAAJ,GAAU,GAAnC,CAAJ;AAAA,OAAb,EAA0DR,IAAI,CAACU,MAA/D,EAAuEC,OAAvE,EAFQ,CAAf,CAD0B,CAI1B;AAEA;AACA;;AACA,UAAIC,MAAM,GAAGC,IAAI,CAACC,GAAL,CAAS/B,KAAT,EAAgBC,MAAhB,IAA0B,GAAvC,CAR0B,CAU1B;;AACA,UAAI+B,GAAG,GAAGnC,EAAE,CAACmC,GAAH,GACLC,KADK,CACC,UAASX,CAAT,EAAY;AAAC,eAAOA,CAAC,CAACf,QAAD,CAAR;AAAqB,OADnC,EAEN;AAFM,OAGL2B,IAHK,CAGA,IAHA,CAAV,CAX0B,CAgB1B;AACA;AACA;;AACA,UAAIC,GAAG,GAAGtC,EAAE,CAACsC,GAAH,GACLC,WADK,CACOP,MAAM,GAAG,GADhB,EAELQ,WAFK,CAEOR,MAAM,GAAG,GAFhB,EAGLjB,YAHK,CAGQA,YAHR,EAILH,QAJK,CAIIA,QAJJ,CAAV,CAnB0B,CAyB1B;;AACA,UAAI6B,QAAQ,GAAGzC,EAAE,CAACsC,GAAH,GACVC,WADU,CACEP,MAAM,GAAG,CADX,EAEVQ,WAFU,CAEER,MAAM,GAAG,GAFX,CAAf;AAGA,UAAIU,YAAY,GAAG1C,EAAE,CAACsC,GAAH,GACdC,WADc,CACFP,MAAM,GAAG,CADP,EAEdQ,WAFc,CAEFR,MAAM,GAAG,GAFP,CAAnB,CA7B0B,CAgC1B;AAEA;AACA;;AACA,UAAIW,GAAG,GAAGzB,SAAS,CAAC0B,MAAV,CAAiB,KAAjB,EACLC,IADK,CACA,OADA,EACS1C,KAAK,GAAGE,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KADtC,EAELsC,IAFK,CAEA,QAFA,EAEUzC,MAAM,GAAGC,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAFvC,EAGPoC,MAHO,CAGA,GAHA,EAILC,IAJK,CAIA,WAJA,EAIa,eAAe1C,KAAK,GAAG,CAAvB,GAA2B,GAA3B,GAAiCC,MAAM,GAAG,CAA1C,GAA8C,GAJ3D,CAAV,CApC0B,CAyC1B;AAEA;AACA;;AACAuC,MAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB,EAA8B,QAA9B;AACAF,MAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB,EAA8B,WAA9B;AACD,UAAIC,OAAO,GAAGH,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB,EAA8B,OAA9B,CAAd;AACAF,MAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,OAArB,EAA8B,QAA9B,EAhD2B,CAiD1B;AAEA;AACA;;AACA,UAAIE,IAAI,GAAGJ,GAAG,CAACK,MAAJ,CAAW,SAAX,EACNC,KADM,CACA7B,IADA,EACM8B,SADN,CACgB,MADhB,EAEN9B,IAFM,CAEDe,GAFC,EAGRgB,KAHQ,GAGAP,MAHA,CAGO,MAHP,EAINC,IAJM,CAID,MAJC,EAIO,UAASpB,CAAT,EAAY;AAAE,eAAOJ,MAAM,CAACI,CAAC,CAACL,IAAF,CAAOT,QAAP,CAAD,CAAb;AAAkC,OAJvD,EAKNkC,IALM,CAKD,GALC,EAKIP,GALJ,CAAX,CArD0B,CA2D1B;AAEA;AACA;;AACA,UAAIc,KAAK,GAAGT,GAAG,CAACK,MAAJ,CAAW,YAAX,EAAyBE,SAAzB,CAAmC,MAAnC,EACP9B,IADO,CACFe,GADE,EAEPgB,KAFO,GAECP,MAFD,CAEQ,MAFR,EAGPC,IAHO,CAGF,IAHE,EAGI,OAHJ,EAIR;AACA;AACA;AANQ,OAOPQ,IAPO,CAOF,UAAS5B,CAAT,EAAY;AACd;AACA,eAAOA,CAAC,CAACL,IAAF,CAAOT,QAAP,IAAmB,WAAnB,GAAkCc,CAAC,CAACL,IAAF,CAAOV,QAAP,CAAD,CAAmB4C,OAAnB,CAA2B,CAA3B,CAAjC,GAAiE,UAAxE;AACH,OAVO,EAWPT,IAXO,CAWF,WAXE,EAWW,UAASpB,CAAT,EAAY;AAE3B;AACA;AACA,YAAI8B,GAAG,GAAGd,QAAQ,CAACe,QAAT,CAAkB/B,CAAlB,CAAV,CAJ2B,CAM3B;;AACA8B,QAAAA,GAAG,CAAC,CAAD,CAAH,GAASvB,MAAM,GAAG,IAAT,IAAiByB,QAAQ,CAAChC,CAAD,CAAR,GAAcQ,IAAI,CAACyB,EAAnB,GAAwB,CAAxB,GAA4B,CAAC,CAA9C,CAAT,CAP2B,CAQ3B;;AACA,eAAO,eAAeH,GAAf,GAAqB,GAA5B;AACH,OArBO,EAsBPI,KAtBO,CAsBD,aAtBC,EAsBc,UAASlC,CAAT,EAAY;AAC9B;AACA,eAAQgC,QAAQ,CAAChC,CAAD,CAAT,GAAgBQ,IAAI,CAACyB,EAArB,GAA0B,OAA1B,GAAoC,KAA3C;AACH,OAzBO,CAAZ,CA/D0B,CAyF1B;;AACA,UAAIE,QAAQ,GAAG,SAAXA,QAAW,CAAUnC,CAAV,EAAa;AACxB,eAAQ,MAAMQ,IAAI,CAACyB,EAAX,IAAiBjC,CAAC,CAACoC,UAAF,GAAepC,CAAC,CAACqC,QAAlC,IAA8C,CAA9C,GAAkD,EAA1D;AACH,OAFD,CA1F0B,CA6F1B;AACA;;;AACA,UAAIC,QAAQ,GAAGpB,GAAG,CAACK,MAAJ,CAAW,QAAX,EACVE,SADU,CACA,UADA,EAEV9B,IAFU,CAELe,GAFK,EAGVgB,KAHU,GAGFP,MAHE,CAGK,UAHL,EAIVC,IAJU,CAIL,GAJK,EAIA,UAASpB,CAAT,EAAWuC,CAAX,EAAa;AAAE,eAAQA,CAAC,GAAG,KAAJ,GAAW,EAAnB;AAAwB,OAJvC,EAKVnB,IALU,CAKL,QALK,EAKK,UAASpB,CAAT,EAAY;AAEpB;AACA,YAAI8B,GAAG,GAAGd,QAAQ,CAACe,QAAT,CAAkB/B,CAAlB,CAAV;AACA8B,QAAAA,GAAG,CAAC,CAAD,CAAH,GAASvB,MAAM,GAAG,IAAT,IAAiByB,QAAQ,CAAChC,CAAD,CAAR,GAAcQ,IAAI,CAACyB,EAAnB,GAAwB,CAAxB,GAA4B,CAAC,CAA9C,CAAT;AACA,eAAO,CAACpB,GAAG,CAACkB,QAAJ,CAAa/B,CAAb,CAAD,EAAkBgB,QAAQ,CAACe,QAAT,CAAkB/B,CAAlB,CAAlB,EAAwC8B,GAAxC,CAAP;AACH,OAXM,CAAf,CA/F0B,CA6G1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACAvD,MAAAA,EAAE,CAACkD,SAAH,CAAa,+BAAb,EAA8Ce,IAA9C,CAAmDC,OAAnD,EAzL0B,CA0L1B;AACI;AACJ;AACA;AAEA;;AACA,eAAST,QAAT,CAAkBhC,CAAlB,EAAqB;AAAE,eAAOA,CAAC,CAACoC,UAAF,GAAe,CAACpC,CAAC,CAACqC,QAAF,GAAarC,CAAC,CAACoC,UAAhB,IAA8B,CAApD;AAAwD,OAhMrD,CAkM1B;;;AACA,eAASK,OAAT,CAAiBhD,SAAjB,EAA4B;AAExB;AACAA,QAAAA,SAAS,CAACiD,EAAV,CAAa,YAAb,EAA2B,UAAU/C,IAAV,EAAgB;AAEvCuB,UAAAA,GAAG,CAACC,MAAJ,CAAW,MAAX,EACKC,IADL,CACU,OADV,EACmB,YADnB,EAEKA,IAFL,CAEU,IAFV,EAEgB,CAAC,EAFjB,EAEqB;AAFrB,WAGKQ,IAHL,CAGUe,WAAW,CAAChD,IAAD,CAHrB,EAG6B;AAH7B,WAIKuC,KAJL,CAIW,WAJX,EAIwB,MAJxB,EAKKA,KALL,CAKW,aALX,EAK0B,QAL1B,EAFuC,CAOF;;AAErChB,UAAAA,GAAG,CAACC,MAAJ,CAAW,QAAX,EACKC,IADL,CACU,OADV,EACmB,YADnB,EAEKA,IAFL,CAEU,GAFV,EAEeb,MAAM,GAAG,IAFxB,EAE8B;AAF9B,WAGK2B,KAHL,CAGW,MAHX,EAGmBtC,MAAM,CAACD,IAAI,CAACA,IAAL,CAAUT,QAAV,CAAD,CAHzB,EAGgD;AAHhD,WAIKgD,KAJL,CAIW,cAJX,EAI2B,IAJ3B;AAMH,SAfD,EAHwB,CAoBxB;;AACAzC,QAAAA,SAAS,CAACiD,EAAV,CAAa,UAAb,EAAyB,YAAY;AACjCnE,UAAAA,EAAE,CAACkD,SAAH,CAAa,aAAb,EAA4BmB,MAA5B;AACH,SAFD;AAGH,OA3NyB,CA6N1B;AACA;;;AACA,eAASD,WAAT,CAAqBhD,IAArB,EAA2B;AAEvB,YAAIkD,GAAG,GAAG,EAAV;AAAA,YACIN,CAAC,GAAK,CADV;;AAGA,aAAK,IAAIO,GAAT,IAAgBnD,IAAI,CAACA,IAArB,EAA2B;AACvB;AACA;AACA,cAAIgB,KAAK,GAAIhB,IAAI,CAACA,IAAL,CAAUmD,GAAV,CAAb,CAHuB,CAKvB;AACA;;AACA,cAAIP,CAAC,KAAK,CAAV,EAAaM,GAAG,IAAI,kBAAkBC,GAAlB,GAAwB,IAAxB,GAA+BnC,KAA/B,GAAuC,UAA9C,CAAb,KACKkC,GAAG,IAAI,6BAA6BC,GAA7B,GAAmC,IAAnC,GAA0CnC,KAA1C,GAAkD,UAAzD;AACL4B,UAAAA,CAAC;AACJ;;AAED,eAAOM,GAAP;AACH,OAjPyB,CAkP1B;;AAEH,KApPD;AAqPH,GAzQiB,CA2QlB;;;AACArD,EAAAA,KAAK,CAACd,KAAN,GAAc,UAASiC,KAAT,EAAgB;AAC1B,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAO3B,KAAP;AACvBA,IAAAA,KAAK,GAAGiC,KAAR;AACA,WAAOnB,KAAP;AACH,GAJD;;AAMAA,EAAAA,KAAK,CAACb,MAAN,GAAe,UAASgC,KAAT,EAAgB;AAC3B,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAO1B,MAAP;AACvBA,IAAAA,MAAM,GAAGgC,KAAT;AACA,WAAOnB,KAAP;AACH,GAJD;;AAMAA,EAAAA,KAAK,CAACZ,MAAN,GAAe,UAAS+B,KAAT,EAAgB;AAC3B,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOzB,MAAP;AACvBA,IAAAA,MAAM,GAAG+B,KAAT;AACA,WAAOnB,KAAP;AACH,GAJD,CAxRkB,CA8RlB;AACA;AACA;AACA;AACA;;;AACAA,EAAAA,KAAK,CAACe,MAAN,GAAe,UAASI,KAAT,EAAgB;AAC3B,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOE,MAAP;AACvBA,IAAAA,MAAM,GAAGI,KAAT;AACA,WAAOnB,KAAP;AACH,GAJD;;AAMAA,EAAAA,KAAK,CAACL,QAAN,GAAiB,UAASwB,KAAT,EAAgB;AAC7B,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOlB,QAAP;AACvBA,IAAAA,QAAQ,GAAGwB,KAAX;AACA,WAAOnB,KAAP;AACH,GAJD;;AAMAA,EAAAA,KAAK,CAACF,YAAN,GAAqB,UAASqB,KAAT,EAAgB;AACjC,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOf,YAAP;AACvBA,IAAAA,YAAY,GAAGqB,KAAf;AACA,WAAOnB,KAAP;AACH,GAJD;;AAMAA,EAAAA,KAAK,CAACI,MAAN,GAAe,UAASe,KAAT,EAAgB;AAC3B,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOT,MAAP;AACvBA,IAAAA,MAAM,GAAGe,KAAT;AACA,WAAOnB,KAAP;AACH,GAJD;;AAMAA,EAAAA,KAAK,CAACP,QAAN,GAAiB,UAAS0B,KAAT,EAAgB;AAC7B;AACA,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOpB,QAAP;AACvBA,IAAAA,QAAQ,GAAG0B,KAAX;AACA,WAAOnB,KAAP;AACH,GALD;;AAOAA,EAAAA,KAAK,CAACN,QAAN,GAAiB,UAASyB,KAAT,EAAgB;AAC7B;AACA,QAAI,CAACoC,SAAS,CAAC1C,MAAf,EAAuB,OAAOnB,QAAP;AACvBA,IAAAA,QAAQ,GAAGyB,KAAX;AACA,WAAOnB,KAAP;AACH,GALD;;AAOA,SAAOA,KAAP;AACH","sourcesContent":["import { values } from \"d3\";\n\nconst d3 = require(\"d3\");\n\nexport {\n    donutChart\n}\n\n\nfunction donutChart() {\n    // var vm = thi\n    var width,\n        height,\n        margin = {top: 160, right: 10, bottom: 10, left: 30},\n        // colour = d3.scaleOrdinal(d3.schemeCategory10), // colour scheme\n        variable, // value in data that will dictate proportions on chart\n        category, // compare data by\n        padAngle, // effectively dictates the gap between slices\n        floatFormat = d3.format('.4r'),\n        cornerRadius, // sets how rounded the corners are on each slice\n        percentFormat = d3.format(',.2%');\n\n    //      const colour = d3.scaleOrdinal()\n        //  .domain(this.data.map(d => d[vm.xKey]))\n        //  .range(d3.quantize(t => d3.interpolateSpectral  (t * 0.8 + 0.1), 20).reverse());\n\n    function chart(selection){\n        // console.log(selection);\n        \n        selection.each(function(data) {\n            const colour = d3.scaleOrdinal()\n            .domain(data.map( d => d[variable]))\n            .range(d3.quantize(t => d3.interpolateSpectral  (t * 0.8 + 0.1), data.length).reverse());\n            // generate chart\n\n            // ===========================================================================================\n            // Set up constructors for making donut. See https://github.com/d3/d3-shape/blob/master/README.md\n            var radius = Math.min(width, height) / 2.6;\n\n            // creates a new pie generator\n            var pie = d3.pie()\n                .value(function(d) {return d[variable]; })\n                // .value(function(d) { console.log(d,variable);return floatFormat(d[variable]); })\n                .sort(null);\n\n            // contructs and arc generator. This will be used for the donut. The difference between outer and inner\n            // radius will dictate the thickness of the donut\n            // console.log(radius)\n            var arc = d3.arc()\n                .outerRadius(radius * 0.7)\n                .innerRadius(radius * 0.4)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle);\n\n            // this arc is used for aligning the text labels\n            var outerArc = d3.arc()\n                .outerRadius(radius * 2)\n                .innerRadius(radius * 0.2);\n            var outerArctext = d3.arc()\n                .outerRadius(radius * 2)\n                .innerRadius(radius * 0.2);\n            // ===========================================================================================\n\n            // ===========================================================================================\n            // append the svg object to the selection\n            var svg = selection.append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n              .append('g')\n                .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n            // ===========================================================================================\n\n            // ===========================================================================================\n            // g elements to keep elements within svg modular\n            svg.append('g').attr('class', 'slices');\n            svg.append('g').attr('class', 'labelName');\n           var linesss=  svg.append('g').attr('class', 'lines');\n           svg.append('g').attr('class', 'labels');\n            // ===========================================================================================\n\n            // ===========================================================================================\n            // add and colour the donut slices\n            var path = svg.select('.slices')\n                .datum(data).selectAll('path')\n                .data(pie)\n              .enter().append('path')\n                .attr('fill', function(d) { return colour(d.data[category]); })\n                .attr('d', arc);\n            // ===========================================================================================\n\n            // ===========================================================================================\n            // add text labels\n            var label = svg.select('.labelName').selectAll('text')\n                .data(pie)\n                .enter().append('text')\n                .attr('dy', '.25em')\n                // .attr('dy', function(d,i){ return (i * 15.34 +10) } )\n                // .attr('x', '.25em')\n                // .attr('y', '.25em')\n                .html(function(d) {\n                    // add \"key: value\" for given category. Number inside tspan is bolded in stylesheet.\n                    return d.data[category] + ': <tspan>' + (d.data[variable]).toFixed(2) + '</tspan>';\n                })\n                .attr('transform', function(d) {\n\n                    // effectively computes the centre of the slice.\n                    // see https://github.com/d3/d3-shape/blob/master/README.md#arc_centroid\n                    var pos = outerArc.centroid(d);\n\n                    // changes the point to be on left or right depending on where label is.\n                    pos[0] = radius * 0.95 * (midAngle(d) < Math.PI ? 1 : -1);\n                    // return 'translate(' + pos + ')' + \"rotate(\" + getAngle(d) + \")\";;\n                    return 'translate(' + pos + ')';\n                })\n                .style('text-anchor', function(d) {\n                    // if slice centre is on the left, anchor text to start, otherwise anchor to end\n                    return (midAngle(d)) < Math.PI ? 'start' : 'end';\n                });\n            // ===========================================================================================\n            var getAngle = function (d) {\n                return (180 / Math.PI * (d.startAngle + d.endAngle) / 2 - 90);\n            };\n            // ===========================================================================================\n            // add lines connecting labels to slice. A polyline creates straight lines connecting several points\n            var polyline = svg.select('.lines')\n                .selectAll('polyline')\n                .data(pie)\n                .enter().append('polyline')\n                .attr('y', function(d,i){ return (i * 15.34 +10) } )\n                .attr('points', function(d) {\n                            \n                        // see label transform function for explanations of these three lines.\n                        var pos = outerArc.centroid(d);\n                        pos[0] = radius * 0.95 * (midAngle(d) < Math.PI ? 1 : -1);\n                        return [arc.centroid(d), outerArc.centroid(d), pos]\n                    });\n            \n\n            // ===========================================================================================\n            // var labels = d3.select(\"#labels\");\n            // var enteringLabels = labels.selectAll(\".label\").data(pie).enter();\n            // var labelGroups = enteringLabels.append(\"g\").attr(\"class\", \"label\");\n            // labelGroups.append(\"circle\").attr({\n            //     x: 0,\n            //     y: 0,\n            //     r: 2,\n            //     fill: \"#000\",\n            //     transform: function (d, i) {\n            //     var centroid = pie.centroid(d);\n            //         return \"translate(\" + pie.centroid(d) + \")\";\n            //     },\n            //         'class': \"label-circle\"\n            // });\n        \n            // // \"When am I ever going to use this?\" I said in \n            // // 10th grade trig.\n            // var textLines = labelGroups.append(\"line\").attr({\n            //     x1: function (d, i) {\n            //         // return pied_arc.centroid(d)[0];\n            //         var centroid = pie.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //         var x = Math.cos(midAngle) * cDim.outerRadius;\n            //         return x;\n            //     },\n            //     y1: function (d, i) {\n            //         // return pied_arc.centroid(d)[1];\n            //         var centroid = pie.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //         var y = Math.sin(midAngle) * cDim.outerRadius;\n            //         return y;\n            //     },\n            //     x2: function (d, i) {\n            //         var centroid = pie.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //         var x = Math.cos(midAngle) * cDim.labelRadius;\n            //         return x;\n            //     },\n            //     y2: function (d, i) {\n            //         var centroid = pie.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //     var y = Math.sin(midAngle) * cDim.labelRadius;\n            //         return y;\n            //     },\n            //         'class': \"label-line\"\n            // });\n        \n            // var textLabels = labelGroups.append(\"text\").attr({\n            //     x: function (d, i) {\n            //         var centroid = pied_arc.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //         var x = Math.cos(midAngle) * cDim.labelRadius;\n            //         var sign = (x > 0) ? 1 : -1\n            //         var labelX = x + (5 * sign)\n            //         return labelX;\n            //     },\n            //     y: function (d, i) {\n            //         var centroid = pied_arc.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //         var y = Math.sin(midAngle) * (radius * 0.7);\n            //         return y;\n            //     },\n            //         'text-anchor': function (d, i) {\n            //         var centroid = pied_arc.centroid(d);\n            //         var midAngle = Math.atan2(centroid[1], centroid[0]);\n            //         var x = Math.cos(midAngle) * (radius * 0.5)\n            //         return (x > 0) ? \"start\" : \"end\";\n            //     },\n            //         'class': 'label-text'\n            // }).text(function (d) {\n            //     return d\n            // });\n        \n            // ===========================================================================================\n            // add tooltip to mouse events on slices and labels\n            d3.selectAll('.labelName text, .slices path').call(toolTip);\n            // ===========================================================================================\n                // d3.select(\".labelName\")\n            // ===========================================================================================\n            // Functions\n\n            // calculates the angle for the middle of a slice\n            function midAngle(d) { return d.startAngle + (d.endAngle - d.startAngle) / 2; }\n\n            // function that creates and adds the tool tip to a selected element\n            function toolTip(selection) {\n\n                // add tooltip (svg circle element) when mouse enters label or slice\n                selection.on('mouseenter', function (data) {\n\n                    svg.append('text')\n                        .attr('class', 'toolCircle')\n                        .attr('dy', -15) // hard-coded. can adjust this to adjust text vertical alignment in tooltip\n                        .html(toolTipHTML(data)) // add text to the circle.\n                        .style('font-size', '.9em')\n                        .style('text-anchor', 'middle'); // centres text in tooltip\n\n                    svg.append('circle')\n                        .attr('class', 'toolCircle')\n                        .attr('r', radius * 0.25) // radius of tooltip circle\n                        .style('fill', colour(data.data[category])) // colour based on category mouse is over\n                        .style('fill-opacity', 0.35);\n\n                });\n\n                // remove the tooltip when mouse leaves the slice/label\n                selection.on('mouseout', function () {\n                    d3.selectAll('.toolCircle').remove();\n                });\n            }\n\n            // function to create the HTML string for the tool tip. Loops through each key in data object\n            // and returns the html string key: value\n            function toolTipHTML(data) {\n\n                var tip = '',\n                    i   = 0;\n\n                for (var key in data.data) {\n                    // console.log(key,data)\n                    // if value is a number, format it as a percentage\n                    var value =  data.data[key];\n\n                    // leave off 'dy' attr for first tspan so the 'dy' attr on text element works. The 'dy' attr on\n                    // tspan effectively imitates a line break.\n                    if (i === 0) tip += '<tspan x=\"0\">' + key + ': ' + value + '</tspan>';\n                    else tip += '<tspan x=\"0\" dy=\"1.2em\">' + key + ': ' + value + '</tspan>';\n                    i++;\n                }\n\n                return tip;\n            }\n            // ===========================================================================================\n\n        });\n    }\n\n    // getter and setter functions. See Mike Bostocks post \"Towards Reusable Charts\" for a tutorial on how this works.\n    chart.width = function(value) {\n        if (!arguments.length) return width;\n        width = value;\n        return chart;\n    };\n\n    chart.height = function(value) {\n        if (!arguments.length) return height;\n        height = value;\n        return chart;\n    };\n\n    chart.margin = function(value) {\n        if (!arguments.length) return margin;\n        margin = value;\n        return chart;\n    };\n\n    // chart.radius = function(value) {\n    //     if (!arguments.length) return radius;\n    //     radius = value;\n    //     return chart;\n    // };\n    chart.radius = function(value) {\n        if (!arguments.length) return radius;\n        radius = value;\n        return chart;\n    };\n\n    chart.padAngle = function(value) {\n        if (!arguments.length) return padAngle;\n        padAngle = value;\n        return chart;\n    };\n\n    chart.cornerRadius = function(value) {\n        if (!arguments.length) return cornerRadius;\n        cornerRadius = value;\n        return chart;\n    };\n\n    chart.colour = function(value) {\n        if (!arguments.length) return colour;\n        colour = value;\n        return chart;\n    };\n\n    chart.variable = function(value) {\n        // console.log(value,\"var\");\n        if (!arguments.length) return variable;\n        variable = value;\n        return chart;\n    };\n\n    chart.category = function(value) {\n        // console.log(value,\"cate\");\n        if (!arguments.length) return category;\n        category = value;\n        return chart;\n    };\n\n    return chart;\n}"]}]}