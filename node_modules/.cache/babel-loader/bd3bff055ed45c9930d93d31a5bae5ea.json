{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/FileUploadBI.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/FileUploadBI.vue","mtime":1643027096172},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3ZpbWFsZXNoL0NFTlNFL2NoYXRib3QtcG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS92aW1hbGVzaC9DRU5TRS9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93X2xvYWRlcjogZmFsc2UsCiAgICAgIHNwaW5uZXJPbjogZmFsc2UsCiAgICAgIGNvbHVtbnM6IFtdLAogICAgICBtZXRyaWNzOiBbXSwKICAgICAgZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgaXNfZmlsZV91cGxvYWRlZDogZmFsc2UsCiAgICAgIG5ld2NvbHVtbnM6IFtdLAogICAgICBpc2NvbHVtbnNuYW1lY2hhbmdlZDogZmFsc2UsCiAgICAgIG9iamVjdF9uYW1lOiAiIiwKICAgICAgbWV0cmljc2RhdGE6ICIiLAogICAgICBpc21ldHJpY3NzYXZlZDogZmFsc2UsCiAgICAgIGRhdGFzZXRfbmFtZTogIiIsCiAgICAgIGZpbGU6IG51bGwsCiAgICAgIG5ld2NvbHVtbnNjb21wbGV0ZTogW10sCiAgICAgIGNvbHVtbl9kZXRhaWxzOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdlbmVyYXRlVVVJRDogZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkgewogICAgICAvLyBQdWJsaWMgRG9tYWluL01JVAogICAgICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAvL1RpbWVzdGFtcAoKICAgICAgdmFyIGQyID0gcGVyZm9ybWFuY2UgJiYgcGVyZm9ybWFuY2Uubm93ICYmIHBlcmZvcm1hbmNlLm5vdygpICogMTAwMCB8fCAwOyAvL1RpbWUgaW4gbWljcm9zZWNvbmRzIHNpbmNlIHBhZ2UtbG9hZCBvciAwIGlmIHVuc3VwcG9ydGVkCgogICAgICByZXR1cm4gInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykgewogICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2OyAvL3JhbmRvbSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxNgoKICAgICAgICBpZiAoZCA+IDApIHsKICAgICAgICAgIC8vVXNlIHRpbWVzdGFtcCB1bnRpbCBkZXBsZXRlZAogICAgICAgICAgciA9IChkICsgcikgJSAxNiB8IDA7CiAgICAgICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL1VzZSBtaWNyb3NlY29uZHMgc2luY2UgcGFnZS1sb2FkIGlmIHN1cHBvcnRlZAogICAgICAgICAgciA9IChkMiArIHIpICUgMTYgfCAwOwogICAgICAgICAgZDIgPSBNYXRoLmZsb29yKGQyIC8gMTYpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChjID09PSAieCIgPyByIDogciAmIDB4MyB8IDB4OCkudG9TdHJpbmcoMTYpOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0dmFsdWU6IGZ1bmN0aW9uIGVkaXR2YWx1ZShpbmRleCkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXQiICsgaW5kZXgpLmRpc2FibGVkID0gIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dCIgKyBpbmRleCkuZGlzYWJsZWQ7CiAgICB9LAogICAgZ2V0RmlsZTogZnVuY3Rpb24gZ2V0RmlsZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGZpbGVuYW1lID0gIiI7CiAgICAgIHZhciBmaWxlZGF0YSA9ICIiOwogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB0aGlzLmZpbGVfbGFiZWwgPSBmaWxlLm5hbWU7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpOwoKICAgICAgaWYgKGZpbGUudHlwZSAhPSAidGV4dC9jc3YiKSB7CiAgICAgICAgU3dhbCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGV4dDogIk9ubHkgQ1NWIGZpbGVzIGNhbiBiZSB1cGxvYWRlZC4iLAogICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICB9KTsKICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOyAvLyBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIC8vIGZpbGVuYW1lID0gZmlsZS5uYW1lOwogICAgICAgIC8vIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgIC8vIHJlYWRlci5vbmxvYWRzdGFydCA9ICgpID0+IHsKICAgICAgICAvLyAgIC8vIHRoaXMuJHJvb3QuJGVtaXQoJ3Nob3dfbG9hZGVyJywgdHJ1ZSk7CiAgICAgICAgLy8gfTsKICAgICAgICAvLyByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgIC8vICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgICAvLyAgIGZpbGVkYXRhID0gcmVhZGVyLnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICAgIC8vIH07CiAgICAgICAgLy8gcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHsKICAgICAgICAvLyAgIHZhciB4ID0gZmlsZWRhdGEuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgICAvLyAgIHZhciB0ZW1wX3V1aWQgPSAiIjsKICAgICAgICAvLyAgIHRlbXBfdXVpZCA9IHRoaXMuZ2VuZXJhdGVVVUlEKCk7CiAgICAgICAgLy8gICB2YXIgdXNlcl9kZXRhaWxzID0gewogICAgICAgIC8vICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIC8vICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAvLyAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgIC8vICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAvLyAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAvLyAgICAgaWRlbXBvdGVuY3lfa2V5OiB0ZW1wX3V1aWQsCiAgICAgICAgLy8gICAgIGRhdGFzZXRfbmFtZTogdGhpcy5kYXRhc2V0X25hbWUKICAgICAgICAvLyAgIH07CiAgICAgICAgLy8gICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHVzZXJfZGV0YWlscyk7CiAgICAgICAgLy8gICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtqc29uXSwgewogICAgICAgIC8vICAgICB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICAvLyAgIH0pOwogICAgICAgIC8vICAgY29uc3QgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAvLyAgIGZkLmFwcGVuZCgiZmlsZSIsIGZpbGUsIGZpbGVuYW1lKTsKICAgICAgICAvLyAgIGZkLmFwcGVuZCgianNvbiIsIGJsb2IpOwogICAgICAgIC8vICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIC8vICAgYXhpb3MKICAgICAgICAvLyAgICAgLnBvc3QoYXBpX2NhbGxzLmJpX3VwbG9hZF9maWxlKCksIGZkKQogICAgICAgIC8vICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy8gICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgIC8vICAgICAgICAgZm9yICgKICAgICAgICAvLyAgICAgICAgICAgbGV0IGkgPSAwOwogICAgICAgIC8vICAgICAgICAgICBpIDwgcmVzcG9uc2UuZGF0YS5maWxlX2RldGFpbHMuY29sdW1ucy5sZW5ndGg7CiAgICAgICAgLy8gICAgICAgICAgIGkrKwogICAgICAgIC8vICAgICAgICAgKSB7CiAgICAgICAgLy8gICAgICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHsKICAgICAgICAvLyAgICAgICAgICAgICBuYW1lOiByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zW2ldLAogICAgICAgIC8vICAgICAgICAgICAgIG5ld25hbWU6IHJlc3BvbnNlLmRhdGEuZmlsZV9kZXRhaWxzLmNvbHVtbnNbaV0KICAgICAgICAvLyAgICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgLy8gICAgICAgICAvLyAgIHRoaXMuY29sdW1ucyA9IHJlc3BvbnNlLmRhdGEuZmlsZV9kZXRhaWxzLmNvbHVtbnM7CiAgICAgICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgIC8vICAgICAgICAgdGhpcy5pc19maWxlX3VwbG9hZGVkID0gdHJ1ZTsKICAgICAgICAvLyAgICAgICAgIHRoaXMub2JqZWN0X25hbWUgPSByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5vYmplY3RfbmFtZTsKICAgICAgICAvLyAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgLy8gICAgICAgICAgIHRpdGxlOiAiRmlsZSBVcGxvYWRlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgIC8vICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAvLyAgICAgICAgIH0pOwogICAgICAgIC8vICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgIT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAvLyAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgLy8gICAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgIC8vICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAvLyAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vICAgICAgICAgLy8gJHJvdXRlci5nbygpOwogICAgICAgIC8vICAgICAgICAgLy8gfSwgMTAwMCk7CiAgICAgICAgLy8gICAgICAgfQogICAgICAgIC8vICAgICB9KQogICAgICAgIC8vICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAvLyAgICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgLy8gICAgICAgU3dhbC5maXJlKHsKICAgICAgICAvLyAgICAgICAgIHRpdGxlOiAiU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiEiLAogICAgICAgIC8vICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIC8vICAgICAgIH0pOwogICAgICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgLy8gICAgIH0pOwogICAgICAgIC8vIH07CiAgICAgIH0gLy8gcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHsKICAgICAgLy8gICB0aGlzLiRyb290LiRlbWl0KCdoaWRlX2xvYWRlcicsIHRydWUpOwogICAgICAvLyB9OwoKICAgIH0sCiAgICBhZGRtZXRyaWN2YWx1ZTogZnVuY3Rpb24gYWRkbWV0cmljdmFsdWUoKSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGRlYnVnZ2VyOwoKICAgICAgdGhpcy5tZXRyaWNzLnB1c2goewogICAgICAgIG5hbWU6IG51bGwsCiAgICAgICAgb3BlcmF0aW9uOiAibnVsbCIsCiAgICAgICAgLy8gY29sdW1uMTogbnVsbCwKICAgICAgICAvLyBjb2x1bW4yOiBudWxsLAogICAgICAgIGNvbHVtbjogbnVsbAogICAgICB9KTsgLy8gICBjb25zb2xlLmxvZyh0aGlzLm1ldHJpY3MpOwogICAgfSwKICAgIGRlbGV0ZWhlYWRlcjogZnVuY3Rpb24gZGVsZXRlaGVhZGVyKHZhbHVlaW5kZXgpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsdWVpbmRleCx0aGlzLnNlbGVjdGVkbm9kZSk7CiAgICAgIHRoaXMubWV0cmljcy5zcGxpY2UodmFsdWVpbmRleCwgMSk7IC8vIHRoaXMudmFsdWUuc3BsaWNlKHZhbHVlaW5kZXgsIDEpOwogICAgfSwKICAgIGVkaXRjb2x1bW5zOiBmdW5jdGlvbiBlZGl0Y29sdW1ucygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiIFlvdSB3YW50IHRvIEVkaXQgdGhlIENvbHVtbnM/IiwKICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgIC8vIHRoaXMubmV3Y29sdW1ucyA9IHRoaXMuY29sdW1ucwogICAgICAgICAgdmFyIG5ld2NvbHVtbnNkYXRhID0gW107CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIG5ld2NvbHVtbnNkYXRhLnB1c2goewogICAgICAgICAgICAgIG5hbWU6IF90aGlzLmNvbHVtbnNbaV0ubmFtZSwKICAgICAgICAgICAgICBuZXduYW1lOiBfdGhpcy5jb2x1bW5zW2ldLm5ld25hbWUsCiAgICAgICAgICAgICAgZGF0YV90eXBlOiBfdGhpcy5jb2x1bW5zW2ldLmRhdGFfdHlwZSwKICAgICAgICAgICAgICBjb2x1bW5fdHlwZTogIk1ldHJpYyIsCiAgICAgICAgICAgICAgYWRkaXRpdmU6IGZhbHNlLAogICAgICAgICAgICAgIGFnZ3JlZ2F0aW9uOiAiU1VNIiwKICAgICAgICAgICAgICBoaWRkZW46IGZhbHNlLAogICAgICAgICAgICAgIG5scF9zZWFyY2hfZW5hYmxlZDogZmFsc2UsCiAgICAgICAgICAgICAgc3lub255bXM6ICIiLAogICAgICAgICAgICAgIGluZGV4X3R5cGU6ICJERUZBVUxUIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gLy8gY29uc29sZS5sb2cobmV3Y29sdW1uc2RhdGEpOwoKCiAgICAgICAgICB2YXIgb2JqZWN0ID0gbmV3Y29sdW1uc2RhdGEucmVkdWNlKGZ1bmN0aW9uIChvYmosIGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqLCBfZGVmaW5lUHJvcGVydHkoe30sIGl0ZW0ubmFtZSwgaXRlbS5uZXduYW1lKSk7CiAgICAgICAgICB9LCB7fSk7IC8vIGNvbnNvbGUubG9nKG9iamVjdCk7CgogICAgICAgICAgX3RoaXMubmV3Y29sdW1ucyA9IG9iamVjdDsKICAgICAgICAgIF90aGlzLm5ld2NvbHVtbnNjb21wbGV0ZSA9IG5ld2NvbHVtbnNkYXRhOwogICAgICAgICAgX3RoaXMuaXNjb2x1bW5zbmFtZWNoYW5nZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkbWV0cmljczogZnVuY3Rpb24gYWRkbWV0cmljcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBTd2FsLmZpcmUoewogICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgdGV4dDogIiBZb3Ugd2FudCB0byBhZGQgdGhlc2UgbWV0cmljcz8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgX3RoaXMyLm1ldHJpY3NkYXRhID0gW107CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczIubWV0cmljcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfdGhpczIubWV0cmljc2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogX3RoaXMyLm1ldHJpY3NbaV0ubmFtZSwKICAgICAgICAgICAgICBjb2x1bW46IF90aGlzMi5tZXRyaWNzW2ldLmNvbHVtbiwKICAgICAgICAgICAgICBvcGVyYXRpb246IF90aGlzMi5tZXRyaWNzW2ldLm9wZXJhdGlvbiAvLyBvbjogW3RoaXMubWV0cmljc1tpXS5jb2x1bW4xLCB0aGlzLm1ldHJpY3NbaV0uY29sdW1uMl0KCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi5pc21ldHJpY3NzYXZlZCA9IHRydWU7CiAgICAgICAgfSAvLyBjb25zb2xlLmxvZyh0aGlzLm1ldHJpY3NkYXRhKTsKCiAgICAgIH0pOwogICAgfSwKICAgIGZpbmFsc2F2ZTogZnVuY3Rpb24gZmluYWxzYXZlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubmV3Y29sdW1ucyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWV0cmljcyk7CiAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYmlfcHJvY2Vzc19kYXRhKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIG9iamVjdF9uYW1lOiB0aGlzLm9iamVjdF9uYW1lLAogICAgICAgIGNvbHVtbl9yZW5hbWVfbWFwcGluZzogdGhpcy5uZXdjb2x1bW5zLAogICAgICAgIGRhdGFzZXRfbmFtZTogdGhpcy5kYXRhc2V0X25hbWUsCiAgICAgICAgbWV0cmljczogdGhpcy5tZXRyaWNzZGF0YSwKICAgICAgICB3b3Jrc2hlZXRfZGV0YWlsczogdGhpcy5jb2x1bW5fZGV0YWlscwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09ICJTdWNjZXNzIikgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6ICJEYXRhIFByb2Nlc3NlZCBTdWNjZXNzZnVsbHkiLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLCBQbGVhc2UgVHJ5IEFnYWluISIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRmaWxlOiBmdW5jdGlvbiB1cGxvYWRmaWxlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YXNldF9uYW1lKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5maWxlKTsKCiAgICAgIHZhciBmaWxlbmFtZSA9ICIiOwogICAgICB2YXIgZmlsZWRhdGEgPSAiIjsKICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIGZpbGVuYW1lID0gdGhpcy5maWxlLm5hbWU7CiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZSk7CgogICAgICByZWFkZXIub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoKSB7Ly8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgICBmaWxlZGF0YSA9IHJlYWRlci5yZXN1bHQuc3BsaXQoImJhc2U2NCwiKVsxXTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHggPSBmaWxlZGF0YS5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICAgIHZhciB0ZW1wX3V1aWQgPSAiIjsKICAgICAgICB0ZW1wX3V1aWQgPSBfdGhpczQuZ2VuZXJhdGVVVUlEKCk7CiAgICAgICAgdmFyIHVzZXJfZGV0YWlscyA9IHsKICAgICAgICAgIGVtYWlsOiBfdGhpczQuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHRva2VuOiBfdGhpczQuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBjb21wYW55X25hbWU6IF90aGlzNC4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGNvbXBhbnlfaWQ6IF90aGlzNC4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXM0LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICBpZGVtcG90ZW5jeV9rZXk6IHRlbXBfdXVpZCwKICAgICAgICAgIGRhdGFzZXRfbmFtZTogX3RoaXM0LmRhdGFzZXRfbmFtZQogICAgICAgIH07CiAgICAgICAgdmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeSh1c2VyX2RldGFpbHMpOwogICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2pzb25dLCB7CiAgICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICB9KTsKICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmZC5hcHBlbmQoImZpbGUiLCBfdGhpczQuZmlsZSwgZmlsZW5hbWUpOwogICAgICAgIGZkLmFwcGVuZCgianNvbiIsIGJsb2IpOwogICAgICAgIF90aGlzNC5zcGlubmVyT24gPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKGZkKTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5iaV91cGxvYWRfZmlsZSgpLCBmZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgX3RoaXM0LmNvbHVtbnMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zW2ldLAogICAgICAgICAgICAgICAgbmV3bmFtZTogcmVzcG9uc2UuZGF0YS5maWxlX2RldGFpbHMuY29sdW1uc1tpXQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IF90aGlzNC5jb2x1bW5zLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhyZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5kYXRhX3R5cGVzKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksCiAgICAgICAgICAgICAgICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gX3RoaXM0LmNvbHVtbnNba10ubmFtZSkgewogICAgICAgICAgICAgICAgICBfdGhpczQuY29sdW1uc1trXS5kYXRhX3R5cGUgPSB2YWx1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gLy8gY29uc29sZS5sb2codGhpcy5jb2x1bW5zKTsKICAgICAgICAgICAgLy8gICB0aGlzLmNvbHVtbnMgPSByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5jb2x1bW5zOwoKCiAgICAgICAgICAgIF90aGlzNC5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXM0LmlzX2ZpbGVfdXBsb2FkZWQgPSB0cnVlOwogICAgICAgICAgICBfdGhpczQub2JqZWN0X25hbWUgPSByZXNwb25zZS5kYXRhLmZpbGVfZGV0YWlscy5vYmplY3RfbmFtZTsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogIkZpbGUgVXBsb2FkZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzICE9ICJTdWNjZXNzIikgewogICAgICAgICAgICBfdGhpczQuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgICAgIF90aGlzNC5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQsIFBsZWFzZSBUcnkgQWdhaW4hIiwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOyAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgLy8gJHJvdXRlci5nbygpOwogICAgICAgICAgICAvLyB9LCAxMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpczQuZmlsZV9sYWJlbCA9ICJDaG9vc2UgZmlsZSI7CiAgICAgICAgICBfdGhpczQuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQsIFBsZWFzZSBUcnkgQWdhaW4hIiwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pOwogICAgICAgICAgY29uc29sZS5sb2coZXJyLCAid0VlZWVlIik7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgc2F2ZV9jb2x1bW5fZGF0YTogZnVuY3Rpb24gc2F2ZV9jb2x1bW5fZGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm5ld2NvbHVtbnNjb21wbGV0ZSk7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiIFlvdSB3YW50IHRvIGFkZCB0aGVzZSB3b3Jrc2hlZXQgZGV0YWlscz8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgdmFyIGFycmF5ID0ge307CiAgICAgICAgICB2YXIgd29ya3NoZWV0X2RldGFpbHMgPSB7fTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzNS5uZXdjb2x1bW5zY29tcGxldGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdmFyIHRlbXAgPSBfdGhpczUubmV3Y29sdW1uc2NvbXBsZXRlW2ldOwogICAgICAgICAgICB0ZW1wLnN5bm9ueW1zID0gdGVtcC5zeW5vbnltcy5yZXBsYWNlKC8sL2csICc+PicpOwogICAgICAgICAgICB3b3Jrc2hlZXRfZGV0YWlsc1t0ZW1wLm5ld25hbWVdID0gewogICAgICAgICAgICAgICJkYXRhdHlwZSI6ICIiLmNvbmNhdCh0ZW1wLmRhdGFfdHlwZSksCiAgICAgICAgICAgICAgImNvbHVtbl90eXBlIjogIiIuY29uY2F0KHRlbXAuY29sdW1uX3R5cGUpLAogICAgICAgICAgICAgICJhZGRpdGl2ZSI6IHRlbXAuYWRkaXRpdmUsCiAgICAgICAgICAgICAgImFnZ3JlZ2F0aW9uIjogIiIuY29uY2F0KHRlbXAuYWdncmVnYXRpb24pLAogICAgICAgICAgICAgICJoaWRkZW4iOiB0ZW1wLmhpZGRlbiwKICAgICAgICAgICAgICAibmxwX3NlYXJjaF9lbmFibGVkIjogdGVtcC5ubHBfc2VhcmNoX2VuYWJsZWQsCiAgICAgICAgICAgICAgImluZGV4X3R5cGUiOiAiIi5jb25jYXQodGVtcC5pbmRleF90eXBlKSwKICAgICAgICAgICAgICAic3lub255bXMiOiAiIi5jb25jYXQodGVtcC5zeW5vbnltcyksCiAgICAgICAgICAgICAgImVudGl0eV9jYXRlZ29yeSI6ICIiLmNvbmNhdCh0ZW1wLmVudGl0eV9jYXRlZ29yeSkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGVtcC5zeW5vbnltcyA9IHRlbXAuc3lub255bXMucmVwbGFjZSgvPj4gL2csICcsJyk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2cod29ya3NoZWV0X2RldGFpbHMpOwogICAgICAgICAgX3RoaXM1LmNvbHVtbl9kZXRhaWxzID0gT2JqZWN0LmFzc2lnbih3b3Jrc2hlZXRfZGV0YWlscyk7CiAgICAgICAgfQogICAgICB9KTsgLy8gY29uc29sZS5sb2cod29ya3NoZWV0X2RldGFpbHMpOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNvbHVtbl9kZXRhaWxzKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gdmFyIGNvbHVtbnMgPSBbXTsKICAgIC8vIHZhciByZXNwY29sdW1ucyA9IFsiVElDS0VUIiwiVU5JVFMiLCJQUklDRSIsIlJFRkVSRU5DRSIsIkNPREUiLCJOQU1FIiwiUFJJQ0VCVVkiLCJQUklDRVNFTEwiLCJEQVRFTkVXIiwiUEFZTUVOVCIsIlRPVEFMIiwiVFJBTlNJRCIsIkNBVEVHT1JZIiwiU2FsZXMiXQogICAgLy8gdmFyIGR0eXBlcyA9IHsiVElDS0VUIjoic3RyIiwiVU5JVFMiOiJmbG9hdDY0IiwiUFJJQ0UiOiJmbG9hdDY0IiwiUkVGRVJFTkNFIjoiaW50NjQiLCJDT0RFIjoiZmxvYXQ2NCIsIk5BTUUiOiJzdHIiLCJQUklDRUJVWSI6ImZsb2F0NjQiLCJQUklDRVNFTEwiOiJmbG9hdDY0IiwiREFURU5FVyI6InN0ciIsIlBBWU1FTlQiOiJzdHIiLCJUT1RBTCI6ImZsb2F0NjQiLCJUUkFOU0lEIjoic3RyIiwiQ0FURUdPUlkiOiJzdHIiLCJTYWxlcyI6ImZsb2F0NjQifQogICAgLy8gZm9yIChsZXQgaSA9IDA7aSA8IHJlc3Bjb2x1bW5zLmxlbmd0aDtpKyspIHsKICAgIC8vICAgICAgICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHsKICAgIC8vICAgICAgICAgICAgICAgbmFtZTogcmVzcGNvbHVtbnNbaV0sCiAgICAvLyAgICAgICAgICAgICAgIG5ld25hbWU6IHJlc3Bjb2x1bW5zW2ldCiAgICAvLyAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgZm9yKGxldCBrPSAwOyBrPCB0aGlzLmNvbHVtbnMubGVuZ3RoOyBrICsrKXsKICAgIC8vICAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZHR5cGVzKSkgewogICAgLy8gICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYCR7a2V5fTogJHt2YWx1ZX0sICR7Y29sdW1uc1trXS5uYW1lICB9YCk7CiAgICAvLyAgICAgICAgICAgICAgICAgaWYoa2V5ID09IHRoaXMuY29sdW1uc1trXS5uYW1lKXsKICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uc1trXS5kYXRhX3R5cGUgPSAgdmFsdWUKICAgIC8vICAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICAgIHZhciBuZXdjb2x1bW5zZGF0YSA9IFtdOwogICAgLy8gICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnMubGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICAgICAgbmV3Y29sdW1uc2RhdGEucHVzaCh7CiAgICAvLyAgICAgICAgICAgbmFtZTogdGhpcy5jb2x1bW5zW2ldLm5hbWUsCiAgICAvLyAgICAgICAgICAgbmV3bmFtZTogdGhpcy5jb2x1bW5zW2ldLm5ld25hbWUsCiAgICAvLyAgICAgICAgICAgZGF0YV90eXBlIDogdGhpcy5jb2x1bW5zW2ldLmRhdGFfdHlwZSwKICAgIC8vICAgICAgICAgICBjb2x1bW5fdHlwZTogIk1ldHJpYyIsCiAgICAvLyAgICAgICAgICAgYWRkaXRpdmU6IGZhbHNlLAogICAgLy8gICAgICAgICAgIGFnZ3JlZ2F0aW9uOiAiU1VNIiwKICAgIC8vICAgICAgICAgICBoaWRkZW46ZmFsc2UsCiAgICAvLyAgICAgICAgICAgbmxwX3NlYXJjaF9lbmFibGVkOiBmYWxzZSwKICAgIC8vICAgICAgICAgICBzeW5vbnltczogIiIsCiAgICAvLyAgICAgICAgICAgaW5kZXhfdHlwZTogIkRFRkFVTFQiLAogICAgLy8gICAgICAgICAgIGVudGl0eV9jYXRlZ29yeTogIlBFUlNPTiIsCiAgICAvLyAgICAgICAgICAgY3VycmVuY3lfZm9ybWF0OiAiTk9ORSIsCiAgICAvLyAgICAgICAgIH0pOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgLy8gY29uc29sZS5sb2cobmV3Y29sdW1uc2RhdGEpOwogICAgLy8gICAgICAgdmFyIG9iamVjdCA9IG5ld2NvbHVtbnNkYXRhLnJlZHVjZSgKICAgIC8vICAgICAgICAgKG9iaiwgaXRlbSkgPT4gT2JqZWN0LmFzc2lnbihvYmosIHsgW2l0ZW0ubmFtZV06IGl0ZW0ubmV3bmFtZSB9KSwKICAgIC8vICAgICAgICAge30KICAgIC8vICAgICAgICk7CiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhvYmplY3QpOwogICAgLy8gICAgICAgdGhpcy5uZXdjb2x1bW5zID0gb2JqZWN0OwogICAgLy8gICAgICAgdGhpcy5uZXdjb2x1bW5zY29tcGxldGUgPSBuZXdjb2x1bW5zZGF0YTsKICAgIC8vICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5uZXdjb2x1bW5zY29tcGxldGUpOwogIH0KfTs="},null]}