{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Integrations/SocialMediaLinks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Integrations/SocialMediaLinks.vue","mtime":1663910265474},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluayI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgVnVlUGhvbmVOdW1iZXJJbnB1dCBmcm9tICd2dWUtcGhvbmUtbnVtYmVyLWlucHV0JzsKaW1wb3J0ICd2dWUtcGhvbmUtbnVtYmVyLWlucHV0L2Rpc3QvdnVlLXBob25lLW51bWJlci1pbnB1dC5jc3MnOwppbXBvcnQgU29jaWFsTWVkaWFTZXR0aW5ncyBmcm9tICIuL1NvY2lhbE1lZGlhU2V0dGluZ3MudnVlIjsKaW1wb3J0IHsgZnJlZXplX3BvcnRhbCwgc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsLCBjbG9zZV9tb2RhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU29jaWFsTWVkaWFMaW5rcyIsCiAgY29tcG9uZW50czogewogICAgVnVlUGhvbmVOdW1iZXJJbnB1dDogVnVlUGhvbmVOdW1iZXJJbnB1dCwKICAgIFNvY2lhbE1lZGlhU2V0dGluZ3M6IFNvY2lhbE1lZGlhU2V0dGluZ3MKICB9LAogIG1peGluczogW2ZyZWV6ZV9wb3J0YWwsIHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCwgY2xvc2VfbW9kYWxdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiaWdfc3Bpbm5lcjogZmFsc2UsCiAgICAgIHdlYnNpdGVfbmFtZTogIiIsCiAgICAgIHdpZGdldF9jb2RlOiAiIiwKICAgICAgTWVzc2VuZ2VyX2RhdGE6IHsKICAgICAgICBmYl9wYWdlX25hbWU6IG51bGwsCiAgICAgICAgZmJfbWVzc2FnaW5nX3VybDogbnVsbCwKICAgICAgICBpc192aXNpYmxlX29uX2JvdDogZmFsc2UsCiAgICAgICAgaXNfaW50ZWdyYXRlZDogZmFsc2UKICAgICAgfSwKICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICBjb21wYW55X2lkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgVGVsZWdyYW1fZGF0YTogewogICAgICAgIHRlbGVncmFtX3VzZXJfbmFtZTogbnVsbCwKICAgICAgICBpc192aXNpYmxlX29uX2JvdDogZmFsc2UsCiAgICAgICAgaXNfaW50ZWdyYXRlZDogZmFsc2UKICAgICAgfSwKICAgICAgSW5zdGFncmFtX2RhdGE6IHsKICAgICAgICBpbnN0YWdyYW1fdXNlcl9uYW1lOiBudWxsLAogICAgICAgIGlzX3Zpc2libGVfb25fYm90OiBmYWxzZSwKICAgICAgICBpc19pbnRlZ3JhdGVkOiBmYWxzZQogICAgICB9LAogICAgICBXaGF0c2FwcF9kYXRhOiB7CiAgICAgICAgd2hhdHNhcHBfbnVtYmVyOiBudWxsLAogICAgICAgIGlzX3Zpc2libGVfb25fYm90OiBmYWxzZSwKICAgICAgICBpc19pbnRlZ3JhdGVkOiBmYWxzZQogICAgICB9LAogICAgICB3aGF0c2FwcF9wcm9maWxlX25hbWU6IG51bGwsCiAgICAgIGlzX3Zpc2libGVfb25fYm90OiBmYWxzZSwKICAgICAgcGhvbmVOdW1iZXI6IG51bGwgLy8gZmJfbWVzc2FnaW5nX3VybF9yZWdleDogL1sobS5tZSlcLz9hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn1cLlthLXpdezIsNn1cYihbLWEtekEtWjAtOUA6JV9cKy5+Iz8mLy89XSopL2ksCgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAkKCIjaGVscF9tb2RhbF93ZWJzaXRlcyIpLm9uKCJzaG93bi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiN3aWRnZXRfY29kZV9tb2RhbDIiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjaGVscF9tb2RhbF93ZWJzaXRlcyIpLm9uKCJoaWRkZW4uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjd2lkZ2V0X2NvZGVfbW9kYWwyIikuY3NzKCJvcGFjaXR5IiwgIjEiKTsKICAgIH0pOwogICAgdGhpcy5nZXRfaW50ZWdyYXRpb25fZGV0YWlscygpOyAvLyB0aGlzLmNoZWNrTG9naW5TdGF0ZSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGlzX3Zpc2libGVfb25fYm90OiBmdW5jdGlvbiBpc192aXNpYmxlX29uX2JvdChuZXdWYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy53ZWJzaXRlX25hbWUpOwogICAgICB2YXIgd2VicyA9IHRoaXMud2Vic2l0ZV9uYW1lOyAvLyBjb25zb2xlLmxvZyh0aGlzW3dlYnMgKyAiX2RhdGEiXS5pc192aXNpYmxlX29uX2JvdCk7CgogICAgICB0aGlzW3dlYnMgKyAiX2RhdGEiXS5pc192aXNpYmxlX29uX2JvdCA9IG5ld1ZhbDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdF9zYXZlX2Zvcm06IGZ1bmN0aW9uIHN1Ym1pdF9zYXZlX2Zvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy53ZWJzaXRlX25hbWUgPT09ICJNZXNzZW5nZXIiKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5NZXNzZW5nZXJfZGF0YSk7CiAgICAgICAgdmFyIGRvbWFpbl9uYW1lID0gIm0ubWUvIjsKCiAgICAgICAgaWYgKCF0aGlzLk1lc3Nlbmdlcl9kYXRhLmZiX21lc3NhZ2luZ191cmwgfHwgIXRoaXMuTWVzc2VuZ2VyX2RhdGEuZmJfcGFnZV9uYW1lKSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW50ZXJfYWxsX2RldGFpbHMnKSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMzUwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRoaXMuTWVzc2VuZ2VyX2RhdGEuZmJfbWVzc2FnaW5nX3VybC5pbmNsdWRlcyhkb21haW5fbmFtZSkpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdzbV9lbnRlcl9wcm9wZXJfbXNnX3VybF9tc2cnKSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMzUwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ3NtX3N1Ym1pdF95b3VyX2RldGFpbHNfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIGlzX3NhdmU6IHRydWUsCiAgICAgICAgICBpc19mYWNlYm9vazogdHJ1ZSwKICAgICAgICAgIGlzX21lc3NhZ2luZ19wbGF0Zm9ybTogdHJ1ZSwKICAgICAgICAgIGZiX3BhZ2VfbmFtZTogdGhpcy5NZXNzZW5nZXJfZGF0YS5mYl9wYWdlX25hbWUsCiAgICAgICAgICBmYl9wYWdlX2xpbms6IHRoaXMuTWVzc2VuZ2VyX2RhdGEuZmJfbWVzc2FnaW5nX3VybCwKICAgICAgICAgIHZpc2libGVfb25fYm90OiB0aGlzLk1lc3Nlbmdlcl9kYXRhLmlzX3Zpc2libGVfb25fYm90CiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICAgIF90aGlzLmdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5TVUNDRVNTRlVMX0RCX1FVRVJZLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfdGhpcy50bHQoJ3NtX2RldGFpbHNfc2F2ZWRfbXNnJyksCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAvLyB0aXRsZTogdGhpcy50bHQoJ3NtX2Vycm9yX29jY3VycmVkX21zZzEnKSwKICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRsdCgnc21fZXJyb3Jfb2NjdXJyZWRfbXNnMicpLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogX3RoaXMudGx0KCdzbV9lcnJvcl9vY2N1cnJlZF9tc2czJyksCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNsb3NlX21vZGFsKCdjb3B5X2NvZGVfdG9vbHRpcCcpOwogICAgICB9IGVsc2UgaWYgKHRoaXMud2Vic2l0ZV9uYW1lID09PSAiVGVsZWdyYW0iKSB7CiAgICAgICAgaWYgKCF0aGlzLlRlbGVncmFtX2RhdGEudGVsZWdyYW1fdXNlcl9uYW1lKSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW50ZXJfYWxsX2RldGFpbHMnKSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMzUwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ3NtX3RlbGVncmFtX3N1Ym1pdF95b3VyX2RldGFpbHNfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIGlzX3NhdmU6IHRydWUsCiAgICAgICAgICBpc190ZWxlZ3JhbTogdHJ1ZSwKICAgICAgICAgIGlzX21lc3NhZ2luZ19wbGF0Zm9ybTogdHJ1ZSwKICAgICAgICAgIHRlbGVncmFtX3VzZXJuYW1lOiB0aGlzLlRlbGVncmFtX2RhdGEudGVsZWdyYW1fdXNlcl9uYW1lLAogICAgICAgICAgdmlzaWJsZV9vbl9ib3Q6IHRoaXMuVGVsZWdyYW1fZGF0YS5pc192aXNpYmxlX29uX2JvdAogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICAgIF90aGlzLmdldF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzLmFwaV9zdGF0dXNfY29kZS5TVUNDRVNTRlVMX0RCX1FVRVJZLk1TR19DT0RFKSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBfdGhpcy50bHQoJ3NtX3RlbGVncmFtX2RldGFpbHNfc2F2ZWRfbXNnJyksCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICQoIiN3aWRnZXRfY29kZV9tb2RhbDIiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAvLyB0aXRsZTogdGhpcy50bHQoJ3NtX3RlbGVncmFtX2Vycm9yX29jY3VycmVkX21zZzEnKSwKICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRsdCgnc21fdGVsZWdyYW1fZXJyb3Jfb2NjdXJyZWRfbXNnMicpLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogX3RoaXMudGx0KCdzbV90ZWxlZ3JhbV9lcnJvcl9vY2N1cnJlZF9tc2czJyksCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNsb3NlX21vZGFsKCdjb3B5X2NvZGVfdG9vbHRpcCcpOwogICAgICB9IGVsc2UgaWYgKHRoaXMud2Vic2l0ZV9uYW1lID09PSAiV2hhdHNhcHAiKSB7CiAgICAgICAgaWYgKCF0aGlzLnBob25lTnVtYmVyKSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnZW50ZXJfYWxsX2RldGFpbHMnKSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICB0aW1lcjogMzUwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIUJvb2xlYW4odGhpcy5waG9uZU51bWJlcikpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdzbV93aGF0c2FwcF92YWxpZF9waF9udW1iZXJfbXNnMScpLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGhvbmVOdW1iZXIuaXNWYWxpZCAhPSB0cnVlKSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0ZXh0OiB0aGlzLnRsdCgnc21fd2hhdHNhcHBfdmFsaWRfcGhfbnVtYmVyX21zZzInKSwKICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGV4dDogdGhpcy50bHQoJ3NtX3doYXRzYXBwX3N1Ym1pdF95b3VyX2RldGFpbHNfbXNnJyksCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZQogICAgICAgIH0pOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgIGlzX3NhdmU6IHRydWUsCiAgICAgICAgICBpc193aGF0c2FwcDogdHJ1ZSwKICAgICAgICAgIGlzX21lc3NhZ2luZ19wbGF0Zm9ybTogdHJ1ZSwKICAgICAgICAgIHdoYXRzYXBwX251bWJlcjogdGhpcy5waG9uZU51bWJlci5mb3JtYXR0ZWROdW1iZXIsCiAgICAgICAgICBuYW1lOiB0aGlzLndoYXRzYXBwX3Byb2ZpbGVfbmFtZSwKICAgICAgICAgIHZpc2libGVfb25fYm90OiB0aGlzLldoYXRzYXBwX2RhdGEuaXNfdmlzaWJsZV9vbl9ib3QKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjMuZGF0YTsKCiAgICAgICAgICBfdGhpcy5nZXRfaW50ZWdyYXRpb25fZGV0YWlscygpOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMudGx0KCdzbV93aGF0c2FwcF9kZXRhaWxzX3NhdmVkX21zZycpLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAkKCIjd2lkZ2V0X2NvZGVfbW9kYWwyIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRsdCgnc21fd2hhdHNhcHBfZXJyb3Jfb2NjdXJyZWRfbXNnMScpLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIHRpdGxlOiBfdGhpcy50bHQoJ3NtX3doYXRzYXBwX2Vycm9yX29jY3VycmVkX21zZzInKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRsdCgnc21fd2hhdHNhcHBfZXJyb3Jfb2NjdXJyZWRfbXNnMycpLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jbG9zZV9tb2RhbCgnY29weV9jb2RlX3Rvb2x0aXAnKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLndlYnNpdGVfbmFtZSA9PT0gIkluc3RhZ3JhbSIpIHsKICAgICAgICBpZiAoIXRoaXMuSW5zdGFncmFtX2RhdGEuaW5zdGFncmFtX3VzZXJfbmFtZSkgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGV4dDogdGhpcy50bHQoJ2VudGVyX2FsbF9kZXRhaWxzJyksCiAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdGltZXI6IDM1MDAKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRleHQ6IHRoaXMudGx0KCdzbV9pbnN0YWdyYW1fc3VibWl0X3lvdXJfZGV0YWlsc19tc2cnKSwKICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlCiAgICAgICAgfSk7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCksIHsKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlfaWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNfc2F2ZTogdHJ1ZSwKICAgICAgICAgIGlzX2luc3RhZ3JhbTogdHJ1ZSwKICAgICAgICAgIGlzX21lc3NhZ2luZ19wbGF0Zm9ybTogdHJ1ZSwKICAgICAgICAgIGluc3RhZ3JhbV91c2VybmFtZTogdGhpcy5JbnN0YWdyYW1fZGF0YS5pbnN0YWdyYW1fdXNlcl9uYW1lLAogICAgICAgICAgdmlzaWJsZV9vbl9ib3Q6IHRoaXMuSW5zdGFncmFtX2RhdGEuaXNfdmlzaWJsZV9vbl9ib3QKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjQuZGF0YTsKCiAgICAgICAgICBfdGhpcy5nZXRfaW50ZWdyYXRpb25fZGV0YWlscygpOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1VDQ0VTU0ZVTF9EQl9RVUVSWS5NU0dfQ09ERSkgewogICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogX3RoaXMudGx0KCdzbV9pbnN0YWdyYW1fZGV0YWlsc19zYXZlZF9tc2cnKSwKICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgJCgiI3dpZGdldF9jb2RlX21vZGFsMiIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIC8vIHRpdGxlOiB0aGlzLnRsdCgnc21faW5zdGFncmFtX2Vycm9yX29jY3VycmVkX21zZzEnKSwKICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UuTVNHLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICB0aW1lcjogMjUwMCwKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRsdCgnc21faW5zdGFncmFtX2Vycm9yX29jY3VycmVkX21zZzInKSwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6IF90aGlzLnRsdCgnc21faW5zdGFncmFtX2Vycm9yX29jY3VycmVkX21zZzMnKSwKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuY2xvc2VfbW9kYWwoJ2NvcHlfY29kZV90b29sdGlwJyk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRfaW50ZWdyYXRpb25fZGV0YWlsczogZnVuY3Rpb24gZ2V0X2ludGVncmF0aW9uX2RldGFpbHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55X25hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55X2lkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucwogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmNS5kYXRhOwogICAgICAgIF90aGlzMi5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpczIuYXBpX3N0YXR1c19jb2RlLkRBVEFfQVZBSUxBQkxFLk1TR19DT0RFKSB7CiAgICAgICAgICBpZiAoZGF0YS5kYXRhLm1lc3NhZ2luZ19wbGF0Zm9ybSB8fCBmYWxzZSkgewogICAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhLmRhdGEubWVzc2FnaW5nX3BsYXRmb3JtLmZhY2Vib29rX2RldGFpbHMpIHx8IGZhbHNlKSB7CiAgICAgICAgICAgICAgX3RoaXMyLk1lc3Nlbmdlcl9kYXRhLmZiX3BhZ2VfbmFtZSA9IGRhdGEuZGF0YS5tZXNzYWdpbmdfcGxhdGZvcm0uZmFjZWJvb2tfZGV0YWlscy5mYl9wYWdlX25hbWU7CiAgICAgICAgICAgICAgX3RoaXMyLk1lc3Nlbmdlcl9kYXRhLmZiX21lc3NhZ2luZ191cmwgPSBkYXRhLmRhdGEubWVzc2FnaW5nX3BsYXRmb3JtLmZhY2Vib29rX2RldGFpbHMubGluazsKICAgICAgICAgICAgICBfdGhpczIuTWVzc2VuZ2VyX2RhdGEuaXNfdmlzaWJsZV9vbl9ib3QgPSBkYXRhLmRhdGEubWVzc2FnaW5nX3BsYXRmb3JtLmZhY2Vib29rX2RldGFpbHMudmlzaWJsZV9vbl9ib3Q7CiAgICAgICAgICAgICAgX3RoaXMyLk1lc3Nlbmdlcl9kYXRhLmlzX3Zpc2libGVfb25fYm90ID09PSB0cnVlID8gX3RoaXMyLk1lc3Nlbmdlcl9kYXRhLmlzX2ludGVncmF0ZWQgPSB0cnVlIDogX3RoaXMyLk1lc3Nlbmdlcl9kYXRhLmlzX2ludGVncmF0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKEJvb2xlYW4oZGF0YS5kYXRhLm1lc3NhZ2luZ19wbGF0Zm9ybS50ZWxlZ3JhbV9kZXRhaWxzKSB8fCBmYWxzZSkgewogICAgICAgICAgICAgIF90aGlzMi5UZWxlZ3JhbV9kYXRhLnRlbGVncmFtX3VzZXJfbmFtZSA9IGRhdGEuZGF0YS5tZXNzYWdpbmdfcGxhdGZvcm0udGVsZWdyYW1fZGV0YWlscy50ZWxlZ3JhbV91c2VybmFtZTsKICAgICAgICAgICAgICBfdGhpczIuVGVsZWdyYW1fZGF0YS5pc192aXNpYmxlX29uX2JvdCA9IGRhdGEuZGF0YS5tZXNzYWdpbmdfcGxhdGZvcm0udGVsZWdyYW1fZGV0YWlscy52aXNpYmxlX29uX2JvdDsKICAgICAgICAgICAgICBfdGhpczIuVGVsZWdyYW1fZGF0YS5pc192aXNpYmxlX29uX2JvdCA9PT0gdHJ1ZSA/IF90aGlzMi5UZWxlZ3JhbV9kYXRhLmlzX2ludGVncmF0ZWQgPSB0cnVlIDogX3RoaXMyLlRlbGVncmFtX2RhdGEuaXNfaW50ZWdyYXRlZCA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhLmRhdGEubWVzc2FnaW5nX3BsYXRmb3JtLndoYXRzYXBwX2RldGFpbHMpIHx8IGZhbHNlKSB7CiAgICAgICAgICAgICAgX3RoaXMyLldoYXRzYXBwX2RhdGEud2hhdHNhcHBfbnVtYmVyID0gZGF0YS5kYXRhLm1lc3NhZ2luZ19wbGF0Zm9ybS53aGF0c2FwcF9kZXRhaWxzLndoYXRzYXBwX251bWJlcjsKICAgICAgICAgICAgICBfdGhpczIuV2hhdHNhcHBfZGF0YS5pc192aXNpYmxlX29uX2JvdCA9IGRhdGEuZGF0YS5tZXNzYWdpbmdfcGxhdGZvcm0ud2hhdHNhcHBfZGV0YWlscy52aXNpYmxlX29uX2JvdDsKICAgICAgICAgICAgICBfdGhpczIuV2hhdHNhcHBfZGF0YS5pc192aXNpYmxlX29uX2JvdCA9PT0gdHJ1ZSA/IF90aGlzMi5XaGF0c2FwcF9kYXRhLmlzX2ludGVncmF0ZWQgPSB0cnVlIDogX3RoaXMyLldoYXRzYXBwX2RhdGEuaXNfaW50ZWdyYXRlZCA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhLmRhdGEubWVzc2FnaW5nX3BsYXRmb3JtLmluc3RhZ3JhbV9kZXRhaWxzKSB8fCBmYWxzZSkgewogICAgICAgICAgICAgIF90aGlzMi5JbnN0YWdyYW1fZGF0YS5pbnN0YWdyYW1fdXNlcl9uYW1lID0gZGF0YS5kYXRhLm1lc3NhZ2luZ19wbGF0Zm9ybS5pbnN0YWdyYW1fZGV0YWlscy5pbnN0YWdyYW1fdXNlcm5hbWU7CiAgICAgICAgICAgICAgX3RoaXMyLkluc3RhZ3JhbV9kYXRhLmlzX3Zpc2libGVfb25fYm90ID0gZGF0YS5kYXRhLm1lc3NhZ2luZ19wbGF0Zm9ybS5pbnN0YWdyYW1fZGV0YWlscy52aXNpYmxlX29uX2JvdDsKICAgICAgICAgICAgICBfdGhpczIuSW5zdGFncmFtX2RhdGEuaXNfdmlzaWJsZV9vbl9ib3QgPT09IHRydWUgPyBfdGhpczIuSW5zdGFncmFtX2RhdGEuaXNfaW50ZWdyYXRlZCA9IHRydWUgOiBfdGhpczIuSW5zdGFncmFtX2RhdGEuaXNfaW50ZWdyYXRlZCA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLm1lc3NhZ2UuTVNHX0NPREUgPT09IF90aGlzMi5hcGlfc3RhdHVzX2NvZGUuRU1QVFlfREFUQS5NU0dfQ09ERSkge30gZWxzZSB7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAvLyB0aXRsZTogdGhpcy50bHQoJ3NtX2Vycm9yX29jY3VycmVkX21zZzEnKSwKICAgICAgICAgICAgdGl0bGU6IGRhdGEubWVzc2FnZS5NU0dfQ09ERSwKICAgICAgICAgICAgdGV4dDogZGF0YS5tZXNzYWdlLk1TRywKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMyLmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRfd2Vic2l0ZV9kZXRhaWxzOiBmdW5jdGlvbiByZXNldF93ZWJzaXRlX2RldGFpbHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCksIHsKICAgICAgICBpc19yZXNldDogdHJ1ZSwKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueV9uYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueV9pZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgcmVzZXRfcGxhdGZvcm06IHRoaXMud2Vic2l0ZV9uYW1lCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY2LmRhdGE7CgogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgIF90aGlzMy5yZXNldF90b19kZWZhdWx0KCk7CgogICAgICAgIF90aGlzMy5nZXRfaW50ZWdyYXRpb25fZGV0YWlscygpOwoKICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpczMuYXBpX3N0YXR1c19jb2RlLlNVQ0NFU1NGVUxfREJfUVVFUlkuTVNHX0NPREUpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiBfdGhpczMudGx0KCdzbV9zd2FsX2RldGFpbHNfcmVzZXRfbXNnJyksCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgdGltZXI6IDI1MDAKICAgICAgICAgIH0pOwogICAgICAgICAgJCgiI3dpZGdldF9jb2RlX21vZGFsMiIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiBkYXRhLm1lc3NhZ2UuTVNHX0NPREUsCiAgICAgICAgICAgIHRleHQ6IGRhdGEubWVzc2FnZS5NU0csCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGl0bGU6IF90aGlzMy50bHQoJ3NtX2Vycm9yX29jY3VycmVkX21zZzUnKSwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuY2xvc2VfbW9kYWwoJ3Jlc2V0Jyk7CiAgICB9LAogICAgcmVzZXRfdG9fZGVmYXVsdDogZnVuY3Rpb24gcmVzZXRfdG9fZGVmYXVsdCgpIHsKICAgICAgdGhpcy5XaGF0c2FwcF9kYXRhLndoYXRzYXBwX251bWJlciA9IG51bGw7CiAgICAgIHRoaXMuV2hhdHNhcHBfZGF0YS5pc192aXNpYmxlX29uX2JvdCA9IGZhbHNlOwogICAgICB0aGlzLlRlbGVncmFtX2RhdGEuaXNfdmlzaWJsZV9vbl9ib3QgPSBmYWxzZTsKICAgICAgdGhpcy5UZWxlZ3JhbV9kYXRhLnRlbGVncmFtX3VzZXJfbmFtZSA9IG51bGw7CiAgICAgIHRoaXMuTWVzc2VuZ2VyX2RhdGEuZmJfcGFnZV9uYW1lID0gbnVsbDsKICAgICAgdGhpcy5NZXNzZW5nZXJfZGF0YS5mYl9tZXNzYWdpbmdfdXJsID0gbnVsbDsKICAgICAgdGhpcy5NZXNzZW5nZXJfZGF0YS5pc192aXNpYmxlX29uX2JvdCA9IGZhbHNlOwogICAgICB0aGlzLkluc3RhZ3JhbV9kYXRhLmluc3RhZ3JhbV91c2VyX25hbWUgPSBudWxsOwogICAgICB0aGlzLkluc3RhZ3JhbV9kYXRhLmlzX3Zpc2libGVfb25fYm90ID0gZmFsc2U7CiAgICAgIHRoaXMuSW5zdGFncmFtX2RhdGEuaXNfaW50ZWdyYXRlZCA9IGZhbHNlOwogICAgICB0aGlzLk1lc3Nlbmdlcl9kYXRhLmlzX2ludGVncmF0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5XaGF0c2FwcF9kYXRhLmlzX2ludGVncmF0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5UZWxlZ3JhbV9kYXRhLmlzX2ludGVncmF0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5waG9uZU51bWJlciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},null]}