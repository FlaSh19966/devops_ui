{"remainingRequest":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/ResponseBot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Elixir/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/ResponseBot.vue","mtime":1643027096168},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Elixir/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lmxhc3QtaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3ZpbWFsZXNoL0VsaXhpci9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3ZpbWFsZXNoL0VsaXhpci9jaGF0Ym90LXBvcnRhbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvdmltYWxlc2gvRWxpeGlyL2NoYXRib3QtcG9ydGFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IGZpbmdlcnByaW50IGZyb20gIkAvcG9ydGFsL2NvbXBvbmVudHMvZmluZ2VycHJpbnQiOwppbXBvcnQgeyBidXMgfSBmcm9tICJAL3BvcnRhbC9tYWluIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgVmlkZW9WaWV3ZXIgZnJvbSAiQC9wb3J0YWwvY29tcG9uZW50cy9SZXNwb25zZSBCb3QvVmlkZW9WaWV3ZXIudnVlIjsKaW1wb3J0IGRlYm91bmNlIGZyb20gInZ1ZS1kZWJvdW5jZS9kaXN0L2RlYm91bmNlLm1pbi5qcyI7IC8vIGltcG9ydCB7IFNvY2tldCB9IGZyb20gInBob2VuaXgtc29ja2V0IjsKCmltcG9ydCB7IFNvY2tldCwgUHJlc2VuY2UgfSBmcm9tICJwaG9lbml4IjsKaW1wb3J0IFN0YXJSYXRpbmcgZnJvbSAndnVlLXN0YXItcmF0aW5nJzsKaW1wb3J0IHsgdm9pY2VyZWNvcmRlciwgc3RhcnRfdm9pY2VfY29tbXVuaWNhdGlvbiwgZm9yZWlnbnhjaGFuZ2VfY3VzdG9tLCBnZW5lcmF0ZV90aW1lIH0gZnJvbSAiQC9wb3J0YWwvbWl4aW5zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBDZW5zZUNhcnQgZnJvbSAnLi9DZW5zZUNhcnQudnVlJzsKaW1wb3J0IFZ1ZU51bWVyaWNJbnB1dCBmcm9tICd2dWUtbnVtZXJpYy1pbnB1dCc7CmltcG9ydCBzb3VuZCBmcm9tICJAL3BvcnRhbC9hc3NldHMvYXVkaW8vbWl4a2l0LWFkZC10by1jYXJ0LndhdiI7CmltcG9ydCAiQC9wb3J0YWwvYXNzZXRzL2pzL3Nob3BpZnkubWluLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZXNwb25zZS1ib3QiLAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0OiBNdWx0aXNlbGVjdCwKICAgIFZpZGVvVmlld2VyOiBWaWRlb1ZpZXdlciwKICAgIFN0YXJSYXRpbmc6IFN0YXJSYXRpbmcsCiAgICBDZW5zZUNhcnQ6IENlbnNlQ2FydCwKICAgIFZ1ZU51bWVyaWNJbnB1dDogVnVlTnVtZXJpY0lucHV0CiAgfSwKICBtaXhpbnM6IFt2b2ljZXJlY29yZGVyLCBzdGFydF92b2ljZV9jb21tdW5pY2F0aW9uLCBmb3JlaWdueGNoYW5nZV9jdXN0b20sIGdlbmVyYXRlX3RpbWVdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgcG9wdXBfbXNnOiAiWW91IGNhbiB0eXBlIOKAmFJlc3RhcnTigJ0gIGF0IDwvYnI+YW55ICB0aW1lIHRvIGdldCBiYWNrPC9icj4gdG8gdGhlIE1haW4gTWVudSIsCiAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IHRydWUsCiAgICAgIHF1c19hbnM6ICJhbnN3ZXJzIiwKICAgICAgdG9fc2VuZDogIiIsCiAgICAgIGNlbnNlX2VucXVpcnk6IGZhbHNlLAogICAgICBpc19hZ2VudF90eXBpbmc6IGZhbHNlLAogICAgICB1c2VyX25hbWU6ICIiLAogICAgICBzaG93OiBmYWxzZSwKICAgICAgY2hhdDogW10sCiAgICAgIGZpbmdlcnByaW50OiBudWxsLAogICAgICBib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJCb3RUb2tlbiIpLAogICAgICBsZXZlbDogMCwKICAgICAgcmVjb2duaXRpb246IG51bGwsCiAgICAgIGpzb25fZGF0YTogewogICAgICAgIGNyZWF0ZV9hcHBvaW50bWVudDogJ3siVXNlciI6IHsiUGh5c2ljaWFuIjogeyJJRCI6ICJEVDAwMDAwMDAwMDAwMDAwMDIzNyJ9LCJVc2VyTmFtZSI6ImFjIiwiSUQiOiJVUzAwMDAwMDAwMDAwMDAwMDEzOCIsIkFjY291bnQiOiB7IklEIjogIkNPMDAwMjMifSwiVG9rZW4iOiAiWjFyU0dHbTBYcE1XanQzZ2lBRXJQUFdaODRUUU45RnNGTUJMc1UrL0xBdTZ5dWFsTWc2RVAyYnNyd1pqTFB3bTNqNERwUGNHYzVMY0lwM05qZ2ZVc0E9PSIsIlNwZWNpYWx0eSI6IHsiSUQiOiAiUEcwMDAwMDAwMDAwMDAwMDAxNDEiLCAiTmFtZSI6ICJBQyIsICJDb2RlIjogIkFDIn0sIkRvbWFpbiI6ICJnb2dyZWVuYmlsbHMuY29tIn0sIkFwcG9pbnRtZW50IjogeyJEYXRlIjogIjA4LzMwLzIwMTgiLCAiSXNKU09OTm90ZSI6IDAsICJQYXRpZW50IjogeyJDYXNlSUQiOiAiIn19fScsCiAgICAgICAgdmlzaXRzX2ZpbmFsaXplZDogJ3siVXNlciI6IHsiUGh5c2ljaWFuIjogeyJJRCI6ICJEVDAwMDAwMDAwMDAwMDAxMTg4NiJ9LCJVc2VyTmFtZSI6ICJjaCIsIklEIjogIlVTMDAwMDAwMDAwMDAwMDAwMTQzIiwiQWNjb3VudCI6eyJJRCI6IkNPMDAwMjMifSwiVG9rZW4iOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMWMyVnlJam9pWVhaa2FIVjBJaXdpWlhod0lqb3hOVEk1TkRneU5qWXpmUS52MWMwSGJ1V3VaWFhwSmZEclhWYzFIUFZ1ZmZibkdjTHFrcGcwem02QW9RIiwiU3BlY2lhbHR5IjogeyJJRCI6ICJQRzAwMDAwMDAwMDAwMDAwMDE0MiIsIkNvZGUiOiAiY2gifSwiRG9tYWluIjogImdyZWVueW91cmJpbGxzLmNvbSJ9LCJTZWFyY2hQYXJhbWV0ZXJzIjogeyJTdGF0dXMiOiAiIiwiT3JkZXJCeSI6ICIiLCJGcm9tRGF0ZSI6ICIwMS8wMS8yMDE4IiwiQ291bnQiOiAiMTAiLCJTZWFyY2hUZXh0IjogIiIsIlR5cGVPZlZpc2l0IjogIkFMTCIsIlNvcnRPcmRlciI6ICJhcHBvaW50bWVudCIsIlN0YXJ0SW5kZXgiOiAiMSIsIkVuZEluZGV4IjogIjEwIiwiVG9EYXRlIjogIjA4LzA2LzIwMTgifX0nLAogICAgICAgIGFwcG9pbnRtZW50c19jb3VudDogJ3siVXNlciI6IHsiUGh5c2ljaWFuIjogeyJJRCI6ICJEVDAwMDAwMDAwMDAwMDAxMTg4NiJ9LCJVc2VyTmFtZSI6ICJjaCIsIklEIjogIlVTMDAwMDAwMDAwMDAwMDAwMTQzIiwiQWNjb3VudCI6eyJJRCI6IkNPMDAwMjMifSwiVG9rZW4iOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKMWMyVnlJam9pWVhaa2FIVjBJaXdpWlhod0lqb3hOVEk1TkRneU5qWXpmUS52MWMwSGJ1V3VaWFhwSmZEclhWYzFIUFZ1ZmZibkdjTHFrcGcwem02QW9RIiwiU3BlY2lhbHR5IjogeyJJRCI6ICJQRzAwMDAwMDAwMDAwMDAwMDE0MiIsIkNvZGUiOiAiY2gifSwiRG9tYWluIjogImdyZWVueW91cmJpbGxzLmNvbSJ9LCJTZWFyY2hQYXJhbWV0ZXJzIjogeyJTdGF0dXMiOiAiIiwiT3JkZXJCeSI6ICIiLCJGcm9tRGF0ZSI6ICIwMS8wMS8yMDE4IiwiQ291bnQiOiAiMTAiLCJTZWFyY2hUZXh0IjogIiIsIlR5cGVPZlZpc2l0IjogIkFMTCIsIlNvcnRPcmRlciI6ICJhcHBvaW50bWVudCIsIlN0YXJ0SW5kZXgiOiAiMSIsIkVuZEluZGV4IjogIjEwIiwiVG9EYXRlIjogIjA4LzA2LzIwMTgifX0nLAogICAgICAgIGNyZWF0ZV90aWNrZXQ6ICd7IkFjY291bnROYW1lIjpudWxsLCJDYWxsYmFja1Bob25lIjoiIiwiQ29tcGFueUlEIjoiQ08wMDAyMyIsIkRlc2NyaXB0aW9uIjoiRGUiLCJEb21haW5OYW1lIjpudWxsLCJFbWFpbENDIjoiYWJoYXkud0Bjb2RlYXJyYXkudGVjaCIsIkVtYWlsRGVmYXVsdCI6Im1hbmlzaC55QGNvZGVhcnJheS50ZWNoIiwiUHJpb3JpdHkiOiIzIiwiUHJpb3JpdHlJRCI6MCwiUmFpc2VkQnkiOiJsYXd1c2VyIiwiU3RhdHVzIjowLCJTdGF0dXNDb2RlIjpudWxsLCJTdGF0dXNUZXh0IjpudWxsLCJTVHlwZSI6IldQIiwiU3ViamVjdCI6IkRlIiwiU3ViVHlwZSI6IlNBTUQtUCIsIlRpY2tldElEIjowLCJUaWNrZXROdW1iZXIiOm51bGwsIlR5cGUiOjAsIlR5cGVUZXh0IjoiV2Vic2l0ZSBQcm9ibGVtIiwibGlzdEZpbGVzMSI6WyJjaHExLnBkZiJdfScsCiAgICAgICAgZ2V0X3JlcG9ydDogJ3siY29tcGFueUlkIjogIkNPMDAwMjMifScKICAgICAgfSwKICAgICAgc3RvcDogdHJ1ZSwKICAgICAgZGVtb3VybGJpbmQ6IGZhbHNlLAogICAgICByZXZpZXdzdXJsYmluZDogZmFsc2UsCiAgICAgIHJldmlld3N1cmw6ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9wYUFlVzg2ZVFaNCIsCiAgICAgIGRlbW91cmw6IFsiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvdmlkZW9zZXJpZXM/S2NySm05VXhXM3MmaW5kZXg9MTMmbGlzdD1QTF9qWGxpaDhkZ2tURThDclBwaVdjQTlLeFFlS0haQW50JnQ9MHMiLCAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvdmlkZW9zZXJpZXM/cXpTMnFJTkk2SU0mbGlzdD1QTF9qWGxpaDhkZ2tSdTVkZEdYQUdxWjR1TExrb0p6Q2o4JmluZGV4PTIiXSwKICAgICAgY2hhdF93aWRnZXQ6IHsKICAgICAgICBsb2dvOiAiIiwKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgc3R5bGU6ICIiLAogICAgICAgIGJvdF90aGVtZTogIiIsCiAgICAgICAgYnV0dG9uX3RoZW1lOiAiIiwKICAgICAgICBidXR0b25fYWxpZ25tZW50OiAiIiwKICAgICAgICBib3RfaWNvbjogIiIsCiAgICAgICAgYm90X2JhY2tncm91bmRfaW1hZ2U6ICIiLAogICAgICAgIGJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmc6ICIzIiwKICAgICAgICBidXR0b25fdmVydGljYWxfc3BhY2luZzogIjUiLAogICAgICAgIGhlYWRlcl9iYWNrZ3JvdW5kOiAiIiwKICAgICAgICBib3RfZm9udF9zdHlsZTogIiIsCiAgICAgICAgYm90X2ZvbnRfY29sb3Jfc2VuZGVyOiAiIiwKICAgICAgICBib3RfZm9udF9jb2xvcl9yZWNlaXZlcjogIiIsCiAgICAgICAgYm90X2ZvbnRfY29sb3JfYnV0dG9uczogIiIKICAgICAgfSwKICAgICAgc2VsZWN0ZWRfZGF0ZTogIiIsCiAgICAgIHNlbGVjdGVkX3RpbWU6ICIiLAogICAgICByZWFzb25fb2ZfdmlzaXQ6ICIiLAogICAgICBwYXRpZW50X25hbWU6ICIiLAogICAgICB2aXNpdG9yX251bWJlcjogIiIsCiAgICAgIGZ1bGxfdGltZV9zbG90czogW10sCiAgICAgIHRpbWVfc2xvdHM6IFtdLAogICAgICBUT0RBWV9EQVRFOiAiIiwKICAgICAgY2hhbm5lbDogbnVsbCwKICAgICAgY2hhdF9zb2NrZXQ6IG51bGwsCiAgICAgIHZvaWNlX3NvY2tldDogbnVsbCwKICAgICAgbGl2ZV9jaGF0X29uOiBmYWxzZSwKICAgICAgbGl2ZV9jaGF0X3Rva2VuOiBudWxsLAogICAgICBjaGF0X2dyb3VwX25hbWU6IG51bGwsCiAgICAgIHRvX3Njcm9sbDogZmFsc2UsCiAgICAgIGZvcm1fcGF5bG9hZDogbnVsbCwKICAgICAgcGhvbmVfbnVtYmVyX3ZhbGlkaXR5OiAvWzAtOV17MTAsMTF9JC8sCiAgICAgIC8vIHVybF9tYXRjaF9yZWdleDogL1xiKGh0dHBzP3xmdHApOlwvXC8oW1xTXSkrXC4oKHBkZnxjc3Z8eGxzeCkpKFtcdz89XSspL2csCiAgICAgIHVybF9tYXRjaF9yZWdleDogL15odHRwcz86XC9cLy4qW1xcXC9dLitcLlsocGRmfGNzdnx4bHN4KV17Miw0fS8sCiAgICAgIC8vIGhhcnNoCiAgICAgIGlzZXhjaGFuZ2U6IGZhbHNlLAogICAgICBpc3JldGFpbGlnZW5jZTogZmFsc2UsCiAgICAgIGN1cnJlbmN5ZXhjaGFuZ2VfbGlzdDogbnVsbCwKICAgICAgc2VsZWN0ZWRfaW5kaWNhdGlvbjogW10sCiAgICAgIHdlbGNvbWVfbWVzc2FnZV9ub3RfeWV0X3JlY2VpdmVkOiB0cnVlLAogICAgICByZXM6IHt9LAogICAgICBpc190eXBpbmdfaW5kaWNhdG9yX29uOiBmYWxzZSwKICAgICAgdGh1bWJzX3VwX2ljb246IHJlcXVpcmUoIkAvcG9ydGFsL2Fzc2V0cy9pbWcvR3JvdXAgNy5zdmciKSwKICAgICAgdGh1bWJzX2Rvd25faWNvbjogcmVxdWlyZSgiQC9wb3J0YWwvYXNzZXRzL2ltZy9Hcm91cCA2LnN2ZyIpLAogICAgICBzaG9waWZ5X3VpOiBudWxsLAogICAgICBzaG9waWZ5X2N1c3RvbWVyX2lkOiBudWxsLAogICAgICAvLyByZWZ1bmRfb3JkZXJfdmlld19kZXRhaWxzOiB7fSwKICAgICAgLy8gcmVmdW5kX3NlbGVjdGVkX2l0ZW1zOiBbXSwKICAgICAgc2hvcGlmeV9yZXRhaWxfc2hvcF9uYW1lOiBudWxsLAogICAgICBzaG9wX3VybDogbnVsbCwKICAgICAgaXNfcmV0YWlsX2JvdDogZmFsc2UsCiAgICAgIHNob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmQ6IG51bGwsCiAgICAgIHNob3dfc2hvcGlmeV9yZWFzb25fZm9yX3JlZnVuZF9lcnJvcjogZmFsc2UsCiAgICAgIHN1cHBvcnRfY2hhbm5lbDogbnVsbCwKICAgICAgaXNfc3VwcG9ydF9hZ2VudF9wcmVzZW50OiBmYWxzZSwKICAgICAgcmV0YWlsX3Nob3Bfc3RvcmVmcm9udF90b2tlbjogbnVsbCwKICAgICAgcmV0YWlsX29yZGVyX3JldHJlaXZhbF9vbmx5X2VtYWlsX3JlcXVpcmVkOiBmYWxzZSwKICAgICAgcmV0YWlsX3Nob3BfY3VycmVuY3k6IG51bGwsCiAgICAgIHByb2R1Y3RfbGlzdDogW10sCiAgICAgIHByb2R1Y3Rfb3V0X29mX3N0b2NrX2xpc3Q6IFtdLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBjdXJyZW50X3Byb2R1Y3Q6ICIiLAogICAgICBjdXN0b21lcl9lbWFpbDogIiIsCiAgICAgIGlzX3NlbmRlcl9lbWFpbDogZmFsc2UsCiAgICAgIHJlZ19lbWFpbDogL14oWzAtOWEtekEtWl0oWy0uXHddKlswLTlhLXpBLVpdKSpAKFswLTlhLXpBLVpdWy1cd10qWzAtOWEtekEtWl1cLikrW2EtekEtWl17Miw5fSkkLywKICAgICAgc2Nyb2xsUG9zaXRpb246IDAsCiAgICAgIHZpc2libGVfY3VzdG9tX2dyZWV0aW5nc19idXR0b206IGZhbHNlLAogICAgICByZXZpZXdfbWVzc2FnZV9maXJzdDogJycsCiAgICAgIHJldmlld19tZXNzYWdlX3NlY29uZDogJycsCiAgICAgIHJldmlld19yZXNwb25zZV9tZXNzYWdlOiAnJywKICAgICAgZGlzcGxheV9wcm9kdWN0czogZmFsc2UsCiAgICAgIHJldGFpbF93ZWJfZnJhbWV3b3JrOiAiIiwKICAgICAgaXNfY2Vuc2VfY2FydDogZmFsc2UsCiAgICAgIHNob3dfY3VzdG9tX2NhcnQ6IGZhbHNlLAogICAgICBhZGR0b0NhcnRkYXRhOiBbXSwKICAgICAgdG90YWxfcHJvZHVjdHNfcXR5OiAwLAogICAgICBvdmVyX3F0eV93YXJuaW5nOiBmYWxzZSwKICAgICAgY29udGFjdF9oZWxwX2VtYWlsOiBudWxsLAogICAgICBzaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kX2xpc3Q6IG51bGwsCiAgICAgIHNob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmRfb3B0aW9uOiBbJ09yZGVyZWQgYnkgbWlzdGFrZScsICdPcmRlcmVkIHdyb25nIHByb2R1Y3QnLCAnT3JkZXIgbm90IFJlY2VpdmVkJywgJ05vIGxvbmdlciBuZWVkZWQnLCAnQmV0dGVyIHByaWNlIGF2YWlsYWJsZScsICdSZWNlaXZlZCBkYW1hZ2VkIHByb2R1Y3RzJywgJ090aGVycyddLAogICAgICBvcmRlcl9ub3Rlc19kYXRhOiBbXSwKICAgICAgc2VsZWN0ZWRfb3JkZXJfbmFtZTogIiIsCiAgICAgIGlzX3dvb2NvbW1lcmNlX29yZGVyOiBmYWxzZSwKICAgICAgdmlzaXRvcnNfY3VycmVudF9sb2NhdGlvbjogbnVsbCwKICAgICAgaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZzogZmFsc2UsCiAgICAgIHZpc2l0b3JzX2N1cnJlbnRfbG9jYXRpb25fdXJsOiAiaHR0cHM6Ly9pcGdlb2xvY2F0aW9uLmFic3RyYWN0YXBpLmNvbS92MS8/YXBpX2tleT0iLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0NVUlJFTlRfTE9DQVRJT05fVE9LRU4pLAogICAgICBncmVldGluZ19idXR0b25zX3Bvc2l0aW9uOiBudWxsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGlzUHJldmlld0JvdDogQm9vbGVhbiwKICAgIGlzRGlhbG9nQm90OiBCb29sZWFuLAogICAgY3VycmVudF9wcmV2aWV3X2Jhbm5lcl9pZDogU3RyaW5nLAogICAgaXNUZXh0VG9Cb3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGlzQ2FsbGVkRnJvbVNldHVwOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY3VzdG9tX2dyZWV0aW5nc19idXR0b21fYWxpZ25tZW50OiBmdW5jdGlvbiBjdXN0b21fZ3JlZXRpbmdzX2J1dHRvbV9hbGlnbm1lbnQoKSB7CiAgICAgIGlmICh0aGlzLmlzX3JldGFpbF9ib3QpIHsKICAgICAgICByZXR1cm4gImNvbC1zbS0xMCBweC0wIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImNvbC1zbS0xMiBweC0wIjsKICAgICAgfQogICAgfSwKICAgIGNhcnRfYnV0dG9uX2FsaWdubWVudDogZnVuY3Rpb24gY2FydF9idXR0b25fYWxpZ25tZW50KCkgewogICAgICBpZiAodGhpcy5pc19yZXRhaWxfYm90KSB7CiAgICAgICAgcmV0dXJuICJjb2wtc20tMiBweC0wIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGlucHV0X2Rpc2FibGVkOiBmdW5jdGlvbiBpbnB1dF9kaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaGVkX29yX2Nsb3NlZCB8fCB0aGlzLndlbGNvbWVfbWVzc2FnZV9ub3RfeWV0X3JlY2VpdmVkOwogICAgfSwKICAgIGNzc1Byb3BzOiBmdW5jdGlvbiBjc3NQcm9wcygpIHsKICAgICAgdmFyIGJvdEF0dHJpYnV0ZXMgPSB7CiAgICAgICAgaGVhZF9jb2xvcjogdGhpcy5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZAogICAgICB9OwoKICAgICAgaWYgKHRoaXMuY29tcGFueWlkID09PSAicmV0YWlsaWdlbmNlODQ5MjYiKSB7CiAgICAgICAgYm90QXR0cmlidXRlcy5oZWFkX2NvbG9yID0gdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc2V4Y2hhbmdlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICItLWJvdC1oZWFkLWNvbG9yIjogIiNmZmYiLAogICAgICAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6ICIjMmIzMTg0IiwKICAgICAgICAgICItLWJvdC1idXR0b24tY29sb3IiOiAiI2ZkY2YzOCIsCiAgICAgICAgICAiLS1ib3QtbGluay1jb2xvciI6ICIjMmIzMTg0IiwKICAgICAgICAgICItLWJvdC1idXR0b24tYmFja2dyb3VuZCI6ICIjMWRhYWUxIiwKICAgICAgICAgICItLWJvdC1idXR0b25zLWFsaWdubWVudCI6ICJjZW50ZXIiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbnMtdmVydGljYWwtc3BhY2luZyI6ICI1JSIsCiAgICAgICAgICAiLS1ib3QtYnV0dG9ucy1ob3Jpem9udGFsLXNwYWNpbmciOiAiMyUiCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICAiLS1ib3QtaGVhZC1jb2xvciI6IGJvdEF0dHJpYnV0ZXMuaGVhZF9jb2xvciwKICAgICAgICAiLS1ib3Qtc2VuZGVyLWNvbG9yIjogdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUsCiAgICAgICAgIi0tYm90LWJ1dHRvbi1jb2xvciI6IHRoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lLAogICAgICAgICItLWJvdC1saW5rLWNvbG9yIjogdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUsCiAgICAgICAgIi0tYm90LWJ1dHRvbi1iYWNrZ3JvdW5kIjogdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUsCiAgICAgICAgIi0tYm90LWJ1dHRvbnMtYWxpZ25tZW50IjogdGhpcy5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50LnZhbHVlLAogICAgICAgICItLWJvdC1idXR0b25zLXZlcnRpY2FsLXNwYWNpbmciOiAiIi5jb25jYXQodGhpcy5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZywgIiUiKSwKICAgICAgICAiLS1ib3QtYnV0dG9ucy1ob3Jpem9udGFsLXNwYWNpbmciOiAiIi5jb25jYXQodGhpcy5jaGF0X3dpZGdldC5idXR0b25faG9yaXpvbnRhbF9zcGFjaW5nLCAiJSIpLAogICAgICAgICItLWJvdC1mb250LXN0eWxlIjogdGhpcy5jaGF0X3dpZGdldC5ib3RfZm9udF9zdHlsZS52YWx1ZSwKICAgICAgICAiLS1ib3QtZm9udC1jb2xvci1zZW5kZXIiOiB0aGlzLmNoYXRfd2lkZ2V0LmJvdF9mb250X2NvbG9yX3NlbmRlciwKICAgICAgICAiLS1ib3QtZm9udC1jb2xvci1yZWNlaXZlciI6IHRoaXMuY2hhdF93aWRnZXQuYm90X2ZvbnRfY29sb3JfcmVjZWl2ZXIsCiAgICAgICAgIi0tYm90LWZvbnQtY29sb3ItYnV0dG9ucyI6IHRoaXMuY2hhdF93aWRnZXQuYm90X2ZvbnRfY29sb3JfYnV0dG9ucwogICAgICB9OwogICAgfSwKICAgIGJvdF9pbWdfaWNvbjogZnVuY3Rpb24gYm90X2ltZ19pY29uKCkgewogICAgICByZXR1cm4gewogICAgICAgICJiYWNrZ3JvdW5kLWltYWdlIjogInVybCgiLmNvbmNhdCh0aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uLCAiKSIpCiAgICAgIH07CiAgICB9LAogICAgY2hhdF9ib3RfYmFja2dyb3VuZF9pbWFnZTogZnVuY3Rpb24gY2hhdF9ib3RfYmFja2dyb3VuZF9pbWFnZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAiYmFja2dyb3VuZC1pbWFnZSI6ICJ1cmwoIi5jb25jYXQodGhpcy5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSwgIikiKQogICAgICB9OwogICAgfSwKICAgIHNob3BpZnlfbG9naW5fYnV0dG9uX3RleHQ6IGZ1bmN0aW9uIHNob3BpZnlfbG9naW5fYnV0dG9uX3RleHQoKSB7CiAgICAgIGlmICh0aGlzLnJldGFpbF9vcmRlcl9yZXRyZWl2YWxfb25seV9lbWFpbF9yZXF1aXJlZCkgewogICAgICAgIHJldHVybiAiR28iOwogICAgICB9CgogICAgICByZXR1cm4gIkxvZ2luIjsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzY3JvbGxQb3NpdGlvbjogZnVuY3Rpb24gc2Nyb2xsUG9zaXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uID4gMTUwKSB7CiAgICAgICAgdGhpcy52aXNpYmxlX2N1c3RvbV9ncmVldGluZ3NfYnV0dG9tID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uIDwgMTUwKSB7CiAgICAgICAgdGhpcy52aXNpYmxlX2N1c3RvbV9ncmVldGluZ3NfYnV0dG9tID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB0b19zZW5kOiBmdW5jdGlvbiB0b19zZW5kKCkgewogICAgICB0aGlzLmJ1dHRvbl9maWxsKCk7CiAgICB9LAogICAgY2hhdDogZnVuY3Rpb24gY2hhdCgpIHsKICAgICAgdGhpcy5zY3JvbGxfZG93bigpOwogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlZDogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlZCgpIHsKICAgIHZhciByb3V0ZV9wYXJhbXMgPSB0aGlzLiRyb3V0ZS5wYXJhbXM7CgogICAgaWYgKHJvdXRlX3BhcmFtcy5yZWxvYWQgPT09IHRydWUpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpcywKICAgICAgICBfYXhpb3MkcG9zdDsKCiAgICB0aGlzLmxvYWRfd2lkZ2V0X3NldHRpbmdzKCk7CiAgICB2YXIgYm90X3RlbXBsYXRlc19kYXRhID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkJvdFRlbXBsYXRlcyIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm90X3RlbXBsYXRlc19kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChib3RfdGVtcGxhdGVzX2RhdGFbaV0uZG9tYWluID09PSAiUmV0YWlsIiAmJiBib3RfdGVtcGxhdGVzX2RhdGFbaV0uc3Vic2NyaWJlZCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuaXNfcmV0YWlsX2JvdCA9IHRydWU7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICBpZiAodGhpcy4kc2Vzc2lvbi5oYXMoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIpKSB7fSAvLyB0aGlzLmNoYXQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIik7CiAgICAvLyBpZiAoIXRoaXMuJHNlc3Npb24uaGFzKCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIikpIHsKICAgIC8vIH0gZWxzZSB7CiAgICAvLyAgIHRoaXMuY2hhdF93aWRnZXQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIpOwogICAgLy8gICB0aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDphdXRvO21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogMDsiOwogICAgLy8gfQoKCiAgICBpZiAoIXRoaXMuaXNQcmV2aWV3Qm90KSB7CiAgICAgIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIkJvdFRva2VuIikpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5ib3RfcmVzcG9uc2VfdG9rZW4oKSwgewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMuJHNlc3Npb24uc2V0KCJCb3RUb2tlbiIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIF90aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgX3RoaXMucmVmcmVzaF9jaGF0Ym90KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQm90VG9rZW4iKTsKICAgICAgICB0aGlzLnJlZnJlc2hfY2hhdGJvdCgpOwogICAgICB9CiAgICB9IC8vIGhhcnNoCgoKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkgPT0gIi5lSnhUY3NzdlNzMU16NnRJemtqTVMwODFORGV4TklRS0tVREZNa3BLQ29xdDlQWEx5OHYxMGxCVTZ5WG41LW9sbHVvYkdSaGE2aHFZNnhxWUtCZ2FXQmtaVzVtYTZobWJtNWdZbVNvQkFHYTlIcDAuWFIzVHV3Llg3N0ZfN0xEdE9McDJWdDlzbkZEU28zMW5UdyIpIHsKICAgICAgdGhpcy5pc2V4Y2hhbmdlID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAodGhpcy5jb21wYW55aWQgPT0gInJldGFpbGlnZW5jZTg0OTI2IikgewogICAgICB0aGlzLmlzcmV0YWlsaWdlbmNlID0gdHJ1ZTsKICAgIH0KCiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5ib3RfdXNlcl9kYXRhKCksIChfYXhpb3MkcG9zdCA9IHsKICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgdHo6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSwKICAgICAgZGF0ZXRpbWU6IGQudG9JU09TdHJpbmcoKSwKICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICBzb3VyY2U6ICJXZWIiCiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QsICJ0b2tlbiIsIHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0LCAicm9sZSIsIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2F4aW9zJHBvc3QpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge30pOwogICAgYXhpb3MucG9zdChhcGlfY2FsbHMucHJvZHVjdF9zZXR0aW5ncygpLCB7CiAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgIGlzX2VtYWlsX3ZlcmlmaWNhdGlvbl9zdGF0dXM6IHRydWUKICAgIH0sIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPSAiIiAmJiByZXNwb25zZS5kYXRhICE9IG51bGwgJiYgcmVzcG9uc2UuZGF0YSAhPSAiSW50ZXJuYWwgc2VydmVyIEVycm9yIikgewogICAgICAgIHZhciBzdGF0dXMgPSByZXNwb25zZS5kYXRhLnZlcmlmaWNhdGlvbl9zdGF0dXM7CgogICAgICAgIGlmIChzdGF0dXMgPT0gIlN1Y2Nlc3MiKSB7CiAgICAgICAgICBfdGhpcy5pc19zZW5kZXJfZW1haWwgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5pc19zZW5kZXJfZW1haWwgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuaXNfc2VuZGVyX2VtYWlsID0gZmFsc2U7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIF90aGlzLmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZnVuY3Rpb24gKGV2KSB7CiAgICAgIGlmIChldi50YXJnZXQuaWQgPT09ICdwb3J0YWxfY2hhdF9ib2R5X2lkJykgewogICAgICAgIHZtLnNjcm9sbFBvc2l0aW9uID0gZXYudGFyZ2V0WyJzY3JvbGxUb3AiXTsKICAgICAgfQogICAgfSwgdHJ1ZSk7IC8vIGxldCByZWNhcHRjaGFTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKQogICAgLy8gcmVjYXB0Y2hhU2NyaXB0LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2h0dHBzOi8vc2Rrcy5zaG9waWZ5Y2RuLmNvbS9idXktYnV0dG9uL2xhdGVzdC9idXlidXR0b24uanMnKQogICAgLy8gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChyZWNhcHRjaGFTY3JpcHQpCiAgICAvLyBjb25zdCBwbHVnaW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgIC8vIHBsdWdpbi5zZXRBdHRyaWJ1dGUoCiAgICAvLyAgICJzcmMiLAogICAgLy8gICAiaHR0cHM6Ly9zZGtzLnNob3BpZnljZG4uY29tL2J1eS1idXR0b24vbGF0ZXN0L2J1eWJ1dHRvbi5qcyIKICAgIC8vICk7CiAgICAvLyBwbHVnaW4uYXN5bmMgPSB0cnVlOwogICAgLy8gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChwbHVnaW4pOwoKICAgIHRoaXMuc2hvdyA9IGZhbHNlOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICJUcmFpbiB0aGUgQm90IikgewogICAgICAkKCIuY2hhdC13cmFwIikuY3NzKCJyaWdodCIsICJhdXRvIik7CiAgICB9CgogICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT0gIkRpcmVjdCBSZXNwb25zZSBCb3QiKSB7CiAgICAgICQoIi5jaGF0LXdyYXAiKS5jc3MoIm1hcmdpblRvcCIsICI1JSIpOwogICAgfQoKICAgIHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cuU3BlZWNoUmVjb2duaXRpb247CiAgICB3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0OwogICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgc29tZUxpc3RlbmVyKTsKCiAgICBmdW5jdGlvbiBzb21lTGlzdGVuZXIoZXZlbnQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAoKGVsZW1lbnQudGFnTmFtZSA9PSAiSSIgfHwgZWxlbWVudC50YWdOYW1lID09ICJBIikgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImZhLWNsaXBib2FyZCIpKSB7CiAgICAgICAgdmFyIG1zZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvcHktY29udGVudCIpOwogICAgICAgIHZhciB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTsKICAgICAgICB2YXIgdGVtcE1zZyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1zZyk7CiAgICAgICAgdGVtcC5hcHBlbmRDaGlsZCh0ZW1wTXNnKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRlbXApOwogICAgICAgIHRlbXAuc2VsZWN0KCk7CiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiKTsKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRlbXApOwogICAgICB9CiAgICB9CgogICAgdGhpcy4kcm9vdC4kZW1pdCgiY2hhbmdlX3NpZGViYXJfbWFpbl9tZW51IiwgIlNpbXVsYXRlIEludGVyYWN0aW9uIik7IC8vVG8gaGlkZSBjZW5zZSBjYXJ0IGlmIGNsaWNrZWQgb3V0c2lkZQoKICAgIGRvY3VtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgiI2NhcnQtYm94IikgfHwgZS50YXJnZXQuY2xvc2VzdCgiI2N1c3RvbS1jYXJ0IikpIHt9IGVsc2UgewogICAgICAgIHZtLmlzX2NlbnNlX2NhcnQgPSBmYWxzZTsKICAgICAgfQogICAgfTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLnN1Ym1pdF9jdXN0b21fZm9ybSgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZF93aWRnZXRfc2V0dGluZ3M6IGZ1bmN0aW9uIGxvYWRfd2lkZ2V0X3NldHRpbmdzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmdldF93aWRnZXRfc2V0dGluZ3MoKSwgewogICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGlzU2hvdzogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LnRpdGxlID0gcmVzcG9uc2UuZGF0YS5XaWRnZXRUaXRsZTsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQubG9nbyA9IHJlc3BvbnNlLmRhdGEuSW1hZ2VVcmw7CiAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJ1dHRvbl90aGVtZSA9IHJlc3BvbnNlLmRhdGEuQnV0dG9uVGhlbWU7CiAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJvdF9mb250X3N0eWxlID0gcmVzcG9uc2UuZGF0YS5Cb3RGb250LkZvbnRTdHlsZTsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2ZvbnRfY29sb3Jfc2VuZGVyID0gcmVzcG9uc2UuZGF0YS5Cb3RGb250LkZvbnRDb2xvclNlbmRlcjsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2ZvbnRfY29sb3JfcmVjZWl2ZXIgPSByZXNwb25zZS5kYXRhLkJvdEZvbnQuRm9udENvbG9yUmVjZWl2ZXI7CiAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJvdF9mb250X2NvbG9yX2J1dHRvbnMgPSByZXNwb25zZS5kYXRhLkJvdEZvbnQuRm9udENvbG9yQnV0dG9uczsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gcmVzcG9uc2UuZGF0YS5Cb3RUaGVtZTsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYnV0dG9uX2FsaWdubWVudCA9IHJlc3BvbnNlLmRhdGEuQm90U3R5bGluZzsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2ljb24gPSByZXNwb25zZS5kYXRhLkJvdEltYWdlVXJsOwogICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9IHJlc3BvbnNlLmRhdGEuQnV0dG9uU3R5bGluZy52ZXJ0aWNhbDsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZyA9IHJlc3BvbnNlLmRhdGEuQnV0dG9uU3R5bGluZy5ob3Jpem9udGFsOwogICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSA9IHJlc3BvbnNlLmRhdGEuQmdJbWFnZVVybDsKICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQgPSByZXNwb25zZS5kYXRhLkhlYWRlclRoZW1lOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MuZGF0YS5yZXNwb25zZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIGlzX3Zpc2libGVfZ3JlZXRpbmdzID0gcmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MuZGF0YS5yZXNwb25zZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IGl0ZW0udmlzaWJsZSA6IHRydWU7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoaXNfdmlzaWJsZV9ncmVldGluZ3MuaW5jbHVkZXModHJ1ZSkpIHsKICAgICAgICAgICAgX3RoaXMyLmdyZWV0aW5nX2J1dHRvbnNfcG9zaXRpb24gPSByZXNwb25zZS5kYXRhLkJvdEdyZWV0aW5ncy5kYXRhLnJlc3BvbnNlcy5sZW5ndGggLSAxOwoKICAgICAgICAgICAgaWYgKEJvb2xlYW4ocmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MuZGF0YS5yZXNwb25zZXNbX3RoaXMyLmdyZWV0aW5nX2J1dHRvbnNfcG9zaXRpb25dWydidXR0b25zJ10pKSB7CiAgICAgICAgICAgICAgdmFyIHZpc2libGVfYnV0dG9ucyA9IHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzW190aGlzMi5ncmVldGluZ19idXR0b25zX3Bvc2l0aW9uXVsnYnV0dG9ucyddOwogICAgICAgICAgICAgIHZpc2libGVfYnV0dG9ucyA9IHZpc2libGVfYnV0dG9ucy5maWx0ZXIoZnVuY3Rpb24gKGJ1dHRvbikgewogICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvblsndmlzaWJsZSddID09PSB0cnVlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzW190aGlzMi5ncmVldGluZ19idXR0b25zX3Bvc2l0aW9uXVsnYnV0dG9ucyddID0gdmlzaWJsZV9idXR0b25zOyAvLyBjb25zb2xlLmxvZyh2aXNpYmxlX2J1dHRvbnMpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgdmlzaWJsZV9ncmVldGluZ3NfbWFwID0gaXNfdmlzaWJsZV9ncmVldGluZ3MucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGUpIHsKICAgICAgICAgICAgICByZXR1cm4gYWNjLnNldChlLCAoYWNjLmdldChlKSB8fCAwKSArIDEpOwogICAgICAgICAgICB9LCBuZXcgTWFwKCkpOyAvLyBjb25zb2xlLmxvZyh2aXNpYmxlX2dyZWV0aW5nc19tYXApOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2aXNpYmxlX2dyZWV0aW5nc19tYXAuZ2V0KHRydWUpKTsKCiAgICAgICAgICAgIHZhciBzcGxpY2VfaW5kZXggPSBbXTsKCiAgICAgICAgICAgIGlmICh2aXNpYmxlX2dyZWV0aW5nc19tYXAuZ2V0KHRydWUpICE9PSByZXNwb25zZS5kYXRhLkJvdEdyZWV0aW5ncy5kYXRhLnJlc3BvbnNlcy5sZW5ndGggJiYgdmlzaWJsZV9idXR0b25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaW5zaWRlIDE5NzMnKTsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLkJvdEdyZWV0aW5ncy5kYXRhLnJlc3BvbnNlcyk7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzW190aGlzMi5ncmVldGluZ19idXR0b25zX3Bvc2l0aW9uXS52aXNpYmxlID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coImlmIDE5NzYiKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSByZXNwb25zZS5kYXRhLkJvdEdyZWV0aW5ncy5kYXRhLnJlc3BvbnNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGkscmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MuZGF0YS5yZXNwb25zZXNbaV0udmlzaWJsZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzW2ldLnZpc2libGUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLkJvdEdyZWV0aW5ncy5kYXRhLnJlc3BvbnNlc1tpLTFdKTsKICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzW2kgLSAxIDwgMCA/IGkgOiBpIC0gMV1bJ2J1dHRvbnMnXSA9IHZpc2libGVfYnV0dG9uczsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5ncmVldGluZ19idXR0b25zX3Bvc2l0aW9uID0gaSAtIDEgPCAwID8gaSA6IGkgLSAxOwogICAgICAgICAgICAgICAgICAgICAgc3BsaWNlX2luZGV4LnB1c2goaSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzKTsKCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJlbHNlIDE5ODciKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gcmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MuZGF0YS5yZXNwb25zZXMubGVuZ3RoIC0gMTsgX2kgPj0gMDsgX2ktLSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MuZGF0YS5yZXNwb25zZXNbX2ldLnZpc2libGUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgc3BsaWNlX2luZGV4LnB1c2goX2kpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSAvLyBjb25zb2xlLmxvZygxOTk1LCBzcGxpY2VfaW5kZXgpOwoKCiAgICAgICAgICAgICAgZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgc3BsaWNlX2luZGV4Lmxlbmd0aDsgX2luZGV4KyspIHsKICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzLnNwbGljZShzcGxpY2VfaW5kZXhbX2luZGV4XSwgMSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczIucHVzaF9tc2cocmVzcG9uc2UuZGF0YS5Cb3RHcmVldGluZ3MsIHJlc3BvbnNlLmRhdGEuQm90R3JlZXRpbmdzLmRhdGEucmVzcG9uc2VzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKF90aGlzMi5pc19yZXRhaWxfYm90KSB7CiAgICAgICAgICAgIF90aGlzMi5sb2FkX2NoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzMi5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5idXR0b25fYWxpZ25tZW50ID0gImZsZXgtZW5kIjsKICAgICAgICB9CgogICAgICAgIGlmIChfdGhpczIuY2hhdF93aWRnZXQuYm90X2ljb24gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLiRzZXNzaW9uLnNldCgiQ2hhdEJvdEltYWdlUGFyYW1ldGVycyIsIF90aGlzMi5jaGF0X3dpZGdldCk7CgogICAgICAgIHZhciBzdHlsaW5nX3ZhbHVlID0gcmVzcG9uc2UuZGF0YS5IZWFkZXJTdHlsaW5nLnZhbHVlOwogICAgICAgIHZhciB0ZW1wX3N0cmluZyA9ICIiOwoKICAgICAgICBpZiAoc3R5bGluZ192YWx1ZSA9PT0gImxlZnQiKSB7CiAgICAgICAgICB0ZW1wX3N0cmluZyA9ICJtYXJnaW4tbGVmdDogMDttYXJnaW4tcmlnaHQ6IGF1dG87IjsKICAgICAgICB9IGVsc2UgaWYgKHN0eWxpbmdfdmFsdWUgPT09ICJyaWdodCIpIHsKICAgICAgICAgIHRlbXBfc3RyaW5nID0gIm1hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogMDsiOwogICAgICAgIH0gZWxzZSBpZiAoc3R5bGluZ192YWx1ZSA9PT0gImNlbnRlciIpIHsKICAgICAgICAgIHRlbXBfc3RyaW5nID0gIm1hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0ZW1wX3N0cmluZyA9ICJtYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87IjsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5zdHlsZSA9ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6YXV0bzttYXgtd2lkdGg6MTAwJSAhaW1wb3J0YW50OyIgKyB0ZW1wX3N0cmluZzsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoX3RoaXMyLmlzX3JldGFpbF9ib3QpIHsKICAgICAgICAgIF90aGlzMi5sb2FkX2NoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUucmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczIuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUgPT0gImdvZ3liIikgewogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOjYwcHg7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvY2Vuc2VfaW1hZ2UucG5nIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmcgPSAiNSI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5idXR0b25faG9yaXpvbnRhbF9zcGFjaW5nID0gIjMiOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UgPSAiIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmhlYWRlcl9iYWNrZ3JvdW5kID0gIiNmZmZmZmYiOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lID0gIiMxZGFhZTEiOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gIiMyNzM2NzkiOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUgPT0gIk1UIENhcmUiKSB7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvcm9ib21hdGVfbG9nby5wbmciOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDo1MHB4O3dpZHRoOjk1cHg7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5ib3RfaWNvbiA9ICIvaW1nL0JvdF9pbWcucG5nIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJ1dHRvbl92ZXJ0aWNhbF9zcGFjaW5nID0gIjUiOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZyA9ICIzIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJvdF9iYWNrZ3JvdW5kX2ltYWdlID0gIiI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZCA9ICIjZmZmZmZmIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJ1dHRvbl90aGVtZSA9ICIjMWRhYWUxIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSA9ICIjMjczNjc5IjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvY2Vuc2VfaW1hZ2UucG5nIjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDo2MHB4O21hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogYXV0bzsiOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2ljb24gPSAiL2ltZy9Cb3RfaW1nLnBuZyI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9ICI1IjsKICAgICAgICAgICAgX3RoaXMyLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcgPSAiMyI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSA9ICIiOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQgPSAiI2ZmZmZmZiI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5idXR0b25fdGhlbWUgPSAiIzFkYWFlMSI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5ib3RfdGhlbWUgPSAiIzI3MzY3OSI7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5ib3RfZm9udF9zdHlsZSA9ICdSb2JvdG8nOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2ZvbnRfY29sb3Jfc2VuZGVyID0gJyNmZmZmZmYnOwogICAgICAgICAgICBfdGhpczIuY2hhdF93aWRnZXQuYm90X2ZvbnRfY29sb3JfcmVjZWl2ZXIgPSAnIzAwMDAwMCc7CiAgICAgICAgICAgIF90aGlzMi5jaGF0X3dpZGdldC5ib3RfZm9udF9jb2xvcl9idXR0b25zID0gJyNmZmZmZmYnOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMi4kc2Vzc2lvbi5zZXQoIkNoYXRCb3RJbWFnZVBhcmFtZXRlcnMiLCBfdGhpczIuY2hhdF93aWRnZXQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZF9jaGF0Ym90X2ludGVncmF0aW9uX2RldGFpbHM6IGZ1bmN0aW9uIGxvYWRfY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICBfdGhpczMuY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzX3Jlc3BvbnNlKHJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgLy8gdGhpcy5zaG9waWZ5X3JldGFpbF9zaG9wX25hbWUgPSAiZWFydGhvbiI7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlscygpLCB7CiAgICAgICAgICAgICAgaXNfZ2V0OiB0cnVlLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXMzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IF90aGlzMy5jb21wYW55aWQsCiAgICAgICAgICAgICAgZW1haWw6IF90aGlzMy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzMy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzX3Jlc3BvbnNlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGF0Ym90X2ludGVncmF0aW9uX2RldGFpbHNfcmVzcG9uc2U6IGZ1bmN0aW9uIGNoYXRib3RfaW50ZWdyYXRpb25fZGV0YWlsc19yZXNwb25zZShyZXNwb25zZSkgewogICAgICB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJldGFpbF93ZWJfZnJhbWV3b3JrOwogICAgICB2YXIgd2ViZnJhbWV3b3JrID0gcmVzcG9uc2UuZGF0YS5kYXRhW3RoaXMucmV0YWlsX3dlYl9mcmFtZXdvcmsgKyAnX2RldGFpbHMnXTsKICAgICAgdGhpcy5zaG93X2N1c3RvbV9jYXJ0ID0gdGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayAhPSBudWxsID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgaWYgKHdlYmZyYW1ld29yayAhPT0gbnVsbCAmJiB3ZWJmcmFtZXdvcmsgIT09IHt9KSB7CiAgICAgICAgdGhpcy5yZXRhaWxfc2hvcF9jdXJyZW5jeSA9IHdlYmZyYW1ld29yay5iYXNlX2N1cnJlbmN5LnZhbHVlIHx8ICJVU0QiOwogICAgICAgIHRoaXMucmV0YWlsX29yZGVyX3JldHJlaXZhbF9vbmx5X2VtYWlsX3JlcXVpcmVkID0gd2ViZnJhbWV3b3JrLm9yZGVyX3JldHJpZXZhbF9vbmx5X2VtYWlsX3JlcXVpcmVkIHx8IGZhbHNlOwogICAgICAgIHRoaXMuY29udGFjdF9oZWxwX2VtYWlsID0gd2ViZnJhbWV3b3JrLmNvbnRhY3RfaGVscF9lbWFpbDsKICAgICAgICB0aGlzLnJldmlld19yZXNwb25zZV9tZXNzYWdlID0gd2ViZnJhbWV3b3JrLnJldmlld19yZXNwb25zZV9tZXNzYWdlOwogICAgICAgIHRoaXMucmV2aWV3X21lc3NhZ2VfZmlyc3QgPSB3ZWJmcmFtZXdvcmsucmV2aWV3X21lc3NhZ2VfZmlyc3Q7CiAgICAgICAgdGhpcy5yZXZpZXdfbWVzc2FnZV9zZWNvbmQgPSB3ZWJmcmFtZXdvcmsucmV2aWV3X21lc3NhZ2Vfc2Vjb25kOwogICAgICAgIHRoaXMuZGlzcGxheV9wcm9kdWN0cyA9IHdlYmZyYW1ld29yay5kaXNwbGF5X3Byb2R1Y3RzX29uX2xhbmRpbmc7CiAgICAgICAgdGhpcy5pc19kaXNwbGF5X2Jhbm5lcl9vbl9sYW5kaW5nID0gd2ViZnJhbWV3b3JrLmlzX2Rpc3BsYXlfYmFubmVyX29uX2xhbmRpbmc7CgogICAgICAgIGlmICh0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJzaG9waWZ5IikgewogICAgICAgICAgdGhpcy5zaG9waWZ5X3JldGFpbF9zaG9wX25hbWUgPSB3ZWJmcmFtZXdvcmsuc2hvcGlmeV9zaG9wX25hbWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2hvcF91cmwgPSB3ZWJmcmFtZXdvcmtbdGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayArICdfc2hvcF91cmwnXTsKICAgICAgICB9CiAgICAgIH0gLy8gc2V0VGltZW91dCgoKSA9PiB7CgoKICAgICAgaWYgKCF0aGlzLmlzUHJldmlld0JvdCkgewogICAgICAgIHRoaXMuZ2V0X3Zpc2l0b3JzX2N1cnJlbnRfbG9jYXRpb24oKTsKICAgICAgfSBlbHNlIGlmIChCb29sZWFuKHRoaXMuY3VycmVudF9wcmV2aWV3X2Jhbm5lcl9pZCkpIHsKICAgICAgICB0aGlzLnByZXZpZXdfYmFubmVyKCk7CiAgICAgIH0gLy8gfSwgMzAwMCk7CgogICAgfSwKICAgIGNvbnRhY3RfdXNfcGhvbmVfbnVtYmVyOiBmdW5jdGlvbiBjb250YWN0X3VzX3Bob25lX251bWJlcihwaG9uZV9udW1iZXIpIHsKICAgICAgaWYgKEJvb2xlYW4ocGhvbmVfbnVtYmVyKSkgewogICAgICAgIHJldHVybiAiIG9yIGNhbGwgdXMgYXQ6ICIgKyBwaG9uZV9udW1iZXI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlX3ZhcmlhdGlvbjogZnVuY3Rpb24gdXBkYXRlX3ZhcmlhdGlvbihjaGF0X2lkLCBwcm9kdWN0X2luZGV4LCB0aXRsZSkgewogICAgICBmb3IgKHZhciBpIGluIHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W3Byb2R1Y3RfaW5kZXhdLnZhcmlhdGlvbnMpIHsKICAgICAgICBpZiAodGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0udmFyaWF0aW9uc1tpXS52YXJpYW50X3RpdGxlID09IHRpdGxlKSB7CiAgICAgICAgICB0aGlzLmNoYXRbY2hhdF9pZF0ucHJvZHVjdHNfbGlzdFtwcm9kdWN0X2luZGV4XS5pbWdfdXJsID0gdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0udmFyaWF0aW9uc1tpXS5pbWdfdXJsOwogICAgICAgICAgdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0uaWQgPSB0aGlzLmNoYXRbY2hhdF9pZF0ucHJvZHVjdHNfbGlzdFtwcm9kdWN0X2luZGV4XS52YXJpYXRpb25zW2ldLmlkOwogICAgICAgICAgdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0ucGVybWFsaW5rID0gdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0udmFyaWF0aW9uc1tpXS5wZXJtYWxpbms7CiAgICAgICAgICB0aGlzLmNoYXRbY2hhdF9pZF0ucHJvZHVjdHNfbGlzdFtwcm9kdWN0X2luZGV4XS5wcmljZSA9IHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W3Byb2R1Y3RfaW5kZXhdLnZhcmlhdGlvbnNbaV0ucHJpY2U7CiAgICAgICAgICB0aGlzLmNoYXRbY2hhdF9pZF0ucHJvZHVjdHNfbGlzdFtwcm9kdWN0X2luZGV4XS5yZWd1bGFyX3ByaWNlID0gdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0udmFyaWF0aW9uc1tpXS5yZWd1bGFyX3ByaWNlOwogICAgICAgICAgdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0uc3RvY2tfcXVhbnRpdHkgPSB0aGlzLmNoYXRbY2hhdF9pZF0ucHJvZHVjdHNfbGlzdFtwcm9kdWN0X2luZGV4XS52YXJpYXRpb25zW2ldLnN0b2NrX3F1YW50aXR5OwogICAgICAgICAgdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0uc3RvY2tfc3RhdHVzID0gdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0udmFyaWF0aW9uc1tpXS5zdG9ja19zdGF0dXM7CiAgICAgICAgICB0aGlzLmNoYXRbY2hhdF9pZF0ucHJvZHVjdHNfbGlzdFtwcm9kdWN0X2luZGV4XS52YXJpYW50X3RpdGxlID0gdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbcHJvZHVjdF9pbmRleF0udmFyaWF0aW9uc1tpXS52YXJpYW50X3RpdGxlOwogICAgICAgIH0KICAgICAgfSAvLyBjb25zdCBmb3VuZCA9IHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W3Byb2R1Y3RfaW5kZXhdLnZhcmlhdGlvbnMuc29tZShlbCA9PiBlbC52YXJpYW50X3RpdGxlID09ICJEZWZhdWx0Iik7CiAgICAgIC8vIGlmICghZm91bmQpIHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W3Byb2R1Y3RfaW5kZXhdLnZhcmlhdGlvbnMucHVzaChkZWZhdWx0X3ZhbHVlcyk7CgogICAgfSwKICAgIGdldF92aXNpdG9yc19jdXJyZW50X2xvY2F0aW9uOiBmdW5jdGlvbiBnZXRfdmlzaXRvcnNfY3VycmVudF9sb2NhdGlvbigpIHsKICAgICAgaWYgKHRoaXMuaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZyA9PT0gdHJ1ZSkgewogICAgICAgIHZhciBjdXRvZmYgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBkYXRlX3RpbWUgPSBtb21lbnQudXRjKGN1dG9mZiwgWyJZWVlZLU1NLUREIEhIOm1tOnNzIl0pLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbTpzcyIpOwogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgJC5nZXRKU09OKHZtLnZpc2l0b3JzX2N1cnJlbnRfbG9jYXRpb25fdXJsLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgdm0udmlzaXRvcnNfY3VycmVudF9sb2NhdGlvbiA9IHsKICAgICAgICAgICAgICAiaXBfYWRkcmVzcyI6IGRhdGEuaXBfYWRkcmVzcywKICAgICAgICAgICAgICAiY2l0eSI6IGRhdGEuY2l0eSwKICAgICAgICAgICAgICAiY2l0eV9nZW9uYW1lX2lkIjogZGF0YS5jaXR5X2dlb25hbWVfaWQsCiAgICAgICAgICAgICAgInJlZ2lvbiI6IGRhdGEucmVnaW9uLAogICAgICAgICAgICAgICJyZWdpb25faXNvX2NvZGUiOiBkYXRhLnJlZ2lvbl9pc29fY29kZSwKICAgICAgICAgICAgICAicmVnaW9uX2dlb25hbWVfaWQiOiBkYXRhLnJlZ2lvbl9nZW9uYW1lX2lkLAogICAgICAgICAgICAgICJwb3N0YWxfY29kZSI6IGRhdGEucG9zdGFsX2NvZGUsCiAgICAgICAgICAgICAgImNvdW50cnkiOiBkYXRhLmNvdW50cnksCiAgICAgICAgICAgICAgImNvdW50cnlfY29kZSI6IGRhdGEuY291bnRyeV9jb2RlLAogICAgICAgICAgICAgICJjb3VudHJ5X2dlb25hbWVfaWQiOiBkYXRhLmNvdW50cnlfZ2VvbmFtZV9pZCwKICAgICAgICAgICAgICAiY291bnRyeV9pc19ldSI6IGRhdGEuY291bnRyeV9pc19ldSwKICAgICAgICAgICAgICAiY29udGluZW50IjogZGF0YS5jb250aW5lbnQsCiAgICAgICAgICAgICAgImNvbnRpbmVudF9jb2RlIjogZGF0YS5jb250aW5lbnRfY29kZSwKICAgICAgICAgICAgICAiY29udGluZW50X2dlb25hbWVfaWQiOiBkYXRhLmNvbnRpbmVudF9nZW9uYW1lX2lkLAogICAgICAgICAgICAgICJsb25naXR1ZGUiOiBkYXRhLmxvbmdpdHVkZSwKICAgICAgICAgICAgICAibGF0aXR1ZGUiOiBkYXRhLmxhdGl0dWRlLAogICAgICAgICAgICAgICJzZWN1cml0eSI6IGRhdGEuc2VjdXJpdHksCiAgICAgICAgICAgICAgImRhdGVfdGltZSI6IGRhdGVfdGltZQogICAgICAgICAgICB9OwogICAgICAgICAgICB2bS5pc19kaXNwbGF5X2Jhbm5lcigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0uaXNfZGlzcGxheV9wcm9kdWN0cygpOwogICAgICAgICAgfQogICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZtLmlzX2Rpc3BsYXlfcHJvZHVjdHMoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzX2Rpc3BsYXlfcHJvZHVjdHMoKTsKICAgICAgfQogICAgfSwKICAgIHByZXZpZXdfYmFubmVyOiBmdW5jdGlvbiBwcmV2aWV3X2Jhbm5lcigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5iYW5uZXJfdGVtcGxhdGUoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgIGlzX3ByZXZpZXdfYmFubmVyOiB0cnVlLAogICAgICAgIGJhbm5lcl9pZDogdGhpcy5jdXJyZW50X3ByZXZpZXdfYmFubmVyX2lkCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgaWYgKEJvb2xlYW4ocmVzcG9uc2UuZGF0YS5yZXNwb25zZXMubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgX3RoaXM0LnJlc3BvbnNlX2hhbmRsaW5nKHJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczQuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpc19kaXNwbGF5X2Jhbm5lcjogZnVuY3Rpb24gaXNfZGlzcGxheV9iYW5uZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KGFwaV9jYWxscy5iYW5uZXJfdGVtcGxhdGUoKSwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgaXNfZGlzcGxheV9iYW5uZXI6IHRydWUsCiAgICAgICAgICB2aXNpdG9yc19jdXJyZW50X2xvY2F0aW9uOiB0aGlzLnZpc2l0b3JzX2N1cnJlbnRfbG9jYXRpb24KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIGlmIChCb29sZWFuKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgIF90aGlzNS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBfdGhpczUuaXNfZGlzcGxheV9wcm9kdWN0cygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzNS5pc19kaXNwbGF5X3Byb2R1Y3RzKCk7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaXNfZGlzcGxheV9wcm9kdWN0czogZnVuY3Rpb24gaXNfZGlzcGxheV9wcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5kaXNwbGF5X3Byb2R1Y3RzID09PSB0cnVlKSB7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZGlzcGxheV9sYW5kaW5nX3Byb2R1Y3RzKCksIHsKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgc291cmNlOiAiV2ViIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgcHJvZHVjdHNfY291bnQgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1swXS5wcm9kdWN0cy5wcm9kdWN0c19saXN0Lmxlbmd0aDsKCiAgICAgICAgICBpZiAocHJvZHVjdHNfY291bnQgPiAwKSB7CiAgICAgICAgICAgIF90aGlzNi5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM2LmlzX3Jldmlld19yYXRpbmcoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXM2LmlzX3Jldmlld19yYXRpbmcoKTsKCiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXM2LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNfcmV2aWV3X3JhdGluZygpOwogICAgICB9CiAgICB9LAogICAgY2hlY2tfc2hvcGlmeV9jdXN0b21lcl90b2tlbl9leHBpcnk6IGZ1bmN0aW9uIGNoZWNrX3Nob3BpZnlfY3VzdG9tZXJfdG9rZW5fZXhwaXJ5KCkgewogICAgICB2YXIgY3V0b2ZmID0gdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW5fZXhwaXJ5Iik7CiAgICAgIGN1dG9mZiA9IG1vbWVudChjdXRvZmYsIFsiWVlZWS1NTS1ERFRoaDptbTpzc1oiXSk7CiAgICAgIHZhciBjdXJyZW50X3RpbWUgPSBuZXcgRGF0ZShjdXRvZmYpOwoKICAgICAgaWYgKG1vbWVudCgpLmlzQmVmb3JlKGN1cnJlbnRfdGltZSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBpc19yZXZpZXdfcmF0aW5nOiBmdW5jdGlvbiBpc19yZXZpZXdfcmF0aW5nKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmIChCb29sZWFuKHRoaXMuJHNlc3Npb24uZ2V0KCJzaG9waWZ5X2N1c3RvbWVyX2lkIikpIHx8IEJvb2xlYW4odGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKSkpIHsKICAgICAgICB2YXIgc3RyaW5naWZpZWRfY3VzdG9tZXJfcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIGN1c3RvbWVySWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJzaG9waWZ5X2N1c3RvbWVyX2lkIiksCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKQogICAgICAgIH0pOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgY2hhdDogIi9yZXRyaWV2ZV9jdXN0b21lcl9vcmRlcnMiLmNvbmNhdChzdHJpbmdpZmllZF9jdXN0b21lcl9wYXlsb2FkKSwKICAgICAgICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgcmVmcmVzaGVkX29yX2Nsb3NlZDogZmFsc2UKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKEJvb2xlYW4ocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbMF0uY3VzdG9tKSkgewogICAgICAgICAgICBpZiAoQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1swXS5jdXN0b20ub3JkZXJzX2xpc3QubGVuZ3RoID4gMCkpIHsKICAgICAgICAgICAgICBfdGhpczcuY2FsbF9yZXZpZXdfcmF0aW5nKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbS5vcmRlcnNfbGlzdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNhbGxfcmV2aWV3X3JhdGluZzogZnVuY3Rpb24gY2FsbF9yZXZpZXdfcmF0aW5nKGRhdGEpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgZnVsZmlsbGVkX29yZGVycyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChmdWxmaWxsZWRfb3JkZXIpIHsKICAgICAgICByZXR1cm4gZnVsZmlsbGVkX29yZGVyLmZ1bGZpbGxtZW50X3N0YXR1cyA9PT0gImZ1bGZpbGxlZCI7CiAgICAgIH0pOwogICAgICB2YXIgc29ydGVkX2Z1bGZpbGxlZF9vcmRlcnMgPSBmdWxmaWxsZWRfb3JkZXJzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxpbmVfaXRlbXMubWFwKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICByZXR1cm4gcHJvZHVjdDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb2R1Y3RfcmV2aWV3X3JhdGluZygpLCB7CiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICB3ZWJfZnJhbWV3b3JrOiB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrLAogICAgICAgIGlzX2dldF9yZXZpZXdlZF9wcm9kdWN0X2lkOiB0cnVlLAogICAgICAgIHJldmlld19yYXRpbmdfY3VzdG9tZXJfaWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJzaG9waWZ5X2N1c3RvbWVyX2lkIiksCiAgICAgICAgcmV2aWV3X3JhdGluZ19jdXN0b21lcl9lbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaXNfcmV2aWV3ID09PSB0cnVlKSB7CiAgICAgICAgICB2YXIgcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzID0gW107CiAgICAgICAgICB2YXIgbm90X3Jldmlld2VkX3Byb2R1Y3RfZGV0YWlscyA9IFtdOwogICAgICAgICAgdmFyIHJldmlld2VkX3Byb2R1Y3RfaWRfbGlzdCA9IHJlc3BvbnNlLmRhdGEucHJvZHVjdF9pZF9saXN0OwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydGVkX2Z1bGZpbGxlZF9vcmRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzb3J0ZWRfZnVsZmlsbGVkX29yZGVyc1tpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChyZXZpZXdlZF9wcm9kdWN0X2lkX2xpc3QuaW5jbHVkZXMoc29ydGVkX2Z1bGZpbGxlZF9vcmRlcnNbaV1bal0ucHJvZHVjdF9pZCkpIHsKICAgICAgICAgICAgICAgIHJldmlld2VkX3Byb2R1Y3RfZGV0YWlscy5wdXNoKHNvcnRlZF9mdWxmaWxsZWRfb3JkZXJzW2ldW2pdKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbm90X3Jldmlld2VkX3Byb2R1Y3RfZGV0YWlscy5wdXNoKHNvcnRlZF9mdWxmaWxsZWRfb3JkZXJzW2ldW2pdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobm90X3Jldmlld2VkX3Byb2R1Y3RfZGV0YWlscy5sZW5ndGggPiAwICYmIEJvb2xlYW4oX3RoaXM4LnJldmlld19tZXNzYWdlX2ZpcnN0KSA9PT0gdHJ1ZSAmJiBCb29sZWFuKF90aGlzOC5yZXZpZXdfbWVzc2FnZV9zZWNvbmQpID09PSB0cnVlICYmIEJvb2xlYW4oX3RoaXM4LnJldmlld19yZXNwb25zZV9tZXNzYWdlKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3Jldmlld19yYXRpbmcoKSwgewogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXM4LmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IF90aGlzOC5jb21wYW55aWQsCiAgICAgICAgICAgICAgZW1haWw6IF90aGlzOC4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczguJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogX3RoaXM4LmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXM4LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgd2ViX2ZyYW1ld29yazogX3RoaXM4LnJldGFpbF93ZWJfZnJhbWV3b3JrLAogICAgICAgICAgICAgIGlzX2dldF9wcm9kdWN0X2ltYWdlOiB0cnVlLAogICAgICAgICAgICAgIHByb2R1Y3RfaWQ6IG5vdF9yZXZpZXdlZF9wcm9kdWN0X2RldGFpbHNbMF0ucHJvZHVjdF9pZAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChfdGhpczguJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICdJbWFnZSBSZWNlaXZlZCBTdWNjZXNzZnVsbHknKSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdF9yZXZpZXdfaW1nX3VybCA9IHJlc3BvbnNlLmRhdGEuaW1hZ2Vfc3JjOwogICAgICAgICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgICAgICAgaXNfcmV2aWV3X3JhdGluZ19wcm9kdWN0OiB0cnVlLAogICAgICAgICAgICAgICAgICBub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzOiBub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzWzBdLAogICAgICAgICAgICAgICAgICByZXZpZXdfbWVzc2FnZV9maXJzdDogX3RoaXM4LnJldmlld19tZXNzYWdlX2ZpcnN0LAogICAgICAgICAgICAgICAgICByZXZpZXdfbWVzc2FnZV9zZWNvbmQ6IF90aGlzOC5yZXZpZXdfbWVzc2FnZV9zZWNvbmQsCiAgICAgICAgICAgICAgICAgIHByb2R1Y3RfcmV2aWV3X2ltZ191cmw6IHByb2R1Y3RfcmV2aWV3X2ltZ191cmwsCiAgICAgICAgICAgICAgICAgIHByb2R1Y3RfcmF0aW5nOiBudWxsLAogICAgICAgICAgICAgICAgICBwcm9kdWN0X3JldmlldzogJycsCiAgICAgICAgICAgICAgICAgIHRpbWU6IF90aGlzOC5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXM4LmNoYXQucHVzaChtc2cpOwoKICAgICAgICAgICAgICAgIF90aGlzOC51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHRvYXN0ci5lcnJvcigiU29tZSBFcnJvciBPY2N1cnJlZC4iKTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczguJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRfcmV2aWV3X3JhdGluZzogZnVuY3Rpb24gc3VibWl0X3Jldmlld19yYXRpbmcoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICBpZiAoQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLnByb2R1Y3RfcmF0aW5nKSA9PT0gZmFsc2UpIHsKICAgICAgICBzd2FsKHsKICAgICAgICAgIHRleHQ6ICJQbGVhc2UgZ2l2ZSByYXRpbmciLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0aW1lcjogNTAwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5wcm9kdWN0X3JldmlldykgPT09IGZhbHNlKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiAiUGxlYXNlIHdyaXRlIHJldmlldyIsCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAic2hvcGlmeSIpIHsKICAgICAgICB2YXIgcHJvZHVjdF9kZXRhaWxzID0gewogICAgICAgICAgInByb2R1Y3RfaWQiOiB0aGlzLmNoYXRbaW5kZXhdLm5vdF9yZXZpZXdlZF9wcm9kdWN0X2RldGFpbHMucHJvZHVjdF9pZCwKICAgICAgICAgICJuYW1lIjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLm5hbWUsCiAgICAgICAgICAiaW1hZ2Vfc3JjIjogdGhpcy5jaGF0W2luZGV4XS5wcm9kdWN0X3Jldmlld19pbWdfdXJsLAogICAgICAgICAgInByaWNlIjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLnByaWNlLAogICAgICAgICAgInF1YW50aXR5IjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLnF1YW50aXR5LAogICAgICAgICAgInZhcmlhbnRfaWQiOiB0aGlzLmNoYXRbaW5kZXhdLm5vdF9yZXZpZXdlZF9wcm9kdWN0X2RldGFpbHMudmFyaWFudF9pZAogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAid29vY29tbWVyY2UiKSB7CiAgICAgICAgdmFyIHByb2R1Y3RfZGV0YWlscyA9IHsKICAgICAgICAgICJwcm9kdWN0X2lkIjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLnByb2R1Y3RfaWQsCiAgICAgICAgICAibmFtZSI6IHRoaXMuY2hhdFtpbmRleF0ubm90X3Jldmlld2VkX3Byb2R1Y3RfZGV0YWlscy5uYW1lLAogICAgICAgICAgImltYWdlX3NyYyI6IHRoaXMuY2hhdFtpbmRleF0ucHJvZHVjdF9yZXZpZXdfaW1nX3VybCwKICAgICAgICAgICJwcmljZSI6IHRoaXMuY2hhdFtpbmRleF0ubm90X3Jldmlld2VkX3Byb2R1Y3RfZGV0YWlscy5wcmljZSwKICAgICAgICAgICJxdWFudGl0eSI6IHRoaXMuY2hhdFtpbmRleF0ubm90X3Jldmlld2VkX3Byb2R1Y3RfZGV0YWlscy5xdWFudGl0eSwKICAgICAgICAgICJ2YXJpYW50X2lkIjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLnZhcmlhdGlvbl9pZAogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAibWFnZW50byIpIHsKICAgICAgICB2YXIgcHJvZHVjdF9kZXRhaWxzID0gewogICAgICAgICAgInByb2R1Y3RfaWQiOiB0aGlzLmNoYXRbaW5kZXhdLm5vdF9yZXZpZXdlZF9wcm9kdWN0X2RldGFpbHMucHJvZHVjdF9pZCwKICAgICAgICAgICJuYW1lIjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLm5hbWUsCiAgICAgICAgICAiaW1hZ2Vfc3JjIjogdGhpcy5jaGF0W2luZGV4XS5wcm9kdWN0X3Jldmlld19pbWdfdXJsLAogICAgICAgICAgInByaWNlIjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLnByaWNlLAogICAgICAgICAgInF1YW50aXR5IjogdGhpcy5jaGF0W2luZGV4XS5ub3RfcmV2aWV3ZWRfcHJvZHVjdF9kZXRhaWxzLnF0eV9zaGlwcGVkLAogICAgICAgICAgInZhcmlhbnRfaWQiOiB0aGlzLmNoYXRbaW5kZXhdLm5vdF9yZXZpZXdlZF9wcm9kdWN0X2RldGFpbHMuc2t1CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMucHJvZHVjdF9yZXZpZXdfcmF0aW5nKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGlzX3NhdmVfcmV2aWV3X3JhdGluZzogdHJ1ZSwKICAgICAgICByZXZpZXdfcmF0aW5nX2N1c3RvbWVyX2lkOiB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl9pZCIpLAogICAgICAgIHJldmlld19yYXRpbmdfY3VzdG9tZXJfZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuIiksCiAgICAgICAgcHJvZHVjdF9yYXRpbmc6IHRoaXMuY2hhdFtpbmRleF0ucHJvZHVjdF9yYXRpbmcsCiAgICAgICAgcHJvZHVjdF9yZXZpZXc6IHRoaXMuY2hhdFtpbmRleF0ucHJvZHVjdF9yZXZpZXcsCiAgICAgICAgcHJvZHVjdF9kZXRhaWxzOiBwcm9kdWN0X2RldGFpbHMKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICIiICYmIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJiByZXNwb25zZS5kYXRhICE9ICJJbnRlcm5hbCBzZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICBfdGhpczkuY2hhdFtpbmRleF0uaXNfcmV2aWV3X3JhdGluZ19wcm9kdWN0ID0gZmFsc2U7IC8vIHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSB0aGlzLnJldmlld19yZXNwb25zZV9tZXNzYWdlOwogICAgICAgICAgLy8gdGhpcy5jaGF0W2luZGV4XS50aW1lID0gdGhpcy5nZW5lcmF0ZV90aW1lKCk7CgogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgcmVjZWl2ZWQ6IF90aGlzOS5yZXZpZXdfcmVzcG9uc2VfbWVzc2FnZSwKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgdGltZTogX3RoaXM5LmdlbmVyYXRlX3RpbWUoKQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczkuY2hhdC5wdXNoKG1zZyk7CgogICAgICAgICAgX3RoaXM5LnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09PSAnUmV2aWV3IFNhdmVkIFN1Y2Nlc3NmdWxseScpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogX3RoaXM5LnJldmlld19yZXNwb25zZV9tZXNzYWdlLAogICAgICAgICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgICB0aW1lcjogNTAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0cgPT09ICJSZXZpZXcgTm90IFNhdmVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIlNvbWUgRXJyb3IgT2NjdXJyZWQuIiwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIkludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB0b2FzdHIuZXJyb3IoIlNvbWUgRXJyb3IgT2NjdXJyZWQuIik7CgogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXM5LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xvc2VjYXJ0OiBmdW5jdGlvbiBjbG9zZWNhcnQoY2xvc2VfY2FydCkgewogICAgICB0aGlzLmlzX2NlbnNlX2NhcnQgPSBjbG9zZV9jYXJ0OwogICAgfSwKICAgIGNhcnRfY29tbXVuaWNhdGlvbjogZnVuY3Rpb24gY2FydF9jb21tdW5pY2F0aW9uKGNhcnRfZGF0YSkgewogICAgICB0aGlzLmFkZHRvQ2FydGRhdGEgPSBbXTsKICAgICAgdGhpcy50b3RhbF9wcm9kdWN0c19xdHkgPSAwOwoKICAgICAgZm9yICh2YXIgaSBpbiBjYXJ0X2RhdGEpIHsKICAgICAgICB0aGlzLmFkZHRvQ2FydGRhdGEucHVzaChjYXJ0X2RhdGFbaV0pOwogICAgICB9CgogICAgICBmb3IgKHZhciBqIGluIHRoaXMuYWRkdG9DYXJ0ZGF0YSkgewogICAgICAgIHRoaXMudG90YWxfcHJvZHVjdHNfcXR5ID0gdGhpcy50b3RhbF9wcm9kdWN0c19xdHkgKyB0aGlzLmFkZHRvQ2FydGRhdGFbal0ub3JkZXJfcXR5OwogICAgICB9CiAgICB9LAogICAgdXBkYXRlX3F1YW50aXR5OiBmdW5jdGlvbiB1cGRhdGVfcXVhbnRpdHkoZnVuYywgY2hhdF9pZCwgaW5kZXgsIHZhbHVlKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHRoaXMub3Zlcl9xdHlfd2FybmluZyA9IGZhbHNlOwogICAgICB2YXIgYnV5ID0gdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbaW5kZXhdLmJ1eV9xdHk7CiAgICAgIHZhciBvcmRlciA9IHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W2luZGV4XS5vcmRlcl9xdHk7CiAgICAgIHZhciBzdG9jayA9IHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W2luZGV4XS5zdG9ja19xdWFudGl0eTsKICAgICAgdmFyIHRvdGFsID0gYnV5ICsgb3JkZXI7CgogICAgICBpZiAoZnVuYyA9PSAiKyIpIHsKICAgICAgICBpZiAodG90YWwgPD0gc3RvY2sgfHwgc3RvY2sgPT0gbnVsbCkgewogICAgICAgICAgdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbaW5kZXhdLmJ1eV9xdHkgKz0gMTsKICAgICAgICAgIHZtLiRzZXQodm0uY2hhdCwgY2hhdF9pZCwgdm0uY2hhdFtjaGF0X2lkXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMub3Zlcl9xdHlfd2FybmluZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZnVuYyA9PSAiLSIpIHsKICAgICAgICBpZiAoYnV5ID4gMCkgewogICAgICAgICAgdGhpcy5jaGF0W2NoYXRfaWRdLnByb2R1Y3RzX2xpc3RbaW5kZXhdLmJ1eV9xdHkgLT0gMTsKICAgICAgICAgIHZtLiRzZXQodm0uY2hhdCwgY2hhdF9pZCwgdm0uY2hhdFtjaGF0X2lkXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZnVuYyA9PSAibWFudWFsIikgewogICAgICAgIHZhciBxdWFudGl0eSA9IHBhcnNlSW50KHZhbHVlKTsKCiAgICAgICAgaWYgKHF1YW50aXR5KSB7CiAgICAgICAgICBpZiAodG90YWwgPCBzdG9jayB8fCBzdG9jayA9PSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuY2hhdFtjaGF0X2lkXS5wcm9kdWN0c19saXN0W2luZGV4XS5idXlfcXR5ID0gcXVhbnRpdHk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm92ZXJfcXR5X3dhcm5pbmcgPSB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHZtLiRzZXQodm0uY2hhdCwgY2hhdF9pZCwgdm0uY2hhdFtjaGF0X2lkXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkcHJvZHVjdDogZnVuY3Rpb24gYWRkcHJvZHVjdChwcm9kdWN0KSB7CiAgICAgIHRoaXMudG90YWxfcHJvZHVjdHNfcXR5ID0gMDsKICAgICAgdGhpcy5vdmVyX3F0eV93YXJuaW5nID0gZmFsc2U7IC8vIGNvbnNvbGUubG9nKHByb2R1Y3QpOwoKICAgICAgaWYgKHRoaXMuYWRkdG9DYXJ0ZGF0YS5sZW5ndGggIT0gMCkgewogICAgICAgIHZhciBjaGVjayA9IGZhbHNlOwoKICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYWRkdG9DYXJ0ZGF0YSkgewogICAgICAgICAgaWYgKHRoaXMuYWRkdG9DYXJ0ZGF0YVtpXS5pZCA9PSBwcm9kdWN0LmlkKSB7CiAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIGJ1eSA9IHByb2R1Y3QuYnV5X3F0eSArIHRoaXMuYWRkdG9DYXJ0ZGF0YVtpXS5vcmRlcl9xdHk7CgogICAgICAgICAgICBpZiAocHJvZHVjdC5zdG9ja19xdWFudGl0eSA+IHRoaXMuYWRkdG9DYXJ0ZGF0YVtpXS5vcmRlcl9xdHkgJiYgYnV5IDw9IHByb2R1Y3Quc3RvY2tfcXVhbnRpdHkpIHsKICAgICAgICAgICAgICB0aGlzLmFkZHRvQ2FydGRhdGFbaV0ub3JkZXJfcXR5ID0gYnV5OwogICAgICAgICAgICB9IGVsc2UgaWYgKHByb2R1Y3Quc3RvY2tfcXVhbnRpdHkgPT0gbnVsbCkgewogICAgICAgICAgICAgIHRoaXMuYWRkdG9DYXJ0ZGF0YVtpXS5vcmRlcl9xdHkgPSBidXk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5vdmVyX3F0eV93YXJuaW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGNoZWNrICE9IHRydWUgJiYgKHByb2R1Y3QuYnV5X3F0eSA8PSBwcm9kdWN0LnN0b2NrX3F1YW50aXR5IHx8IHByb2R1Y3Quc3RvY2tfcXVhbnRpdHkgPT0gbnVsbCkpIHsKICAgICAgICAgIHRoaXMuYWRkdG9DYXJ0ZGF0YS5wdXNoKHsKICAgICAgICAgICAgaWQ6IHByb2R1Y3QuaWQsCiAgICAgICAgICAgIGltZ191cmw6IHByb2R1Y3QuaW1nX3VybCwKICAgICAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgICAgIHN0b2NrX3F1YW50aXR5OiBwcm9kdWN0LnN0b2NrX3F1YW50aXR5LAogICAgICAgICAgICBvcmRlcl9xdHk6IHByb2R1Y3QuYnV5X3F0eSwKICAgICAgICAgICAgYnV5X3F0eTogMSwKICAgICAgICAgICAgdmFyaWFudF90aXRsZTogcHJvZHVjdC52YXJpYW50X3RpdGxlLAogICAgICAgICAgICBzdG9ja19zdGF0dXM6IHByb2R1Y3Quc3RvY2tfc3RhdHVzLAogICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChjaGVjayAhPSB0cnVlICYmIHByb2R1Y3QuYnV5X3F0eSA+IHByb2R1Y3Quc3RvY2tfcXVhbnRpdHkpIHsKICAgICAgICAgIHRoaXMub3Zlcl9xdHlfd2FybmluZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb2R1Y3QuYnV5X3F0eSA8PSBwcm9kdWN0LnN0b2NrX3F1YW50aXR5IHx8IHByb2R1Y3Quc3RvY2tfcXVhbnRpdHkgPT0gbnVsbCkgewogICAgICAgIHRoaXMuYWRkdG9DYXJ0ZGF0YS5wdXNoKHsKICAgICAgICAgIGlkOiBwcm9kdWN0LmlkLAogICAgICAgICAgaW1nX3VybDogcHJvZHVjdC5pbWdfdXJsLAogICAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgICBzdG9ja19xdWFudGl0eTogcHJvZHVjdC5zdG9ja19xdWFudGl0eSwKICAgICAgICAgIG9yZGVyX3F0eTogcHJvZHVjdC5idXlfcXR5LAogICAgICAgICAgYnV5X3F0eTogMSwKICAgICAgICAgIHZhcmlhbnRfdGl0bGU6IHByb2R1Y3QudmFyaWFudF90aXRsZSwKICAgICAgICAgIHN0b2NrX3N0YXR1czogcHJvZHVjdC5zdG9ja19zdGF0dXMsCiAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3Zlcl9xdHlfd2FybmluZyA9IHRydWU7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGogaW4gdGhpcy5hZGR0b0NhcnRkYXRhKSB7CiAgICAgICAgdGhpcy50b3RhbF9wcm9kdWN0c19xdHkgPSB0aGlzLnRvdGFsX3Byb2R1Y3RzX3F0eSArIHRoaXMuYWRkdG9DYXJ0ZGF0YVtqXS5vcmRlcl9xdHk7CiAgICAgIH0KCiAgICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbyhzb3VuZCk7CiAgICAgIGF1ZGlvLnBsYXkoKTsKICAgICAgdmFyIGNhcnQgPSAkKCcjY2Vuc2UtY2FydC1idG4nKTsKICAgICAgdmFyIGNhcnRfcXR5ID0gJCgnI2NhcnQtcXR5LW51bScpOwogICAgICB2YXIgY2FydF9pbWcgPSAkKCcjY2FydC1pbWcnKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY2FydF9xdHkuYWRkQ2xhc3MoJ2NhcnQtcXR5Jyk7CiAgICAgICAgY2FydF9pbWcuYWRkQ2xhc3MoJ2NhcnQtaW1nJyk7CiAgICAgICAgY2FydC5hZGRDbGFzcygnc2hha2UnKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNhcnRfcXR5LnJlbW92ZUNsYXNzKCdjYXJ0LXF0eScpOwogICAgICAgICAgY2FydF9pbWcucmVtb3ZlQ2xhc3MoJ2NhcnQtaW1nJyk7CiAgICAgICAgICBjYXJ0LnJlbW92ZUNsYXNzKCdzaGFrZScpOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0sIDApOwogICAgfSwKICAgIHNlbGVjdGVkX3Byb2R1Y3Q6IGZ1bmN0aW9uIHNlbGVjdGVkX3Byb2R1Y3QodmFsdWUpIHsKICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgaWYgKHZhbHVlID09ICJhbGwiKSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5wcm9kdWN0X291dF9vZl9zdG9ja19saXN0KSB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0LnB1c2godGhpcy5wcm9kdWN0X291dF9vZl9zdG9ja19saXN0W2ldKTsKICAgICAgICAgIH0KCiAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CgogICAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAkKCIjcHJvZHVjdF9jaGVja2JveF8iICsgdGhpcy5wcm9kdWN0X291dF9vZl9zdG9ja19saXN0W19pMl0ucHJvZHVjdF9pZCkucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICAkKCIjc2VsZWN0YWxsIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIWV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgaWYgKHZhbHVlICE9ICJhbGwiKSB7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwoKICAgICAgICAgIGlmIChzZWxlY3RhbGwuY2hlY2tlZCkgewogICAgICAgICAgICBzZWxlY3RhbGwuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5jaGVja2VkX2xpc3QuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0X2lkKSB7CiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0X2lkICE9IHZhbHVlOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKCiAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCB0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICAgICQoIiNwcm9kdWN0X2NoZWNrYm94XyIgKyB0aGlzLnByb2R1Y3Rfb3V0X29mX3N0b2NrX2xpc3RbX2kzXS5wcm9kdWN0X2lkKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICAkKCIjc2VsZWN0YWxsIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfcHJvZHVjdF9hY3RpdmU6IGZ1bmN0aW9uIGNoZWNrX2N1cnJlbnRfcHJvZHVjdF9hY3RpdmUoaW5kZXgpIHsKICAgICAgLy8gY29uc29sZS50YWJsZShpbmRleCwgdGhpcy50ZW1wbGF0ZWxpc3RbaW5kZXhdLCB0aGlzLmN1cnJlbnRfdGVtcGxhdGUpOwogICAgICBpZiAoQm9vbGVhbih0aGlzLnByb2R1Y3Rfb3V0X29mX3N0b2NrX2xpc3RbaW5kZXhdKSA9PT0gdHJ1ZSkgewogICAgICAgIHJldHVybiB0aGlzLnByb2R1Y3Rfb3V0X29mX3N0b2NrX2xpc3RbaW5kZXhdLnByb2R1Y3RfaWQgPT09IHRoaXMuY3VycmVudF9wcm9kdWN0LnByb2R1Y3RfaWQgPyAiY3VycmVudC1hY3RpdmUtdGVtcGxhdGUiIDogbnVsbDsKICAgICAgfQogICAgfSwKICAgIHNob3dfcHJvZHVjdDogZnVuY3Rpb24gc2hvd19wcm9kdWN0KGluZGV4KSB7CiAgICAgIHRoaXMuY3VycmVudF9wcm9kdWN0ID0gdGhpcy5wcm9kdWN0X291dF9vZl9zdG9ja19saXN0W2luZGV4XTsKICAgIH0sCiAgICBhZGRfdG9fb3V0X29mX3N0b2NrX2xpc3Q6IGZ1bmN0aW9uIGFkZF90b19vdXRfb2Zfc3RvY2tfbGlzdChpdGVtcykgewogICAgICB0aGlzLnByb2R1Y3Rfb3V0X29mX3N0b2NrX2xpc3QgPSBpdGVtczsKICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgfSwKICAgIHN1Ym1pdF9vdXRfb2Zfc3RvY2tfcHJvZHVjdHM6IGZ1bmN0aW9uIHN1Ym1pdF9vdXRfb2Zfc3RvY2tfcHJvZHVjdHMoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIHN3YWwoewogICAgICAgICAgdGV4dDogIlBsZWFzZSBzZWxlY3Qgc29tZSBwcm9kdWN0cyIsCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1c3RvbWVyX2VtYWlsID09ICIiIHx8ICF0aGlzLnJlZ19lbWFpbC50ZXN0KHRoaXMuY3VzdG9tZXJfZW1haWwpKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcyIsCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWVuZCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICB0aW1lcjogMjUwMAogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgc3dhbCh7CiAgICAgICAgdGV4dDogIlBsZWFzZSB3YWl0IHdoaWxlIHdlIGFyZSBzdWJtaXR0aW5nIHlvdXIgZGV0YWlscy4uLiIsCiAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgIHRvYXN0OiB0cnVlLAogICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZQogICAgICB9KTsKICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5vdXRvZnN0b2NrZW1haWxub3RpZmljYXRpb24oKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIGVtYWlsOiB0aGlzLmN1c3RvbWVyX2VtYWlsLAogICAgICAgIHByb2R1Y3RfbGlzdDogdGhpcy5jaGVja2VkX2xpc3QsCiAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChkYXRhLm1lc3NhZ2UgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHRleHQ6ICJZb3UnbGwgYmUgbm90aWZpZWQgdGhyb3VnaCBlbWFpbCB3aGVuIHRoZSBwcm9kdWN0cyBnZXQgYmFjayBpbiBzdG9jayIsCiAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgX3RoaXMxMC5jdXN0b21lcl9lbWFpbCA9ICIiOwogICAgICAgICAgICBfdGhpczEwLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgICQoIiNub3RpZnllbWFpbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxMC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICBfdGhpczEwLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVmcmVzaF9jaGF0Ym90OiBmdW5jdGlvbiByZWZyZXNoX2NoYXRib3QodHlwZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgY2hhdDogIiIsCiAgICAgICAgZGF0YTogIiIsCiAgICAgICAgcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgcmVmcmVzaGVkX29yX2Nsb3NlZDogdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczExLnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsKICAgICAgICB2YXIgd2VsY29tZV9tc2dfY29tcGFuaWVzID0gWyJDdXN0b21lckhhcHBpbmVzczk1MTg1IiwgIjN4NWl2ZTk5NTM0IiwgIkZvcmVpZ254Y2hhbmdlMTc0OTEiLCAiMzYwX3RlY2hub2xvZ3kiXTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsvLyBpZiAodGhpcy5zaG9waWZ5X3VpID09IG51bGwgJiYgdGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAic2hvcGlmeSIpIHsKICAgICAgICAgIC8vICAgdGhpcy5pbml0aWFsaXplX3Nob3BpZnlfdWkoKTsKICAgICAgICAgIC8vIH0KICAgICAgICB9LCAxMDApOwoKICAgICAgICBpZiAodHlwZSA9PSAic3VwcG9ydCIpIHsKICAgICAgICAgIF90aGlzMTEuY2hhdC5wdXNoKHsKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICByZWNlaXZlZDogIklzIHRoZXJlIGFueXRoaW5nIGVsc2UgSSBjYW4gaGVscCB5b3Ugd2l0aD8iLAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogX3RoaXMxMS5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHdlbGNvbWVfbXNnX2NvbXBhbmllcy5pbmNsdWRlcyhfdGhpczExLmNvbXBhbnlpZCkpIHsKICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgICAgICBjaGF0OiAiL3dlbGNvbWVfbWVzc2FnZSIsCiAgICAgICAgICAgIHRva2VuOiBfdGhpczExLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgdXNlcm5hbWU6IF90aGlzMTEuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzMTEuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgIHJvbGU6IF90aGlzMTEuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgICByZWZyZXNoZWRfb3JfY2xvc2VkOiBmYWxzZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMxMS5wdXNoX21zZyhyZXNwb25zZSwgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXMpOyAvLyB0aGlzLnJlc3BvbnNlX2hhbmRsaW5nKHJlc3BvbnNlKTsKCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxMS53ZWxjb21lX21lc3NhZ2Vfbm90X3lldF9yZWNlaXZlZCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZG93bmxvYWRfZmlsZTogZnVuY3Rpb24gZG93bmxvYWRfZmlsZSh1cmwsIGZpbGVfbmFtZSkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgbGluay5ocmVmID0gdXJsOwogICAgICBsaW5rLnNldEF0dHJpYnV0ZSgiZG93bmxvYWQiLCBmaWxlX25hbWUpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspOwogICAgICBsaW5rLmNsaWNrKCk7CiAgICB9LAogICAgc2Nyb2xsX2RpdjogZnVuY3Rpb24gc2Nyb2xsX2RpdigpIHsKICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5idXktcHJvZHVjdHMiKTsKCiAgICAgIGlmIChldmVudC5kZWx0YVggPiBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCArPSAxMDsKICAgICAgfSBlbHNlIGlmIChldmVudC5kZWx0YVggPCBldmVudC5kZWx0YVkpIHsKICAgICAgICBkb2Muc2Nyb2xsTGVmdCAtPSAxMDsKICAgICAgfQogICAgfSwKICAgIGNhbGxfc3VwcG9ydDogZnVuY3Rpb24gY2FsbF9zdXBwb3J0KHR5cGUpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgaWYgKHR5cGUgPT0gIlllcyIpIHsKICAgICAgICB2YXIgX2F4aW9zJHBvc3QyOwoKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDIgPSB7CiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICBjaGF0OiAiL2NhbGxfc3VwcG9ydCIKICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QyLCAidG9rZW4iLCB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDIsICJyb2xlIiwgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QyLCAicmVmcmVzaGVkX29yX2Nsb3NlZCIsIHRoaXMucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9heGlvcyRwb3N0MikpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIF90aGlzMTIuY2hhdC5wdXNoKHsKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3AuZGF0YS5yZXNwb25zZXNbMF0udGV4dCwKICAgICAgICAgICAgdGltZTogX3RoaXMxMi5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgIH0pOyAvLyB0aGlzLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdGhpcy5jaGF0KTsKCgogICAgICAgICAgX3RoaXMxMi51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIk5vIikgewogICAgICAgIHRoaXMuY2hhdC5wdXNoKHRoaXMuY2hhdFswXSk7CiAgICAgICAgdGhpcy5jaGF0LnB1c2godGhpcy5jaGF0WzFdKTsKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7IC8vIHRoaXMucmVmcmVzaF9jaGF0Ym90KCJzdXBwb3J0Iik7CiAgICAgIH0KICAgIH0sCiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2Uoc3RyaW5nKSB7CiAgICAgIHZhciBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgve3suKj99fS9nLCBmdW5jdGlvbiAobWF0Y2gpIHsKICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBkZCA9IHRvZGF5LmdldERhdGUoKTsKICAgICAgICB2YXIgbW0gPSB0b2RheS5nZXRNb250aCgpICsgMTsKICAgICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7CgogICAgICAgIGlmIChkZCA8IDEwKSB7CiAgICAgICAgICBkZCA9ICIwIiArIGRkOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1tIDwgMTApIHsKICAgICAgICAgIG1tID0gIjAiICsgbW07CiAgICAgICAgfQoKICAgICAgICB0b2RheSA9IGRkICsgIi0iICsgbW0gKyAiLSIgKyB5eXl5OwogICAgICAgIHZhciBleHByZXNzaW9uID0gbWF0Y2guc2xpY2UoMiwgLTIpOwogICAgICAgIF90aGlzMTMuJGRhdGFbZXhwcmVzc2lvbl0gPSB0b2RheTsKICAgICAgICByZXR1cm4gX3RoaXMxMy4kZGF0YVtleHByZXNzaW9uXTsKICAgICAgfSk7CiAgICB9LAogICAgc2hvd19wb3B1cDogZnVuY3Rpb24gc2hvd19wb3B1cCgpIHsKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuc3RvcCA9IGZhbHNlOwogICAgfSwKICAgIHN1Yl9sZWFmX25vZGVfY2FsbDogZnVuY3Rpb24gc3ViX2xlYWZfbm9kZV9jYWxsKGRpdmNsaWNrKSB7CiAgICAgIHZhciBfdGhpczE0ID0gdGhpczsKCiAgICAgIC8vIHZhciBkaXZjbGljayA9IGV2ZW50LnRhcmdldC5pbm5lclRleHQKICAgICAgaWYgKGRpdmNsaWNrID09ICJXYXRjaCBEZW1vIFZpZGVvIikgewogICAgICAgIHRoaXMuZGVtb3VybGJpbmQgPSB0cnVlOwogICAgICAgIHRoaXMucmV2aWV3c3VybGJpbmQgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmIChkaXZjbGljayA9PSAiVXNlciBSZXZpZXdzL1Rlc3RpbW9uaWFscyIpIHsKICAgICAgICB0aGlzLnJldmlld3N1cmxiaW5kID0gdHJ1ZTsKICAgICAgICB0aGlzLmRlbW91cmxiaW5kID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChkaXZjbGljayA9PSAiV2F0Y2ggRGVtbyBWaWRlbyIgfHwgZGl2Y2xpY2sgPT0gIlVzZXIgUmV2aWV3cy9UZXN0aW1vbmlhbHMiKSB7CiAgICAgICAgdGhpcy5zaG93ID0gIXRoaXMuc2hvdzsKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTQuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICAgIH0sIDEwMDApOwogICAgICB9IGVsc2UgaWYgKGRpdmNsaWNrID09ICJCdXkgVHV0b3JpYWwiKSB7CiAgICAgICAgdGhpcy5jZW5zZV9lbnF1aXJ5ID0gdHJ1ZTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICBjaGF0OiAiL3BlcnNvbmFsX2RldGFpbHMiLAogICAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6ICIiCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICAgIHJlY2VpdmVkOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1swXS50ZXh0LAogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICB0aW1lOiBfdGhpczE0LmdlbmVyYXRlX3RpbWUoKQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczE0LmNoYXQucHVzaChtc2cpOwoKICAgICAgICAgIF90aGlzMTQudXBkYXRlX3Njcm9sbGJhcigpOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczE0LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICAgIH0sIDEwMDApOyAvLyB0aGlzLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdGhpcy5jaGF0KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHRpY2tldF9udW1iZXI6IGZ1bmN0aW9uIHRpY2tldF9udW1iZXIoKSB7CiAgICAgIHZhciByYW5kb21fbnVtID0gTWF0aC5mbG9vcigxMDAwMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDAwMDApOwogICAgICB2YXIgY29tcGFueSA9IHRoaXMuY29tcGFueW5hbWUuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKTsKICAgICAgcmV0dXJuICIiLmNvbmNhdChjb21wYW55LCAiXyIpLmNvbmNhdChyYW5kb21fbnVtKTsKICAgIH0sCiAgICBzZW5kX21lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRfbWVzc2FnZSh0eXBlLCBtZXNzYWdlLCB0b19iZV9kaXNwbGF5ZWQpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgLy8gaGFyc2gKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGVkX2luZGljYXRpb25bMF0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gImlzX2J1dHRvbiIpIHsKICAgICAgICAgIHRoaXMudG9fc2VuZCA9IG1lc3NhZ2UudmFsdWUgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnJlcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHR5cGUgPSAiaXNfcHJvbXB0IjsKICAgICAgICAgIHRvX2JlX2Rpc3BsYXllZCA9IHRoaXMudG9fc2VuZDsKICAgICAgICAgIHRoaXMudG9fc2VuZCA9IHRoaXMuc2VsZWN0ZWRfaW5kaWNhdGlvblswXS52YWx1ZS5zcGxpdCgieyIpWzBdICsgSlNPTi5zdHJpbmdpZnkodGhpcy5yZXMpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT0gImlzX2J1dHRvbiIpIHsKICAgICAgICAkKCIjcmVzcG9uc2VfYm90X3RleHQiKS5wcm9wKCJkaXNhYmxlZCIsIGZhbHNlKTsKCiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgPT0gImlzZGlzYWJsZWQiICYmIHRoaXMuY29tcGFueWlkID09ICJjbGluaWNhbHRyaWFsczgxMzUyIiAmJiBtZXNzYWdlLnRpdGxlID09ICJObyIpIHt9IGVsc2UgaWYgKG1lc3NhZ2UudmFsdWUgPT09ICIvbGl2ZV9jaGF0IikgewogICAgICAgICAgdGhpcy5zdGFydF9saXZlX2NoYXQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgICAgICBmdW5jdGlvbiBfc2VuZF9tc2codG9TZW5kLCBjdXN0b21EaXNwbGF5TXNnKSB7CiAgICAgICAgICAgIHZtLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSB0cnVlOwogICAgICAgICAgICB2bS5jaGF0LnB1c2goewogICAgICAgICAgICAgIHNlbnQ6IGN1c3RvbURpc3BsYXlNc2cgPyAiIi5jb25jYXQobWVzc2FnZS50aXRsZSwgIiAiKS5jb25jYXQoY3VzdG9tRGlzcGxheU1zZykgOiBtZXNzYWdlLnRpdGxlLAogICAgICAgICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgICAgICAgdGltZTogdm0uZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICAgIGRlbGl2ZXJlZDogdHJ1ZSwKICAgICAgICAgICAgICBkcm9wZG93bjogIiIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZtLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInNlbmRlciIpOwoKICAgICAgICAgICAgaWYgKHZtLmNoYXRbdG9fYmVfZGlzcGxheWVkXSAmJiB2bS5jaGF0W3RvX2JlX2Rpc3BsYXllZF0ucmVtb3ZhYmxlID09IHRydWUpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY2hhdCIgKyB0b19iZV9kaXNwbGF5ZWQpLmNsYXNzTGlzdC5hZGQoIi0tZGVsZXRlIik7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2bS5jaGF0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgfSwgODUwKTsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzcG9uc2VfYm90X3RleHQiKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodm0uY2hhdFt0b19iZV9kaXNwbGF5ZWQgLSAxXSAmJiB2bS5jaGF0W3RvX2JlX2Rpc3BsYXllZCAtIDFdLmlzX211bHRpc2VsZWN0ICYmIChtZXNzYWdlLnRpdGxlID09ICJBcHByb3ZlIiB8fCBtZXNzYWdlLnRpdGxlID09ICJSZWplY3QiIHx8IG1lc3NhZ2UudGl0bGUgPT0gIkNvbW1lbnQgYW5kIFJldHVybiIpKSB7CiAgICAgICAgICAgICAgdm0uY2hhdFt0b19iZV9kaXNwbGF5ZWQgLSAxXS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgICAgICAgIGNoYXQ6IHRvU2VuZCwKICAgICAgICAgICAgICB0b2tlbjogdm0uYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgICAgIHVzZXJuYW1lOiB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgcm9sZTogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IHZtLnJlZnJlc2hlZF9vcl9jbG9zZWQKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICB2bS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2bS5zZWxlY3RlZF9pbmRpY2F0aW9uID0gW107CiAgICAgICAgICAgIHZtLnRvX3NlbmQgPSAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5jb21wYW55aWQgPT0gIjM2MF90ZWNobm9sb2d5IikgewogICAgICAgICAgICBpZiAodGhpcy5jaGF0W3RvX2JlX2Rpc3BsYXllZCAtIDFdICYmIHRoaXMuY2hhdFt0b19iZV9kaXNwbGF5ZWQgLSAxXS52YWx1ZV9tYXBwaW5nKSB7CiAgICAgICAgICAgICAgdmFyIHZhbHVlTWFwcGluZ0RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY2hhdFt0b19iZV9kaXNwbGF5ZWQgLSAxXS52YWx1ZV9tYXBwaW5nKSk7CiAgICAgICAgICAgICAgdGhpcy5hZGRkcm9wZG93bnZhbHVlKHZhbHVlTWFwcGluZ0RhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMxNS50b19zZW5kID0gbWVzc2FnZS52YWx1ZSArIEpTT04uc3RyaW5naWZ5KF90aGlzMTUucmVzKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNS5jaGF0W3RvX2JlX2Rpc3BsYXllZCAtIDFdLnZhbHVlX21hcHBpbmcpIHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlTWFwcGluZ0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3NlbmRfbXNnKG1lc3NhZ2UudmFsdWUpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF9zZW5kX21zZyhfdGhpczE1LnRvX3NlbmQsICJmb3IgIi5jb25jYXQoX3RoaXMxNS5zZWxlY3RlZF9pbmRpY2F0aW9uLm1hcChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLnRpdGxlOwogICAgICAgICAgICAgICAgICAgIH0pLnRvU3RyaW5nKCkpKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudmFsdWUuc3BsaXQoInsiKS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgdmFyIGN1c3RvbURpc3BsYXlNc2cgPSBPYmplY3QudmFsdWVzKEpTT04ucGFyc2UoInsiLmNvbmNhdChtZXNzYWdlLnZhbHVlLnNwbGl0KCJ7IilbMV0pKSlbMF07CgogICAgICAgICAgICAgIF9zZW5kX21zZyhtZXNzYWdlLnZhbHVlLCAiZm9yICIuY29uY2F0KGN1c3RvbURpc3BsYXlNc2cpKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXRbdG9fYmVfZGlzcGxheWVkIC0gMV0gJiYgdGhpcy5jaGF0W3RvX2JlX2Rpc3BsYXllZCAtIDFdLnNob3dfdGV4dF9hcmVhKSB7CiAgICAgICAgICAgICAgX3NlbmRfbXNnKG1lc3NhZ2UudmFsdWUpOwoKICAgICAgICAgICAgICB0aGlzLmNoYXRbdG9fYmVfZGlzcGxheWVkIC0gMV0uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF9zZW5kX21zZyhtZXNzYWdlLnZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3NlbmRfbXNnKG1lc3NhZ2UudmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJpc19wcm9tcHQiKSB7CiAgICAgICAgdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICBzZW50OiB0b19iZV9kaXNwbGF5ZWQsCiAgICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIGRlbGl2ZXJlZDogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAic2VuZGVyIik7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCB7CiAgICAgICAgICAvLyBob3N0OiB0aGlzLnVzZXJfZGF0YS5ob3N0LAogICAgICAgICAgcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICBjaGF0OiB0aGlzLnRvX3NlbmQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMxNS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CgogICAgICAgICAgX3RoaXMxNS5leDEoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnRvX3NlbmQgPT0gIlJlc3RhcnQiIHx8IHRoaXMudG9fc2VuZCA9PSAicmVzdGFydCIpIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9tcHRfdXJsKCksIHsKICAgICAgICAgIHVpZDogImNlbnNlIiwKICAgICAgICAgIC8vIHRoaXMuZmluZ2VycHJpbnQKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgY2hhdDogIiIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMxNS5jaGF0LnB1c2gocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgX3RoaXMxNS51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOyAvLyB0aGlzLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdGhpcy5jaGF0KTsKCgogICAgICAgICAgX3RoaXMxNS5sZXZlbCA9IHJlc3BvbnNlLmRhdGEubGV2ZWw7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHt9KTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmNlbnNlX2VucXVpcnkgPT0gdHJ1ZSAmJiBCb29sZWFuKHRoaXMudG9fc2VuZCkpIHsKICAgICAgICB0aGlzLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSB0cnVlOwogICAgICAgIHZhciBzZW5kX21zZyA9IHsKICAgICAgICAgIHNlbnQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgc2VuZGluZzogdHJ1ZSwKICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgfTsKICAgICAgICB0aGlzLmNoYXQucHVzaChzZW5kX21zZyk7IC8vIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwoKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIik7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgY2hhdDogIi9wZXJzb25hbF9kZXRhaWxzIiwKICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICBDb21wYW55aWQ6ICJDTzAwMDIzIiwKICAgICAgICAgIGRhdGE6ICIiLAogICAgICAgICAgcm9sZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgICByZWZyZXNoZWRfb3JfY2xvc2VkOiAiIiwKICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzWzBdLnRleHQsCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IF90aGlzMTUuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzMTUuY2hhdC5wdXNoKG1zZyk7IC8vIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwoKCiAgICAgICAgICBfdGhpczE1LnJlZnJlc2hlZF9vcl9jbG9zZWQgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczE1LnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMTUuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMubGl2ZV9jaGF0X29uKSB7CiAgICAgICAgaWYgKEJvb2xlYW4odGhpcy51c2VyX25hbWUpID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5jaGFubmVsLnB1c2goIm5ld19uYW1lIiwgewogICAgICAgICAgICBuYW1lOiB0aGlzLnRvX3NlbmQKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy51c2VyX25hbWUgPSB0aGlzLnRvX3NlbmQ7CiAgICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2hhbm5lbC5wdXNoKCJuZXdfY2hhdF9tZXNzYWdlIiwgewogICAgICAgICAgICBtZXNzYWdlOiB0aGlzLnRvX3NlbmQKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgc2VudDogdGhpcy50b19zZW5kLAogICAgICAgICAgc2VuZGluZzogdHJ1ZSwKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgICB9KTsgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CgogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAic2VuZGVyIik7CiAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbih0aGlzLnRvX3NlbmQpICYmIHRoaXMuY2Vuc2VfZW5xdWlyeSAhPSB0cnVlKSB7CiAgICAgICAgdmFyIF9heGlvcyRwb3N0MzsKCiAgICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgICAgc2VudDogdGhpcy50b19zZW5kLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgICB9KTsgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CgogICAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAic2VuZGVyIik7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCAoX2F4aW9zJHBvc3QzID0gewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgY2hhdDogdGhpcy50b19zZW5kCiAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MywgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QzLCAicm9sZSIsIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MywgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfYXhpb3MkcG9zdDMpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMxNS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMTUudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy50b19zZW5kID0gIiI7CiAgICB9LAogICAgaW5pdGlhdGVfc3VwcG9ydF9jaGF0OiBmdW5jdGlvbiBpbml0aWF0ZV9zdXBwb3J0X2NoYXQoKSB7CiAgICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgcmVjZWl2ZWQ6ICJTb3JyeSBJIGFtIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24iLAogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlCiAgICAgIH0pOwogICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgIHJlY2VpdmVkOiAiV291bGQgeW91IGxpa2UgdG8gdGFsayB3aXRoIHN1cHBvcnQgdGVhbT8iLAogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgIHNob3dfYnV0dG9uczogdHJ1ZSwKICAgICAgICBzdXBwb3J0X2J1dHRvbnM6IHRydWUsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgIH0sCiAgICBkaXNjb25uZWN0X3N1cHBvcnRfY2hhdDogZnVuY3Rpb24gZGlzY29ubmVjdF9zdXBwb3J0X2NoYXQoKSB7CiAgICAgIHRoaXMuY2hhbm5lbC5wdXNoKCJzdG9wcGVkX2NoYXQiLCB7CiAgICAgICAgbmFtZTogdGhpcy51c2VyX25hbWUsCiAgICAgICAgbWVzc2FnZTogIiBoYXMgZW5kZWQgdGhlIGNvbnZlcnNhdGlvbi4iCiAgICAgIH0pOwogICAgICB0aGlzLmNoYW5uZWwubGVhdmUoKTsKICAgICAgdGhpcy5saXZlX2NoYXRfdG9rZW4gPSBudWxsOwogICAgICB0aGlzLmNoYXRfZ3JvdXBfbmFtZSA9IG51bGw7CiAgICAgIHRoaXMudXNlcl9uYW1lID0gIiI7CiAgICAgIHRoaXMuY2hhdF9zb2NrZXQuZGlzY29ubmVjdCgpOwogICAgICB0aGlzLmxpdmVfY2hhdF9vbiA9IGZhbHNlOwogICAgfSwKICAgIGdlbmVyYXRlX3BheW1lbnQ6IGZ1bmN0aW9uIGdlbmVyYXRlX3BheW1lbnQocHJpY2UsIG5hbWUpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAga2V5OiAicnpwX3Rlc3RfU25EVGFQbm5jZmxpRHQiLAogICAgICAgIGFtb3VudDogcHJpY2UgKiAxMDAsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgIG5hbWU6ICJDZW5zZSBBSSIsCiAgICAgICAgY3VycmVuY3k6ICJJTlIiLAogICAgICAgIGRlc2NyaXB0aW9uOiAiSW5zdGlsbCBJbnRlbGxpZ2VuY2UiLAogICAgICAgIGltYWdlOiAiL2ltZy9jZW5zZV9pbWFnZS5wbmciLAogICAgICAgIC8vIENPTVBBTlkgTE9HTwogICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBjb250YWN0ID0gJCgnI2NvbnRhY3RbdHlwZT0idGVsIl0nKS52YWx1ZTsKICAgICAgICAgIHZhciBlbWFpbCA9ICQoJyNlbWFpbFt0eXBlPSJlbWFpbCJdJykudmFsdWU7CiAgICAgICAgICB2bS5wYXltZW50aWQgPSByZXNwb25zZS5yYXpvcnBheV9wYXltZW50X2lkOwoKICAgICAgICAgIGlmICh0cmFuc2Zlcl9hY2NvdW50ICE9IG51bGwpIHsKICAgICAgICAgICAgdm0udHJhbnNmZXJfcGF5bWVudCh0cmFuc2Zlcl9hY2NvdW50LCBwcmljZSAqIDEwMCwgIklOUiIsIG5hbWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJlZmlsbDogewogICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAvLyBwYXNzIGN1c3RvbWVyIG5hbWUKICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgIC8vIGN1c3RvbWVyIGVtYWlsCiAgICAgICAgICBjb250YWN0OiAiIiAvLyBjdXN0b21lciBwaG9uZSBuby4KCiAgICAgICAgfSwKICAgICAgICBub3RlczogewogICAgICAgICAgYWRkcmVzczogImFkZHJlc3MiIC8vIGN1c3RvbWVyIGFkZHJlc3MKCiAgICAgICAgfSwKICAgICAgICB0aGVtZTogewogICAgICAgICAgY29sb3I6ICIjMjgzNzc3IiAvLyBzY3JlZW4gY29sb3IKCiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgcnpwMSA9IG5ldyBSYXpvcnBheShvcHRpb25zKTsKICAgICAgcnpwMS5vcGVuKCk7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogICAgY2hhdF9yZXNwb25zZV9lcnJvcjogZnVuY3Rpb24gY2hhdF9yZXNwb25zZV9lcnJvcigpIHsKICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogIlNvcnJ5IEknbSBub3QgZ2V0dGluZyB5b3VyIHF1ZXN0aW9uIiwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9KTsgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CgogICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICB9LAogICAgc2VuZF9yZXF1ZXN0X2pzb246IGZ1bmN0aW9uIHNlbmRfcmVxdWVzdF9qc29uKG1lc3NhZ2UpIHsKICAgICAgdmFyIF9heGlvcyRwb3N0NCwKICAgICAgICAgIF90aGlzMTYgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCAoX2F4aW9zJHBvc3Q0ID0gewogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NCwgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q0LCAicm9sZSIsIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NCwgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q0LCAiY2hhdCIsICIiKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NCwgInNvdXJjZSIsICJXZWIiKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NCwgImRhdGEiLCB0aGlzLmpzb25fZGF0YVttZXNzYWdlLnJlc3BvbnNlc1swXS5pbnRlbnRdKSwgX2F4aW9zJHBvc3Q0KSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzMTYuY2hhdC5wdXNoKHsKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgcmVjZWl2ZWQ6IHJlc3AuZGF0YS5yZXNwb25zZXMubGVuZ3RoID09IDAgPyAiU29ycnkgSSdtIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24iIDogcmVzcC5kYXRhLnJlc3BvbnNlc1swXS50ZXh0LAogICAgICAgICAgdGltZTogX3RoaXMxNi5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICBpbWFnZTogcmVzcC5kYXRhLnJlc3BvbnNlc1swXS5pbWcgPT0gIiIgPyBudWxsIDogcmVzcC5kYXRhLnJlc3BvbnNlc1swXS5pbWcKICAgICAgICB9KTsgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CgoKICAgICAgICBfdGhpczE2LnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc3BvbnNlX2hhbmRsaW5nOiBmdW5jdGlvbiByZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSwgdHlwZSkgewogICAgICB2YXIgaSA9IDA7CiAgICAgIHZhciBkZWxheSA9IDUwOyAvLyByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0ICE9IHVuZGVmaW5lZCA/IDUwMAogICAgICAvLyByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0Lmxlbmd0aCA+IDEwCiAgICAgIC8vICAgPyA1MDAKICAgICAgLy8gICA6IDUwMDsKCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBoYW5kbGVfcmVzcG9uc2UoKTsKICAgICAgfSwgZGVsYXkpOwoKICAgICAgZnVuY3Rpb24gaGFuZGxlX3Jlc3BvbnNlKCkgewogICAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2bS5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gbnVsbCB8fCByZXNwb25zZS5kYXRhLnJlc3BvbnNlcy5sZW5ndGggPT0gMCkgewogICAgICAgICAgICB2bS5jaGF0X3Jlc3BvbnNlX2Vycm9yKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKEJvb2xlYW4ocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ucmVxdWVzdF9qc29uKSA9PSB0cnVlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0ICE9IG51bGwpIHsKICAgICAgICAgICAgICB2bS5jaGF0LnB1c2goewogICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgICAgICByZWNlaXZlZDogcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dCwKICAgICAgICAgICAgICAgIHRpbWU6IHZtLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgICAgICAgIGltYWdlOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbWcsCiAgICAgICAgICAgICAgICB2aWRlbzogcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udmlkZW8KICAgICAgICAgICAgICB9KTsgLy8gdm0uJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB2bS5jaGF0KTsKCiAgICAgICAgICAgICAgdm0udXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmludGVudCA9PSAiZ29neWI0NTBfY3JlYXRlX3RpY2tldCIpIHsKICAgICAgICAgICAgICB2YXIgX2F4aW9zJHBvc3Q1OwoKICAgICAgICAgICAgICB2YXIgbmFtZSA9ICIiLmNvbmNhdCh2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmZpcnN0X25hbWUsICIgIikuY29uY2F0KHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGFzdF9uYW1lKTsKICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgY29tcGFueW5hbWU6IHZtLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgICAgY29tcGFueWlkOiB2bS5jb21wYW55aWQsCiAgICAgICAgICAgICAgICB1c2VyX3JvbGU6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgICAgICAgICAgIGVtYWlsOiB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICB0aWNrZXRfaXNzdWU6ICIiLAogICAgICAgICAgICAgICAgdGlja2V0X251bWJlcjogdm0udGlja2V0X251bWJlcigpLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgICAgICAgICAgZmlsZV9jb250ZW50OiBudWxsLAogICAgICAgICAgICAgICAgZmlsZV9uYW1lOiBudWxsLAogICAgICAgICAgICAgICAgaXNFZGl0OiBmYWxzZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpOwogICAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgKF9heGlvcyRwb3N0NSA9IHsKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IHZtLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsCiAgICAgICAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NSwgInRva2VuIiwgdm0uYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NSwgInJvbGUiLCB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q1LCAicmVmcmVzaGVkX29yX2Nsb3NlZCIsIHZtLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q1LCAiY2hhdCIsICIiKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NSwgInNvdXJjZSIsICJXZWIiKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NSwgImRhdGEiLCBwYXlsb2FkKSwgX2F4aW9zJHBvc3Q1KSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgdm0uY2hhdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlc3AuZGF0YS5yZXNwb25zZXMubGVuZ3RoID09IDAgPyAiU29ycnkgSSdtIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24iIDogcmVzcC5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0LAogICAgICAgICAgICAgICAgICB0aW1lOiB2bS5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICAgICAgICAgIGltYWdlOiByZXNwLmRhdGEucmVzcG9uc2VzW2ldLmltZywKICAgICAgICAgICAgICAgICAgdmlkZW86IHJlc3AuZGF0YS5yZXNwb25zZXNbaV0udmlkZW8gfHwgbnVsbAogICAgICAgICAgICAgICAgfSk7IC8vIHZtLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdm0uY2hhdCk7CgogICAgICAgICAgICAgICAgdm0ubmV3X3VwZGF0ZV9yZXNwb25zZShpKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbnRlbnQgPT0gImNyZWF0ZV9hcHBvaW50bWVudCIpIHsKICAgICAgICAgICAgICB2YXIgdG9kYXlfZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc2NoZWR1bGVfYXBwb2ludG1lbnRfdXJsKCksIHsKICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB2bS5jb21wYW55bmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdm0uY29tcGFueWlkLAogICAgICAgICAgICAgICAgRGF0ZTogdG9kYXlfZGF0ZS5nZXRGdWxsWWVhcigpICsgIi0iICsgKHRvZGF5X2RhdGUuZ2V0TW9udGgoKSA8IDkgPyAiMCIgKyAodG9kYXlfZGF0ZS5nZXRNb250aCgpICsgMSkgOiB0b2RheV9kYXRlLmdldE1vbnRoKCkgKyAxKSArICItIiArIHRvZGF5X2RhdGUuZ2V0RGF0ZSgpIC8vIE1vbnRoIG9iamVjdCBkb2N1bWVudCBpdAogICAgICAgICAgICAgICAgLy8gRGF0ZTogc3RhcnRfdGltZSwKCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMudGltZV9zbG90cyA9IHRoaXMuZnVsbF90aW1lX3Nsb3RzOwogICAgICAgICAgICAgICAgLy8gaWYgKHJlc3BvbnNlLmRhdGEuU2xvdCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIC8vICAgaWYgKHJlc3BvbnNlLmRhdGEuU2xvdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgbGV0IGluZGV4OwogICAgICAgICAgICAgICAgLy8gICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YS5TbG90KSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICBpbmRleCA9IHRoaXMudGltZV9zbG90cy5pbmRleE9mKHJlc3BvbnNlLmRhdGEuU2xvdFtpXSk7CiAgICAgICAgICAgICAgICAvLyAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy50aW1lX3Nsb3RzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgICAgICAvLyAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgLy8gICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gICB9CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZtLnNlbmRfcmVxdWVzdF9qc29uKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmludGVudCA9PSAicmVfb3JkZXJfcHJvZHVjdHNfYWN0aW9uIikgewogICAgICAgICAgICAvLyB2bS5zZW5kX3Nob3BpZnlfY3VzdG9tZXJfaWQoKTsKICAgICAgICAgICAgdmFyIF9tc2cgPSB7CiAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgdGltZTogaSA9PSByZXNwb25zZS5kYXRhLnJlc3BvbnNlcy5sZW5ndGggLSAxID8gdm0uZ2VuZXJhdGVfdGltZSgpIDogbnVsbCwKICAgICAgICAgICAgICBhc2tfZmVlZGJhY2s6IEJvb2xlYW4ocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uYXNrX2ZlZWRiYWNrKQogICAgICAgICAgICB9OwogICAgICAgICAgICBfbXNnLnJlY2VpdmluZyA9IHRydWU7CiAgICAgICAgICAgIF9tc2cuZmV0Y2hfc2hvcGlmeV9kZXRhaWxzID0gdHJ1ZTsKICAgICAgICAgICAgX21zZy5pc19yZWZ1bmQgPSBmYWxzZTsKICAgICAgICAgICAgX21zZy5yZXR1cm5fc2hvcGlmeV9lbWFpbCA9IHRydWU7CiAgICAgICAgICAgIF9tc2cucmVjZWl2ZWQgPSAiUGxlYXNlIGxvZ2luIHdpdGggeW91ciBjcmVkZW50aWFscyBmb3IgYmV0dGVyIGV4cGVyaWVuY2UgOikiOwogICAgICAgICAgICBfbXNnLm1ldGFkYXRhID0gewogICAgICAgICAgICAgIGVudGl0eTogcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uZW50aXR5LAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdm0uY2hhdC5wdXNoKF9tc2cpOyAvLyB2bS5zZW5kX3Nob3BpZnlfY3VzdG9tZXJfaWQobnVsbCxmYWxzZSxyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmludGVudCA9PSAic3VwcG9ydF9zdWJzY3JpcHRpb25fZGF0YSIpIHsKICAgICAgICAgICAgLy8gdm0uc2VuZF9zaG9waWZ5X2N1c3RvbWVyX2lkKCk7CiAgICAgICAgICAgIHZtLnN1cHBvcnRfc3Vic2NyaXB0aW9uX2RhdGEoKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaW50ZW50ID09ICJwcm9kdWN0X2J5X2RhdGUiKSB7CiAgICAgICAgICAgIHZhciBfYXhpb3MkcG9zdDY7CgogICAgICAgICAgICB2bS5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIGN1dG9mZiA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHZhciBjdXJyZW50X2RhdGVfdGltZSA9IG1vbWVudChjdXRvZmYpLmZvcm1hdCgiWVlZWS1NTS1ERCBISDptbTpzcyIpOwogICAgICAgICAgICB2YXIgZm9ybV9wYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgIHVzcl9tc2c6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnVzcl9tc2csCiAgICAgICAgICAgICAgY3VycmVudF91c2VyX2RhdGU6IGN1cnJlbnRfZGF0ZV90aW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDYgPSB7CiAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHZtLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICB1c2VybmFtZTogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbAogICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q2LCAidG9rZW4iLCB2bS5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q2LCAicm9sZSIsIHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDYsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdm0ucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDYsICJjaGF0IiwgIi9wcm9kdWN0X2J5X2RhdGUiLmNvbmNhdChmb3JtX3BheWxvYWQpKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NiwgInNvdXJjZSIsICJXZWIiKSwgX2F4aW9zJHBvc3Q2KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICB2bS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChCb29sZWFuKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnJldHVybl9pbnRlbnQpID09IHRydWUpIHsKICAgICAgICAgICAgdmFyIF9heGlvcyRwb3N0NzsKCiAgICAgICAgICAgIF90aGlzMTcuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IHRydWU7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgKF9heGlvcyRwb3N0NyA9IHsKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICB0b2tlbjogdm0uYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgICAgIHVzZXJuYW1lOiB2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsCiAgICAgICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDcsICJ0b2tlbiIsIHZtLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDcsICJyb2xlIiwgdm0uJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NywgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB2bS5yZWZyZXNoZWRfb3JfY2xvc2VkKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0NywgImNoYXQiLCAiLyIgKyByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbnRlbnQpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q3LCAic291cmNlIiwgIldlYiIpLCBfYXhpb3MkcG9zdDcpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIHZtLmhhbmRsZV9yZXNwb25zZShyZXNwb25zZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmICh2bS5jb21wYW55aWQgPT0gIjN4NWl2ZTk5NTM0IiAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbnRlbnQgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmludGVudCA9PSAiY29uZnVzaW9uIikgewogICAgICAgICAgICB2bS5jb25mdXNpb25fbWVzc2FnZSgiL25lZWRfaGVscCIpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5idXR0b25zICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5idXR0b25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdm0ubG9hZF9idXR0b25zKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLCBpLCB0eXBlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jdXN0b20pICYmIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmN1c3RvbS50eXBlKSB7CiAgICAgICAgICAgIC8vIENIYW5nZSAgdGhlIGNvbmRpdGlvbiBoZXJlCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jdXN0b20udHlwZSAhPSB1bmRlZmluZWQgJiYgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uY3VzdG9tLnR5cGUgPT0gIm11bHRpc2VsZWN0X2Ryb3Bkb3duIikgewogICAgICAgICAgICAgIHZtLm11bHRpc2VsZWN0X2xvYWQocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0sIGkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmN1c3RvbS50eXBlICE9IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jdXN0b20udHlwZSA9PSAidGFibGUiKSB7CiAgICAgICAgICAgICAgdm0ubG9hZF90YWJsZShyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXSwgaSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uY3VzdG9tLnR5cGUgIT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmN1c3RvbS50eXBlID09ICJyZXRhaWwiKSB7CiAgICAgICAgICAgICAgdm0uZGlzcGxheV9wcm9kdWN0c19jaGF0KHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLCBpLCB0eXBlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jdXN0b20uc2hvd190ZXh0X2FyZWEpIHsKICAgICAgICAgICAgICB2bS5sb2FkX3RleHRfYXJlYShyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXSwgaSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uY3VzdG9tLmJ1dHRvbnMgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgdm0ubG9hZF9idXR0b25zKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmN1c3RvbSwgaSwgdHlwZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5tZXNzYWdpbmdfcGxhdGZvcm1zKSAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5tZXNzYWdpbmdfcGxhdGZvcm1zLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICB0aW1lOiBpID09IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzLmxlbmd0aCAtIDEgPyB2bS5nZW5lcmF0ZV90aW1lKCkgOiBudWxsLAogICAgICAgICAgICAgIGFza19mZWVkYmFjazogQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5hc2tfZmVlZGJhY2spLAogICAgICAgICAgICAgIHNob3dfbWVzc2FnaW5nX3BsYXRmb3JtczogdHJ1ZSwKICAgICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgICAgcmVjZWl2ZWQ6ICJQbGVhc2UgZmVlbCBmcmVlIHRvIHJlYWNob3V0IHRvIHVzIGF0IDogIiArIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmNvbnRhY3RfdXNfZW1haWwgKyB2bS5jb250YWN0X3VzX3Bob25lX251bWJlcihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5jb250YWN0X3VzX3Bob25lX251bWJlcikgKyAiIG9yIGRyb3AgdXMgYSBtZXNzYWdlIiwKICAgICAgICAgICAgICBtZXNzYWdpbmdfcGxhdGZvcm1zX2RhdGE6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLm1lc3NhZ2luZ19wbGF0Zm9ybXMKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdm0uY2hhdC5wdXNoKG1zZyk7CiAgICAgICAgICB9IGVsc2UgaWYgKEJvb2xlYW4ocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaXNfcHJldmlld19iYW5uZXIpKSB7CiAgICAgICAgICAgIHZtLmRpc3BsYXlfYmFubmVyKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzLCBpKTsKICAgICAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pc19kaXNwbGF5X2Jhbm5lcikpIHsKICAgICAgICAgICAgdm0uZGlzcGxheV9iYW5uZXIocmVzcG9uc2UuZGF0YS5yZXNwb25zZXMsIGkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgICB0aW1lOiBpID09IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzLmxlbmd0aCAtIDEgPyB2bS5nZW5lcmF0ZV90aW1lKCkgOiBudWxsLAogICAgICAgICAgICAgIGFza19mZWVkYmFjazogQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5hc2tfZmVlZGJhY2spCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXMubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICBtc2cucmVjZWl2ZWQgPSAiU29ycnkgd2UgYXJlIG5vdCBnZXR0aW5nIHlvdXIgcXVlc3Rpb24uIjsKICAgICAgICAgICAgICBtc2cucmVjZWl2aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZW1wbGF0ZSA9PT0gInV0dGVyX2RlZmF1bHQiKSB7CiAgICAgICAgICAgICAgbXNnLnJlY2VpdmluZyA9IHRydWU7CiAgICAgICAgICAgICAgbXNnLnJlY2VpdmVkID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ubWVzc2FnZS5zcGxpdCgne2VtYWlsfScpLmpvaW4odm0uY29udGFjdF9oZWxwX2VtYWlsKTsKICAgICAgICAgICAgICB2bS5jaGF0LnB1c2gobXNnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0ICE9IHVuZGVmaW5lZCAmJiB2bS51cmxfbWF0Y2hfcmVnZXgudGVzdChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS50ZXh0KSkgewogICAgICAgICAgICAgIHZtLmRpc3BsYXlfZmlsZV9jaGF0KHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmdldF9jb21wYW55X2RldGFpbHMgPT09ICJUcnVlIiAmJiByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbnRlbnQgPT09ICJjZW5zZV9zdXBwb3J0X3RpY2tldCIpIHsKICAgICAgICAgICAgICB2YXIgX2F4aW9zJHBvc3Q4OwoKICAgICAgICAgICAgICB2YXIgY19pZCA9IHZtLnJldHVybl9kb2N1bWVudF9jb29raWVzKCdjb21wYW55X2lkJyk7CiAgICAgICAgICAgICAgdmFyIGNfbmFtZSA9IHZtLnJldHVybl9kb2N1bWVudF9jb29raWVzKCdjb21wYW55X25hbWUnKTsKICAgICAgICAgICAgICB2YXIgY19lbWFpbCA9IHZtLnJldHVybl9kb2N1bWVudF9jb29raWVzKCdjb21wYW55X2VtYWlsJyk7CiAgICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCAoX2F4aW9zJHBvc3Q4ID0gewogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogdm0uYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgICAgICAgdXNlcm5hbWU6IHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgICAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q4LCAidG9rZW4iLCB2bS5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q4LCAicm9sZSIsIHZtLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDgsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdm0ucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDgsICJjaGF0IiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgY29tcGFueV9pZDogY19pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogY19uYW1lLAogICAgICAgICAgICAgICAgZW1haWw6IGNfZW1haWwKICAgICAgICAgICAgICB9KSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDgsICJzb3VyY2UiLCAiV2ViIiksIF9heGlvcyRwb3N0OCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2bS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dCAhPSB1bmRlZmluZWQgJiYgIXJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQuaW5jbHVkZXMoIkRvd25sb2FkIHlvdXIgbWFuaWZlc3QgaGVyZSIpKSB7CiAgICAgICAgICAgICAgbXNnLnJlY2VpdmVkID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dDsKICAgICAgICAgICAgICBtc2cucmVjZWl2aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICBtc2cuaW1hZ2UgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5pbWc7CiAgICAgICAgICAgICAgbXNnLmltYWdlID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaW1hZ2U7CiAgICAgICAgICAgICAgbXNnLnZpZGVvcyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnZpZGVvIHx8IGZhbHNlOwogICAgICAgICAgICAgIG1zZy5vcmRlcl9zdGF0dXMgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5vcmRlcl9zdGF0dXM7CiAgICAgICAgICAgICAgbXNnLmlzX29yZGVyX3N0YXR1cyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmlzX29yZGVyX3N0YXR1cyB8fCBmYWxzZTsKICAgICAgICAgICAgICBtc2cub2ZmZXJzID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ub2ZmZXJzIHx8IGZhbHNlOwogICAgICAgICAgICAgIG1zZy5mZXRjaF9zaG9waWZ5X2RldGFpbHMgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5mZXRjaF9zaG9waWZ5X2RldGFpbHMgfHwgZmFsc2U7CiAgICAgICAgICAgICAgbXNnLm9yZGVyX2l0ZW1zID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ub3JkZXJfaXRlbXM7CiAgICAgICAgICAgICAgbXNnLnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWRfZm9yX29mZmVycyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWRfZm9yX29mZmVycyB8fCBmYWxzZTsgLy8gaWYgKG1zZy5zaG9waWZ5X2ZldGNoX2N1c3RvbWVyX2lkX2Zvcl9vZmZlcnMgPT09IHRydWUpIHsKICAgICAgICAgICAgICAvLyAgIHZtLnNob3BpZnlfY2hlY2tfY3VzdG9tZXJfbG9nZ2VkX2luKCk7CiAgICAgICAgICAgICAgLy8gICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgIGlmIChtc2cub2ZmZXJzLmxlbmd0aCA8IDEpIHsKICAgICAgICAgICAgICAgIG1zZy5vZmZlcnMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIG1zZy5yZWNlaXZlZCA9ICJTb3JyeSB3ZSBkbyBub3QgaGF2ZSBhbnkgb2ZmZXJzIGN1cnJlbnRseSwgcGxlYXNlIGNoZWNrIGJhY2sgbGF0ZXIuIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZtLmNoYXQucHVzaChtc2cpOwogICAgICAgICAgICAgIHZtLm5ld191cGRhdGVfcmVzcG9uc2UoaSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0uaW50ZW50ID09ICJjaGF0X3N1cHBvcnQiKSB7CiAgICAgICAgICAgICAgdm0uc3RhcnRfbGl2ZV9jaGF0KCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dCAhPSB1bmRlZmluZWQgJiYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQuaW5jbHVkZXMoIkRvd25sb2FkIHlvdXIgbWFuaWZlc3QgaGVyZSIpIHx8IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQuaW5jbHVkZXMoLy5wZGYvKSkpIHsKICAgICAgICAgICAgICB2bS5kaXNwbGF5X2ZpbGVfY2hhdChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1tpXS5wcm9kdWN0cykgJiYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnByb2R1Y3RzLmxlbmd0aCA+IDAgfHwgT2JqZWN0LmtleXMocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0ucHJvZHVjdHMpLmxlbmd0aCkpIHsKICAgICAgICAgICAgICB2bS5kaXNwbGF5X3Byb2R1Y3RzX2NoYXQocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0sIGksIHR5cGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmlzX3JlZnVuZCA9PSAiVHJ1ZSIpIHsKICAgICAgICAgICAgICB2bS5sb2FkX3JlZnVuZHMocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICB2bS5zaG9waWZ5X2NoZWNrX2N1c3RvbWVyX2xvZ2dlZF9pbigpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmltYWdlICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIG1zZy5pbWFnZSA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLmltYWdlOwogICAgICAgICAgICAgIG1zZy5yZWNlaXZpbmcgPSB0cnVlOwogICAgICAgICAgICAgIHZtLmNoYXQucHVzaChtc2cpOwogICAgICAgICAgICAgIHZtLm5ld191cGRhdGVfcmVzcG9uc2UoaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaSA8IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgaSArPSAxOwogICAgICAgICAgICB2bS5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsgLy8gZGVsYXkgPQogICAgICAgICAgICAvLyAgIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzW2ldLnRleHQgIT0gdW5kZWZpbmVkICYmCiAgICAgICAgICAgIC8vICAgcmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbaV0udGV4dC5sZW5ndGggPiAxMAogICAgICAgICAgICAvLyAgICAgPyAyMDAwCiAgICAgICAgICAgIC8vICAgICA6IDUwMDsKCiAgICAgICAgICAgIGRlbGF5ID0gNTAwOwogICAgICAgICAgICBoYW5kbGVfcmVzcG9uc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBkZWxheSk7CiAgICAgIH0KICAgIH0sCiAgICBkaXNwbGF5X2Jhbm5lcjogZnVuY3Rpb24gZGlzcGxheV9iYW5uZXIocmVzcG9uc2UsIGkpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHBvc2l0aW9uXzEgPSByZXNwb25zZVtpXS5iYW5uZXJfY29udGVudF9wb3NpdGlvblswXVsnaWQnXTsKICAgICAgdmFyIHBvc2l0aW9uXzIgPSByZXNwb25zZVtpXS5iYW5uZXJfY29udGVudF9wb3NpdGlvblsxXVsnaWQnXTsKICAgICAgdmFyIHBvc2l0aW9uXzMgPSByZXNwb25zZVtpXS5iYW5uZXJfY29udGVudF9wb3NpdGlvblsyXVsnaWQnXTsKICAgICAgdmFyIGlzX2RhdGFfcG9zaXRpb25fMSA9IHJlc3BvbnNlW2ldW3Bvc2l0aW9uXzFdOwogICAgICB2YXIgaXNfZGF0YV9wb3NpdGlvbl8yID0gcmVzcG9uc2VbaV1bcG9zaXRpb25fMl07CiAgICAgIHZhciBpc19kYXRhX3Bvc2l0aW9uXzMgPSByZXNwb25zZVtpXVtwb3NpdGlvbl8zXTsKCiAgICAgIGlmIChCb29sZWFuKGlzX2RhdGFfcG9zaXRpb25fMSkpIHsKICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICB0aW1lOiBpID09IHJlc3BvbnNlLmxlbmd0aCAtIDEgJiYgIShCb29sZWFuKGlzX2RhdGFfcG9zaXRpb25fMikgfHwgQm9vbGVhbihpc19kYXRhX3Bvc2l0aW9uXzMpKSA/IHZtLmdlbmVyYXRlX3RpbWUoKSA6IG51bGwsCiAgICAgICAgICBhc2tfZmVlZGJhY2s6IEJvb2xlYW4ocmVzcG9uc2VbaV0uYXNrX2ZlZWRiYWNrKSwKICAgICAgICAgIGJhbm5lcl9pbWdfbGluazogcmVzcG9uc2VbaV0uYmFubmVyX2ltZ19saW5rCiAgICAgICAgfTsKICAgICAgICBtc2cuc2hvd19ib3RfaW1nID0gdHJ1ZTsKICAgICAgICBtc2dbJ3Nob3dfJyArIHBvc2l0aW9uXzFdID0gdHJ1ZTsKICAgICAgICBtc2dbcG9zaXRpb25fMV0gPSBpc19kYXRhX3Bvc2l0aW9uXzE7CiAgICAgICAgdm0uY2hhdC5wdXNoKG1zZyk7CiAgICAgICAgdm0ubmV3X3VwZGF0ZV9yZXNwb25zZShpKTsKCiAgICAgICAgaWYgKEJvb2xlYW4oaXNfZGF0YV9wb3NpdGlvbl8yKSkgewogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IGkgPT0gcmVzcG9uc2UubGVuZ3RoIC0gMSAmJiAhQm9vbGVhbihpc19kYXRhX3Bvc2l0aW9uXzMpID8gdm0uZ2VuZXJhdGVfdGltZSgpIDogbnVsbCwKICAgICAgICAgICAgYXNrX2ZlZWRiYWNrOiBCb29sZWFuKHJlc3BvbnNlW2ldLmFza19mZWVkYmFjayksCiAgICAgICAgICAgIGJhbm5lcl9pbWdfbGluazogcmVzcG9uc2VbaV0uYmFubmVyX2ltZ19saW5rCiAgICAgICAgICB9OwogICAgICAgICAgbXNnLnNob3dfYm90X2ltZyA9IGZhbHNlOwogICAgICAgICAgbXNnWydzaG93XycgKyBwb3NpdGlvbl8yXSA9IHRydWU7CiAgICAgICAgICBtc2dbcG9zaXRpb25fMl0gPSBpc19kYXRhX3Bvc2l0aW9uXzI7CiAgICAgICAgICB2bS5jaGF0LnB1c2gobXNnKTsKICAgICAgICAgIHZtLm5ld191cGRhdGVfcmVzcG9uc2UoaSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoQm9vbGVhbihpc19kYXRhX3Bvc2l0aW9uXzMpKSB7CiAgICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogaSA9PSByZXNwb25zZS5sZW5ndGggLSAxID8gdm0uZ2VuZXJhdGVfdGltZSgpIDogbnVsbCwKICAgICAgICAgICAgYXNrX2ZlZWRiYWNrOiBCb29sZWFuKHJlc3BvbnNlW2ldLmFza19mZWVkYmFjayksCiAgICAgICAgICAgIGJhbm5lcl9pbWdfbGluazogcmVzcG9uc2VbaV0uYmFubmVyX2ltZ19saW5rCiAgICAgICAgICB9OwogICAgICAgICAgbXNnLnNob3dfYm90X2ltZyA9IGZhbHNlOwogICAgICAgICAgbXNnWydzaG93XycgKyBwb3NpdGlvbl8zXSA9IHRydWU7CiAgICAgICAgICBtc2dbcG9zaXRpb25fM10gPSBpc19kYXRhX3Bvc2l0aW9uXzM7CiAgICAgICAgICB2bS5jaGF0LnB1c2gobXNnKTsKICAgICAgICAgIHZtLm5ld191cGRhdGVfcmVzcG9uc2UoaSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKEJvb2xlYW4oaXNfZGF0YV9wb3NpdGlvbl8yKSkgewogICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIHRpbWU6IGkgPT0gcmVzcG9uc2UubGVuZ3RoIC0gMSAmJiAhQm9vbGVhbihpc19kYXRhX3Bvc2l0aW9uXzMpID8gdm0uZ2VuZXJhdGVfdGltZSgpIDogbnVsbCwKICAgICAgICAgIGFza19mZWVkYmFjazogQm9vbGVhbihyZXNwb25zZVtpXS5hc2tfZmVlZGJhY2spLAogICAgICAgICAgYmFubmVyX2ltZ19saW5rOiByZXNwb25zZVtpXS5iYW5uZXJfaW1nX2xpbmsKICAgICAgICB9OwogICAgICAgIG1zZy5zaG93X2JvdF9pbWcgPSB0cnVlOwogICAgICAgIG1zZ1snc2hvd18nICsgcG9zaXRpb25fMl0gPSB0cnVlOwogICAgICAgIG1zZ1twb3NpdGlvbl8yXSA9IGlzX2RhdGFfcG9zaXRpb25fMjsKICAgICAgICB2bS5jaGF0LnB1c2gobXNnKTsKICAgICAgICB2bS5uZXdfdXBkYXRlX3Jlc3BvbnNlKGkpOwoKICAgICAgICBpZiAoQm9vbGVhbihpc19kYXRhX3Bvc2l0aW9uXzMpKSB7CiAgICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgICAgdGltZTogaSA9PSByZXNwb25zZS5sZW5ndGggLSAxID8gdm0uZ2VuZXJhdGVfdGltZSgpIDogbnVsbCwKICAgICAgICAgICAgYXNrX2ZlZWRiYWNrOiBCb29sZWFuKHJlc3BvbnNlW2ldLmFza19mZWVkYmFjayksCiAgICAgICAgICAgIGJhbm5lcl9pbWdfbGluazogcmVzcG9uc2VbaV0uYmFubmVyX2ltZ19saW5rCiAgICAgICAgICB9OwogICAgICAgICAgbXNnLnNob3dfYm90X2ltZyA9IGZhbHNlOwogICAgICAgICAgbXNnWydzaG93XycgKyBwb3NpdGlvbl8zXSA9IHRydWU7CiAgICAgICAgICBtc2dbcG9zaXRpb25fM10gPSBpc19kYXRhX3Bvc2l0aW9uXzM7CiAgICAgICAgICB2bS5jaGF0LnB1c2gobXNnKTsKICAgICAgICAgIHZtLm5ld191cGRhdGVfcmVzcG9uc2UoaSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKEJvb2xlYW4oaXNfZGF0YV9wb3NpdGlvbl8zKSkgewogICAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICAgIHRpbWU6IGkgPT0gcmVzcG9uc2UubGVuZ3RoIC0gMSA/IHZtLmdlbmVyYXRlX3RpbWUoKSA6IG51bGwsCiAgICAgICAgICBhc2tfZmVlZGJhY2s6IEJvb2xlYW4ocmVzcG9uc2VbaV0uYXNrX2ZlZWRiYWNrKSwKICAgICAgICAgIGJhbm5lcl9pbWdfbGluazogcmVzcG9uc2VbaV0uYmFubmVyX2ltZ19saW5rCiAgICAgICAgfTsKICAgICAgICBtc2cuc2hvd19ib3RfaW1nID0gdHJ1ZTsKICAgICAgICBtc2dbJ3Nob3dfJyArIHBvc2l0aW9uXzNdID0gdHJ1ZTsKICAgICAgICBtc2dbcG9zaXRpb25fM10gPSBpc19kYXRhX3Bvc2l0aW9uXzM7CiAgICAgICAgdm0uY2hhdC5wdXNoKG1zZyk7CiAgICAgICAgdm0ubmV3X3VwZGF0ZV9yZXNwb25zZShpKTsKICAgICAgfQogICAgfSwKICAgIHB1c2hfbXNnOiBmdW5jdGlvbiBwdXNoX21zZyhyZXNwb25zZXMsIHJlc3BvbnNlKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBkZWxheSA9IDUwOyAvLyBwdXNoX2NoYXQocmVzcG9uc2VbaW5kZXhdLCBkZWxheSk7CiAgICAgIC8vIGZ1bmN0aW9uIHB1c2hfY2hhdChtc2csIHRpbWVfZGVsYXkpIHsKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIHdoaWxlIChpIDwgcmVzcG9uc2UubGVuZ3RoKSB7CiAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHZhciBtc2cgPSByZXNwb25zZVtpXTsKICAgICAgICAgIHZtLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSB0cnVlOyAvLyBzZXRUaW1lb3V0KCgpID0+IHsKCiAgICAgICAgICB2bS5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CgogICAgICAgICAgaWYgKHJlc3BvbnNlcy5kYXRhLnJlc3BvbnNlc1tpXS5idXR0b25zICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICB2bS5sb2FkX2J1dHRvbnMocmVzcG9uc2VzLmRhdGEucmVzcG9uc2VzW2ldLCAiaXNfYnV0dG9uIiwgMzAwMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5jaGF0LnB1c2goewogICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICByZWNlaXZlZDogbXNnLnRleHQsCiAgICAgICAgICAgICAgb2ZmZXJzOiBtc2cub2ZmZXJzIHx8IGZhbHNlLAogICAgICAgICAgICAgIHRpbWU6IGkgPT0gcmVzcG9uc2UubGVuZ3RoIC0gMSA/IHZtLmdlbmVyYXRlX3RpbWUoKSA6IHVuZGVmaW5lZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMxOC5ncmVldGluZ19idXR0b25zX3Bvc2l0aW9uID09IGkpIHsKICAgICAgICAgICAgaWYgKHZtLmlzX3JldGFpbF9ib3QpIHZtLmxvYWRfY2hhdGJvdF9pbnRlZ3JhdGlvbl9kZXRhaWxzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgaSAqIDEwNTApOwogICAgICAgICQoIi50aW1lIikubGFzdCgpLmNzcygiZGlzcGxheSIsICJub25lIik7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIudGltZSIpLmxhc3QoKS5jc3MoImRpc3BsYXkiLCAiYmxvY2siKTsKCiAgICAgICAgICBpZiAoaSA8IHJlc3BvbnNlLmxlbmd0aCAtIDEpIHsvLyBpICs9IDE7CiAgICAgICAgICAgIC8vIGRlbGF5ID0gNTAwOwogICAgICAgICAgICAvLyBwdXNoX2NoYXQocmVzcG9uc2VbaW5kZXhdLCBkZWxheSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS53ZWxjb21lX21lc3NhZ2Vfbm90X3lldF9yZWNlaXZlZCA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0sIDUwMCk7IC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vIH0sIDEwMDApOwogICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIC8vIGkgKz0xOwogICAgICAgIC8vIH0KICAgICAgICAvLyB9LCA0MDApOwogICAgICAgIC8vIH0sIHRpbWVfZGVsYXkpOwogICAgICAgIC8vIH0sIGkqIDUwMCk7CiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgX2xvb3AoaSk7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZtLmRlbW9fcmV0YWlsX3F1ZXN0aW9uKCk7CiAgICAgIH0sIGRlbGF5KTsgLy8gfQogICAgfSwKICAgIGNvbmZ1c2lvbl9tZXNzYWdlOiBmdW5jdGlvbiBjb25mdXNpb25fbWVzc2FnZShtc2dfc3RyaW5nKSB7CiAgICAgIHZhciBfdGhpczE5ID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRib3RfcmVzcG9uc2VfY2Vuc2UoKSwgewogICAgICAgIGNoYXQ6IG1zZ19zdHJpbmcsCiAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIGRhdGE6ICIiLAogICAgICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IGZhbHNlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMxOS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRpc3BsYXlfcHJvZHVjdHNfY2hhdDogZnVuY3Rpb24gZGlzcGxheV9wcm9kdWN0c19jaGF0KG1lc3NhZ2UsIGluZGV4LCB0eXBlKSB7CiAgICAgIHZhciBfdGhpczIwID0gdGhpczsKCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgfTsKCiAgICAgIGlmIChtZXNzYWdlLnByb2R1Y3RzLmlzX3Byb2R1Y3RzX2xpc3QpIHsKICAgICAgICBtc2cuaXNfcHJvZHVjdHNfbGlzdCA9IG1lc3NhZ2UucHJvZHVjdHMuaXNfcHJvZHVjdHNfbGlzdDsKICAgICAgICBtc2cucHJvZHVjdHNfbGlzdCA9IG1lc3NhZ2UucHJvZHVjdHMucHJvZHVjdHNfbGlzdDsKCiAgICAgICAgaWYgKG1lc3NhZ2UucHJvZHVjdHMucHJvZHVjdHNfbGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgIG1zZy5yZWNlaXZlZCA9ICJTb3JyeSwgd2UgY291bGQgbm90IGZpbmQgd2hhdCB5b3Ugc2VhcmNoZWQgZm9yIjsKICAgICAgICAgIG1zZy5yZWNlaXZpbmcgPSB0cnVlOwogICAgICAgIH0gLy8gc2V0VGltZW91dCgoKSA9PiB7CgoKICAgICAgICBpZiAoQm9vbGVhbihtZXNzYWdlLnByb2R1Y3RzLnRleHQpID09PSB0cnVlKSB7CiAgICAgICAgICBtc2cucmVjZWl2ZWQgPSBtZXNzYWdlLnByb2R1Y3RzLnRleHQ7CiAgICAgICAgICBtc2cucmVjZWl2aW5nID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMucHJvZHVjdF9vdXRfb2Zfc3RvY2tfbGlzdCA9IFtdOwoKICAgICAgICBpZiAodGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAnc2hvcGlmeScpIHsKICAgICAgICAgIG1zZy5wcm9kdWN0c19saXN0LmZvckVhY2goZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgcHJvZHVjdC52YXJpYXRpb25zLmxlbmd0aDsgX2k0KyspIHsKICAgICAgICAgICAgICBfdGhpczIwLnByb2R1Y3RfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3QudmFyaWF0aW9uc1tfaTRdLmlkLAogICAgICAgICAgICAgICAgcHJvZHVjdF90aXRsZTogcHJvZHVjdC50aXRsZSwKICAgICAgICAgICAgICAgIHZhcmlhbnRfdGl0bGU6IHByb2R1Y3QudmFyaWF0aW9uc1tfaTRdLnZhcmlhbnRfdGl0bGUsCiAgICAgICAgICAgICAgICB2YXJpYW50X2lkOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k0XS5pZCwKICAgICAgICAgICAgICAgIHN0b2NrX3N0YXR1czogcHJvZHVjdC52YXJpYXRpb25zW19pNF0uc3RvY2tfc3RhdHVzIHx8ICJpbnN0b2NrIiwKICAgICAgICAgICAgICAgIGJhY2tfaW5fc3RvY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k0XS5pbWdfdXJsID09IG51bGwgPyBwcm9kdWN0LmltZ191cmwgOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k0XS5pbWdfdXJsLAogICAgICAgICAgICAgICAgb25saW5lU3RvcmVVUkw6IHByb2R1Y3QudmFyaWF0aW9uc1tfaTRdLnBlcm1hbGluawogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gJ3dvb2NvbW1lcmNlJykgewogICAgICAgICAgbXNnLnByb2R1Y3RzX2xpc3QuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgICAgICBpZiAocHJvZHVjdC52YXJpYXRpb25zICYmIHByb2R1Y3QudmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2k1ID0gMDsgX2k1IDwgcHJvZHVjdC52YXJpYXRpb25zLmxlbmd0aDsgX2k1KyspIHsKICAgICAgICAgICAgICAgIF90aGlzMjAucHJvZHVjdF9saXN0LnB1c2goewogICAgICAgICAgICAgICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0LmlkLAogICAgICAgICAgICAgICAgICBwcm9kdWN0X3RpdGxlOiBwcm9kdWN0LnRpdGxlLAogICAgICAgICAgICAgICAgICB2YXJpYW50X3RpdGxlOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k1XS52YXJpYW50X3RpdGxlLAogICAgICAgICAgICAgICAgICB2YXJpYW50X2lkOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k1XS5pZCwKICAgICAgICAgICAgICAgICAgc3RvY2tfc3RhdHVzOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k1XS5zdG9ja19zdGF0dXMgfHwgImluc3RvY2siLAogICAgICAgICAgICAgICAgICBiYWNrX2luX3N0b2NrOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k1XS5pbWdfdXJsID09IG51bGwgPyBwcm9kdWN0LmltZ191cmwgOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k1XS5pbWdfdXJsLAogICAgICAgICAgICAgICAgICBvbmxpbmVTdG9yZVVSTDogcHJvZHVjdC5wZXJtYWxpbmsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIwLnByb2R1Y3RfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3QuaWQsCiAgICAgICAgICAgICAgICBwcm9kdWN0X3RpdGxlOiBwcm9kdWN0LnRpdGxlLAogICAgICAgICAgICAgICAgdmFyaWFudF90aXRsZTogbnVsbCwKICAgICAgICAgICAgICAgIHZhcmlhbnRfaWQ6IG51bGwsCiAgICAgICAgICAgICAgICBzdG9ja19zdGF0dXM6IHByb2R1Y3Quc3RvY2tfc3RhdHVzIHx8ICJpbnN0b2NrIiwKICAgICAgICAgICAgICAgIGJhY2tfaW5fc3RvY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0LmltZ191cmwsCiAgICAgICAgICAgICAgICBvbmxpbmVTdG9yZVVSTDogcHJvZHVjdC5wZXJtYWxpbmsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICdtYWdlbnRvJykgewogICAgICAgICAgbXNnLnByb2R1Y3RzX2xpc3QuZm9yRWFjaChmdW5jdGlvbiAocHJvZHVjdCkgewogICAgICAgICAgICBpZiAocHJvZHVjdC52YXJpYXRpb25zICYmIHByb2R1Y3QudmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgcHJvZHVjdC52YXJpYXRpb25zLmxlbmd0aDsgX2k2KyspIHsKICAgICAgICAgICAgICAgIF90aGlzMjAucHJvZHVjdF9saXN0LnB1c2goewogICAgICAgICAgICAgICAgICBwcm9kdWN0X2lkOiBwcm9kdWN0LmlkLAogICAgICAgICAgICAgICAgICBwcm9kdWN0X3RpdGxlOiBwcm9kdWN0LnRpdGxlLAogICAgICAgICAgICAgICAgICB2YXJpYW50X3RpdGxlOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k2XS52YXJpYW50X3RpdGxlLAogICAgICAgICAgICAgICAgICB2YXJpYW50X2lkOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k2XS5pZCwKICAgICAgICAgICAgICAgICAgc3RvY2tfc3RhdHVzOiBwcm9kdWN0LnN0b2NrX3N0YXR1cyB8fCAiaW5zdG9jayIsCiAgICAgICAgICAgICAgICAgIGJhY2tfaW5fc3RvY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgICBwcm9kdWN0SW1hZ2U6IHByb2R1Y3QudmFyaWF0aW9uc1tfaTZdLmltZ191cmwgPT0gbnVsbCA/IHByb2R1Y3QuaW1nX3VybCA6IHByb2R1Y3QudmFyaWF0aW9uc1tfaTZdLmltZ191cmwsCiAgICAgICAgICAgICAgICAgIG9ubGluZVN0b3JlVVJMOiBwcm9kdWN0LnZhcmlhdGlvbnNbX2k2XS5wZXJtYWxpbmsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIwLnByb2R1Y3RfbGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3QuaWQsCiAgICAgICAgICAgICAgICBwcm9kdWN0X3RpdGxlOiBwcm9kdWN0LnRpdGxlLAogICAgICAgICAgICAgICAgdmFyaWFudF90aXRsZTogbnVsbCwKICAgICAgICAgICAgICAgIHZhcmlhbnRfaWQ6IG51bGwsCiAgICAgICAgICAgICAgICBzdG9ja19zdGF0dXM6IHByb2R1Y3Quc3RvY2tfc3RhdHVzIHx8ICJpbnN0b2NrIiwKICAgICAgICAgICAgICAgIGJhY2tfaW5fc3RvY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgcHJvZHVjdEltYWdlOiBwcm9kdWN0LmltZ191cmwsCiAgICAgICAgICAgICAgICBvbmxpbmVTdG9yZVVSTDogcHJvZHVjdC5wZXJtYWxpbmsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpIGluIG1zZy5wcm9kdWN0c19saXN0KSB7CiAgICAgICAgICBtc2cucHJvZHVjdHNfbGlzdFtpXS5vcmRlcl9xdHkgPSAxOwogICAgICAgICAgbXNnLnByb2R1Y3RzX2xpc3RbaV0uYnV5X3F0eSA9IDE7CgogICAgICAgICAgaWYgKG1zZy5wcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnMgJiYgbXNnLnByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG1zZy5wcm9kdWN0c19saXN0W2ldLmlkID0gbXNnLnByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS5pZDsKICAgICAgICAgICAgbXNnLnByb2R1Y3RzX2xpc3RbaV0uaW1nX3VybCA9IG1zZy5wcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uaW1nX3VybCA9PT0gbnVsbCA/IG1zZy5wcm9kdWN0c19saXN0W2ldLmltZ191cmwgOiBtc2cucHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLmltZ191cmw7CiAgICAgICAgICAgIG1zZy5wcm9kdWN0c19saXN0W2ldLnBlcm1hbGluayA9IG1zZy5wcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0ucGVybWFsaW5rOwogICAgICAgICAgICBtc2cucHJvZHVjdHNfbGlzdFtpXS52YXJpYW50X3RpdGxlID0gbXNnLnByb2R1Y3RzX2xpc3RbaV0udmFyaWF0aW9uc1swXS52YXJpYW50X3RpdGxlOwogICAgICAgICAgICBtc2cucHJvZHVjdHNfbGlzdFtpXS5zdG9ja19xdWFudGl0eSA9IG1zZy5wcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uc3RvY2tfcXVhbnRpdHk7CiAgICAgICAgICAgIG1zZy5wcm9kdWN0c19saXN0W2ldLnN0b2NrX3N0YXR1cyA9IG1zZy5wcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0uc3RvY2tfc3RhdHVzOwogICAgICAgICAgICBtc2cucHJvZHVjdHNfbGlzdFtpXS5wcmljZSA9IG1zZy5wcm9kdWN0c19saXN0W2ldLnZhcmlhdGlvbnNbMF0ucHJpY2U7CiAgICAgICAgICAgIG1zZy5wcm9kdWN0c19saXN0W2ldLnJlZ3VsYXJfcHJpY2UgPSBtc2cucHJvZHVjdHNfbGlzdFtpXS52YXJpYXRpb25zWzBdLnJlZ3VsYXJfcHJpY2U7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBtc2cubmV3X3Byb2R1Y3RzID0gdHJ1ZTsKICAgICAgICB0aGlzLnNob3dfY3VzdG9tX2NhcnQgPSB0cnVlOwogICAgICAgIHZhciBuZXdsaXN0ID0gdGhpcy5wcm9kdWN0X2xpc3QuZmlsdGVyKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgICByZXR1cm4gcHJvZHVjdFsic3RvY2tfc3RhdHVzIl0gPT09ICJvdXRvZnN0b2NrIjsKICAgICAgICB9KTsKICAgICAgICBtc2cucHJvZHVjdF9vdXRfb2Zfc3RvY2tfbGlzdCA9IG5ld2xpc3Q7CgogICAgICAgIGlmIChtc2cucHJvZHVjdF9vdXRfb2Zfc3RvY2tfbGlzdC5sZW5ndGggPiAwICYmICF0aGlzLmRpc3BsYXlfcHJvZHVjdHMpIHsKICAgICAgICAgIG1zZy5wcm9kdWN0X291dF9vZl9zdG9jayA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRpc3BsYXlfcHJvZHVjdHMgPSBmYWxzZTsgLy8gfSwgMjAwMCk7CgogICAgICAgIGlmICh0eXBlID09PSAiZGlzcGxheV9zdWNjZXNzX3RvYXN0ciIpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiAiVGVzdGluZyBDb21wbGV0ZWQgU3VjY2Vzc2Z1bGx5ISBQbGVhc2UgUHJvY2VlZCB0byB0aGUgbmV4dCBzdGVwLiIsCiAgICAgICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICB0aW1lcjogNTAwMCwKICAgICAgICAgICAgICB0aW1lclByb2dyZXNzQmFyOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgMTIwMCk7CiAgICAgICAgfSAvLyB9LCAzMCk7CgogICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UucHJvZHVjdHMubGVuZ3RoKSB7CiAgICAgICAgbXNnLmlzcHJvZHVjdCA9IHRydWU7CiAgICAgICAgbXNnLmVsZW1lbnRzID0gbWVzc2FnZTsKICAgICAgfQoKICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CgogICAgICB0aGlzLm5ld191cGRhdGVfcmVzcG9uc2UoaW5kZXgpOwogICAgICB0aGlzLnByb2R1Y3RfbGlzdCA9IFtdOwogICAgfSwKICAgIGRpc3BsYXlfZmlsZV9jaGF0OiBmdW5jdGlvbiBkaXNwbGF5X2ZpbGVfY2hhdChtZXNzYWdlKSB7CiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgfTsKICAgICAgdmFyIHRlbXAgPSBtZXNzYWdlLnNwbGl0KCJEb3dubG9hZCB5b3VyIG1hbmlmZXN0IGhlcmUgIik7CiAgICAgIHZhciB1cmwgPSBtZXNzYWdlLm1hdGNoKHRoaXMudXJsX21hdGNoX3JlZ2V4KVswXTsKICAgICAgbXNnLnVybCA9IG1lc3NhZ2UuaW5jbHVkZXMoIkRvd25sb2FkIHlvdXIgbWFuaWZlc3QgaGVyZSAiKSA/IHRlbXBbMV0gOiB1cmw7CiAgICAgIG1zZy5yZWNlaXZpbmcgPSBmYWxzZTsKICAgICAgbXNnLmZpbGVfbmFtZSA9IHVybC5zcGxpdCgvXi4qW1xcXC9dLylbMV0uc3BsaXQoIi8iKS5wb3AoKS5zcGxpdCgiPyIpWzBdOwogICAgICB0aGlzLmNoYXQucHVzaChtc2cpOyAvLyB0aGlzLiRzZXNzaW9uLnNldCgiQm90UmVzcG9uc2VfQ29udmVyc2F0aW9uIiwgdGhpcy5jaGF0KTsKCiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgIH0sCiAgICBnZW5lcmF0ZV9vcmRlcl9kZXRhaWxzOiBmdW5jdGlvbiBnZW5lcmF0ZV9vcmRlcl9kZXRhaWxzKG9yZGVyKSB7fSwKICAgIGFkZGRyb3Bkb3dudmFsdWU6IGZ1bmN0aW9uIGFkZGRyb3Bkb3dudmFsdWUodmFsdWUpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaSwgcGFyc2VkSnNvbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIxLnNlbGVjdGVkX2luZGljYXRpb24gPSB2YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIxLnRvX3NlbmQgPSAiIjsKICAgICAgICAgICAgICAgICAgX3RoaXMyMS5yZXMgPSB7fTsKCiAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfdGhpczIxLnNlbGVjdGVkX2luZGljYXRpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBwYXJzZWRKc29uID0gSlNPTi5wYXJzZSgieyIuY29uY2F0KF90aGlzMjEuc2VsZWN0ZWRfaW5kaWNhdGlvbltpXS52YWx1ZS5zcGxpdCgieyIpWzFdKSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEudG9fc2VuZCA9IF90aGlzMjEuc2VsZWN0ZWRfaW5kaWNhdGlvbltpXS50aXRsZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMyMS50b19zZW5kID0gX3RoaXMyMS50b19zZW5kICsgIiwgIiArIF90aGlzMjEuc2VsZWN0ZWRfaW5kaWNhdGlvbltpXS50aXRsZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIxLnJlc1tPYmplY3Qua2V5cyhwYXJzZWRKc29uKVswXS50b1N0cmluZygpXSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMjEucmVzW09iamVjdC5rZXlzKHBhcnNlZEpzb24pWzBdLnRvU3RyaW5nKCldID0gT2JqZWN0LnZhbHVlcyhwYXJzZWRKc29uKVswXS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczIxLnJlc1tPYmplY3Qua2V5cyhwYXJzZWRKc29uKVswXS50b1N0cmluZygpXSA9IF90aGlzMjEucmVzW09iamVjdC5rZXlzKHBhcnNlZEpzb24pWzBdLnRvU3RyaW5nKCldICsgIiwiICsgT2JqZWN0LnZhbHVlcyhwYXJzZWRKc29uKVswXS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyMS5idXR0b25fZmlsbCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyMS50b19zZW5kID0gIiI7CiAgICAgICAgICAgICAgICAgIF90aGlzMjEucmVzID0ge307CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyMS5idXR0b25fZmlsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYnV0dG9uX2ZpbGw6IGZ1bmN0aW9uIGJ1dHRvbl9maWxsKCkgewogICAgICBpZiAodGhpcy50b19zZW5kID09ICIiKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbmRfYnV0dG9uIikuY2xhc3NMaXN0LnJlbW92ZSgiZmlsbGVkIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50b19zZW5kICE9ICIiKSB7CiAgICAgICAgaWYgKHRoaXMubGl2ZV9jaGF0X29uKSB7CiAgICAgICAgICB0aGlzLmNoYW5uZWwucHVzaCgic3RhcnRlZF90eXBpbmciKTsKICAgICAgICAgIHRoaXMuc3RvcF90eXBpbmcodGhpcyk7CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VuZF9idXR0b24iKS5jbGFzc0xpc3QuYWRkKCJmaWxsZWQiKTsKICAgICAgfQogICAgfSwKICAgIHN0b3BfdHlwaW5nOiBkZWJvdW5jZShmdW5jdGlvbiAodm0pIHsKICAgICAgdm0uY2hhbm5lbC5wdXNoKCJzdG9wcGVkX3R5cGluZyIpOwogICAgfSwgMTAwMCksCiAgICBzY3JvbGxfZG93bjogZnVuY3Rpb24gc2Nyb2xsX2Rvd24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5Iikuc2Nyb2xsSGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbFRvcCA8PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5IikuY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgdGhpcy50b19zY3JvbGwgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRvX3Njcm9sbCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkX2J1dHRvbnM6IGZ1bmN0aW9uIGxvYWRfYnV0dG9ucyhtZXNzYWdlLCBpbmRleCwgdHlwZSkgewogICAgICB2YXIgX3RoaXMyMiA9IHRoaXM7CgogICAgICBpZiAodHlwZSA9PT0gImRpc3BsYXlfc3VjY2Vzc190b2FzdHIiKSB7CiAgICAgICAgc3dhbCh7CiAgICAgICAgICB0ZXh0OiAiU29tZSBlcnJvciBvY2N1cnJlZCB3aGlsZSB0ZXN0aW5nLiIsCiAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IGZhbHNlLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgfSk7CiAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICBhc2tfZmVlZGJhY2s6IGZhbHNlLAogICAgICAgICAgcmVjZWl2ZWQ6ICJTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIHRlc3RpbmcuIFBsZWFzZSB0cnkgYnkgcmVmcmVzaGluZyB0aGUgYnJvd3NlciEgSWYgdGhlIGlzc3VlIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCBzeXN0ZW0gYWRtaW4uIiwKICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZQogICAgICAgIH07CiAgICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgYnV0dG9uc19saXN0OiBbXSwKICAgICAgICBidXR0b25fcHJlZml4OiBtZXNzYWdlLnByZWZpeCwKICAgICAgICBjdXN0b21fYnV0dG9uczogZmFsc2UsCiAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgIHJlY2VpdmVkOiBtZXNzYWdlLnRleHQsCiAgICAgICAgdGltZTogbnVsbAogICAgICB9OwoKICAgICAgaWYgKG1lc3NhZ2UuYnV0dG9ucy5sZW5ndGggPT0gMykgewogICAgICAgIGlmIChtZXNzYWdlLmJ1dHRvbnNbMF0udGl0bGUgPT0gIkV4Y2hhbmdlIFJhdGUiICYmIG1lc3NhZ2UuYnV0dG9uc1sxXS50aXRsZSA9PSAiVHJhY2sgTXkgUGFyY2VsIiAmJiBtZXNzYWdlLmJ1dHRvbnNbMl0udGl0bGUgPT0gIkNhbGwgSGVscGRlc2siKSB7CiAgICAgICAgICBtc2cucmVtb3ZhYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAobWVzc2FnZS50ZXh0ID09ICJXb3VsZCB5b3UgbGlrZSB0byBzaGFyZSB5b3VyIG5hbWUgYW5kIG51bWJlcj8iICYmIHRoaXMuaXNleGNoYW5nZSkgewogICAgICAgICQoIiNyZXNwb25zZV9ib3RfdGV4dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgaW4gbWVzc2FnZS5idXR0b25zKSB7CiAgICAgICAgaWYgKG1zZy5idXR0b25fcHJlZml4ICE9IG51bGwpIHsKICAgICAgICAgIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlLmJ1dHRvbnNbaV0udGl0bGUsCiAgICAgICAgICAgIHZhbHVlOiBtc2cuYnV0dG9uX3ByZWZpeCArIG1lc3NhZ2UuYnV0dG9uc1tpXS52YWx1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1zZy5idXR0b25zX2xpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBtZXNzYWdlLmJ1dHRvbnNbaV0udGl0bGUsCiAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlLmJ1dHRvbnNbaV0udmFsdWUKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1zZy5idXR0b25zX2xpc3RbaV0udGl0bGUgPT0gIk5vIiAmJiBtZXNzYWdlLnRleHQgIT0gIkNhbiBJIGhlbHAgeW91IHdpdGggYW55dGhpbmcgZWxzZT8iICYmIHRoaXMuY29tcGFueWlkID09ICJjbGluaWNhbHRyaWFsczgxMzUyIikgewogICAgICAgICAgbXNnLmJ1dHRvbnNfbGlzdFtpXS52YWx1ZSA9ICJpc2Rpc2FibGVkIjsKICAgICAgICB9CiAgICAgIH0gLy8gc2V0VGltZW91dCgoKSA9PiB7CgoKICAgICAgdmFyIGNoYXRJbmRleCA9IHRoaXMuY2hhdC5wdXNoKG1zZyk7CgogICAgICBpZiAoaW5kZXggPT0gImlzX2J1dHRvbiIgfHwgaW5kZXggPT0gMCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5jaGlsZHJlbigpLmxhc3QoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA8IDAuNSkgewogICAgICAgICAgICBfdGhpczIyLmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgxLCAxNTAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMjIuYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKDUwLCAxNTAwLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNjcm9sbF9kb3duKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2hhdFtjaGF0SW5kZXggLSAxXS5jdXN0b21fYnV0dG9ucyA9IHRydWU7IC8vIHRoaXMuJHNlc3Npb24uc2V0KCJCb3RSZXNwb25zZV9Db252ZXJzYXRpb24iLCB0aGlzLmNoYXQpOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyMi5jaGF0W2NoYXRJbmRleCAtIDFdLnRpbWUgPSBfdGhpczIyLmdlbmVyYXRlX3RpbWUoKTsKICAgICAgfSwgNTAwKTsgLy8gfSwgNTAwKTsKICAgIH0sCiAgICBtdWx0aXNlbGVjdF9sb2FkOiBmdW5jdGlvbiBtdWx0aXNlbGVjdF9sb2FkKG1lc3NhZ2UsIGluZGV4KSB7CiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgbXVsdGlzZWxlY3RfdmFsdWVzOiBtZXNzYWdlLmN1c3RvbS52YWx1ZXMsCiAgICAgICAgcGxhY2Vob2xkZXI6IG1lc3NhZ2UuY3VzdG9tLnBsYWNlaG9sZGVyLAogICAgICAgIGlzX211bHRpc2VsZWN0OiB0cnVlLAogICAgICAgIHZhbHVlX21hcHBpbmc6IFtdLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogbWVzc2FnZS50ZXh0LAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9OwogICAgICB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgfSwKICAgIGxvYWRfdGFibGU6IGZ1bmN0aW9uIGxvYWRfdGFibGUobWVzc2FnZSwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMjMgPSB0aGlzOwoKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZSwKICAgICAgICBjb2xfbGlzdDogT2JqZWN0LmtleXMobWVzc2FnZS5jdXN0b20udmFsdWVzWzBdKSwKICAgICAgICB0YWJsZV92YWx1ZTogbWVzc2FnZS5jdXN0b20udmFsdWVzLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogbWVzc2FnZS50ZXh0LAogICAgICAgIGlzX3RhYmxlOiB0cnVlLAogICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpCiAgICAgIH07CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMjMuY2hhdC5wdXNoKG1zZyk7CgogICAgICAgIGlmIChpbmRleCA9PSAwKSB7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5jaGlsZHJlbigpLmxhc3QoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA8IDAuNSkgewogICAgICAgICAgICAgIF90aGlzMjMuYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKDEsIDE1MDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMjMuYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKDAuNywgMTUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIzLmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgxMDAsIDE1MDAsIHRydWUpOwoKICAgICAgICAgIF90aGlzMjMuc2Nyb2xsX2Rvd24oKTsKICAgICAgICB9CiAgICAgIH0sIDI1MDApOwogICAgfSwKICAgIGxvYWRfdGV4dF9hcmVhOiBmdW5jdGlvbiBsb2FkX3RleHRfYXJlYShtZXNzYWdlLCBpbmRleCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICB2YXIgbXNnID0gewogICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogbWVzc2FnZS50ZXh0LAogICAgICAgIHNob3dfdGV4dF9hcmVhOiB0cnVlLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKQogICAgICB9OwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczI0LmNoYXQucHVzaChtc2cpOwoKICAgICAgICBpZiAoaW5kZXggPT0gMCkgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIuY2hhdC1ib2R5IikuY2hpbGRyZW4oKS5sYXN0KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPCAwLjUpIHsKICAgICAgICAgICAgICBfdGhpczI0LmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgxLCAxNTAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczI0LmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgwLjcsIDE1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyNC5hbmltYXRlX2NoYXRfYm9keV9zY3JvbGwoMTAwLCAxNTAwLCB0cnVlKTsKCiAgICAgICAgICBfdGhpczI0LnNjcm9sbF9kb3duKCk7CiAgICAgICAgfQogICAgICB9LCAyNTAwKTsKICAgIH0sCiAgICBzdGFydF9saXZlX2NoYXQ6IGZ1bmN0aW9uIHN0YXJ0X2xpdmVfY2hhdCgpIHsKICAgICAgLy8gdmFyIG1zZyA9IHt9OwogICAgICAvLyBtc2cucmVjZWl2aW5nID0gdHJ1ZTsKICAgICAgLy8gbXNnLnJlY2VpdmVkID0KICAgICAgLy8gICAiSSBhbSBjb25uZWN0aW5nIHlvdSB0byBvbmUgb2Ygb3VyIHN1cHBvcnQgYWdlbnRzLiBQbGVhc2Ugd2FpdCBmb3IgYSB3aGlsZS4iOwogICAgICAvLyBtc2cuY29udmVyc2F0aW9uX29ubHkgPSB0cnVlOwogICAgICAvLyBtc2cudGltZSA9IHRoaXMuZ2VuZXJhdGVfdGltZSgpOwogICAgICAvLyB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgIC8vIHRoaXMuY2hhdC5wdXNoKG1zZyk7CiAgICAgIC8vIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgLy8gICByZWNlaXZpbmc6IHRydWUsCiAgICAgIC8vICAgcmVjZWl2ZWQ6ICJXaGF0J3MgeW91ciBuYW1lPyIsCiAgICAgIC8vICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgIC8vICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgIC8vIH0pOwogICAgICAvLyB0aGlzLm5ld191cGRhdGVfcmVzcG9uc2UoMCk7CiAgICAgIC8vIHRoaXMuc2Nyb2xsX2Rvd24oKTsKICAgICAgdGhpcy5jaGF0X3NvY2tldCA9IG5ldyBTb2NrZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9MSVZFX0NIQVRfV0VCU09DS0VUX0VORFBPSU5ULCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuY2hhdF9zb2NrZXQuY29ubmVjdCgpOwogICAgICB0aGlzLnN1cHBvcnRfY2hhbm5lbCA9IHRoaXMuY2hhdF9zb2NrZXQuY2hhbm5lbCgiY29tcGFuaWVzOiIgKyB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lKTsKICAgICAgdGhpcy5zdXBwb3J0X2NoYW5uZWwuam9pbigpOwogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLnN1cHBvcnRfY2hhbm5lbC5wdXNoKCJjdXN0b21lcl93YW50c19wcmVzZW5jZSIpOwogICAgICB0aGlzLnN1cHBvcnRfY2hhbm5lbC5vbigiY3VzdG9tZXJfZ2V0c19wcmVzZW5jZSIsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoQm9vbGVhbihyZXNbdm0uY29tcGFueW5hbWVdKSA9PT0gdHJ1ZSkgewogICAgICAgICAgdmFyIGNvbXBhbnlfcHJlc2VuY2UgPSByZXNbdm0uY29tcGFueW5hbWVdWyJtZXRhcyJdOyAvLyBjb25zb2xlLmxvZyhjb21wYW55X3ByZXNlbmNlKTsKCiAgICAgICAgICB2YXIgc2VsZl91c2VyX2luZGV4ID0gY29tcGFueV9wcmVzZW5jZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUudXNlcl9pbmZvLnVzZXJuYW1lOwogICAgICAgICAgfSkuaW5kZXhPZih2bS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsKTsKCiAgICAgICAgICBpZiAoc2VsZl91c2VyX2luZGV4ICE9PSAtMSkgewogICAgICAgICAgICBjb21wYW55X3ByZXNlbmNlLnNwbGljZShzZWxmX3VzZXJfaW5kZXgsIDEpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBwcmVzZW50X3JvbGVfbGlzdCA9IFtdOwogICAgICAgICAgY29tcGFueV9wcmVzZW5jZS5maWx0ZXIoZnVuY3Rpb24gKGVhY2gpIHsKICAgICAgICAgICAgcmV0dXJuIHByZXNlbnRfcm9sZV9saXN0LnB1c2goZWFjaC51c2VyX2luZm8ucm9sZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciB1bmlxdWVfcm9sZV9saXN0ID0gcHJlc2VudF9yb2xlX2xpc3QuZmlsdGVyKGZ1bmN0aW9uICh4LCBpLCBhKSB7CiAgICAgICAgICAgIHJldHVybiBhLmluZGV4T2YoeCkgPT0gaTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICh1bmlxdWVfcm9sZV9saXN0LmluY2x1ZGVzKCJBZG1pbiIpIHx8IHVuaXF1ZV9yb2xlX2xpc3QuaW5jbHVkZXMoInN1cHBvcnQgYWdlbnQiKSkgewogICAgICAgICAgICB2bS5pc19zdXBwb3J0X2FnZW50X3ByZXNlbnQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0uaXNfc3VwcG9ydF9hZ2VudF9wcmVzZW50ID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLmlzX3N1cHBvcnRfYWdlbnRfcHJlc2VudCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdm0uY29ubmVjdF9zdXBwb3J0X2FnZW50KCk7IC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgfSk7IC8vIHByZXNlbmNlLm9uU3luYygocmVzKSA9PiB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgLy8gfSkKICAgICAgLy8gYXhpb3MuZ2V0KGFwaV9jYWxscy5jaGF0X2dyb3VwX2FwaSgpKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAvLyAgIHRoaXMuY2hhdF9ncm91cF9uYW1lID0gcmVzcG9uc2UuZGF0YS5jaGF0X2dyb3VwX25hbWU7CiAgICAgIC8vICAgdGhpcy5saXZlX2NoYXRfdG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuOwogICAgICAvLyAgIHRoaXMubGl2ZV9jaGF0X29uID0gdHJ1ZTsKICAgICAgLy8gICB0aGlzLmNoYXRfc29ja2V0ID0gbmV3IFNvY2tldCgKICAgICAgLy8gICAgIHByb2Nlc3MuZW52LlZVRV9BUFBfTElWRV9DSEFUX1dFQlNPQ0tFVF9FTkRQT0lOVCwKICAgICAgLy8gICAgIHsKICAgICAgLy8gICAgICAgcGFyYW1zOiB7CiAgICAgIC8vICAgICAgICAgY29tcGFueTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgLy8gICAgICAgICBjaGF0X2dyb3VwX25hbWU6IHRoaXMuY2hhdF9ncm91cF9uYW1lLAogICAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLmxpdmVfY2hhdF90b2tlbiwKICAgICAgLy8gICAgICAgfSwKICAgICAgLy8gICAgIH0KICAgICAgLy8gICApOwogICAgICAvLyAgIHRoaXMuY2hhdF9zb2NrZXQuY29ubmVjdCgpOwogICAgICAvLyAgIHRoaXMuY2hhbm5lbCA9IHRoaXMuY2hhdF9zb2NrZXQuY2hhbm5lbCgKICAgICAgLy8gICAgICJjdXN0b21lcnNfZ3JvdXBzOiIgKyB0aGlzLmNoYXRfZ3JvdXBfbmFtZQogICAgICAvLyAgICk7CiAgICAgIC8vICAgdGhpcy5jaGFubmVsLmpvaW4oKTsKICAgICAgLy8gICB0aGlzLmNoYW5uZWwucHVzaCgiY3VzdG9tZXJfbmVlZHNfc3VwcG9ydF9hZ2VudCIpOwogICAgICAvLyAgIHRoaXMuY2hhbm5lbC5vbigibmV3X2NoYXRfbWVzc2FnZSIsIChyZXMpID0+IHsKICAgICAgLy8gICAgIGlmIChyZXMuc2VuZGVyICE9ICJjdXN0b21lciIpIHsKICAgICAgLy8gICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAvLyAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgLy8gICAgICAgICByZWNlaXZlZDogcmVzLm1lc3NhZ2UsCiAgICAgIC8vICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgIC8vICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgIC8vICAgICAgIH0pOwogICAgICAvLyAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgLy8gICAgICAgICB0aGlzLnNjcm9sbF9kb3duKCk7CiAgICAgIC8vICAgICAgICAgaWYgKAogICAgICAvLyAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmNoaWxkcmVuKCkubGFzdCgpLmhlaWdodCgpIC8KICAgICAgLy8gICAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIDwKICAgICAgLy8gICAgICAgICAgIDAuNQogICAgICAvLyAgICAgICAgICkgewogICAgICAvLyAgICAgICAgICAgdGhpcy5hbmltYXRlX2NoYXRfYm9keV9zY3JvbGwoMSwgMTUwMCk7CiAgICAgIC8vICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgLy8gICAgICAgICAgICQoIi5yZWNlaXZlciIpLmxhc3QoKS5wYXJlbnQoKS5oZWlnaHQoKSAvCiAgICAgIC8vICAgICAgICAgICAgICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA+CiAgICAgIC8vICAgICAgICAgICAgIDAuNSAmJgogICAgICAvLyAgICAgICAgICAgJCgiLnJlY2VpdmVyIikubGFzdCgpLnBhcmVudCgpLmhlaWdodCgpIC8KICAgICAgLy8gICAgICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIDwKICAgICAgLy8gICAgICAgICAgICAgMC42CiAgICAgIC8vICAgICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgICB0aGlzLmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgwLjksIDE1MDApOwogICAgICAvLyAgICAgICAgIH0gZWxzZSB7CiAgICAgIC8vICAgICAgICAgICB0aGlzLmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgwLjc1LCAxNTAwKTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0sIDEwMDApOwogICAgICAvLyAgICAgICBpZiAoCiAgICAgIC8vICAgICAgICAgJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIC0gJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpICE9CiAgICAgIC8vICAgICAgICAgMAogICAgICAvLyAgICAgICApIHsKICAgICAgLy8gICAgICAgICB0aGlzLnNjcm9sbF9kb3duKCk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9KTsKICAgICAgLy8gICB0aGlzLmNoYW5uZWwub24oInN0b3BwZWRfY2hhdCIsIChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuY2hhdC5wdXNoKHsKICAgICAgLy8gICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgIC8vICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgLy8gICAgICAgcmVjZWl2ZWQ6ICJTdXBwb3J0IGFnZW50ICIgKyByZXMubWVzc2FnZSwKICAgICAgLy8gICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICAgIHRoaXMubGl2ZV9jaGF0X29uID0gZmFsc2U7CiAgICAgIC8vICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgIC8vICAgfSk7CiAgICAgIC8vICAgdGhpcy5jaGFubmVsLm9uKCJzdGFydGVkX3R5cGluZyIsIChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuaXNfYWdlbnRfdHlwaW5nID0gdHJ1ZTsKICAgICAgLy8gICAgIHRoaXMuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IHRydWU7CiAgICAgIC8vICAgfSk7CiAgICAgIC8vICAgdGhpcy5jaGFubmVsLm9uKCJzdG9wcGVkX3R5cGluZyIsIChyZXMpID0+IHsKICAgICAgLy8gICAgIHRoaXMuaXNfYWdlbnRfdHlwaW5nID0gZmFsc2U7CiAgICAgIC8vICAgICB0aGlzLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgLy8gICB9KTsKICAgICAgLy8gfSk7CiAgICB9LAogICAgY29ubmVjdF9zdXBwb3J0X2FnZW50OiBmdW5jdGlvbiBjb25uZWN0X3N1cHBvcnRfYWdlbnQoKSB7CiAgICAgIHZhciBfdGhpczI1ID0gdGhpczsKCiAgICAgIHRoaXMuc3VwcG9ydF9jaGFubmVsLmxlYXZlKCk7CiAgICAgIHRoaXMuY2hhdF9zb2NrZXQuZGlzY29ubmVjdCgpOwogICAgICB0aGlzLmNoYXRfc29ja2V0ID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLmlzX3N1cHBvcnRfYWdlbnRfcHJlc2VudCA9PT0gdHJ1ZSkgewogICAgICAgIHZhciBtc2cgPSB7fTsKICAgICAgICBtc2cucmVjZWl2aW5nID0gdHJ1ZTsKICAgICAgICBtc2cucmVjZWl2ZWQgPSAiSSBhbSBjb25uZWN0aW5nIHlvdSB0byBvbmUgb2Ygb3VyIHN1cHBvcnQgYWdlbnRzLiBQbGVhc2Ugd2FpdCBmb3IgYSB3aGlsZS4iOwogICAgICAgIG1zZy5jb252ZXJzYXRpb25fb25seSA9IHRydWU7CiAgICAgICAgbXNnLnRpbWUgPSB0aGlzLmdlbmVyYXRlX3RpbWUoKTsKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInJlc3BvbnNlIik7CiAgICAgICAgdGhpcy5jaGF0LnB1c2gobXNnKTsKICAgICAgICB0aGlzLmNoYXQucHVzaCh7CiAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICByZWNlaXZlZDogIldoYXQncyB5b3VyIG5hbWU/IiwKICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgICB9KTsKICAgICAgICB0aGlzLm5ld191cGRhdGVfcmVzcG9uc2UoMCk7CiAgICAgICAgdGhpcy5zY3JvbGxfZG93bigpOwogICAgICAgIGF4aW9zLmdldChhcGlfY2FsbHMuY2hhdF9ncm91cF9hcGkoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMjUuY2hhdF9ncm91cF9uYW1lID0gcmVzcG9uc2UuZGF0YS5jaGF0X2dyb3VwX25hbWU7CiAgICAgICAgICBfdGhpczI1LmxpdmVfY2hhdF90b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICBfdGhpczI1LmxpdmVfY2hhdF9vbiA9IHRydWU7CiAgICAgICAgICBfdGhpczI1LmNoYXRfc29ja2V0ID0gbmV3IFNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX0xJVkVfQ0hBVF9XRUJTT0NLRVRfRU5EUE9JTlQsIHsKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgY29tcGFueTogX3RoaXMyNS4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgICBjaGF0X2dyb3VwX25hbWU6IF90aGlzMjUuY2hhdF9ncm91cF9uYW1lLAogICAgICAgICAgICAgIHRva2VuOiBfdGhpczI1LmxpdmVfY2hhdF90b2tlbgogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczI1LmNoYXRfc29ja2V0LmNvbm5lY3QoKTsKCiAgICAgICAgICBfdGhpczI1LmNoYW5uZWwgPSBfdGhpczI1LmNoYXRfc29ja2V0LmNoYW5uZWwoImN1c3RvbWVyc19ncm91cHM6IiArIF90aGlzMjUuY2hhdF9ncm91cF9uYW1lKTsKCiAgICAgICAgICBfdGhpczI1LmNoYW5uZWwuam9pbigpOwoKICAgICAgICAgIF90aGlzMjUuY2hhbm5lbC5wdXNoKCJjdXN0b21lcl9uZWVkc19zdXBwb3J0X2FnZW50Iik7CgogICAgICAgICAgX3RoaXMyNS5jaGFubmVsLm9uKCJuZXdfY2hhdF9tZXNzYWdlIiwgZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBpZiAocmVzLnNlbmRlciAhPSAiY3VzdG9tZXIiKSB7CiAgICAgICAgICAgICAgX3RoaXMyNS5jaGF0LnB1c2goewogICAgICAgICAgICAgICAgcmVjZWl2aW5nOiB0cnVlLAogICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgICAgdGltZTogX3RoaXMyNS5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25fb25seTogdHJ1ZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMjUuc2Nyb2xsX2Rvd24oKTsKCiAgICAgICAgICAgICAgICBpZiAoJCgiLmNoYXQtYm9keSIpLmNoaWxkcmVuKCkubGFzdCgpLmhlaWdodCgpIC8gJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIDwgMC41KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjUuYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKDEsIDE1MDApOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkKCIucmVjZWl2ZXIiKS5sYXN0KCkucGFyZW50KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPiAwLjUgJiYgJCgiLnJlY2VpdmVyIikubGFzdCgpLnBhcmVudCgpLmhlaWdodCgpIC8gJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIDwgMC42KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjUuYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKDAuOSwgMTUwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczI1LmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgwLjc1LCAxNTAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSAtICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKSAhPSAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczI1LnNjcm9sbF9kb3duKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczI1LmNoYW5uZWwub24oInN0b3BwZWRfY2hhdCIsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMyNS5jaGF0LnB1c2goewogICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9vbmx5OiB0cnVlLAogICAgICAgICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICAgICAgICByZWNlaXZlZDogIlN1cHBvcnQgYWdlbnQgIiArIHJlcy5tZXNzYWdlLAogICAgICAgICAgICAgIHRpbWU6IF90aGlzMjUuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMyNS5saXZlX2NoYXRfb24gPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMjUuY2hhbm5lbC5sZWF2ZSgpOwoKICAgICAgICAgICAgX3RoaXMyNS5saXZlX2NoYXRfdG9rZW4gPSBudWxsOwogICAgICAgICAgICBfdGhpczI1LmNoYXRfZ3JvdXBfbmFtZSA9IG51bGw7CiAgICAgICAgICAgIF90aGlzMjUudXNlcl9uYW1lID0gIiI7CgogICAgICAgICAgICBfdGhpczI1LmNoYXRfc29ja2V0LmRpc2Nvbm5lY3QoKTsKCiAgICAgICAgICAgIF90aGlzMjUudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMjUuY2hhbm5lbC5vbigic3RhcnRlZF90eXBpbmciLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMjUuaXNfYWdlbnRfdHlwaW5nID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMyNS5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMjUuY2hhbm5lbC5vbigic3RvcHBlZF90eXBpbmciLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMjUuaXNfYWdlbnRfdHlwaW5nID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzMjUuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdXBwb3J0X3N1YnNjcmlwdGlvbl9kYXRhKCk7CiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXRfY3VzdG9tX2Zvcm06IGZ1bmN0aW9uIHN1Ym1pdF9jdXN0b21fZm9ybSgpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkZXRhaWxzX2Zvcm0iKSAhPSBudWxsKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZGV0YWlsc19mb3JtIik7CiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGFjdHVhbCBsb2dpYywgZS5nLiB2YWxpZGF0ZSB0aGUgZm9ybQoKICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICQoIiNkZXRhaWxzX2Zvcm0iKS5zZXJpYWxpemVBcnJheSgpOwoKICAgICAgICAgIGlmIChfdGhpczI2LmZvcm1fcGF5bG9hZCA9PSBudWxsKSB7CiAgICAgICAgICAgIHZhciBfYXhpb3MkcG9zdDk7CgogICAgICAgICAgICBfdGhpczI2LmZvcm1fcGF5bG9hZCA9IHt9OwoKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBxdWVyeVN0cmluZykgewogICAgICAgICAgICAgIF90aGlzMjYuZm9ybV9wYXlsb2FkW3F1ZXJ5U3RyaW5nW2ldLm5hbWVdID0gcXVlcnlTdHJpbmdbaV0udmFsdWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmJvdF91c2VyX2RhdGEoKSwgKF9heGlvcyRwb3N0OSA9IHsKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMyNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIGRhdGE6IF90aGlzMjYuZm9ybV9wYXlsb2FkLAogICAgICAgICAgICAgIHRva2VuOiBfdGhpczI2LmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXMyNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIHNvdXJjZTogIldlYiIKICAgICAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0OSwgInRva2VuIiwgX3RoaXMyNi5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3Q5LCAicm9sZSIsIF90aGlzMjYuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2F4aW9zJHBvc3Q5KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiQm90IFVzZXIgRGF0YSBTYXZlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgICAgICAkKCIjZGV0YWlsc19mb3JtIDppbnB1dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAkKCIjZGV0YWlsc19mb3JtIDpidXR0b24iKS5wcm9wKCJkaXNhYmxlZCIsIHRydWUpOwoKICAgICAgICAgICAgICAgIF90aGlzMjYudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKCiAgICAgICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICAgICAgICAgICAgY2hhdDogIi9kZXRhaWxzX2Zvcm0iLAogICAgICAgICAgICAgICAgICB0b2tlbjogX3RoaXMyNi5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczI2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczI2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICAgIERldGFpbHM6IEpTT04uc3RyaW5naWZ5KF90aGlzMjYuZm9ybV9wYXlsb2FkKSwKICAgICAgICAgICAgICAgICAgcm9sZTogX3RoaXMyNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUsCiAgICAgICAgICAgICAgICAgIHJlZnJlc2hlZF9vcl9jbG9zZWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMjYucmVzcG9uc2VfaGFuZGxpbmcocmVzcCk7CgogICAgICAgICAgICAgICAgICBfdGhpczI2LmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgxLCAxMDAwKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVfc2Nyb2xsYmFyOiBmdW5jdGlvbiB1cGRhdGVfc2Nyb2xsYmFyKHR5cGUsIG1zZ1R5cGUsIGlzd2VsY29tZSwgZGVsYXlfdmFsdWUpIHsKICAgICAgdmFyIF90aGlzMjcgPSB0aGlzOwoKICAgICAgdmFyIHNjcm9sbF9kZWxheSA9IGlzd2VsY29tZSA9PSAiaXNfd2VsY29tZSIgPyBkZWxheV92YWx1ZSA6IDIwMDA7CiAgICAgIHRoaXMuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IHRydWU7CgogICAgICBpZiAobXNnVHlwZSA9PSAicmVzcG9uc2UiKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczI3LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICB9LCBzY3JvbGxfZGVsYXkpOwogICAgICB9IGVsc2UgaWYgKG1zZ1R5cGUgPT0gInNlbmRlciIpIHsKICAgICAgICB0aGlzLmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgxLCA3NTApOwogICAgICB9CgogICAgICBpZiAobXNnVHlwZSA9PSAicmVzcG9uc2UiKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gInVwdG9fZW5kIikgewogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICgkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsVG9wIikgPCAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsSGVpZ2h0IikpIHsKICAgICAgICAgICAgICBpZiAoJCgiLnJlY2VpdmVyIikubGFzdCgpLnBhcmVudCgpLmhlaWdodCgpIC8gJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpID4gMC41KSB7CiAgICAgICAgICAgICAgICBfdGhpczI3LmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgwLjc1LCAxNTAwKTsKCiAgICAgICAgICAgICAgICBfdGhpczI3LnNjcm9sbF9kb3duKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKCQoIi5yZWNlaXZlciIpLmxhc3QoKS5wYXJlbnQoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA8IDAuNSkgewogICAgICAgICAgICAgIF90aGlzMjcuYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKDEsIHNjcm9sbF9kZWxheSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHNjcm9sbF9kZWxheSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5Iikuc2Nyb2xsVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGF0LWJvZHkiKS5sYXN0Q2hpbGQuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbmV3X3VwZGF0ZV9yZXNwb25zZTogZnVuY3Rpb24gbmV3X3VwZGF0ZV9yZXNwb25zZShpbmRleCkgewogICAgICB2YXIgX3RoaXMyOCA9IHRoaXM7CgogICAgICBpZiAoaW5kZXggPT0gMCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyOC5zY3JvbGxfZG93bigpOwoKICAgICAgICAgIGlmICgkKCIuY2hhdC1ib2R5IikuY2hpbGRyZW4oKS5sYXN0KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPCAwLjUpIHsKICAgICAgICAgICAgX3RoaXMyOC5hbmltYXRlX2NoYXRfYm9keV9zY3JvbGwoMSwgMTUwMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKCQoIi5yZWNlaXZlciIpLmxhc3QoKS5wYXJlbnQoKS5oZWlnaHQoKSAvICQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSA+IDAuNSAmJiAkKCIucmVjZWl2ZXIiKS5sYXN0KCkucGFyZW50KCkuaGVpZ2h0KCkgLyAkKCIuY2hhdC1ib2R5IikuaGVpZ2h0KCkgPCAwLjYpIHsKICAgICAgICAgICAgX3RoaXMyOC5hbmltYXRlX2NoYXRfYm9keV9zY3JvbGwoMSwgMTUwMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczI4LmFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbCgxLCAxNTAwKTsKICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsKICAgICAgfQoKICAgICAgaWYgKCQoIi5jaGF0LWJvZHkiKS5oZWlnaHQoKSAtICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxIZWlnaHQiKSAhPSAwKSB7CiAgICAgICAgdGhpcy5zY3JvbGxfZG93bigpOwogICAgICB9CgogICAgICBpZiAoJCgiLmNoYXQtYm9keSIpLmhlaWdodCgpIC0gJCgiLmNoYXQtYm9keSIpLnByb3AoInNjcm9sbEhlaWdodCIpID09PSAwKSB7CiAgICAgICAgdGhpcy50b19zY3JvbGwgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFuaW1hdGVfY2hhdF9ib2R5X3Njcm9sbDogZnVuY3Rpb24gYW5pbWF0ZV9jaGF0X2JvZHlfc2Nyb2xsKHNjYWxlLCBkZWxheSwgb2Zmc2V0KSB7CiAgICAgIGlmIChCb29sZWFuKG9mZnNldCkpIHsKICAgICAgICAkKCIuY2hhdC1ib2R5IikuYW5pbWF0ZSh7CiAgICAgICAgICBzY3JvbGxUb3A6ICQoIi5jaGF0LWJvZHkiKS5wcm9wKCJzY3JvbGxUb3AiKSArIHNjYWxlCiAgICAgICAgfSwgZGVsYXkpOwogICAgICB9IGVsc2UgewogICAgICAgICQoIi5jaGF0LWJvZHkiKS5hbmltYXRlKHsKICAgICAgICAgIHNjcm9sbFRvcDogc2NhbGUgKiAkKCIuY2hhdC1ib2R5IikucHJvcCgic2Nyb2xsSGVpZ2h0IikKICAgICAgICB9LCBkZWxheSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRfYm90X3VuYW5zd2VyZWRfcXVlc3Rpb246IGZ1bmN0aW9uIGFkZF9ib3RfdW5hbnN3ZXJlZF9xdWVzdGlvbihpbmRleCwgbWV0aG9kKSB7CiAgICAgIHZhciBfdGhpczI5ID0gdGhpczsKCiAgICAgIGF4aW9zLnB1dChhcGlfY2FsbHMuZ2V0X3VuYW5zd2VyZWRfdXJsKCksIHsKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICBib3RfYW5zd2VyOiB0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkLAogICAgICAgIHVzZXJfcXVlcnk6IHRoaXMuY2hhdFtpbmRleCAtIDFdLnNlbnQsCiAgICAgICAgZmVlZGJhY2s6IG1ldGhvZCA/ICJsaWtlIiA6ICJkaXNsaWtlIiwKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczI5LmNoYXRbaW5kZXhdLmFza19mZWVkYmFjayA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgbG9hZF9yZWZ1bmRzOiBmdW5jdGlvbiBsb2FkX3JlZnVuZHMoKSB7CiAgICAgIHZhciBfdGhpczMwID0gdGhpczsKCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgaXNfcmVmdW5kOiB0cnVlLAogICAgICAgIHJlY2VpdmluZzogdHJ1ZSwKICAgICAgICByZWNlaXZlZDogdGhpcy5yZXRhaWxfb3JkZXJfcmV0cmVpdmFsX29ubHlfZW1haWxfcmVxdWlyZWQgPyAiUGxlYXNlIGVudGVyIGVtYWlsIHRvIGZldGNoIHlvdXIgb3JkZXJzLiIgOiAiUGxlYXNlIGxvZ2luIHRvIGZldGNoIHlvdXIgcmVjZW50IG9yZGVycyIsCiAgICAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCkKICAgICAgfTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGxhdGVzdENoYXRJbmRleCA9IF90aGlzMzAuY2hhdC5wdXNoKG1zZyk7CgogICAgICAgIGxhdGVzdENoYXRJbmRleCAtPSAxOwogICAgICAgIF90aGlzMzAuY2hhdFtsYXRlc3RDaGF0SW5kZXhdLmZldGNoX3Nob3BpZnlfZGV0YWlscyA9IHRydWU7CgogICAgICAgIF90aGlzMzAuc2Nyb2xsX2Rvd24oKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgdmlld19vcmRlcl9kZXRhaWxzOiBmdW5jdGlvbiB2aWV3X29yZGVyX2RldGFpbHMoY2hhdEluZGV4LCBvcmRlckluZGV4LCBvcmRlckxpbmVJdGVtcywgb3JkZXJSZWZ1bmRzKSB7CiAgICAgIHZhciBfdGhpczMxID0gdGhpczsKCiAgICAgIHRoaXMuY2hhdFtjaGF0SW5kZXhdLnJlZnVuZF9zZWxlY3RlZF9pdGVtcyA9IFtdOwogICAgICB0aGlzLmNoYXRbY2hhdEluZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kX2xpc3QgPSBudWxsOwogICAgICB0aGlzLmNoYXRbY2hhdEluZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kID0gbnVsbDsKICAgICAgdGhpcy5jaGF0W2NoYXRJbmRleF0ucmVmdW5kX29yZGVyX3ZpZXdfZGV0YWlscyA9IE9iamVjdCh0aGlzLmNoYXRbY2hhdEluZGV4XS5yZWZ1bmRfb3JkZXJzX2xpc3Rbb3JkZXJJbmRleF0pOwogICAgICB0aGlzLmNoYXRbY2hhdEluZGV4XS5yZWZ1bmRfb3JkZXJfdmlld19kZXRhaWxzLmxpbmVfaXRlbXMgPSBvcmRlckxpbmVJdGVtcy5tYXAoZnVuY3Rpb24gKGxpbmVJdGVtKSB7CiAgICAgICAgdmFyIGxpbmVJdGVtTm9kZSA9IGxpbmVJdGVtOwogICAgICAgIGxpbmVJdGVtTm9kZS5zZWxlY3RlZF9xdWFudGl0eSA9IF90aGlzMzEucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gIm1hZ2VudG8iID8gbGluZUl0ZW0ucXR5X29yZGVyZWQgOiBsaW5lSXRlbS5xdWFudGl0eTsKICAgICAgICBsaW5lSXRlbU5vZGUuYWxyZWFkeV9yZWZ1bmRlZF9xdHkgPSBfdGhpczMxLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJtYWdlbnRvIiA/IGxpbmVJdGVtLnF0eV9yZWZ1bmRlZCA6IDA7CiAgICAgICAgbGluZUl0ZW1Ob2RlLnF0eV9hdmFpbGFibGVfZm9yX3JlZnVuZCA9IF90aGlzMzEucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gIm1hZ2VudG8iID8gbGluZUl0ZW0ucXR5X29yZGVyZWQgOiBsaW5lSXRlbS5xdWFudGl0eTsKICAgICAgICBsaW5lSXRlbU5vZGUucHJvZHVjdF9pZCA9IGxpbmVJdGVtLnByb2R1Y3RfaWQ7CiAgICAgICAgbGluZUl0ZW1Ob2RlLnZhcmlhbnRfaWQgPSBfdGhpczMxLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJtYWdlbnRvIiA/IGxpbmVJdGVtLnNrdSA6IGxpbmVJdGVtLnZhcmlhbnRfaWQ7CiAgICAgICAgcmV0dXJuIGxpbmVJdGVtTm9kZTsKICAgICAgfSk7CgogICAgICBpZiAoQm9vbGVhbihvcmRlclJlZnVuZHMpID09PSB0cnVlKSB7CiAgICAgICAgb3JkZXJSZWZ1bmRzID0gb3JkZXJSZWZ1bmRzLm1hcChmdW5jdGlvbiAobGluZUl0ZW0pIHsKICAgICAgICAgIHJldHVybiBsaW5lSXRlbS5yZWZ1bmRfbGluZV9pdGVtc1swXTsKICAgICAgICB9KTsKICAgICAgICB2YXIgQWxyZWFkeVJlZnVuZGVkUXR5ID0gW107CiAgICAgICAgb3JkZXJSZWZ1bmRzLnJlZHVjZShmdW5jdGlvbiAocmVzLCB2YWx1ZSkgewogICAgICAgICAgaWYgKCFyZXNbdmFsdWUubGluZV9pdGVtX2lkXSkgewogICAgICAgICAgICByZXNbdmFsdWUubGluZV9pdGVtX2lkXSA9IHsKICAgICAgICAgICAgICBsaW5lX2l0ZW1faWQ6IHZhbHVlLmxpbmVfaXRlbV9pZCwKICAgICAgICAgICAgICBxdWFudGl0eTogMAogICAgICAgICAgICB9OwogICAgICAgICAgICBBbHJlYWR5UmVmdW5kZWRRdHkucHVzaChyZXNbdmFsdWUubGluZV9pdGVtX2lkXSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzW3ZhbHVlLmxpbmVfaXRlbV9pZF0ucXVhbnRpdHkgKz0gdmFsdWUucXVhbnRpdHk7CiAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgIH0sIHt9KTsKICAgICAgICB2YXIgdGVtcCA9IHRoaXMuY2hhdFtjaGF0SW5kZXhdLnJlZnVuZF9vcmRlcl92aWV3X2RldGFpbHMubGluZV9pdGVtczsKICAgICAgICB0aGlzLmNoYXRbY2hhdEluZGV4XS5yZWZ1bmRfb3JkZXJfdmlld19kZXRhaWxzLmxpbmVfaXRlbXMgPSB0ZW1wLm1hcChmdW5jdGlvbiAobGluZUl0ZW0pIHsKICAgICAgICAgIHZhciBsaW5lSXRlbU5vZGUgPSBsaW5lSXRlbTsKCiAgICAgICAgICBmb3IgKHZhciBpIGluIEFscmVhZHlSZWZ1bmRlZFF0eSkgewogICAgICAgICAgICBpZiAobGluZUl0ZW0uaWQgPT0gQWxyZWFkeVJlZnVuZGVkUXR5W2ldLmxpbmVfaXRlbV9pZCkgewogICAgICAgICAgICAgIGxpbmVJdGVtTm9kZS5hbHJlYWR5X3JlZnVuZGVkX3F0eSA9IEFscmVhZHlSZWZ1bmRlZFF0eVtpXVsncXVhbnRpdHknXTsKICAgICAgICAgICAgICBsaW5lSXRlbU5vZGUucXR5X2F2YWlsYWJsZV9mb3JfcmVmdW5kID0gbGluZUl0ZW0ucXVhbnRpdHkgLSBBbHJlYWR5UmVmdW5kZWRRdHlbaV1bJ3F1YW50aXR5J107CiAgICAgICAgICAgICAgbGluZUl0ZW1Ob2RlLnNlbGVjdGVkX3F1YW50aXR5ID0gbGluZUl0ZW0ucXVhbnRpdHkgLSBBbHJlYWR5UmVmdW5kZWRRdHlbaV1bJ3F1YW50aXR5J107CiAgICAgICAgICAgICAgbGluZUl0ZW1Ob2RlLnByb2R1Y3RfaWQgPSBsaW5lSXRlbS5wcm9kdWN0X2lkOwogICAgICAgICAgICAgIGxpbmVJdGVtTm9kZS52YXJpYW50X2lkID0gX3RoaXMzMS5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAibWFnZW50byIgPyBsaW5lSXRlbS5za3UgOiBsaW5lSXRlbS52YXJpYW50X2lkOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgOwogICAgICAgICAgcmV0dXJuIGxpbmVJdGVtTm9kZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy4kc2V0KHRoaXMuY2hhdCwgY2hhdEluZGV4LCB0aGlzLmNoYXRbY2hhdEluZGV4XSk7CiAgICB9LAogICAgcmVmcmVzaF9vcl9yZW1vdmVfb3JkZXJfZGV0YWlsczogZnVuY3Rpb24gcmVmcmVzaF9vcl9yZW1vdmVfb3JkZXJfZGV0YWlscyhjaGF0SW5kZXgsIHZhbCkgewogICAgICBpZiAodmFsID09ICJyZW1vdmUiKSB7CiAgICAgICAgdGhpcy5jaGF0W2NoYXRJbmRleF0ucmVmdW5kX29yZGVyX3ZpZXdfZGV0YWlscyA9IHt9OwogICAgICB9CgogICAgICB0aGlzLiRzZXQodGhpcy5jaGF0LCBjaGF0SW5kZXgsIHRoaXMuY2hhdFtjaGF0SW5kZXhdKTsKICAgIH0sCiAgICBsb2FkX2N1c3RvbWVyX29yZGVyczogZnVuY3Rpb24gbG9hZF9jdXN0b21lcl9vcmRlcnMob3JkZXJzRGF0YSwgaW5kZXgsIG9yZGVyX3R5cGUpIHsKICAgICAgdmFyIF90aGlzMzIgPSB0aGlzOwoKICAgICAgLy8gdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9IGBPcmRlciAke29yZGVyTmFtZX1gOwogICAgICB0aGlzLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSB0cnVlOwoKICAgICAgaWYgKG9yZGVyX3R5cGUgPT09ICJyZWZ1bmQiKSB7CiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJGZXRjaGluZyB5b3VyIG9yZGVycyAuLi4iOwogICAgICAgIHRoaXMuY2hhdFtpbmRleF0ucmVmdW5kX29yZGVyc19saXN0ID0gb3JkZXJzRGF0YS5tYXAoZnVuY3Rpb24gKG9yZGVyKSB7CiAgICAgICAgICB2YXIgb3JkZXJPYmplY3QgPSBvcmRlcjsKICAgICAgICAgIG9yZGVyT2JqZWN0LmNyZWF0ZWRfYXQgPSBtb21lbnQob3JkZXJPYmplY3QuY3JlYXRlZF9hdCwgWyJZWVlZLU1NLUREVGg6bTpzWiJdKS5mb3JtYXQoIkRvIE1NTSBZWVlZIik7CiAgICAgICAgICBvcmRlck9iamVjdC5uYW1lID0gX3RoaXMzMi5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAic2hvcGlmeSIgPyBvcmRlck9iamVjdC5uYW1lIDogb3JkZXJPYmplY3QuaWQ7CiAgICAgICAgICBvcmRlck9iamVjdC5wcm9jZXNzZWRBdCA9IG1vbWVudChvcmRlck9iamVjdC5jcmVhdGVkX2F0LCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pLmZvcm1hdCgiRG8gTU1NIFlZWVkiKTsgLy8gY3VyX25vZGUuZnVsZmlsbG1lbnRTdGF0dXMgPSBjdXJfbm9kZS5mdWxmaWxsbWVudF9zdGF0dXM7CgogICAgICAgICAgb3JkZXJPYmplY3QuZnVsZmlsbG1lbnRfc3RhdHVzID0gQm9vbGVhbihvcmRlck9iamVjdC5mdWxmaWxsbWVudF9zdGF0dXMpID09PSB0cnVlID8gb3JkZXJPYmplY3QuZnVsZmlsbG1lbnRfc3RhdHVzIDogIlVuZnVsZmlsbGVkIjsgLy8gU2V0IG9ubHkgZmlyc3QgY2hhcmFjdGVyIHRvIHVwcGVyY2FzZSB3aGlsZSByZW1haW5pbmcgY2hhcmFjdGVycyBzZXQgdG8gbG93ZXJjYXNlCgogICAgICAgICAgb3JkZXJPYmplY3QuZnVsZmlsbG1lbnRfc3RhdHVzID0gb3JkZXJPYmplY3QuZnVsZmlsbG1lbnRfc3RhdHVzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgb3JkZXJPYmplY3QuZnVsZmlsbG1lbnRfc3RhdHVzLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgaWYgKF90aGlzMzIucmV0YWlsX3dlYl9mcmFtZXdvcmsgIT0gInNob3BpZnkiKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJPYmplY3Qub3JkZXJfbm90ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBvcmRlck9iamVjdC5vcmRlcl9ub3Rlc1tpXS5kYXRlX2NyZWF0ZWQgPSBtb21lbnQob3JkZXJPYmplY3Qub3JkZXJfbm90ZXNbaV0uZGF0ZV9jcmVhdGVkLCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pLmZvcm1hdCgiRG8gTU1NIFlZWVkgSEg6bW0gYSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG9yZGVyT2JqZWN0OwogICAgICAgIH0pOwoKICAgICAgICBpZiAodGhpcy5jaGF0W2luZGV4XS5yZWZ1bmRfb3JkZXJzX2xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIlRoZXJlIGFyZSBubyBvcmRlcnMgdG8gYmUgZGlzcGxheWVkIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJTZWxlY3QgdGhlIG9yZGVyIHRoYXQgeW91IHdpc2ggdG8gcmV0dXJuIjsKICAgICAgICB9IC8vIHRoaXMucmVmdW5kX29yZGVyX3ZpZXdfZGV0YWlscyA9IHt9OwoKCiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWZ1bmRfb3JkZXJfdmlld19kZXRhaWxzID0ge307CiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWZ1bmRfc2VsZWN0ZWRfaXRlbXMgPSBbXTsKICAgICAgICB0aGlzLmNoYXRbaW5kZXhdLnNob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmRfbGlzdCA9IG51bGw7CiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kID0gbnVsbDsKICAgICAgICB0aGlzLmNoYXRbaW5kZXhdLmNvbnZlcnNhdGlvbl9vbmx5ID0gZmFsc2U7CiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5jb252ZXJzYXRpb25fb25seSA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAob3JkZXJfdHlwZSA9PT0gImFsbF9vcmRlcnMiKSB7CiAgICAgICAgdmFyIG9yZGVyc19kYXRhID0gb3JkZXJzRGF0YSwKICAgICAgICAgICAgY29tcGxldGVfb3JkZXJzX2RhdGEgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlcnNfZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGN1cl9ub2RlID0gb3JkZXJzX2RhdGFbaV07CiAgICAgICAgICBjdXJfbm9kZS5wcm9jZXNzZWRBdCA9IG1vbWVudChjdXJfbm9kZS5jcmVhdGVkX2F0LCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pLmZvcm1hdCgiRG8gTU1NIFlZWVkiKTsgLy8gY3VyX25vZGUuZnVsZmlsbG1lbnRTdGF0dXMgPSBjdXJfbm9kZS5mdWxmaWxsbWVudF9zdGF0dXM7CgogICAgICAgICAgY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzID0gQm9vbGVhbihjdXJfbm9kZS5mdWxmaWxsbWVudF9zdGF0dXMpID09PSB0cnVlID8gY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzIDogIlVuZnVsZmlsbGVkIjsgLy8gLy8gU2V0IG9ubHkgZmlyc3QgY2hhcmFjdGVyIHRvIHVwcGVyY2FzZSB3aGlsZSByZW1haW5pbmcgY2hhcmFjdGVycyBzZXQgdG8gbG93ZXJjYXNlCgogICAgICAgICAgY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzID0gY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgaWYgKHRoaXMucmV0YWlsX3dlYl9mcmFtZXdvcmsgIT0gInNob3BpZnkiKSB7CiAgICAgICAgICAgIGZvciAodmFyIF9pNyA9IDA7IF9pNyA8IGN1cl9ub2RlLm9yZGVyX25vdGVzLmxlbmd0aDsgX2k3KyspIHsKICAgICAgICAgICAgICBjdXJfbm9kZS5vcmRlcl9ub3Rlc1tfaTddLmRhdGVfY3JlYXRlZCA9IG1vbWVudChjdXJfbm9kZS5vcmRlcl9ub3Rlc1tfaTddLmRhdGVfY3JlYXRlZCwgWyJZWVlZLU1NLUREVGhoOm1tOnNzWiJdKS5mb3JtYXQoIkRvIE1NTSBZWVlZIEhIOm1tIGEiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGNvbXBsZXRlX29yZGVyc19kYXRhLnB1c2goewogICAgICAgICAgICBuYW1lOiB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJzaG9waWZ5IiA/IGN1cl9ub2RlLm5hbWUgOiBjdXJfbm9kZS5pZCwKICAgICAgICAgICAgcHJvY2Vzc2VkX2RhdGU6IGN1cl9ub2RlLnByb2Nlc3NlZEF0LAogICAgICAgICAgICBmdWxmaWxsbWVudF9zdGF0dXM6IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cywKICAgICAgICAgICAgc3RhdHVzX3VybDogY3VyX25vZGUub3JkZXJfc3RhdHVzX3VybCwKICAgICAgICAgICAgb3JkZXJfbm90ZXM6IHRoaXMucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gInNob3BpZnkiID8gbnVsbCA6IGN1cl9ub2RlLm9yZGVyX25vdGVzCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuY2hhdFtpbmRleF0uc2hvd19hbGxfb3JkZXJzX2xpc3QgPSB0cnVlOwogICAgICAgIHRoaXMuY2hhdFtpbmRleF0uYWxsX29yZGVyc19saXN0ID0gY29tcGxldGVfb3JkZXJzX2RhdGE7CgogICAgICAgIGlmICh0aGlzLmNoYXRbaW5kZXhdLmFsbF9vcmRlcnNfbGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSAiVGhlcmUgYXJlIG5vIG9yZGVycyB0byBiZSBkaXNwbGF5ZWQiOwogICAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5zaG93X2FsbF9vcmRlcnNfbGlzdCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIlBsZWFzZSBGaW5kIEJlbG93IFlvdXIgTGF0ZXN0IE9yZGVyczoiOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWNlbnRfb3JkZXJzX2xpc3QgPSBjb21wbGV0ZV9vcmRlcnNfZGF0YTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMzIuY2hhdFtpbmRleF0uY29udmVyc2F0aW9uX29ubHkgPSB0cnVlOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgfSwKICAgIHN1Ym1pdF9yZWZ1bmRfcmVxdWVzdDogZnVuY3Rpb24gc3VibWl0X3JlZnVuZF9yZXF1ZXN0KHJlZnVuZF9vcmRlcl92aWV3X2RldGFpbHMsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNoYXRbaW5kZXhdLnNob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmRfbGlzdCA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuc2hvd19zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kX2Vycm9yID0gdHJ1ZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNoYXRbaW5kZXhdLnNob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmRfbGlzdCA9PT0gJ090aGVycycpIHsKICAgICAgICBpZiAodGhpcy5jaGF0W2luZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kID09PSBudWxsIHx8IHRoaXMuY2hhdFtpbmRleF0uc2hvcGlmeV9yZWFzb25fZm9yX3JlZnVuZCA9PT0gIiIpIHsKICAgICAgICAgIHRoaXMuc2hvd19zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kX2Vycm9yID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kID0gdGhpcy5jaGF0W2luZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kX2xpc3Q7CiAgICAgIH0gLy8gZWxzZSB7CgoKICAgICAgdGhpcy5zaG93X3Nob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmRfZXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIGl0ZW1zX3RvX3JlZnVuZCA9IHJlZnVuZF9vcmRlcl92aWV3X2RldGFpbHMubGluZV9pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGxpbmVJdGVtKSB7CiAgICAgICAgaWYgKF90aGlzMzMucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gJ21hZ2VudG8nKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMzMy5jaGF0W2luZGV4XS5yZWZ1bmRfc2VsZWN0ZWRfaXRlbXMuaW5jbHVkZXMobGluZUl0ZW0ucHJvZHVjdF9pZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBfdGhpczMzLmNoYXRbaW5kZXhdLnJlZnVuZF9zZWxlY3RlZF9pdGVtcy5pbmNsdWRlcyhsaW5lSXRlbS5pZCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXNfdG9fcmVmdW5kLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGl0ZW1zX3RvX3JlZnVuZFtpXS5zZWxlY3RlZF9xdWFudGl0eSA9PT0gbnVsbCB8fCBCb29sZWFuKGl0ZW1zX3RvX3JlZnVuZFtpXS5zZWxlY3RlZF9xdWFudGl0eSkgPT09IGZhbHNlKSB7CiAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgdGV4dDogIlBsZWFzZSBlbnRlciB0aGUgcHJvZHVjdCBxdWFudGl0eSBpbiBudW1lcmljIG9ubHkiLAogICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciByZWZ1bmRfcGF5bG9hZF9zdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgb3JkZXJJZDogcmVmdW5kX29yZGVyX3ZpZXdfZGV0YWlscy5pZCwKICAgICAgICBvcmRlcl9uYW1lOiByZWZ1bmRfb3JkZXJfdmlld19kZXRhaWxzLm5hbWUsCiAgICAgICAgY3VzdG9tZXJfaWQ6IHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZCwKICAgICAgICBmdWxmaWxsbWVudF9zdGF0dXM6IHJlZnVuZF9vcmRlcl92aWV3X2RldGFpbHMuZnVsZmlsbG1lbnRfc3RhdHVzLAogICAgICAgIHBheW1lbnRfc3RhdHVzOiByZWZ1bmRfb3JkZXJfdmlld19kZXRhaWxzLnBheW1lbnRfc3RhdHVzLAogICAgICAgIGN1cnJlbmN5OiB0aGlzLnJldGFpbF9zaG9wX2N1cnJlbmN5LAogICAgICAgIGxpbmVJdGVtczogaXRlbXNfdG9fcmVmdW5kLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGluZV9pdGVtX2lkOiBfdGhpczMzLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICdtYWdlbnRvJyA/IGl0ZW0ucHJvZHVjdF9pZCA6IGl0ZW0uaWQsCiAgICAgICAgICAgIHF1YW50aXR5OiBpdGVtLnNlbGVjdGVkX3F1YW50aXR5LAogICAgICAgICAgICBwcm9kdWN0X2lkOiBpdGVtLnByb2R1Y3RfaWQsCiAgICAgICAgICAgIHZhcmlhbnRfaWQ6IGl0ZW0udmFyaWFudF9pZAogICAgICAgICAgfTsKICAgICAgICB9KSwKICAgICAgICByZWZ1bmRSZWFzb246IHRoaXMuY2hhdFtpbmRleF0uc2hvcGlmeV9yZWFzb25fZm9yX3JlZnVuZAogICAgICB9KTsKICAgICAgdmFyIHJlZnVuZF9pbnRlbnQgPSAiL3Byb2Nlc3NfcmVmdW5kX3JlcXVlc3QiLmNvbmNhdChyZWZ1bmRfcGF5bG9hZF9zdHJpbmcpOwogICAgICB2YXIgcmVmdW5kX29iamVjdCA9IHsKICAgICAgICB0aXRsZTogIlByb2NlZWQiLAogICAgICAgIHZhbHVlOiByZWZ1bmRfaW50ZW50CiAgICAgIH07IC8vIGNvbnNvbGUubG9nKHJlZnVuZF9pbnRlbnQpOwoKICAgICAgdGhpcy5zZW5kX21lc3NhZ2UoImlzX2J1dHRvbiIsIHJlZnVuZF9vYmplY3QpOwogICAgICB0aGlzLmNoYXRbaW5kZXhdLnJlZnVuZF9vcmRlcl92aWV3X2RldGFpbHMgPSB7fTsKICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWZ1bmRfc2VsZWN0ZWRfaXRlbXMgPSBbXTsKICAgICAgdGhpcy5jaGF0W2luZGV4XS5zaG9waWZ5X3JlYXNvbl9mb3JfcmVmdW5kX2xpc3QgPSBudWxsOwogICAgICB0aGlzLmNoYXRbaW5kZXhdLnNob3BpZnlfcmVhc29uX2Zvcl9yZWZ1bmQgPSBudWxsOwogICAgICB0aGlzLmNoYXQuc3BsaWNlKGluZGV4LCAxKTsgLy8gfQogICAgfSwKICAgIHNob3BpZnlfZm9ybV9mb2N1czogZnVuY3Rpb24gc2hvcGlmeV9mb3JtX2ZvY3VzKGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkID09PSAiV2UgYXJlIHNvcnJ5LCB5b3VyIGNyZWRlbnRpYWxzIGFyZSBpbnZhbGlkLiBQbGVhc2UgdHJ5IGFnYWluIDopIikgewogICAgICAgIHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSAiUGxlYXNlIGxvZ2luIHdpdGggeW91ciBjcmVkZW50aWFscyBmb3IgYmV0dGVyIGV4cGVyaWVuY2UgOikiOwogICAgICB9CiAgICB9LAogICAgc2hvcGlmeV9jcmVhdGVfY3VzdG9tZXJfdG9rZW46IGZ1bmN0aW9uIHNob3BpZnlfY3JlYXRlX2N1c3RvbWVyX3Rva2VuKGluZGV4LCBpc1JlZnVuZCkgewogICAgICB2YXIgX2F4aW9zJHBvc3QxMCwKICAgICAgICAgIF90aGlzMzQgPSB0aGlzOwoKICAgICAgdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgaXNSZWZ1bmQgPSBpc1JlZnVuZCB8fCBmYWxzZTsKCiAgICAgIGlmICh0aGlzLmNoYXRbaW5kZXhdLnJldHVybl9zaG9waWZ5X2VtYWlsID09PSB0cnVlICYmICFpc1JlZnVuZCkgewogICAgICAgIHRoaXMuc2VuZF9zaG9waWZ5X2N1c3RvbWVyX2lkKGluZGV4LCB0cnVlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzaG9wX2VuZHBvaW50ID0gdGhpcy5zaG9waWZ5X3JldGFpbF9zaG9wX25hbWUgKyAiLm15c2hvcGlmeS5jb20iOwogICAgICB2YXIgcXVlcnlTdHJpbmcgPSAkKCIjc2hvcGlmeV9sb2dpbl9mb3JtIikuc2VyaWFsaXplQXJyYXkoKTsKICAgICAgdmFyIGZvcm1fcGF5bG9hZCA9IHt9OwogICAgICBmb3JtX3BheWxvYWRbInNob3BpZnlfaXNfb25seV9lbWFpbCJdID0gdGhpcy5yZXRhaWxfb3JkZXJfcmV0cmVpdmFsX29ubHlfZW1haWxfcmVxdWlyZWQ7CiAgICAgIGZvcm1fcGF5bG9hZFsnZW1haWwnXSA9IHRoaXMuY2hhdFtpbmRleF0uY3VzdG9tZXJfZW1haWxfaWQ7CiAgICAgIGZvcm1fcGF5bG9hZFsncGFzc3dvcmQnXSA9IHRoaXMuY2hhdFtpbmRleF0uY3VzdG9tZXJfcGFzc3dvcmQ7IC8vIGZvciAodmFyIGkgaW4gcXVlcnlTdHJpbmcpIHsKICAgICAgLy8gICBmb3JtX3BheWxvYWRbcXVlcnlTdHJpbmdbaV0ubmFtZV0gPSB0aGlzLmNoYXRbaW5kZXhdLmN1c3RvbWVyX2VtYWlsX2lkOwogICAgICAvLyB9CgogICAgICBmb3JtX3BheWxvYWQgPSBKU09OLnN0cmluZ2lmeShmb3JtX3BheWxvYWQpOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDEwID0gewogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICBjaGF0OiAiL3Nob3BpZnlfY3JlYXRlX2N1c3RvbWVyX3Rva2VuIi5jb25jYXQoZm9ybV9wYXlsb2FkKQogICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxMCwgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxMCwgInJvbGUiLCB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDEwLCAicmVmcmVzaGVkX29yX2Nsb3NlZCIsIHRoaXMucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9heGlvcyRwb3N0MTApKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKCiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgLy8gaWYgKEJvb2xlYW4oZGF0YS5yZXNwb25zZXNbMF0uRGF0YS5hY2Nlc3NUb2tlbikpIHsKICAgICAgICAvLyAgIGxldCBjdXN0b21lclRva2VuID0gZGF0YS5yZXNwb25zZXNbMF0uRGF0YS5hY2Nlc3NUb2tlbjsKICAgICAgICAvLyAgIGxldCB0b2tlbkV4cGlyeSA9IGRhdGEucmVzcG9uc2VzWzBdLkRhdGEuZXhwaXJlc0F0OwogICAgICAgIC8vICAgdGhpcy4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iLCBjdXN0b21lclRva2VuKTsKICAgICAgICAvLyAgIHRoaXMuJHNlc3Npb24uc2V0KCJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuX2V4cGlyeSIsIHRva2VuRXhwaXJ5KTsKICAgICAgICAvLyAgIHRoaXMuc2hvcGlmeV9mZXRjaF9vcmRlcnMoY3VzdG9tZXJUb2tlbiwgaW5kZXgsIGlzUmVmdW5kKTsKICAgICAgICAvLyB9IGVsc2UgewogICAgICAgIC8vICAgdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9CiAgICAgICAgLy8gICAgICJXZSBhcmUgc29ycnksIHlvdXIgY3JlZGVudGlhbHMgYXJlIGludmFsaWQuIFBsZWFzZSB0cnkgYWdhaW4gOikiOwogICAgICAgIC8vIH0KICAgICAgICBpZiAoZGF0YS5yZXNwb25zZXNbMF0udG9rZW5fdHlwZSA9PT0gImN1c3RvbWVyX3Rva2VuIikgewogICAgICAgICAgaWYgKEJvb2xlYW4oZGF0YS5yZXNwb25zZXNbMF0uRGF0YSkpIHsKICAgICAgICAgICAgaWYgKF90aGlzMzQucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gInNob3BpZnkiKSB7CiAgICAgICAgICAgICAgdmFyIGN1c3RvbWVyVG9rZW4gPSBkYXRhLnJlc3BvbnNlc1swXS5EYXRhLmFjY2Vzc1Rva2VuOwogICAgICAgICAgICAgIHZhciB0b2tlbkV4cGlyeSA9IGRhdGEucmVzcG9uc2VzWzBdLkRhdGEuZXhwaXJlc0F0OwoKICAgICAgICAgICAgICBfdGhpczM0LiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbiIsIGN1c3RvbWVyVG9rZW4pOwoKICAgICAgICAgICAgICBfdGhpczM0LiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbl9leHBpcnkiLCB0b2tlbkV4cGlyeSk7CgogICAgICAgICAgICAgIF90aGlzMzQuc2hvcGlmeV9mZXRjaF9vcmRlcnMoY3VzdG9tZXJUb2tlbiwgaW5kZXgsIGlzUmVmdW5kLCAic2hvcGlmeV9jdXN0b21lcl90b2tlbiIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMzQucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gIndvb2NvbW1lcmNlIikgewogICAgICAgICAgICAgIHZhciBfY3VzdG9tZXJUb2tlbiA9IGRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbWVyX2RhdGEuY3VzdG9tZXJfZW1haWw7CiAgICAgICAgICAgICAgdmFyIF90b2tlbkV4cGlyeSA9IGRhdGEucmVzcG9uc2VzWzBdLkRhdGEuZXhwaXJlc0F0OwogICAgICAgICAgICAgIHZhciBjdXN0b21lcklkID0gZGF0YS5yZXNwb25zZXNbMF0uY3VzdG9tZXJfZGF0YS5jdXN0b21lcl9pZDsKICAgICAgICAgICAgICBfdGhpczM0LnNob3BpZnlfY3VzdG9tZXJfaWQgPSBjdXN0b21lcklkOwoKICAgICAgICAgICAgICBfdGhpczM0LiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbiIsIF9jdXN0b21lclRva2VuKTsKCiAgICAgICAgICAgICAgX3RoaXMzNC4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW5fZXhwaXJ5IiwgX3Rva2VuRXhwaXJ5KTsKCiAgICAgICAgICAgICAgX3RoaXMzNC4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfaWQiLCBjdXN0b21lcklkKTsKCiAgICAgICAgICAgICAgX3RoaXMzNC5zaG9waWZ5X2ZldGNoX29yZGVycyhfY3VzdG9tZXJUb2tlbiwgaW5kZXgsIGlzUmVmdW5kLCAic2hvcGlmeV9jdXN0b21lcl90b2tlbiIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMzQucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gIm1hZ2VudG8iKSB7CiAgICAgICAgICAgICAgdmFyIF9jdXN0b21lclRva2VuMiA9IGRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbWVyX2RhdGEuY3VzdG9tZXJfZW1haWw7CiAgICAgICAgICAgICAgdmFyIF90b2tlbkV4cGlyeTIgPSBkYXRhLnJlc3BvbnNlc1swXS5EYXRhLmV4cGlyZXNBdDsKICAgICAgICAgICAgICB2YXIgX2N1c3RvbWVySWQgPSBkYXRhLnJlc3BvbnNlc1swXS5jdXN0b21lcl9kYXRhLmN1c3RvbWVyX2lkOwogICAgICAgICAgICAgIF90aGlzMzQuc2hvcGlmeV9jdXN0b21lcl9pZCA9IF9jdXN0b21lcklkOwoKICAgICAgICAgICAgICBfdGhpczM0LiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbiIsIF9jdXN0b21lclRva2VuMik7CgogICAgICAgICAgICAgIF90aGlzMzQuJHNlc3Npb24uc2V0KCJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuX2V4cGlyeSIsIF90b2tlbkV4cGlyeTIpOwoKICAgICAgICAgICAgICBfdGhpczM0LiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl9pZCIsIF9jdXN0b21lcklkKTsKCiAgICAgICAgICAgICAgX3RoaXMzNC5zaG9waWZ5X2ZldGNoX29yZGVycyhfY3VzdG9tZXJUb2tlbjIsIGluZGV4LCBpc1JlZnVuZCwgInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMzNC5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJXZSBhcmUgc29ycnksIHlvdXIgY3JlZGVudGlhbHMgYXJlIGludmFsaWQuIFBsZWFzZSB0cnkgYWdhaW4gOikiOwogICAgICAgICAgICBfdGhpczM0LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRhdGEucmVzcG9uc2VzWzBdLnRva2VuX3R5cGUgPT09ICJjdXN0b21lcl9pZCIpIHsKICAgICAgICAgIC8vIGlmIChCb29sZWFuKGRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbWVyX2lkKSkgewogICAgICAgICAgaWYgKF90aGlzMzQucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gInNob3BpZnkiKSB7CiAgICAgICAgICAgIHZhciBfY3VzdG9tZXJJZDIgPSBkYXRhLnJlc3BvbnNlc1swXS5jdXN0b21lcl9pZDsKICAgICAgICAgICAgdmFyIGN1c3RvbWVyRW1haWwgPSBkYXRhLnJlc3BvbnNlc1swXS5jdXN0b21lcl9lbWFpbDsKICAgICAgICAgICAgX3RoaXMzNC5zaG9waWZ5X2N1c3RvbWVyX2lkID0gX2N1c3RvbWVySWQyOwoKICAgICAgICAgICAgX3RoaXMzNC4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfaWQiLCBfY3VzdG9tZXJJZDIpOwoKICAgICAgICAgICAgX3RoaXMzNC4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iLCBjdXN0b21lckVtYWlsKTsKCiAgICAgICAgICAgIF90aGlzMzQuc2hvcGlmeV9mZXRjaF9vcmRlcnMoX2N1c3RvbWVySWQyLCBpbmRleCwgaXNSZWZ1bmQsICJzaG9waWZ5X2N1c3RvbWVyX2lkIik7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMzQucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gIndvb2NvbW1lcmNlIikgewogICAgICAgICAgICB2YXIgX2N1c3RvbWVySWQzID0gZGF0YS5yZXNwb25zZXNbMF0uY3VzdG9tZXJfaWQ7CiAgICAgICAgICAgIHZhciBfY3VzdG9tZXJFbWFpbCA9IGRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbWVyX2VtYWlsOwoKICAgICAgICAgICAgX3RoaXMzNC4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfaWQiLCBfY3VzdG9tZXJJZDMpOwoKICAgICAgICAgICAgX3RoaXMzNC4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iLCBfY3VzdG9tZXJFbWFpbCk7CgogICAgICAgICAgICBfdGhpczM0LnNob3BpZnlfZmV0Y2hfb3JkZXJzKF9jdXN0b21lcklkMywgaW5kZXgsIGlzUmVmdW5kLCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczM0LnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJtYWdlbnRvIikgewogICAgICAgICAgICB2YXIgX2N1c3RvbWVySWQ0ID0gZGF0YS5yZXNwb25zZXNbMF0uY3VzdG9tZXJfaWQ7CiAgICAgICAgICAgIHZhciBfY3VzdG9tZXJFbWFpbDIgPSBkYXRhLnJlc3BvbnNlc1swXS5jdXN0b21lcl9lbWFpbDsKCiAgICAgICAgICAgIF90aGlzMzQuJHNlc3Npb24uc2V0KCJzaG9waWZ5X2N1c3RvbWVyX2lkIiwgX2N1c3RvbWVySWQ0KTsKCiAgICAgICAgICAgIF90aGlzMzQuJHNlc3Npb24uc2V0KCJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuIiwgX2N1c3RvbWVyRW1haWwyKTsKCiAgICAgICAgICAgIF90aGlzMzQuc2hvcGlmeV9mZXRjaF9vcmRlcnMoX2N1c3RvbWVySWQ0LCBpbmRleCwgaXNSZWZ1bmQsICJzaG9waWZ5X2N1c3RvbWVyX2lkIik7CiAgICAgICAgICB9IC8vIH0gCiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczM0LmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIldlIGFyZSBzb3JyeSwgY291bGQgbm90IGZpbmQgYW55IHJlY29yZHMgd2l0aCB0aGlzIGVtYWlsLiBQbGVhc2UgdHJ5IGFnYWluIDopIjsKICAgICAgICAgICAgICBfdGhpczM0LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczM0LmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIldlIGFyZSBzb3JyeSwgeW91ciBjcmVkZW50aWFscyBhcmUgaW52YWxpZC4gUGxlYXNlIHRyeSBhZ2FpbiA6KSI7CiAgICAgICAgICBfdGhpczM0LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICB9IC8vIHRoaXMuY2hhdC5zcGxpY2UoaW5kZXgsIDEpOwoKICAgICAgfSk7CiAgICB9LAogICAgc2hvcGlmeV9mZXRjaF9jdXN0b21lcl9pZDogZnVuY3Rpb24gc2hvcGlmeV9mZXRjaF9jdXN0b21lcl9pZChjdXN0b21lckFjY2Vzc1Rva2VuLCBpbmRleCwgdG9rZW5fdHlwZSkgewogICAgICB2YXIgX3RoaXMzNSA9IHRoaXM7CgogICAgICB2YXIgc2hvcF9lbmRwb2ludCA9IHRoaXMuc2hvcGlmeV9yZXRhaWxfc2hvcF9uYW1lICsgIi5teXNob3BpZnkuY29tIjsKICAgICAgdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKCiAgICAgIGlmICghQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLnJlZnVuZF9vcmRlcnNfbGlzdCkpIHsKICAgICAgICBpZiAodG9rZW5fdHlwZSA9PT0gInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKSB7CiAgICAgICAgICB2YXIgX2F4aW9zJHBvc3QxMTsKCiAgICAgICAgICB2YXIgc3RyaW5naWZpZWRfY3VzdG9tZXJfcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgY3VzdG9tZXJfYWNjZXNzX3Rva2VuOiBjdXN0b21lckFjY2Vzc1Rva2VuIC8vc2hvcGlmeSBhY2Nlc3MgdG9rZW4gPT0gZW1haWwgZm9yIHdvb2NvbW1lcmNlCgogICAgICAgICAgfSk7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDExID0gewogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICAgIGNoYXQ6ICIvc2hvcGlmeV9nZXRfY3VzdG9tZXJfaWRfYW5kX29yZGVycyIuY29uY2F0KHN0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWQpCiAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxMSwgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxMSwgInJvbGUiLCB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDExLCAicmVmcmVzaGVkX29yX2Nsb3NlZCIsIHRoaXMucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9heGlvcyRwb3N0MTEpKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CgogICAgICAgICAgICBpZiAoQm9vbGVhbihkYXRhLnJlc3BvbnNlc1swXS5jdXN0b20pKSB7CiAgICAgICAgICAgICAgX3RoaXMzNS5sb2FkX2N1c3RvbWVyX29yZGVycyhkYXRhLnJlc3BvbnNlc1swXS5jdXN0b20ub3JkZXJzX2xpc3QsIGluZGV4LCAicmVmdW5kIik7IC8vIHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZCA9IGRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbS5jdXN0b21lcl9pZDsKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMzNS5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIjsKICAgICAgICAgICAgICBfdGhpczM1LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICAgICAgfSAvLyAgIGxldCBjdXN0b21lcklkID0gYXRvYihkYXRhLmRhdGEuY3VzdG9tZXIuaWQpOwogICAgICAgICAgICAvLyAgIHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZCA9IGN1c3RvbWVySWQuc2xpY2UoCiAgICAgICAgICAgIC8vICAgICBjdXN0b21lcklkLmxhc3RJbmRleE9mKCIvIikgKyAxCiAgICAgICAgICAgIC8vICAgKTsKICAgICAgICAgICAgLy8gICBsZXQgc3RyaW5naWZpZWRfY3VzdG9tZXJfcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgLy8gICAgIGN1c3RvbWVySWQ6IHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZCwKICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgICAgLy8gICB0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIkZldGNoaW5nIHlvdXIgb3JkZXIgZGV0YWlscyAuLi4iOwogICAgICAgICAgICAvLyAgIGF4aW9zCiAgICAgICAgICAgIC8vICAgICAucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCB7CiAgICAgICAgICAgIC8vICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIC8vICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgLy8gICAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgLy8gICAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAgICAgLy8gICAgICAgY2hhdDogYC9yZXRyaWV2ZV9jdXN0b21lcl9vcmRlcnMke3N0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWR9YCwKICAgICAgICAgICAgLy8gICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgICAgICAvLyAgICAgICByb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgICAgICAgLy8gICAgICAgcmVmcmVzaGVkX29yX2Nsb3NlZDogdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkLAogICAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgICAgLy8gICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAvLyAgICAgICB0aGlzLmxvYWRfY3VzdG9tZXJfb3JkZXJzKAogICAgICAgICAgICAvLyAgICAgICAgIHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbS5vcmRlcnNfbGlzdCwKICAgICAgICAgICAgLy8gICAgICAgICBpbmRleAogICAgICAgICAgICAvLyAgICAgICApOwogICAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgLy8gICAgICAgdGhpcy51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgICAgICAvLyAgICAgfSk7CgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0b2tlbl90eXBlID09ICJzaG9waWZ5X2N1c3RvbWVyX2lkIikgewogICAgICAgICAgdmFyIF9heGlvcyRwb3N0MTI7CgogICAgICAgICAgdmFyIF9zdHJpbmdpZmllZF9jdXN0b21lcl9wYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICBjdXN0b21lcklkOiB0aGlzLnNob3BpZnlfY3VzdG9tZXJfaWQKICAgICAgICAgIH0pOwoKICAgICAgICAgIHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSAiRmV0Y2hpbmcgeW91ciBvcmRlciBkZXRhaWxzIC4uLiI7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDEyID0gewogICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgICAgIGNoYXQ6ICIvcmV0cmlldmVfY3VzdG9tZXJfb3JkZXJzIi5jb25jYXQoX3N0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWQpCiAgICAgICAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxMiwgInRva2VuIiwgdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxMiwgInJvbGUiLCB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDEyLCAicmVmcmVzaGVkX29yX2Nsb3NlZCIsIHRoaXMucmVmcmVzaGVkX29yX2Nsb3NlZCksIF9heGlvcyRwb3N0MTIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczM1LmxvYWRfY3VzdG9tZXJfb3JkZXJzKHJlc3BvbnNlLmRhdGEucmVzcG9uc2VzWzBdLmN1c3RvbS5vcmRlcnNfbGlzdCwgaW5kZXgsICJyZWZ1bmQiKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzMzUuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKCiAgICAgICAgICAgIF90aGlzMzUudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNob3BpZnlfZmV0Y2hfb3JkZXJzOiBmdW5jdGlvbiBzaG9waWZ5X2ZldGNoX29yZGVycyhjdXN0b21lckFjY2Vzc1Rva2VuLCBpbmRleCwgaXNSZWZ1bmQsIHRva2VuX3R5cGUpIHsKICAgICAgdmFyIF90aGlzMzYgPSB0aGlzOwoKICAgICAgdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgaXNSZWZ1bmQgPSBpc1JlZnVuZCB8fCBmYWxzZTsKICAgICAgdGhpcy5jaGF0W2luZGV4XS5jb252ZXJzYXRpb25fb25seSA9IGZhbHNlOwogICAgICB2YXIgc2hvcF9lbmRwb2ludCA9IHRoaXMuc2hvcGlmeV9yZXRhaWxfc2hvcF9uYW1lICsgIi5teXNob3BpZnkuY29tIjsKCiAgICAgIGlmICh0b2tlbl90eXBlID09PSAic2hvcGlmeV9jdXN0b21lcl90b2tlbiIpIHsKICAgICAgICB2YXIgX2F4aW9zJHBvc3QxMzsKCiAgICAgICAgdmFyIHN0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWQgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBjdXN0b21lcl9hY2Nlc3NfdG9rZW46IGN1c3RvbWVyQWNjZXNzVG9rZW4gLy93b29jb21tZXJjZSBjdXN0b21lciBlbWFpbAoKICAgICAgICB9KTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDEzID0gewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgY2hhdDogIi9zaG9waWZ5X2dldF9jdXN0b21lcl9vcmRlcnMiLmNvbmNhdChzdHJpbmdpZmllZF9jdXN0b21lcl9wYXlsb2FkKQogICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDEzLCAidG9rZW4iLCB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDEzLCAicm9sZSIsIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTMsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkKSwgX2F4aW9zJHBvc3QxMykpLnRoZW4oZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWY0LmRhdGE7CiAgICAgICAgICBfdGhpczM2LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICB2YXIgY3VzdG9tZXJJZCA9IGF0b2IoZGF0YS5yZXNwb25zZXNbMF0uZGF0YS5jdXN0b21lci5pZCk7CiAgICAgICAgICAgIF90aGlzMzYuc2hvcGlmeV9jdXN0b21lcl9pZCA9IGN1c3RvbWVySWQuc2xpY2UoY3VzdG9tZXJJZC5sYXN0SW5kZXhPZigiLyIpICsgMSk7CgogICAgICAgICAgICBfdGhpczM2LiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl9pZCIsIF90aGlzMzYuc2hvcGlmeV9jdXN0b21lcl9pZCk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgICAgIGlmIChfdGhpczM2LnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJzaG9waWZ5IikgewogICAgICAgICAgICB2YXIgb3JkZXJzRGF0YSA9IGRhdGEucmVzcG9uc2VzWzBdLmRhdGEuY3VzdG9tZXIub3JkZXJzLmVkZ2VzOwoKICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PSAibnVtYmVyIiAmJiBvcmRlcnNEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAvLyBvcmRlcnNEYXRhID0gb3JkZXJzRGF0YVswXS5ub2RlOwogICAgICAgICAgICAgIC8vIGxldCBvcmRlck5hbWUgPSBvcmRlcnNEYXRhLm5hbWU7CiAgICAgICAgICAgICAgLy8gbGV0IG9yZGVyU3RhdHVzVXJsID0gb3JkZXJzRGF0YS5zdGF0dXNVcmw7CiAgICAgICAgICAgICAgLy8gbGV0IG9yZGVyUHJvY2Vzc2luZ0RhdGUgPSBtb21lbnQob3JkZXJzRGF0YS5wcm9jZXNzZWRBdCwgWwogICAgICAgICAgICAgIC8vICAgIllZWVktTU0tRERUaGg6bW06c3NaIiwKICAgICAgICAgICAgICAvLyBdKS5mb3JtYXQoIkRvIE1NTSBZWVlZIik7CiAgICAgICAgICAgICAgaWYgKGlzUmVmdW5kKSB7CiAgICAgICAgICAgICAgICBfdGhpczM2LnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWQoY3VzdG9tZXJBY2Nlc3NUb2tlbiwgaW5kZXgsICJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuIik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMzYuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOyAvLyAgIGxldCBvcmRlckZ1bGZpbGxtZW50U3RhdHVzID0gb3JkZXJzRGF0YS5mdWxmaWxsbWVudFN0YXR1cy5yZXBsYWNlKAogICAgICAgICAgICAgICAgLy8gICAgICJfIiwKICAgICAgICAgICAgICAgIC8vICAgICAiICIKICAgICAgICAgICAgICAgIC8vICAgKTsKICAgICAgICAgICAgICAgIC8vICAgbGV0IHN1Y2Nlc3NmdWxPcmRlckZ1bGZpbGxtZW50cyA9CiAgICAgICAgICAgICAgICAvLyAgICAgb3JkZXJzRGF0YS5zdWNjZXNzZnVsRnVsZmlsbG1lbnRzOwogICAgICAgICAgICAgICAgLy8gICAvLyBTZXQgb25seSBmaXJzdCBjaGFyYWN0ZXIgdG8gdXBwZXJjYXNlIHdoaWxlIHJlbWFpbmluZyBjaGFyYWN0ZXJzIHNldCB0byBsb3dlcmNhc2UKICAgICAgICAgICAgICAgIC8vICAgb3JkZXJGdWxmaWxsbWVudFN0YXR1cyA9CiAgICAgICAgICAgICAgICAvLyAgICAgb3JkZXJGdWxmaWxsbWVudFN0YXR1cy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArCiAgICAgICAgICAgICAgICAvLyAgICAgb3JkZXJGdWxmaWxsbWVudFN0YXR1cy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgLy8gICBsZXQgb3JkZXJEZXRhaWxzTXNnID0gYEhlcmUncyB0aGUgc3RhdHVzIG9mIHlvdXIgcmVjZW50IG9yZGVyOjxicj4KICAgICAgICAgICAgICAgIC8vIE9yZGVyIC0gPGEgaHJlZj0iJHtvcmRlclN0YXR1c1VybH0iIHRhcmdldD0iX2JsYW5rIj4jJHtvcmRlck5hbWV9PC9hPjxicj4KICAgICAgICAgICAgICAgIC8vIE9yZGVyIFByb2Nlc3NlZCBPbjogJHtvcmRlclByb2Nlc3NpbmdEYXRlfTxicj4KICAgICAgICAgICAgICAgIC8vIEZ1bGZpbGxtZW50IFN0YXR1czogJHtvcmRlckZ1bGZpbGxtZW50U3RhdHVzfTxicj5gOwogICAgICAgICAgICAgICAgLy8gICBpZiAob3JkZXJGdWxmaWxsbWVudFN0YXR1cyA9PSAiRlVMRklMTEVEIikgewogICAgICAgICAgICAgICAgLy8gICAgIHN1Y2Nlc3NmdWxPcmRlckZ1bGZpbGxtZW50cyA9IHN1Y2Nlc3NmdWxPcmRlckZ1bGZpbGxtZW50c1swXTsKICAgICAgICAgICAgICAgIC8vICAgICBvcmRlckRldGFpbHNNc2cgKz0gYFlvdSBjYW4gdHJhY2sgeW91ciBvcmRlciBoZXJlPGEgaHJlZj0iJHtzdWNjZXNzZnVsT3JkZXJGdWxmaWxsbWVudHMudHJhY2tpbmdJbmZvLnVybH0iIGRhdGEtY29weS1jb250ZW50PSIke3N1Y2Nlc3NmdWxPcmRlckZ1bGZpbGxtZW50cy50cmFja2luZ0luZm8ubnVtYmVyfSI+CiAgICAgICAgICAgICAgICAvLyAgICR7c3VjY2Vzc2Z1bE9yZGVyRnVsZmlsbG1lbnRzLnRyYWNraW5nSW5mby5udW1iZXJ9PC9hPjxpIGNsYXNzPSJmYSBmYS1jbGlwYm9hcmQgbWwtMiIgYXJpYS1oaWRkZW49InRydWUiIGRhdGEtY29weS1jb250ZW50PSIke3N1Y2Nlc3NmdWxPcmRlckZ1bGZpbGxtZW50cy50cmFja2luZ0luZm8ubnVtYmVyfSI+PC9pPjxicj5gOwogICAgICAgICAgICAgICAgLy8gICB9CiAgICAgICAgICAgICAgICAvLyAgIHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSBvcmRlckRldGFpbHNNc2c7CgogICAgICAgICAgICAgICAgdmFyIG9yZGVyc19kYXRhID0gZGF0YS5yZXNwb25zZXNbMF0uZGF0YS5jdXN0b21lci5vcmRlcnMuZWRnZXMsCiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVfb3JkZXJzX2RhdGEgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyc19kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjdXJfbm9kZSA9IG9yZGVyc19kYXRhW2ldLm5vZGU7CiAgICAgICAgICAgICAgICAgIGN1cl9ub2RlLnByb2Nlc3NlZEF0ID0gbW9tZW50KGN1cl9ub2RlLnByb2Nlc3NlZEF0LCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pLmZvcm1hdCgiRG8gTU1NIFlZWVkiKTsKICAgICAgICAgICAgICAgICAgY3VyX25vZGUuZnVsZmlsbG1lbnRTdGF0dXMgPSBjdXJfbm9kZS5mdWxmaWxsbWVudFN0YXR1cy5yZXBsYWNlKCJfIiwgIiAiKTsgLy8gU2V0IG9ubHkgZmlyc3QgY2hhcmFjdGVyIHRvIHVwcGVyY2FzZSB3aGlsZSByZW1haW5pbmcgY2hhcmFjdGVycyBzZXQgdG8gbG93ZXJjYXNlCgogICAgICAgICAgICAgICAgICBjdXJfbm9kZS5mdWxmaWxsbWVudFN0YXR1cyA9IGN1cl9ub2RlLmZ1bGZpbGxtZW50U3RhdHVzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY3VyX25vZGUuZnVsZmlsbG1lbnRTdGF0dXMuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgY29tcGxldGVfb3JkZXJzX2RhdGEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogY3VyX25vZGUubmFtZSwKICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRfZGF0ZTogY3VyX25vZGUucHJvY2Vzc2VkQXQsCiAgICAgICAgICAgICAgICAgICAgZnVsZmlsbG1lbnRfc3RhdHVzOiBjdXJfbm9kZS5mdWxmaWxsbWVudFN0YXR1cywKICAgICAgICAgICAgICAgICAgICBzdGF0dXNfdXJsOiBjdXJfbm9kZS5zdGF0dXNVcmwKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzNi5jaGF0W2luZGV4XS5zaG93X2FsbF9vcmRlcnNfbGlzdCA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczM2LmNoYXRbaW5kZXhdLmFsbF9vcmRlcnNfbGlzdCA9IGNvbXBsZXRlX29yZGVyc19kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMzNi5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJQbGVhc2UgRmluZCBCZWxvdyBZb3VyIExhdGVzdCBPcmRlcnM6IjsKICAgICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0ucmVjZW50X29yZGVyc19saXN0ID0gZGF0YS5yZXNwb25zZXNbMF0uZGF0YS5jdXN0b21lci5vcmRlcnMuZWRnZXM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczM2LmNoYXRbaW5kZXhdLmNvbnZlcnNhdGlvbl9vbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMzNi5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAid29vY29tbWVyY2UiKSB7CiAgICAgICAgICAgIGlmIChpc1JlZnVuZCkgewogICAgICAgICAgICAgIF90aGlzMzYubG9hZF9jdXN0b21lcl9vcmRlcnMoZGF0YS5yZXNwb25zZXNbMF0uZGF0YS5jdXN0b21lci5vcmRlcnMsIGluZGV4LCBpc1JlZnVuZCA/ICJyZWZ1bmQiIDogImFsbF9vcmRlcnMiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczM2LmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICAgICAgICB2YXIgX29yZGVyc19kYXRhID0gZGF0YS5yZXNwb25zZXNbMF0uZGF0YS5jdXN0b21lci5vcmRlcnMsCiAgICAgICAgICAgICAgICAgIF9jb21wbGV0ZV9vcmRlcnNfZGF0YSA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfaTggPSAwOyBfaTggPCBfb3JkZXJzX2RhdGEubGVuZ3RoOyBfaTgrKykgewogICAgICAgICAgICAgICAgdmFyIGN1cl9ub2RlID0gX29yZGVyc19kYXRhW19pOF07CiAgICAgICAgICAgICAgICBjdXJfbm9kZS5wcm9jZXNzZWRBdCA9IG1vbWVudChjdXJfbm9kZS5jcmVhdGVkX2F0LCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pLmZvcm1hdCgiRG8gTU1NIFlZWVkiKTsKICAgICAgICAgICAgICAgIGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cyA9IEJvb2xlYW4oY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzKSA9PT0gdHJ1ZSA/IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cyA6ICJVbmZ1bGZpbGxlZCI7IC8vIFNldCBvbmx5IGZpcnN0IGNoYXJhY3RlciB0byB1cHBlcmNhc2Ugd2hpbGUgcmVtYWluaW5nIGNoYXJhY3RlcnMgc2V0IHRvIGxvd2VyY2FzZQoKICAgICAgICAgICAgICAgIGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cyA9IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIF9pOSA9IDA7IF9pOSA8IGN1cl9ub2RlLm9yZGVyX25vdGVzLmxlbmd0aDsgX2k5KyspIHsKICAgICAgICAgICAgICAgICAgY3VyX25vZGUub3JkZXJfbm90ZXNbX2k5XS5kYXRlX2NyZWF0ZWQgPSBtb21lbnQoY3VyX25vZGUub3JkZXJfbm90ZXNbX2k5XS5kYXRlX2NyZWF0ZWQsIFsiWVlZWS1NTS1ERFRoaDptbTpzc1oiXSkuZm9ybWF0KCJEbyBNTU0gWVlZWSBISDptbSBhIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbXBsZXRlX29yZGVyc19kYXRhLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiBjdXJfbm9kZS5pZCwKICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkX2RhdGU6IGN1cl9ub2RlLnByb2Nlc3NlZEF0LAogICAgICAgICAgICAgICAgICBmdWxmaWxsbWVudF9zdGF0dXM6IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cywKICAgICAgICAgICAgICAgICAgc3RhdHVzX3VybDogY3VyX25vZGUub3JkZXJfc3RhdHVzX3VybCwKICAgICAgICAgICAgICAgICAgb3JkZXJfbm90ZXM6IGN1cl9ub2RlLm9yZGVyX25vdGVzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uc2hvd19hbGxfb3JkZXJzX2xpc3QgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uYWxsX29yZGVyc19saXN0ID0gX2NvbXBsZXRlX29yZGVyc19kYXRhOwogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSAiUGxlYXNlIEZpbmQgQmVsb3cgWW91ciBMYXRlc3QgT3JkZXJzOiI7CiAgICAgICAgICAgICAgX3RoaXMzNi5jaGF0W2luZGV4XS5zaG93X2FsbF9vcmRlcnNfbGlzdCA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXMzNi5jaGF0W2luZGV4XS5yZWNlbnRfb3JkZXJzX2xpc3QgPSBfY29tcGxldGVfb3JkZXJzX2RhdGE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uY29udmVyc2F0aW9uX29ubHkgPSB0cnVlOwogICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczM2LnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJtYWdlbnRvIikgewogICAgICAgICAgICBpZiAoaXNSZWZ1bmQpIHsKICAgICAgICAgICAgICBfdGhpczM2LmxvYWRfY3VzdG9tZXJfb3JkZXJzKGRhdGEucmVzcG9uc2VzWzBdLmRhdGEuY3VzdG9tZXIub3JkZXJzLCBpbmRleCwgaXNSZWZ1bmQgPyAicmVmdW5kIiA6ICJhbGxfb3JkZXJzIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMzNi5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CiAgICAgICAgICAgICAgdmFyIF9vcmRlcnNfZGF0YTIgPSBkYXRhLnJlc3BvbnNlc1swXS5kYXRhLmN1c3RvbWVyLm9yZGVycywKICAgICAgICAgICAgICAgICAgX2NvbXBsZXRlX29yZGVyc19kYXRhMiA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKHZhciBfaTEwID0gMDsgX2kxMCA8IF9vcmRlcnNfZGF0YTIubGVuZ3RoOyBfaTEwKyspIHsKICAgICAgICAgICAgICAgIHZhciBjdXJfbm9kZSA9IF9vcmRlcnNfZGF0YTJbX2kxMF07CiAgICAgICAgICAgICAgICBjdXJfbm9kZS5wcm9jZXNzZWRBdCA9IG1vbWVudChjdXJfbm9kZS5jcmVhdGVkX2F0LCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pLmZvcm1hdCgiRG8gTU1NIFlZWVkiKTsKICAgICAgICAgICAgICAgIGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cyA9IEJvb2xlYW4oY3VyX25vZGUuZnVsZmlsbG1lbnRfc3RhdHVzKSA9PT0gdHJ1ZSA/IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cyA6ICJVbmZ1bGZpbGxlZCI7IC8vIFNldCBvbmx5IGZpcnN0IGNoYXJhY3RlciB0byB1cHBlcmNhc2Ugd2hpbGUgcmVtYWluaW5nIGNoYXJhY3RlcnMgc2V0IHRvIGxvd2VyY2FzZQoKICAgICAgICAgICAgICAgIGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cyA9IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMTEgPSAwOyBfaTExIDwgY3VyX25vZGUub3JkZXJfbm90ZXMubGVuZ3RoOyBfaTExKyspIHsKICAgICAgICAgICAgICAgICAgY3VyX25vZGUub3JkZXJfbm90ZXNbX2kxMV0uZGF0ZV9jcmVhdGVkID0gbW9tZW50KGN1cl9ub2RlLm9yZGVyX25vdGVzW19pMTFdLmRhdGVfY3JlYXRlZCwgWyJZWVlZLU1NLUREVGhoOm1tOnNzWiJdKS5mb3JtYXQoIkRvIE1NTSBZWVlZIEhIOm1tIGEiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29tcGxldGVfb3JkZXJzX2RhdGEyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiBjdXJfbm9kZS5pZCwKICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkX2RhdGU6IGN1cl9ub2RlLnByb2Nlc3NlZEF0LAogICAgICAgICAgICAgICAgICBmdWxmaWxsbWVudF9zdGF0dXM6IGN1cl9ub2RlLmZ1bGZpbGxtZW50X3N0YXR1cywKICAgICAgICAgICAgICAgICAgc3RhdHVzX3VybDogY3VyX25vZGUub3JkZXJfc3RhdHVzX3VybCwKICAgICAgICAgICAgICAgICAgb3JkZXJfbm90ZXM6IGN1cl9ub2RlLm9yZGVyX25vdGVzCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uc2hvd19hbGxfb3JkZXJzX2xpc3QgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uYWxsX29yZGVyc19saXN0ID0gX2NvbXBsZXRlX29yZGVyc19kYXRhMjsKICAgICAgICAgICAgICBfdGhpczM2LmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIlBsZWFzZSBGaW5kIEJlbG93IFlvdXIgTGF0ZXN0IE9yZGVyczoiOwogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uc2hvd19hbGxfb3JkZXJzX2xpc3QgPSB0cnVlOwogICAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0ucmVjZW50X29yZGVyc19saXN0ID0gX2NvbXBsZXRlX29yZGVyc19kYXRhMjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMzNi5jaGF0W2luZGV4XS5jb252ZXJzYXRpb25fb25seSA9IHRydWU7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodG9rZW5fdHlwZSA9PT0gInNob3BpZnlfY3VzdG9tZXJfaWQiKSB7CiAgICAgICAgdmFyIF9heGlvcyRwb3N0MTQ7CgogICAgICAgIGlmIChCb29sZWFuKHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZCkgPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLnNob3BpZnlfY3VzdG9tZXJfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNob3BpZnlfY3VzdG9tZXJfZW1haWwgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbiIpOwoKICAgICAgICB2YXIgX3N0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWQyID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgY3VzdG9tZXJJZDogdGhpcy5zaG9waWZ5X2N1c3RvbWVyX2lkLAogICAgICAgICAgZW1haWw6IHNob3BpZnlfY3VzdG9tZXJfZW1haWwKICAgICAgICB9KTsKCiAgICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJGZXRjaGluZyB5b3VyIG9yZGVyIGRldGFpbHMgLi4uIjsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDE0ID0gewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgY2hhdDogIi9yZXRyaWV2ZV9jdXN0b21lcl9vcmRlcnMiLmNvbmNhdChfc3RyaW5naWZpZWRfY3VzdG9tZXJfcGF5bG9hZDIpCiAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTQsICJ0b2tlbiIsIHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTQsICJyb2xlIiwgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxNCwgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfYXhpb3MkcG9zdDE0KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnJlc3BvbnNlc1swXS5jdXN0b20ub3JkZXJzX2xpc3QubGVuZ3RoID09IDAgJiYgX3RoaXMzNi5yZXRhaWxfb3JkZXJfcmV0cmVpdmFsX29ubHlfZW1haWxfcmVxdWlyZWQpIHsKICAgICAgICAgICAgX3RoaXMzNi5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzMzYuY2hhdFtpbmRleF0uY29udmVyc2F0aW9uX29ubHkgPSB0cnVlOwogICAgICAgICAgICBfdGhpczM2LmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gIlRoZXJlIGFyZSBubyBvcmRlcnMgdG8gYmUgZGlzcGxheWVkIGZvciB0aGUgZ2l2ZW4gRW1haWwgb3IgUGhvbmUgbnVtYmVyIjsKICAgICAgICAgICAgX3RoaXMzNi5zaG9waWZ5X2N1c3RvbWVyX2lkID0gbnVsbDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMzYubG9hZF9jdXN0b21lcl9vcmRlcnMocmVzcG9uc2UuZGF0YS5yZXNwb25zZXNbMF0uY3VzdG9tLm9yZGVyc19saXN0LCBpbmRleCwgaXNSZWZ1bmQgPyAicmVmdW5kIiA6ICJhbGxfb3JkZXJzIik7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMzYuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coZSk7CgogICAgICAgICAgX3RoaXMzNi51cGRhdGVfc2Nyb2xsYmFyKCJ1cHRvX2VuZCIsICJyZXNwb25zZSIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2hvcGlmeV9pc190b2tlbl92YWxpZDogZnVuY3Rpb24gc2hvcGlmeV9pc190b2tlbl92YWxpZChpbmRleCwgaXNSZWZ1bmQpIHsKICAgICAgaXNSZWZ1bmQgPSBpc1JlZnVuZCB8fCBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID09ICJzaG9waWZ5IikgewogICAgICAgIGlmICh0aGlzLmNoYXRbaW5kZXhdLmZldGNoX3Nob3BpZnlfZGV0YWlscyAmJiAhQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLmlzX3JlZnVuZCkgJiYgIUJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5yZWNlbnRfb3JkZXJzX2xpc3QpIHx8IHRoaXMuY2hhdFtpbmRleF0uZmV0Y2hfc2hvcGlmeV9kZXRhaWxzICYmIEJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5pc19yZWZ1bmQpICYmICFCb29sZWFuKHRoaXMuY2hhdFtpbmRleF0ucmVmdW5kX29yZGVyc19saXN0KSB8fCB0aGlzLmNoYXRbaW5kZXhdLmZldGNoX3Nob3BpZnlfZGV0YWlscyAmJiBCb29sZWFuKHRoaXMuY2hhdFtpbmRleF0ucmV0dXJuX3Nob3BpZnlfZW1haWwpKSB7CiAgICAgICAgICBpZiAodGhpcy5yZXRhaWxfb3JkZXJfcmV0cmVpdmFsX29ubHlfZW1haWxfcmVxdWlyZWQpIHsKICAgICAgICAgICAgaWYgKEJvb2xlYW4odGhpcy5zaG9waWZ5X2N1c3RvbWVyX2lkKSkgewogICAgICAgICAgICAgIHZhciBjdXN0b21lclRva2VuID0gdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKTsKCiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhdFtpbmRleF0uaXNfcmVmdW5kKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWQoY3VzdG9tZXJUb2tlbiwgaW5kZXgsICJzaG9waWZ5X2N1c3RvbWVyX2lkIik7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYXRbaW5kZXhdLnJldHVybl9zaG9waWZ5X2VtYWlsKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlbmRfc2hvcGlmeV9jdXN0b21lcl9pZChpbmRleCwgZmFsc2UpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfb3JkZXJzKGN1c3RvbWVyVG9rZW4sIGluZGV4LCBpc1JlZnVuZCwgInNob3BpZnlfY3VzdG9tZXJfaWQiKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgc2hvcGlmeV9zdG9yZV9jaWQgPSB0aGlzLmdldF9zaG9waWZ5X3N0b3JlX3dpbmRvd19jdXN0b21lcl9pZCgpOwoKICAgICAgICAgICAgaWYgKEJvb2xlYW4oc2hvcGlmeV9zdG9yZV9jaWQpID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBsZXQgY3V0b2ZmID0gdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW5fZXhwaXJ5Iik7CiAgICAgICAgICAgICAgLy8gY3V0b2ZmID0gbW9tZW50KGN1dG9mZiwgWyJZWVlZLU1NLUREVGhoOm1tOnNzWiJdKTsKICAgICAgICAgICAgICAvLyBpZiAobW9tZW50KCkuaXNCZWZvcmUoY3V0b2ZmKSkgewogICAgICAgICAgICAgIC8vIGxldCBzaG9waWZ5X3N0b3JlX2NpZCA9IHRoaXMuZ2V0X3Nob3BpZnlfc3RvcmVfd2luZG93X2N1c3RvbWVyX2lkKCk7CiAgICAgICAgICAgICAgLy8gbGV0IHNob3BpZnlfc3RvcmVfY2lkID0gNTMwMjAwMTg5MzQ0NzsgLy9oYXJkY29kZWQ6IHJlbW92ZSBhZnRlciB0ZXN0aW5nCiAgICAgICAgICAgICAgaWYgKHNob3BpZnlfc3RvcmVfY2lkID09PSBudWxsIHx8IHNob3BpZnlfc3RvcmVfY2lkID09IHVuZGVmaW5lZCB8fCBzaG9waWZ5X3N0b3JlX2NpZCA9PSAiIikgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfY3VzdG9tZXJfaWQgPSBzaG9waWZ5X3N0b3JlX2NpZDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBfY3VzdG9tZXJUb2tlbjMgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbiIpOwoKICAgICAgICAgICAgICBpZiAodGhpcy5jaGF0W2luZGV4XS5pc19yZWZ1bmQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvcGlmeV9mZXRjaF9jdXN0b21lcl9pZChfY3VzdG9tZXJUb2tlbjMsIGluZGV4LCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGF0W2luZGV4XS5yZXR1cm5fc2hvcGlmeV9lbWFpbCkgewogICAgICAgICAgICAgICAgdGhpcy5zZW5kX3Nob3BpZnlfY3VzdG9tZXJfaWQoaW5kZXgsIGZhbHNlKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zaG9waWZ5X2ZldGNoX29yZGVycyhfY3VzdG9tZXJUb2tlbjMsIGluZGV4LCBpc1JlZnVuZCwgInNob3BpZnlfY3VzdG9tZXJfaWQiKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyB9IGVsc2UgewogICAgICAgICAgICAgIC8vICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXRhaWxfd2ViX2ZyYW1ld29yayA9PSAid29vY29tbWVyY2UiKSB7CiAgICAgICAgaWYgKHRoaXMuY2hhdFtpbmRleF0uZmV0Y2hfc2hvcGlmeV9kZXRhaWxzICYmICFCb29sZWFuKHRoaXMuY2hhdFtpbmRleF0uaXNfcmVmdW5kKSAmJiAhQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLnJlY2VudF9vcmRlcnNfbGlzdCkgfHwgdGhpcy5jaGF0W2luZGV4XS5mZXRjaF9zaG9waWZ5X2RldGFpbHMgJiYgQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLmlzX3JlZnVuZCkgJiYgIUJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5yZWZ1bmRfb3JkZXJzX2xpc3QpIHx8IHRoaXMuY2hhdFtpbmRleF0uZmV0Y2hfc2hvcGlmeV9kZXRhaWxzICYmIEJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5yZXR1cm5fc2hvcGlmeV9lbWFpbCkpIHsKICAgICAgICAgIGlmICh0aGlzLnJldGFpbF9vcmRlcl9yZXRyZWl2YWxfb25seV9lbWFpbF9yZXF1aXJlZCkgewogICAgICAgICAgICB0aGlzLnNob3BpZnlfY3VzdG9tZXJfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl9pZCIpOwoKICAgICAgICAgICAgaWYgKEJvb2xlYW4odGhpcy5zaG9waWZ5X2N1c3RvbWVyX2lkKSkgewogICAgICAgICAgICAgIHZhciBfY3VzdG9tZXJUb2tlbjQgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl9pZCIpOwoKICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfb3JkZXJzKF9jdXN0b21lclRva2VuNCwgaW5kZXgsIGlzUmVmdW5kLCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIHdvb2NvbW1lcmNlX3N0b3JlX2xvZ2luX2RldGFpbCA9IHRoaXMuZ2V0X3dvb2NvbW1lcmNlX3N0b3JlX3dpbmRvd19jdXN0b21lcl9lbWFpbCgpOwoKICAgICAgICAgICAgaWYgKEJvb2xlYW4od29vY29tbWVyY2Vfc3RvcmVfbG9naW5fZGV0YWlsKSA9PSBmYWxzZSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl9pZCIsIHdvb2NvbW1lcmNlX3N0b3JlX2xvZ2luX2RldGFpbFswXSk7CiAgICAgICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iLCB3b29jb21tZXJjZV9zdG9yZV9sb2dpbl9kZXRhaWxbMV0pOwoKICAgICAgICAgICAgICBpZiAodGhpcy5jaGF0W2luZGV4XS5pc19yZWZ1bmQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2hvcGlmeV9mZXRjaF9jdXN0b21lcl9pZCh3b29jb21tZXJjZV9zdG9yZV9sb2dpbl9kZXRhaWxbMF0sIGluZGV4LCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfb3JkZXJzKHdvb2NvbW1lcmNlX3N0b3JlX2xvZ2luX2RldGFpbFswXSwgaW5kZXgsIGlzUmVmdW5kLCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gLy8gaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygic2hvcGlmeV9jdXN0b21lcl90b2tlbl9leHBpcnkiKSkgewogICAgICAgICAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vICAgICBsZXQgY3V0b2ZmID0gdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW5fZXhwaXJ5Iik7CiAgICAgICAgICAgIC8vICAgICBjdXRvZmYgPSBtb21lbnQoY3V0b2ZmLCBbIllZWVktTU0tRERUaGg6bW06c3NaIl0pOwogICAgICAgICAgICAvLyAgICAgbGV0IGN1cnJlbnRfdGltZSA9IG5ldyBEYXRlKGN1dG9mZik7CiAgICAgICAgICAgIC8vICAgICBpZiAobW9tZW50KCkuaXNCZWZvcmUoY3VycmVudF90aW1lKSkgewogICAgICAgICAgICAvLyAgICAgICBsZXQgY3VzdG9tZXJUb2tlbiA9IHRoaXMuJHNlc3Npb24uZ2V0KCJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuIik7CiAgICAgICAgICAgIC8vICAgICAgIHRoaXMuc2hvcGlmeV9mZXRjaF9vcmRlcnMoCiAgICAgICAgICAgIC8vICAgICAgICAgICBjdXN0b21lclRva2VuLAogICAgICAgICAgICAvLyAgICAgICAgICAgaW5kZXgsCiAgICAgICAgICAgIC8vICAgICAgICAgICBpc1JlZnVuZCwKICAgICAgICAgICAgLy8gICAgICAgICAgICJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuIgogICAgICAgICAgICAvLyAgICAgICAgICk7CiAgICAgICAgICAgIC8vICAgICAgIHJldHVybiB0cnVlOyAgICAgICAgICAgIAogICAgICAgICAgICAvLyAgICAgfWVsc2UgewogICAgICAgICAgICAvLyAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgIC8vICAgfQoKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMucmV0YWlsX3dlYl9mcmFtZXdvcmsgPT0gIm1hZ2VudG8iKSB7CiAgICAgICAgaWYgKHRoaXMuY2hhdFtpbmRleF0uZmV0Y2hfc2hvcGlmeV9kZXRhaWxzICYmICFCb29sZWFuKHRoaXMuY2hhdFtpbmRleF0uaXNfcmVmdW5kKSAmJiAhQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLnJlY2VudF9vcmRlcnNfbGlzdCkgfHwgdGhpcy5jaGF0W2luZGV4XS5mZXRjaF9zaG9waWZ5X2RldGFpbHMgJiYgQm9vbGVhbih0aGlzLmNoYXRbaW5kZXhdLmlzX3JlZnVuZCkgJiYgIUJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5yZWZ1bmRfb3JkZXJzX2xpc3QpIHx8IHRoaXMuY2hhdFtpbmRleF0uZmV0Y2hfc2hvcGlmeV9kZXRhaWxzICYmIEJvb2xlYW4odGhpcy5jaGF0W2luZGV4XS5yZXR1cm5fc2hvcGlmeV9lbWFpbCkpIHsKICAgICAgICAgIGlmICh0aGlzLnJldGFpbF9vcmRlcl9yZXRyZWl2YWxfb25seV9lbWFpbF9yZXF1aXJlZCkgewogICAgICAgICAgICB0aGlzLnNob3BpZnlfY3VzdG9tZXJfaWQgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl9pZCIpOwoKICAgICAgICAgICAgaWYgKEJvb2xlYW4odGhpcy5zaG9waWZ5X2N1c3RvbWVyX2lkKSkgewogICAgICAgICAgICAgIHZhciBfY3VzdG9tZXJUb2tlbjUgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl9pZCIpOwoKICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfb3JkZXJzKF9jdXN0b21lclRva2VuNSwgaW5kZXgsIGlzUmVmdW5kLCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIG1hZ2VudG9fc3RvcmVfbG9naW5fZGV0YWlsID0gdGhpcy5nZXRfbWFnZW50b19zdG9yZV93aW5kb3dfY3VzdG9tZXJfZW1haWwoKTsKCiAgICAgICAgICAgIGlmIChCb29sZWFuKG1hZ2VudG9fc3RvcmVfbG9naW5fZGV0YWlsKSA9PSBmYWxzZSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl9pZCIsIG1hZ2VudG9fc3RvcmVfbG9naW5fZGV0YWlsWzBdKTsKICAgICAgICAgICAgICB0aGlzLiRzZXNzaW9uLnNldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbiIsIG1hZ2VudG9fc3RvcmVfbG9naW5fZGV0YWlsWzFdKTsKCiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhdFtpbmRleF0uaXNfcmVmdW5kKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfY3VzdG9tZXJfaWQobWFnZW50b19zdG9yZV9sb2dpbl9kZXRhaWxbMF0sIGluZGV4LCAic2hvcGlmeV9jdXN0b21lcl9pZCIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3BpZnlfZmV0Y2hfb3JkZXJzKG1hZ2VudG9fc3RvcmVfbG9naW5fZGV0YWlsWzBdLCBpbmRleCwgaXNSZWZ1bmQsICJzaG9waWZ5X2N1c3RvbWVyX2lkIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfSAvLyBpZiAoIXRoaXMuJHNlc3Npb24uaGFzKCJzaG9waWZ5X2N1c3RvbWVyX3Rva2VuX2V4cGlyeSIpKSB7CiAgICAgICAgICAgIC8vICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gICAgIGxldCBjdXRvZmYgPSB0aGlzLiRzZXNzaW9uLmdldCgic2hvcGlmeV9jdXN0b21lcl90b2tlbl9leHBpcnkiKTsKICAgICAgICAgICAgLy8gICAgIGN1dG9mZiA9IG1vbWVudChjdXRvZmYsIFsiWVlZWS1NTS1ERFRoaDptbTpzc1oiXSk7CiAgICAgICAgICAgIC8vICAgICBsZXQgY3VycmVudF90aW1lID0gbmV3IERhdGUoY3V0b2ZmKTsKICAgICAgICAgICAgLy8gICAgIGlmIChtb21lbnQoKS5pc0JlZm9yZShjdXJyZW50X3RpbWUpKSB7CiAgICAgICAgICAgIC8vICAgICAgIGxldCBjdXN0b21lclRva2VuID0gdGhpcy4kc2Vzc2lvbi5nZXQoInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iKTsKICAgICAgICAgICAgLy8gICAgICAgdGhpcy5zaG9waWZ5X2ZldGNoX29yZGVycygKICAgICAgICAgICAgLy8gICAgICAgICAgIGN1c3RvbWVyVG9rZW4sCiAgICAgICAgICAgIC8vICAgICAgICAgICBpbmRleCwKICAgICAgICAgICAgLy8gICAgICAgICAgIGlzUmVmdW5kLAogICAgICAgICAgICAvLyAgICAgICAgICAgInNob3BpZnlfY3VzdG9tZXJfdG9rZW4iCiAgICAgICAgICAgIC8vICAgICAgICAgKTsKICAgICAgICAgICAgLy8gICAgICAgcmV0dXJuIHRydWU7ICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICAgICB9ZWxzZSB7CiAgICAgICAgICAgIC8vICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gICB9CgogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbml0aWFsaXplX3Nob3BpZnlfdWk6IGZ1bmN0aW9uIGluaXRpYWxpemVfc2hvcGlmeV91aSgpIHsKICAgICAgaWYgKHdpbmRvdy5TaG9waWZ5IHx8IHRoaXMuaXNfcmV0YWlsX2JvdCB8fCB0aGlzLmNvbXBhbnlpZCA9PSAiY2Vuc2VyZXRhaWw0OTE0MCIpIHsKICAgICAgICB2YXIgY2xpZW50ID0gU2hvcGlmeUJ1eS5idWlsZENsaWVudCh7CiAgICAgICAgICBkb21haW46IHdpbmRvdy5TaG9waWZ5ID8gd2luZG93LlNob3BpZnkuc2hvcCA6IHRoaXMuc2hvcGlmeV9yZXRhaWxfc2hvcF9uYW1lICsgIi5teXNob3BpZnkuY29tIiwKICAgICAgICAgIHN0b3JlZnJvbnRBY2Nlc3NUb2tlbjogdGhpcy5yZXRhaWxfc2hvcF9zdG9yZWZyb250X3Rva2VuCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zaG9waWZ5X3VpID0gU2hvcGlmeUJ1eS5VSS5pbml0KGNsaWVudCk7IC8vIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiSXNQb3J0YWxNYWludGFpbmVuY2UiKSA9PT0gZmFsc2UpIHsKCiAgICAgICAgdGhpcy5zaG9waWZ5X3VpLmNyZWF0ZUNvbXBvbmVudCgiY2FydCIsIHsKICAgICAgICAgIG5vZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXJ0RGl2IiksCiAgICAgICAgICB0b2dnbGVzOiBbewogICAgICAgICAgICBub2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9nZ2xlIikKICAgICAgICAgIH1dLAogICAgICAgICAgbW9uZXlGb3JtYXQ6IHRoaXMucmV0YWlsX3Nob3BfY3VycmVuY3kgKyAiIHt7bW9uZXlfd2l0aF9jdXJyZW5jeX19IiwKICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgdG9nZ2xlOiB7CiAgICAgICAgICAgICAgc3RpY2t5OiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBwb3B1cDogZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9KTsgLy8gfQogICAgICB9CiAgICB9LAogICAgaW5pdGlhbGl6ZV9zaG9waWZ5X2J1dHRvbnM6IGZ1bmN0aW9uIGluaXRpYWxpemVfc2hvcGlmeV9idXR0b25zKHByb2R1Y3RfaWQsIGluZGV4LCB2YXJpYW50X2lkKSB7CiAgICAgIHZhciBfdGhpczM3ID0gdGhpczsKCiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5zaG9waWZ5X3VpLmNyZWF0ZUNvbXBvbmVudCgicHJvZHVjdCIsIHsKICAgICAgICAgIGlkOiBwcm9kdWN0X2lkLAogICAgICAgICAgdmFyaWFudElkOiB2YXJpYW50X2lkLAogICAgICAgICAgbW9uZXlGb3JtYXQ6IHRoaXMucmV0YWlsX3Nob3BfY3VycmVuY3kgKyAiIHt7bW9uZXlfd2l0aF9jdXJyZW5jeX19IiwKICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgcHJvZHVjdDogewogICAgICAgICAgICAgIGNvbnRlbnRzOiB7CiAgICAgICAgICAgICAgICBvcHRpb25zOiB0cnVlLAogICAgICAgICAgICAgICAgcXVhbnRpdHk6IHRydWUsCiAgICAgICAgICAgICAgICBxdWFudGl0eUluY3JlbWVudDogdHJ1ZSwKICAgICAgICAgICAgICAgIHF1YW50aXR5RGVjcmVtZW50OiB0cnVlLAogICAgICAgICAgICAgICAgdmFyaWFudFRpdGxlOiB0cnVlIC8vIGJ1dHRvbldpdGhRdWFudGl0eTogZmFsc2UsCgogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICAgICAgICBxdWFudGl0eTogewogICAgICAgICAgICAgICAgICBkaXNwbGF5OiAiZmxleCIsCiAgICAgICAgICAgICAgICAgICJqdXN0aWZ5LWNvbnRlbnQiOiAiY2VudGVyIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIG5vZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9kdWN0XyIuY29uY2F0KHByb2R1Y3RfaWQsICJfIikuY29uY2F0KGluZGV4KSkKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMzNy5jaGVja19ub19wcm9kdWN0cygpOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gX3RoaXMzNy5wcm9kdWN0X2xpc3QpIHsKICAgICAgICAgICAgaWYgKHByb2R1Y3RfaWQgPT0gX3RoaXMzNy5wcm9kdWN0X2xpc3RbaV0ucHJvZHVjdF9pZCkgewogICAgICAgICAgICAgIF90aGlzMzcucHJvZHVjdF9saXN0W2ldLmF2YWlsYWJsZUZvclNhbGUgPSByZXNwb25zZS52aWV3RGF0YS5hdmFpbGFibGVGb3JTYWxlOwogICAgICAgICAgICAgIF90aGlzMzcucHJvZHVjdF9saXN0W2ldLnByb2R1Y3RJbWFnZSA9IHJlc3BvbnNlLmNhY2hlZEltYWdlLnNyYzsKICAgICAgICAgICAgICBfdGhpczM3LnByb2R1Y3RfbGlzdFtpXS5vbmxpbmVTdG9yZVVSTCA9IHJlc3BvbnNlLm9ubGluZVN0b3JlVVJMOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgIGFza19mZWVkYmFjazogZmFsc2UsCiAgICAgICAgICByZWNlaXZlZDogIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdGVzdGluZy4gUGxlYXNlIHRyeSBieSByZWZyZXNoaW5nIHRoZSBicm93c2VyISBJZiB0aGUgaXNzdWUgcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHN5c3RlbSBhZG1pbi4iLAogICAgICAgICAgcmVjZWl2aW5nOiB0cnVlCiAgICAgICAgfTsKICAgICAgICB0aGlzLmNoYXQucHVzaChtc2cpOwogICAgICB9CiAgICB9LAogICAgZGVtb19yZXRhaWxfcXVlc3Rpb246IGZ1bmN0aW9uIGRlbW9fcmV0YWlsX3F1ZXN0aW9uKCkgewogICAgICB2YXIgX3RoaXMzOCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc19yZXRhaWxfYm90ICYmIHRoaXMuaXNDYWxsZWRGcm9tU2V0dXApIHsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50ZW1wbGF0ZV9zeW5vbnltcygpLCB7CiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgIGlzX2dldF9wcm9kdWN0X2xpc3Q6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjUuZGF0YTsKICAgICAgICAgIF90aGlzMzguc3Bpbm5lck9uID0gZmFsc2U7CgogICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiU3VjY2VzcyIpIHsKICAgICAgICAgICAgdmFyIHByb2R1Y3RfbmFtZXNfbGlzdCA9IGRhdGEucHJvZHVjdF9uYW1lc19saXN0OwogICAgICAgICAgICB2YXIgaXRlbSA9IHByb2R1Y3RfbmFtZXNfbGlzdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcm9kdWN0X25hbWVzX2xpc3QubGVuZ3RoKV07CiAgICAgICAgICAgIF90aGlzMzgudG9fc2VuZCA9ICJQbGVhc2Ugc2hvdyBtZSAiLmNvbmNhdChpdGVtKTsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIlRlc3Rpbmcgb2YgQm90IGluIFByb2dyZXNzLCBTZWFyY2hpbmcgZm9yIGEgcHJvZHVjdCBmcm9tIHlvdXIgU3RvcmUhIiwKICAgICAgICAgICAgICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgIHRpbWVyOiA1MDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAvLyAkKCIjc2VuZF9idG4iKS5jbGljaygpCiAgICAgICAgICAgICAgX3RoaXMzOC5jaGF0LnB1c2goewogICAgICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgICAgICBzZW5kaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgc2VudDogX3RoaXMzOC50b19zZW5kLAogICAgICAgICAgICAgICAgdGltZTogX3RoaXMzOC5nZW5lcmF0ZV90aW1lKCkKICAgICAgICAgICAgICB9KTsgLy8gdGhpcy4kc2Vzc2lvbi5zZXQoIkJvdFJlc3BvbnNlX0NvbnZlcnNhdGlvbiIsIHRoaXMuY2hhdCk7CgoKICAgICAgICAgICAgICBfdGhpczM4LnVwZGF0ZV9zY3JvbGxiYXIoInVwdG9fZW5kIiwgInNlbmRlciIpOwoKICAgICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIHsKICAgICAgICAgICAgICAgIGNoYXQ6IF90aGlzMzgudG9fc2VuZCwKICAgICAgICAgICAgICAgIHRva2VuOiBfdGhpczM4LmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczM4LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzMzguJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIHJvbGU6IF90aGlzMzguJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgICAgICAgICAgcmVmcmVzaGVkX29yX2Nsb3NlZDogX3RoaXMzOC5yZWZyZXNoZWRfb3JfY2xvc2VkCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlLmRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyAgIHJlc3BvbnNlczogWwogICAgICAgICAgICAgICAgLy8gICAgIHsKICAgICAgICAgICAgICAgIC8vICAgICAgIGJ1dHRvbnM6IFsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgeyB0aXRsZTogIkNhbGwgU3VwcG9ydCIsIHZhbHVlOiAiL2NhbGxfc3VwcG9ydCIgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgeyB0aXRsZTogIkxpdmUgQ2hhdCIsIHZhbHVlOiAiL2xpdmVfY2hhdCIgfSwKICAgICAgICAgICAgICAgIC8vICAgICAgIF0sCiAgICAgICAgICAgICAgICAvLyAgICAgICBpbnRlbnQ6ICJjb25mdXNpb24iLAogICAgICAgICAgICAgICAgLy8gICAgICAgdGV4dDogIlNvcnJ5IEkgYW0gbm90IGdldHRpbmcgeW91ciBxdWVzdGlvbiIsCiAgICAgICAgICAgICAgICAvLyAgICAgfSwKICAgICAgICAgICAgICAgIC8vICAgXSwKICAgICAgICAgICAgICAgIC8vIH07CiAgICAgICAgICAgICAgICBfdGhpczM4LnJlc3BvbnNlX2hhbmRsaW5nKHJlc3BvbnNlLCAiZGlzcGxheV9zdWNjZXNzX3RvYXN0ciIpOyAvLyBzd2FsKHsKICAgICAgICAgICAgICAgIC8vICAgdGV4dDogIlRlc3RpbmcgQ29tcGxldGVkIFN1Y2Nlc3NmdWxseSEgUGxlYXNlIFByb2NlZWQgdG8gdGhlIG5leHQgc3RlcC4iLAogICAgICAgICAgICAgICAgLy8gICB0b2FzdDogdHJ1ZSwKICAgICAgICAgICAgICAgIC8vICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAvLyAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgIC8vICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgLy8gICB0aW1lcjogNTAwMCwKICAgICAgICAgICAgICAgIC8vICAgdGltZXJQcm9ncmVzc0JhcjogdHJ1ZSwKICAgICAgICAgICAgICAgIC8vIH0pCgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzMzgudG9fc2VuZCA9ICIiOwogICAgICAgICAgICB9LCAzMjAwKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMzOC5zcGlubmVyT24gPSBmYWxzZTsgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAvLyBzd2FsKHsKICAgICAgICAgIC8vICAgdGV4dDogIlRlc3RpbmcgRmluaXNoZWQuU29tZSBFcnJvciBPY2N1cnJlZCwgUGxlYXNlIFRyeSBBZ2FpbiIsCiAgICAgICAgICAvLyAgIHRvYXN0OiB0cnVlLAogICAgICAgICAgLy8gICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIC8vICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgLy8gICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgLy8gICB0aW1lcjogMjAwMCwKICAgICAgICAgIC8vICAgdGltZXJQcm9ncmVzc0JhcjogdHJ1ZSwKICAgICAgICAgIC8vIH0pCgogICAgICAgICAgdmFyIG1zZyA9IHsKICAgICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICAgIHRpbWU6IF90aGlzMzguZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgICBhc2tfZmVlZGJhY2s6IGZhbHNlLAogICAgICAgICAgICByZWNlaXZlZDogIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdGVzdGluZy4gUGxlYXNlIHRyeSBieSByZWZyZXNoaW5nIHRoZSBicm93c2VyISBJZiB0aGUgaXNzdWUgcGVyc2lzdHMsIHBsZWFzZSBjb250YWN0IHN5c3RlbSBhZG1pbi4iLAogICAgICAgICAgICByZWNlaXZpbmc6IHRydWUKICAgICAgICAgIH07CgogICAgICAgICAgX3RoaXMzOC5jaGF0LnB1c2gobXNnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNob3BpZnlfY2hlY2tfY3VzdG9tZXJfbG9nZ2VkX2luOiBmdW5jdGlvbiBzaG9waWZ5X2NoZWNrX2N1c3RvbWVyX2xvZ2dlZF9pbigpIHsKICAgICAgdmFyIF9heGlvcyRwb3N0MTUsCiAgICAgICAgICBfdGhpczM5ID0gdGhpczsKCiAgICAgIHZhciBjdXN0b21lcl9kYXRhID0gewogICAgICAgIGlzX2N1c3RvbWVyX2xvZ2dlZF9pbjogZmFsc2UsCiAgICAgICAgY3VzdG9tZXJfaWQ6IG51bGwKICAgICAgfTsKCiAgICAgIGlmIChCb29sZWFuKHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZCkpIHsKICAgICAgICBjdXN0b21lcl9kYXRhLmlzX2N1c3RvbWVyX2xvZ2dlZF9pbiA9IHRydWU7CiAgICAgICAgY3VzdG9tZXJfZGF0YS5jdXN0b21lcl9pZCA9IHRoaXMuc2hvcGlmeV9jdXN0b21lcl9pZDsKICAgICAgfQoKICAgICAgdmFyIHN0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWQgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgY3VzdG9tZXJfZGF0YTogY3VzdG9tZXJfZGF0YQogICAgICB9KTsKICAgICAgdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCAoX2F4aW9zJHBvc3QxNSA9IHsKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICB1c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIHNvdXJjZTogIldlYiIsCiAgICAgICAgY2hhdDogIi9zaG9waWZ5X3JldHJlaXZlX2N1c3RvbWVyX3NwZWNpZmljX29mZmVycyIuY29uY2F0KHN0cmluZ2lmaWVkX2N1c3RvbWVyX3BheWxvYWQpCiAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDE1LCAidG9rZW4iLCB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSksIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MkcG9zdDE1LCAicm9sZSIsIHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTUsICJyZWZyZXNoZWRfb3JfY2xvc2VkIiwgdGhpcy5yZWZyZXNoZWRfb3JfY2xvc2VkKSwgX2F4aW9zJHBvc3QxNSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzOS5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSwgbnVsbCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CgogICAgICAgIF90aGlzMzkudXBkYXRlX3Njcm9sbGJhcigidXB0b19lbmQiLCAicmVzcG9uc2UiKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VuZF9zaG9waWZ5X2N1c3RvbWVyX2lkOiBmdW5jdGlvbiBzZW5kX3Nob3BpZnlfY3VzdG9tZXJfaWQoaW5kZXgsIGlzX2xvZ2luLCBtZXRhZGF0YSkgewogICAgICB2YXIgX3RoaXM0MCA9IHRoaXM7CgogICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgLy8gY29uc29sZS5sb2coInNlbmRfc2hvcGlmeV9jdXN0b21lcl9jbGciKTsKICAgICAgLy8gaXNfbG9naW4gPSBmYWxzZTsKICAgICAgaWYgKGlzX2xvZ2luID09PSB0cnVlKSB7CiAgICAgICAgdmFyIF9heGlvcyRwb3N0MTY7CgogICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICQoIiNzaG9waWZ5X2xvZ2luX2Zvcm0iKS5zZXJpYWxpemVBcnJheSgpOwogICAgICAgIHZhciBmb3JtX3BheWxvYWQgPSB7fTsKICAgICAgICBmb3JtX3BheWxvYWRbInNob3BpZnlfaXNfb25seV9lbWFpbCJdID0gdGhpcy5yZXRhaWxfb3JkZXJfcmV0cmVpdmFsX29ubHlfZW1haWxfcmVxdWlyZWQ7CiAgICAgICAgZm9ybV9wYXlsb2FkWyJ0ZXh0Il0gPSB0aGlzLmNoYXRbaW5kZXhdLm1ldGFkYXRhLnRleHQ7CiAgICAgICAgZm9ybV9wYXlsb2FkWyJlbnRpdHkiXSA9IHRoaXMuY2hhdFtpbmRleF0ubWV0YWRhdGEuZW50aXR5OwoKICAgICAgICBmb3IgKHZhciBpIGluIHF1ZXJ5U3RyaW5nKSB7CiAgICAgICAgICBmb3JtX3BheWxvYWRbcXVlcnlTdHJpbmdbaV0ubmFtZV0gPSB0aGlzLmNoYXRbaW5kZXhdLmN1c3RvbWVyX2VtYWlsX2lkOwogICAgICAgIH0KCiAgICAgICAgZm9ybV9wYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkoZm9ybV9wYXlsb2FkKTsKICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDE2ID0gewogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBzb3VyY2U6ICJXZWIiLAogICAgICAgICAgY2hhdDogIi9yZV9vcmRlcl9wcm9kdWN0c19hY3Rpb24iLmNvbmNhdChmb3JtX3BheWxvYWQpCiAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTYsICJ0b2tlbiIsIHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTYsICJyb2xlIiwgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxNiwgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfYXhpb3MkcG9zdDE2KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNDAuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPSAiIjsKICAgICAgICAgIF90aGlzNDAuY2hhdFtpbmRleF0uZmV0Y2hfc2hvcGlmeV9kZXRhaWxzID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM0MC5jaGF0LnNwbGljZShpbmRleCwgMSk7CgogICAgICAgICAgX3RoaXM0MC5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIDo+PiAiLCBlcnIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2Ugey8vIGxldCBmb3JtX3BheWxvYWQgPSB7CiAgICAgICAgLy8gICBlbWFpbDonYXNoaXNoLmlAY29kZWFycmF5LnRlY2gnLAogICAgICAgIC8vICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIC8vICAgc2hvcGlmeV9pc19vbmx5X2VtYWlsOiBmYWxzZSwKICAgICAgICAvLyAgIHRleHQ6IHRoaXMuY2hhdFtpbmRleF0ubWV0YWRhdGEudGV4dCwKICAgICAgICAvLyAgIGVudGl0eSA6IHRoaXMuY2hhdFtpbmRleF0ubWV0YWRhdGEuZW50aXR5CiAgICAgICAgLy8gfTsKICAgICAgICAvLyBmb3JtX3BheWxvYWQgPSBKU09OLnN0cmluZ2lmeShmb3JtX3BheWxvYWQpOwogICAgICAgIC8vIGF4aW9zCiAgICAgICAgLy8gICAucG9zdChhcGlfY2FsbHMuY2hhdGJvdF9yZXNwb25zZV9jZW5zZSgpLCB7CiAgICAgICAgLy8gICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgLy8gICAgIHRva2VuOiB0aGlzLmJvdF9yZXNwb25zZV90b2tlbl92YWx1ZSwKICAgICAgICAvLyAgICAgdXNlcm5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAvLyAgICAgc291cmNlOiAiV2ViIiwKICAgICAgICAvLyAgICAgY2hhdDogYC9yZV9vcmRlcl9wcm9kdWN0c19hY3Rpb24ke2Zvcm1fcGF5bG9hZH1gLAogICAgICAgIC8vICAgICB0b2tlbjogdGhpcy5ib3RfcmVzcG9uc2VfdG9rZW5fdmFsdWUsCiAgICAgICAgLy8gICAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgIC8vICAgICByZWZyZXNoZWRfb3JfY2xvc2VkOiB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQsCiAgICAgICAgLy8gICB9KQogICAgICAgIC8vICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzKTsKICAgICAgICAvLyAgICAgdGhpcy5yZXNwb25zZV9oYW5kbGluZyhyZXNwb25zZSkKICAgICAgICAvLyAgIH0pCiAgICAgICAgLy8gICAuY2F0Y2goKGVycikgPT4gewogICAgICAgIC8vICAgICBjb25zb2xlLmxvZygiRXJyb3IgOj4+ICIsIGVycik7CiAgICAgICAgLy8gICB9KTsKICAgICAgfQogICAgfSwKICAgIG9wZW5fbWVzc2FnaW5nX2ZyYW1ld29ya19pbnRlZ3JhdGlvbjogZnVuY3Rpb24gb3Blbl9tZXNzYWdpbmdfZnJhbWV3b3JrX2ludGVncmF0aW9uKHVybCkgewogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgbGluay5ocmVmID0gdXJsOyAvLyBsaW5rLnNldEF0dHJpYnV0ZSgiZG93bmxvYWQiLCBmaWxlX25hbWUpOwoKICAgICAgbGluay5zZXRBdHRyaWJ1dGUoInRhcmdldCIsICJfYmxhbmsiKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgbGluay5jbGljaygpOwogICAgICBsaW5rLnJlbW92ZSgpOwogICAgfSwKICAgIHN1cHBvcnRfc3Vic2NyaXB0aW9uX2RhdGE6IGZ1bmN0aW9uIHN1cHBvcnRfc3Vic2NyaXB0aW9uX2RhdGEoKSB7CiAgICAgIHZhciBfYXhpb3MkcG9zdDE3LAogICAgICAgICAgX3RoaXM0MSA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5jaGF0Ym90X3Jlc3BvbnNlX2NlbnNlKCksIChfYXhpb3MkcG9zdDE3ID0gewogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwKICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTcsICJ0b2tlbiIsIHRoaXMuYm90X3Jlc3BvbnNlX3Rva2VuX3ZhbHVlKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTcsICJyb2xlIiwgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxNywgInJlZnJlc2hlZF9vcl9jbG9zZWQiLCB0aGlzLnJlZnJlc2hlZF9vcl9jbG9zZWQpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zJHBvc3QxNywgImNoYXQiLCAiL3N1cHBvcnRfc3Vic2NyaXB0aW9uX2RhdGEiKSwgX2RlZmluZVByb3BlcnR5KF9heGlvcyRwb3N0MTcsICJzb3VyY2UiLCAiV2ViIiksIF9heGlvcyRwb3N0MTcpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNDEucmVzcG9uc2VfaGFuZGxpbmcocmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja19ub19wcm9kdWN0czogZnVuY3Rpb24gY2hlY2tfbm9fcHJvZHVjdHMoKSB7CiAgICAgIHZhciBwcm9kdWN0c19kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZHVjdHNfbGlzdF9kaXYnKTsKICAgICAgdmFyIGRpc3BsYXlfbm9uZV9jb3VudCA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzX2Rpdi5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChwcm9kdWN0c19kaXYuY2hpbGRyZW5baV0uc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiKSB7CiAgICAgICAgICBkaXNwbGF5X25vbmVfY291bnQgKz0gMTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChkaXNwbGF5X25vbmVfY291bnQgPT09IHByb2R1Y3RzX2Rpdi5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB2YXIgbXNnID0gewogICAgICAgICAgY29udmVyc2F0aW9uX29ubHk6IHRydWUsCiAgICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgIHJlY2VpdmVkOiAiU29ycnksIHdlIGNvdWxkIG5vdCBmaW5kIGFueSBwcm9kdWN0cy4gUGxlYXNlIHRyeSByZXBocmFzaW5nIHRvIHNlYXJjaCBhIGRpZmZlcmVudCBwcm9kdWN0ISIsCiAgICAgICAgICByZWNlaXZpbmc6IHRydWUKICAgICAgICB9OwogICAgICAgIHRoaXMuY2hhdC5wdXNoKG1zZyk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRfbWFnZW50b19zdG9yZV93aW5kb3dfY3VzdG9tZXJfZW1haWw6IGZ1bmN0aW9uIGdldF9tYWdlbnRvX3N0b3JlX3dpbmRvd19jdXN0b21lcl9lbWFpbCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgY3VyciA9IEpTT04ucGFyc2UodGhpcy51c2VyX2RhdGEubWFnZW50b19jdXN0b21lcl9kYXRhKTsKCiAgICAgICAgaWYgKEJvb2xlYW4oY3Vyci5pZCkgPT0gdHJ1ZSAmJiBCb29sZWFuKGN1cnIuZW1haWwpID09IHRydWUpIHsKICAgICAgICAgIHZhciBjdXN0b21lciA9IFtjdXJyLmlkLCBjdXJyLmVtYWlsXTsKICAgICAgICAgIHJldHVybiBjdXN0b21lcjsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBnZXRfd29vY29tbWVyY2Vfc3RvcmVfd2luZG93X2N1c3RvbWVyX2VtYWlsOiBmdW5jdGlvbiBnZXRfd29vY29tbWVyY2Vfc3RvcmVfd2luZG93X2N1c3RvbWVyX2VtYWlsKCkgewogICAgICB0cnkgewogICAgICAgIHZhciBjdXJyID0gdGhpcy51c2VyX2RhdGEud29vX2N1cnJlbnRfdXNlcjsKCiAgICAgICAgaWYgKGN1cnIuSUQgIT09IDAgJiYgY3Vyci5hbGxjYXBzLmN1c3RvbWVyID09IHRydWUpIHsKICAgICAgICAgIHZhciBjdXN0b21lciA9IFtjdXJyLmRhdGEuSUQsIGN1cnIuZGF0YS51c2VyX2VtYWlsXTsKICAgICAgICAgIHJldHVybiBjdXN0b21lcjsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBnZXRfc2hvcGlmeV9zdG9yZV93aW5kb3dfY3VzdG9tZXJfaWQ6IGZ1bmN0aW9uIGdldF9zaG9waWZ5X3N0b3JlX3dpbmRvd19jdXN0b21lcl9pZCgpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgY3VyciA9IHdpbmRvdy5TaG9waWZ5QW5hbHl0aWNzLm1ldGEucGFnZS5jdXN0b21lcklkOwoKICAgICAgICBpZiAoY3VyciAhPT0gdW5kZWZpbmVkICYmIGN1cnIgIT09IG51bGwgJiYgY3VyciAhPT0gIiIpIHsKICAgICAgICAgIHJldHVybiBjdXJyOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIF9jdXJyID0gd2luZG93Lm1ldGEucGFnZS5jdXN0b21lcklkOwoKICAgICAgICBpZiAoX2N1cnIgIT09IHVuZGVmaW5lZCAmJiBfY3VyciAhPT0gbnVsbCAmJiBfY3VyciAhPT0gIiIpIHsKICAgICAgICAgIHJldHVybiBfY3VycjsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICB0cnkgewogICAgICAgIHZhciBfY3VycjIgPSBfc3QuY2lkOwoKICAgICAgICBpZiAoX2N1cnIyICE9PSB1bmRlZmluZWQgJiYgX2N1cnIyICE9PSBudWxsICYmIF9jdXJyMiAhPT0gIiIpIHsKICAgICAgICAgIHJldHVybiBfY3VycjI7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgbm9fb3JkZXJzX3RvX2JlX3Nob3duOiBmdW5jdGlvbiBub19vcmRlcnNfdG9fYmVfc2hvd24oaW5kZXgpIHsKICAgICAgdGhpcy5jaGF0W2luZGV4XS5yZWNlaXZlZCA9ICJJdCBzZWVtcyB5b3UgaGF2ZSBubyBvcmRlcnMgcmlnaHQgbm93ISI7CiAgICB9LAogICAgY2hhbmdlX2NoYXRfdGV4dF90b19sb2dpbl9yZWRpcmVjdDogZnVuY3Rpb24gY2hhbmdlX2NoYXRfdGV4dF90b19sb2dpbl9yZWRpcmVjdChpbmRleCkgewogICAgICB0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkID0gJzxwIHN0eWxlPSJ3aWR0aDphdXRvO21hcmdpbi1ib3R0b206MDsiPiBQbGVhc2UgbG9naW4gb24gdGhlIHN0b3JlIGJ5IGNsaWNraW5nIDxhIHRpdGxlPSJUaGlzIGZlYXR1cmUgaXMgb25seSBhdmFpbGFibGUgb24gdGhlIHN0b3JlIHdlYnNpdGUuIiBzdHlsZT0iY3Vyc29yOiBub3QtYWxsb3dlZDsiIGhyZWY9ImphdmFzY3JpcHQ6IHZvaWQoMCkiPiBoZXJlIDwvYT48L3A+JzsKICAgIH0sCiAgICByZXR1cm5fZG9jdW1lbnRfY29va2llczogZnVuY3Rpb24gcmV0dXJuX2RvY3VtZW50X2Nvb2tpZXMobmFtZSkgewogICAgICAvLyBjb25zdCB2YWx1ZSA9IGA7ICR7ZG9jdW1lbnQuY29va2llfWA7CiAgICAgIC8vIGNvbnN0IHBhcnRzID0gdmFsdWUuc3BsaXQoYDsgJHtuYW1lfT1gKTsKICAgICAgLy8gaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCc7Jykuc2hpZnQoKTsKICAgICAgdmFyIGNvb2tpZSA9IHt9OwogICAgICBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHZhciBfZWwkc3BsaXQgPSBlbC5zcGxpdCgnPScpLAogICAgICAgICAgICBfZWwkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX2VsJHNwbGl0LCAyKSwKICAgICAgICAgICAgayA9IF9lbCRzcGxpdDJbMF0sCiAgICAgICAgICAgIHYgPSBfZWwkc3BsaXQyWzFdOwoKICAgICAgICBjb29raWVbay50cmltKCldID0gdjsKICAgICAgfSk7CiAgICAgIHJldHVybiBjb29raWVbbmFtZV07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ResponseBot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["<template>\n  <div :style=\"cssProps\">\n    <div\n      class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n    ></div>\n    <div\n      :class=\"{\n        'card-body d-block d-flex': $route.name != 'Direct Response Bot',\n        'card-body': $route.name == 'Direct Response Bot',\n      }\"\n    >\n      <div style=\"width: 25%\" v-if=\"isTextToBot && !isPreviewBot && !isDialogBot\">\n        Here administrator can check how the bot responds to the end users\n        questions.\n      </div>\n      <div class=\"chat-master ml-auto\" id=\"app\">\n        <!-- <div class=\"group_chat_btn\" v-if=\"live_chat_on\">\n          <a href=\"javascript:void(0)\" @click=\"disconnect_support_chat\"\n            >Stop Chat</a\n          >\n        </div> -->\n        <div\n          class=\"chat-wrap\"\n          :style=\"chat_bot_background_image\"\n          style=\"margin: 0 auto; z-index: 0; min-width: 450px\"\n          v-bind:class=\"{\n            'chat-wrap2': isexchange,\n            'chat-wrap1': !isexchange,\n          }\"\n        >\n          <div class=\"chat-head\">\n            <div\n              class=\"media\"\n              v-bind:class=\"{\n                media2: !isretailigence,\n                media3: isretailigence,\n              }\"\n            >\n              <img\n                :src=\"chat_widget.logo\"\n                :style=\"chat_widget.style\"\n                class=\"rounded\"\n                alt=\"...\"\n                style=\"max-width: 100%\"\n              />\n              <!-- <div\n                      class=\"media-body\"\n                      style=\"margin-left: 10px\"\n                      v-if=\"!isretailigence\"\n                    >\n                      <p\n                        style=\"\n                          font-size: 15px;\n                          font-weight: bold;\n                          margin-top: 6px;\n                          text-align: center;\n                        \"\n                      >\n                        {{ chat_widget.title }}\n                      </p>\n                    </div> -->\n            </div>\n          </div>\n          <div\n            style=\"position: absolute; z-index: 1000; top: 80%; left: 93%;cursor:pointer\"\n            class=\"bounce\"\n            @click=\"animate_chat_body_scroll(1, 50)\"\n          >\n            <img src=\"/img/down-arrow.png\" v-if=\"to_scroll\" />\n          </div>\n          <div\n            id=\"portal_chat_body_id\"\n            class=\"chat-body\"\n            @scroll=\"scroll_down\"\n            v-bind:class=\"{\n              'chat-body2': isexchange,\n              'chat-body1': !isexchange,\n            }\"\n          >\n            <div\n              class=\"chat-inner\"\n              v-for=\"(single, item) in chat\"\n              :key=\"item\"\n              :id=\"'chat' + item\"\n            >\n              <div class=\"typewriter\" v-if=\"single.popup != null\">\n                <span\n                  class=\"chat\"\n                  style=\"\n                    color: black;\n                    font-size: 14px;\n                    font-weight: bold;\n                    border: 0px;\n                  \"\n                  v-html=\"popup_msg\"\n                ></span>\n              </div>\n              <div\n                class=\"chat-row receiver\"\n                v-if=\"Boolean(single.url) && single.receiving == false\"\n              >\n                <span class=\"chat\" style=\"width: max-content\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path\n                      fill=\"#273679\"\n                      d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"\n                    />\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                  </svg>\n                  <a\n                    href=\"#\"\n                    @click=\"download_file(single.url, single.file_name)\"\n                    target=\"_blank\"\n                  >\n                    <span>\n                      {{ single.file_name }}\n                      &nbsp;\n                    </span>\n                    <i class=\"fa fa-download\" aria-hidden=\"true\"></i>\n                  </a>\n                </span>\n              </div>\n              <div\n                v-if=\"single.is_leaf_note == 'leaf'\"\n                style=\"float: right; margin-bottom: 10px; margin-left: 30px\"\n                class=\"chat-row prompt\"\n              >\n                <span\n                  class=\"chat\"\n                  style=\"\n                    background: #273679;\n                    font-size: 14px;\n                    word-break: break-word;\n                  \"\n                  >{{ single.bot_response }}</span\n                >\n              </div>\n              <div v-if=\"single.flavor_text != null\">\n                <span>{{ single.flavor_text }}</span>\n              </div>\n\n              <div class=\"chat-row prompt-title\" v-if=\"single.title != null\">\n                <div class=\"chat\">{{ single.title }}</div>\n              </div>\n              <!-- <template v-if=\"single.is_table==true\">\n                  <div class=\"chat-row prompt\">\n                    <span style=\"margin-left:2%\">\n                      {{single.table_title}}\n                      <br />\n                    </span>\n                    <div class=\"chat\" style=\"width:96%;margin-left: 2%;margin-top:2%\">\n                      <div v-if=\"isexchange\">\n                        <div\n                          class=\"row\"\n                          v-for=\"(currency, index) in single.table_list\"\n                          :key=\"index\"\n                          style=\"margin-bottom:10px;margin-left:0;width:100%;box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2);background-color: #fbfbfb;border-radius:4px;height:30px;align-items:center;color: 3d3d3d;\"\n                        >\n                          <div class=\"column\" style=\"align:center;width: 5%;padding-left:1.5%\">\n                            <img\n                              style=\"align:center;opacity:4.5;height:20px;color:#2b3184;vertical-align:top;\"\n                              :src=\"'../../../img/ForeignExchange/'+currency.currency_title+'.png'\"\n                            />\n                          </div>\n                          <div\n                            class=\"column\"\n                            v-show=\"currency.type=='TR'\"\n                            style=\"padding-left:5%;width: 65%;color:black\"\n                          >{{currency.currency_title}}</div>\n                          <div\n                            class=\"column\"\n                            v-show=\"currency.type=='TR'\"\n                            style=\"width:20%;text-align:right;color:black\"\n                          >{{currency.currency_value}}</div>\n                        </div>\n                      </div>\n\n                      <table v-if=\"!isexchange\">\n                        <tr\n                          v-for=\"(currency, index) in single.table_list\"\n                          :key=\"index\"\n                          style=\"line-height: 9.5px;\"\n                        >\n                          <th\n                            v-show=\"currency.type=='THEAD'\"\n                            style=\"text-align: left;width: auto;\"\n                          >{{currency.country_name}}</th>\n                          <th\n                            v-show=\"currency.type=='THEAD'\"\n                            style=\"text-align: left\"\n                          >{{currency.currency_name}}</th>\n                          <td\n                            v-show=\"currency.type=='TR'\"\n                            style=\"font-weight: bolder;\"\n                          >{{currency.currency_title}}</td>\n                          <td\n                            v-show=\"currency.type=='TR'\"\n                            style=\"font-weight: bolder;\"\n                          >{{currency.currency_value}}</td>\n                        </tr>\n                      </table>\n                    </div>\n                  </div>\n                    </template>-->\n              <template v-if=\"single.is_leaf_note == false\">\n                <div\n                  class=\"chat-row prompt\"\n                  @click=\"click_prompt(prompt)\"\n                  v-for=\"(prompt, index) in single.bot_response\"\n                  :key=\"index\"\n                >\n                  <div\n                    @click=\"show_popup\"\n                    style=\"cursor: pointer\"\n                    :value=\"single.level\"\n                    class=\"chat\"\n                  >\n                    {{ prompt }}\n                  </div>\n                </div>\n              </template>\n              <template v-if=\"single.is_leaf_note == true\">\n                <video-viewer\n                  :responses=\"single.bot_response\"\n                  :show=\"show\"\n                  :demourlbind=\"demourlbind\"\n                  :demourl=\"demourl\"\n                  :reviewsurlbind=\"reviewsurlbind\"\n                  :reviewsurl=\"reviewsurl\"\n                  @sub_leaf_node_call=\"sub_leaf_node_call\"\n                ></video-viewer>\n              </template>\n              <div\n                class=\"buy-products d-flex\"\n                style=\"overflow: auto hidden\"\n                @mousewheel=\"scroll_div\"\n                v-if=\"single.isproduct\"\n              >\n                <div\n                  class=\"image-container\"\n                  v-for=\"(product, index) in single.elements.products\"\n                  :key=\"index\"\n                >\n                  <img :src=\"product['Product Image Url']\" class=\"image-box\" />\n                  <p>{{ product[\"Product Name\"] }}</p>\n                  <p>{{ product[\"UnitPrice\"] }}</p>\n                  <p\n                    class=\"buy-now\"\n                    @click=\"\n                      generate_payment(\n                        product['UnitPrice'],\n                        product['Product Name']\n                      )\n                    \"\n                  >\n                    Buy Now\n                  </p>\n                </div>\n              </div>\n              <div\n                class=\"buy-products d-flex\"\n                style=\"overflow: auto hidden; height: auto;\"\n                @mousewheel=\"scroll_div\"\n                v-if=\"single.new_products && show_custom_cart\"\n              >\n                <div\n                  class=\"image-container-woocommerce\"\n                  v-for=\"(product, index) in single.products_list\"\n                  :key=\"index\"\n                > <a :href=\"product.permalink\" target=\"_blank\">\n                  <img v-if=\"product.img_url != null\" :src=\"product.img_url\" class=\"image-box-woocommerce\" alt=\"Product Image\" />\n                  <img v-else src=\"/img/blank_product_image.png\" class=\"image-box-woocommerce\" alt=\"Product Image\" />\n                  </a>\n                  <div class=\"product-title-woocommerce\">\n                  <p class=\"textMaxLine bot-font-style m-0\" :title=\"product.title\">{{ product.title }}\n                  </p>\n                  <!-- <p class=\"textMaxLine bot-font-style product-variant-title mt-3 m-0\" v-if=\"product.variant_title\" :title=\"product.variant_title\">{{ product.variant_title }}</p> -->\n                  </div>\n                  <div class=\"d-flex\" style=\"justify-content: center;\">\n                  <p class=\"product-price-woocommerce bot-font-style\">{{retail_shop_currency}} {{parseInt(product.price).toLocaleString()}}.00</p>\n                  <p v-if=\"product.price != product.regular_price && (product.regular_price != '' && product.regular_price != null)\" class=\"product-price-woocommerce bot-font-style\" \n                    style=\"font-size: 10px;\n                          text-decoration: line-through;\n                          padding-left: 5px;\n                          padding-top: 2px;\n                          opacity: 0.65;\">\n                    {{retail_shop_currency}} {{parseInt(product.regular_price).toLocaleString()}}.00</p>\n                  </div>\n                  <div class=\"bot-font-style\" v-if=\"over_qty_warning && ((product.buy_qty + product.order_qty) > product.stock_quantity) && (product.stock_quantity != null)\" \n                    style=\"color: red; font-size: 12px;\">\n                    Maximum limit {{product.stock_quantity}}\n                  </div>\n                  <div class=\"product-variation\" style=\"position: relative;\" >\n                    <select class=\"select-product-variation bot-font-style\" \n                      v-model=\"product.variant_title\" \n                      @change=\"update_variation(item, index, product.variant_title)\" \n                      :disabled=\"!product.variations || product.variations.length == 0\"\n                      :style=\"!product.variations || product.variations.length == 0 ? 'background: #dddddd' : ''\"\n                    >\n                      <option v-for=\"(variation, var_index) in product.variations\"\n                      :key=\"var_index\"\n                      :value=\"variation.variant_title\">{{variation.variant_title}}</option>\n                    </select>\n                    <svg class=\"select-icon\" data-element=\"option.selectIcon\" viewBox=\"0 0 24 24\"><path d=\"M21 5.176l-9.086 9.353L3 5.176.686 7.647 12 19.382 23.314 7.647 21 5.176z\"></path></svg>\n                  </div>\n                  <div class=\"mt-3 product-qty\">\n                    <button\n                      type=\"button\"\n                      class=\"quantity-btn minus\"\n                      @click=\"update_quantity('-', item, index)\"\n                    >\n                    <span>-</span>\n                      <!-- <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        style=\"height: 14px\"\n                        viewBox=\"0 0 16 16\"\n                      >\n                        <path d=\"M4 7h8v2H4z\"></path>\n                      </svg> -->\n                    </button>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      class=\"bot-font-style quantity-btn\"\n                      style=\"\n                        text-align: center; \n                        width: 45px; \n                        border-right: 0; \n                        border-left: 0;\n                        background-color: #ffffff;\"\n                      v-model=\"product.buy_qty\"\n                      @focusout=\"update_quantity('manual', item, index, product.buy_qty)\"\n                      name=\"quantity\"\n                      title=\"Qty\"\n                    />\n                    <button\n                      type=\"button\"\n                      class=\"quantity-btn plus\"\n                      @click=\"update_quantity('+', item, index)\"\n                    >\n                    <span>+</span>\n                      <!-- <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        style=\"height: 14px\"\n                        viewBox=\"0 0 16 16\"\n                      >\n                        <path d=\"M12 7H9V4H7v3H4v2h3v3h2V9h3z\"></path>\n                      </svg> -->\n                    </button>\n                  </div>\n                  <button\n                    class=\"btn btn-success add-to-cart\"\n                    id=\"addtocart\"\n                    v-if=\"product.stock_status != 'outofstock'\"\n                    style=\"font-size: 13px;\"\n                    @click=\"\n                      addproduct(product)\n                    \"\n                  >\n                    ADD TO CART\n                  </button>\n                  <button\n                    v-else\n                    class=\"btn add-to-cart\"\n                    style=\"font-size: 15px;\n                    cursor: not-allowed;\"\n                    disabled\n                  >\n                    Out of stock\n                  </button>\n                </div>\n              </div>\n              <div\n                class=\"buy-products d-flex\"\n                style=\"overflow: auto hidden; height: auto\"\n                @mousewheel=\"scroll_div\"\n                v-else-if=\"Boolean(single.is_products_list)\"\n                id=\"products_list_div\"\n              >\n                <div\n                  :id=\"`product_${product_item.id}_`+item\"\n                  v-for=\"(product_item, index) in single.products_list\"\n                  :key=\"index\"\n                  class=\"m-3\"\n                  style=\"min-width: 200px\"\n                ></div>\n              </div>\n              <div class=\"chat-row receiver\" v-if=\"single.product_out_of_stock\">\n                <div class=\"d-flex\">\n                    <div class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                    <div\n                      class=\"chat bot-font-receiver\"\n                    >\n                    Some products you searched for are out of stock, if you want to be notified via email when they are back in stock,\n                  <a\n                href=\"#\"\n                style=\"cursor: pointer;\"\n                @click=\"add_to_out_of_stock_list(single.product_out_of_stock_list)\"\n                data-toggle=\"modal\"\n                data-target=\"#notifyemail\"\n              >\n                click here\n              </a>            \n                    </div>\n                  </div>\n              </div>\n              <div class=\"chat-row receiver\" v-if=\"single.show_banner_img_url\">\n                <div class=\"d-flex\">\n                  <div v-if=\"single.show_bot_img\" class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                  <br />\n                  <a \n                    style=\"width: -webkit-fill-available !important;\" \n                    :href=\"single.banner_img_link ? single.banner_img_link: 'javascript:void(0);'\"\n                    :target=\"single.banner_img_link ? '_blank' : ''\"\n                  >\n                    <img\n                      :src=\"single.banner_img_url\"\n                      :class=\"(Boolean(single.show_bot_img) == true)?'banner_img_url_id':'banner_img_url_only_id'\"\n                    />\n                  </a>\n                </div>\n                  <div class=\"chat-his\" v-if=\"single.time != null\">\n                  <span class=\"time\" style=\"color: #000\">{{ single.time }}</span>\n                </div>\n              </div>\n              <div class=\"chat-row receiver\" v-if=\"single.show_banner_description\">\n                <div class=\"d-flex\">\n                  <div v-if=\"single.show_bot_img\" class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                  <div\n                    class=\"chat bot-font-receiver\"\n                    :style=\"(Boolean(single.show_bot_img) == true) ? '' : 'margin-left: 8% !important;'\"\n                    v-html=\"single.banner_description\"\n                  >\n                    {{ single.banner_description }}\n                  </div>\n                </div>\n                  <div class=\"chat-his\" v-if=\"single.time != null\">\n                  <span class=\"time\" style=\"color: #000\">{{ single.time }}</span>\n                </div>\n              </div>\n              <div class=\"chat-row receiver\" v-if=\"single.show_banner_video_url\">\n                <div class=\"d-flex\">\n                  <div v-if=\"single.show_bot_img\" class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                  <br />\n                  <div\n                    class=\"plyr__video-embed\"\n                    id=\"player\"\n                  >\n                    <iframe\n                      :src=\"single.banner_video_url\"\n                      allowfullscreen\n                      allowtransparency\n                      allow=\"autoplay\"\n                      :class=\"(Boolean(single.show_bot_img) == true )?'banner_video_url_id':'banner_video_url_only_id'\"\n                    ></iframe>\n                  </div>\n                </div>\n                  <div class=\"chat-his\" v-if=\"single.time != null\">\n                  <span class=\"time\" style=\"color: #000\">{{ single.time }}</span>\n                </div>\n              </div>\n              <div class=\"chat-row receiver\" v-if=\"single.is_review_rating_product\">\n                <div class=\"d-flex\">\n                  <div class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                  <div \n                    class=\"p-3 my-3 chat\"\n                  >\n                    <div class=\"col-sm-12 d-flex p-0\">\n                      <div class=\"col-sm-8 p-0\">\n                        <div class=\"bot-font-receiver\" style=\"width: 100% !important;\">\n                          <label style=\"text-align: justify !important;\" ><strong><b> {{single.not_reviewed_product_details.name}}</b></strong></label>\n                          <div\n                            style=\"\n                              width: 100% !important;\n                              text-align: justify !important;\"\n                          >\n                            {{single.review_message_first}}\n                          </div>\n                          <div\n                            style=\"\n                              width: 100% !important;\n                              text-align: justify !important;\"\n                          >\n                            {{single.review_message_second}}\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-sm-4 pl-2 pr-0\">\n                        <div style=\"text-align: end !important;contain: content !important;\">\n                          <img :src=\"single.product_review_img_url\" class=\"img-fluid\" />\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"card p-3 my-2\">\n                      <div \n                        class=\"card-body p-0 bot-font-receiver\" \n                        style=\"min-height: 10vh !important;\"\n                      >\n                        <form @submit.prevent=\"submit_review_rating(item)\">\n                          <div class=\"d-flex flex-wrap\">\n                            <label class=\"mr-4 my-auto\"><strong><b>Rating:</b></strong></label>\n                            <star-rating \n                              v-model=\"single.product_rating\"\n                              v-bind:star-size=\"17\"\n                              :showRating= false\n                            >\n                            </star-rating>\n                          </div>\n                          <br/>\n                          <label><strong><b>Review:</b></strong></label>\n                          <textarea\n                            required\n                            rows=\"3\"\n                            v-model.trim=\"single.product_review\"\n                            class=\"form-control\" \n                            type=\"text\"\n                            style=\"border: 1px solid #ced4da;\n                              border-radius: .25rem; fon-size: 16px;\n                              padding: 5px !important; resize: none !important\"\n                          />\n                          <hr>\n                          <div class=\"card-act btn-wrap d-block d-flex flex-wrap buttons-parent buttons-alignment mt-1\">\n                            <button \n                              class=\"btn custom-buttons mt-3\"\n                              style=\"text-align: center !important;\"  \n                              type=\"submit\"\n                            >\n                            <strong>Submit Your Review</strong> \n                            </button>\n                          </div>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"chat-his\" v-if=\"single.time != null\">\n                  <span class=\"time\" style=\"color: #000\">{{ single.time }}</span>\n                </div>\n              </div>\n              <template v-if=\"single.conversation_only\">\n                <div\n                  v-if=\"single.sending\"\n                  class=\"chat-row sender\"\n                  :class=\"{ retailigence: isretailigence }\"\n                >\n                  <div class=\"chat bot-font-sender\">{{ single.sent }}</div>\n                  <div class=\"chat-his\" v-if=\"single.time != null\">\n                    <span class=\"time\" style=\"color: #000\">{{\n                      single.time\n                    }}</span>\n                    <span class=\"del-note delivered\">Sent</span>\n                  </div>\n                </div>\n                <div\n                  v-if=\"single.receiving\"\n                  class=\"chat-row receiver\"\n                  :class=\"{ 'pr-0': single.fetch_shopify_details }\"\n                >\n                  <div class=\"d-flex\">\n                    <div v-if=\"!(Boolean(single.received) == false &&\n                        (Boolean(single.image) == true ||\n                        Boolean(single.custom_buttons) == true))\"\n                        class=\"bot-img\" :style=\"bot_img_icon\">\n                    </div>\n                    <div\n                      v-if=\"Boolean(single.received) == true\"\n                      class=\"chat bot-font-receiver\"\n                      v-html=\"single.received\"\n                    >\n                      {{ single.received }}\n                    </div>\n                  </div>\n                  <template\n                    v-if=\"\n                      single.fetch_shopify_details &&\n                      !shopify_is_token_valid(item, single.is_refund)\n                    \"\n                  >\n                    <form\n                      id=\"shopify_login_form\"\n                      enctype=\"multipart/form-data\"\n                      @submit.prevent=\"\n                        shopify_create_customer_token(item, single.is_refund)\n                      \"\n                      v-if=\"retail_order_retreival_only_email_required || (retail_web_framework != 'shopify' && retail_web_framework != 'woocommerce' && retail_web_framework != 'magento')\"\n                    >\n                    <!-- {{single}} -->\n                      <div class=\"form-group\">\n                        <input\n                          :placeholder=\"retail_order_retreival_only_email_required ? 'Enter your Email or Phone number' : 'Enter your Email'\" \n                          name=\"email\"\n                          class=\"form-control\"\n                          id=\"email\"\n                          v-model=\"single.customer_email_id\"\n                          required\n                          type=\"text\"\n                          @focus=\"shopify_form_focus(item)\"\n                        />\n                      </div>\n                      <div class=\"form-group\" v-if=\"!retail_order_retreival_only_email_required\">\n                      <!-- <div class=\"form-group\"> -->\n                        <input\n                          placeholder=\"Enter your Password\"\n                          name=\"password\"\n                          class=\"form-control\"\n                          id=\"password\"\n                          v-model=\"single.customer_password\"\n                          required\n                          type=\"password\"\n                          @focus=\"shopify_form_focus(item)\"\n                        />\n                      </div>\n                      <button type=\"submit\" class=\"btn btn-primary dynamic-button\">\n                        {{shopify_login_button_text}}\n                      </button>\n                    </form>\n                    <div v-else class=\"bot-font-receiver\">\n                      {{change_chat_text_to_login_redirect(item)}}\n                    </div>\n                  </template>\n                  <div\n                    v-if=\"single.refund_orders_list\"\n                    style=\"\n                      background: #ffffff;\n                      text-align: center;\n                      margin: 10px 0px;\n                      padding: 10px;\n                    \"\n                  >\n                    <div\n                      v-if=\"!single.refund_order_view_details.line_items\"\n                      style=\"display: grid\"\n                    >\n                    <div>\n\n                    </div>\n                    <div\n                        class=\"d-flex bot-font-receiver\"\n                      >\n                        <p style=\"font-weight:600; margin: 0;\"\n                          >Order#</p>\n                        <p style=\"font-weight:600; margin: 0;\">Order Date</p>\n                        <p style=\"font-weight:600; margin: 0;\">Order Status</p>\n                        <p\n                          v-if=\"retail_web_framework != 'shopify'\" \n                          style=\"font-weight:600; margin: 0;\">Notes</p>\n                      </div>\n                      <div\n                        v-for=\"(order, orderIndex) in single.refund_orders_list\"\n                        :key=\"orderIndex\"\n                        class=\"d-flex bot-font-receiver\"\n                      >\n                        <a\n                          class=\"bot-font-receiver\"\n                          href=\"javascript:void(0)\"\n                          @click=\"\n                            view_order_details(\n                              item,\n                              orderIndex,\n                              order.line_items,\n                              order.refunds,\n                            )\n                          \"\n                          >{{ order.name }}</a\n                        >\n                        <a\n                          class=\"bot-font-receiver\"\n                          href=\"javascript:void(0)\"\n                          @click=\"\n                            view_order_details(\n                              item,\n                              orderIndex,\n                              order.line_items,\n                              order.refunds,\n                            )\n                          \"\n                          >{{ order.created_at }}</a>\n                        <!-- <a \n                          href=\"javascript:void(0)\"\n                          @click=\"\n                            view_order_details(\n                              item,\n                              orderIndex,\n                              order.line_items,\n                              order.refunds,\n                            )\n                          \"\n                        >{{ order.processed_date }}</a> -->\n                        <a\n                          class=\"bot-font-receiver\"\n                          href=\"javascript:void(0)\"\n                          @click=\"\n                            view_order_details(\n                              item,\n                              orderIndex,\n                              order.line_items,\n                              order.refunds,\n                            )\n                          \"\n                        >{{ order.fulfillment_status }}</a>\n                        <a\n                          class=\"bot-font-receiver\"\n                          v-if=\"retail_web_framework != 'shopify'\" \n                          href=\"#\"\n                          @click=\"order_notes_data = order.order_notes; selected_order_name = order.name\"\n                          data-toggle=\"modal\"\n                          data-target=\"#ordernotesmodel\"\n                          title=\"View Notes\"\n                        >View Notes</a>\n                      </div>\n                    </div>\n                    <div v-else-if=\"single.refund_order_view_details.line_items\">\n                      <div class=\"mb-3 text-left\">\n                        <a\n                          href=\"javascript:void(0)\"\n                          @click=\"refresh_or_remove_order_details(item, 'remove')\"\n                          >&lt;&lt; Back to Orders</a\n                        >\n                        <a href=\"javascript:void(0)\" class=\"ml-2\">{{\n                          single.refund_order_view_details.name\n                        }}</a>\n                      </div>\n                      <div>\n                        <p class=\"bot-font-receiver w-auto text-left\">\n                          To Return, follow these steps: \n                          <ol>\n                            <li>\n                              Select the checkbox for the items to be returned\n                            </li>\n                            <li>\n                              Update the quantity\n                            </li>\n                            <li>\n                              Click on Proceed button\n                            </li>\n                          </ol>\n                        </p>\n                      </div>\n                      <div\n                        v-for=\"(\n                          lineItem, lineItemIndex\n                        ) in single.refund_order_view_details.line_items\"\n                        :key=\"lineItemIndex\"\n                        class=\"mb-0\"\n                      >\n                        <div class=\"col-sm-12 bot-font-receiver p-0 px-2\" style=\"display: inline-flex !important;\">\n                          <!-- <img\n                            height=\"75\"\n                            width=\"75\"\n                            :src=\"lineItem.variant.image.originalSrc\"\n                          /> -->\n                          <div class=\"col-sm-1 p-0 pl-2\">\n                            <input\n                              :title=\"((lineItem.qty_available_for_refund) <= 0) ?'No product quantity available for refund':null\"\n                              type=\"checkbox\"\n                              v-model=\"single.refund_selected_items\"\n                              :value=\"retail_web_framework == 'magento' ? lineItem.product_id : lineItem.id\"\n                              :style=\"((lineItem.qty_available_for_refund) <= 0) ?'cursor: not-allowed !important':null\"\n                              style=\"margin-left: 2%; margin-top: 1%;\"\n                              :disabled=\"(lineItem.qty_available_for_refund) <= 0\"\n                            />\n                          </div>\n                          <div class=\"col-sm-5 p-0 pl-2\">\n                            <p style=\"width: 100% !important;text-align: center !important;\">\n                              {{ lineItem.name }}\n                            </p>\n                          </div>\n                          <div class=\"col-sm-3 p-0 pl-2\" style=\"flex: content !important;\">\n                            <p style=\"width: 100% !important; text-align: center !important;\">\n                              {{ single.refund_order_view_details.presentment_currency }}\n                              {{ lineItem.price }}\n                            </p>\n                          </div>\n                          <div class=\"col-sm-3 p-0 pl-2\" style=\"flex: content !important;\">\n                            <div class=\"\">\n                              <!-- {{lineItem.selected_quantity}}\n                              {{lineItem.qty_available_for_refund}}\n                              {{lineItem.already_refunded_qty}} -->\n                              <template>\n                                <div class=\"input-group margin-bottom\">\n                                  <vue-numeric-input\n                                    :title=\"((lineItem.qty_available_for_refund) <= 0) ?'No product quantity available for refund':null\"\n                                    id=\"return_increment_numeric_input\"\n                                    style=\"width: fit-content !important;\"  \n                                    v-model.number=\"lineItem.selected_quantity\" \n                                    :min=\"1\"  \n                                    :max=\"lineItem.qty_available_for_refund\" \n                                    :step=\"1\"\n                                    controls-type=\"updown\"\n                                    :disabled=\"(lineItem.qty_available_for_refund) <= 0\"\n                                    :style=\"((lineItem.qty_available_for_refund) <= 0) ?'cursor: not-allowed !important':null\"\n                                  >\n                                    <span class=\"input-group-addon addon-inline input-source-observer\">days</span>\n                                  </vue-numeric-input>\n                                </div>\n                              </template>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col-sm-12 p-0 px-2 d-flex\"> \n                        <div class=\"col-sm-5 p-0 bot-font-receiver\">\n                          <label class=\"bot-font-receiver text-left\">\n                            Reason for Return*\n                            <br>\n                          <sup v-if=\"show_shopify_reason_for_refund_error\" style=\"color:red;top: -.25em !important;\">\n                            ( This cannot be empty!! )\n                          </sup>\n                          </label>\n                        </div>\n                        <div class=\"col-sm-7 p-0\">\n                          <div class=\"form-group bot-font-receiver\">\n                            <multiselect\n                              v-model=\"single.shopify_reason_for_refund_list\"\n                              id=\"shopify_reason_for_refund_id\"\n                              :options=\"shopify_reason_for_refund_option\"\n                              :searchable=\"true\"\n                              :close-on-select=\"true\"\n                              :show-labels=\"false\"\n                              @input=\"refresh_or_remove_order_details(item)\"\n                              placeholder=\"Select Reason\"\n                              :max-height=\"100\"\n                            >\n                            </multiselect>\n                          </div>\n                          <div class=\"bot-font-receiver\" v-if=\"single.shopify_reason_for_refund_list === 'Others'\">\n                            <textarea\n                              class=\"form-control\"\n                              style=\"border: 1px solid #ced4da;\n                              border-radius: .25rem; fon-size: 16px;\n                              padding: 5px !important; resize: none !important\"\n                              rows=\"3\"\n                              v-model.trim=\"single.shopify_reason_for_refund\"\n                              id=\"product_refund_txt_area\"\n                            />\n                          </div>\n                      </div>\n                      </div>\n                      <div\n                        class=\"d-block d-flex flex-wrap buttons-parent buttons-alignment mt-1\"\n                      >\n                        <button\n                          :title=\"((single.refund_selected_items.length) <= 0) ?'Select the checkbox for the items to be returned':null\"\n                          class=\"btn custom-buttons bot-font-buttons\"\n                          :disabled=\"(single.refund_selected_items.length) <= 0\"\n                          :style=\"((single.refund_selected_items.length) <= 0) ?'cursor: not-allowed !important':null\"\n                          style=\"font-size: 16px !important;\"\n                          @click=\"\n                            submit_refund_request(\n                              single.refund_order_view_details, item\n                            )\n                          \"\n                        >\n                          Proceed\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    class=\"bot-font-receiver\"\n                    v-if=\"single.show_all_orders_list\"\n                    style=\"\n                      background: #ffffff;\n                      text-align: center;\n                      margin: 10px 0px;\n                      padding: 10px;;\n                    \"\n                  >\n                  <div\n                    class=\"d-flex\"\n                  >\n                    <p style=\"font-weight:600; margin: 0;\">Order#</p>\n                    <p style=\"font-weight:600; margin: 0;\">Order Date</p>\n                    <p style=\"font-weight:600; margin: 0;\">Order Status</p>\n                    <p\n                      v-if=\"retail_web_framework != 'shopify'\" \n                      style=\"font-weight:600; margin: 0;\">Notes</p>\n                  </div>\n                  <div\n                        v-for=\"(order, orderIndex) in single.all_orders_list\"\n                        :key=\"orderIndex\"\n                        class=\"d-flex\"\n                      >\n                        <a\n                          class=\"bot-font-receiver\"\n                          :href=\"order.status_url\"\n                          target=\"_blank\"\n                        >{{ order.name }}</a\n                        >\n                        <a \n                          class=\"bot-font-receiver\"\n                          :href=\"order.status_url\"\n                          target=\"_blank\"\n                        >{{ order.processed_date }}</a>\n                        <a \n                          class=\"bot-font-receiver\"\n                          :href=\"order.status_url\"\n                          target=\"_blank\"\n                        >{{ order.fulfillment_status }}</a>\n                        <a\n                          class=\"bot-font-receiver\"\n                          v-if=\"retail_web_framework != 'shopify'\" \n                          href=\"#\"\n                          @click=\"order_notes_data = order.order_notes; selected_order_name = order.name\"\n                          data-toggle=\"modal\"\n                          data-target=\"#ordernotesmodel\"\n                          title=\"View Notes\"\n                        >View Notes</a>\n                      </div>\n                  </div>\n                  <div v-else>\n                    <!-- {{no_orders_to_be_shown(item)}} -->\n                  </div>\n                  <template v-if=\"Boolean(single.image)\">\n                    <div class=\"d-flex\">\n                      <div v-if=\"(Boolean(single.received) == false &&\n                        Boolean(single.image) == true)\" class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                      <br />\n                      <img\n                        :class=\"!(Boolean(single.received) == false &&\n                        Boolean(single.image) == true)? 'img_only_id':'img_id'\"\n                        :src=\"single.image\"\n                      />\n                    </div>\n                  </template>\n                  <div v-if=\"single.show_buttons && single.support_buttons\">\n                    <button\n                      class=\"btn custom-buttons\"\n                      @click=\"call_support('Yes')\"\n                    >\n                      Yes\n                    </button>\n                    <button\n                      class=\"btn custom-buttons\"\n                      @click=\"call_support('No')\"\n                    >\n                      No\n                    </button>\n                  </div>\n                  <div\n                    v-if=\"single.custom_buttons\"\n\n                  >\n                    <div :class=\"(Boolean(single.received) == false &&\n                          Boolean(single.custom_buttons) == true)?'d-flex':null\" style=\"align-items: center;\">\n                      <div v-if=\"(Boolean(single.received) == false &&\n                        Boolean(single.custom_buttons) == true)\" class=\"bot-img\" :style=\"bot_img_icon\">\n                      </div>\n                      <div\n                        class=\"d-block d-flex flex-wrap buttons-parent buttons-alignment mt-1\"\n                        :style=\"(Boolean(single.received) == false &&\n                        Boolean(single.custom_buttons) == true)?'width: -webkit-fill-available !important;': null\"\n                      >\n                        <button\n                          :style=\"(Boolean(single.received) == false &&\n                          Boolean(single.custom_buttons) == true)?'margin-top:1% !important; margin-bottom:2% !important': null\"\n                          class=\"btn custom-buttons\"\n                          :class=\"{ retailigence: isretailigence }\"\n                          @click=\"send_message('is_button', button, item)\"\n                          v-for=\"(button, index) in single.buttons_list\"\n                          :disabled=\"input_disabled\"\n                          :key=\"index\"\n                        >\n                          {{ button.title }}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"single.show_text_area\">\n                    <textarea\n                      class=\"form-control\"\n                      placeholder=\"Enter text here\"\n                      :id=\"'textarea' + item\"\n                      style=\"padding-left: 2%\"\n                      :disabled=\"single.disabled\"\n                    >\n                    </textarea>\n                  </div>\n                  <div\n                    v-if=\"Boolean(single.is_order_status)\"\n                    class=\"chat\"\n                    style=\"margin-left: 33px; margin-top: 10px\"\n                    v-html=\"single.order_status\"\n                  ></div >\n                  <div\n                    v-if=\"Boolean(single.offers)\"\n                    class=\"chat\"\n                    style=\"margin-left: 33px; margin-top: 10px\"\n                  >\n                    <span\n                      v-for=\"(offer, offerIndex) in single.offers\"\n                      :key=\"offerIndex\"\n                    >\n                    <span><strong style=\"padding-right:0.25rem\">{{offerIndex+1}}:</strong></span>\n                    <span v-html=\"offer.offer +'<br>' \" style=\"margin-bottom: 1rem\"></span>\n                    </span>\n                  </div>\n                  <!-- Apply logic here -->\n                  <div v-if=\"single.is_multiselect\">\n                    <multiselect\n                      :close-on-select=\"false\"\n                      :taggable=\"true\"\n                      :multiple=\"true\"\n                      :options=\"single.multiselect_values\"\n                      :placeholder=\"single.placeholder\"\n                      track-by=\"value\"\n                      :group-select=\"true\"\n                      label=\"title\"\n                      v-model=\"single.value_mapping\"\n                      @input=\"adddropdownvalue\"\n                      :disabled=\"single.disabled\"\n                    ></multiselect>\n                  </div>\n                  <div v-if=\"single.show_messaging_platforms\" class=\"d-flex\" style=\"justify-content: center\">\n                    <div  class=\"px-2\" v-for=\"(plt,plt_index) in single.messaging_platforms_data\" :key=\"plt_index\">\n                      <!-- {{plt}} -->\n                      <div v-if=\"Boolean(plt.TELEGRAM) === true\">\n                        <span @click=\"open_messaging_framework_integration(plt.TELEGRAM)\">\n                        <img :src=\"require('@/portal/assets/img/Webp.net-resizeimage_5.png')\" alt=\"Telegram\" class=\"image-box-msg-frmw\" style=\"cursor:pointer;background: inherit;\">\n                        </span>\n                      </div>\n                      <div v-if=\"Boolean(plt.WHATSAPP) === true\">\n                        <span @click=\"open_messaging_framework_integration(plt.WHATSAPP)\">\n                        <img :src=\"require('@/portal/assets/img/whatsapp-logo-png-2290.png')\" alt=\"WhatsApp\" class=\"image-box-msg-frmw\" style=\"cursor:pointer;background: inherit;\">\n                        </span>\n                      </div>\n                      <div v-if=\"Boolean(plt.FACEBOOK) === true\">\n                        <span @click=\"open_messaging_framework_integration(plt.FACEBOOK)\">\n                        <img :src=\"require('@/portal/assets/img/logo-256.png')\" alt=\"Facebook\" class=\"image-box-msg-frmw\" style=\"cursor:pointer;background: inherit;\">\n                        </span>\n                      </div>\n                      <div v-if=\"Boolean(plt.INSTAGRAM) === true\">\n                        <span @click=\"open_messaging_framework_integration(plt.INSTAGRAM)\">\n                        <img :src=\"require('@/portal/assets/img/instagram_bot_logo.png')\" alt=\"Instagram\" class=\"image-box-msg-frmw\" style=\"cursor:pointer;background: inherit;\">\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <!-- <div v-if=\"single.is_table\">\n                      <div class=\"row\" style=\"margin-bottom:10px;margin-left:0;width:100%;box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2);background-color: #fbfbfb;border-radius:4px;height:30px;align-items:center;color: 3d3d3d;\">\n                        <div class=\"column\" style=\"align:center;opacity:4.5;height:20px;color:#2b3184;vertical-align:top;\" v-for=\"(head, index1) in single.col_list\" :key=\"index1\">\n                          {{head}}\n                        </div>\n                      </div>\n                      <div class=\"row\" style=\"margin-bottom:10px;margin-left:0;width:100%;box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.2);background-color: #fbfbfb;border-radius:4px;height:30px;align-items:center;color: 3d3d3d;\" v-for=\"(value, index2) in single.table_value\" :key=\"index2\">\n                        <div class=\"column\" style=\"align:center;opacity:4.5;height:20px;color:#2b3184;vertical-align:top;\" v-for=\"(head, index3) in single.col_list\" :key=\"index3\">\n                          {{value[head]}}\n                        </div>\n                      </div>\n                        </div>-->\n                  <table\n                    v-if=\"single.is_table\"\n                    style=\"\n                      margin-left: 2%;\n                      margin-top: 2%;\n                      font-size: 14px;\n                      font-weight: 300;\n                      background-color: #fff;\n                    \"\n                    class=\"table\"\n                  >\n                    <tr>\n                      <th\n                        v-for=\"(head, index1) in single.col_list\"\n                        :key=\"index1\"\n                      >\n                        {{ head }}\n                      </th>\n                    </tr>\n                    <tr\n                      v-for=\"(value, index2) in single.table_value\"\n                      :key=\"index2\"\n                    >\n                      <td\n                        v-for=\"(head, index3) in single.col_list\"\n                        :key=\"index3\"\n                      >\n                        {{ value[head] }}\n                      </td>\n                    </tr>\n                  </table>\n                  <!-- <div v-if=\"single.is_table\">\n                      <div  class=\"row\">\n                          <div  class=\"column\"\n                                v-for=\"(value,index2)in single.row_list\"\n                                :key=\"index2\">\n                                {{value}}\n                          </div>\n                      </div>\n                      <div  class=\"row\"\n                            v-for=\"(key, index) in single.row_list\"\n                            :key=\"index\">\n                            <div  class=\"column\"\n                                  v-for=\"(value,index2)in key\"\n                                  :key=\"index2\">\n                                  {{value}}\n                            </div>\n\n                      </div>\n                        </div>-->\n                  <div\n                    class=\"plyr__video-embed\"\n                    id=\"player\"\n                    v-if=\"Boolean(single.videos)\"\n                    style=\"ma\"\n                  >\n                    <iframe\n                      :src=\"single.videos\"\n                      allowfullscreen\n                      allowtransparency\n                      allow=\"autoplay\"\n                      :class=\"'video_url_id'\"\n                    ></iframe>\n                  </div>\n                  <div class=\"chat-his\" v-if=\"single.time != null\">\n                    <span class=\"time\">{{ single.time }}</span>\n                  </div>\n                  <div\n                    class=\"d-flex bot-font-receiver\"\n                    style=\"margin-top: 5px\"\n                    v-if=\"single.ask_feedback\"\n                  >\n                    <div class=\"bot-img\" :style=\"bot_img_icon\"></div>\n                    <div class=\"chat\">\n                      <!-- <div class=\"chat\"> -->\n                      Was this answer helpful?\n                      <a style=\"margin-left:1rem; margin-right:1rem;\" href=\"#\" \n                        @click=\"add_bot_unanswered_question(item, true)\" >\n                        <strong>Yes</strong>\n                      </a>\n                      <a href=\"#\" @click=\"add_bot_unanswered_question(item, false)\">\n                        <strong>No</strong>\n                      </a>\n                      <!-- <img\n                        :src=\"thumbs_up_icon\"\n                        @click=\"add_bot_unanswered_question(item, true)\"\n                      />\n                      <img\n                        :src=\"thumbs_down_icon\"\n                        @click=\"add_bot_unanswered_question(item, false)\"\n                      /> -->\n                    </div>\n                  </div>\n                </div>\n              </template>\n            </div>\n              <cense-cart \n                :addtoCart=\"addtoCartdata\"\n                :retail_currency=\"retail_shop_currency\"\n                :retail_framework=\"retail_web_framework\"\n                :shop_url=\"(retail_web_framework === 'shopify') ? shopify_retail_shop_name: shop_url\"\n                @close_cart=\"closecart\"\n                @cart_data=\"cart_communication\"\n                v-if=\"is_cense_cart\"/>\n            <div id=\"cartDiv\"></div>\n          </div>\n\n          <div\n            v-if=\"isexchange\"\n            class=\"row\"\n            style=\"margin-left: auto; margin-right: auto; width: 100%\"\n          >\n            <!-- <button @click=\"ForeignExchangeConversion\" id=\"XYZ\" class=\"FE_button\">\n                <img\n                  src=\"../../../img/ForeignExchange/ui-12.png\"\n                  style=\"height:14px\"\n                  alt=\"Warning!\"\n                />\n                Exchange Rate\n                  </button>-->\n            <!-- <button @click=\"FXPaymentMode\" class=\"FE_button\">\n                <img\n                  src=\"../../../img/ForeignExchange/ui-11.png\"\n                  style=\"height:14px\"\n                  alt=\"Warning!\"\n                />\n                Payment\n                  </button>-->\n            <!-- <button @click=\"FXTrackingParcel\" class=\"FE_button\">\n                        <img\n                          src=\"../../../img/ForeignExchange/ui-13.png\"\n                          style=\"height:14px\"\n                          alt=\"Warning!\"\n                        />\n                        Track My Parcel\n                  </button>-->\n          </div>\n          <div class=\"col-sm-12 d-flex px-0\" style=\"overflow: hidden;\">\n            <div id=\"custom-cart\" v-if=\"show_custom_cart\" class=\"col-sm-2 px-1\" style=\"margin-top: 6px;\">\n            <div\n            id=\"cense-cart-btn\"\n            type=\"button\" class=\"btn cense-cart-btn\"\n            @click=\"is_cense_cart = !is_cense_cart\"\n            >\n            <div id=\"cart-qty-num\" class=\"cart-qty-num bot-font-buttons\">{{parseInt(total_products_qty).toLocaleString()}}</div>\n            <img\n              id=\"cart-img\" \n              src=\"/img/cart.png\" alt=\"\" \n              style=\"height: 20px; width: 20px; filter: invert(1);\">\n            </div>\n            </div>\n            <!-- <div v-else :class=\"cart_button_alignment\" id=\"toggle\"></div> -->\n            <div\n              :class=\"custom_greetings_buttom_alignment\"\n              v-if=\"visible_custom_greetings_buttom && Boolean(greeting_buttons_position)\"\n            >\n              <div\n                class=\"d-block d-flex flex-wrap buttons-alignment\"\n                v-if=\"Boolean(chat[greeting_buttons_position].custom_buttons) && visible_custom_greetings_buttom\"\n              >\n                <button\n                  :disabled=\"input_disabled\"\n                  :style=\"input_disabled ? 'cursor: not-allowed' : null\"\n                  style = \"\n                    margin-top: 2.5% !important; \n                    margin-left: 2.5% !important;\"\n                  class=\"btn custom-buttons bot-font-buttons\"\n                  @click=\"send_message('is_button', button, greeting_buttons_position)\"\n                  v-for=\"(button, index) in chat[greeting_buttons_position].buttons_list\"\n                  :key=\"index\"\n                >\n                  {{ button.title }}\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"chat-footer\">\n            <div\n              class=\"typing-indicator\"\n              :class=\"{\n                'd-block': is_typing_indicator_on,\n                'd-none': !is_typing_indicator_on,\n              }\"\n            >\n              <p style=\"font-size: 13px; font-weight: 300\" v-show=\"is_agent_typing\">\n                Support Agent is typing\n              </p>\n              <p\n                style=\"font-size: 13px; font-weight: 300; margin-left: 5%\"\n                v-show=\"!is_agent_typing\"\n              >\n                typing\n              </p>\n              <span></span>\n              <span></span>\n              <span></span>\n            </div>\n            <span class=\"powered-by\">\n              Powered by &nbsp;\n              <img src=\"/img/cense_image.png\" style=\"height: 20px\" />\n            </span>\n          </div>\n          <div class=\"chat-txt\">\n            <div class=\"input-group mb-0\">\n              <input\n                :id=\"isexchange ? 'response_bot_text' : ''\"\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"to_send\"\n                @keyup.enter=\"send_message\"\n                :disabled=\"input_disabled\"\n                placeholder=\"Type your message here ...\"\n              />\n          <div class=\"pr-2 pl-2\" title=\"Stop chat\" style=\"background-color: #fff;\" v-if=\"live_chat_on\">\n          <a href=\"javascript:void(0)\" @click=\"disconnect_support_chat\" id=\"stop-chat-button\"\n          ><i class=\"fas fa-ban pt-2\" style=\"font-size: 22px;\"></i></a>\n        </div>\n\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn voice-button\"\n                  type=\"button\"\n                  @click=\"voice_communication\"\n                  :disabled=\"input_disabled\"\n                >\n                  <i class=\"fa fa-microphone\" id=\"microphone\"></i>\n                </button>\n              </div>\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn\"\n                  type=\"button\"\n                  :id=\"isexchange ? 'button_addon2' : 'send_btn'\"\n                  @click=\"send_message\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    id=\"send_button\"\n                    style=\"fill: #8a8a8a63\"\n                    width=\"40\"\n                    height=\"25\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n      id=\"notifyemail\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n      >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Out of Stock products</h3>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div>\n              <!-- <div class=\"col-sm-12 d-flex p-0\"> -->\n              <div\n                class=\"p-0\"\n                style=\"overflow-y: auto\"\n              >\n              <label>Please check the products regarding which you want notification</label>\n                <div class=\"table-box\">\n                  <div class=\"table-responsive\">\n                    <table class=\"table\">\n                      <thead>\n                        <tr>\n                          <th scope=\"col\">\n                            <div class=\"form-check checkbox checkbox-success\">\n                              <label class=\"form-check-label\">\n                                <input\n                                  class=\"form-check-input\"\n                                  id=\"selectall\"\n                                  type=\"checkbox\"\n                                  @change=\"selected_product('all')\"\n                                />\n                                <span class=\"icn\"></span>\n                              </label>\n                            </div>\n                          </th>\n                          <th\n                            scope=\"col\"\n                            class=\"text-left\"\n                            style=\"\n                              font: normal normal normal 16px/22px Roboto;\n                              letter-spacing: 0px;\n                              color: #414141;\n                              border-left: 0;\n                            \"\n                          >\n                            Select All\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr>\n                        <tr\n                          v-for=\"(product, index) in product_out_of_stock_list\"\n                          :key=\"index\"\n                          :class=\"check_current_product_active(index)\"\n                        >\n                          <th scope=\"col\">\n                            <div class=\"form-check checkbox checkbox-success\">\n                              <label class=\"form-check-label\">\n                                <input\n                                  class=\"form-check-input\"\n                                  type=\"checkbox\"\n                                  :id=\"'product_checkbox_'+product.product_id\"\n                                  @change=\"\n                                    selected_product(product)\n                                  \"\n                                />\n                                <span class=\"icn\"></span>\n                              </label>\n                            </div>\n                          </th>\n                          <td\n                           @click=\"show_product(index)\"\n                            :title=\"product.product_title\"\n                          >\n                            <template>\n                              <p style=\"margin-bottom: 0\">\n                                {{ product.product_title }} {{product.variant_title}}\n                              </p>\n                            </template>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n                <hr>\n              <!-- </div> -->\n              <!-- <div class=\"col-sm-6 dash-modal\" style=\"margin-top: 25%; text-align: center; justify-content: center;\"> -->\n                <div class=\"form-group\">\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                style=\"border: 1px solid #ced4da;\n                border-radius: .25rem; fon-size: 16px;\"\n                v-model=\"customer_email\"\n                placeholder=\"Enter Your Email Id\"\n              />\n            </div>\n            <div style=\"text-align: center;\">\n            <button\n                type=\"submit\"\n                class=\"darkblue-btn\"\n                id=\"res_n_int_save\"\n                @click=\"submit_out_of_stock_products()\"\n              >\n                Notify me\n            </button>\n            </div>\n              </div>\n            <!-- </div> -->\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      id=\"ordernotesmodel\"\n      class=\"modal fade dash-modal\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n      data-keyboard=\"false\"\n      >\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <div class=\"modal-head d-flex align-items-center\">\n              <div class=\"head-icn\">\n                <img src=\"/img/msg-blue.png\" alt />\n              </div>\n              <h3>Notes for Order No. {{selected_order_name}}</h3>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\n                <img src=\"/img/close-icn.png\" alt />\n              </button>\n            </div>\n            <div v-if=\"order_notes_data.length > 0\">\n            <div v-for=\"(note ,index) in order_notes_data\"\n            :key=\"index\">\n              <ul style=\"list-style-type: disc;\">\n                <li><p> <strong>{{note.date_created}}</strong>  : {{note.note}}</p></li>\n              </ul>\n            </div>\n            </div>\n            <div v-else>\n              <p>No updates</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport fingerprint from \"@/portal/components/fingerprint\";\nimport { bus } from \"@/portal/main\";\nimport { setTimeout } from \"timers\";\nimport Multiselect from \"vue-multiselect\";\nimport VideoViewer from \"@/portal/components/Response Bot/VideoViewer.vue\";\nimport debounce from \"vue-debounce/dist/debounce.min.js\";\n// import { Socket } from \"phoenix-socket\";\nimport { Socket, Presence } from \"phoenix\";\nimport StarRating from 'vue-star-rating';\nimport {\n  voicerecorder,\n  start_voice_communication,\n  foreignxchange_custom,\n  generate_time,\n} from \"@/portal/mixins\";\nimport moment from \"moment\";\nimport swal from \"sweetalert2\";\nimport CenseCart from './CenseCart.vue';\nimport VueNumericInput from 'vue-numeric-input';\nimport sound from \"@/portal/assets/audio/mixkit-add-to-cart.wav\";\nimport \"@/portal/assets/js/shopify.min.js\"\nexport default {\n  name: \"response-bot\",\n  components: {\n    Multiselect,\n    VideoViewer,\n    StarRating,\n    CenseCart,\n    VueNumericInput,\n  },\n  mixins: [\n    voicerecorder,\n    start_voice_communication,\n    foreignxchange_custom,\n    generate_time,\n  ],\n  data() {\n    return {\n      companyid: this.$session.get(\"UserInformation\").company_id,\n      companyname: this.$session.get(\"UserInformation\").company_name,\n      popup_msg:\n        \"You can type Restart  at </br>any  time to get back</br> to the Main Menu\",\n      refreshed_or_closed: true,\n      qus_ans: \"answers\",\n      to_send: \"\",\n      cense_enquiry: false,\n      is_agent_typing: false,\n      user_name: \"\",\n      show: false,\n      chat: [],\n      fingerprint: null,\n      bot_response_token_value: this.$session.get(\"BotToken\"),\n      level: 0,\n      recognition: null,\n      json_data: {\n        create_appointment:\n          '{\"User\": {\"Physician\": {\"ID\": \"DT000000000000000237\"},\"UserName\":\"ac\",\"ID\":\"US000000000000000138\",\"Account\": {\"ID\": \"CO00023\"},\"Token\": \"Z1rSGGm0XpMWjt3giAErPPWZ84TQN9FsFMBLsU+/LAu6yualMg6EP2bsrwZjLPwm3j4DpPcGc5LcIp3NjgfUsA==\",\"Specialty\": {\"ID\": \"PG000000000000000141\", \"Name\": \"AC\", \"Code\": \"AC\"},\"Domain\": \"gogreenbills.com\"},\"Appointment\": {\"Date\": \"08/30/2018\", \"IsJSONNote\": 0, \"Patient\": {\"CaseID\": \"\"}}}',\n        visits_finalized:\n          '{\"User\": {\"Physician\": {\"ID\": \"DT000000000000011886\"},\"UserName\": \"ch\",\"ID\": \"US000000000000000143\",\"Account\":{\"ID\":\"CO00023\"},\"Token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjoiYXZkaHV0IiwiZXhwIjoxNTI5NDgyNjYzfQ.v1c0HbuWuZXXpJfDrXVc1HPVuffbnGcLqkpg0zm6AoQ\",\"Specialty\": {\"ID\": \"PG000000000000000142\",\"Code\": \"ch\"},\"Domain\": \"greenyourbills.com\"},\"SearchParameters\": {\"Status\": \"\",\"OrderBy\": \"\",\"FromDate\": \"01/01/2018\",\"Count\": \"10\",\"SearchText\": \"\",\"TypeOfVisit\": \"ALL\",\"SortOrder\": \"appointment\",\"StartIndex\": \"1\",\"EndIndex\": \"10\",\"ToDate\": \"08/06/2018\"}}',\n        appointments_count:\n          '{\"User\": {\"Physician\": {\"ID\": \"DT000000000000011886\"},\"UserName\": \"ch\",\"ID\": \"US000000000000000143\",\"Account\":{\"ID\":\"CO00023\"},\"Token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjoiYXZkaHV0IiwiZXhwIjoxNTI5NDgyNjYzfQ.v1c0HbuWuZXXpJfDrXVc1HPVuffbnGcLqkpg0zm6AoQ\",\"Specialty\": {\"ID\": \"PG000000000000000142\",\"Code\": \"ch\"},\"Domain\": \"greenyourbills.com\"},\"SearchParameters\": {\"Status\": \"\",\"OrderBy\": \"\",\"FromDate\": \"01/01/2018\",\"Count\": \"10\",\"SearchText\": \"\",\"TypeOfVisit\": \"ALL\",\"SortOrder\": \"appointment\",\"StartIndex\": \"1\",\"EndIndex\": \"10\",\"ToDate\": \"08/06/2018\"}}',\n        create_ticket:\n          '{\"AccountName\":null,\"CallbackPhone\":\"\",\"CompanyID\":\"CO00023\",\"Description\":\"De\",\"DomainName\":null,\"EmailCC\":\"abhay.w@codearray.tech\",\"EmailDefault\":\"manish.y@codearray.tech\",\"Priority\":\"3\",\"PriorityID\":0,\"RaisedBy\":\"lawuser\",\"Status\":0,\"StatusCode\":null,\"StatusText\":null,\"SType\":\"WP\",\"Subject\":\"De\",\"SubType\":\"SAMD-P\",\"TicketID\":0,\"TicketNumber\":null,\"Type\":0,\"TypeText\":\"Website Problem\",\"listFiles1\":[\"chq1.pdf\"]}',\n        get_report: '{\"companyId\": \"CO00023\"}',\n      },\n      stop: true,\n      demourlbind: false,\n      reviewsurlbind: false,\n      reviewsurl: \"https://www.youtube.com/embed/paAeW86eQZ4\",\n      demourl: [\n        \"https://www.youtube.com/embed/videoseries?KcrJm9UxW3s&index=13&list=PL_jXlih8dgkTE8CrPpiWcA9KxQeKHZAnt&t=0s\",\n        \"https://www.youtube.com/embed/videoseries?qzS2qINI6IM&list=PL_jXlih8dgkRu5ddGXAGqZ4uLLkoJzCj8&index=2\",\n      ],\n      chat_widget: {\n        logo: \"\",\n        title: \"\",\n        style: \"\",\n        bot_theme: \"\",\n        button_theme: \"\",\n        button_alignment: \"\",\n        bot_icon: \"\",\n        bot_background_image: \"\",\n        button_horizontal_spacing: \"3\",\n        button_vertical_spacing: \"5\",\n        header_background: \"\",\n        bot_font_style: \"\",\n        bot_font_color_sender: \"\",\n        bot_font_color_receiver: \"\",\n        bot_font_color_buttons: \"\",\n      },\n      selected_date: \"\",\n      selected_time: \"\",\n      reason_of_visit: \"\",\n      patient_name: \"\",\n      visitor_number: \"\",\n      full_time_slots: [],\n      time_slots: [],\n      TODAY_DATE: \"\",\n      channel: null,\n      chat_socket: null,\n      voice_socket: null,\n      live_chat_on: false,\n      live_chat_token: null,\n      chat_group_name: null,\n      to_scroll: false,\n      form_payload: null,\n      phone_number_validity: /[0-9]{10,11}$/,\n      // url_match_regex: /\\b(https?|ftp):\\/\\/([\\S])+\\.((pdf|csv|xlsx))([\\w?=]+)/g,\n      url_match_regex: /^https?:\\/\\/.*[\\\\\\/].+\\.[(pdf|csv|xlsx)]{2,4}/,\n      // harsh\n      isexchange: false,\n      isretailigence: false,\n      currencyexchange_list: null,\n      selected_indication: [],\n      welcome_message_not_yet_received: true,\n      res: {},\n      is_typing_indicator_on: false,\n      thumbs_up_icon: require(\"@/portal/assets/img/Group 7.svg\"),\n      thumbs_down_icon: require(\"@/portal/assets/img/Group 6.svg\"),\n      shopify_ui: null,\n      shopify_customer_id: null,\n      // refund_order_view_details: {},\n      // refund_selected_items: [],\n      shopify_retail_shop_name: null,\n      shop_url: null,\n      is_retail_bot: false,\n      shopify_reason_for_refund: null,\n      show_shopify_reason_for_refund_error: false,\n      support_channel: null,\n      is_support_agent_present: false,\n      retail_shop_storefront_token: null,\n      retail_order_retreival_only_email_required: false,\n      retail_shop_currency: null,\n      product_list: [],\n      product_out_of_stock_list: [],\n      checked_list: [],\n      current_product: \"\",\n      customer_email: \"\",\n      is_sender_email: false,\n      reg_email: /^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,\n      scrollPosition: 0,\n      visible_custom_greetings_buttom:false,\n      review_message_first:'',\n      review_message_second:'',\n      review_response_message:'',\n      display_products:false,\n      retail_web_framework: \"\",\n      is_cense_cart: false,\n      show_custom_cart: false,\n      addtoCartdata: [],\n      total_products_qty: 0,\n      over_qty_warning: false,\n      contact_help_email: null,\n      shopify_reason_for_refund_list: null,\n      shopify_reason_for_refund_option:[\n        'Ordered by mistake',\n        'Ordered wrong product',\n        'Order not Received',\n        'No longer needed',\n        'Better price available',\n        'Received damaged products',\n        'Others'\n      ],\n      order_notes_data: [],\n      selected_order_name: \"\",\n      is_woocommerce_order: false,\n      visitors_current_location: null,\n      is_display_banner_on_landing: false,\n      visitors_current_location_url: `https://ipgeolocation.abstractapi.com/v1/?api_key=${process.env.VUE_APP_CURRENT_LOCATION_TOKEN}`,\n      greeting_buttons_position: null\n    };\n  },\n  props: {\n    isPreviewBot: Boolean,\n    isDialogBot: Boolean,\n    current_preview_banner_id: String,\n    isTextToBot: {\n      type: Boolean,\n      default: true,\n    },\n    isCalledFromSetup: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    custom_greetings_buttom_alignment(){\n      if(this.is_retail_bot){\n        return \"col-sm-10 px-0\";\n      }else{\n        return \"col-sm-12 px-0\";\n      }\n    },\n    cart_button_alignment(){\n    if(this.is_retail_bot){\n        return \"col-sm-2 px-0\";\n      }else{\n        return null;\n      }\n    },\n    input_disabled() {\n      return this.refreshed_or_closed || this.welcome_message_not_yet_received;\n    },\n    cssProps() {\n      let botAttributes = {\n        head_color: this.chat_widget.header_background,\n      };\n      if (this.companyid === \"retailigence84926\") {\n        botAttributes.head_color = this.chat_widget.bot_theme;\n      } else if (this.isexchange) {\n        return {\n          \"--bot-head-color\": \"#fff\",\n          \"--bot-sender-color\": \"#2b3184\",\n          \"--bot-button-color\": \"#fdcf38\",\n          \"--bot-link-color\": \"#2b3184\",\n          \"--bot-button-background\": \"#1daae1\",\n          \"--bot-buttons-alignment\": \"center\",\n          \"--bot-buttons-vertical-spacing\": \"5%\",\n          \"--bot-buttons-horizontal-spacing\": \"3%\",\n        };\n      }\n      return {\n        \"--bot-head-color\": botAttributes.head_color,\n        \"--bot-sender-color\": this.chat_widget.bot_theme,\n        \"--bot-button-color\": this.chat_widget.bot_theme,\n        \"--bot-link-color\": this.chat_widget.bot_theme,\n        \"--bot-button-background\": this.chat_widget.button_theme,\n        \"--bot-buttons-alignment\": this.chat_widget.button_alignment.value,\n        \"--bot-buttons-vertical-spacing\": `${this.chat_widget.button_vertical_spacing}%`,\n        \"--bot-buttons-horizontal-spacing\": `${this.chat_widget.button_horizontal_spacing}%`,\n        \"--bot-font-style\": this.chat_widget.bot_font_style.value,\n        \"--bot-font-color-sender\": this.chat_widget.bot_font_color_sender,\n        \"--bot-font-color-receiver\": this.chat_widget.bot_font_color_receiver,\n        \"--bot-font-color-buttons\": this.chat_widget.bot_font_color_buttons,\n      };\n    },\n    bot_img_icon() {\n      return {\n        \"background-image\": `url(${this.chat_widget.bot_icon})`,\n      };\n    },\n    chat_bot_background_image() {\n      return {\n        \"background-image\": `url(${this.chat_widget.bot_background_image})`,\n      };\n    },\n    shopify_login_button_text() {\n      if (this.retail_order_retreival_only_email_required) {\n        return \"Go\";\n      }\n      return \"Login\";\n    },\n  },\n  watch: {\n    scrollPosition(){\n      if(this.scrollPosition > 150){\n        this.visible_custom_greetings_buttom = true;\n      }else if(this.scrollPosition < 150){\n        this.visible_custom_greetings_buttom = false;\n      }\n    },\n    to_send() {\n      this.button_fill();\n    },\n    chat() {\n      this.scroll_down();\n    },\n  },\n  beforeCreated(){\n    let route_params = this.$route.params;\n    if (route_params.reload === true) {\n      this.$router.go();\n    }\n  },\n  created() {\n    this.load_widget_settings();\n    let bot_templates_data = this.$session.get(\"BotTemplates\");\n    for (let i = 0; i < bot_templates_data.length; i++) {\n      if (\n        bot_templates_data[i].domain === \"Retail\" &&\n        bot_templates_data[i].subscribed === true\n      ) {\n        this.is_retail_bot = true;\n        break;\n      }\n    }\n    if (this.$session.has(\"BotResponse_Conversation\")) {\n      // this.chat = this.$session.get(\"BotResponse_Conversation\");\n    }\n    // if (!this.$session.has(\"ChatBotImageParameters\")) {\n    // } else {\n    //   this.chat_widget = this.$session.get(\"ChatBotImageParameters\");\n    //   this.chat_widget.style = \"margin-top: 5px;height:30px;width:auto;margin-left: auto;margin-right: 0;\";\n    // }\n    if (!this.isPreviewBot) {\n      if (!this.$session.has(\"BotToken\")) {\n        axios\n          .post(api_calls.bot_response_token(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            username: this.$session.get(\"UserInformation\").email,\n          })\n          .then((response) => {\n            this.$session.set(\"BotToken\", response.data);\n            this.bot_response_token_value = response.data;\n            this.refresh_chatbot();\n          });\n      } else {\n        this.bot_response_token_value = this.$session.get(\"BotToken\");\n        this.refresh_chatbot();\n      }\n    }\n    // harsh\n    if (\n      this.$session.get(\"UserInformation\").license_key ==\n      \".eJxTcssvSs1Mz6tIzkjMS081NDexNIQKKUDFMkpKCoqt9PXLy8v10lBU6yXn5-olluobGRha6hqY6xqYKBgaWBkZW5ma6hmbm5gYmSoBAGa9Hp0.XR3Tuw.X77F_7LDtOLp2Vt9snFDSo31nTw\"\n    ) {\n      this.isexchange = true;\n    } else if (this.companyid == \"retailigence84926\") {\n      this.isretailigence = true;\n    }\n    var d = new Date();\n    axios\n      .post(api_calls.bot_user_data(), {\n        license_key: this.$session.get(\"UserInformation\").license_key,\n        tz: Intl.DateTimeFormat().resolvedOptions().timeZone,\n        datetime: d.toISOString(),\n        token: this.bot_response_token_value,\n        username: this.$session.get(\"UserInformation\").email,\n        source: \"Web\",\n        token: this.bot_response_token_value,\n        role: this.$session.get(\"UserInformation\").role,\n      })\n      .then((response) => {});\n\n    axios\n      .post(\n        api_calls.product_settings(),\n        {\n          company_name: this.companyname,\n          company_id: this.companyid,\n          is_email_verification_status: true,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.$session.get(\"at\")}`,\n          },\n        }\n      )\n      .then((response) => {\n        this.big_spinner = false;\n        if (\n          response.data != \"\" &&\n          response.data != null &&\n          response.data != \"Internal server Error\"\n        ) {\n          var status = response.data.verification_status;\n          if (status == \"Success\") {\n            this.is_sender_email = true;\n          } else {\n            this.is_sender_email = false;\n          }\n        } else {\n          this.is_sender_email = false;\n        }\n      })\n      .catch((e) => {\n        this.big_spinner = false;\n        if (\n          e.response.status === 410 ||\n          e.response.status === 440 ||\n          e.response.status === 409\n        ) {\n          this.$root.$emit(\"Session_Expired\", e.response.data);\n        }\n      });\n  },\n  beforeDestroy() {\n    this.$forceUpdate();\n  },\n  mounted() {\n    var vm = this;\n    document.addEventListener('scroll', function (ev) {\n      if (ev.target.id === 'portal_chat_body_id'){\n        vm.scrollPosition = ev.target[\"scrollTop\"]\n      }\n    }, true)\n    // let recaptchaScript = document.createElement('script')\n    // recaptchaScript.setAttribute('src', 'https://sdks.shopifycdn.com/buy-button/latest/buybutton.js')\n    // document.head.appendChild(recaptchaScript)\n    // const plugin = document.createElement(\"script\");\n    // plugin.setAttribute(\n    //   \"src\",\n    //   \"https://sdks.shopifycdn.com/buy-button/latest/buybutton.js\"\n    // );\n    // plugin.async = true;\n    // document.head.appendChild(plugin);\n    this.show = false;\n    if (this.$route.name == \"Train the Bot\") {\n      $(\".chat-wrap\").css(\"right\", \"auto\");\n    }\n    if (this.$route.name == \"Direct Response Bot\") {\n      $(\".chat-wrap\").css(\"marginTop\", \"5%\");\n    }\n    window.SpeechRecognition =\n      window.webkitSpeechRecognition || window.SpeechRecognition;\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    navigator.getUserMedia =\n      navigator.getUserMedia ||\n      navigator.webkitGetUserMedia ||\n      navigator.mozGetUserMedia ||\n      navigator.msGetUserMedia;\n\n    document.addEventListener(\"click\", someListener);\n\n    function someListener(event) {\n      let element = event.target;\n      if (\n        (element.tagName == \"I\" || element.tagName == \"A\") &&\n        element.classList.contains(\"fa-clipboard\")\n      ) {\n        var msg = element.getAttribute(\"data-copy-content\");\n        var temp = document.createElement(\"textarea\");\n        var tempMsg = document.createTextNode(msg);\n        temp.appendChild(tempMsg);\n\n        document.body.appendChild(temp);\n        temp.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(temp);\n      }\n    }\n    this.$root.$emit(\"change_sidebar_main_menu\", \"Simulate Interaction\");\n\n    //To hide cense cart if clicked outside\n    document.onclick = function(e){\n      if((e.target).closest(\"#cart-box\") || (e.target).closest(\"#custom-cart\")){\n      }else{\n        vm.is_cense_cart = false;\n      }\n    };\n  },\n  updated() {\n    this.submit_custom_form();\n  },\n  methods: {\n    load_widget_settings(){\n      axios\n        .post(\n          api_calls.get_widget_settings(),\n          {\n            companyname: this.companyname,\n            companyid: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            isShow: true,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          this.chat_widget.title = response.data.WidgetTitle;\n          this.chat_widget.logo = response.data.ImageUrl;\n          this.chat_widget.button_theme = response.data.ButtonTheme;\n          this.chat_widget.bot_font_style = response.data.BotFont.FontStyle;\n          this.chat_widget.bot_font_color_sender = response.data.BotFont.FontColorSender;\n          this.chat_widget.bot_font_color_receiver = response.data.BotFont.FontColorReceiver;\n          this.chat_widget.bot_font_color_buttons = response.data.BotFont.FontColorButtons;\n          this.chat_widget.bot_theme = response.data.BotTheme;\n          this.chat_widget.button_alignment = response.data.BotStyling;\n          this.chat_widget.bot_icon = response.data.BotImageUrl;\n          this.chat_widget.button_vertical_spacing =\n            response.data.ButtonStyling.vertical;\n          this.chat_widget.button_horizontal_spacing =\n            response.data.ButtonStyling.horizontal;\n          this.chat_widget.bot_background_image = response.data.BgImageUrl;\n          this.chat_widget.header_background = response.data.HeaderTheme;\n          if (response.data.BotGreetings.data.responses.length > 0) {\n            let is_visible_greetings = response.data.BotGreetings.data.responses.map(item => {\n              return (item.visible !== undefined) ? item.visible : true\n            });\n            if(is_visible_greetings.includes(true)){\n              this.greeting_buttons_position = response.data.BotGreetings.data.responses.length -1;\n              if (Boolean(response.data.BotGreetings.data.responses[this.greeting_buttons_position]['buttons'])){\n                var visible_buttons = response.data.BotGreetings.data.responses[this.greeting_buttons_position]['buttons'];\n                visible_buttons = visible_buttons.filter((button)=>{\n                  return button['visible'] === true;\n                });\n                response.data.BotGreetings.data.responses[this.greeting_buttons_position]['buttons'] = visible_buttons;\n                // console.log(visible_buttons);\n              }\n              const visible_greetings_map = is_visible_greetings.reduce((acc, e) => acc.set(e, (acc.get(e) || 0) + 1), new Map());\n              // console.log(visible_greetings_map);\n              // console.log(visible_greetings_map.get(true));\n              let splice_index = [];\n              if((visible_greetings_map.get(true) !== response.data.BotGreetings.data.responses.length) && visible_buttons.length > 0){\n                // console.log('inside 1973');\n                // console.log(response.data.BotGreetings.data.responses);\n                if(response.data.BotGreetings.data.responses[this.greeting_buttons_position].visible === false){\n                  // console.log(\"if 1976\");\n                  try {\n                    \n                  \n                  for(let i = response.data.BotGreetings.data.responses.length-1; i >= 0; i--){\n                    // console.log(i,response.data.BotGreetings.data.responses[i].visible);\n                    if(response.data.BotGreetings.data.responses[i].visible === false){\n                      // console.log(response.data.BotGreetings.data.responses[i-1]);\n                      response.data.BotGreetings.data.responses[(i-1 < 0) ? i : i-1]['buttons'] = visible_buttons;\n                      this.greeting_buttons_position = (i-1 < 0) ? i : i-1;\n                      splice_index.push(i)\n                    } \n                  }\n                  // console.log(response.data.BotGreetings.data.responses);\n                  } catch (error) {\n                    console.log(error);\n                  }\n                  \n                } else {\n                  // console.log(\"else 1987\");\n                  for(let i = response.data.BotGreetings.data.responses.length-1; i >= 0; i--){\n                    if(response.data.BotGreetings.data.responses[i].visible === false){\n                      splice_index.push(i)\n                    }\n                  }\n                }\n                // console.log(1995, splice_index);\n                for (let index = 0; index < splice_index.length; index++) {\n                  response.data.BotGreetings.data.responses.splice(splice_index[index],1);\n                }\n\n              }\n              this.push_msg(\n                response.data.BotGreetings,\n                response.data.BotGreetings.data.responses\n              );\n            }\n          }else {\n            if (this.is_retail_bot) {\n              this.load_chatbot_integration_details();\n            }\n          }\n          if (this.chat_widget.button_alignment === undefined) {\n            this.chat_widget.button_alignment = \"flex-end\";\n          }\n          if (this.chat_widget.bot_icon === undefined) {\n            this.chat_widget.bot_icon = \"/img/Bot_img.png\";\n          }\n          this.$session.set(\"ChatBotImageParameters\", this.chat_widget);\n          let styling_value = response.data.HeaderStyling.value;\n          let temp_string = \"\";\n          if (styling_value === \"left\") {\n            temp_string = \"margin-left: 0;margin-right: auto;\";\n          } else if (styling_value === \"right\") {\n            temp_string = \"margin-left: auto;margin-right: 0;\";\n          } else if (styling_value === \"center\") {\n            temp_string = \"margin-left: auto;margin-right: auto;\";\n          } else {\n            temp_string = \"margin-left: auto;margin-right: auto;\";\n          }\n          this.chat_widget.style =\n            \"margin-top: 5px;height:30px;width:auto;max-width:100% !important;\" +\n            temp_string;\n        })\n        .catch((e) => {\n          if (this.is_retail_bot) {\n            this.load_chatbot_integration_details();\n          }\n          if (e.response) {\n            if (\n              e.response.status === 410 ||\n              e.response.status === 440 ||\n              e.response.status === 409\n            ) {\n              this.$root.$emit(\"Session_Expired\", e.response.data);\n            }\n          } else {\n            if (this.$session.get(\"UserInformation\").company_name == \"gogyb\") {\n              this.chat_widget.style =\n                \"margin-top: 5px;height:30px;width:60px;margin-left: auto;margin-right: auto;\";\n              this.chat_widget.logo = \"/img/cense_image.png\";\n              this.chat_widget.bot_icon = \"/img/Bot_img.png\";\n              this.chat_widget.button_vertical_spacing = \"5\";\n              this.chat_widget.button_horizontal_spacing = \"3\";\n              this.chat_widget.bot_background_image = \"\";\n              this.chat_widget.header_background = \"#ffffff\";\n              this.chat_widget.button_theme = \"#1daae1\";\n              this.chat_widget.bot_theme = \"#273679\";\n            } else if (\n              this.$session.get(\"UserInformation\").company_name == \"MT Care\"\n            ) {\n              this.chat_widget.logo = \"/img/robomate_logo.png\";\n              this.chat_widget.style =\n                \"margin-top: 5px;height:50px;width:95px;margin-left: auto;margin-right: auto;\";\n              this.chat_widget.bot_icon = \"/img/Bot_img.png\";\n              this.chat_widget.button_vertical_spacing = \"5\";\n              this.chat_widget.button_horizontal_spacing = \"3\";\n              this.chat_widget.bot_background_image = \"\";\n              this.chat_widget.header_background = \"#ffffff\";\n              this.chat_widget.button_theme = \"#1daae1\";\n              this.chat_widget.bot_theme = \"#273679\";\n            } else {\n              this.chat_widget.logo = \"/img/cense_image.png\";\n              this.chat_widget.style =\n                \"margin-top: 5px;height:30px;width:60px;margin-left: auto;margin-right: auto;\";\n              this.chat_widget.bot_icon = \"/img/Bot_img.png\";\n              this.chat_widget.button_vertical_spacing = \"5\";\n              this.chat_widget.button_horizontal_spacing = \"3\";\n              this.chat_widget.bot_background_image = \"\";\n              this.chat_widget.header_background = \"#ffffff\";\n              this.chat_widget.button_theme = \"#1daae1\";\n              this.chat_widget.bot_theme = \"#273679\";\n              this.chat_widget.bot_font_style = 'Roboto';\n              this.chat_widget.bot_font_color_sender = '#ffffff';\n              this.chat_widget.bot_font_color_receiver = '#000000';\n              this.chat_widget.bot_font_color_buttons = '#ffffff';\n            }\n            this.$session.set(\"ChatBotImageParameters\", this.chat_widget);\n          }\n        });\n    },\n    load_chatbot_integration_details(){\n      axios\n        .post(\n          api_calls.chatbot_integration_details(),\n          {\n            is_get: true,\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          if (response.data.status === \"success\") {\n            this.chatbot_integration_details_response(response);\n          }\n        })\n        .catch((e) => {\n          // this.shopify_retail_shop_name = \"earthon\";\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n            setTimeout(() => {\n              axios\n                .post(\n                  api_calls.chatbot_integration_details(),\n                  {\n                    is_get: true,\n                    company_name: this.companyname,\n                    company_id: this.companyid,\n                    email: this.$session.get(\"UserInformation\").email,\n                    license_key: this.$session.get(\"UserInformation\")\n                      .license_key,\n                    token: this.$session.get(\"UserInformation\").tokens,\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  if (response.data.status === \"success\") {\n                    this.chatbot_integration_details_response(response);\n                  }\n                });\n            }, 1000);\n          }\n        });\n    },\n    chatbot_integration_details_response(response){\n      this.retail_web_framework = response.data.data.retail_web_framework;\n      var webframework = response.data.data[this.retail_web_framework + '_details'];\n      this.show_custom_cart = this.retail_web_framework != null ? true : false;\n      if(webframework !== null &&\n        webframework !== {}){\n        this.retail_shop_currency = webframework.base_currency.value || \"USD\";\n        this.retail_order_retreival_only_email_required = webframework.order_retrieval_only_email_required || false;\n        this.contact_help_email = webframework.contact_help_email;\n        this.review_response_message = webframework.review_response_message;\n        this.review_message_first = webframework.review_message_first;\n        this.review_message_second = webframework.review_message_second;\n        this.display_products = webframework.display_products_on_landing;\n        this.is_display_banner_on_landing = webframework.is_display_banner_on_landing;\n        if(this.retail_web_framework == \"shopify\"){\n          this.shopify_retail_shop_name = webframework.shopify_shop_name;\n        }else{\n          this.shop_url = webframework[this.retail_web_framework + '_shop_url'];\n        }\n      }\n      // setTimeout(() => {\n        if(!this.isPreviewBot){\n          this.get_visitors_current_location();\n        }else if(Boolean(this.current_preview_banner_id)){\n          this.preview_banner();\n        }\n      // }, 3000);\n    },\n    contact_us_phone_number(phone_number){\n      if(Boolean(phone_number)){\n        return \" or call us at: \" + phone_number;\n      }else{\n        return '';\n      }\n    },\n    update_variation(chat_id, product_index, title){\n      for(var i in this.chat[chat_id].products_list[product_index].variations){\n        if (this.chat[chat_id].products_list[product_index].variations[i].variant_title == title){\n          this.chat[chat_id].products_list[product_index].img_url = (this.chat[chat_id].products_list[product_index].variations[i].img_url);\n          this.chat[chat_id].products_list[product_index].id = this.chat[chat_id].products_list[product_index].variations[i].id;\n          this.chat[chat_id].products_list[product_index].permalink = this.chat[chat_id].products_list[product_index].variations[i].permalink;\n          this.chat[chat_id].products_list[product_index].price = this.chat[chat_id].products_list[product_index].variations[i].price;\n          this.chat[chat_id].products_list[product_index].regular_price = this.chat[chat_id].products_list[product_index].variations[i].regular_price;\n          this.chat[chat_id].products_list[product_index].stock_quantity = this.chat[chat_id].products_list[product_index].variations[i].stock_quantity;\n          this.chat[chat_id].products_list[product_index].stock_status = this.chat[chat_id].products_list[product_index].variations[i].stock_status;\n          this.chat[chat_id].products_list[product_index].variant_title = this.chat[chat_id].products_list[product_index].variations[i].variant_title;\n        }\n      }\n      // const found = this.chat[chat_id].products_list[product_index].variations.some(el => el.variant_title == \"Default\");\n      // if (!found) this.chat[chat_id].products_list[product_index].variations.push(default_values);\n    },\n    get_visitors_current_location(){\n      if(this.is_display_banner_on_landing === true){\n        let cutoff = new Date;\n        var date_time = moment.utc(cutoff, [\n              \"YYYY-MM-DD HH:mm:ss\",\n            ]).format(\"YYYY-MM-DD HH:mm:ss\")\n        var vm = this;\n        $.getJSON(vm.visitors_current_location_url, function(data) {\n          if(data){\n            vm.visitors_current_location = {\n              \"ip_address\" : data.ip_address,\n              \"city\" : data.city,\n              \"city_geoname_id\" : data.city_geoname_id,\n              \"region\" : data.region,\n              \"region_iso_code\" : data.region_iso_code,\n              \"region_geoname_id\" : data.region_geoname_id,\n              \"postal_code\" : data.postal_code,\n              \"country\" : data.country,\n              \"country_code\" : data.country_code,\n              \"country_geoname_id\" : data.country_geoname_id,\n              \"country_is_eu\" : data.country_is_eu,\n              \"continent\" : data.continent,\n              \"continent_code\" : data.continent_code,\n              \"continent_geoname_id\" : data.continent_geoname_id,\n              \"longitude\" : data.longitude,\n              \"latitude\" : data.latitude,\n              \"security\" : data.security,\n              \"date_time\" : date_time,\n            }\n            vm.is_display_banner();\n          }else{\n            vm.is_display_products();\n          }\n        }).error(function() { \n          vm.is_display_products();\n        });\n      }else{\n        this.is_display_products();\n      }\n    },\n    preview_banner(){\n      axios\n        .post(\n          api_calls.banner_template(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.$session.get(\"UserInformation\").tokens,\n            subscription: this.$session.get(\"UserInformation\").subscription,\n            is_preview_banner: true,\n            banner_id: this.current_preview_banner_id,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then((response) => {\n          if (response.status == 200) {\n            if(Boolean(response.data.responses.length > 0)){\n              this.response_handling(response);\n            }\n          }\n        })\n        .catch((e) => {\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    is_display_banner(){\n      axios\n        .get(api_calls.banner_template(),{\n          params: {      \n            license_key: this.$session.get(\"UserInformation\").license_key,\n            username: this.$session.get(\"UserInformation\").email,\n            email: this.$session.get(\"UserInformation\").email,\n            token: this.bot_response_token_value,\n            is_display_banner: true,\n            visitors_current_location: this.visitors_current_location,\n            \n          },\n        })\n        .then((response) => {\n          if (response.status == 200) {\n            if(Boolean(response.data.responses.length > 0)){\n              this.response_handling(response);\n            }\n          }\n          this.is_display_products();\n        })\n        .catch((e) => {\n          this.is_display_products();\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    is_display_products(){\n      if(this.display_products === true){\n        axios\n        .post(api_calls.display_landing_products(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n        })\n        .then((response) => { \n          var products_count = response.data.responses[0].products.products_list.length;\n          if (products_count > 0){\n            this.response_handling(response);\n          }\n          this.is_review_rating();\n        })\n        .catch((e) => {\n          this.is_review_rating();\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n      }else{\n        this.is_review_rating();\n      }\n    },\n    check_shopify_customer_token_expiry() {\n      let cutoff = this.$session.get(\"shopify_customer_token_expiry\");\n      cutoff = moment(cutoff, [\"YYYY-MM-DDThh:mm:ssZ\"]);\n      var current_time = new Date(cutoff);\n      if (moment().isBefore(current_time)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    is_review_rating() {\n      if(Boolean(this.$session.get(\"shopify_customer_id\")) || Boolean(this.$session.get(\"shopify_customer_token\"))) {\n        let stringified_customer_payload = JSON.stringify({\n          customerId: this.$session.get(\"shopify_customer_id\"),\n          email: this.$session.get(\"shopify_customer_token\")\n        });\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: `/retrieve_customer_orders${stringified_customer_payload}`,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: false,\n          })\n          .then((response) => {\n            if(Boolean(response.data.responses[0].custom)){\n              if(Boolean(response.data.responses[0].custom.orders_list.length > 0)){\n                this.call_review_rating(response.data.responses[0].custom.orders_list);\n              }\n            }\n          }); \n      }\n    },\n    call_review_rating(data){\n      var fulfilled_orders = data.filter(fulfilled_order=>{\n        return fulfilled_order.fulfillment_status === \"fulfilled\";\n      });\n      var sorted_fulfilled_orders = fulfilled_orders.map(item=>{\n        return item.line_items.map(product=> {\n          return product;\n        });\n      });\n      axios\n        .post(\n          api_calls.product_review_rating(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            web_framework: this.retail_web_framework,\n            is_get_reviewed_product_id: true,\n            review_rating_customer_id: this.$session.get(\"shopify_customer_id\"),\n            review_rating_customer_email: this.$session.get(\"shopify_customer_token\")\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n          if(response.data.is_review === true){\n            var reviewed_product_details = [];\n            var not_reviewed_product_details = [];\n            var reviewed_product_id_list = response.data.product_id_list;\n            for (let i = 0; i < sorted_fulfilled_orders.length; i++){\n              for (let j = 0; j < sorted_fulfilled_orders[i].length; j++) {\n                if (reviewed_product_id_list.includes(sorted_fulfilled_orders[i][j].product_id)){\n                  reviewed_product_details.push(sorted_fulfilled_orders[i][j]);\n                }else{\n                  not_reviewed_product_details.push(sorted_fulfilled_orders[i][j]);\n                }\n              }\n            }\n            if(not_reviewed_product_details.length > 0 &&\n              Boolean(this.review_message_first) === true &&\n              Boolean(this.review_message_second) === true &&\n              Boolean(this.review_response_message) === true\n            ){\n              axios\n                .post(\n                  api_calls.product_review_rating(),\n                  {\n                    company_name: this.companyname,\n                    company_id: this.companyid,\n                    email: this.$session.get(\"UserInformation\").email,\n                    license_key: this.$session.get(\"UserInformation\").license_key,\n                    token: this.bot_response_token_value,\n                    username: this.$session.get(\"UserInformation\").email,\n                    web_framework: this.retail_web_framework,\n                    is_get_product_image: true,\n                    product_id: not_reviewed_product_details[0].product_id\n                  },\n                  {\n                    headers: {\n                      Authorization: `Bearer ${this.$session.get(\"at\")}`\n                    }\n                  }\n                )\n                .then(response => {\n                  if(response.data.MSG === 'Image Received Successfully'){\n                    var product_review_img_url = response.data.image_src;\n                    var msg = {\n                      is_review_rating_product: true,\n                      not_reviewed_product_details: not_reviewed_product_details[0],\n                      review_message_first: this.review_message_first,\n                      review_message_second: this.review_message_second,\n                      product_review_img_url: product_review_img_url,\n                      product_rating: null,\n                      product_review: '',\n                      time: this.generate_time(),\n                    };\n                    this.chat.push(msg);\n                    this.update_scrollbar(\"upto_end\", \"response\");\n                  }\n                });\n            }\n          }\n        })\n        .catch(e => {\n          toastr.error(\"Some Error Occurred.\");\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    submit_review_rating(index){\n      if (Boolean(this.chat[index].product_rating) === false){\n        swal({\n          text: \"Please give rating\",\n          toast: true,\n          showCancelButton: false,\n          showConfirmButton: false,\n          type: \"warning\",\n          position: \"top-end\",\n          timer: 5000,\n        });\n        return\n      }\n      if (Boolean(this.chat[index].product_review) === false){\n        swal({\n          text: \"Please write review\",\n          toast: true,\n          showCancelButton: false,\n          showConfirmButton: false,\n          type: \"warning\",\n          position: \"top-end\",\n          timer: 5000,\n        });\n        return\n      }\n      if (this.retail_web_framework == \"shopify\"){\n        var product_details = {\n          \"product_id\":this.chat[index].not_reviewed_product_details.product_id,\n          \"name\":this.chat[index].not_reviewed_product_details.name,\n          \"image_src\":this.chat[index].product_review_img_url,\n          \"price\":this.chat[index].not_reviewed_product_details.price,\n          \"quantity\":this.chat[index].not_reviewed_product_details.quantity,\n          \"variant_id\":this.chat[index].not_reviewed_product_details.variant_id,\n        }\n      }else if(this.retail_web_framework == \"woocommerce\"){\n        var product_details = {\n          \"product_id\":this.chat[index].not_reviewed_product_details.product_id,\n          \"name\":this.chat[index].not_reviewed_product_details.name,\n          \"image_src\":this.chat[index].product_review_img_url,\n          \"price\":this.chat[index].not_reviewed_product_details.price,\n          \"quantity\":this.chat[index].not_reviewed_product_details.quantity,\n          \"variant_id\":this.chat[index].not_reviewed_product_details.variation_id\n        }\n      }else if(this.retail_web_framework == \"magento\"){\n        var product_details = {\n          \"product_id\":this.chat[index].not_reviewed_product_details.product_id,\n          \"name\":this.chat[index].not_reviewed_product_details.name,\n          \"image_src\":this.chat[index].product_review_img_url,\n          \"price\":this.chat[index].not_reviewed_product_details.price,\n          \"quantity\":this.chat[index].not_reviewed_product_details.qty_shipped,\n          \"variant_id\":this.chat[index].not_reviewed_product_details.sku\n        }\n      }\n      axios\n        .post(\n          api_calls.product_review_rating(),\n          {\n            company_name: this.companyname,\n            company_id: this.companyid,\n            email: this.$session.get(\"UserInformation\").email,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            is_save_review_rating: true,\n            review_rating_customer_id: this.$session.get(\"shopify_customer_id\"),\n            review_rating_customer_email: this.$session.get(\"shopify_customer_token\"),\n            product_rating: this.chat[index].product_rating,\n            product_review: this.chat[index].product_review,\n            product_details: product_details\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`\n            }\n          }\n        )\n        .then(response => {\n          if (\n            response.data != \"\" &&\n            response.data != null &&\n            response.data != \"Internal server Error\"\n          ) {\n            this.chat[index].is_review_rating_product = false;\n            // this.chat[index].received = this.review_response_message;\n            // this.chat[index].time = this.generate_time();\n            var msg = {\n              received: this.review_response_message,\n              conversation_only: true,\n              receiving: true,\n              time: this.generate_time(),\n            };\n            this.chat.push(msg);\n            this.update_scrollbar(\"upto_end\", \"response\");\n            if(response.data.MSG === 'Review Saved Successfully'){\n              swal({\n                text: this.review_response_message,\n                toast: true,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"success\",\n                position: \"top-end\",\n                timer: 5000,\n              });\n            }else if(response.data.MSG === \"Review Not Saved Successfully\"){\n              swal({\n                text: \"Some Error Occurred.\",\n                toast: true,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"error\",\n                position: \"top-end\",\n                timer: 5000,\n              });\n            }\n          } else {\n            toastr.error(\"Internal Server Error\");\n          }\n        })\n        .catch(e => {\n          toastr.error(\"Some Error Occurred.\");\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    closecart(close_cart) {\n      this.is_cense_cart = close_cart;\n    },\n    cart_communication(cart_data){\n      this.addtoCartdata = [];\n      this.total_products_qty = 0;\n      for (var i in cart_data){\n        this.addtoCartdata.push(cart_data[i]);\n      }\n      for (var j in this.addtoCartdata){\n         this.total_products_qty = this.total_products_qty + this.addtoCartdata[j].order_qty;\n      }\n    },\n    update_quantity(func, chat_id, index, value) {\n      var vm = this;\n      this.over_qty_warning = false;\n      var buy = this.chat[chat_id].products_list[index].buy_qty;\n      var order = this.chat[chat_id].products_list[index].order_qty;\n      var stock = this.chat[chat_id].products_list[index].stock_quantity;\n      var total = buy + order;\n      if (func == \"+\") {\n        if((total <= stock) || stock == null){\n          this.chat[chat_id].products_list[index].buy_qty += 1;\n          vm.$set(\n            vm.chat, chat_id,\n            vm.chat[chat_id]\n          );\n        }else {\n          this.over_qty_warning = true;\n        }\n      }\n      if (func == \"-\") {\n        if (buy > 0){\n          this.chat[chat_id].products_list[index].buy_qty -= 1;\n          vm.$set(\n            vm.chat, chat_id,\n            vm.chat[chat_id]\n          );\n        }\n      }\n      if (func == \"manual\") {\n        var quantity = parseInt(value);\n        if (quantity){\n          if ((total < stock) || stock == null){\n            this.chat[chat_id].products_list[index].buy_qty = quantity;\n          }else {\n            this.over_qty_warning = true;\n          }\n          vm.$set(\n            vm.chat, chat_id,\n            vm.chat[chat_id]\n          );\n        }\n      }\n    },\n    addproduct(product){\n      this.total_products_qty = 0;\n      this.over_qty_warning = false;\n      // console.log(product);\n      if (this.addtoCartdata.length != 0){\n        var check = false;\n      for (var i in this.addtoCartdata) {\n        if (this.addtoCartdata[i].id == product.id){\n          check = true\n          var buy = product.buy_qty + this.addtoCartdata[i].order_qty;\n          if ((product.stock_quantity > this.addtoCartdata[i].order_qty) && \n          (buy <= product.stock_quantity)){\n            this.addtoCartdata[i].order_qty = buy;\n          }else if(product.stock_quantity == null){\n            this.addtoCartdata[i].order_qty = buy;\n          }else{\n            this.over_qty_warning = true;\n          }\n        }\n      }\n        if(check != true && ((product.buy_qty <= product.stock_quantity) || product.stock_quantity == null)){\n          this.addtoCartdata.push({\n            id: product.id,\n            img_url: product.img_url,\n            price: product.price,\n            stock_quantity: product.stock_quantity,\n            order_qty: product.buy_qty,\n            buy_qty: 1,\n            variant_title: product.variant_title,\n            stock_status: product.stock_status,\n            title: product.title\n          });\n        }else if(check != true && (product.buy_qty > product.stock_quantity)){\n          this.over_qty_warning = true;\n        }\n      }else if((product.buy_qty <= product.stock_quantity) || product.stock_quantity == null){\n      this.addtoCartdata.push({\n            id: product.id,\n            img_url: product.img_url,\n            price: product.price,\n            stock_quantity: product.stock_quantity,\n            order_qty: product.buy_qty,\n            buy_qty: 1,\n            variant_title: product.variant_title,\n            stock_status: product.stock_status,\n            title: product.title\n          });\n      }else{\n        this.over_qty_warning = true;\n      }\n      for (var j in this.addtoCartdata){\n         this.total_products_qty = this.total_products_qty + this.addtoCartdata[j].order_qty;\n      }\n      var audio = new Audio(sound);\n      audio.play();\n      var cart = $('#cense-cart-btn');\n      var cart_qty = $('#cart-qty-num');\n      var cart_img = $('#cart-img');\n      setTimeout(function(){\n        cart_qty.addClass('cart-qty');\n        cart_img.addClass('cart-img');\n        cart.addClass('shake');\n        setTimeout(function(){\n          cart_qty.removeClass('cart-qty');\n          cart_img.removeClass('cart-img');\n          cart.removeClass('shake');\n        },500)\n      },0)\n    },\n    selected_product(value) {\n      if (event.target.checked) {\n        if (value == \"all\") {\n          this.checked_list = [];\n          for (var i in this.product_out_of_stock_list) {\n            this.checked_list.push(this.product_out_of_stock_list[i]);\n          }\n          $(\"input:checkbox\").prop(\"checked\", false);\n          for (let i = 0; i < this.checked_list.length; i++) {\n            $(\n              \"#product_checkbox_\" +\n                this.product_out_of_stock_list[i].product_id\n            ).prop(\"checked\", true);\n            $(\"#selectall\").prop(\"checked\", true);\n          }\n        } else {\n          this.checked_list.push(value);\n        }\n      } else if (!event.target.checked) {\n        if (value != \"all\") {\n          var selectall = document.querySelector(\"#selectall\");\n          if (selectall.checked) {\n            selectall.checked = false;\n          }\n          var temp = this.checked_list.filter((product_id) => {\n            return product_id != value;\n          });\n          this.checked_list = temp;\n        } else {\n          $(\"input:checkbox\").prop(\"checked\", false);\n          for (let i = 0; i < this.checked_list.length; i++) {\n            $(\n              \"#product_checkbox_\" +\n                this.product_out_of_stock_list[i].product_id\n            ).prop(\"checked\", false);\n            $(\"#selectall\").prop(\"checked\", false);\n          }\n          this.checked_list = [];\n        }\n      }\n    },\n    check_current_product_active(index) {\n      // console.table(index, this.templatelist[index], this.current_template);\n      if (Boolean(this.product_out_of_stock_list[index]) === true) {\n        return this.product_out_of_stock_list[index].product_id ===\n          this.current_product.product_id\n          ? \"current-active-template\"\n          : null;\n      }\n    },\n    show_product(index) {\n      this.current_product = this.product_out_of_stock_list[index];\n    },\n    add_to_out_of_stock_list(items) {\n      this.product_out_of_stock_list = items;\n      this.checked_list = [];\n      $(\"input:checkbox\").prop(\"checked\", false);\n    },\n    submit_out_of_stock_products() {\n      if (this.checked_list.length == 0) {\n        swal({\n          text: \"Please select some products\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      } else if (\n        this.customer_email == \"\" ||\n        !this.reg_email.test(this.customer_email)\n      ) {\n        swal({\n          text: \"Please enter a valid email address\",\n          toast: true,\n          position: \"top-end\",\n          type: \"warning\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n        return;\n      }\n      swal({\n        text: \"Please wait while we are submitting your details...\",\n        type: \"info\",\n        toast: true,\n        showConfirmButton: false,\n      });\n      this.spinnerOn = true;\n      axios\n        .post(\n          api_calls.outofstockemailnotification(),\n          {\n            company_id: this.companyid,\n            company_name: this.companyname,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            email: this.customer_email,\n            product_list: this.checked_list,\n            token:this.bot_response_token_value,\n            username:this.$session.get(\"UserInformation\").email,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(({ data }) => {\n          if (data.message == \"Query Executed Successfully\") {\n            swal({\n              type: \"success\",\n              text:\n                \"You'll be notified through email when the products get back in stock\",\n              timer: 2500,\n            }).then((result) => {\n              this.customer_email = \"\";\n              this.checked_list = [];\n              $(\"input:checkbox\").prop(\"checked\", false);\n              $(\"#notifyemail\").modal(\"hide\");\n            });\n          }\n        })\n        .catch((e) => {\n          this.spinnerOn = false;\n          if (\n            e.response.status === 410 ||\n            e.response.status === 440 ||\n            e.response.status === 409\n          ) {\n            this.$root.$emit(\"Session_Expired\", e.response.data);\n          }\n        });\n    },\n    refresh_chatbot(type) {\n      this.refreshed_or_closed = true;\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n          chat: \"\",\n          data: \"\",\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed,\n        })\n        .then((resp) => {\n          this.refreshed_or_closed = false;\n          let welcome_msg_companies = [\n            \"CustomerHappiness95185\",\n            \"3x5ive99534\",\n            \"Foreignxchange17491\",\n            \"360_technology\",\n          ];\n          setTimeout(() => {\n            // if (this.shopify_ui == null && this.retail_web_framework == \"shopify\") {\n            //   this.initialize_shopify_ui();\n            // }\n          }, 100);\n          if (type == \"support\") {\n            this.chat.push({\n              receiving: true,\n              received: \"Is there anything else I can help you with?\",\n              conversation_only: true,\n              time: this.generate_time(),\n            });\n          }\n          if (welcome_msg_companies.includes(this.companyid)) {\n            axios\n              .post(api_calls.chatbot_response_cense(), {\n                chat: \"/welcome_message\",\n                token: this.bot_response_token_value,\n                username: this.$session.get(\"UserInformation\").email,\n                source: \"Web\",\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                data: \"\",\n                role: this.$session.get(\"UserInformation\").role,\n                refreshed_or_closed: false,\n              })\n              .then((response) => {\n                this.push_msg(response, response.data.responses);\n                // this.response_handling(response);\n              });\n          } else {\n            this.welcome_message_not_yet_received = false;\n          }\n        });\n    },\n    download_file(url, file_name) {\n      event.preventDefault();\n      var link = document.createElement(\"a\");\n      link.href = url;\n      link.setAttribute(\"download\", file_name);\n      document.body.appendChild(link);\n      link.click();\n    },\n    scroll_div() {\n      var doc = document.querySelector(\".buy-products\");\n      if (event.deltaX > event.deltaY) {\n        doc.scrollLeft += 10;\n      } else if (event.deltaX < event.deltaY) {\n        doc.scrollLeft -= 10;\n      }\n    },\n    call_support(type) {\n      if (type == \"Yes\") {\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: \"/call_support\",\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed,\n          })\n          .then((resp) => {\n            this.chat.push({\n              conversation_only: true,\n              receiving: true,\n              received: resp.data.responses[0].text,\n              time: this.generate_time(),\n            });\n            // this.$session.set(\"BotResponse_Conversation\", this.chat);\n            this.update_scrollbar(\"upto_end\", \"response\");\n          });\n      } else if (type == \"No\") {\n        this.chat.push(this.chat[0]);\n        this.chat.push(this.chat[1]);\n        this.update_scrollbar(\"upto_end\", \"response\");\n        // this.refresh_chatbot(\"support\");\n      }\n    },\n    parse(string) {\n      return string.replace(/{{.*?}}/g, (match) => {\n        var today = new Date();\n        var dd = today.getDate();\n\n        var mm = today.getMonth() + 1;\n        var yyyy = today.getFullYear();\n        if (dd < 10) {\n          dd = \"0\" + dd;\n        }\n\n        if (mm < 10) {\n          mm = \"0\" + mm;\n        }\n        today = dd + \"-\" + mm + \"-\" + yyyy;\n        var expression = match.slice(2, -2);\n        this.$data[expression] = today;\n        return this.$data[expression];\n      });\n    },\n    show_popup() {\n      this.show = false;\n      this.stop = false;\n    },\n    sub_leaf_node_call(divclick) {\n      // var divclick = event.target.innerText\n      if (divclick == \"Watch Demo Video\") {\n        this.demourlbind = true;\n        this.reviewsurlbind = false;\n      } else if (divclick == \"User Reviews/Testimonials\") {\n        this.reviewsurlbind = true;\n        this.demourlbind = false;\n      }\n      if (\n        divclick == \"Watch Demo Video\" ||\n        divclick == \"User Reviews/Testimonials\"\n      ) {\n        this.show = !this.show;\n        this.update_scrollbar();\n        setTimeout(() => {\n          this.is_typing_indicator_on = false;\n        }, 1000);\n      } else if (divclick == \"Buy Tutorial\") {\n        this.cense_enquiry = true;\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            username: this.$session.get(\"UserInformation\").email,\n            token: this.bot_response_token_value,\n            chat: \"/personal_details\",\n            source: \"Web\",\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: \"\",\n          })\n          .then((response) => {\n            var msg = {\n              received: response.data.responses[0].text,\n              conversation_only: true,\n              receiving: true,\n              time: this.generate_time(),\n            };\n            this.chat.push(msg);\n            this.update_scrollbar();\n            setTimeout(() => {\n              this.is_typing_indicator_on = false;\n            }, 1000);\n            // this.$session.set(\"BotResponse_Conversation\", this.chat);\n          });\n      }\n    },\n    ticket_number() {\n      let random_num = Math.floor(1000000 + Math.random() * 9000000);\n      let company = this.companyname.slice(0, 1).toUpperCase();\n      return `${company}_${random_num}`;\n    },\n    send_message(type, message, to_be_displayed) {\n      // harsh\n      event.preventDefault();\n      if (this.selected_indication[0] != undefined) {\n        if (type == \"is_button\") {\n          this.to_send = message.value + JSON.stringify(this.res);\n        } else {\n          type = \"is_prompt\";\n          to_be_displayed = this.to_send;\n          this.to_send =\n            this.selected_indication[0].value.split(\"{\")[0] +\n            JSON.stringify(this.res);\n        }\n      }\n      if (type == \"is_button\") {\n        $(\"#response_bot_text\").prop(\"disabled\", false);\n        if (\n          message.value == \"isdisabled\" &&\n          this.companyid == \"clinicaltrials81352\" &&\n          message.title == \"No\"\n        ) {\n        } else if (message.value === \"/live_chat\") {\n          this.start_live_chat();\n        } else {\n          var vm = this;\n          function send_msg(toSend, customDisplayMsg) {\n            vm.is_typing_indicator_on = true;\n            vm.chat.push({\n              sent: customDisplayMsg\n                ? `${message.title} ${customDisplayMsg}`\n                : message.title,\n              sending: true,\n              time: vm.generate_time(),\n              conversation_only: true,\n              delivered: true,\n              dropdown: \"\",\n            });\n            vm.update_scrollbar(\"upto_end\", \"sender\");\n            if (\n              vm.chat[to_be_displayed] &&\n              vm.chat[to_be_displayed].removable == true\n            ) {\n              document\n                .querySelector(\"#chat\" + to_be_displayed)\n                .classList.add(\"--delete\");\n              setTimeout(() => {\n                vm.chat.splice(index, 1);\n              }, 850);\n              document.getElementById(\"response_bot_text\").disabled = false;\n            }\n            if (\n              vm.chat[to_be_displayed - 1] &&\n              vm.chat[to_be_displayed - 1].is_multiselect &&\n              (message.title == \"Approve\" ||\n                message.title == \"Reject\" ||\n                message.title == \"Comment and Return\")\n            ) {\n              vm.chat[to_be_displayed - 1].disabled = true;\n            }\n            axios\n              .post(api_calls.chatbot_response_cense(), {\n                chat: toSend,\n                token: vm.bot_response_token_value,\n                username: vm.$session.get(\"UserInformation\").email,\n                source: \"Web\",\n                license_key: vm.$session.get(\"UserInformation\").license_key,\n                role: vm.$session.get(\"UserInformation\").role,\n                refreshed_or_closed: vm.refreshed_or_closed,\n              })\n              .then((response) => {\n                vm.response_handling(response);\n              });\n            vm.selected_indication = [];\n            vm.to_send = \"\";\n          }\n\n          if (this.companyid == \"360_technology\") {\n            if (\n              this.chat[to_be_displayed - 1] &&\n              this.chat[to_be_displayed - 1].value_mapping\n            ) {\n              let valueMappingData = JSON.parse(\n                JSON.stringify(this.chat[to_be_displayed - 1].value_mapping)\n              );\n              this.adddropdownvalue(valueMappingData).then(() => {\n                this.to_send = message.value + JSON.stringify(this.res);\n                if (this.chat[to_be_displayed - 1].value_mapping) {\n                  if (valueMappingData.length === 0) {\n                    send_msg(message.value);\n                  } else {\n                    send_msg(\n                      this.to_send,\n                      `for ${this.selected_indication\n                        .map((obj) => {\n                          return obj.title;\n                        })\n                        .toString()}`\n                    );\n                  }\n                }\n              });\n            } else if (message.value.split(\"{\").length > 1) {\n              let customDisplayMsg = Object.values(\n                JSON.parse(`{${message.value.split(\"{\")[1]}`)\n              )[0];\n              send_msg(message.value, `for ${customDisplayMsg}`);\n            } else if (\n              this.chat[to_be_displayed - 1] &&\n              this.chat[to_be_displayed - 1].show_text_area\n            ) {\n              send_msg(message.value);\n              this.chat[to_be_displayed - 1].disabled = true;\n            } else {\n              send_msg(message.value);\n            }\n          } else {\n            send_msg(message.value);\n          }\n        }\n      } else if (type == \"is_prompt\") {\n        this.is_typing_indicator_on = true;\n        this.chat.push({\n          sent: to_be_displayed,\n          sending: true,\n          time: this.generate_time(),\n          conversation_only: true,\n          delivered: true,\n        });\n        this.update_scrollbar(\"upto_end\", \"sender\");\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            // host: this.user_data.host,\n            role: this.$session.get(\"UserInformation\").role,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: this.to_send,\n          })\n          .then((response) => {\n            this.response_handling(response);\n            this.ex1();\n          });\n      } else if (this.to_send == \"Restart\" || this.to_send == \"restart\") {\n        axios\n          .post(api_calls.prompt_url(), {\n            uid: \"cense\", // this.fingerprint\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            chat: \"\",\n          })\n          .then((response) => {\n            this.chat.push(response.data);\n            this.update_scrollbar(\"upto_end\", \"response\");\n            // this.$session.set(\"BotResponse_Conversation\", this.chat);\n            this.level = response.data.level;\n          })\n          .catch((e) => {});\n      } else if (this.cense_enquiry == true && Boolean(this.to_send)) {\n        this.is_typing_indicator_on = true;\n        var send_msg = {\n          sent: this.to_send,\n          conversation_only: true,\n          sending: true,\n          time: this.generate_time(),\n        };\n        this.chat.push(send_msg);\n        // this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\");\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            username: this.$session.get(\"UserInformation\").email,\n            token: this.bot_response_token_value,\n            chat: \"/personal_details\",\n            source: \"Web\",\n            Companyid: \"CO00023\",\n            data: \"\",\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: \"\",\n            license_key: this.$session.get(\"UserInformation\").license_key,\n          })\n          .then((response) => {\n            var msg = {\n              received: response.data.responses[0].text,\n              conversation_only: true,\n              receiving: true,\n              time: this.generate_time(),\n            };\n            this.chat.push(msg);\n            // this.$session.set(\"BotResponse_Conversation\", this.chat);\n            this.refreshed_or_closed = false;\n            this.update_scrollbar(\"upto_end\", \"response\");\n          })\n          .catch((e) => {\n            this.is_typing_indicator_on = false;\n          });\n      } else if (this.live_chat_on) {\n        if (Boolean(this.user_name) === false) {\n          this.channel.push(\"new_name\", { name: this.to_send });\n          this.user_name = this.to_send;\n          this.update_scrollbar(\"upto_end\", \"response\");\n        } else {\n          this.channel.push(\"new_chat_message\", { message: this.to_send });\n          this.update_scrollbar(\"upto_end\", \"response\");\n        }\n        this.chat.push({\n          sent: this.to_send,\n          sending: true,\n          conversation_only: true,\n          time: this.generate_time(),\n        });\n        // this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\", \"sender\");\n      } else if (Boolean(this.to_send) && this.cense_enquiry != true) {\n        this.chat.push({\n          conversation_only: true,\n          sending: true,\n          sent: this.to_send,\n          time: this.generate_time(),\n        });\n        // this.$session.set(\"BotResponse_Conversation\", this.chat);\n        this.update_scrollbar(\"upto_end\", \"sender\");\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: this.to_send,\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed,\n          })\n          .then((response) => {\n            this.response_handling(response);\n          })\n          .catch((e) => {\n            this.update_scrollbar(\"upto_end\", \"response\");\n          });\n      }\n      this.to_send = \"\";\n    },\n    initiate_support_chat() {\n      this.chat.push({\n        receiving: true,\n        received: \"Sorry I am not getting your question\",\n        conversation_only: true,\n      });\n      this.chat.push({\n        receiving: true,\n        received: \"Would you like to talk with support team?\",\n        conversation_only: true,\n        show_buttons: true,\n        support_buttons: true,\n        time: this.generate_time(),\n      });\n      this.update_scrollbar(\"upto_end\", \"response\");\n    },\n    disconnect_support_chat() {\n      this.channel.push(\"stopped_chat\", {\n        name: this.user_name,\n        message: \" has ended the conversation.\",\n      });\n      this.channel.leave();\n      this.live_chat_token = null;\n      this.chat_group_name = null;\n      this.user_name = \"\";\n      this.chat_socket.disconnect();\n      this.live_chat_on = false;\n    },\n    generate_payment(price, name) {\n      var vm = this;\n      var options = {\n        key: \"rzp_test_SnDTaPnncfliDt\",\n        amount: price * 100,\n        company_id: this.$session.get(\"UserInformation\").company_id,\n        company_name: this.$session.get(\"UserInformation\").company_name,\n        name: \"Cense AI\",\n        currency: \"INR\",\n        description: \"Instill Intelligence\",\n        image: \"/img/cense_image.png\", // COMPANY LOGO\n        handler: function (response) {\n          var contact = $('#contact[type=\"tel\"]').value;\n          var email = $('#email[type=\"email\"]').value;\n          vm.paymentid = response.razorpay_payment_id;\n\n          if (transfer_account != null) {\n            vm.transfer_payment(transfer_account, price * 100, \"INR\", name);\n          }\n        },\n        prefill: {\n          name: \"\", // pass customer name\n          email: \"\", // customer email\n          contact: \"\", // customer phone no.\n        },\n        notes: {\n          address: \"address\", // customer address\n        },\n        theme: {\n          color: \"#283777\", // screen color\n        },\n      };\n      var rzp1 = new Razorpay(options);\n      rzp1.open();\n      event.preventDefault();\n    },\n    chat_response_error() {\n      this.chat.push({\n        conversation_only: true,\n        receiving: true,\n        received: \"Sorry I'm not getting your question\",\n        time: this.generate_time(),\n      });\n      // this.$session.set(\"BotResponse_Conversation\", this.chat);\n      this.update_scrollbar(\"upto_end\", \"response\");\n    },\n    send_request_json(message) {\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          token: this.bot_response_token_value,\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed,\n          chat: \"\",\n          source: \"Web\",\n          data: this.json_data[message.responses[0].intent],\n        })\n        .then((resp) => {\n          this.chat.push({\n            conversation_only: true,\n            receiving: true,\n            received:\n              resp.data.responses.length == 0\n                ? \"Sorry I'm not getting your question\"\n                : resp.data.responses[0].text,\n            time: this.generate_time(),\n            image:\n              resp.data.responses[0].img == \"\"\n                ? null\n                : resp.data.responses[0].img,\n          });\n          // this.$session.set(\"BotResponse_Conversation\", this.chat);\n          this.update_scrollbar(\"upto_end\", \"response\");\n        });\n    },\n    response_handling(response, type) {\n      var i = 0;\n      var delay = 50;\n      // response.data.responses[i].text != undefined ? 500\n      // response.data.responses[i].text.length > 10\n      //   ? 500\n      //   : 500;\n      var vm = this;\n      vm.is_typing_indicator_on = true;\n      setTimeout(() => {\n        handle_response();\n      }, delay);\n      function handle_response() {\n        setTimeout(() => {\n          vm.is_typing_indicator_on = false;\n          if (response.data == null || response.data.responses.length == 0) {\n            vm.chat_response_error();\n          } else if (Boolean(response.data.responses[i].request_json) == true) {\n            if (response.data.responses[i].text != null) {\n              vm.chat.push({\n                conversation_only: true,\n                receiving: true,\n                received: response.data.responses[i].text,\n                time: vm.generate_time(),\n                image: response.data.responses[i].img,\n                video: response.data.responses[i].video,\n              });\n              // vm.$session.set(\"BotResponse_Conversation\", vm.chat);\n              vm.update_scrollbar(\"upto_end\", \"response\");\n            }\n            if (response.data.responses[i].intent == \"gogyb450_create_ticket\") {\n              var name = `${vm.$session.get(\"UserInformation\").first_name} ${\n                vm.$session.get(\"UserInformation\").last_name\n              }`;\n              var payload = {\n                username: name,\n                companyname: vm.companyname,\n                companyid: vm.companyid,\n                user_role: vm.$session.get(\"UserInformation\").role,\n                email: vm.$session.get(\"UserInformation\").email,\n                license_key: vm.$session.get(\"UserInformation\").license_key,\n                token: vm.$session.get(\"UserInformation\").tokens,\n                ticket_issue: \"\",\n                ticket_number: vm.ticket_number(),\n                description: \"\",\n                file_content: null,\n                file_name: null,\n                isEdit: false,\n              };\n              payload = JSON.stringify(payload);\n              axios\n                .post(api_calls.chatbot_response_cense(), {\n                  license_key: vm.$session.get(\"UserInformation\").license_key,\n                  token: vm.bot_response_token_value,\n                  username: vm.$session.get(\"UserInformation\").email,\n                  token: vm.bot_response_token_value,\n                  role: vm.$session.get(\"UserInformation\").role,\n                  refreshed_or_closed: vm.refreshed_or_closed,\n                  chat: \"\",\n                  source: \"Web\",\n                  data: payload,\n                })\n                .then((resp) => {\n                  vm.chat.push({\n                    conversation_only: true,\n                    receiving: true,\n                    received:\n                      resp.data.responses.length == 0\n                        ? \"Sorry I'm not getting your question\"\n                        : resp.data.responses[i].text,\n                    time: vm.generate_time(),\n                    image: resp.data.responses[i].img,\n                    video: resp.data.responses[i].video || null,\n                  });\n                  // vm.$session.set(\"BotResponse_Conversation\", vm.chat);\n                  vm.new_update_response(i);\n                });\n            } else if (\n              response.data.responses[i].intent == \"create_appointment\"\n            ) {\n              let today_date = new Date();\n              axios\n                .post(api_calls.schedule_appointment_url(), {\n                  companyname: vm.companyname,\n                  companyid: vm.companyid,\n                  Date:\n                    today_date.getFullYear() +\n                    \"-\" +\n                    (today_date.getMonth() < 9\n                      ? \"0\" + (today_date.getMonth() + 1)\n                      : today_date.getMonth() + 1) +\n                    \"-\" +\n                    today_date.getDate(), // Month object document it\n                  // Date: start_time,\n                })\n                .then((response) => {\n                  // console.log(response.data);\n                  // this.time_slots = this.full_time_slots;\n                  // if (response.data.Slot != undefined) {\n                  //   if (response.data.Slot.length > 0) {\n                  //     let index;\n                  //     for (var i in response.data.Slot) {\n                  //       index = this.time_slots.indexOf(response.data.Slot[i]);\n                  //       if (index != -1) {\n                  //         this.time_slots.splice(index, 1);\n                  //       }\n                  //     }\n                  //   } else {\n                  //   }\n                  // }\n                })\n                .catch((e) => {\n                  console.log(e);\n                });\n            } else {\n              vm.send_request_json(response.data);\n            }\n          } \n          else if (\n            response.data.responses[i].intent == \"re_order_products_action\"\n          ) {\n            // vm.send_shopify_customer_id();\n            let msg = {\n              conversation_only: true,\n              time:\n                i == response.data.responses.length - 1\n                  ? vm.generate_time()\n                  : null,\n            ask_feedback: Boolean(response.data.responses[i].ask_feedback),\n            };\n            msg.receiving = true;\n            msg.fetch_shopify_details = true;\n            msg.is_refund = false;\n            msg.return_shopify_email = true;\n            msg.received =  \"Please login with your credentials for better experience :)\";\n            msg.metadata = {\n               entity: response.data.responses[i].entity,\n              text: response.data.responses[i].text \n              }\n            vm.chat.push(msg)\n            // vm.send_shopify_customer_id(null,false,response.data.responses[i]);\n          } \n           else if (\n            response.data.responses[i].intent == \"support_subscription_data\"\n          ) {\n            // vm.send_shopify_customer_id();\n            vm.support_subscription_data();\n          } else if (response.data.responses[i].intent == \"product_by_date\") {\n              vm.is_typing_indicator_on = true;\n              let cutoff = new Date;\n              var current_date_time = moment(cutoff).format(\"YYYY-MM-DD HH:mm:ss\")\n              \n              let form_payload = JSON.stringify({\n                usr_msg: response.data.responses[i].usr_msg,\n                current_user_date: current_date_time\n              });\n              \n              axios\n                .post(api_calls.chatbot_response_cense(), {\n                  license_key: vm.$session.get(\"UserInformation\").license_key,\n                  token: vm.bot_response_token_value,\n                  username: vm.$session.get(\"UserInformation\").email,\n                  token: vm.bot_response_token_value,\n                  role: vm.$session.get(\"UserInformation\").role,\n                  refreshed_or_closed: vm.refreshed_or_closed,\n                  chat: `/product_by_date${form_payload}`,\n                  source: \"Web\",\n                })\n                .then((response) => {\n                  vm.response_handling(response);\n                });\n          } else if (\n            Boolean(response.data.responses[i].return_intent) == true\n          ) {\n            this.is_typing_indicator_on = true;\n            axios\n              .post(api_calls.chatbot_response_cense(), {\n                license_key: vm.$session.get(\"UserInformation\").license_key,\n                token: vm.bot_response_token_value,\n                username: vm.$session.get(\"UserInformation\").email,\n                token: vm.bot_response_token_value,\n                role: vm.$session.get(\"UserInformation\").role,\n                refreshed_or_closed: vm.refreshed_or_closed,\n                chat: \"/\" + response.data.responses[i].intent,\n                source: \"Web\",\n              })\n              .then((response) => {\n                vm.handle_response(response);\n              });\n          } else if (\n            vm.companyid == \"3x5ive99534\" &&\n            response.data.responses[i].intent != undefined &&\n            response.data.responses[i].intent == \"confusion\"\n          ) {\n            vm.confusion_message(\"/need_help\");\n          } else if (response.data.responses[i].buttons != undefined &&\n            response.data.responses[i].buttons.length > 0) {\n            vm.load_buttons(response.data.responses[i], i, type);\n          } else if (Boolean(response.data.responses[i].custom) && response.data.responses[i].custom.type) {\n            // CHange  the condition here\n            if (\n              response.data.responses[i].custom.type != undefined &&\n              response.data.responses[i].custom.type == \"multiselect_dropdown\"\n            ) {\n              vm.multiselect_load(response.data.responses[i], i);\n            } else if (\n              response.data.responses[i].custom.type != undefined &&\n              response.data.responses[i].custom.type == \"table\"\n            ) {\n              vm.load_table(response.data.responses[i], i);\n            } else if (\n              response.data.responses[i].custom.type != undefined &&\n              response.data.responses[i].custom.type == \"retail\"\n            ) {\n              vm.display_products_chat(response.data.responses[i], i, type);\n            } else if (response.data.responses[i].custom.show_text_area) {\n              vm.load_text_area(response.data.responses[i], i);\n            } else if (response.data.responses[i].custom.buttons != undefined) {\n              vm.load_buttons(response.data.responses[i].custom, i, type);\n            }\n          } else if (\n            Boolean(response.data.responses[i].messaging_platforms) &&\n            response.data.responses[i].messaging_platforms.length > 0\n          ) {\n            var msg = {\n              conversation_only: true,\n              time:\n                i == response.data.responses.length - 1\n                  ? vm.generate_time()\n                  : null,\n              ask_feedback: Boolean(response.data.responses[i].ask_feedback),\n              show_messaging_platforms: true,\n              receiving: true,\n              received:\"Please feel free to reachout to us at : \" + response.data.responses[i].contact_us_email  + vm.contact_us_phone_number(response.data.responses[i].contact_us_phone_number) +\" or drop us a message\",\n              messaging_platforms_data:\n                response.data.responses[i].messaging_platforms,\n            };\n            vm.chat.push(msg);\n          } else if (Boolean(response.data.responses[i].is_preview_banner)) {\n            vm.display_banner(response.data.responses, i);\n          } else if (Boolean(response.data.responses[i].is_display_banner)) {\n            vm.display_banner(response.data.responses, i);\n          }else {\n            var msg = {\n              conversation_only: true,\n              time:\n                i == response.data.responses.length - 1\n                  ? vm.generate_time()\n                  : null,\n              ask_feedback: Boolean(response.data.responses[i].ask_feedback),\n            };\n            if (response.data.responses.length == 0) {\n              msg.received = \"Sorry we are not getting your question.\";\n              msg.receiving = true;\n            }else if(response.data.responses[i].template === \"utter_default\"){\n                msg.receiving = true;\n                msg.received = response.data.responses[i].message.split('{email}').join(vm.contact_help_email);\n                vm.chat.push(msg);\n            }else if (\n              response.data.responses[i].text != undefined &&\n              vm.url_match_regex.test(response.data.responses[i].text)\n            ) {\n              vm.display_file_chat(response.data.responses[i].text);\n            } else if (response.data.responses[i].get_company_details === \"True\" && response.data.responses[i].intent === \"cense_support_ticket\"){\n\n               let c_id = vm.return_document_cookies('company_id');\n               let c_name = vm.return_document_cookies('company_name');\n               let c_email = vm.return_document_cookies('company_email');\n                axios\n              .post(api_calls.chatbot_response_cense(), {\n                license_key: vm.$session.get(\"UserInformation\").license_key,\n                token: vm.bot_response_token_value,\n                username: vm.$session.get(\"UserInformation\").email,\n                token: vm.bot_response_token_value,\n                role: vm.$session.get(\"UserInformation\").role,\n                refreshed_or_closed: vm.refreshed_or_closed,\n                chat:JSON.stringify({company_id : c_id,\n                      company_name : c_name,\n                      email : c_email,\n                }),\n                source: \"Web\",\n              })\n              .then((response) => {\n                vm.response_handling(response);\n              });\n            }  \n            else if (\n              response.data.responses[i].text != undefined &&\n              !response.data.responses[i].text.includes(\n                \"Download your manifest here\"\n              )\n            ) {\n              msg.received = response.data.responses[i].text;\n              msg.receiving = true;\n              msg.image = response.data.responses[i].img;\n              msg.image = response.data.responses[i].image;\n              msg.videos = response.data.responses[i].video || false;\n              msg.order_status = response.data.responses[i].order_status;\n              msg.is_order_status =\n                response.data.responses[i].is_order_status || false;\n              msg.offers = response.data.responses[i].offers || false;\n              msg.fetch_shopify_details =\n                response.data.responses[i].fetch_shopify_details || false;\n              msg.order_items = response.data.responses[i].order_items;\n              msg.shopify_fetch_customer_id_for_offers =\n                response.data.responses[i]\n                  .shopify_fetch_customer_id_for_offers || false;\n              // if (msg.shopify_fetch_customer_id_for_offers === true) {\n              //   vm.shopify_check_customer_logged_in();\n              //   return true;\n              // }\n              if(msg.offers.length < 1){\n                msg.offers = false;\n                msg.received = \"Sorry we do not have any offers currently, please check back later.\"\n              }\n              vm.chat.push(msg);\n              vm.new_update_response(i);\n            } else if (response.data.responses[i].intent == \"chat_support\") {\n              vm.start_live_chat();\n            } else if (\n              response.data.responses[i].text != undefined &&\n              (response.data.responses[i].text.includes(\n                \"Download your manifest here\"\n              ) ||\n                response.data.responses[i].text.includes(/.pdf/))\n            ) {\n              vm.display_file_chat(response.data.responses[i]);\n            } else if (\n              Boolean(response.data.responses[i].products) &&\n              (response.data.responses[i].products.length > 0 ||\n                Object.keys(response.data.responses[i].products).length)\n            ) {\n              vm.display_products_chat(response.data.responses[i], i, type);\n            } else if (response.data.responses[i].is_refund == \"True\") {\n              vm.load_refunds(response.data.responses[i]);\n            } else if (\n              response.data.responses[i].shopify_fetch_customer_id === true\n            ) {\n              vm.shopify_check_customer_logged_in();\n            }else if(response.data.responses[i].image != undefined){\n              msg.image = response.data.responses[i].image;\n              msg.receiving = true;\n              vm.chat.push(msg);\n              vm.new_update_response(i);\n            }\n          }\n          if (i < response.data.responses.length - 1) {\n            i += 1;\n            vm.is_typing_indicator_on = true;\n            // delay =\n            //   response.data.responses[i].text != undefined &&\n            //   response.data.responses[i].text.length > 10\n            //     ? 2000\n            //     : 500;\n            delay = 500;\n            handle_response();\n          }\n        }, delay);\n      }\n    },\n    display_banner(response, i){\n      var vm = this;\n      var position_1 = response[i].banner_content_position[0]['id'];\n      var position_2 = response[i].banner_content_position[1]['id'];\n      var position_3 = response[i].banner_content_position[2]['id'];\n      var is_data_position_1 = response[i][position_1];\n      var is_data_position_2 = response[i][position_2];\n      var is_data_position_3 = response[i][position_3];\n      if(Boolean(is_data_position_1)){\n        var msg = {\n          conversation_only: true,\n          time:\n            (i == response.length - 1) && !(Boolean(is_data_position_2) || (Boolean(is_data_position_3)))\n              ? vm.generate_time()\n              : null,\n          ask_feedback: Boolean(response[i].ask_feedback),\n          banner_img_link: response[i].banner_img_link,\n        };\n        msg.show_bot_img = true;\n        msg['show_'+ position_1] = true;\n        msg[position_1] = is_data_position_1;\n        vm.chat.push(msg);\n        vm.new_update_response(i);\n        if(Boolean(is_data_position_2)){\n          var msg = {\n            conversation_only: true,\n            time:\n              (i == response.length - 1) && !(Boolean(is_data_position_3))\n                ? vm.generate_time()\n                : null,\n            ask_feedback: Boolean(response[i].ask_feedback),\n            banner_img_link: response[i].banner_img_link,\n          };\n          msg.show_bot_img = false;\n          msg['show_'+ position_2] = true;\n          msg[position_2] = is_data_position_2;\n          vm.chat.push(msg);\n          vm.new_update_response(i);\n        }\n        if(Boolean(is_data_position_3)){\n          var msg = {\n            conversation_only: true,\n            time:\n              i == response.length - 1\n                ? vm.generate_time()\n                : null,\n            ask_feedback: Boolean(response[i].ask_feedback),\n            banner_img_link: response[i].banner_img_link,\n          };\n          msg.show_bot_img = false;\n          msg['show_'+ position_3] = true;\n          msg[position_3] = is_data_position_3;\n          vm.chat.push(msg);\n          vm.new_update_response(i);\n        }\n      }else if(Boolean(is_data_position_2)){\n        var msg = {\n          conversation_only: true,\n          time:\n            (i == response.length - 1) && !(Boolean(is_data_position_3))\n              ? vm.generate_time()\n              : null,\n          ask_feedback: Boolean(response[i].ask_feedback),\n          banner_img_link: response[i].banner_img_link,\n        };\n        msg.show_bot_img = true;\n        msg['show_'+ position_2] = true;\n        msg[position_2] = is_data_position_2;\n        vm.chat.push(msg);\n        vm.new_update_response(i);\n        if(Boolean(is_data_position_3)){\n          var msg = {\n            conversation_only: true,\n            time:\n              i == response.length - 1\n                ? vm.generate_time()\n                : null,\n            ask_feedback: Boolean(response[i].ask_feedback),\n            banner_img_link: response[i].banner_img_link,\n          };\n          msg.show_bot_img = false;\n          msg['show_'+ position_3] = true;\n          msg[position_3] = is_data_position_3;\n          vm.chat.push(msg);\n          vm.new_update_response(i);\n        }\n      }else if(Boolean(is_data_position_3)){\n        var msg = {\n          conversation_only: true,\n          time:\n            i == response.length - 1\n              ? vm.generate_time()\n              : null,\n          ask_feedback: Boolean(response[i].ask_feedback),\n          banner_img_link: response[i].banner_img_link,\n        };\n        msg.show_bot_img = true;\n        msg['show_'+ position_3] = true;\n        msg[position_3] = is_data_position_3;\n        vm.chat.push(msg);\n        vm.new_update_response(i);\n      }\n    },\n    push_msg(responses, response) {\n      var index = 0;\n      var vm = this;\n      var delay = 50;\n      // push_chat(response[index], delay);\n      // function push_chat(msg, time_delay) {\n        for(let i = 0; i < response.length; i++) {\n          setTimeout(() => {\n          // while (i < response.length) {\n          // setTimeout(() => {\n            var msg = response[i];\n            vm.is_typing_indicator_on = true;\n            // setTimeout(() => {\n              vm.is_typing_indicator_on = false;\n              if (responses.data.responses[i].buttons != undefined) {\n                vm.load_buttons(\n                  responses.data.responses[i],\n                  \"is_button\",\n                  3000\n                );\n              } else {\n                  vm.chat.push({\n                    conversation_only: true,\n                    receiving: true,\n                    received: msg.text,\n                    offers: msg.offers || false,\n                    time:\n                      i == response.length - 1 ? vm.generate_time() : undefined,\n                  });\n              }\n              if (this.greeting_buttons_position == i) {\n                  if (vm.is_retail_bot) vm.load_chatbot_integration_details();\n              }\n            }, i  * 1050);\n              $(\".time\").last().css(\"display\", \"none\");\n              setTimeout(() => {\n                $(\".time\").last().css(\"display\", \"block\");\n                if (i < response.length - 1) {\n                  // i += 1;\n                  // delay = 500;\n                  // push_chat(response[index], delay);\n                } else {\n                  vm.welcome_message_not_yet_received = false;\n                }\n              }, 500);\n              // setTimeout(() => {\n              // }, 1000);\n              // setTimeout(() => {\n                // i +=1;\n            // }\n              // }, 400);\n            // }, time_delay);\n            // }, i* 500);\n          }\n        setTimeout(() => {\n          vm.demo_retail_question();\n        }, delay);\n      // }\n    },  \n    confusion_message(msg_string) {\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          chat: msg_string,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          data: \"\",\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: false,\n        })\n        .then((response) => {\n          this.response_handling(response);\n        });\n    },\n    display_products_chat(message, index, type) {\n      var msg = {\n        conversation_only: true,\n        time: this.generate_time(),\n      };\n      if (message.products.is_products_list) {\n        msg.is_products_list = message.products.is_products_list;\n        msg.products_list = message.products.products_list;\n        if (message.products.products_list.length === 0) {\n          msg.received = \"Sorry, we could not find what you searched for\";\n          msg.receiving = true;\n        }\n        // setTimeout(() => {\n          if(Boolean(message.products.text) === true){\n            msg.received = message.products.text;\n            msg.receiving = true;\n          }\n          this.product_out_of_stock_list = [];\n\n          if (this.retail_web_framework == 'shopify') {\n            msg.products_list.forEach((product) => {\n            for (let i = 0; i < product.variations.length; i++){\n              this.product_list.push({\n                product_id: product.variations[i].id,\n                product_title: product.title,\n                variant_title: product.variations[i].variant_title,\n                variant_id: product.variations[i].id,\n                stock_status: product.variations[i].stock_status || \"instock\",\n                back_in_stock: false,\n                productImage: product.variations[i].img_url == null ? product.img_url : product.variations[i].img_url,\n                onlineStoreURL: product.variations[i].permalink\n              })\n            }\n            });\n          }else if(this.retail_web_framework == 'woocommerce'){\n            msg.products_list.forEach((product) => {\n            if (product.variations && product.variations.length > 0){\n              for (let i = 0; i < product.variations.length; i++) {\n                  this.product_list.push({\n                    product_id: product.id,\n                    product_title: product.title,\n                    variant_title: product.variations[i].variant_title,\n                    variant_id: product.variations[i].id,\n                    stock_status: product.variations[i].stock_status || \"instock\",\n                    back_in_stock: false,\n                    productImage: product.variations[i].img_url == null ? product.img_url : product.variations[i].img_url,\n                    onlineStoreURL: product.permalink\n                  })\n              }\n            }else{\n              this.product_list.push({\n                product_id: product.id,\n                product_title: product.title,\n                variant_title: null,\n                variant_id: null,\n                stock_status: product.stock_status || \"instock\",\n                back_in_stock: false,\n                productImage: product.img_url,\n                onlineStoreURL: product.permalink\n              })\n            }\n            });\n          }else if(this.retail_web_framework == 'magento'){\n            msg.products_list.forEach((product) => {\n              if (product.variations && product.variations.length > 0){\n                for (let i = 0; i < product.variations.length; i++) {\n                  this.product_list.push({\n                    product_id: product.id,\n                    product_title: product.title,\n                    variant_title: product.variations[i].variant_title,\n                    variant_id: product.variations[i].id,\n                    stock_status: product.stock_status || \"instock\",\n                    back_in_stock: false,\n                    productImage: product.variations[i].img_url == null ? product.img_url : product.variations[i].img_url,\n                    onlineStoreURL: product.variations[i].permalink\n                  })\n                }\n              }else{\n                this.product_list.push({\n                  product_id: product.id,\n                  product_title: product.title,\n                  variant_title: null,\n                  variant_id: null,\n                  stock_status: product.stock_status || \"instock\",\n                  back_in_stock: false,\n                  productImage: product.img_url,\n                  onlineStoreURL: product.permalink\n                })\n              }\n            });\n          }\n          for (var i in msg.products_list){\n            msg.products_list[i].order_qty = 1;\n            msg.products_list[i].buy_qty = 1;\n            if (msg.products_list[i].variations && msg.products_list[i].variations.length > 0){\n              msg.products_list[i].id = msg.products_list[i].variations[0].id;\n              msg.products_list[i].img_url = (msg.products_list[i].variations[0].img_url === null) ? msg.products_list[i].img_url : msg.products_list[i].variations[0].img_url;\n              msg.products_list[i].permalink = msg.products_list[i].variations[0].permalink;\n              msg.products_list[i].variant_title = msg.products_list[i].variations[0].variant_title;\n              msg.products_list[i].stock_quantity = msg.products_list[i].variations[0].stock_quantity;\n              msg.products_list[i].stock_status = msg.products_list[i].variations[0].stock_status;\n              msg.products_list[i].price = msg.products_list[i].variations[0].price;\n              msg.products_list[i].regular_price = msg.products_list[i].variations[0].regular_price;\n            }\n          }\n          msg.new_products = true;\n          this.show_custom_cart = true;\n          var newlist = this.product_list.filter(\n            (product) => product[\"stock_status\"] === \"outofstock\"\n          );\n\n          msg.product_out_of_stock_list = newlist;\n          if (\n            msg.product_out_of_stock_list.length > 0 && !this.display_products\n          ) {\n              msg.product_out_of_stock = true;\n          }\n          this.display_products = false;\n        // }, 2000);\n        if (type === \"display_success_toastr\") {\n          setTimeout(() => {\n            swal({\n              text:\n                \"Testing Completed Successfully! Please Proceed to the next step.\",\n              toast: true,\n              showCancelButton: false,\n              showConfirmButton: false,\n              type: \"success\",\n              timer: 5000,\n              timerProgressBar: true,\n            });\n          }, 1200);\n        }\n      // }, 30);\n      } else if (message.products.length) {\n        msg.isproduct = true;\n        msg.elements = message;\n      }\n      this.chat.push(msg);\n      // this.$session.set(\"BotResponse_Conversation\", this.chat);\n      this.new_update_response(index);\n      this.product_list = [];\n    },\n    display_file_chat(message) {\n      var msg = {\n        conversation_only: true,\n        time: this.generate_time(),\n      };\n      let temp = message.split(\"Download your manifest here \");\n      let url = message.match(this.url_match_regex)[0];\n      msg.url = message.includes(\"Download your manifest here \")\n        ? temp[1]\n        : url;\n      msg.receiving = false;\n      msg.file_name = url\n        .split(/^.*[\\\\\\/]/)[1]\n        .split(\"/\")\n        .pop()\n        .split(\"?\")[0];\n      this.chat.push(msg);\n      // this.$session.set(\"BotResponse_Conversation\", this.chat);\n      this.update_scrollbar(\"upto_end\", \"response\");\n    },\n    generate_order_details(order) {},\n    async adddropdownvalue(value) {\n      this.selected_indication = value;\n      if (value.length > 0) {\n        this.to_send = \"\";\n        this.res = {};\n        for (let i = 0; i < this.selected_indication.length; i++) {\n          let parsedJson = JSON.parse(\n            `{${this.selected_indication[i].value.split(\"{\")[1]}`\n          );\n          if (i == 0) {\n            this.to_send = this.selected_indication[i].title;\n          } else {\n            this.to_send =\n              this.to_send + \", \" + this.selected_indication[i].title;\n          }\n          if (this.res[Object.keys(parsedJson)[0].toString()] == undefined) {\n            this.res[Object.keys(parsedJson)[0].toString()] = Object.values(\n              parsedJson\n            )[0].toString();\n          } else {\n            this.res[Object.keys(parsedJson)[0].toString()] =\n              this.res[Object.keys(parsedJson)[0].toString()] +\n              \",\" +\n              Object.values(parsedJson)[0].toString();\n          }\n        }\n        this.button_fill();\n      } else {\n        this.to_send = \"\";\n        this.res = {};\n      }\n      this.button_fill();\n    },\n    button_fill() {\n      if (this.to_send == \"\") {\n        document.querySelector(\"#send_button\").classList.remove(\"filled\");\n      } else if (this.to_send != \"\") {\n        if (this.live_chat_on) {\n          this.channel.push(\"started_typing\");\n          this.stop_typing(this);\n        }\n        document.querySelector(\"#send_button\").classList.add(\"filled\");\n      }\n    },\n    stop_typing: debounce(function (vm) {\n      vm.channel.push(\"stopped_typing\");\n    }, 1000),\n    scroll_down() {\n      if (\n        document.querySelector(\".chat-body\").scrollHeight -\n          document.querySelector(\".chat-body\").scrollTop <=\n        document.querySelector(\".chat-body\").clientHeight\n      ) {\n        this.to_scroll = false;\n      } else {\n        this.to_scroll = true;\n      }\n    },\n    load_buttons(message, index, type) {\n      if (type === \"display_success_toastr\") {\n        swal({\n          text: \"Some error occurred while testing.\",\n          toast: true,\n          showCancelButton: false,\n          showConfirmButton: false,\n          type: \"error\",\n          timer: 5000,\n        });\n        var msg = {\n          conversation_only: true,\n          time: this.generate_time(),\n          ask_feedback: false,\n          received:\n            \"Some error occurred while testing. Please try by refreshing the browser! If the issue persists, please contact system admin.\",\n          receiving: true,\n        };\n        this.chat.push(msg);\n        return;\n      }\n      var msg = {\n        conversation_only: true,\n        buttons_list: [],\n        button_prefix: message.prefix,\n        custom_buttons: false,\n        receiving: true,\n        received: message.text,\n        time: null,\n      };\n      if (message.buttons.length == 3) {\n        if (\n          message.buttons[0].title == \"Exchange Rate\" &&\n          message.buttons[1].title == \"Track My Parcel\" &&\n          message.buttons[2].title == \"Call Helpdesk\"\n        ) {\n          msg.removable = false;\n        }\n      }\n      if (\n        message.text == \"Would you like to share your name and number?\" &&\n        this.isexchange\n      ) {\n        $(\"#response_bot_text\").prop(\"disabled\", true);\n      }\n      for (var i in message.buttons) {\n        if (msg.button_prefix != null) {\n          msg.buttons_list.push({\n            title: message.buttons[i].title,\n            value: msg.button_prefix + message.buttons[i].value,\n          });\n        } else {\n          msg.buttons_list.push({\n            title: message.buttons[i].title,\n            value: message.buttons[i].value,\n          });\n        }\n        if (\n          msg.buttons_list[i].title == \"No\" &&\n          message.text != \"Can I help you with anything else?\" &&\n          this.companyid == \"clinicaltrials81352\"\n        ) {\n          msg.buttons_list[i].value = \"isdisabled\";\n        }\n      }\n      // setTimeout(() => {\n        var chatIndex = this.chat.push(msg);\n        if (index == \"is_button\" || index == 0) {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\").children().last().height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              this.animate_chat_body_scroll(1, 1500);\n            } else {\n              this.animate_chat_body_scroll(50, 1500, true);\n            }\n          }, 1000);\n        } else {\n          this.scroll_down();\n        }\n        this.chat[chatIndex - 1].custom_buttons = true;\n        // this.$session.set(\"BotResponse_Conversation\", this.chat);\n        setTimeout(() => {\n          this.chat[chatIndex - 1].time = this.generate_time();\n        }, 500);\n      // }, 500);\n    },\n    multiselect_load(message, index) {\n      var msg = {\n        conversation_only: true,\n        multiselect_values: message.custom.values,\n        placeholder: message.custom.placeholder,\n        is_multiselect: true,\n        value_mapping: [],\n        receiving: true,\n        received: message.text,\n        disabled: false,\n        time: this.generate_time(),\n      };\n      this.chat.push(msg);\n    },\n    load_table(message, index) {\n      let msg = {\n        conversation_only: true,\n        col_list: Object.keys(message.custom.values[0]),\n        table_value: message.custom.values,\n        receiving: true,\n        received: message.text,\n        is_table: true,\n        time: this.generate_time(),\n      };\n\n      setTimeout(() => {\n        this.chat.push(msg);\n        if (index == 0) {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\").children().last().height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              this.animate_chat_body_scroll(1, 1500);\n            } else {\n              this.animate_chat_body_scroll(0.7, 1500);\n            }\n          }, 1000);\n        } else {\n          this.animate_chat_body_scroll(100, 1500, true);\n          this.scroll_down();\n        }\n      }, 2500);\n    },\n    load_text_area(message, index) {\n      let msg = {\n        conversation_only: true,\n        receiving: true,\n        received: message.text,\n        show_text_area: true,\n        disabled: false,\n        time: this.generate_time(),\n      };\n\n      setTimeout(() => {\n        this.chat.push(msg);\n        if (index == 0) {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\").children().last().height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              this.animate_chat_body_scroll(1, 1500);\n            } else {\n              this.animate_chat_body_scroll(0.7, 1500);\n            }\n          }, 1000);\n        } else {\n          this.animate_chat_body_scroll(100, 1500, true);\n\n          this.scroll_down();\n        }\n      }, 2500);\n    },\n    start_live_chat() {\n      // var msg = {};\n      // msg.receiving = true;\n      // msg.received =\n      //   \"I am connecting you to one of our support agents. Please wait for a while.\";\n      // msg.conversation_only = true;\n      // msg.time = this.generate_time();\n      // this.update_scrollbar(\"upto_end\", \"response\");\n      // this.chat.push(msg);\n      // this.chat.push({\n      //   receiving: true,\n      //   received: \"What's your name?\",\n      //   conversation_only: true,\n      //   time: this.generate_time(),\n      // });\n      // this.new_update_response(0);\n      // this.scroll_down();\n      this.chat_socket = new Socket(\n        process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT,\n        {\n          params: {\n            username: this.$session.get(\"UserInformation\").email,\n            token: this.$session.get(\"UserInformation\").tokens,\n            role: this.$session.get(\"UserInformation\").role,\n          },\n        }\n      );\n      this.chat_socket.connect();\n      this.support_channel = this.chat_socket.channel(\n        \"companies:\" + this.$session.get(\"UserInformation\").company_name\n      );\n      this.support_channel.join();\n      const vm = this;\n      this.support_channel.push(\"customer_wants_presence\");\n      this.support_channel.on(\"customer_gets_presence\", (res) => {\n        if (Boolean(res[vm.companyname]) === true) {\n          var company_presence = res[vm.companyname][\"metas\"];\n          // console.log(company_presence);\n          let self_user_index = company_presence\n            .map(function (e) {\n              return e.user_info.username;\n            })\n            .indexOf(vm.$session.get(\"UserInformation\").email);\n          if (self_user_index !== -1) {\n            company_presence.splice(self_user_index, 1);\n          }\n          let present_role_list = [];\n          company_presence.filter((each) =>\n            present_role_list.push(each.user_info.role)\n          );\n          let unique_role_list = present_role_list.filter(\n            (x, i, a) => a.indexOf(x) == i\n          );\n          if (\n            unique_role_list.includes(\"Admin\") ||\n            unique_role_list.includes(\"support agent\")\n          ) {\n            vm.is_support_agent_present = true;\n          } else {\n            vm.is_support_agent_present = false;\n          }\n        } else {\n          vm.is_support_agent_present = false;\n        }\n        vm.connect_support_agent();\n        // console.log(res)\n      });\n\n      // presence.onSync((res) => {\n      // console.log(res)\n      // })\n      // axios.get(api_calls.chat_group_api()).then((response) => {\n      //   this.chat_group_name = response.data.chat_group_name;\n      //   this.live_chat_token = response.data.token;\n      //   this.live_chat_on = true;\n      //   this.chat_socket = new Socket(\n      //     process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT,\n      //     {\n      //       params: {\n      //         company: this.$session.get(\"UserInformation\").company_name,\n      //         chat_group_name: this.chat_group_name,\n      //         token: this.live_chat_token,\n      //       },\n      //     }\n      //   );\n      //   this.chat_socket.connect();\n      //   this.channel = this.chat_socket.channel(\n      //     \"customers_groups:\" + this.chat_group_name\n      //   );\n      //   this.channel.join();\n      //   this.channel.push(\"customer_needs_support_agent\");\n      //   this.channel.on(\"new_chat_message\", (res) => {\n      //     if (res.sender != \"customer\") {\n      //       this.chat.push({\n      //         receiving: true,\n      //         received: res.message,\n      //         time: this.generate_time(),\n      //         conversation_only: true,\n      //       });\n      //       setTimeout(() => {\n      //         this.scroll_down();\n      //         if (\n      //           $(\".chat-body\").children().last().height() /\n      //             $(\".chat-body\").height() <\n      //           0.5\n      //         ) {\n      //           this.animate_chat_body_scroll(1, 1500);\n      //         } else if (\n      //           $(\".receiver\").last().parent().height() /\n      //             $(\".chat-body\").height() >\n      //             0.5 &&\n      //           $(\".receiver\").last().parent().height() /\n      //             $(\".chat-body\").height() <\n      //             0.6\n      //         ) {\n      //           this.animate_chat_body_scroll(0.9, 1500);\n      //         } else {\n      //           this.animate_chat_body_scroll(0.75, 1500);\n      //         }\n      //       }, 1000);\n      //       if (\n      //         $(\".chat-body\").height() - $(\".chat-body\").prop(\"scrollHeight\") !=\n      //         0\n      //       ) {\n      //         this.scroll_down();\n      //       }\n      //     }\n      //   });\n      //   this.channel.on(\"stopped_chat\", (res) => {\n      //     this.chat.push({\n      //       conversation_only: true,\n      //       receiving: true,\n      //       received: \"Support agent \" + res.message,\n      //       time: this.generate_time(),\n      //     });\n      //     this.live_chat_on = false;\n      //     this.update_scrollbar(\"upto_end\", \"response\");\n      //   });\n      //   this.channel.on(\"started_typing\", (res) => {\n      //     this.is_agent_typing = true;\n      //     this.is_typing_indicator_on = true;\n      //   });\n      //   this.channel.on(\"stopped_typing\", (res) => {\n      //     this.is_agent_typing = false;\n      //     this.is_typing_indicator_on = false;\n      //   });\n      // });\n    },\n    connect_support_agent() {\n      this.support_channel.leave();\n      this.chat_socket.disconnect();\n      this.chat_socket = null;\n      if (this.is_support_agent_present === true) {\n        var msg = {};\n        msg.receiving = true;\n        msg.received =\n          \"I am connecting you to one of our support agents. Please wait for a while.\";\n        msg.conversation_only = true;\n        msg.time = this.generate_time();\n        this.update_scrollbar(\"upto_end\", \"response\");\n        this.chat.push(msg);\n        this.chat.push({\n          receiving: true,\n          received: \"What's your name?\",\n          conversation_only: true,\n          time: this.generate_time(),\n        });\n        this.new_update_response(0);\n        this.scroll_down();\n        axios.get(api_calls.chat_group_api()).then((response) => {\n          this.chat_group_name = response.data.chat_group_name;\n          this.live_chat_token = response.data.token;\n          this.live_chat_on = true;\n          this.chat_socket = new Socket(\n            process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT,\n            {\n              params: {\n                company: this.$session.get(\"UserInformation\").company_name,\n                chat_group_name: this.chat_group_name,\n                token: this.live_chat_token,\n              },\n            }\n          );\n          this.chat_socket.connect();\n          this.channel = this.chat_socket.channel(\n            \"customers_groups:\" + this.chat_group_name\n          );\n          this.channel.join();\n          this.channel.push(\"customer_needs_support_agent\");\n          this.channel.on(\"new_chat_message\", (res) => {\n            if (res.sender != \"customer\") {\n              this.chat.push({\n                receiving: true,\n                received: res.message,\n                time: this.generate_time(),\n                conversation_only: true,\n              });\n              setTimeout(() => {\n                this.scroll_down();\n                if (\n                  $(\".chat-body\").children().last().height() /\n                    $(\".chat-body\").height() <\n                  0.5\n                ) {\n                  this.animate_chat_body_scroll(1, 1500);\n                } else if (\n                  $(\".receiver\").last().parent().height() /\n                    $(\".chat-body\").height() >\n                    0.5 &&\n                  $(\".receiver\").last().parent().height() /\n                    $(\".chat-body\").height() <\n                    0.6\n                ) {\n                  this.animate_chat_body_scroll(0.9, 1500);\n                } else {\n                  this.animate_chat_body_scroll(0.75, 1500);\n                }\n              }, 1000);\n              if (\n                $(\".chat-body\").height() -\n                  $(\".chat-body\").prop(\"scrollHeight\") !=\n                0\n              ) {\n                this.scroll_down();\n              }\n            }\n          });\n          this.channel.on(\"stopped_chat\", (res) => {\n            this.chat.push({\n              conversation_only: true,\n              receiving: true,\n              received: \"Support agent \" + res.message,\n              time: this.generate_time(),\n            });\n            this.live_chat_on = false;\n            this.channel.leave();\n            this.live_chat_token = null;\n            this.chat_group_name = null;\n            this.user_name = \"\";\n            this.chat_socket.disconnect();\n            this.update_scrollbar(\"upto_end\", \"response\");\n          });\n          this.channel.on(\"started_typing\", (res) => {\n            this.is_agent_typing = true;\n            this.is_typing_indicator_on = true;\n          });\n          this.channel.on(\"stopped_typing\", (res) => {\n            this.is_agent_typing = false;\n            this.is_typing_indicator_on = false;\n          });\n        });\n      } else {\n        this.support_subscription_data();\n      }\n    },\n    submit_custom_form() {\n      if (document.querySelector(\"#details_form\") != null) {\n        var element = document.querySelector(\"#details_form\");\n        element.addEventListener(\"submit\", (event) => {\n          event.preventDefault();\n          // actual logic, e.g. validate the form\n          var queryString = $(\"#details_form\").serializeArray();\n          if (this.form_payload == null) {\n            this.form_payload = {};\n            for (var i in queryString) {\n              this.form_payload[queryString[i].name] = queryString[i].value;\n            }\n            axios\n              .post(api_calls.bot_user_data(), {\n                license_key: this.$session.get(\"UserInformation\").license_key,\n                data: this.form_payload,\n                token: this.bot_response_token_value,\n                username: this.$session.get(\"UserInformation\").email,\n                source: \"Web\",\n                token: this.bot_response_token_value,\n                role: this.$session.get(\"UserInformation\").role,\n              })\n              .then((response) => {\n                if (response.data == \"Bot User Data Saved Successfully\") {\n                  $(\"#details_form :input\").prop(\"disabled\", true);\n                  $(\"#details_form :button\").prop(\"disabled\", true);\n                  this.update_scrollbar(\"upto_end\", \"response\");\n                  axios\n                    .post(api_calls.chatbot_response_cense(), {\n                      chat: \"/details_form\",\n                      token: this.bot_response_token_value,\n                      username: this.$session.get(\"UserInformation\").email,\n                      source: \"Web\",\n                      license_key: this.$session.get(\"UserInformation\")\n                        .license_key,\n                      Details: JSON.stringify(this.form_payload),\n                      role: this.$session.get(\"UserInformation\").role,\n                      refreshed_or_closed: false,\n                    })\n                    .then((resp) => {\n                      this.response_handling(resp);\n                      this.animate_chat_body_scroll(1, 1000);\n                    });\n                }\n              })\n              .catch((e) => {\n                console.log(e);\n              });\n          }\n        });\n      }\n    },\n    update_scrollbar(type, msgType, iswelcome, delay_value) {\n      var scroll_delay = iswelcome == \"is_welcome\" ? delay_value : 2000;\n      this.is_typing_indicator_on = true;\n      if (msgType == \"response\") {\n        setTimeout(() => {\n          this.is_typing_indicator_on = false;\n        }, scroll_delay);\n      } else if (msgType == \"sender\") {\n        this.animate_chat_body_scroll(1, 750);\n      }\n      if (msgType == \"response\") {\n        if (type == \"upto_end\") {\n          setTimeout(() => {\n            if (\n              $(\".chat-body\").prop(\"scrollTop\") <\n              $(\".chat-body\").prop(\"scrollHeight\")\n            ) {\n              if (\n                $(\".receiver\").last().parent().height() /\n                  $(\".chat-body\").height() >\n                0.5\n              ) {\n                this.animate_chat_body_scroll(0.75, 1500);\n                this.scroll_down();\n              }\n            } else if (\n              $(\".receiver\").last().parent().height() /\n                $(\".chat-body\").height() <\n              0.5\n            ) {\n              this.animate_chat_body_scroll(1, scroll_delay);\n            }\n          }, scroll_delay);\n        } else {\n          setTimeout(() => {\n            document.querySelector(\".chat-body\").scrollTop =\n              document.querySelector(\".chat-body\").scrollHeight -\n              document.querySelector(\".chat-body\").lastChild.scrollHeight;\n          }, 1000);\n        }\n      }\n    },\n    new_update_response(index) {\n      if (index == 0) {\n        setTimeout(() => {\n          this.scroll_down();\n          if (\n            $(\".chat-body\").children().last().height() /\n              $(\".chat-body\").height() <\n            0.5\n          ) {\n            this.animate_chat_body_scroll(1, 1500);\n          } else if (\n            $(\".receiver\").last().parent().height() / $(\".chat-body\").height() >\n              0.5 &&\n            $(\".receiver\").last().parent().height() / $(\".chat-body\").height() <\n              0.6\n          ) {\n            this.animate_chat_body_scroll(1, 1500);\n          } else {\n            this.animate_chat_body_scroll(1, 1500);\n          }\n        }, 1000);\n      }\n      if (\n        $(\".chat-body\").height() - $(\".chat-body\").prop(\"scrollHeight\") !=\n        0\n      ) {\n        this.scroll_down();\n      }\n      if (\n        $(\".chat-body\").height() - $(\".chat-body\").prop(\"scrollHeight\") ===\n        0\n      ) {\n        this.to_scroll = false;\n      }\n    },\n    animate_chat_body_scroll(scale, delay, offset) {\n      if (Boolean(offset)) {\n        $(\".chat-body\").animate(\n          {\n            scrollTop: $(\".chat-body\").prop(\"scrollTop\") + scale,\n          },\n          delay\n        );\n      } else {\n        $(\".chat-body\").animate(\n          {\n            scrollTop: scale * $(\".chat-body\").prop(\"scrollHeight\"),\n          },\n          delay\n        );\n      }\n    },\n    add_bot_unanswered_question(index, method) {\n      axios\n        .put(\n          api_calls.get_unanswered_url(),\n          {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            bot_answer: this.chat[index].received,\n            user_query: this.chat[index - 1].sent,\n            feedback: method ? \"like\" : \"dislike\",\n            username: this.$session.get(\"UserInformation\").email,\n            companyid: this.$session.get(\"UserInformation\").company_id,\n            companyname: this.$session.get(\"UserInformation\").company_name,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${this.$session.get(\"at\")}`,\n            },\n          }\n        )\n        .then(() => {\n          this.chat[index].ask_feedback = false;\n        })\n        .catch(() => {});\n    },\n    load_refunds() {\n      let msg = {\n        conversation_only: true,\n        is_refund: true,\n        receiving: true,\n        received: this.retail_order_retreival_only_email_required\n          ? \"Please enter email to fetch your orders.\"\n          : \"Please login to fetch your recent orders\",\n        time: this.generate_time(),\n      };\n\n      setTimeout(() => {\n        let latestChatIndex = this.chat.push(msg);\n        latestChatIndex -= 1;\n        this.chat[latestChatIndex].fetch_shopify_details = true;\n        this.scroll_down();\n      }, 1000);\n    },\n    view_order_details(chatIndex, orderIndex, orderLineItems, orderRefunds) {\n      this.chat[chatIndex].refund_selected_items = [];\n      this.chat[chatIndex].shopify_reason_for_refund_list = null;\n      this.chat[chatIndex].shopify_reason_for_refund = null;\n      this.chat[chatIndex].refund_order_view_details = Object(\n        this.chat[chatIndex].refund_orders_list[orderIndex]\n      );\n      this.chat[chatIndex].refund_order_view_details.line_items = orderLineItems.map(\n        (lineItem) => {\n          let lineItemNode = lineItem;\n          lineItemNode.selected_quantity = this.retail_web_framework == \"magento\" ? lineItem.qty_ordered : lineItem.quantity;\n          lineItemNode.already_refunded_qty = this.retail_web_framework == \"magento\" ? lineItem.qty_refunded : 0;\n          lineItemNode.qty_available_for_refund = this.retail_web_framework == \"magento\" ? lineItem.qty_ordered : lineItem.quantity;\n          lineItemNode.product_id = lineItem.product_id;\n          lineItemNode.variant_id = this.retail_web_framework == \"magento\" ? lineItem.sku : lineItem.variant_id;\n          return lineItemNode;\n        }\n      );\n      if (Boolean(orderRefunds) === true){\n        orderRefunds = orderRefunds.map(lineItem=>{ return lineItem.refund_line_items[0]});\n        var AlreadyRefundedQty = [];\n        orderRefunds.reduce(function(res, value) {\n          if (!res[value.line_item_id]) {\n            res[value.line_item_id] = { line_item_id: value.line_item_id, quantity: 0 };\n            AlreadyRefundedQty.push(res[value.line_item_id])\n          }\n          res[value.line_item_id].quantity += value.quantity;\n          return res;\n        }, {});\n        let temp = this.chat[chatIndex].refund_order_view_details.line_items;\n        this.chat[chatIndex].refund_order_view_details.line_items = temp.map(lineItem=>{\n            let lineItemNode = lineItem;\n            for(var i in AlreadyRefundedQty){\n                if (lineItem.id == AlreadyRefundedQty[i].line_item_id){\n                    lineItemNode.already_refunded_qty = AlreadyRefundedQty[i]['quantity'];\n                    lineItemNode.qty_available_for_refund = (lineItem.quantity)-(AlreadyRefundedQty[i]['quantity']);\n                    lineItemNode.selected_quantity = (lineItem.quantity)-(AlreadyRefundedQty[i]['quantity']);\n                    lineItemNode.product_id = lineItem.product_id;\n                    lineItemNode.variant_id = this.retail_web_framework == \"magento\" ? lineItem.sku : lineItem.variant_id;\n                }\n            };\n        return lineItemNode;\n        });\n      }\n      this.$set(\n            this.chat, chatIndex,\n            this.chat[chatIndex]\n          );\n    },\n    refresh_or_remove_order_details(chatIndex, val) {\n      if (val == \"remove\") {\n        this.chat[chatIndex].refund_order_view_details = {};\n      }\n      this.$set(\n            this.chat, chatIndex,\n            this.chat[chatIndex]\n          );\n    },\n    load_customer_orders(ordersData, index, order_type) {\n      // this.chat[index].received = `Order ${orderName}`;\n      this.is_typing_indicator_on = true;\n      if (order_type === \"refund\") {\n        this.chat[index].received = \"Fetching your orders ...\";\n        this.chat[index].refund_orders_list = ordersData.map((order) => {\n          let orderObject = order;\n          orderObject.created_at = moment(orderObject.created_at, [\n            \"YYYY-MM-DDTh:m:sZ\",\n          ]).format(\"Do MMM YYYY\");\n          orderObject.name = this.retail_web_framework == \"shopify\" ? orderObject.name : orderObject.id;\n          orderObject.processedAt = moment(orderObject.created_at, [\n            \"YYYY-MM-DDThh:mm:ssZ\",\n          ]).format(\"Do MMM YYYY\");\n            // cur_node.fulfillmentStatus = cur_node.fulfillment_status;\n          orderObject.fulfillment_status =\n            Boolean(orderObject.fulfillment_status) === true\n              ? orderObject.fulfillment_status\n              : \"Unfulfilled\";\n          // Set only first character to uppercase while remaining characters set to lowercase\n          orderObject.fulfillment_status =\n          orderObject.fulfillment_status.charAt(0).toUpperCase() +\n          orderObject.fulfillment_status.slice(1).toLowerCase();\n\n          if(this.retail_web_framework != \"shopify\") {\n            for (let i = 0; i < orderObject.order_notes.length; i++){\n              orderObject.order_notes[i].date_created = moment(orderObject.order_notes[i].date_created, [\n            \"YYYY-MM-DDThh:mm:ssZ\",\n            ]).format(\"Do MMM YYYY HH:mm a\")\n            }\n          }\n          return orderObject;\n        });\n        if (this.chat[index].refund_orders_list.length === 0) {\n          this.chat[index].received = \"There are no orders to be displayed\";\n        } else {\n          this.chat[index].received =\n            \"Select the order that you wish to return\";\n        }\n        // this.refund_order_view_details = {};\n        this.chat[index].refund_order_view_details = {};\n        this.chat[index].refund_selected_items = [];\n        this.chat[index].shopify_reason_for_refund_list = null;\n        this.chat[index].shopify_reason_for_refund = null;\n        this.chat[index].conversation_only = false;\n        this.chat[index].conversation_only = true;\n      } else if (order_type === \"all_orders\") {\n        let orders_data = ordersData,\n          complete_orders_data = [];\n        for (let i = 0; i < orders_data.length; i++) {\n          var cur_node = orders_data[i];\n          cur_node.processedAt = moment(cur_node.created_at, [\n            \"YYYY-MM-DDThh:mm:ssZ\",\n          ]).format(\"Do MMM YYYY\");\n          // cur_node.fulfillmentStatus = cur_node.fulfillment_status;\n          cur_node.fulfillment_status =\n            Boolean(cur_node.fulfillment_status) === true\n              ? cur_node.fulfillment_status\n              : \"Unfulfilled\";\n          // // Set only first character to uppercase while remaining characters set to lowercase\n          cur_node.fulfillment_status =\n            cur_node.fulfillment_status.charAt(0).toUpperCase() +\n            cur_node.fulfillment_status.slice(1).toLowerCase();\n          if(this.retail_web_framework != \"shopify\") {\n            for (let i = 0; i < cur_node.order_notes.length; i++){\n              cur_node.order_notes[i].date_created = moment(cur_node.order_notes[i].date_created, [\n            \"YYYY-MM-DDThh:mm:ssZ\",\n            ]).format(\"Do MMM YYYY HH:mm a\")\n            }\n          }\n          complete_orders_data.push({\n            name: this.retail_web_framework == \"shopify\" ? cur_node.name : cur_node.id,\n            processed_date: cur_node.processedAt,\n            fulfillment_status: cur_node.fulfillment_status,\n            status_url: cur_node.order_status_url,\n            order_notes: this.retail_web_framework == \"shopify\" ? null : cur_node.order_notes,\n          });\n        }\n        this.chat[index].show_all_orders_list = true;\n        this.chat[index].all_orders_list = complete_orders_data;\n        if (this.chat[index].all_orders_list.length === 0) {\n          this.chat[index].received = \"There are no orders to be displayed\";\n          this.chat[index].show_all_orders_list = false;\n        }else {\n          this.chat[index].received =\n          \"Please Find Below Your Latest Orders:\";\n        }\n        this.chat[index].recent_orders_list = complete_orders_data;\n        setTimeout(() => {\n          this.chat[index].conversation_only = true;\n        }, 500);\n      }\n      this.is_typing_indicator_on = false;\n    },\n    submit_refund_request(refund_order_view_details, index) {\n      if (\n        this.chat[index].shopify_reason_for_refund_list === null\n      ) {\n        this.show_shopify_reason_for_refund_error = true;\n        return\n      } \n      if(        \n        this.chat[index].shopify_reason_for_refund_list === 'Others'\n      ){\n        if (this.chat[index].shopify_reason_for_refund === null ||\n          this.chat[index].shopify_reason_for_refund === \"\")\n          {\n            this.show_shopify_reason_for_refund_error = true;\n            return\n          }\n      }else{\n        this.chat[index].shopify_reason_for_refund = this.chat[index].shopify_reason_for_refund_list;\n      } \n      // else {\n        this.show_shopify_reason_for_refund_error = false;\n        let items_to_refund = refund_order_view_details.line_items.filter((lineItem) => {\n          if (this.retail_web_framework == 'magento') {\n            return this.chat[index].refund_selected_items.includes(lineItem.product_id);\n          } else {\n            return this.chat[index].refund_selected_items.includes(lineItem.id);\n          }\n        });\n        for (let i = 0; i <items_to_refund.length; i++){\n          if(items_to_refund[i].selected_quantity === null ||\n            Boolean(items_to_refund[i].selected_quantity) === false){\n             swal({\n              text: \"Please enter the product quantity in numeric only\",\n              toast: true,\n              position: \"top-end\",\n              type: \"warning\",\n              showConfirmButton: false,\n              timer: 5000,\n            });\n            return;\n          }\n        }\n        let refund_payload_string = JSON.stringify({\n          orderId: refund_order_view_details.id,\n          order_name: refund_order_view_details.name,\n          customer_id: this.shopify_customer_id,\n          fulfillment_status: refund_order_view_details.fulfillment_status,\n          payment_status: refund_order_view_details.payment_status,\n          currency: this.retail_shop_currency,\n          lineItems: items_to_refund.map((item) => {\n            return {\n              line_item_id: this.retail_web_framework == 'magento' ? item.product_id : item.id,\n              quantity: item.selected_quantity,\n              product_id: item.product_id,\n              variant_id: item.variant_id,\n            };\n          }),\n          refundReason: this.chat[index].shopify_reason_for_refund,\n        });\n        let refund_intent = `/process_refund_request${refund_payload_string}`;\n        let refund_object = {\n          title: \"Proceed\",\n          value: refund_intent,\n        };\n        // console.log(refund_intent);\n        this.send_message(\"is_button\", refund_object);\n        this.chat[index].refund_order_view_details = {};\n        this.chat[index].refund_selected_items = [];\n        this.chat[index].shopify_reason_for_refund_list = null;\n        this.chat[index].shopify_reason_for_refund = null;\n        this.chat.splice(index, 1);\n      // }\n    },\n    shopify_form_focus(index) {\n      if (\n        this.chat[index].received ===\n        \"We are sorry, your credentials are invalid. Please try again :)\"\n      ) {\n        this.chat[index].received = \"Please login with your credentials for better experience :)\";\n      }\n    },\n    shopify_create_customer_token(index, isRefund) {\n      this.is_typing_indicator_on = true;\n      isRefund = isRefund || false;\n      if (this.chat[index].return_shopify_email === true && !isRefund) {\n        this.send_shopify_customer_id(index, true);\n        return;\n      }\n      let shop_endpoint = this.shopify_retail_shop_name + \".myshopify.com\";\n      let queryString = $(\"#shopify_login_form\").serializeArray();\n      let form_payload = {};\n      form_payload[\n        \"shopify_is_only_email\"\n      ] = this.retail_order_retreival_only_email_required;\n      form_payload['email'] = this.chat[index].customer_email_id;\n      form_payload['password'] = this.chat[index].customer_password;\n      // for (var i in queryString) {\n      //   form_payload[queryString[i].name] = this.chat[index].customer_email_id;\n      // }\n      form_payload = JSON.stringify(form_payload);\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n          chat: `/shopify_create_customer_token${form_payload}`,\n          token: this.bot_response_token_value,\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed,\n        })\n        .then(({ data }) => {\n          // console.log(data);\n          // if (Boolean(data.responses[0].Data.accessToken)) {\n          //   let customerToken = data.responses[0].Data.accessToken;\n          //   let tokenExpiry = data.responses[0].Data.expiresAt;\n          //   this.$session.set(\"shopify_customer_token\", customerToken);\n          //   this.$session.set(\"shopify_customer_token_expiry\", tokenExpiry);\n          //   this.shopify_fetch_orders(customerToken, index, isRefund);\n          // } else {\n          //   this.chat[index].received =\n          //     \"We are sorry, your credentials are invalid. Please try again :)\";\n          // }\n          if (data.responses[0].token_type === \"customer_token\") {\n            if (Boolean(data.responses[0].Data)) {\n              if (this.retail_web_framework == \"shopify\"){\n                let customerToken = data.responses[0].Data.accessToken;\n                let tokenExpiry = data.responses[0].Data.expiresAt;\n                this.$session.set(\"shopify_customer_token\", customerToken);\n                this.$session.set(\"shopify_customer_token_expiry\", tokenExpiry);\n                this.shopify_fetch_orders(\n                  customerToken,\n                  index,\n                  isRefund,\n                  \"shopify_customer_token\"\n                );\n              } else if(this.retail_web_framework == \"woocommerce\"){\n                let customerToken = data.responses[0].customer_data.customer_email;\n                let tokenExpiry = data.responses[0].Data.expiresAt;\n                let customerId = data.responses[0].customer_data.customer_id;\n                this.shopify_customer_id = customerId;\n                this.$session.set(\"shopify_customer_token\", customerToken);\n                this.$session.set(\"shopify_customer_token_expiry\", tokenExpiry);\n                this.$session.set(\"shopify_customer_id\", customerId);\n                this.shopify_fetch_orders(\n                  customerToken,\n                  index,\n                  isRefund,\n                  \"shopify_customer_token\"\n                );\n              } else if(this.retail_web_framework == \"magento\"){\n                let customerToken = data.responses[0].customer_data.customer_email;\n                let tokenExpiry = data.responses[0].Data.expiresAt;\n                let customerId = data.responses[0].customer_data.customer_id;\n                this.shopify_customer_id = customerId;\n                this.$session.set(\"shopify_customer_token\", customerToken);\n                this.$session.set(\"shopify_customer_token_expiry\", tokenExpiry);\n                this.$session.set(\"shopify_customer_id\", customerId);\n                this.shopify_fetch_orders(\n                  customerToken,\n                  index,\n                  isRefund,\n                  \"shopify_customer_token\"\n                );\n              }\n            } else {\n              this.chat[index].received =\n                \"We are sorry, your credentials are invalid. Please try again :)\";\n              this.is_typing_indicator_on = false;  \n            }\n          } else if (data.responses[0].token_type === \"customer_id\") {\n            // if (Boolean(data.responses[0].customer_id)) {\n              if (this.retail_web_framework == \"shopify\"){\n                let customerId = data.responses[0].customer_id;\n                let customerEmail = data.responses[0].customer_email;\n                this.shopify_customer_id = customerId;\n                this.$session.set(\"shopify_customer_id\", customerId);\n                this.$session.set(\"shopify_customer_token\", customerEmail);\n                this.shopify_fetch_orders(\n                  customerId,\n                  index,\n                  isRefund,\n                  \"shopify_customer_id\"\n                );\n              } else if(this.retail_web_framework == \"woocommerce\"){\n                let customerId = data.responses[0].customer_id;\n                let customerEmail = data.responses[0].customer_email;\n                this.$session.set(\"shopify_customer_id\", customerId);\n                this.$session.set(\"shopify_customer_token\", customerEmail);\n                this.shopify_fetch_orders(\n                  customerId,\n                  index,\n                  isRefund,\n                  \"shopify_customer_id\"\n                );\n              } else if(this.retail_web_framework == \"magento\"){\n                let customerId = data.responses[0].customer_id;\n                let customerEmail = data.responses[0].customer_email;\n                this.$session.set(\"shopify_customer_id\", customerId);\n                this.$session.set(\"shopify_customer_token\", customerEmail);\n                this.shopify_fetch_orders(\n                  customerId,\n                  index,\n                  isRefund,\n                  \"shopify_customer_id\"\n                );\n              }\n            // } \n            else {\n              this.chat[index].received =\n                \"We are sorry, could not find any records with this email. Please try again :)\";\n              this.is_typing_indicator_on = false;\n            }\n          } else {\n            this.chat[index].received =\n              \"We are sorry, your credentials are invalid. Please try again :)\";\n            this.is_typing_indicator_on = false;\n          }\n          // this.chat.splice(index, 1);\n        });\n    },\n    shopify_fetch_customer_id(customerAccessToken, index, token_type) {\n      let shop_endpoint = this.shopify_retail_shop_name + \".myshopify.com\";\n      this.is_typing_indicator_on = true;\n      if (!Boolean(this.chat[index].refund_orders_list)) {\n        if (token_type === \"shopify_customer_token\") {\n          let stringified_customer_payload = JSON.stringify({\n            customer_access_token: customerAccessToken, //shopify access token == email for woocommerce\n          });\n          axios\n            .post(api_calls.chatbot_response_cense(), {\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.bot_response_token_value,\n              username: this.$session.get(\"UserInformation\").email,\n              source: \"Web\",\n              chat: `/shopify_get_customer_id_and_orders${stringified_customer_payload}`,\n              token: this.bot_response_token_value,\n              role: this.$session.get(\"UserInformation\").role,\n              refreshed_or_closed: this.refreshed_or_closed,\n            })\n            .then(({ data }) => {\n              if (Boolean(data.responses[0].custom)) {\n                this.load_customer_orders(\n                  data.responses[0].custom.orders_list,\n                  index,\n                  \"refund\"\n                );\n                // this.shopify_customer_id = data.responses[0].custom.customer_id;\n              } else {\n                this.chat[index].received =\n                  \"Some Error Occurred. Please Try Again\";\n                this.is_typing_indicator_on = false;\n              }\n              //   let customerId = atob(data.data.customer.id);\n              //   this.shopify_customer_id = customerId.slice(\n              //     customerId.lastIndexOf(\"/\") + 1\n              //   );\n              //   let stringified_customer_payload = JSON.stringify({\n              //     customerId: this.shopify_customer_id,\n              //   });\n              //   this.chat[index].received = \"Fetching your order details ...\";\n              //   axios\n              //     .post(api_calls.chatbot_response_cense(), {\n              //       license_key: this.$session.get(\"UserInformation\").license_key,\n              //       token: this.bot_response_token_value,\n              //       username: this.$session.get(\"UserInformation\").email,\n              //       source: \"Web\",\n              //       chat: `/retrieve_customer_orders${stringified_customer_payload}`,\n              //       token: this.bot_response_token_value,\n              //       role: this.$session.get(\"UserInformation\").role,\n              //       refreshed_or_closed: this.refreshed_or_closed,\n              //     })\n              //     .then((response) => {\n              //       this.load_customer_orders(\n              //         response.data.responses[0].custom.orders_list,\n              //         index\n              //       );\n              //     })\n              //     .catch((e) => {\n              //       console.log(e);\n              //       this.update_scrollbar(\"upto_end\", \"response\");\n              //     });\n            });\n        } else if (token_type == \"shopify_customer_id\") {\n          let stringified_customer_payload = JSON.stringify({\n            customerId: this.shopify_customer_id,\n          });\n          this.chat[index].received = \"Fetching your order details ...\";\n          axios\n            .post(api_calls.chatbot_response_cense(), {\n              license_key: this.$session.get(\"UserInformation\").license_key,\n              token: this.bot_response_token_value,\n              username: this.$session.get(\"UserInformation\").email,\n              source: \"Web\",\n              chat: `/retrieve_customer_orders${stringified_customer_payload}`,\n              token: this.bot_response_token_value,\n              role: this.$session.get(\"UserInformation\").role,\n              refreshed_or_closed: this.refreshed_or_closed,\n            })\n            .then((response) => {\n              this.load_customer_orders(\n                response.data.responses[0].custom.orders_list,\n                index,\n                \"refund\"\n              );\n            })\n            .catch((e) => {\n              this.is_typing_indicator_on = false;\n              console.log(e);\n              this.update_scrollbar(\"upto_end\", \"response\");\n            });\n        }\n      }\n    },\n    shopify_fetch_orders(customerAccessToken, index, isRefund, token_type) {\n      this.is_typing_indicator_on = true;\n      isRefund = isRefund || false;\n      this.chat[index].conversation_only = false;\n      let shop_endpoint = this.shopify_retail_shop_name + \".myshopify.com\";\n      if (token_type === \"shopify_customer_token\") {\n        let stringified_customer_payload = JSON.stringify({\n          customer_access_token: customerAccessToken, //woocommerce customer email\n        });\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: `/shopify_get_customer_orders${stringified_customer_payload}`,\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed,\n          })\n          .then(({ data }) => {\n            this.is_typing_indicator_on = false;\n            try {\n              let customerId = atob(data.responses[0].data.customer.id);\n              this.shopify_customer_id = customerId.slice(\n                customerId.lastIndexOf(\"/\") + 1\n              );\n              this.$session.set(\"shopify_customer_id\", this.shopify_customer_id);\n            } catch (e) {}\n            \n            if (this.retail_web_framework == \"shopify\"){\n              let ordersData = data.responses[0].data.customer.orders.edges;\n              if (typeof index == \"number\" && ordersData.length > 0) {\n                // ordersData = ordersData[0].node;\n                // let orderName = ordersData.name;\n                // let orderStatusUrl = ordersData.statusUrl;\n                // let orderProcessingDate = moment(ordersData.processedAt, [\n                //   \"YYYY-MM-DDThh:mm:ssZ\",\n                // ]).format(\"Do MMM YYYY\");\n                if (isRefund) {\n                  this.shopify_fetch_customer_id(\n                    customerAccessToken,\n                    index,\n                    \"shopify_customer_token\"\n                  );\n                } else {\n                  this.is_typing_indicator_on = false;\n                  //   let orderFulfillmentStatus = ordersData.fulfillmentStatus.replace(\n                  //     \"_\",\n                  //     \" \"\n                  //   );\n                  //   let successfulOrderFulfillments =\n                  //     ordersData.successfulFulfillments;\n                  //   // Set only first character to uppercase while remaining characters set to lowercase\n                  //   orderFulfillmentStatus =\n                  //     orderFulfillmentStatus.charAt(0).toUpperCase() +\n                  //     orderFulfillmentStatus.slice(1).toLowerCase();\n\n                  //   let orderDetailsMsg = `Here's the status of your recent order:<br>\n                  // Order - <a href=\"${orderStatusUrl}\" target=\"_blank\">#${orderName}</a><br>\n                  // Order Processed On: ${orderProcessingDate}<br>\n                  // Fulfillment Status: ${orderFulfillmentStatus}<br>`;\n                  //   if (orderFulfillmentStatus == \"FULFILLED\") {\n                  //     successfulOrderFulfillments = successfulOrderFulfillments[0];\n                  //     orderDetailsMsg += `You can track your order here<a href=\"${successfulOrderFulfillments.trackingInfo.url}\" data-copy-content=\"${successfulOrderFulfillments.trackingInfo.number}\">\n                  //   ${successfulOrderFulfillments.trackingInfo.number}</a><i class=\"fa fa-clipboard ml-2\" aria-hidden=\"true\" data-copy-content=\"${successfulOrderFulfillments.trackingInfo.number}\"></i><br>`;\n                  //   }\n                  //   this.chat[index].received = orderDetailsMsg;\n                  let orders_data = data.responses[0].data.customer.orders.edges,\n                    complete_orders_data = [];\n                  for (let i = 0; i < orders_data.length; i++) {\n                    var cur_node = orders_data[i].node;\n                    cur_node.processedAt = moment(cur_node.processedAt, [\n                      \"YYYY-MM-DDThh:mm:ssZ\",\n                    ]).format(\"Do MMM YYYY\");\n                    cur_node.fulfillmentStatus = cur_node.fulfillmentStatus.replace(\n                      \"_\",\n                      \" \"\n                    );\n                    // Set only first character to uppercase while remaining characters set to lowercase\n                    cur_node.fulfillmentStatus =\n                      cur_node.fulfillmentStatus.charAt(0).toUpperCase() +\n                      cur_node.fulfillmentStatus.slice(1).toLowerCase();\n                    complete_orders_data.push({\n                      name: cur_node.name,\n                      processed_date: cur_node.processedAt,\n                      fulfillment_status: cur_node.fulfillmentStatus,\n                      status_url: cur_node.statusUrl,\n                    });\n                  }\n                  this.chat[index].show_all_orders_list = true;\n                  this.chat[index].all_orders_list = complete_orders_data;\n                  this.chat[index].received =\n                    \"Please Find Below Your Latest Orders:\";\n                    \n                  this.chat[index].recent_orders_list =\n                    data.responses[0].data.customer.orders.edges;\n                } \n              }\n              setTimeout(() => {\n                this.chat[index].conversation_only = true;\n              }, 500);\n            } else if (this.retail_web_framework == \"woocommerce\"){\n              if (isRefund) {\n                  this.load_customer_orders(\n                    data.responses[0].data.customer.orders,\n                    index,\n                    isRefund ? \"refund\" : \"all_orders\"\n                  );\n                }else{\n                  this.is_typing_indicator_on = false;\n              let orders_data = data.responses[0].data.customer.orders,\n                complete_orders_data = [];\n              for (let i = 0; i < orders_data.length; i++) {\n                var cur_node = orders_data[i];\n                cur_node.processedAt = moment(cur_node.created_at, [\n                  \"YYYY-MM-DDThh:mm:ssZ\",\n                ]).format(\"Do MMM YYYY\");\n                cur_node.fulfillment_status =\n                Boolean(cur_node.fulfillment_status) === true\n                  ? cur_node.fulfillment_status\n                  : \"Unfulfilled\";\n                // Set only first character to uppercase while remaining characters set to lowercase\n                cur_node.fulfillment_status =\n                  cur_node.fulfillment_status.charAt(0).toUpperCase() +\n                  cur_node.fulfillment_status.slice(1).toLowerCase();\n                for (let i = 0; i < cur_node.order_notes.length; i++){\n                  cur_node.order_notes[i].date_created = moment(cur_node.order_notes[i].date_created, [\n                \"YYYY-MM-DDThh:mm:ssZ\",\n                ]).format(\"Do MMM YYYY HH:mm a\")\n                }\n                complete_orders_data.push({\n                  name: cur_node.id,\n                  processed_date: cur_node.processedAt,\n                  fulfillment_status: cur_node.fulfillment_status,\n                  status_url: cur_node.order_status_url,\n                  order_notes: cur_node.order_notes\n                });\n              }\n              this.chat[index].show_all_orders_list = true;\n              this.chat[index].all_orders_list = complete_orders_data;\n              this.chat[index].received =\n                \"Please Find Below Your Latest Orders:\";\n              this.chat[index].show_all_orders_list = true;\n              this.chat[index].recent_orders_list = complete_orders_data;\n                }\n              setTimeout(() => {\n                this.chat[index].conversation_only = true;\n              }, 500);\n            } else if(this.retail_web_framework == \"magento\"){\n              if (isRefund) {\n                  this.load_customer_orders(\n                    data.responses[0].data.customer.orders,\n                    index,\n                    isRefund ? \"refund\" : \"all_orders\"\n                  );\n                }else{\n                  this.is_typing_indicator_on = false;\n              let orders_data = data.responses[0].data.customer.orders,\n                complete_orders_data = [];\n              for (let i = 0; i < orders_data.length; i++) {\n                var cur_node = orders_data[i];\n                cur_node.processedAt = moment(cur_node.created_at, [\n                  \"YYYY-MM-DDThh:mm:ssZ\",\n                ]).format(\"Do MMM YYYY\");\n                cur_node.fulfillment_status =\n                Boolean(cur_node.fulfillment_status) === true\n                  ? cur_node.fulfillment_status\n                  : \"Unfulfilled\";\n                // Set only first character to uppercase while remaining characters set to lowercase\n                cur_node.fulfillment_status =\n                  cur_node.fulfillment_status.charAt(0).toUpperCase() +\n                  cur_node.fulfillment_status.slice(1).toLowerCase();\n                for (let i = 0; i < cur_node.order_notes.length; i++){\n                  cur_node.order_notes[i].date_created = moment(cur_node.order_notes[i].date_created, [\n                \"YYYY-MM-DDThh:mm:ssZ\",\n                ]).format(\"Do MMM YYYY HH:mm a\")\n                }\n                complete_orders_data.push({\n                  name: cur_node.id,\n                  processed_date: cur_node.processedAt,\n                  fulfillment_status: cur_node.fulfillment_status,\n                  status_url: cur_node.order_status_url,\n                  order_notes: cur_node.order_notes\n                });\n              }\n              this.chat[index].show_all_orders_list = true;\n              this.chat[index].all_orders_list = complete_orders_data;\n              this.chat[index].received =\n                \"Please Find Below Your Latest Orders:\";\n              this.chat[index].show_all_orders_list = true;\n              this.chat[index].recent_orders_list = complete_orders_data;\n                }\n              setTimeout(() => {\n                this.chat[index].conversation_only = true;\n              }, 500);\n            }\n          });\n      } else if (token_type === \"shopify_customer_id\") {\n        if(Boolean(this.shopify_customer_id) === false){\n          this.shopify_customer_id = this.$session.get(\"shopify_customer_id\");\n        }\n        var shopify_customer_email = this.$session.get(\"shopify_customer_token\");\n        let stringified_customer_payload = JSON.stringify({\n          customerId: this.shopify_customer_id,\n          email: shopify_customer_email\n        });\n        this.chat[index].received = \"Fetching your order details ...\";\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: `/retrieve_customer_orders${stringified_customer_payload}`,\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed,\n          })\n          .then((response) => {\n            if (response.data.responses[0].custom.orders_list.length == 0 && this.retail_order_retreival_only_email_required){\n              this.is_typing_indicator_on = false;\n              this.chat[index].conversation_only = true;\n              this.chat[index].received = \"There are no orders to be displayed for the given Email or Phone number\";\n              this.shopify_customer_id = null;\n            }else{\n              this.load_customer_orders(\n              response.data.responses[0].custom.orders_list,\n              index,\n              isRefund ? \"refund\" : \"all_orders\"\n            );\n            }\n          })\n          .catch((e) => {\n            this.is_typing_indicator_on = false;\n            console.log(e);\n            this.update_scrollbar(\"upto_end\", \"response\");\n          });\n      }\n    },\n    shopify_is_token_valid(index, isRefund) {\n      isRefund = isRefund || false;\n      if (this.retail_web_framework == \"shopify\"){\n        if (\n        (this.chat[index].fetch_shopify_details &&\n          !Boolean(this.chat[index].is_refund) &&\n          !Boolean(this.chat[index].recent_orders_list)) ||\n        (this.chat[index].fetch_shopify_details &&\n          Boolean(this.chat[index].is_refund) &&\n          !Boolean(this.chat[index].refund_orders_list)) ||\n        (this.chat[index].fetch_shopify_details &&\n          Boolean(this.chat[index].return_shopify_email))\n        ) {\n          if (this.retail_order_retreival_only_email_required) {\n            if (Boolean(this.shopify_customer_id)) {\n              let customerToken = this.$session.get(\"shopify_customer_token\");\n              if (this.chat[index].is_refund) {\n                this.shopify_fetch_customer_id(\n                  customerToken,\n                  index,\n                  \"shopify_customer_id\"\n                );\n              }\n              else if (this.chat[index].return_shopify_email) {\n                this.send_shopify_customer_id(index, false);\n              }\n              else {\n                this.shopify_fetch_orders(\n                  customerToken,\n                  index,\n                  isRefund,\n                  \"shopify_customer_id\"\n                );\n              }\n              return true;\n            }\n            return false;\n          } else {\n            let shopify_store_cid = this.get_shopify_store_window_customer_id();\n            if (Boolean(shopify_store_cid) === false) {\n              return false;\n            } else {\n              // let cutoff = this.$session.get(\"shopify_customer_token_expiry\");\n              // cutoff = moment(cutoff, [\"YYYY-MM-DDThh:mm:ssZ\"]);\n              // if (moment().isBefore(cutoff)) {\n\n\n                // let shopify_store_cid = this.get_shopify_store_window_customer_id();\n                // let shopify_store_cid = 5302001893447; //hardcoded: remove after testing\n                if(shopify_store_cid === null || shopify_store_cid == undefined || shopify_store_cid == \"\"){\n                  return false;\n                } else {\n                  this.shopify_customer_id = shopify_store_cid;\n                }\n                let customerToken = this.$session.get(\"shopify_customer_token\");\n                if (this.chat[index].is_refund) {\n                  this.shopify_fetch_customer_id(\n                    customerToken,\n                    index,\n                    \"shopify_customer_id\"\n                  );\n                }\n                else if (this.chat[index].return_shopify_email) {\n                  this.send_shopify_customer_id(index, false);\n                }\n                else {\n                  this.shopify_fetch_orders(\n                    customerToken,\n                    index,\n                    isRefund,\n                    \"shopify_customer_id\"\n                  );\n                }\n                return true;\n              // } else {\n              //   return false;\n              // }\n            }\n          }\n        } else {\n          return true;\n        }\n      } else if(this.retail_web_framework == \"woocommerce\"){\n        if (\n        (this.chat[index].fetch_shopify_details &&\n          !Boolean(this.chat[index].is_refund) &&\n          !Boolean(this.chat[index].recent_orders_list)) ||\n        (this.chat[index].fetch_shopify_details &&\n          Boolean(this.chat[index].is_refund) &&\n          !Boolean(this.chat[index].refund_orders_list)) ||\n        (this.chat[index].fetch_shopify_details &&\n          Boolean(this.chat[index].return_shopify_email))\n        ) {\n        if (this.retail_order_retreival_only_email_required) {\n          this.shopify_customer_id = this.$session.get(\"shopify_customer_id\");\n          if (Boolean(this.shopify_customer_id)) {\n              let customerToken = this.$session.get(\"shopify_customer_id\");\n              this.shopify_fetch_orders(\n                      customerToken,\n                      index,\n                      isRefund,\n                      \"shopify_customer_id\"\n                    );\n              return true \n          }else {\n            return false;\n          }\n        }else {\n          let woocommerce_store_login_detail = this.get_woocommerce_store_window_customer_email();\n            if (Boolean(woocommerce_store_login_detail) == false) {\n              return false;\n            } else {\n                this.$session.set(\"shopify_customer_id\", woocommerce_store_login_detail[0]);\n                this.$session.set(\"shopify_customer_token\", woocommerce_store_login_detail[1])\n                if (this.chat[index].is_refund) {\n                  this.shopify_fetch_customer_id(woocommerce_store_login_detail[0], index, \"shopify_customer_id\");\n                } else {\n                  this.shopify_fetch_orders(woocommerce_store_login_detail[0], index, isRefund, \"shopify_customer_id\");\n                }\n                return true;\n            }\n          // if (!this.$session.has(\"shopify_customer_token_expiry\")) {\n          //     return false;\n          //   } else {\n          //     let cutoff = this.$session.get(\"shopify_customer_token_expiry\");\n          //     cutoff = moment(cutoff, [\"YYYY-MM-DDThh:mm:ssZ\"]);\n          //     let current_time = new Date(cutoff);\n          //     if (moment().isBefore(current_time)) {\n          //       let customerToken = this.$session.get(\"shopify_customer_token\");\n          //       this.shopify_fetch_orders(\n          //           customerToken,\n          //           index,\n          //           isRefund,\n          //           \"shopify_customer_token\"\n          //         );\n          //       return true;            \n          //     }else {\n          //       return false;\n          //     }\n          //   }\n        }\n        }else {\n          return true;\n        }\n      } else if(this.retail_web_framework == \"magento\"){\n        if (\n        (this.chat[index].fetch_shopify_details &&\n          !Boolean(this.chat[index].is_refund) &&\n          !Boolean(this.chat[index].recent_orders_list)) ||\n        (this.chat[index].fetch_shopify_details &&\n          Boolean(this.chat[index].is_refund) &&\n          !Boolean(this.chat[index].refund_orders_list)) ||\n        (this.chat[index].fetch_shopify_details &&\n          Boolean(this.chat[index].return_shopify_email))\n        ) {\n        if (this.retail_order_retreival_only_email_required) {\n          this.shopify_customer_id = this.$session.get(\"shopify_customer_id\");\n          if (Boolean(this.shopify_customer_id)) {\n              let customerToken = this.$session.get(\"shopify_customer_id\");\n              this.shopify_fetch_orders(\n                      customerToken,\n                      index,\n                      isRefund,\n                      \"shopify_customer_id\"\n                    );\n              return true \n          }else {\n            return false;\n          }\n        }else {\n          let magento_store_login_detail = this.get_magento_store_window_customer_email();\n            if (Boolean(magento_store_login_detail) == false) {\n              return false;\n            } else {\n                this.$session.set(\"shopify_customer_id\", magento_store_login_detail[0]);\n                this.$session.set(\"shopify_customer_token\", magento_store_login_detail[1])\n                if (this.chat[index].is_refund) {\n                  this.shopify_fetch_customer_id(magento_store_login_detail[0], index, \"shopify_customer_id\");\n                } else {\n                  this.shopify_fetch_orders(magento_store_login_detail[0], index, isRefund, \"shopify_customer_id\");\n                }\n                return true;\n            }\n          // if (!this.$session.has(\"shopify_customer_token_expiry\")) {\n          //     return false;\n          //   } else {\n          //     let cutoff = this.$session.get(\"shopify_customer_token_expiry\");\n          //     cutoff = moment(cutoff, [\"YYYY-MM-DDThh:mm:ssZ\"]);\n          //     let current_time = new Date(cutoff);\n          //     if (moment().isBefore(current_time)) {\n          //       let customerToken = this.$session.get(\"shopify_customer_token\");\n          //       this.shopify_fetch_orders(\n          //           customerToken,\n          //           index,\n          //           isRefund,\n          //           \"shopify_customer_token\"\n          //         );\n          //       return true;            \n          //     }else {\n          //       return false;\n          //     }\n          //   }\n        }\n        }else {\n          return true;\n        }\n      }\n    },\n    initialize_shopify_ui() {\n      if (\n        window.Shopify ||\n        this.is_retail_bot ||\n        this.companyid == \"censeretail49140\"\n      ) {\n        var client = ShopifyBuy.buildClient({\n          domain: window.Shopify\n            ? window.Shopify.shop\n            : this.shopify_retail_shop_name + \".myshopify.com\",\n          storefrontAccessToken: this.retail_shop_storefront_token,\n        });\n        this.shopify_ui = ShopifyBuy.UI.init(client);\n        // if (this.$session.get(\"IsPortalMaintainence\") === false) {\n        this.shopify_ui.createComponent(\"cart\", {\n          node: document.getElementById(\"cartDiv\"),\n          toggles: [{ node: document.getElementById(\"toggle\") }],\n          moneyFormat: this.retail_shop_currency + \" {{money_with_currency}}\",\n          options: {\n            toggle: {\n              sticky: false,\n            },\n            popup: false,\n          },\n        });\n        // }\n      }\n    },\n    initialize_shopify_buttons(product_id, index, variant_id) {\n      try {\n          this.shopify_ui\n          .createComponent(\"product\", {\n            id: product_id,\n            variantId: variant_id,\n            moneyFormat: this.retail_shop_currency + \" {{money_with_currency}}\",\n            options: {\n              product: {\n                contents: {\n                  options: true,\n                  quantity: true,\n                  quantityIncrement: true,\n                  quantityDecrement: true,\n                  variantTitle: true,\n                  // buttonWithQuantity: false,\n                },\n                styles: {\n                  quantity: {\n                    display: \"flex\",\n                    \"justify-content\": \"center\",\n                  },\n                },\n              },\n            },\n            node: document.getElementById(`product_${product_id}_${index}`),\n          })\n          .then((response) => {\n            this.check_no_products();\n            for (var i in this.product_list) {\n              if (product_id == this.product_list[i].product_id) {\n                this.product_list[i].availableForSale =\n                  response.viewData.availableForSale;\n                this.product_list[i].productImage = response.cachedImage.src;\n                this.product_list[i].onlineStoreURL = response.onlineStoreURL;\n              }\n            }\n          });\n      } catch (e) {\n        var msg = {\n          conversation_only: true,\n          time: this.generate_time(),\n          ask_feedback: false,\n          received:\n            \"Some error occurred while testing. Please try by refreshing the browser! If the issue persists, please contact system admin.\",\n          receiving: true,\n        };\n        this.chat.push(msg);\n      }\n    },\n    demo_retail_question() {\n      if (this.is_retail_bot && this.isCalledFromSetup) {\n        axios\n          .post(\n            api_calls.template_synonyms(),\n            {\n              company_id: this.companyid,\n              company_name: this.companyname,\n              is_get_product_list: true,\n            },\n            {\n              headers: {\n                Authorization: `Bearer ${this.$session.get(\"at\")}`,\n              },\n            }\n          )\n          .then(({ data }) => {\n            this.spinnerOn = false;\n            if (data.status === \"Success\") {\n              let product_names_list = data.product_names_list;\n              let item =\n                product_names_list[\n                  Math.floor(Math.random() * product_names_list.length)\n                ];\n              this.to_send = `Please show me ${item}`;\n              swal({\n                text:\n                  \"Testing of Bot in Progress, Searching for a product from your Store!\",\n                toast: true,\n                showCancelButton: false,\n                showConfirmButton: false,\n                type: \"info\",\n                timer: 5000,\n              });\n              setTimeout(() => {\n                // $(\"#send_btn\").click()\n                this.chat.push({\n                  conversation_only: true,\n                  sending: true,\n                  sent: this.to_send,\n                  time: this.generate_time(),\n                });\n                // this.$session.set(\"BotResponse_Conversation\", this.chat);\n                this.update_scrollbar(\"upto_end\", \"sender\");\n                axios\n                  .post(api_calls.chatbot_response_cense(), {\n                    chat: this.to_send,\n                    token: this.bot_response_token_value,\n                    username: this.$session.get(\"UserInformation\").email,\n                    source: \"Web\",\n                    license_key: this.$session.get(\"UserInformation\")\n                      .license_key,\n                    role: this.$session.get(\"UserInformation\").role,\n                    refreshed_or_closed: this.refreshed_or_closed,\n                  })\n                  .then((response) => {\n                    // response.data = {\n                    //   responses: [\n                    //     {\n                    //       buttons: [\n                    //         { title: \"Call Support\", value: \"/call_support\" },\n                    //         { title: \"Live Chat\", value: \"/live_chat\" },\n                    //       ],\n                    //       intent: \"confusion\",\n                    //       text: \"Sorry I am not getting your question\",\n                    //     },\n                    //   ],\n                    // };\n\n                    this.response_handling(response, \"display_success_toastr\");\n                    // swal({\n                    //   text: \"Testing Completed Successfully! Please Proceed to the next step.\",\n                    //   toast: true,\n                    //   showCancelButton: false,\n                    //   showConfirmButton: false,\n                    //   type: \"success\",\n                    //   timer: 5000,\n                    //   timerProgressBar: true,\n                    // })\n                  });\n                this.to_send = \"\";\n              }, 3200);\n            }\n          })\n          .catch((e) => {\n            this.spinnerOn = false;\n            // console.log(e);\n            // swal({\n            //   text: \"Testing Finished.Some Error Occurred, Please Try Again\",\n            //   toast: true,\n            //   showCancelButton: false,\n            //   showConfirmButton: false,\n            //   type: \"error\",\n            //   timer: 2000,\n            //   timerProgressBar: true,\n            // })\n            var msg = {\n              conversation_only: true,\n              time: this.generate_time(),\n              ask_feedback: false,\n              received:\n                \"Some error occurred while testing. Please try by refreshing the browser! If the issue persists, please contact system admin.\",\n              receiving: true,\n            };\n            this.chat.push(msg);\n          });\n      }\n    },\n    shopify_check_customer_logged_in() {\n      let customer_data = {\n        is_customer_logged_in: false,\n        customer_id: null,\n      };\n\n      if (Boolean(this.shopify_customer_id)) {\n        customer_data.is_customer_logged_in = true;\n        customer_data.customer_id = this.shopify_customer_id;\n      }\n      let stringified_customer_payload = JSON.stringify({\n        customer_data,\n      });\n      this.is_typing_indicator_on = true;\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          source: \"Web\",\n          chat: `/shopify_retreive_customer_specific_offers${stringified_customer_payload}`,\n          token: this.bot_response_token_value,\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed,\n        })\n        .then((response) => {\n          this.response_handling(response, null);\n        })\n        .catch((e) => {\n          console.log(e);\n          this.update_scrollbar(\"upto_end\", \"response\");\n        });\n    },\n    send_shopify_customer_id(index, is_login, metadata) {\n      // debugger;\n      // console.log(\"send_shopify_customer_clg\");\n      // is_login = false;\n      if (is_login === true) {\n        let queryString = $(\"#shopify_login_form\").serializeArray();\n        let form_payload = {};\n        form_payload[\n          \"shopify_is_only_email\"\n        ] = this.retail_order_retreival_only_email_required;\n        form_payload[\n          \"text\"\n        ] = this.chat[index].metadata.text;\n        form_payload[\n          \"entity\"\n        ] = this.chat[index].metadata.entity;\n        for (var i in queryString) {\n          form_payload[queryString[i].name] = this.chat[index].customer_email_id;\n        }\n        form_payload = JSON.stringify(form_payload);\n        axios\n          .post(api_calls.chatbot_response_cense(), {\n            license_key: this.$session.get(\"UserInformation\").license_key,\n            token: this.bot_response_token_value,\n            username: this.$session.get(\"UserInformation\").email,\n            source: \"Web\",\n            chat: `/re_order_products_action${form_payload}`,\n            token: this.bot_response_token_value,\n            role: this.$session.get(\"UserInformation\").role,\n            refreshed_or_closed: this.refreshed_or_closed,\n          })\n          .then((response) => {\n            this.chat[index].received = \"\";\n            this.chat[index].fetch_shopify_details = false;\n            this.chat.splice(index,1);\n            this.response_handling(response)\n          })\n          .catch((err) => {\n            console.log(\"Error :>> \", err);\n          });\n      } else {\n        // let form_payload = {\n        //   email:'ashish.i@codearray.tech',\n        //   password: \"\",\n        //   shopify_is_only_email: false,\n        //   text: this.chat[index].metadata.text,\n        //   entity : this.chat[index].metadata.entity\n        // };\n        // form_payload = JSON.stringify(form_payload);\n        // axios\n        //   .post(api_calls.chatbot_response_cense(), {\n        //     license_key: this.$session.get(\"UserInformation\").license_key,\n        //     token: this.bot_response_token_value,\n        //     username: this.$session.get(\"UserInformation\").email,\n        //     source: \"Web\",\n        //     chat: `/re_order_products_action${form_payload}`,\n        //     token: this.bot_response_token_value,\n        //     role: this.$session.get(\"UserInformation\").role,\n        //     refreshed_or_closed: this.refreshed_or_closed,\n        //   })\n        //   .then((response) => {\n        //     console.log(response.data);\n        //     console.log(this);\n        //     this.response_handling(response)\n        //   })\n        //   .catch((err) => {\n        //     console.log(\"Error :>> \", err);\n        //   });\n      }\n    },\n    open_messaging_framework_integration(url) {\n      var link = document.createElement(\"a\");\n      link.href = url;\n      // link.setAttribute(\"download\", file_name);\n      link.setAttribute(\"target\", \"_blank\");\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n    },\n    support_subscription_data() {\n      axios\n        .post(api_calls.chatbot_response_cense(), {\n          license_key: this.$session.get(\"UserInformation\").license_key,\n          token: this.bot_response_token_value,\n          username: this.$session.get(\"UserInformation\").email,\n          token: this.bot_response_token_value,\n          role: this.$session.get(\"UserInformation\").role,\n          refreshed_or_closed: this.refreshed_or_closed,\n          chat: \"/support_subscription_data\",\n          source: \"Web\",\n        })\n        .then((response) => {\n          this.response_handling(response);\n        });\n    },\n    check_no_products() {\n      let products_div = document.getElementById('products_list_div');\n      let display_none_count = 0;\n      for (let i = 0; i<products_div.children.length; i++){\n        if(products_div.children[i].style.display === \"none\"){\n          display_none_count +=1;\n        }\n      }\n      if(display_none_count === products_div.children.length) {\n        var msg = {\n          conversation_only: true,\n          time: this.generate_time(),\n          received : \"Sorry, we could not find any products. Please try rephrasing to search a different product!\",\n          receiving : true\n        };\n        this.chat.push(msg);\n      }\n    },\n    get_magento_store_window_customer_email(){\n      try {\n        let curr = JSON.parse(this.user_data.magento_customer_data);\n        if (Boolean(curr.id) == true && Boolean(curr.email) == true) {\n          var customer = [curr.id, curr.email]\n          return customer;\n        }\n      } catch(e) { }\n      return null;\n    },\n    get_woocommerce_store_window_customer_email(){\n      try {\n        let curr = this.user_data.woo_current_user;\n        if (curr.ID !== 0 && curr.allcaps.customer == true) {\n          var customer = [curr.data.ID, curr.data.user_email]\n          return customer;\n        }\n      } catch(e) { }\n      return null;\n    },\n    get_shopify_store_window_customer_id(){\n      try {\n      let curr = window.ShopifyAnalytics.meta.page.customerId;\n      if (curr !== undefined && curr !== null && curr !== \"\") {\n        return curr;\n      }\n      } catch(e) { }\n      try {\n        let curr = window.meta.page.customerId;\n        if (curr !== undefined && curr !== null && curr !== \"\") {\n          return curr;\n        }\n      } catch (e) { }    \n      try {\n        let curr = _st.cid;\n        if (curr !== undefined && curr !== null && curr !== \"\") {\n          return curr;\n        }\n      } catch (e) { }\n      return null;\n    },\n    no_orders_to_be_shown(index){\n      this.chat[index].received = \"It seems you have no orders right now!\"\n    },\n    change_chat_text_to_login_redirect(index){\n      this.chat[index].received = '<p style=\"width:auto;margin-bottom:0;\"> Please login on the store by clicking <a title=\"This feature is only available on the store website.\" style=\"cursor: not-allowed;\" href=\"javascript: void(0)\"> here </a></p>';\n    },\n    return_document_cookies(name) {\n      // const value = `; ${document.cookie}`;\n      // const parts = value.split(`; ${name}=`);\n      // if (parts.length === 2) return parts.pop().split(';').shift();\n      let cookie = {};\n      document.cookie.split(';').forEach(function(el) {\n      let [k,v] = el.split('=');\n      cookie[k.trim()] = v;\n    })\n    return cookie[name];\n    }\n  },\n};\n</script>\n<style>\n.del-note {\n  color: var(--bot-button-background) !important;\n}\n.bot-font-sender {\n  font-family: var(--bot-font-style) !important;\n  color: var(--bot-font-color-sender) !important;\n}\n.bot-font-receiver {\n  font-family: var(--bot-font-style) !important;\n  color: var(--bot-font-color-receiver) !important;\n}\n.bot-font-buttons {\n  font-family: var(--bot-font-style) !important;\n  color: var(--bot-font-color-buttons) !important;\n}\n.bot-font-style {\n  font-family: var(--bot-font-style) !important;\n}\n.product-variant-title {\n  font-size: 18px;\n  color: #666;\n  font-weight: 400;\n  text-align: center;\n  margin-bottom: 15px;\n}\n.dynamic-button {\n  background-color: var(--bot-button-background) !important;\n  border-color: var(--bot-button-background) !important;\n}\n.add-to-cart {\n  background-color: var(--bot-button-background);\n  margin-top: 20px;\n  margin-bottom: 20px;\n  padding: 12px 40px;\n  letter-spacing: .3px;\n  border-radius: 3px;\n  border-color: var(--bot-button-background) !important;\n  font-size: 15px;\n  font-family: var(--bot-font-style) !important;\n  color: var(--bot-font-color-buttons) !important;\n  font: 400 13.3333px Arial;\n  color: #fff;\n}\n.add-to-cart:hover{\n  background-color: var(--bot-button-background) !important;\n}\n.add-to-cart:active{\n  background-color: var(--bot-button-background) !important;\n  border-color: var(--bot-button-background) !important;\n}\n.product-price-woocommerce{\n  font-size: 12px; \n  color: #4a4a4a;    \n  /* font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; */\n}\n.cart-qty-num {\n  font-size: 18px;\n  margin-bottom: 10px;\n  display: inline-block;\n  vertical-align: middle;\n  height: 29px;\n  border-radius: 50%;\n  color: #fff;\n  -ms-flex-align: center;\n  align-items: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n}\n.cense-cart-btn {\n  height: 40px;\n  background-color: var(--bot-button-background); \n  border-radius: 3px; \n  padding: 0px 10px;\n}\n.shopify-buy-cart-wrapper.shopify-buy-frame.shopify-buy-frame--cart.is-initialized {\n  position: fixed;\n  right: 0;\n  transition: all 250ms cubic-bezier(0.165, 0.84, 0.44, 1);\n  display: none !important;\n}\n.shopify-buy-cart-wrapper.shopify-buy-frame.shopify-buy-frame--cart.is-initialized.is-active {\n  position: absolute;\n  transition: translateX(0);\n  display: block !important;\n}\n.shopify-buy-frame--cart{\n\tdisplay: none !important;\n}\n.shopify-buy__btn {\n  font-size: 12px !important;\n  padding: 12px 10px !important;\n}\n\n.order-elem {\n  background: #ffffff;\n}\n\n.order-elem img {\n  width: 30%;\n  height: 30%;\n  object-fit: contain;\n}\n\n.order-elem .order-title,\n.order-elem .order-price {\n  font-size: 14px;\n}\n\n.order-elem .order-quantity {\n  font-size: 12px;\n}\n\n.media3,\n.retailigence.sender .chat,\n.retailigence.group_chat_btn > a {\n  background: var(--bot-sender-color);\n}\n.chat-row.receiver .chat a {\n  color: var(--bot-link-color) !important;\n}\n.bot-img {\n  /* background-image: url(/img/Bot_img.png); */\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 23px;\n  height: 23px;\n  border-radius: 100%;\n}\n.vue-star-rating-rating-text{\n  display: none !important;\n}\n.vue-star-rating-pointer .vue-star-rating-star{\n margin-right: 10px !important;\n margin-bottom: 4px !important;\n}\n</style>\n<style scoped>\n.img_only_id {\n  margin-top: 4% !important; \n  margin-left: 8.5% !important;\n  max-width: calc(100% - 36px) !important;\n}\n.img_id {\n  margin-top: 4% !important; \n  margin-left: 2.5% !important;\n  max-width: calc(100% - 36px) !important;\n}\n.banner_img_url_only_id {\n  margin-top: 4% !important; \n  margin-left: 8% !important;\n  max-width: calc(100% - 31px) !important;\n}\n.banner_img_url_id {\n  margin-top: 4% !important; \n  margin-left: 3% !important;\n  max-width: calc(100% - 12px) !important;\n}\n.video_url_id {\n\tmargin-top: 4% !important; \n\twidth: 10.25cm !important;\n\tmargin-left: 8% !important;\n\tmax-width: calc(100% - 31px)!important;\n}\n.banner_video_url_only_id {\n\tmargin-top: 4% !important; \n\twidth: 10.25cm !important;\n\tmargin-left: 8% !important;\n\tmax-width: calc(100% - 23px)!important;\n}\n.banner_video_url_id {\n\tmargin-top: 4% !important; \n\twidth: 10.25cm !important;\n\tmargin-left: 2% !important;\n\tmax-width: calc(100% - 6px)!important;\n}\n.product-variation {\n  border: 1px solid #d3dbe2;\n  border-radius: 3px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  background: #fff;\n  overflow: hidden;\n  vertical-align: bottom;\n}\n.select-product-variation {\n  padding: 7px 10px;\n  font-weight: 400 !important;\n  font-size: 13.3333px !important;\n  padding-right: 32px;\n  border: 0;\n  width: 100%;\n  background: transparent;\n  -webkit-appearance: none;\n}\n.select-icon {\n  cursor: pointer;\n  display: block;\n  fill: #798c9c;\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  margin-top: -6px;\n  pointer-events: none;\n  width: 12px;\n  height: 12px;\n}\n#return_increment_numeric_input :focus-visible{\n\tbox-shadow: 0 0 0 .2rem rgba(0,123,255,.25) !important;\n\toutline: none !important;\n}\n.receiver > .d-flex{\n  align-items: center;\n}\n#send_button.filled {\n  fill: var(--bot-button-color) !important;\n}\n.table td,\n.table th {\n  padding: 0.5rem !important;\n}\n.stop-chat {\n  width: 100%;\n}\n.chat-footer > a {\n  color: #283879 !important;\n}\n.chat-his > .time {\n  color: var(--bot-button-background) !important;\n}\n.buy-now {\n  font-weight: 800;\n  color: #fff;\n  font-size: 12px;\n  cursor: pointer;\n  margin-top: -5%;\n}\n.chat-inner.--delete {\n  -webkit-animation: fadein 0.9s linear;\n  -moz-animation: fadein 0.9s linear;\n  animation: fadein 0.9s linear;\n}\n@keyframes fadein {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes fadein {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n@-moz-keyframes fadein {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.image-box-woocommerce {\n  width: 170px;\n  height: 170px;\n  margin-top: 6%;\n  margin-bottom: 6%;\n}\n.product-title-woocommerce{\n  font-size: 18px;\n  line-height: 1.2;\n  color: #4a4a4a;\n  margin-bottom: 15px;\n  font-weight: 700;\n  /* font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; */\n  display: inline-block;\n  box-sizing: border-box;\n  white-space: pre-line;\n  word-wrap: break-word;\n}\n.product-title-woocommerce .textMaxLine {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  font-size: 16px;\n  height: 40px;\n}\n.plus {\n  border-radius: 0px 3px 3px 0px;\n  /* border: 1px solid #767676; */\n  border-left: 0px;\n}\n.minus {\n  border-radius: 3px 0px 0px 3px;\n  /* border: 1px solid #767676; */\n  border-right: 0px;\n}\n.plus,\n.minus {\n  width: 26px;\n  cursor: pointer;\n  padding: 0;\n}\n.quantity-btn {\n  height: 30px;\n  font-size: 16px;\n  border: 1px solid #d3dbe2;\n  vertical-align: bottom;\n  background: white;\n}\n.quantity-btn:focus {\n  outline: -webkit-focus-ring-color auto 1px !important;\n}\n.image-box {\n  height: 90px;\n  width: 100px;\n  margin-top: 6%;\n}\n.image-box-msg-frmw{\n  /* height: 55px;\n  width: 50px; */\n  margin-top: 10%;\n  display: block;\n  max-width:100px;\n  max-height:65px;\n  width: auto;\n  height: auto;\n}\n.buy-products {\n  height: 180px;\n}\n.image-container-woocommerce {\n  /* background: #fff; */\n  /* border: #fff 1px solid; */\n  text-align: center;\n  border-radius: 5px 5px 5px 5px;\n  margin-left: 3%;\n  width: 50%;\n  /* overflow: hidden; */\n  border: none;\n  height: auto;\n  display: block;\n}\n.image-container {\n  background: #fff;\n  border: #fff 1px solid;\n  border-radius: 5px 5px 5px 5px;\n  margin-left: 5%;\n  height: 180px;\n}\n.image-container > p {\n  font-size: 10px;\n  text-align: center;\n}\n.chat-row.sender .chat,\n.chat-row.receiver .chat {\n  font-weight: 450;\n}\n.chat-body {\n  overflow-y: auto;\n}\n.chat-body .chat-row.receiver p,\n.chat-body .chat-row.receiver a {\n  width: 50%;\n}\n.chat-body .chat-row.receiver a{\n  color: var(--bot-button-background) !important;\n  font-weight: 400;\n}\n.chat-row.receiver .chat {\n  background-color: #fff;\n  color: #000;\n  width: fit-content;\n  margin-left: 10px;\n}\nbutton.custom-buttons {\n  background: var(--bot-button-background);\n  min-width: 100px;\n  font-family: var(--bot-font-style) !important;\n  color: var(--bot-font-color-buttons) !important;\n  font-size: 13px;\n  border-radius: 50px;\n  margin-top: var(--bot-buttons-horizontal-spacing);\n  margin-left: var(--bot-buttons-vertical-spacing);\n}\nbutton.custom-buttons[disabled] {\n  opacity: 1;\n}\n.buttons-alignment {\n  justify-content: var(--bot-buttons-alignment);\n}\nbutton.custom-buttons.retailigence {\n  border-radius: 10px !important;\n  background: #9d2924 !important;\n}\nbutton.custom-buttons.retailigence:hover {\n  background: #9d2924bf !important;\n}\ndiv::-webkit-scrollbar {\n  max-height: 20px;\n  width: 6px;\n  height: 4px;\n  border-radius: 10px;\n}\n.bounce {\n  animation: bounce 4s infinite;\n}\n.fa.fa-microphone {\n  color: #8a8a8a63;\n  font-size: 24px;\n}\n.fas.fa-video {\n  color: #8a8a8a63;\n  font-size: 18px;\n}\n.fa.fa-microphone :hover {\n  color: red;\n}\n\n#stop-chat-button {\n  color: red;\n}\n/* #stop-chat-button :hover{ \n  color: red;\n  animation: none;\n} */\n/* #stop-chat-button {\n  animation-name: flicker;\n  animation-duration: 0.7s;\n  animation-iteration-count: infinite;\n\n  -webkit-animation-name: flicker;\n  -webkit-animation-duration: 0.7s;\n  -webkit-animation-iteration-count: infinite;\n} */\n\n#microphone.voice-on {\n  animation-name: flicker;\n  animation-duration: 0.7s;\n  animation-iteration-count: infinite;\n\n  -webkit-animation-name: flicker;\n  -webkit-animation-duration: 0.7s;\n  -webkit-animation-iteration-count: infinite;\n}\n/* Track */\ndiv::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 10px;\n}\n.toast-message {\n  margin-top: 1000px;\n}\n/* Handle */\ndiv::-webkit-scrollbar-thumb {\n  background: #7d7d7d;\n  border-radius: 10px;\n}\n\n/* Handle on hover */\ndiv::-webkit-scrollbar-thumb:hover {\n  background: #555;\n  border-radius: 10px;\n}\n.toast-container {\n  margin-left: 800px;\n}\n.typewriter span {\n  color: #fff;\n  font-family: monospace;\n  overflow: hidden; /* Ensures the content is not revealed until the animation */\n  border-right: 0.15em solid orange; /* The typwriter cursor */\n  white-space: nowrap; /* Keeps the content on a single line */\n  margin: 0 auto; /* Gives that scrolling effect as the typing happens */\n  letter-spacing: 0.15em; /* Adjust as needed */\n  animation: typing 3.5s steps(30, end), blink-caret 0.5s step-end infinite;\n}\n\n/* Harsh */\n.chat-head .media .media-body p {\n  font-weight: bold;\n}\n#response_bot_text {\n  margin-top: 5px;\n  margin-bottom: 5px;\n  margin-left: 5px;\n  margin-right: 5px;\n  border-radius: 100px;\n}\n#button_addon2 {\n  margin-top: 5px;\n  margin-bottom: 5px;\n  border-radius: 100px;\n}\n.prompt .chat {\n  background: #fff;\n}\np {\n  font-family: Arial, Helvetica, sans-serif;\n}\n\n.chat-footer p {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\", \"Noto Color Emoji\";\n}\n\n.btn:focus,\n.btn:active:focus {\n  outline: none !important;\n  box-shadow: none;\n  -webkit-box-shadow: none;\n}\n\n/**/\n#product_refund_txt_area:focus {\n    outline: none;\n    box-shadow: none;\n    border-color: #53b9d0 !important;\n    color: #9499C2 !important;\n}\n.form-control {\n  line-height: 20px;\n  font-size: 13px;\n  color: #494d69;\n  border-radius: 10px;\n  border: none;\n  height: auto;\n  font-weight: 300;\n}\n\n#shopify_login_form {\n  margin-left: 30px;\n  margin-top: 10px;\n}\n\n#shopify_login_form .form-control {\n  padding: 10px 0 10px 15px;\n}\n\n#details_form .form-group,\n#details_form .form-group input {\n  width: 25vw !important;\n}\n\n#details_form,\n#details_form .form-group,\n#details_form .form-group input {\n  box-sizing: content-box !important;\n}\n\n.chat-txt input {\n  border-top-left-radius: 0;\n}\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n.country,\n.country2 {\n  margin-left: 2%;\n  height: 20px;\n}\n/* .media1 {\n  background: #fff !important;\n  color: #2b3184 !important;\n} */\n/* .media2 {\n  background: #fff;\n} */\n.media3 {\n  justify-content: space-around;\n}\n.media3 img {\n  max-width: 100% !important;\n  width: 75% !important;\n  object-fit: contain;\n}\n.chat-wrap1 {\n  min-width: 320px;\n  max-width: 320px;\n}\n.chat-wrap2 {\n  min-width: 415px;\n  max-width: 415px;\n}\n.chat-body1 {\n  max-height: 300px;\n  min-height: 60vh;\n}\n.chat-body2 {\n  max-height: 400px;\n  min-height: 60vh;\n}\n\n.receiver .chat {\n  font-size: 14px !important;\n  font-weight: 300 !important;\n}\n\n.FE_button {\n  width: 33%;\n  cursor: pointer;\n  margin-left: 2%;\n  font-size: 13px;\n  margin-bottom: 0;\n  background-color: white;\n  border-radius: 10px;\n  text-align: center;\n  box-shadow: 0px 1px 5px 0px;\n  height: 26px;\n}\n.FE_button img {\n  vertical-align: sub;\n}\n\n.FE_button :active {\n  background-color: #1eaae1;\n  color: #fff;\n}\n.FE_button :active img {\n  color: #fff;\n}\n\n.chat-act1 {\n  position: fixed;\n  bottom: 30px;\n  right: 30px;\n  z-index: 1111;\n}\n\n.chat-act1 a {\n  display: block;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: #273679 url(/public/img/ForeignExchange/ui-15.png) center / cover\n    no-repeat;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);\n}\n.chat-act1.active a img {\n  width: 100%;\n}\n.chat-act1 a.active {\n  -webkit-animation-delay: 0;\n  -webkit-animation-duration: 0.5s;\n  /* -webkit-animation-name: rotation-rl; */\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-delay: 0;\n  -moz-animation-duration: 0.5s;\n  /* -moz-animation-name: rotation-rl; */\n  -moz-animation-fill-mode: forwards;\n  animation-delay: 0;\n  animation-duration: 0.5s;\n  /* animation-name: rotation-rl; */\n  animation-fill-mode: forwards;\n}\n.chat-act1 a.inactive {\n  -webkit-animation-delay: 0;\n  -webkit-animation-duration: 0.5s;\n  /* -webkit-animation-name: rotation-lr; */\n  -webkit-animation-fill-mode: forwards;\n  -moz-animation-delay: 0;\n  -moz-animation-duration: 0.5s;\n  /* -moz-animation-name: rotation-lr; */\n  -moz-animation-fill-mode: forwards;\n  animation-delay: 0;\n  animation-duration: 0.5s;\n  /* animation-name: rotation-lr; */\n  animation-fill-mode: forwards;\n}\n@media (max-width: 991px) {\n  .chat-act1 {\n    bottom: 15px;\n    right: 15px;\n  }\n  .chat-act1 a {\n    width: 50px;\n    height: 50px;\n  }\n}\n/* v-bind:class=\"{'chat-act1': isexchange,'chat-act': !isexchange}\"  */\n\n/* The typing effect */\n@keyframes typing {\n  from {\n    width: 0;\n  }\n  to {\n    width: 100%;\n  }\n}\n\n/* The typewriter cursor effect */\n@keyframes blink-caret {\n  from,\n  to {\n    border-color: transparent;\n  }\n  50% {\n    border-color: orange;\n  }\n}\n\n@keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n@-webkit-keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n@-moz-keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n@-o-keyframes flicker {\n  from {\n    color: red;\n  }\n  to {\n    color: #8a8a8a63;\n  }\n}\n\n@keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-180%);\n  }\n  60% {\n    transform: translateY(-90%);\n  }\n}\n@-webkit-keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    -webkit-transform: translateY(0);\n  }\n  40% {\n    -webkit-transform: translateY(-200%);\n  }\n  60% {\n    -webkit-transform: translateY(-100%);\n  }\n}\n@-moz-keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    -moz-transform: translateY(0);\n  }\n  40% {\n    -moz-transform: translateY(-200%);\n  }\n  60% {\n    -moz-transform: translateY(-100%);\n  }\n}\n@-o-keyframes bounce {\n  0%,\n  20%,\n  50%,\n  80%,\n  100% {\n    -o-transform: translateY(0);\n  }\n  40% {\n    -o-transform: translateY(-200%);\n  }\n  60% {\n    -o-transform: translateY(-100%);\n  }\n}\n.cart-img {\n  height: 25px !important;\n  width: 25px !important;\n}\n.cart-qty {\n  font-size: 22px;\n}\n.shake {\n    /* width: 90%; */\n    /* height: 60%; */\n    /* padding-top: 4px; */\n    animation: shakeCart .4s ease-in-out forwards;\n}\n@keyframes shakeCart {\n  25% {\n    transform:translateX(6px)\n  }\n  50% {\n    transform:translateX(-4px);\n  }\n  75% {\n    transform:translateX(2px);\n  }\n  100% {\n    transform:translateX(0);\n  }\n}\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard/Data Inputs"}]}