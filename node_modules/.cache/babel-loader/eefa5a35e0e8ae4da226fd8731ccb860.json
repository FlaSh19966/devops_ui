{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/TaskResponses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/TaskResponses.vue","mtime":1643027096172},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOyAvLyBpbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IjsKCmltcG9ydCBQb3J0YWxVc2VyQ2hhdEhpc3RvcnkgZnJvbSAiLi9Qb3J0YWxVc2VyQ2hhdEhpc3RvcnkudnVlIjsKaW1wb3J0IEJvdFVzZXJDaGF0SGlzdG9yeSBmcm9tICIuL0JvdFVzZXJDaGF0SGlzdG9yeS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgLy8gTXVsdGlzZWxlY3QsCiAgICBQb3J0YWxVc2VyQ2hhdEhpc3Rvcnk6IFBvcnRhbFVzZXJDaGF0SGlzdG9yeSwKICAgIEJvdFVzZXJDaGF0SGlzdG9yeTogQm90VXNlckNoYXRIaXN0b3J5CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbnVtYmVyX29mX3Jvd3M6ICIiLAogICAgICB0b3RhbF9wYWdlczogMCwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICB1c2VyX2xpc3Q6IFtdLAogICAgICB1c2VyX3JlcGx5OiBbXSwKICAgICAgYm90X3JlcGx5OiBbXSwKICAgICAgY2hhdERldGFpbHM6IFtdLAogICAgICBhY3Rpb25fc3RhdHM6IFtdLAogICAgICB1c2VyX2FjdGlvbl9zdGF0czogW10sCiAgICAgIGN1cnJlbnRfdXNlcjogIiIsCiAgICAgIHRpbWVzdGFtcDogIiIsCiAgICAgIHNlbmRlcl9pZDogW10sCiAgICAgIHNlbGVjdGVkOiAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiLAogICAgICBzZWxlY3RlZF9kYXRlOiAiIiwKICAgICAgc2VsZWN0ZWRfaW5kZXg6IG51bGwsCiAgICAgIGNoYXRfZGF0ZXM6IFtdLAogICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgaXNzZWFyY2g6IGZhbHNlLAogICAgICBzZWFyY2hzdHJpbmc6ICIiLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB2aWV3X2NvbXBvbmVudF9uYW1lOiAicG9ydGFsX3VzZXIiLAogICAgICAvLyBmaW5nZXJwcmludHJlZ2V4Oi9eWzAtOV17MTB9JC8sCiAgICAgIGZpbmdlcnByaW50cmVnZXg6IC9eWzAtOS0rXC9cc117OSx9JC8sCiAgICAgIHBhZ2VfYXJyYXk6IFtdLAogICAgICBpc1Zpc2libGVTZWFyY2hDbGVhcjogZmFsc2UsCiAgICAgIHNob3dfbG9hZGVyOiBmYWxzZSwKICAgICAgZmlsdGVyX2NoYXRfaGlzdG9yeTogIkxhc3QgNyBkYXlzIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAkKCIjc2VsZWN0YWxsIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICBpZiAoJCh0aGlzKS5pcygiOmNoZWNrZWQiKSkgewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgICQoImlucHV0OmNoZWNrYm94IikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgfQogICAgfSk7CiAgICAkKCIjcG9ydGFsX3VzZXItdGFiIikuY2xpY2soKTsgLy8gaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5tb2RhbF9vcGVuX3N3aXRjaF90YWIpIHsKICAgIC8vICAgdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID0gImJvdF91c2VyIjsKICAgIC8vICAgJCgiI2JvdF91c2VyLXRhYiIpLmNsaWNrKCk7CiAgICAvLyB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkX3Rhc2tfcmVzcG9uc2VzKCk7CiAgICB0aGlzLiRzZXNzaW9uLnNldCgiZmlsdGVyX2NoYXRfaGlzdG9yeSIsICJMYXN0IDcgZGF5cyIpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHZpZXdfY29tcG9uZW50X25hbWU6IGZ1bmN0aW9uIHZpZXdfY29tcG9uZW50X25hbWUobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5zZWFyY2hzdHJpbmcgPSAiIjsKICAgIH0sCiAgICBzZWFyY2hzdHJpbmc6IGZ1bmN0aW9uIHNlYXJjaHN0cmluZygpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoc3RyaW5nID09PSAiIikgewogICAgICAgIHRoaXMubG9hZF90YXNrX3Jlc3BvbnNlcygpOwogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaHN0cmluZyAhPT0gIiIpIHsKICAgICAgICB0aGlzLmlzVmlzaWJsZVNlYXJjaENsZWFyID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXJfc2VhcmNoc3RyaW5nOiBmdW5jdGlvbiBjbGVhcl9zZWFyY2hzdHJpbmcoKSB7CiAgICAgIHRoaXMuc2VhcmNoc3RyaW5nID0gIiI7CiAgICB9LAogICAgbG9hZF90YXNrX3Jlc3BvbnNlczogZnVuY3Rpb24gbG9hZF90YXNrX3Jlc3BvbnNlcygpIHsKICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICB0aGlzLnNlYXJjaHN0cmluZyA9ICIiOwogICAgICB0aGlzLiRzZXNzaW9uLnNldCgiZmlsdGVyX2NoYXRfaGlzdG9yeSIsIHRoaXMuZmlsdGVyX2NoYXRfaGlzdG9yeSk7CgogICAgICBpZiAodGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID09PSAicG9ydGFsX3VzZXIiKSB7CiAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgibG9hZF9wb3J0YWxfdXNlcl9jaGF0X2hpc3RvcnkiLCB0cnVlKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPT09ICJib3RfdXNlciIpIHsKICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJsb2FkX2JvdF91c2VyX2NoYXRfaGlzdG9yeSIsIHRydWUpOwogICAgICB9IC8vICAgYXhpb3MKICAgICAgLy8gICAucG9zdCgKICAgICAgLy8gICAgIGFwaV9jYWxscy5hY3Rpb25fc3RhdHNfdXJsKCksCiAgICAgIC8vICAgICB7CiAgICAgIC8vICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAvLyAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAvLyAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAvLyAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAvLyAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgICB7CiAgICAgIC8vICAgICAgIGhlYWRlcnM6IHsKICAgICAgLy8gICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgLy8gICAgICAgfSwKICAgICAgLy8gICAgIH0KICAgICAgLy8gICApCiAgICAgIC8vICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLmFjdGlvbl9zdGF0cyA9IHJlc3BvbnNlLmRhdGEuYWN0aW9uX3N0YXRzOwogICAgICAvLyAgICAgdGhpcy5hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgIC8vICAgICAgIEhpdHM6IDEsCiAgICAgIC8vICAgICAgIE5hbWU6ICJnZW5lcmFsX2NoYXRfaGlzdG9yeSIsCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gICB9KQogICAgICAvLyAgIC5jYXRjaCgoZSkgPT4gewogICAgICAvLyAgICAgaWYgKAogICAgICAvLyAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAgIC8vICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgLy8gICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAvLyAgICAgKSB7CiAgICAgIC8vICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSk7CiAgICAgIC8vIGF4aW9zCiAgICAgIC8vICAgLnBvc3QoCiAgICAgIC8vICAgICBhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwKICAgICAgLy8gICAgIHsKICAgICAgLy8gICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgIC8vICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgIC8vICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIC8vICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIC8vICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAvLyAgICAgICBpc3Nob3c6IHRydWUsCiAgICAgIC8vICAgICAgIGFjdGlvbjogImdlbmVyYWxfY2hhdF9oaXN0b3J5IiwKICAgICAgLy8gICAgICAgcGFnZW5vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgIC8vICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgIC8vICAgICAgIGlzc2VhcmNoOiB0aGlzLmlzc2VhcmNoLAogICAgICAvLyAgICAgfSwKICAgICAgLy8gICAgIHsKICAgICAgLy8gICAgICAgaGVhZGVyczogewogICAgICAvLyAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAvLyAgICAgICB9LAogICAgICAvLyAgICAgfQogICAgICAvLyAgICkKICAgICAgLy8gICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgLy8gICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMgPSBbXTsKICAgICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeS5sZW5ndGg7IGkrKykgewogICAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZygKICAgICAgLy8gICAgICAgLy8gICB0aGlzLmZpbmdlcnByaW50cmVnZXgudGVzdChyZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyKQogICAgICAvLyAgICAgICAvLyApOwogICAgICAvLyAgICAgICBpZiAoCiAgICAgIC8vICAgICAgICAgdGhpcy5maW5nZXJwcmludHJlZ2V4LnRlc3QocmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlcikKICAgICAgLy8gICAgICAgKSB7CiAgICAgIC8vICAgICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cy5wdXNoKHsKICAgICAgLy8gICAgICAgICAgIHVzZXJlbWFpbDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5FbWFpbCwKICAgICAgLy8gICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgICAgLy8gICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLlVzZXJOYW1lLAogICAgICAvLyAgICAgICAgICAgdXNlcmlkOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgICAvLyAgICAgICAgIH0pOwogICAgICAvLyAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcl9hY3Rpb25fc3RhdHMsIHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0pOwogICAgICAvLyAgICAgICB9IGVsc2UgewogICAgICAvLyAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAgIC8vICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uX2lkLlVzZXIsCiAgICAgIC8vICAgICAgICAgICB1c2VycGhvbmVudW1iZXI6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uUGhvbmVOdW1iZXIsCiAgICAgIC8vICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgICAgLy8gICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgICAgLy8gICAgICAgICB9KTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICAvLyB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAvLyAgICAgICAvLyAgICAgdXNlcmVtYWlsIDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgICAgLy8gICAgICAgLy8gICAgIHVzZXJwaG9uZW51bWJlciA6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uUGhvbmVOdW1iZXIsCiAgICAgIC8vICAgICAgIC8vICAgICB1c2VybmFtZSA6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAgIC8vICAgICAgIC8vIH0pOwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGEuUGFnZUNvdW50OwogICAgICAvLyAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAgIC8vICAgfSkKICAgICAgLy8gICAuY2F0Y2goKGUpID0+IHsKICAgICAgLy8gICAgIGlmICgKICAgICAgLy8gICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAvLyAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgIC8vICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgLy8gICAgICkgewogICAgICAvLyAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pOwoKICAgIH0sCiAgICAvLyBwYWdlX3JlcXVpcmUocGFnZV9ubykgewogICAgLy8gICBpZiAodGhpcy5zZWxlY3RlZCAhPSAiZ2VuZXJhbF9jaGF0X2hpc3RvcnkiKSB7CiAgICAvLyAgICAgLy8gY29uc29sZS5sb2codGhpcy50b3RhbF9wYWdlcywgcGFnZV9ubyk7CiAgICAvLyAgICAgaWYgKHBhZ2Vfbm8gPT0gMCB8fCBwYWdlX25vID09IHRoaXMudG90YWxfcGFnZXMgKyAxKSB7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIC8vIHRoaXMucGFnZV9ubyA9IHBhZ2Vfbm87CiAgICAvLyAgICAgICBpZiAocGFnZSA9PSAiLi4ucyIpIHsKICAgIC8vICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgLy8gICAgICAgfSBlbHNlIGlmIChwYWdlID09ICIuLi5sIikgewogICAgLy8gICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKHRoaXMudG90YWxfcGFnZXMgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAvLyAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgLy8gdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgLy8gICAgICAgYXhpb3MKICAgIC8vICAgICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgICAgYXBpX2NhbGxzLmFjdGlvbl91c2FnZV9zdGF0c191cmwoKSwKICAgIC8vICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgICAgLy8gYWN0aW9uOiB0aGlzLmFjdGlvbl9zdGF0c1tpbmRleF0uTmFtZSwKICAgIC8vICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5zZWxlY3RlZCwKICAgIC8vICAgICAgICAgICAgIHBhZ2Vfbm86IHRoaXMucGFnZV9ubywKICAgIC8vICAgICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgICApCiAgICAvLyAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICAgIC8vIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICAgICAgLy8gdGhpcy51c2VyX2xpc3QgPSBbXTsKICAgIC8vICAgICAgICAgICAvLyBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGFbMF0pIHsKICAgIC8vICAgICAgICAgICAvLyAgIHRoaXMuaW50ZW50bGlzdC5wdXNoKHsKICAgIC8vICAgICAgICAgICAvLyAgICAgaW50ZW50OiByZXNwb25zZS5kYXRhWzBdW2ldLAogICAgLy8gICAgICAgICAgIC8vICAgICBlbWFpbDogcmVzcG9uc2UuZGF0YVsxXVtpXSwKICAgIC8vICAgICAgICAgICAvLyAgICAgY3JlYXRlZDogcmVzcG9uc2UuZGF0YVsyXVtpXQogICAgLy8gICAgICAgICAgIC8vICAgfSk7CiAgICAvLyAgICAgICAgICAgLy8gfQogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIGlmIChwYWdlX25vID09IDAgfHwgcGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzICsgMSkgewogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICBpZiAocGFnZV9ubyA9PSAiLi4ucyIpIHsKICAgIC8vICAgICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgLy8gICAgICAgfSBlbHNlIGlmIChwYWdlX25vID09ICIuLi5sIikgewogICAgLy8gICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBNYXRoLmNlaWwoKHRoaXMudG90YWxfcGFnZXMgKyB0aGlzLnBhZ2Vfbm8pIC8gMik7CiAgICAvLyAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlX25vOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgLy8gdGhpcy5wYWdlX25vID0gcGFnZV9ubzsKICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgICAgIGF4aW9zCiAgICAvLyAgICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICAgIGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLAogICAgLy8gICAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgICAgICBpc3Nob3c6IHRydWUsCiAgICAvLyAgICAgICAgICAgICBhY3Rpb246IHRoaXMuc2VsZWN0ZWQsCiAgICAvLyAgICAgICAgICAgICBwYWdlbm86IHRoaXMucGFnZV9ubywKICAgIC8vICAgICAgICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAvLyAgICAgICAgICAgICBpc3NlYXJjaDogdGhpcy5pc3NlYXJjaCwKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgICAgICB9LAogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgKQogICAgLy8gICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMgPSBbXTsKICAgIC8vICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnkubGVuZ3RoOyBpKyspIHsKICAgIC8vICAgICAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5maW5nZXJwcmludHJlZ2V4LnRlc3QoCiAgICAvLyAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlcgogICAgLy8gICAgICAgICAgICAgICApCiAgICAvLyAgICAgICAgICAgICApIHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cy5wdXNoKHsKICAgIC8vICAgICAgICAgICAgICAgICB1c2VyZW1haWw6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uRW1haWwsCiAgICAvLyAgICAgICAgICAgICAgICAgdXNlcnBob25lbnVtYmVyOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLlBob25lTnVtYmVyLAogICAgLy8gICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLlVzZXJOYW1lLAogICAgLy8gICAgICAgICAgICAgICAgIHVzZXJpZDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgIC8vICAgICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgLy8gICAgICAgICAgICAgICAgIHVzZXJlbWFpbDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgIC8vICAgICAgICAgICAgICAgICB1c2VycGhvbmVudW1iZXI6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uUGhvbmVOdW1iZXIsCiAgICAvLyAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlc3BvbnNlLmRhdGEuY2hhdEhpc3RvcnlbaV0uVXNlck5hbWUsCiAgICAvLyAgICAgICAgICAgICAgICAgdXNlcmlkOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLl9pZC5Vc2VyLAogICAgLy8gICAgICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgIC8vIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMucHVzaCh7CiAgICAvLyAgICAgICAgICAgICAvLyAgICAgdXNlcmVtYWlsIDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgIC8vICAgICAgICAgICAgIC8vICAgICB1c2VycGhvbmVudW1iZXIgOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLlBob25lTnVtYmVyLAogICAgLy8gICAgICAgICAgICAgLy8gICAgIHVzZXJuYW1lIDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5Vc2VyTmFtZSwKICAgIC8vICAgICAgICAgICAgIC8vIH0pOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gcmVzcG9uc2UuZGF0YS5QYWdlQ291bnQ7CiAgICAvLyAgICAgICAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAvLyAgICAgICAgIH0pCiAgICAvLyAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgLy8gICAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgIC8vICAgICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgICApIHsKICAgIC8vICAgICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgICB9KTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBwYWdpbmF0aW9uX2NsYXNzKGluZGV4KSB7CiAgICAvLyAgIGlmIChpbmRleCA9PSB0aGlzLnBhZ2Vfbm8pIHsKICAgIC8vICAgICByZXR1cm4gIiBhY3RpdmUiOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHJldHVybiAiIjsKICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgLy8gICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKICAgIC8vICAgaWYgKHRoaXMudG90YWxfcGFnZXMgPD0gNykgewogICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gMSkgewogICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAvLyAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzKSB7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgIC8vICAgICBmb3IgKGxldCBpID0gdGhpcy50b3RhbF9wYWdlcyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgIC8vICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0gZWxzZSBpZiAocGFnZV9ubyA8PSA0KSB7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAvLyAgIH0gZWxzZSBpZiAocGFnZV9ubyA+PSB0aGlzLnRvdGFsX3BhZ2VzIC0gNCkgewogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSAzOyBpIDw9IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgIC8vICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkpOwogICAgLy8gICAgIH0KICAgIC8vICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gdmlld19hY3Rpb24oKSB7CiAgICAvLyAgIHZhciBhY3Rpb25fbmFtZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgIC8vICAgdGhpcy5zZWxlY3RlZCA9IGFjdGlvbl9uYW1lOwogICAgLy8gICB0aGlzLnNlYXJjaHN0cmluZyA9ICIiOwogICAgLy8gICBpZiAoYWN0aW9uX25hbWUgIT0gImdlbmVyYWxfY2hhdF9oaXN0b3J5IikgewogICAgLy8gICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgIGFwaV9jYWxscy5hY3Rpb25fdXNhZ2Vfc3RhdHNfdXJsKCksCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgICBhY3Rpb246IGFjdGlvbl9uYW1lLAogICAgLy8gICAgICAgICAgIHBhZ2Vfbm86IDEsCiAgICAvLyAgICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICApCiAgICAvLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGEubnVtYmVyX29mX3Jvd3M7CiAgICAvLyAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgLy8gICAgICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzID0gW107CiAgICAvLyAgICAgICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YS51c2VycykgewogICAgLy8gICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnVzZXJzW2ldLmFjdGlvbl9oaXRzICE9IDApIHsKICAgIC8vICAgICAgICAgICAgIGxldCBhY3Rpb25faGlzdG9yeSA9IFtdOwogICAgLy8gICAgICAgICAgICAgZm9yICh2YXIgaiBpbiByZXNwb25zZS5kYXRhLnVzZXJzW2ldLmFjdGlvbl9oaXRzKSB7CiAgICAvLyAgICAgICAgICAgICAgIGFjdGlvbl9oaXN0b3J5LnB1c2gocmVzcG9uc2UuZGF0YS51c2Vyc1tpXS5hY3Rpb25faGl0c1tqXSk7CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgLy8gICAgICAgICAgICAgICB1c2VybmFtZTogcmVzcG9uc2UuZGF0YS51c2Vyc1tpXS51c2VybmFtZSwKICAgIC8vICAgICAgICAgICAgICAgYWN0aW9uX2xpc3Q6IGFjdGlvbl9oaXN0b3J5LAogICAgLy8gICAgICAgICAgICAgICBzZW5kZXJfaWQ6IHJlc3BvbnNlLmRhdGEudXNlcnNbaV0uc2VuZGVyX2lkLAogICAgLy8gICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgLy8gICAgIGF4aW9zCiAgICAvLyAgICAgICAucG9zdCgKICAgIC8vICAgICAgICAgYXBpX2NhbGxzLmdlbmVyYWxfY2hhdF9oaXN0b3J5KCksCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgICBpc3Nob3c6IHRydWUsCiAgICAvLyAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25fbmFtZSwKICAgIC8vICAgICAgICAgICBwYWdlbm86IHRoaXMucGFnZV9ubywKICAgIC8vICAgICAgICAgICBwZXJwYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgLy8gICAgICAgICAgIGlzc2VhcmNoOiB0aGlzLmlzc2VhcmNoLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgICB7CiAgICAvLyAgICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgKQogICAgLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICAgIHRoaXMudXNlcl9hY3Rpb25fc3RhdHMgPSBbXTsKICAgIC8vICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5Lmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy51c2VyX2FjdGlvbl9zdGF0cy5wdXNoKHsKICAgIC8vICAgICAgICAgICAgIHVzZXJlbWFpbDogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5faWQuVXNlciwKICAgIC8vICAgICAgICAgICAgIHVzZXJwaG9uZW51bWJlcjogcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeVtpXS5QaG9uZU51bWJlciwKICAgIC8vICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLlVzZXJOYW1lLAogICAgLy8gICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBzY3JvbGxfZGl2KCkgewogICAgLy8gICB2YXIgZG9jID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmJ1eS1wcm9kdWN0cyIpOwogICAgLy8gICBpZiAoZXZlbnQuZGVsdGFYID4gZXZlbnQuZGVsdGFZKSB7CiAgICAvLyAgICAgZG9jLnNjcm9sbExlZnQgKz0gMTA7CiAgICAvLyAgIH0gZWxzZSBpZiAoZXZlbnQuZGVsdGFYIDwgZXZlbnQuZGVsdGFZKSB7CiAgICAvLyAgICAgZG9jLnNjcm9sbExlZnQgLT0gMTA7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBjaGVja2ludGVudChpbmRleCkgewogICAgLy8gICBpZiAodGhpcy5jaGF0RGV0YWlsc1tpbmRleCAtIDFdICE9IHVuZGVmaW5lZCkgewogICAgLy8gICAgIGlmICh0aGlzLmNoYXREZXRhaWxzW2luZGV4IC0gMV0uQk9UUmVzcG9uc2VbMF0gIT0gdW5kZWZpbmVkKSB7CiAgICAvLyAgICAgICBpZiAodGhpcy5jaGF0RGV0YWlsc1tpbmRleCAtIDFdLkJPVFJlc3BvbnNlWzBdLmludGVudCAhPSB1bmRlZmluZWQpIHsKICAgIC8vICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiBmYWxzZTsKICAgIC8vIH0sCiAgICAvLyBjaGF0X2RhdGUoaW5kZXgpIHsKICAgIC8vICAgdGhpcy5zZW5kZXJfaWQgPSB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzW2luZGV4XS51c2VyaWQ7CiAgICAvLyAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgYXhpb3MKICAgIC8vICAgICAucG9zdCgKICAgIC8vICAgICAgIGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnNlbmRlcl9pZCwKICAgIC8vICAgICAgICAgaXNzaG93ZGF0ZXM6IHRydWUsCiAgICAvLyAgICAgICAgIGlzc2VhcmNoOiB0aGlzLmlzc2VhcmNoLAogICAgLy8gICAgICAgICBzZWFyY2hzdHJpbmc6IHRoaXMuc2VhcmNoc3RyaW5nLAogICAgLy8gICAgICAgfSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgaGVhZGVyczogewogICAgLy8gICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICB9LAogICAgLy8gICAgICAgfQogICAgLy8gICAgICkKICAgIC8vICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAvLyAgICAgICB0aGlzLmNoYXRfZGF0ZXMgPSByZXNwb25zZS5kYXRhLkRhdGVzOwogICAgLy8gICAgICAgdGhpcy5zZWxlY3RlZF9kYXRlID0KICAgIC8vICAgICAgICAgcmVzcG9uc2UuZGF0YS5EYXRlc1tyZXNwb25zZS5kYXRhLkRhdGVzLmxlbmd0aCAtIDFdOwogICAgLy8gICAgICAgdGhpcy5jaGF0X2RhdGVzLnJldmVyc2UoKTsKICAgIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRfaW5kZXgpOwogICAgLy8gICAgICAgdGhpcy5zZWxlY3RlZF9pbmRleCA9IGluZGV4OwogICAgLy8gICAgICAgdGhpcy5jaGF0X2NvbnZlcnNhdGlvbihpbmRleCk7CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIGlmICgKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICkgewogICAgLy8gICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIC8vIGNoYXRfY29udmVyc2F0aW9uKGluZGV4LCBjaGF0X2luZGV4KSB7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKGluZGV4LCBjaGF0X2luZGV4KTsKICAgIC8vICAgaWYgKHRoaXMuc2VsZWN0ZWQgIT0gImdlbmVyYWxfY2hhdF9oaXN0b3J5IikgewogICAgLy8gICAgIHRoaXMuc2VuZGVyX2lkID0gdGhpcy51c2VyX2FjdGlvbl9zdGF0c1tpbmRleF0udXNlcmlkOwogICAgLy8gICAgIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgIGFwaV9jYWxscy5jb252ZXJzYXRpb25fc3RhdHNfdXJsKCksCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgICBzZW5kZXJfaWQ6IHRoaXMudXNlcl9hY3Rpb25fc3RhdHNbaW5kZXhdLnNlbmRlcl9pZCwKICAgIC8vICAgICAgICAgICBhY3Rpb25fdGltZXN0YW1wOiB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzW2luZGV4XS5hY3Rpb25fbGlzdFsKICAgIC8vICAgICAgICAgICAgIGNoYXRfaW5kZXgKICAgIC8vICAgICAgICAgICBdLnRpbWVzdGFtcCwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICkKICAgIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgLy8gICAgICAgICB0aGlzLnVzZXJfcmVwbHkgPSBbXTsKICAgIC8vICAgICAgICAgdGhpcy5ib3RfcmVwbHkgPSBbXTsKICAgIC8vICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gbnVsbCkgewogICAgLy8gICAgICAgICAgIHRoaXMuY3VycmVudF91c2VyID0gcmVzcG9uc2UuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMudXNlcm5hbWU7CiAgICAvLyAgICAgICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhLnVzZXJfY29udmVyc2F0aW9ucy5pbnRlcmFjdGlvbnMpIHsKICAgIC8vICAgICAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLnVzZXIgIT0KICAgIC8vICAgICAgICAgICAgICAgdW5kZWZpbmVkCiAgICAvLyAgICAgICAgICAgICApIHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy51c2VyX3JlcGx5LnB1c2goCiAgICAvLyAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS51c2VyX2NvbnZlcnNhdGlvbnMuaW50ZXJhY3Rpb25zW2ldLnVzZXIKICAgIC8vICAgICAgICAgICAgICAgKTsKICAgIC8vICAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAvLyAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEudXNlcl9jb252ZXJzYXRpb25zLmludGVyYWN0aW9uc1tpXS5ib3QgIT0KICAgIC8vICAgICAgICAgICAgICAgdW5kZWZpbmVkCiAgICAvLyAgICAgICAgICAgICApIHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5ib3RfcmVwbHkucHVzaCgKICAgIC8vICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLnVzZXJfY29udmVyc2F0aW9ucy5pbnRlcmFjdGlvbnNbaV0uYm90CiAgICAvLyAgICAgICAgICAgICAgICk7CiAgICAvLyAgICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICQoIiNjb252ZXJzYXRpb25fbW9kZWwxIDppbnB1dCIpLnByb3AoImRpc2FibGVkIiwgdHJ1ZSk7CiAgICAvLyAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgICAgdG9hc3RyLmVycm9yKCJObyBDaGF0cyBBdmFpbGFibGUiKTsKICAgIC8vICAgICAgICAgICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSIpLm1vZGFsKCJoaWRlIik7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgJCgiI2NvbnZlcnNhdGlvbl9tb2RlbDEgOmlucHV0IikucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgIC8vICAgICAgIH0pCiAgICAvLyAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgICAgaWYgKAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgLy8gICAgICAgICApIHsKICAgIC8vICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAvLyAgICAgYXhpb3MKICAgIC8vICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICBhcGlfY2FsbHMuZ2VuZXJhbF9jaGF0X2hpc3RvcnkoKSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnNlbmRlcl9pZCwKICAgIC8vICAgICAgICAgICBpc3Nob3djaGF0ZGV0YWlsczogdHJ1ZSwKICAgIC8vICAgICAgICAgICBkYXRlOiB0aGlzLnNlbGVjdGVkX2RhdGUsCiAgICAvLyAgICAgICAgICAgaXNzZWFyY2g6IHRoaXMuaXNzZWFyY2gsCiAgICAvLyAgICAgICAgICAgc2VhcmNoc3RyaW5nOiB0aGlzLnNlYXJjaHN0cmluZywKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICkKICAgIC8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkX2luZGV4LCB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzKTsKICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgICAgdGhpcy51c2VyX3JlcGx5ID0gW107CiAgICAvLyAgICAgICAgIHRoaXMuYm90X3JlcGx5ID0gW107CiAgICAvLyAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9IG51bGwpIHsKICAgIC8vICAgICAgICAgICB0aGlzLmN1cnJlbnRfdXNlciA9IHRoaXMudXNlcl9hY3Rpb25fc3RhdHNbCiAgICAvLyAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkX2luZGV4CiAgICAvLyAgICAgICAgICAgXS51c2VyZW1haWw7CiAgICAvLyAgICAgICAgICAgdGhpcy5jaGF0RGV0YWlscyA9IHJlc3BvbnNlLmRhdGEuY2hhdERldGFpbHM7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgICAgICAgIC8vICAgJCgiI2NvbnZlcnNhdGlvbl9tb2RlbDEgOmlucHV0IikucHJvcCgiZGlzYWJsZWQiLCB0cnVlKTsKICAgIC8vICAgICAgICAgLy8gICAkKCIjY29udmVyc2F0aW9uX21vZGVsMSA6YnV0dG9uIikucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7CiAgICAvLyAgICAgICAgIC8vIH0sIDUwMCk7CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfSk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICBzZWFyY2hfY2hhdDogZnVuY3Rpb24gc2VhcmNoX2NoYXQoKSB7CiAgICAgIGlmICh0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPT09ICJwb3J0YWxfdXNlciIpIHsKICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJzZWFyY2hfcG9ydGFsX3VzZXJfY2hhdF9oaXN0b3J5IiwgdGhpcy5zZWFyY2hzdHJpbmcpOwogICAgICB9IGVsc2UgaWYgKHRoaXMudmlld19jb21wb25lbnRfbmFtZSA9PT0gImJvdF91c2VyIikgewogICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoInNlYXJjaF9ib3RfdXNlcl9jaGF0X2hpc3RvcnkiLCB0aGlzLnNlYXJjaHN0cmluZyk7CiAgICAgIH0gLy8gICBpZiAodGhpcy5zZWFyY2hzdHJpbmcgIT0gIiIpIHsKICAgICAgLy8gICAgIC8vIHRoaXMuc3Bpbm5lck9uID0gdHJ1ZTsKICAgICAgLy8gICAgIHRoaXMucGFnZV9ubyA9IDE7CiAgICAgIC8vICAgICAodGhpcy5pc3NlYXJjaCA9IHRydWUpLCAodGhpcy5zcGlubmVyT24gPSB0cnVlKTsKICAgICAgLy8gICAgIGF4aW9zCiAgICAgIC8vICAgICAgIC5wb3N0KAogICAgICAvLyAgICAgICAgIGFwaV9jYWxscy5nZW5lcmFsX2NoYXRfaGlzdG9yeSgpLAogICAgICAvLyAgICAgICAgIHsKICAgICAgLy8gICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAvLyAgICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgLy8gICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIC8vICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAvLyAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgIC8vICAgICAgICAgICBpc3Nob3c6IHRydWUsCiAgICAgIC8vICAgICAgICAgICBhY3Rpb246ICJnZW5lcmFsX2NoYXRfaGlzdG9yeSIsCiAgICAgIC8vICAgICAgICAgICBwYWdlbm86IHRoaXMucGFnZV9ubywKICAgICAgLy8gICAgICAgICAgIHBlcnBhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgIC8vICAgICAgICAgICBpc3NlYXJjaDogdGhpcy5pc3NlYXJjaCwKICAgICAgLy8gICAgICAgICAgIHNlYXJjaHN0cmluZzogdGhpcy5zZWFyY2hzdHJpbmcsCiAgICAgIC8vICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICB7CiAgICAgIC8vICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgIC8vICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgICAvLyAgICAgICAgICAgfSwKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgICkKICAgICAgLy8gICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgLy8gICAgICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzID0gW107CiAgICAgIC8vICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHID09ICJObyBSZXN1bHRzIEZvdW5kIikgewogICAgICAvLyAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IDA7CiAgICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgICAgLy8gICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5jaGF0SGlzdG9yeS5sZW5ndGg7IGkrKykgewogICAgICAvLyAgICAgICAgICAgICB0aGlzLnVzZXJfYWN0aW9uX3N0YXRzLnB1c2goewogICAgICAvLyAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXNwb25zZS5kYXRhLmNoYXRIaXN0b3J5W2ldLAogICAgICAvLyAgICAgICAgICAgICB9KTsKICAgICAgLy8gICAgICAgICAgIH0KICAgICAgLy8gICAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhLlBhZ2VDb3VudDsKICAgICAgLy8gICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgfSkKICAgICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgIC8vICAgICAgICAgaWYgKAogICAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAvLyAgICAgICAgICkgewogICAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgLy8gICAgICAgICB9CiAgICAgIC8vICAgICAgIH0pOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICB0b2FzdHIuZXJyb3IoIkVudGVyIHByb3BlciBkYXRhIGZvciBzZWFyY2hpbmciKTsKICAgICAgLy8gICB9CgogICAgfSAvLyBjbG9zZV9tb2RhbCgpIHsKICAgIC8vICAgJCgiI2NvbnZlcnNhdGlvbl9tb2RlbDEiKS5tb2RhbCgiaGlkZSIpOwogICAgLy8gfSwKCiAgfQp9Ow=="},null]}