{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/ProductSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/ProductManagement/ProductSettings.vue","mtime":1645594423495},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCBjdXJyZW5jeSBmcm9tICJAL3BvcnRhbC9jb21wb25lbnRzL0N1cnJlbmN5IjsKaW1wb3J0IE11bHRpc2VsZWN0IGZyb20gInZ1ZS1tdWx0aXNlbGVjdCI7CmltcG9ydCB7IGZyZWV6ZV9wb3J0YWwsIHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmltcG9ydCBWdWVQaG9uZU51bWJlcklucHV0IGZyb20gJ3Z1ZS1waG9uZS1udW1iZXItaW5wdXQnOwppbXBvcnQgJ3Z1ZS1waG9uZS1udW1iZXItaW5wdXQvZGlzdC92dWUtcGhvbmUtbnVtYmVyLWlucHV0LmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUHJvZHVjdFNldHRpbmdzUGFnZSIsCiAgY29tcG9uZW50czogewogICAgTXVsdGlzZWxlY3Q6IE11bHRpc2VsZWN0LAogICAgVnVlUGhvbmVOdW1iZXJJbnB1dDogVnVlUGhvbmVOdW1iZXJJbnB1dAogIH0sCiAgbWl4aW5zOiBbZnJlZXplX3BvcnRhbCwgc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGhvbmVOdW1iZXI6IG51bGwsCiAgICAgIGNvbnRhY3RfdXNfcGhvbmVfbnVtYmVyOiBudWxsLAogICAgICBpbnZlbnRvcnlfbGV2ZWxfbm90aWZpY2F0aW9uOiA1LAogICAgICBjdXJyZW5jeV9jb2RlOiAiIiwKICAgICAgY3VycmVuY3lfbGlzdDogW10sCiAgICAgIGZlZWRiYWNrX3F1ZXN0aW9uX2ZyZXF1ZW5jeTogOTAsCiAgICAgIHBob25lX25vX2Rpc2FibGU6IGZhbHNlLAogICAgICBlbWFpbF9kaXNhYmxlOiBmYWxzZSwKICAgICAgcmVzZXRfaWNvbl9wYXRoOiByZXF1aXJlKCJAL3BvcnRhbC9hc3NldHMvaW1nL3Jlc2V0X2ljb24uc3ZnIiksCiAgICAgIHZlcmlmaWNhdGlvbl9zdGF0dXM6IG51bGwsCiAgICAgIGJpZ19zcGlubmVyOiBmYWxzZSwKICAgICAgY29tcGFueWlkOiBudWxsLAogICAgICBjb21wYW55bmFtZTogbnVsbCwKICAgICAgaXNfZGlzcGxheV9wcm9kdWN0czogZmFsc2UsCiAgICAgIGRpc3BsYXlfcHJvZHVjdHNfaWQ6IHRydWUsCiAgICAgIGRpc3BsYXlfcHJvZHVjdHNfdHlwZTogbnVsbCwKICAgICAgZW1haWxfcmVxdWlyZWQ6IGZhbHNlLAogICAgICBwaG9uZV9ub19kZXRhaWxzOiBudWxsLAogICAgICBlbWFpbF9kZXRhaWxzOiBudWxsLAogICAgICBlbWFpbF9yZXF1aXJlZF9pZDogdHJ1ZSwKICAgICAgcGhvbmVfbnVtYmVyX3ZhbGlkaXR5OiAvXCtbMC05XXs5LDE0fSQvLAogICAgICBlbWFpbF92YWxpZGl0eTogL14oWzAtOWEtekEtWl0oWy0uXHddKlswLTlhLXpBLVpdKSpAKFswLTlhLXpBLVpdWy1cd10qWzAtOWEtekEtWl1cLikrW2EtekEtWl17Miw5fSkkLywKICAgICAgbGltaXRfdXBfc2VsbDogMTAsCiAgICAgIGxpbWl0X2Nyb3NzX3NlbGw6IDEwLAogICAgICBjb250YWN0X3VzX2VtYWlsOiAnJywKICAgICAgcmV2aWV3X21lc3NhZ2VfZmlyc3Q6ICcnLAogICAgICByZXZpZXdfbWVzc2FnZV9zZWNvbmQ6ICcnLAogICAgICByZXRhaWxfd2ViX2ZyYW1ld29yazogdGhpcy4kc2Vzc2lvbi5nZXQoInJldGFpbF93ZWJfZnJhbWV3b3JrIiksCiAgICAgIHZlcmlmeV9wcm9kdWN0X3NldHRpbmdzOiBbXSwKICAgICAgdmVyaWZ5X2NoZWNrOiBmYWxzZSwKICAgICAgaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZzogZmFsc2UsCiAgICAgIGRpc2FibGVfYnRuX2V4cGlyZWQ6IGZhbHNlLAogICAgICB1bnN1YnNjcmliZV9saW5rOiBudWxsLAogICAgICB1bnN1YnNjcmliZV9saW5rX3R5cGU6ICdzdGFuZGFyZCcsCiAgICAgIHJlZ19ob3N0OiAvaHR0cHM6XC9cL1sod3d3XC4pP2EtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKFstYS16QS1aMC05QDolX1wrLn4jPyZcL1wvPV0qKS9pCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQoKICAgIHRoaXMubG9hZF9wcm9kdWN0X3NldHRpbmdzKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuZnJlZXplX3BvcnRhbCgpOwogICAgfSwgMTAwMCk7CiAgICB0aGlzLiRyb290LiRvbigiUHJvZHVjdFNldHRpbmdzUGFnZURpc2FibGVkIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHsKICAgICAgICBfdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLnJldGFpbF93ZWJfZnJhbWV3b3JrID0gdGhpcy4kc2Vzc2lvbi5nZXQoInJldGFpbF93ZWJfZnJhbWV3b3JrIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW5jeS5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLmN1cnJlbmN5X2xpc3QucHVzaCh7CiAgICAgICAgZGlzcGxheV9uYW1lOiBjdXJyZW5jeVtpXS5lbW9qaSArICIgIiArIGN1cnJlbmN5W2ldLmN1cnJlbmN5X2NvZGUgKyAiIC0gIiArIGN1cnJlbmN5W2ldLmN1cnJlbmN5X25hbWUsCiAgICAgICAgdmFsdWU6IGN1cnJlbmN5W2ldLmN1cnJlbmN5X2NvZGUKICAgICAgfSk7CiAgICB9IC8vIHRoaXMudW5pcXVlKCk7CgoKICAgIHRoaXMuZnJlZXplX3BvcnRhbCgpOwogICAgJCgnW2RhdGEtdG9nZ2xlPSJwb3BvdmVyIl0nKS5wb3BvdmVyKCk7IC8vIGxvYWRfcHJvZHVjdF9zZXR0aW5ncygpOwoKICAgIHRoaXMuJHJvb3QuJGVtaXQoJ2NoYW5nZV9zaWRlYmFyX21haW5fbWVudScsICdTdG9yZScpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbGlkUGhvbmVOdW1iZXI6IGZ1bmN0aW9uIHZhbGlkUGhvbmVOdW1iZXIoKSB7CiAgICAgIGlmICh0aGlzLnBob25lX25vX2RldGFpbHMgIT0gbnVsbCkgewogICAgICAgIGlmICh0aGlzLnBob25lX251bWJlcl92YWxpZGl0eS50ZXN0KHRoaXMucGhvbmVfbm9fZGV0YWlscy5yZXBsYWNlKC9ccysvZywgIiIpKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIGluIHRoZSBmb3JtYXQ6ICtDb3VudHJ5Q29kZSBOdW1iZXIiOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHZhbGlkRW1haWw6IGZ1bmN0aW9uIHZhbGlkRW1haWwoKSB7CiAgICAgIGlmICh0aGlzLmNvbnRhY3RfdXNfZW1haWwgIT0gbnVsbCkgewogICAgICAgIGlmICh0aGlzLmVtYWlsX3ZhbGlkaXR5LnRlc3QodGhpcy5jb250YWN0X3VzX2VtYWlsKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgRW1haWwgQWRkcmVzcyI7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdmFsaWRVcmw6IGZ1bmN0aW9uIHZhbGlkVXJsKCkgewogICAgICBpZiAodGhpcy5jb250YWN0X3VzX2VtYWlsICE9IG51bGwpIHsKICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZV9saW5rX3R5cGUgPT09ICdzdGFuZGFyZCcpIHsKICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVfbGluayA9IG51bGw7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVnX2hvc3QudGVzdCh0aGlzLnVuc3Vic2NyaWJlX2xpbmspKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVcmwiOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGVtYWlsX2RldGFpbHM6IGZ1bmN0aW9uIGVtYWlsX2RldGFpbHMoKSB7CiAgICAgIGlmICh0aGlzLmVtYWlsX2RldGFpbHMgPT0gbnVsbCB8fCB0aGlzLmVtYWlsX2RldGFpbHMgPT0gIiIpIHsKICAgICAgICB0aGlzLmVtYWlsX2Rpc2FibGUgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlUm91dGVMZWF2ZTogZnVuY3Rpb24gYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdmFyIGNoZWNrID0gZmFsc2U7CgogICAgaWYgKHRoaXMudmVyaWZ5X2NoZWNrKSB7CiAgICAgIGlmICh0aGlzLnZlcmlmeV9wcm9kdWN0X3NldHRpbmdzLnJldmlld19tZXNzYWdlX2ZpcnN0ID09IHRoaXMucmV2aWV3X21lc3NhZ2VfZmlyc3QgJiYgdGhpcy52ZXJpZnlfcHJvZHVjdF9zZXR0aW5ncy5yZXZpZXdfbWVzc2FnZV9zZWNvbmQgPT0gdGhpcy5yZXZpZXdfbWVzc2FnZV9zZWNvbmQgJiYgdGhpcy52ZXJpZnlfcHJvZHVjdF9zZXR0aW5ncy5jb250YWN0X2hlbHBfZW1haWwgPT0gdGhpcy5jb250YWN0X3VzX2VtYWlsICYmIHRoaXMudmVyaWZ5X3Byb2R1Y3Rfc2V0dGluZ3MuY29udGFjdF91c19waG9uZV9udW1iZXIgPT0gKHRoaXMuY29udGFjdF91c19waG9uZV9udW1iZXIgPyB0aGlzLnBob25lTnVtYmVyLmZvcm1hdHRlZE51bWJlciA6IHVuZGVmaW5lZCkgJiYgdGhpcy52ZXJpZnlfcHJvZHVjdF9zZXR0aW5ncy5vcmRlcl9yZXRyaWV2YWxfb25seV9lbWFpbF9yZXF1aXJlZCA9PSB0aGlzLmVtYWlsX3JlcXVpcmVkICYmIHRoaXMudmVyaWZ5X3Byb2R1Y3Rfc2V0dGluZ3MuYmFzZV9jdXJyZW5jeS52YWx1ZSA9PSB0aGlzLmN1cnJlbmN5X2NvZGUudmFsdWUgJiYgdGhpcy52ZXJpZnlfcHJvZHVjdF9zZXR0aW5ncy51c2VyX2ZlZWRiYWNrX2ZyZXF1ZW5jeSA9PSB0aGlzLmZlZWRiYWNrX3F1ZXN0aW9uX2ZyZXF1ZW5jeSAmJiB0aGlzLnZlcmlmeV9wcm9kdWN0X3NldHRpbmdzLmxvd19pbnZlbnRvcnlfbm90aWZpY2F0aW9uID09IHRoaXMuaW52ZW50b3J5X2xldmVsX25vdGlmaWNhdGlvbiAmJiB0aGlzLnZlcmlmeV9wcm9kdWN0X3NldHRpbmdzLmxpbWl0X3VwX3NlbGwgPT0gdGhpcy5saW1pdF91cF9zZWxsICYmIHRoaXMudmVyaWZ5X3Byb2R1Y3Rfc2V0dGluZ3MubGltaXRfY3Jvc3Nfc2VsbCA9PSB0aGlzLmxpbWl0X2Nyb3NzX3NlbGwgJiYgdGhpcy52ZXJpZnlfcHJvZHVjdF9zZXR0aW5ncy5zZW5kZXJfZW1haWwgPT0gdGhpcy5lbWFpbF9kZXRhaWxzICYmIHRoaXMudmVyaWZ5X3Byb2R1Y3Rfc2V0dGluZ3MuZGlzcGxheV9wcm9kdWN0c19vbl9sYW5kaW5nID09IHRoaXMuaXNfZGlzcGxheV9wcm9kdWN0cyAmJiB0aGlzLnZlcmlmeV9wcm9kdWN0X3NldHRpbmdzLmlzX2Rpc3BsYXlfYmFubmVyX29uX2xhbmRpbmcgPT0gdGhpcy5pc19kaXNwbGF5X2Jhbm5lcl9vbl9sYW5kaW5nICYmIHRoaXMudmVyaWZ5X3Byb2R1Y3Rfc2V0dGluZ3MuZGlzcGxheV9wcm9kdWN0c190eXBlID09IHRoaXMuZGlzcGxheV9wcm9kdWN0c190eXBlKSB7CiAgICAgICAgY2hlY2sgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjaGVjayA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoY2hlY2sgJiYgIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICBTd2FsKHsKICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgIHRleHQ6ICJJZiB5b3UgaGF2ZSBtYWRlIGFueSBjaGFuZ2VzIGluIHRoZSBwcm9kdWN0IHNldHRpbmdzIHBsZWFzZSBzYXZlIHRoZW0gZmlyc3QsIGVsc2UgdGhleSB3aWxsIGRpc2NhcmRlZCEiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJTYXZlIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAiQ2FuY2VsIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBfdGhpczIuY29uZmlndXJlX3Byb2R1Y3Rfc2V0dGluZ3MoImVtYWlsX3JlcXVpcmVkIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdW5pcXVlOiBmdW5jdGlvbiB1bmlxdWUoKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLmN1cnJlbmN5X2xpc3Q7CiAgICAgIHZhciB1ID0ge30sCiAgICAgICAgICBhID0gW107CgogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyArK2kpIHsKICAgICAgICBpZiAoIXUuaGFzT3duUHJvcGVydHkoYXJyW2ldKSkgewogICAgICAgICAgYS5wdXNoKGFycltpXSk7CiAgICAgICAgICB1W2FycltpXV0gPSAxOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jdXJyZW5jeV9saXN0ID0gYTsKICAgIH0sCiAgICBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzOiBmdW5jdGlvbiBlbWFpbF92ZXJpZmljYXRpb25fc3RhdHVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmVtYWlsX2RldGFpbHMgIT0gbnVsbCAmJiB0aGlzLmVtYWlsX2RldGFpbHMgIT0gIiIpIHsKICAgICAgICB0aGlzLmVtYWlsX2Rpc2FibGUgPSB0cnVlOwogICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb2R1Y3Rfc2V0dGluZ3MoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgaXNfZW1haWxfdmVyaWZpY2F0aW9uX3N0YXR1czogdHJ1ZSwKICAgICAgICAgIGVtYWlsX2lkOiB0aGlzLmVtYWlsX2RldGFpbHMKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMy5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9ICIiICYmIHJlc3BvbnNlLmRhdGEgIT0gbnVsbCAmJiByZXNwb25zZS5kYXRhICE9ICJJbnRlcm5hbCBzZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgIHZhciBzdGF0dXMgPSByZXNwb25zZS5kYXRhLnZlcmlmaWNhdGlvbl9zdGF0dXM7CiAgICAgICAgICAgIF90aGlzMy52ZXJpZmljYXRpb25fc3RhdHVzID0gc3RhdHVzID09ICJTdWNjZXNzIiA/ICJTdWNjZXNzIiA6IHN0YXR1cyA9PSAiUGVuZGluZyIgPyAiUGVuZGluZyAoUGxlYXNlIFZlcmlmeSBZb3VyIEVtYWlsIEFkZHJlc3MpIiA6IHN0YXR1cyArICIoVGhlIHZlcmlmaWNhdGlvbiBsaW5rIGhhcyBleHBpcmVkLCBraW5kbHkgcmVzdGFydCB0aGUgcHJvY2VzcyBieSByZW1vdmluZyB0aGUgZXhpc3RpbmcgZW1haWwtaWQuKSI7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMy5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkX3Byb2R1Y3Rfc2V0dGluZ3M6IGZ1bmN0aW9uIGxvYWRfcHJvZHVjdF9zZXR0aW5ncygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmVtYWlsX2RldGFpbHMgPSBudWxsOwogICAgICB0aGlzLnBob25lX25vX2RldGFpbHMgPSBudWxsOwogICAgICB0aGlzLmVtYWlsX3JlcXVpcmVkID0gZmFsc2U7CiAgICAgIHRoaXMuY3VycmVuY3lfY29kZSA9ICIiOwogICAgICB0aGlzLmZlZWRiYWNrX3F1ZXN0aW9uX2ZyZXF1ZW5jeSA9IDkwOwogICAgICB0aGlzLmludmVudG9yeV9sZXZlbF9ub3RpZmljYXRpb24gPSA1OwogICAgICB0aGlzLmxpbWl0X3VwX3NlbGwgPSAxMDsKICAgICAgdGhpcy5saW1pdF9jcm9zc19zZWxsID0gMTA7CiAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGlzX2dldDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgdmFyIHdlYmZyYW1ld29yayA9IF90aGlzNC5yZXRhaWxfd2ViX2ZyYW1ld29yazsKCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT0gIiIgJiYgcmVzcG9uc2UuZGF0YSAhPSBudWxsICYmIHJlc3BvbnNlLmRhdGEgIT0gIkludGVybmFsIHNlcnZlciBFcnJvciIpIHsKICAgICAgICAgIF90aGlzNC52ZXJpZnlfcHJvZHVjdF9zZXR0aW5ncyA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ107CiAgICAgICAgICBfdGhpczQucmV2aWV3X21lc3NhZ2VfZmlyc3QgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLnJldmlld19tZXNzYWdlX2ZpcnN0OwogICAgICAgICAgX3RoaXM0LnJldmlld19tZXNzYWdlX3NlY29uZCA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10ucmV2aWV3X21lc3NhZ2Vfc2Vjb25kOwogICAgICAgICAgX3RoaXM0LmNvbnRhY3RfdXNfZW1haWwgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLmNvbnRhY3RfaGVscF9lbWFpbDsKICAgICAgICAgIF90aGlzNC5jb250YWN0X3VzX3Bob25lX251bWJlciA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10uY29udGFjdF91c19waG9uZV9udW1iZXI7CiAgICAgICAgICBfdGhpczQuZW1haWxfZGV0YWlscyA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10uc2VuZGVyX2VtYWlsOwogICAgICAgICAgX3RoaXM0LnBob25lX25vX2RldGFpbHMgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLnNlbmRlcl9waG9uZV9ubzsKICAgICAgICAgIF90aGlzNC5lbWFpbF9yZXF1aXJlZCA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10ub3JkZXJfcmV0cmlldmFsX29ubHlfZW1haWxfcmVxdWlyZWQ7CiAgICAgICAgICBfdGhpczQuY3VycmVuY3lfY29kZSA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10uYmFzZV9jdXJyZW5jeTsKICAgICAgICAgIF90aGlzNC5mZWVkYmFja19xdWVzdGlvbl9mcmVxdWVuY3kgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLnVzZXJfZmVlZGJhY2tfZnJlcXVlbmN5OwogICAgICAgICAgX3RoaXM0LmludmVudG9yeV9sZXZlbF9ub3RpZmljYXRpb24gPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLmxvd19pbnZlbnRvcnlfbm90aWZpY2F0aW9uOwogICAgICAgICAgX3RoaXM0LmxpbWl0X3VwX3NlbGwgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLmxpbWl0X3VwX3NlbGw7CiAgICAgICAgICBfdGhpczQubGltaXRfY3Jvc3Nfc2VsbCA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10ubGltaXRfY3Jvc3Nfc2VsbDsKICAgICAgICAgIF90aGlzNC5pc19kaXNwbGF5X3Byb2R1Y3RzID0gcmVzcG9uc2UuZGF0YVt3ZWJmcmFtZXdvcmsgKyAnX2RldGFpbHMnXS5kaXNwbGF5X3Byb2R1Y3RzX29uX2xhbmRpbmc7CiAgICAgICAgICBfdGhpczQuaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZyA9IHJlc3BvbnNlLmRhdGFbd2ViZnJhbWV3b3JrICsgJ19kZXRhaWxzJ10uaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZzsKICAgICAgICAgIF90aGlzNC5kaXNwbGF5X3Byb2R1Y3RzX3R5cGUgPSByZXNwb25zZS5kYXRhW3dlYmZyYW1ld29yayArICdfZGV0YWlscyddLmRpc3BsYXlfcHJvZHVjdHNfdHlwZTsKCiAgICAgICAgICBfdGhpczQuZW1haWxfdmVyaWZpY2F0aW9uX3N0YXR1cygpOwoKICAgICAgICAgIF90aGlzNC52ZXJpZnlfY2hlY2sgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczQudmVyaWZ5X2NoZWNrID0gZmFsc2U7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIkludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczQuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICBfdGhpczQudmVyaWZ5X2NoZWNrID0gZmFsc2U7CiAgICAgICAgdG9hc3RyLmVycm9yKCJTb21lIEVycm9yIE9jY3VycmVkLiIpOwoKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpZ3VyZV9wcm9kdWN0X3NldHRpbmdzOiBmdW5jdGlvbiBjb25maWd1cmVfcHJvZHVjdF9zZXR0aW5ncyh2YWx1ZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgaWYgKHZhbHVlID09ICJlbWFpbCIpIHsKICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgIHRpdGxlOiAiQXJlIHlvdSBzdXJlPyIsCiAgICAgICAgICAgIHRleHQ6ICJQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGVudGVyZWQgYSBjb3JyZWN0IGVtYWlsIGFkZHJlc3MsIHlvdSB3aWxsIHJlY2VpdmUgYW4gZW1haWwgd2l0aCB0aGUgdmVyaWZpY2F0aW9uIGxpbmsuIiwKICAgICAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBQcm9jZWVkISEiCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIF90aGlzNS5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMucHJvZHVjdF9zZXR0aW5ncygpLCB7CiAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IF90aGlzNS5jb21wYW55bmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlfaWQ6IF90aGlzNS5jb21wYW55aWQsCiAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXM1LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXM1LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgICB0b2tlbjogX3RoaXM1LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgaXNfZW1haWw6IHRydWUsCiAgICAgICAgICAgICAgICBlbWFpbF9pZDogX3RoaXM1LmVtYWlsX2RldGFpbHMKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXM1LiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM1LmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogIlZlcmlmaWNhdGlvbiBlbWFpbCBzZW50IHRvIiArICIgIiArIF90aGlzNS5lbWFpbF9kZXRhaWxzICsgIi4gS2luZGx5IGNoZWNrIHlvdXIgZW1haWwuIFxuIFlvdSB3aWxsIHJlY2VpdmUgYW4gZW1haWwgZnJvbSBzZW5kZXIgJ0FtYXpvbiBXZWIgU2VydmljZXMnLiBQbGVhc2UgdmVyaWZ5IHRoYXQgbGluayIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVtYWlsX2Rpc2FibGUgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmVtYWlsX3ZlcmlmaWNhdGlvbl9zdGF0dXMoKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5sb2FkX3Byb2R1Y3Rfc2V0dGluZ3MoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIF90aGlzNS5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJTb21lIEVycm9yIE9jY3VycmVkLiIpOwoKICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gInBob25lX25vIikgewogICAgICAgICAgaWYgKHRoaXMudmFsaWRQaG9uZU51bWJlciA9PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIGlzX3Bob25lX25vOiB0cnVlLAogICAgICAgICAgICAgIHBob25lX25vOiB0aGlzLnBob25lX25vX2RldGFpbHMKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzNS5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJQaG9uZSBudW1iZXIgc2F2ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMCwKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXM1LmVtcHR5X3ZhcmlhYmxlKCk7CgogICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRfcHJvZHVjdF9zZXR0aW5ncygpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgX3RoaXM1LmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJTb21lIEVycm9yIE9jY3VycmVkLiIpOwoKICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICAgIF90aGlzNS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJNb2JpbGUgbnVtYmVyIGlzIGludmFsaWQsIHBsZWFzZSBlbnRlciBpbiBmb3JtYXQ6ICsgQ291bnRyeUNvZGUgTnVtYmVyIik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAiZW1haWxfcmVxdWlyZWQiKSB7CiAgICAgICAgICBpZiAodGhpcy52YWxpZEVtYWlsICE9IHRydWUpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIlBsZWFzZSBlbnRlciBhIHZhbGlkIEVtYWlsIEFkZHJlc3MiLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghQm9vbGVhbih0aGlzLnBob25lTnVtYmVyKSkgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgdmFsaWQgUGhvbmUgTnVtYmVyIiwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5waG9uZU51bWJlci5pc1ZhbGlkICE9IHRydWUpIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIlBsZWFzZSBlbnRlciBhIHZhbGlkIFBob25lIE51bWJlciIsCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgICAgIHRpbWVyOiAzMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMucmV2aWV3X21lc3NhZ2VfZmlyc3QgPT09ICcnICYmIHRoaXMucmV2aWV3X21lc3NhZ2Vfc2Vjb25kID09PSAnJykgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0ZXh0OiAiUGxlYXNlIGVudGVyIGEgbWVzc2FnZSBmb3IgcmV2aWV3IGFuZCByYXRpbmdzIiwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgdGltZXI6IDM1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5pc19kaXNwbGF5X3Byb2R1Y3RzID09PSB0cnVlICYmICh0aGlzLmRpc3BsYXlfcHJvZHVjdHNfdHlwZSA9PT0gbnVsbCB8fCB0aGlzLmRpc3BsYXlfcHJvZHVjdHNfdHlwZSA9PT0gJycpKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgIHRleHQ6ICJQbGVhc2Ugc2VsZWN0IGRpc3BsYXkgcHJvZHVjdCB0eXBlIiwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5pbnZlbnRvcnlfbGV2ZWxfbm90aWZpY2F0aW9uIDwgMCB8fCB0aGlzLmZlZWRiYWNrX3F1ZXN0aW9uX2ZyZXF1ZW5jeSA8IDApIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGV4dDogIk51bWVyaWNhbCB2YWx1ZSBjYW4gbm90IGJlIGxlc3MgdGhlbiB6ZXJvIiwKICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGltaXRfdXBfc2VsbCA9PSBudWxsIHx8IHRoaXMubGltaXRfdXBfc2VsbCA8PSAwIHx8IHRoaXMubGltaXRfY3Jvc3Nfc2VsbCA9PSBudWxsIHx8IHRoaXMubGltaXRfY3Jvc3Nfc2VsbCA8PSAwKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgIHRleHQ6ICJVcC1zZWxsIGFuZCBDcm9zcy1zZWxsIGxpbWl0IHZhbHVlcyBjYW5ub3QgYmUgbGVzcyB0aGFuIHplcm8iLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksIHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIGlzX2VtYWlsX3JlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICAgIGVtYWlsX3JlcXVpcmVkOiB7CiAgICAgICAgICAgICAgICByZXZpZXdfbWVzc2FnZV9maXJzdDogdGhpcy5yZXZpZXdfbWVzc2FnZV9maXJzdCwKICAgICAgICAgICAgICAgIHJldmlld19tZXNzYWdlX3NlY29uZDogdGhpcy5yZXZpZXdfbWVzc2FnZV9zZWNvbmQsCiAgICAgICAgICAgICAgICBjb250YWN0X2hlbHBfZW1haWw6IHRoaXMuY29udGFjdF91c19lbWFpbCwKICAgICAgICAgICAgICAgIGNvbnRhY3RfdXNfcGhvbmVfbnVtYmVyOiB0aGlzLnBob25lTnVtYmVyLmZvcm1hdHRlZE51bWJlciwKICAgICAgICAgICAgICAgIG9yZGVyX3JldHJpZXZhbF9vbmx5X2VtYWlsX3JlcXVpcmVkOiB0aGlzLmVtYWlsX3JlcXVpcmVkLAogICAgICAgICAgICAgICAgYmFzZV9jdXJyZW5jeTogdGhpcy5jdXJyZW5jeV9jb2RlLAogICAgICAgICAgICAgICAgdXNlcl9mZWVkYmFja19mcmVxdWVuY3k6IHRoaXMuZmVlZGJhY2tfcXVlc3Rpb25fZnJlcXVlbmN5LAogICAgICAgICAgICAgICAgbG93X2ludmVudG9yeV9ub3RpZmljYXRpb246IHRoaXMuaW52ZW50b3J5X2xldmVsX25vdGlmaWNhdGlvbiwKICAgICAgICAgICAgICAgIGxpbWl0X3VwX3NlbGw6IHRoaXMubGltaXRfdXBfc2VsbCwKICAgICAgICAgICAgICAgIGxpbWl0X2Nyb3NzX3NlbGw6IHRoaXMubGltaXRfY3Jvc3Nfc2VsbCwKICAgICAgICAgICAgICAgIGRpc3BsYXlfcHJvZHVjdHNfb25fbGFuZGluZzogdGhpcy5pc19kaXNwbGF5X3Byb2R1Y3RzLAogICAgICAgICAgICAgICAgaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZzogdGhpcy5pc19kaXNwbGF5X2Jhbm5lcl9vbl9sYW5kaW5nLAogICAgICAgICAgICAgICAgZGlzcGxheV9wcm9kdWN0c190eXBlOiB0aGlzLmlzX2Rpc3BsYXlfcHJvZHVjdHMgPyB0aGlzLmRpc3BsYXlfcHJvZHVjdHNfdHlwZSA6IG51bGwsCiAgICAgICAgICAgICAgICAic2hvcF9zZXR0aW5nc19zYXZlZCI6IHRydWUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczUuYmlnX3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICB0ZXh0OiAiWW91ciBjaGFuZ2VzIGhhdmUgYmVlbiBzYXZlZCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIHRpbWVyOiA0MDAwCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczUuZW1wdHlfdmFyaWFibGUoKTsKCiAgICAgICAgICAgICAgICBfdGhpczUubG9hZF9wcm9kdWN0X3NldHRpbmdzKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICB0ZXh0OiAiSW50ZXJuYWwgU2VydmVyIEVycm9yIiwKICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDIwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBfdGhpczUuYmlnX3NwaW5uZXIgPSBmYWxzZTsKICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlNvbWUgRXJyb3IgT2NjdXJyZWQuIik7CgogICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgX3RoaXM1LiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAiZW1haWxfcmVtb3ZlIikgewogICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICAgICAgdGV4dDogIk9uY2UgeW91IHJlbW92ZSB0aGUgc2F2ZWQgZW1haWwgYWRkcmVzcywgeW91IHdpbGwgaGF2ZSB0byBhZGQgYW5kIHZlcmlmeSB0aGUgZW1haWwgYWdhaW4gYmVmb3JlIHlvdSBjYW4gc2VuZCBlbWFpbHMhIiwKICAgICAgICAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBSZW1vdmUhISIKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICAgICAgX3RoaXM1LmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5wcm9kdWN0X3NldHRpbmdzKCksIHsKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXM1LmNvbXBhbnluYW1lLAogICAgICAgICAgICAgICAgY29tcGFueV9pZDogX3RoaXM1LmNvbXBhbnlpZCwKICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpczUuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczUuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIHRva2VuOiBfdGhpczUuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgICBpc19yZW1vdmVfZW1haWw6IHRydWUsCiAgICAgICAgICAgICAgICBlbWFpbF9pZDogX3RoaXM1LmVtYWlsX2RldGFpbHMKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXM1LiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXM1LmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIlF1ZXJ5IEV4ZWN1dGVkIFN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogIkVtYWlsIElkIGhhcyBiZWVuIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5ISIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiA1MDAwLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5lbWFpbF9kaXNhYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5lbWFpbF9kZXRhaWxzID0gbnVsbDsKCiAgICAgICAgICAgICAgICAgIF90aGlzNS5lbXB0eV92YXJpYWJsZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmxvYWRfcHJvZHVjdF9zZXR0aW5ncygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogIkludGVybmFsIFNlcnZlciBFcnJvciIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgX3RoaXM1LmJpZ19zcGlubmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlNvbWUgRXJyb3IgT2NjdXJyZWQuIik7CgogICAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAidW5zdWJzY3JpYmVfcHJvbW90aW9uYWxfZW1haWwiKSB7CiAgICAgICAgICBpZiAodGhpcy52YWxpZFVybCAhPSB0cnVlKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgIHRleHQ6ICJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVcmwiLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICB0aW1lcjogMzAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5iaWdfc3Bpbm5lciA9IHRydWU7CiAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb2R1Y3Rfc2V0dGluZ3MoKSwgewogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgICAgaXNfZW1haWxfcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgZW1haWxfcmVxdWlyZWQ6IHsKICAgICAgICAgICAgICAgIHJldmlld19tZXNzYWdlX2ZpcnN0OiB0aGlzLnJldmlld19tZXNzYWdlX2ZpcnN0LAogICAgICAgICAgICAgICAgcmV2aWV3X21lc3NhZ2Vfc2Vjb25kOiB0aGlzLnJldmlld19tZXNzYWdlX3NlY29uZCwKICAgICAgICAgICAgICAgIGNvbnRhY3RfaGVscF9lbWFpbDogdGhpcy5jb250YWN0X3VzX2VtYWlsLAogICAgICAgICAgICAgICAgLy8gY29udGFjdF91c19waG9uZV9udW1iZXI6dGhpcy5waG9uZU51bWJlci5mb3JtYXR0ZWROdW1iZXIsCiAgICAgICAgICAgICAgICBvcmRlcl9yZXRyaWV2YWxfb25seV9lbWFpbF9yZXF1aXJlZDogdGhpcy5lbWFpbF9yZXF1aXJlZCwKICAgICAgICAgICAgICAgIGJhc2VfY3VycmVuY3k6IHRoaXMuY3VycmVuY3lfY29kZSwKICAgICAgICAgICAgICAgIHVzZXJfZmVlZGJhY2tfZnJlcXVlbmN5OiB0aGlzLmZlZWRiYWNrX3F1ZXN0aW9uX2ZyZXF1ZW5jeSwKICAgICAgICAgICAgICAgIGxvd19pbnZlbnRvcnlfbm90aWZpY2F0aW9uOiB0aGlzLmludmVudG9yeV9sZXZlbF9ub3RpZmljYXRpb24sCiAgICAgICAgICAgICAgICBsaW1pdF91cF9zZWxsOiB0aGlzLmxpbWl0X3VwX3NlbGwsCiAgICAgICAgICAgICAgICBsaW1pdF9jcm9zc19zZWxsOiB0aGlzLmxpbWl0X2Nyb3NzX3NlbGwsCiAgICAgICAgICAgICAgICBkaXNwbGF5X3Byb2R1Y3RzX29uX2xhbmRpbmc6IHRoaXMuaXNfZGlzcGxheV9wcm9kdWN0cywKICAgICAgICAgICAgICAgIGlzX2Rpc3BsYXlfYmFubmVyX29uX2xhbmRpbmc6IHRoaXMuaXNfZGlzcGxheV9iYW5uZXJfb25fbGFuZGluZywKICAgICAgICAgICAgICAgIGRpc3BsYXlfcHJvZHVjdHNfdHlwZTogdGhpcy5pc19kaXNwbGF5X3Byb2R1Y3RzID8gdGhpcy5kaXNwbGF5X3Byb2R1Y3RzX3R5cGUgOiBudWxsLAogICAgICAgICAgICAgICAgInNob3Bfc2V0dGluZ3Nfc2F2ZWQiOiB0cnVlLAogICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVfbGluazogdGhpcy51bnN1YnNjcmliZV9saW5rLAogICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVfbGlua190eXBlOiB0aGlzLnVuc3Vic2NyaWJlX2xpbmtfdHlwZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzNS5iaWdfc3Bpbm5lciA9IGZhbHNlOwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJZb3VyIGNoYW5nZXMgaGF2ZSBiZWVuIHNhdmVkIHN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgdGltZXI6IDQwMDAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzNS5lbXB0eV92YXJpYWJsZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzNS5sb2FkX3Byb2R1Y3Rfc2V0dGluZ3MoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgIHRleHQ6ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiLAogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIF90aGlzNS5iaWdfc3Bpbm5lciA9IGZhbHNlOwogICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiU29tZSBFcnJvciBPY2N1cnJlZC4iKTsKCiAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgICBfdGhpczUuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwoKTsKICAgICAgfQogICAgfSwKICAgIGVtcHR5X3ZhcmlhYmxlOiBmdW5jdGlvbiBlbXB0eV92YXJpYWJsZSgpIHsKICAgICAgdGhpcy5lbWFpbF9kZXRhaWxzID0gbnVsbDsKICAgICAgdGhpcy5lbWFpbF9yZXF1aXJlZCA9IGZhbHNlOwogICAgICB0aGlzLmN1cnJlbmN5X2NvZGUgPSAiIjsKICAgICAgdGhpcy5mZWVkYmFja19xdWVzdGlvbl9mcmVxdWVuY3kgPSA5MDsKICAgICAgdGhpcy5pbnZlbnRvcnlfbGV2ZWxfbm90aWZpY2F0aW9uID0gNTsKICAgICAgdGhpcy5waG9uZV9ub19kZXRhaWxzID0gbnVsbDsKICAgICAgdGhpcy5saW1pdF91cF9zZWxsID0gMTA7CiAgICAgIHRoaXMubGltaXRfY3Jvc3Nfc2VsbCA9IDEwOwogICAgfQogIH0KfTs="},null]}