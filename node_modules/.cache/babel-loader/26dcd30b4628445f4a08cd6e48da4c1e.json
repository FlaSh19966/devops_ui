{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Customer Support/LiveChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Customer Support/LiveChat.vue","mtime":1660716745058},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IFNvY2tldCB9IGZyb20gInBob2VuaXgtc29ja2V0IjsKaW1wb3J0IHsgc2V0SW50ZXJ2YWwgfSBmcm9tICJ0aW1lcnMiOwppbXBvcnQgZGVib3VuY2UgZnJvbSAidnVlLWRlYm91bmNlL2Rpc3QvZGVib3VuY2UubWluLmpzIjsKaW1wb3J0IHsgZ2VuZXJhdGVfdGltZSB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmltcG9ydCB7IGZyZWV6ZV9wb3J0YWwsIHNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGl2ZUNoYXRQYWdlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcl9saXN0OiBbXSwKICAgICAgY3VycmVudF91c2VyOiB7fSwKICAgICAgY3VycmVudF9jaGFubmVsOiAiIiwKICAgICAgZmlyc3RfbmFtZTogdGhpcy4kc2Vzc2lvbi5oYXMoIlVzZXJGaXJzdE5hbWUiKSA/IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VyRmlyc3ROYW1lIikgOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZmlyc3RfbmFtZSwKICAgICAgbGFzdF9uYW1lOiB0aGlzLiRzZXNzaW9uLmhhcygiVXNlckxhc3ROYW1lIikgPyB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckxhc3ROYW1lIikgOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGFzdF9uYW1lLAogICAgICBhZ2VudF91c2VybmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICBjaGF0X2xpc3Q6IFtdLAogICAgICB0b19zZW5kOiAiIiwKICAgICAgY2g6IG51bGwsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIHVzZXJfY2hhbm5lbHM6IHt9LAogICAgICBzb2NrZXQ6IG51bGwsCiAgICAgIG1zZ19zZW5kZXI6ICIiLAogICAgICBkZWxheTogMTAwMDAsCiAgICAgIGlzX3R5cGluZ19pbmRpY2F0b3Jfb246IGZhbHNlLAogICAgICBkaXNhYmxlX2J0bl9leHBpcmVkOiBmYWxzZSAvLyB1c2VyX2xpc3Q6IFt7ImNoYW5uZWxfbmFtZSI6ImN1c3RvbWVyc19ncm91cHM6ZGhzNmJlbm5rbCIsInVzZXJuYW1lIjoiVmltbGVzaGgiLCJpc19jb25uZWN0ZWQiOmZhbHNlLCJhZ2VudF91c2VybmFtZSI6bnVsbCwiYWdlbnRfcm9sZSI6bnVsbCwic3RhdGUiOiJ3YWl0aW5nIn0seyJjaGFubmVsX25hbWUiOiJjdXN0b21lcnNfZ3JvdXBzOmhlbXphc3RuaGUiLCJ1c2VybmFtZSI6IkFrc2hheSIsImlzX2Nvbm5lY3RlZCI6ZmFsc2UsImFnZW50X3VzZXJuYW1lIjpudWxsLCJhZ2VudF9yb2xlIjpudWxsLCJzdGF0ZSI6IndhaXRpbmcifV0KCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHRvX3NlbmQ6IGZ1bmN0aW9uIHRvX3NlbmQobmV3VmFsKSB7CiAgICAgIHRoaXMuYnV0dG9uX2ZpbGwoKTsKICAgIH0KICB9LAogIG1peGluczogW2dlbmVyYXRlX3RpbWUsIGZyZWV6ZV9wb3J0YWxdLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsKICAgIHRoaXMuJHJvb3QuJG9uKCJMaXZlQ2hhdFBhZ2VEaXNhYmxlZCIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGlmIChkYXRhID09PSB0cnVlKSB7CiAgICAgICAgX3RoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCA9IHRydWU7CiAgICAgIH0KICAgIH0pOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghX3RoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICAgIC8vIHRoaXMuc29ja2V0ID0gbmV3IFNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX0xJVkVfQ0hBVF9XRUJTT0NLRVRfRU5EUE9JTlQsIHsKICAgICAgICAvLyBwYXJhbXM6IHsKICAgICAgICAvLyAgIHVzZXJuYW1lOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgLy8gICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAvLyAgIHJvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICAgIC8vIH0sCiAgICAgICAgLy8gfSk7CiAgICAgICAgX3RoaXMuc29ja2V0ID0gbmV3IFNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX0xJVkVfQ0hBVF9XRUJTT0NLRVRfRU5EUE9JTlQsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBqd3Q6IF90aGlzLiRzZXNzaW9uLmdldCgiYXQiKSwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiBfdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgICAgY29tcGFueV9pZDogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICBlbWFpbDogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgZmlyc3RfbmFtZTogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5maXJzdF9uYW1lLAogICAgICAgICAgICBsYXN0X25hbWU6IF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGFzdF9uYW1lCiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLnNvY2tldC5jb25uZWN0KCk7CgogICAgICAgIF90aGlzLmNoID0gX3RoaXMuc29ja2V0LmNoYW5uZWwoImNvbXBhbmllczoiICsgX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkKTsKCiAgICAgICAgX3RoaXMuY2guam9pbigpOwoKICAgICAgICBfdGhpcy5jaC5vbignbmV3X25hbWUnLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgY2hlY2sgPSBfdGhpcy51c2VyX2xpc3Quc29tZShmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgIHJldHVybiBvYmouY2hhbm5lbF9uYW1lID09PSByZXMudG9waWM7CiAgICAgICAgICB9KTsKCiAgICAgICAgICB2YXIgaW5kZXggPSBfdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgcmV0dXJuIG9iai5jaGFubmVsX25hbWUgPT09IHJlcy50b3BpYzsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChjaGVjaykgX3RoaXMudXNlcl9saXN0W2luZGV4XS51c2VybmFtZSA9IHJlcy5uYW1lOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5jaC5vbigiY3VzdG9tZXJfbmVlZHNfc3VwcG9ydF9hZ2VudCIsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHZhciB0ZW1wID0gcmVzOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGVtcC5tZXRhcykgewogICAgICAgICAgICB2YXIgY2hhbm5lbF9ncm91cCA9IHRlbXAuY3VzdG9tZXJfY2hhdF9ncm91cDsKCiAgICAgICAgICAgIHZhciBjaGVjayA9IF90aGlzLnVzZXJfbGlzdC5zb21lKGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICByZXR1cm4gb2JqLmNoYW5uZWxfbmFtZSA9PT0gY2hhbm5lbF9ncm91cDsKICAgICAgICAgICAgfSk7IC8vIHRoaXMudXNlcl9jaGFubmVsc1tjaGFubmVsX2dyb3VwXSA9IHRoaXMuc29ja2V0LmNoYW5uZWwocmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXApOwoKCiAgICAgICAgICAgIGlmIChjaGVjaykgewogICAgICAgICAgICAgIHZhciBpbmRleCA9IF90aGlzLnVzZXJfbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jaGFubmVsX25hbWUgPT09IGNoYW5uZWxfZ3JvdXA7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChCb29sZWFuKHRlbXAubWV0YXNbaV0udXNlcl9pbmZvLmlzX2N1c3RvbWVyKSAmJiB0ZW1wLm1ldGFzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICBfdGhpcy51c2VyX2xpc3RbaW5kZXhdLmlzX2Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF9yb2xlID0gbnVsbDsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfdXNlcm5hbWUgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9PSAiZW5kZWQiID8gImVuZGVkIiA6ICJ3YWl0aW5nIjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5pc19jb25uZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF9yb2xlID0gdGVtcC5tZXRhc1tpXS51c2VyX2luZm8ucm9sZTsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfdXNlcm5hbWUgPSB0ZW1wLm1ldGFzW2ldLnVzZXJfaW5mby51c2VybmFtZTsKICAgICAgICAgICAgICAgIF90aGlzLnVzZXJfbGlzdFtpbmRleF0uc3RhdGUgPT0gImVuZGVkIiA/ICJlbmRlZCIgOiAiam9pbmVkIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMudXNlcl9saXN0LnB1c2goewogICAgICAgICAgICAgICAgImNoYW5uZWxfbmFtZSI6IGNoYW5uZWxfZ3JvdXAsCiAgICAgICAgICAgICAgICAidXNlcm5hbWUiOiAiIiwKICAgICAgICAgICAgICAgICJpc19jb25uZWN0ZWQiOiBmYWxzZSwKICAgICAgICAgICAgICAgICJhZ2VudF91c2VybmFtZSI6IG51bGwsCiAgICAgICAgICAgICAgICAiYWdlbnRfcm9sZSI6IG51bGwsCiAgICAgICAgICAgICAgICAic3RhdGUiOiAid2FpdGluZyIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMudXNlcl9jaGFubmVsc1tjaGFubmVsX2dyb3VwXSA9IF90aGlzLnNvY2tldC5jaGFubmVsKGNoYW5uZWxfZ3JvdXApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7IC8vIHRoaXMuY2gub24oImN1c3RvbWVyX25lZWRzX3N1cHBvcnRfYWdlbnQiLCAocmVzKSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coImN1c3RvbWVyX25lZWRzX3N1cHBvcnRfYWdlbnQiLCByZXMpOwogICAgICAgIC8vIHRoaXMudXNlcl9saXN0LnB1c2goewogICAgICAgIC8vICAgY2hhbm5lbF9uYW1lOiByZXMuY3VzdG9tZXJfY2hhdF9ncm91cCwKICAgICAgICAvLyAgIHVzZXJuYW1lOiAiIiwKICAgICAgICAvLyAgIGlzX2Nvbm5lY3RlZDogZmFsc2UKICAgICAgICAvLyB9KTsKICAgICAgICAvLyB0aGlzLmN1cnJlbnRfdXNlciA9IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwOwogICAgICAgIC8vIHRoaXMuY3VycmVudF91c2VyID0gIkN1c3RvbWVyIjsKICAgICAgICAvLyB0aGlzLmN1cnJlbnRfY2hhbm5lbCA9IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwOwogICAgICAgIC8vIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY3VzdG9tZXJfY2hhdF9ncm91cF0gPSB0aGlzLnNvY2tldC5jaGFubmVsKAogICAgICAgIC8vICAgcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXAKICAgICAgICAvLyApOwogICAgICAgIC8vIHRoaXMubWVzc2FnZSA9IHRoaXMuc29ja2V0LmNoYW5uZWwocmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXApOwogICAgICAgIC8vIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY3VzdG9tZXJfY2hhdF9ncm91cF0ub24oInN0YXJ0ZWRfdHlwaW5nIiwKICAgICAgICAvLyAgICh0eXBpbmdfcmVzcG9uc2UpID0+IHsKICAgICAgICAvLyAgICAgaWYgKHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwID09IHRoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZSkgewogICAgICAgIC8vICAgICAgIGlmICh0eXBpbmdfcmVzcG9uc2Uuc2VuZGVyICE9ICJzdXBwb3J0X2FnZW50IikgewogICAgICAgIC8vICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLnVzZXJfbGlzdC5maWx0ZXIoKHVzZXIpID0+IHsKICAgICAgICAvLyAgICAgICAgICAgcmV0dXJuIHVzZXIuY2hhbm5lbF9uYW1lID09IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwOwogICAgICAgIC8vICAgICAgICAgfSk7CiAgICAgICAgLy8gICAgICAgICBpZiAobmFtZVswXS51c2VybmFtZSA9PSAiIikgewogICAgICAgIC8vICAgICAgICAgICB0aGlzLm1zZ19zZW5kZXIgPSB0eXBpbmdfcmVzcG9uc2Uuc2VuZGVyOwogICAgICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgICAgICAvLyAgICAgICAgICAgdGhpcy5tc2dfc2VuZGVyID0gbmFtZVswXS51c2VybmFtZTsKICAgICAgICAvLyAgICAgICAgIH0KICAgICAgICAvLyAgICAgICB9CiAgICAgICAgLy8gICAgICAgdGhpcy5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gdHJ1ZTsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgfQogICAgICAgIC8vICk7CiAgICAgICAgLy8gdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jdXN0b21lcl9jaGF0X2dyb3VwXS5vbigic3RvcHBlZF90eXBpbmciLCAoKSA9PiB7CiAgICAgICAgLy8gICB0aGlzLmlzX3R5cGluZ19pbmRpY2F0b3Jfb24gPSBmYWxzZTsKICAgICAgICAvLyB9KTsKICAgICAgICAvLyB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJuZXdfY2hhdF9tZXNzYWdlIiwKICAgICAgICAvLyAgIChyZXNwb25zZSkgPT4gewogICAgICAgIC8vICAgICBpZiAocmVzcG9uc2Uuc2VuZGVyID09ICJjdXN0b21lciIpIHsKICAgICAgICAvLyAgICAgICB0aGlzLmNoYXRfbGlzdC5wdXNoKHsKICAgICAgICAvLyAgICAgICAgIHJlY2VpdmVkOiB0cnVlLAogICAgICAgIC8vICAgICAgICAgdGV4dDogcmVzcG9uc2UubWVzc2FnZSwKICAgICAgICAvLyAgICAgICAgIGN1cnJlbnRfY2hhbm5lbDogcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXAsCiAgICAgICAgLy8gICAgICAgICB0aW1lOiB0aGlzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAvLyAgICAgICB9KTsKICAgICAgICAvLyAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoKTsKICAgICAgICAvLyAgICAgICB0aGlzLm5vX3Jlc3BvbnNlKHRoaXMpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gKTsKICAgICAgICAvLyAvLyB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJuZXdfbmFtZSIsIChyZXNwKSA9PiB7CiAgICAgICAgLy8gLy8gICBmb3IgKGxldCBpID0gMCwgbiA9IHRoaXMudXNlcl9saXN0Lmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICAgIC8vIC8vICAgICBpZiAodGhpcy51c2VyX2xpc3RbaV0uY2hhbm5lbF9uYW1lID09IHJlcy5jdXN0b21lcl9jaGF0X2dyb3VwKSB7CiAgICAgICAgLy8gLy8gICAgICAgdGhpcy51c2VyX2xpc3RbaV0udXNlcm5hbWUgPSByZXNwLm5hbWU7CiAgICAgICAgLy8gLy8gICAgIH0KICAgICAgICAvLyAvLyAgIH0KICAgICAgICAvLyAvLyAgIHRoaXMuY3VycmVudF91c2VyID0gcmVzcC5uYW1lOwogICAgICAgIC8vIC8vICAgdGhpcy5ub19yZXNwb25zZSh0aGlzKTsKICAgICAgICAvLyAvLyB9KTsKICAgICAgICAvLyB0aGlzLnVzZXJfY2hhbm5lbHNbcmVzLmN1c3RvbWVyX2NoYXRfZ3JvdXBdLm9uKCJzdG9wcGVkX2NoYXQiLCAocmVzcCkgPT4gewogICAgICAgIC8vICAgdGhpcy5jaGF0X2xpc3QucHVzaCh7CiAgICAgICAgLy8gICAgIHJlY2VpdmVkOiB0cnVlLAogICAgICAgIC8vICAgICB0ZXh0OiByZXNwLm5hbWUgKyByZXNwLm1lc3NhZ2UsCiAgICAgICAgLy8gICAgIGN1cnJlbnRfY2hhbm5lbDogcmVzcC50b3BpYywKICAgICAgICAvLyAgICAgdGltZTogdGhpcy5nZW5lcmF0ZV90aW1lKCksCiAgICAgICAgLy8gICB9KTsKICAgICAgICAvLyAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgIC8vICAgc3dhbCh7CiAgICAgICAgLy8gICAgIHRleHQ6IHJlc3AubmFtZSArIHJlc3AubWVzc2FnZSwKICAgICAgICAvLyAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgLy8gICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAvLyAgICAgcG9zaXRpb246ICJ0b3AtZW5kIiwKICAgICAgICAvLyAgICAgdHlwZTogImluZm8iLAogICAgICAgIC8vICAgICB0aW1lcjogNTAwMCwKICAgICAgICAvLyAgIH0pOwogICAgICAgIC8vICAgdmFyIGluZGV4ID0gdGhpcy51c2VyX2xpc3QuZmluZEluZGV4KG9iaiA9PiBvYmouY2hhbm5lbF9uYW1lID09PSByZXNwLnRvcGljKTsKICAgICAgICAvLyAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IHRoaXMuYWdlbnRfdXNlcm5hbWU7CiAgICAgICAgLy8gICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uaXNfY29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICAvLyAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5zdGF0ZSA9ICJlbmRlZCI7CiAgICAgICAgLy8gICAvLyB0b2FzdHIuaW5mbyhyZXNwLm5hbWUgKyAiICIgKyByZXNwLm1lc3NhZ2UpOwogICAgICAgIC8vICAgLy8gdGhpcy51c2VyX2xpc3QgPSB0aGlzLnVzZXJfbGlzdC5maWx0ZXIoKHVzZXIpID0+IHsKICAgICAgICAvLyAgIC8vICAgcmV0dXJuIHVzZXIudXNlcm5hbWUgIT0gcmVzcC5uYW1lOwogICAgICAgIC8vICAgLy8gfSk7CiAgICAgICAgLy8gICAvLyB0aGlzLmNoYXRfbGlzdCA9IHRoaXMuY2hhdF9saXN0LmZpbHRlcigoY2hhdCkgPT4gewogICAgICAgIC8vICAgLy8gICByZXR1cm4gY2hhdC5jdXJyZW50X2NoYW5uZWwgIT0gdGhpcy5jdXJyZW50X2NoYW5uZWw7CiAgICAgICAgLy8gICAvLyB9KTsKICAgICAgICAvLyAgIC8vIHRoaXMuY3VycmVudF91c2VyID0gdGhpcy5maXJzdF9uYW1lOwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY3VzdG9tZXJfY2hhdF9ncm91cF0uam9pbigpOwogICAgICAgIC8vIH0pOwogICAgICAgIC8vIHRoaXMuY2gub24oImN1c3RvbWVyX25lZWRzX3N1cHBvcnRfYWdlbnQiLCAocmVzKSA9PiB7CiAgICAgICAgLy8gICBjb25zb2xlLmxvZygiY3VzdG9tZXJfbmVlZHNfc3VwcG9ydF9hZ2VudCIsIHJlcyk7CiAgICAgICAgLy8gfSk7CgogICAgICB9IGVsc2UgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgdGV4dDogIllvdSBhcmUgb24gZnJlZSB0cmlhbCBwbGVhc2UsIGtpbmRseSB1cGdyYWRlIHlvdXIgcGxhbiB0byB1c2UgdGhpcyBmZWF0dXJlIiwKICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnU3Vic2NyaWJlIE5vdycsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnTGF0ZXInLAogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ1NldHRpbmdzJywKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIFN1YnNjcmlwdGlvbjogdHJ1ZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9ib3QvZGFzaGJvYXJkIik7CgogICAgICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiY2hhbmdlX3NpZGViYXJfbWFpbl9tZW51IiwgIkRhc2hib2FyZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LCAxMDAwKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBpZiAoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICB0aGlzLmNoLmxlYXZlKCk7IC8vZGlzY29ubmVjdCBhbGwgY3VzdG9tZXIgd2hlbiBTQSBuYXZpZ2F0ZXMgdG8gb3RoZXIgcGFnZQoKICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdGhpcy51c2VyX2NoYW5uZWxzKSB7CiAgICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Byb3BlcnR5XS5wdXNoKCJzdG9wcGVkX2NoYXQiLCB7CiAgICAgICAgICBuYW1lOiAiU3VwcG9ydCBBZ2VudCIsCiAgICAgICAgICBtZXNzYWdlOiAiIGhhcyBlbmRlZCB0aGlzIGNvbnZlcnNhdGlvbi4iCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Byb3BlcnR5XS5sZWF2ZSgpOwogICAgICB9CgogICAgICB0aGlzLnNvY2tldC5kaXNjb25uZWN0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBqb2luX2N1c3RvbWVyOiBmdW5jdGlvbiBqb2luX2N1c3RvbWVyKHJlcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY2hhbm5lbF9uYW1lXS5qb2luKCk7CiAgICAgIHZhciBpbmRleCA9IHRoaXMudXNlcl9saXN0LmZpbmRJbmRleChmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgcmV0dXJuIG9iai5jaGFubmVsX25hbWUgPT09IHJlcy5jaGFubmVsX25hbWU7CiAgICAgIH0pOwogICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uYWdlbnRfdXNlcm5hbWUgPSB0aGlzLmFnZW50X3VzZXJuYW1lOwogICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uaXNfY29ubmVjdGVkID0gdHJ1ZTsKICAgICAgdGhpcy51c2VyX2xpc3RbaW5kZXhdLnN0YXRlID0gImpvaW5lZCI7IC8vIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY2hhbm5lbF9uYW1lXSA9IHRoaXMuc29ja2V0LmNoYW5uZWwoCiAgICAgIC8vICAgcmVzLmNoYW5uZWxfbmFtZQogICAgICAvLyApOwoKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jaGFubmVsX25hbWVdLm9uKCJzdGFydGVkX3R5cGluZyIsIGZ1bmN0aW9uICh0eXBpbmdfcmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzLmNoYW5uZWxfbmFtZSA9PSBfdGhpczIuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZSkgewogICAgICAgICAgaWYgKHR5cGluZ19yZXNwb25zZS5zZW5kZXIgIT0gInN1cHBvcnRfYWdlbnQiKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gX3RoaXMyLnVzZXJfbGlzdC5maWx0ZXIoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICByZXR1cm4gdXNlci5jaGFubmVsX25hbWUgPT0gcmVzLmNoYW5uZWxfbmFtZTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAobmFtZVswXS51c2VybmFtZSA9PSAiIikgewogICAgICAgICAgICAgIF90aGlzMi5tc2dfc2VuZGVyID0gdHlwaW5nX3Jlc3BvbnNlLnNlbmRlcjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIubXNnX3NlbmRlciA9IG5hbWVbMF0udXNlcm5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jaGFubmVsX25hbWVdLm9uKCJzdG9wcGVkX3R5cGluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuaXNfdHlwaW5nX2luZGljYXRvcl9vbiA9IGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy51c2VyX2NoYW5uZWxzW3Jlcy5jaGFubmVsX25hbWVdLm9uKCJuZXdfY2hhdF9tZXNzYWdlIiwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnNlbmRlciA9PSAiY3VzdG9tZXIiKSB7CiAgICAgICAgICBfdGhpczIuY2hhdF9saXN0LnB1c2goewogICAgICAgICAgICByZWNlaXZlZDogdHJ1ZSwKICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UubWVzc2FnZSwKICAgICAgICAgICAgY3VycmVudF9jaGFubmVsOiByZXMuY2hhbm5lbF9uYW1lLAogICAgICAgICAgICB0aW1lOiBfdGhpczIuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIudXBkYXRlX3Njcm9sbGJhcigpOwoKICAgICAgICAgIF90aGlzMi5ub19yZXNwb25zZShfdGhpczIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1tyZXMuY2hhbm5lbF9uYW1lXS5vbigic3RvcHBlZF9jaGF0IiwgZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBfdGhpczIuY2hhdF9saXN0LnB1c2goewogICAgICAgICAgcmVjZWl2ZWQ6IHRydWUsCiAgICAgICAgICB0ZXh0OiByZXNwLm5hbWUgKyByZXNwLm1lc3NhZ2UsCiAgICAgICAgICBjdXJyZW50X2NoYW5uZWw6IHJlc3AudG9waWMsCiAgICAgICAgICB0aW1lOiBfdGhpczIuZ2VuZXJhdGVfdGltZSgpCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi51cGRhdGVfc2Nyb2xsYmFyKCk7CgogICAgICAgIHN3YWwoewogICAgICAgICAgdGV4dDogcmVzcC5uYW1lICsgcmVzcC5tZXNzYWdlLAogICAgICAgICAgdG9hc3Q6IHRydWUsCiAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICBwb3NpdGlvbjogInRvcC1lbmQiLAogICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgdGltZXI6IDUwMDAKICAgICAgICB9KTsKCiAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMyLnVzZXJfbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgcmV0dXJuIG9iai5jaGFubmVsX25hbWUgPT09IHJlc3AudG9waWM7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi51c2VyX2xpc3RbaW5kZXhdLmFnZW50X3VzZXJuYW1lID0gX3RoaXMyLmFnZW50X3VzZXJuYW1lOwogICAgICAgIF90aGlzMi51c2VyX2xpc3RbaW5kZXhdLmlzX2Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgX3RoaXMyLnVzZXJfbGlzdFtpbmRleF0uc3RhdGUgPSAiZW5kZWQiOwogICAgICB9KTsKICAgIH0sCiAgICBidXR0b25fZmlsbDogZnVuY3Rpb24gYnV0dG9uX2ZpbGwoKSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInN2ZyIpLnN0eWxlLmZpbGwgPSAiIzI3MzY3OSI7CgogICAgICBpZiAodGhpcy50b19zZW5kID09ICIiKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic3ZnIikuc3R5bGUuZmlsbCA9ICIjOGE4YThhNjMiOwogICAgICB9IGVsc2UgaWYgKHRoaXMudG9fc2VuZCAhPSAiIikgewogICAgICAgIHRoaXMudXNlcl9jaGFubmVsc1t0aGlzLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWVdLnB1c2goInN0YXJ0ZWRfdHlwaW5nIik7CiAgICAgIH0KCiAgICAgIHRoaXMuc3RvcF90eXBpbmcodGhpcyk7CiAgICB9LAogICAgc3RvcF90eXBpbmc6IGRlYm91bmNlKGZ1bmN0aW9uICh2bSkgewogICAgICB2bS51c2VyX2NoYW5uZWxzW3ZtLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWVdLnB1c2goInN0b3BwZWRfdHlwaW5nIik7CiAgICB9LCA1MDAwKSwKICAgIG5vX3Jlc3BvbnNlOiBkZWJvdW5jZShmdW5jdGlvbiAodm0pIHsKICAgICAgdm0udXNlcl9jaGFubmVsc1t2bS5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lXS5wdXNoKCJub19yZXNwb25zZSIsIHsKICAgICAgICBzZW5kZXI6ICJzZW5kZXIiCiAgICAgIH0pOwogICAgfSwgMTAwMDApLAogICAgc2VuZF9tZXNzYWdlOiBmdW5jdGlvbiBzZW5kX21lc3NhZ2UoKSB7CiAgICAgIGlmICh0aGlzLnRvX3NlbmQgIT0gIiIgJiYgdGhpcy51c2VyX2xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuY2hhdF9saXN0LnB1c2goewogICAgICAgICAgc2VudDogdHJ1ZSwKICAgICAgICAgIHRleHQ6IHRoaXMudG9fc2VuZCwKICAgICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpLAogICAgICAgICAgY3VycmVudF9jaGFubmVsOiB0aGlzLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWUKICAgICAgICB9KTsKICAgICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lXS5wdXNoKCJuZXdfY2hhdF9tZXNzYWdlIiwgewogICAgICAgICAgbWVzc2FnZTogdGhpcy50b19zZW5kCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50b19zZW5kID0gIiI7CiAgICAgICAgdGhpcy5ub19yZXNwb25zZSh0aGlzKTsKICAgICAgICB0aGlzLnVwZGF0ZV9zY3JvbGxiYXIoKTsKICAgICAgfQogICAgfSwKICAgIGRpc2Nvbm5lY3Rfc3VwcG9ydF9jaGF0OiBmdW5jdGlvbiBkaXNjb25uZWN0X3N1cHBvcnRfY2hhdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnVzZXJfY2hhbm5lbHNbdGhpcy5jdXJyZW50X3VzZXIuY2hhbm5lbF9uYW1lXS5wdXNoKCJzdG9wcGVkX2NoYXQiLCB7CiAgICAgICAgbmFtZTogIlN1cHBvcnQgQWdlbnQiLAogICAgICAgIG1lc3NhZ2U6ICIgaGFzIGVuZGVkIHRoaXMgY29udmVyc2F0aW9uLiIKICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9jaGFubmVsc1t0aGlzLmN1cnJlbnRfdXNlci5jaGFubmVsX25hbWVdLmxlYXZlKCk7IC8vIHRoaXMudXNlcl9saXN0ID0gdGhpcy51c2VyX2xpc3QuZmlsdGVyKCh1c2VyKSA9PiB7CiAgICAgIC8vICAgcmV0dXJuIHVzZXIuY2hhbm5lbF9uYW1lICE9IHRoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZTsKICAgICAgLy8gfSk7CgogICAgICB2YXIgaW5kZXggPSB0aGlzLnVzZXJfbGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKG9iaikgewogICAgICAgIHJldHVybiBvYmouY2hhbm5lbF9uYW1lID09PSBfdGhpczMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZTsKICAgICAgfSk7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5hZ2VudF91c2VybmFtZSA9IHRoaXMuYWdlbnRfdXNlcm5hbWU7CiAgICAgIHRoaXMudXNlcl9saXN0W2luZGV4XS5pc19jb25uZWN0ZWQgPSB0cnVlOwogICAgICB0aGlzLnVzZXJfbGlzdFtpbmRleF0uc3RhdGUgPSAiZW5kZWQiOyAvLyB0aGlzLmN1cnJlbnRfdXNlciA9IHRoaXMuZmlyc3RfbmFtZTsKICAgIH0sCiAgICB1cGRhdGVfc2Nyb2xsYmFyOiBmdW5jdGlvbiB1cGRhdGVfc2Nyb2xsYmFyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5pc190eXBpbmdfaW5kaWNhdG9yX29uID0gZmFsc2U7CiAgICAgIH0sIDE1MDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5Iikuc2Nyb2xsVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbEhlaWdodDsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICAvLyB1c2VyX2xpc3RfY2xhc3MoY2hhbm5lbG5hbWUpIHsKICAgIC8vIGlmIChjaGFubmVsbmFtZSA9PSB0aGlzLmN1cnJlbnRfY2hhbm5lbCkgewogICAgLy8gICByZXR1cm4gIm5hdi1saW5rIGFjdGl2ZSI7CiAgICAvLyB9IGVsc2UgewogICAgLy8gICByZXR1cm4gIm5hdi1saW5rIGluYWN0aXZlIjsKICAgIC8vIH0KICAgIC8vIH0sCiAgICBzZWxlY3RfdXNlcjogZnVuY3Rpb24gc2VsZWN0X3VzZXIodXNlcikgewogICAgICB0aGlzLmN1cnJlbnRfdXNlciA9IHVzZXI7CiAgICAgIHRoaXMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgfSwKICAgIGNoZWNrX2N1cnJlbnRfYWN0aXZlX3VzZXI6IGZ1bmN0aW9uIGNoZWNrX2N1cnJlbnRfYWN0aXZlX3VzZXIoaW5kZXgpIHsKICAgICAgaWYgKEJvb2xlYW4odGhpcy5jdXJyZW50X3VzZXIpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudF91c2VyLmNoYW5uZWxfbmFtZSA9PT0gdGhpcy51c2VyX2xpc3RbaW5kZXhdLmNoYW5uZWxfbmFtZSA/ICJjdXJyZW50LWFjdGl2ZS11c2VyIiA6IG51bGw7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["LiveChat.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"dash-cont\">\n    <div class=\"container-fluid\">\n      <div class=\"card dash-card\">\n        <div class=\"card-body p-0\">\n          <div class=\"d-flex\" style=\"border-bottom: 1px solid #dbe2e8\">\n            <div class=\"col-md-3\" style=\"border-right: 1px solid #dbe2e8\">\n              <div style=\"display: flex\">\n                <!-- <span\n                  class=\"user-img text-center\"\n                  style=\"font-size: x-large; margin-bottom: 5px\"\n                  >{{ first_name[0] }}{{ last_name[0] }}</span\n                > -->\n                <!-- <h4 style=\"margin-top: 3%; margin-left: 5%\">\n                  {{ first_name }}&nbsp;\n                </h4> -->\n                <h4 style=\"margin-top: 3%;\">{{tlt('livechat_online_customers')}}</h4>\n              </div>\n            </div>\n            <div class=\"col-md-9\">\n              <div class=\"card-act d-flex flex-wrap\" style=\"margin-top: 1%\">\n                <h4 class=\"mb-sm-0\" v-if=\"Boolean(current_user.username)\">{{ current_user.username }}</h4>\n                <h4 class=\"mb-sm-0\" v-else-if=\"current_user.username == ''\">{{tlt('livechat_select_customer')}}</h4>\n                <h4 class=\"mb-sm-0\" v-else>{{tlt('livechat_select_customer')}}</h4>\n                <div class=\"ml-auto\" v-show=\"user_list.length\">\n                <a\n                  href=\"#\"\n                  class=\"ml-auto\"\n                  style=\"color: red;\"\n                  v-if=\"current_user.state == 'joined'\"\n                  @click=\"disconnect_support_chat\"\n                  >{{tlt('livechat_stop_chat')}}</a\n                >\n                <a\n                  href=\"#\"\n                  class=\"ml-auto\"\n                  style=\"color: black;\"\n                  v-else-if=\"current_user.state == 'ended'\"\n                  >{{tlt('livechat_end_chat')}}</a\n                >\n                <a\n                  href=\"#\"\n                  class=\"ml-auto\"\n                  @click=\"join_customer(current_user)\"\n                  v-else-if=\"current_user.state == 'waiting'\"\n                  >{{tlt('livechat_join_chat')}}</a\n                >\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"d-flex\">\n            <div class=\"col-sm-3 p-0\" style=\"border-right: 1px solid #dbe2e8\">\n              <ul class=\"navbar-nav flex-column\" style=\"width: 100%\">\n                <div v-for=\"(user, index) in user_list\"\n                  :key=\"index\">\n                <li\n                  class=\"nav-item\"\n                  v-if=\"user.agent_username == agent_username || user.agent_username == null\"\n                  style=\"cursor: pointer\"\n                  :class=\"check_current_active_user(index)\"\n                  @click=\"select_user(user)\"\n                >\n                  <a\n                    class=\"d-flex\"\n                    href=\"#\"\n                    role=\"button\"\n                  >\n                    <template v-if=\"user.username == ''\">\n                      <p style=\"color: black; margin: 0;\">{{tlt('livechat_user')}}</p> \n                    </template>\n                    <template v-else-if=\"user.username != ''\">\n                      <p style=\"color: black; margin: 0;\">{{user.username}}</p> \n                    </template>\n                    <span\n                      href=\"#\"\n                      v-if=\"user.is_connected == false\"\n                      class=\"ml-auto\"\n                      @click=\"select_user(user) ,join_customer(user)\"\n                    >\n                      {{tlt('livechat_join_chat')}}\n                    </span>\n                    <span\n                      v-if=\"user.state == 'ended'\"\n                      class=\"ml-auto\"\n                      style=\"color: black;\"\n                    >\n                      {{tlt('livechat_end_chat')}}\n                    </span>\n                  </a>\n                </li>\n                </div>\n              </ul>\n            </div>\n            <div class=\"col-md-9\" id=\"chat\">\n              <div class=\"chat-master\">\n                <div class=\"chat-body\" style=\"height: 65vh; overflow-y: auto\">\n                  <div\n                    class=\"chat-inner\"\n                    v-for=\"(chat, item) in chat_list\"\n                    :key=\"item\"\n                    v-show=\"chat.current_channel == current_user.channel_name\"\n                  >\n                    <div class=\"chat-row sender\" v-if=\"chat.sent\">\n                      <div class=\"chat\" v-html=\"chat.text\"></div>\n                      <div class=\"chat-his justify-content-between\" style=\"position: unset !important; margin-top: unset !important;\">\n                        <span class=\"time\" style=\"color: #000\">{{\n                          chat.time\n                        }}</span>\n                        <span class=\"del-note delivered\">{{tlt('livechat_delivered')}}</span>\n                      </div>\n                    </div>\n                    <div class=\"chat-row receiver\" v-if=\"chat.received\">\n                      <div class=\"chat\" v-html=\"chat.text\"></div>\n                      <div class=\"chat-his justify-content-between\" style=\"position: unset !important; margin-top: unset !important;\">\n                        <span class=\"time\" style=\"color: #000\">{{\n                          chat.time\n                        }}</span>\n                        <span class=\"del-note delivered\">{{tlt('livechat_delivered')}}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"chat-footer\" style=\"margin-bottom: 20px\">\n                  <div\n                    class=\"typing-indicator\"\n                    style=\"margin-left: 10px\"\n                    v-show=\"is_typing_indicator_on\"\n                  >\n                    <p style=\"font-size: 13px; font-weight: 300\">\n                      {{ msg_sender }} {{tlt('livechat_typing')}}\n                    </p>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </div>\n                </div>\n                <div\n                  class=\"chat-footer\"\n                  style=\"\n                    border-top: solid 1px #dbe2e8;\n                    border-radius: 0 0 0 0;\n                    overflow: hidden;\n                  \"\n                >\n                  <div class=\"chat-txt\">\n                    <div class=\"input-group mb-0\">\n                      <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        :placeholder=\"tlt('livechat_type_placeholder')\"\n                        v-model=\"to_send\"\n                        @keypress.enter=\"send_message\"\n                      />\n                      <div class=\"input-group-append\">\n                        <button class=\"btn\" type=\"button\" @click=\"send_message\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            style=\"fill: #8a8a8a63\"\n                            width=\"40\"\n                            height=\"25\"\n                            viewBox=\"0 0 24 24\"\n                          >\n                            <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\" />\n                            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport { Socket } from \"phoenix-socket\";\nimport { setInterval } from \"timers\";\nimport debounce from \"vue-debounce/dist/debounce.min.js\";\nimport { generate_time } from \"@/portal/mixins\";\nimport { freeze_portal,show_subscription_expired_swal } from \"@/portal/mixins\";\n\nexport default {\n  name: \"LiveChatPage\",\n  data() {\n    return {\n      user_list: [],\n      current_user: {},\n      current_channel: \"\",\n      first_name: this.$session.has(\"UserFirstName\")\n        ? this.$session.get(\"UserFirstName\")\n        : this.$session.get(\"UserInformation\").first_name,\n      last_name: this.$session.has(\"UserLastName\")\n        ? this.$session.get(\"UserLastName\")\n        : this.$session.get(\"UserInformation\").last_name,\n      agent_username: this.$session.get(\"UserInformation\").email,\n      chat_list: [],\n      to_send: \"\",\n      ch: null,\n      message: null,\n      user_channels: {},\n      socket: null,\n      msg_sender: \"\",\n      delay: 10000,\n      is_typing_indicator_on: false,\n      disable_btn_expired : false,\n      // user_list: [{\"channel_name\":\"customers_groups:dhs6bennkl\",\"username\":\"Vimleshh\",\"is_connected\":false,\"agent_username\":null,\"agent_role\":null,\"state\":\"waiting\"},{\"channel_name\":\"customers_groups:hemzastnhe\",\"username\":\"Akshay\",\"is_connected\":false,\"agent_username\":null,\"agent_role\":null,\"state\":\"waiting\"}]\n    };\n  },\n  watch: {\n    to_send(newVal) {\n      this.button_fill();\n    },\n  },\n  mixins: [generate_time,freeze_portal],\n  mounted() {\n    setTimeout(() => {\n      this.freeze_portal();\n    }, 1000);\n    this.$root.$on(\"LiveChatPageDisabled\", (data) => {\n      if(data===true){\n        this.disable_btn_expired = true;\n      }\n    });\n    setTimeout(() => {\n      if (!this.disable_btn_expired) {\n      // this.socket = new Socket(process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT, {\n      // params: {\n      //   username: this.$session.get(\"UserInformation\").email,\n      //   token: this.$session.get(\"UserInformation\").tokens,\n      //   role: this.$session.get(\"UserInformation\").role,\n      // },\n      // });\n      this.socket = new Socket(process.env.VUE_APP_LIVE_CHAT_WEBSOCKET_ENDPOINT, {\n      params: {\n        jwt: this.$session.get(\"at\"),\n        company_name: this.$session.get(\"UserInformation\").company_name,\n        company_id: this.$session.get(\"UserInformation\").company_id,\n        email: this.$session.get(\"UserInformation\").email,\n        first_name: this.$session.get(\"UserInformation\").first_name,\n        last_name: this.$session.get(\"UserInformation\").last_name,\n      },\n      });\n      this.socket.connect();\n      this.ch = this.socket.channel(\n        \"companies:\" + this.$session.get(\"UserInformation\").company_id\n      );\n      this.ch.join();\n\n      this.ch.on('new_name', (res) => {\n        var check = this.user_list.some(obj => obj.channel_name === res.topic)\n        var index = this.user_list.findIndex(obj => obj.channel_name === res.topic);\n        if(check) this.user_list[index].username = res.name;\n      })\n      this.ch.on(\"customer_needs_support_agent\", (res) => { \n        var temp = res;\n        for (var i in temp.metas) {\n          var channel_group = temp.customer_chat_group;\n          var check = this.user_list.some(obj => obj.channel_name === channel_group)\n          // this.user_channels[channel_group] = this.socket.channel(res.customer_chat_group);\n          if (check) {\n            var index = this.user_list.findIndex(obj => obj.channel_name === channel_group);\n            if (Boolean(temp.metas[i].user_info.is_customer) && temp.metas.length == 1) {\n              this.user_list[index].is_connected = false;\n              this.user_list[index].agent_role = null;\n              this.user_list[index].agent_username = null;\n              this.user_list[index].state == \"ended\" ? \"ended\" : \"waiting\";\n            } else {\n              this.user_list[index].is_connected = true;\n              this.user_list[index].agent_role = temp.metas[i].user_info.role;\n              this.user_list[index].agent_username = temp.metas[i].user_info.username;\n              this.user_list[index].state == \"ended\" ? \"ended\" : \"joined\";\n            }\n          } else {\n            this.user_list.push({\n              \"channel_name\": channel_group,\n              \"username\": \"\",\n              \"is_connected\": false,\n              \"agent_username\": null,\n              \"agent_role\": null,\n              \"state\": \"waiting\"\n            })\n            this.user_channels[channel_group] = this.socket.channel(\n              channel_group\n            );\n          }\n        }\n      })\n\n      // this.ch.on(\"customer_needs_support_agent\", (res) => {\n      // console.log(\"customer_needs_support_agent\", res);\n      // this.user_list.push({\n      //   channel_name: res.customer_chat_group,\n      //   username: \"\",\n      //   is_connected: false\n      // });\n      // this.current_user = res.customer_chat_group;\n      // this.current_user = \"Customer\";\n      // this.current_channel = res.customer_chat_group;\n      // this.user_channels[res.customer_chat_group] = this.socket.channel(\n      //   res.customer_chat_group\n      // );\n      // this.message = this.socket.channel(res.customer_chat_group);\n\n      // this.user_channels[res.customer_chat_group].on(\"started_typing\",\n      //   (typing_response) => {\n      //     if (res.customer_chat_group == this.current_user.channel_name) {\n      //       if (typing_response.sender != \"support_agent\") {\n      //         var name = this.user_list.filter((user) => {\n      //           return user.channel_name == res.customer_chat_group;\n      //         });\n      //         if (name[0].username == \"\") {\n      //           this.msg_sender = typing_response.sender;\n      //         } else {\n      //           this.msg_sender = name[0].username;\n      //         }\n      //       }\n      //       this.is_typing_indicator_on = true;\n      //     }\n      //   }\n      // );\n      // this.user_channels[res.customer_chat_group].on(\"stopped_typing\", () => {\n      //   this.is_typing_indicator_on = false;\n      // });\n      // this.user_channels[res.customer_chat_group].on(\"new_chat_message\",\n      //   (response) => {\n      //     if (response.sender == \"customer\") {\n      //       this.chat_list.push({\n      //         received: true,\n      //         text: response.message,\n      //         current_channel: res.customer_chat_group,\n      //         time: this.generate_time(),\n      //       });\n      //       this.update_scrollbar();\n      //       this.no_response(this);\n      //     }\n      //   }\n      // );\n      // // this.user_channels[res.customer_chat_group].on(\"new_name\", (resp) => {\n      // //   for (let i = 0, n = this.user_list.length; i < n; i++) {\n      // //     if (this.user_list[i].channel_name == res.customer_chat_group) {\n      // //       this.user_list[i].username = resp.name;\n      // //     }\n      // //   }\n      // //   this.current_user = resp.name;\n      // //   this.no_response(this);\n      // // });\n      // this.user_channels[res.customer_chat_group].on(\"stopped_chat\", (resp) => {\n      //   this.chat_list.push({\n      //     received: true,\n      //     text: resp.name + resp.message,\n      //     current_channel: resp.topic,\n      //     time: this.generate_time(),\n      //   });\n      //   this.update_scrollbar();\n      //   swal({\n      //     text: resp.name + resp.message,\n      //     toast: true,\n      //     showConfirmButton: false,\n      //     position: \"top-end\",\n      //     type: \"info\",\n      //     timer: 5000,\n      //   });\n      //   var index = this.user_list.findIndex(obj => obj.channel_name === resp.topic);\n      //   this.user_list[index].agent_username = this.agent_username;\n      //   this.user_list[index].is_connected = true;\n      //   this.user_list[index].state = \"ended\";\n      //   // toastr.info(resp.name + \" \" + resp.message);\n      //   // this.user_list = this.user_list.filter((user) => {\n      //   //   return user.username != resp.name;\n      //   // });\n      //   // this.chat_list = this.chat_list.filter((chat) => {\n      //   //   return chat.current_channel != this.current_channel;\n      //   // });\n      //   // this.current_user = this.first_name;\n      // });\n\n      // this.user_channels[res.customer_chat_group].join();\n    // });\n\n    // this.ch.on(\"customer_needs_support_agent\", (res) => {\n    //   console.log(\"customer_needs_support_agent\", res);\n    // });\n    }else {\n      swal({\n        type: \"warning\",\n        text: `You are on free trial please, kindly upgrade your plan to use this feature`,\n        showCancelButton: true,\n        confirmButtonColor:'#3085d6',\n        confirmButtonText: 'Subscribe Now',\n        cancelButtonText: 'Later',\n        cancelButtonColor: '#d33',\n      }).then((result) => {\n      if (result.value == true)\n      {\n        this.$router.push({name: 'Settings',params:{Subscription:true}});\n      }else{\n        this.$router.push(\"/bot/dashboard\");\n        this.$root.$emit(\"change_sidebar_main_menu\", \"Dashboard\");\n        }\n      })\n    }\n    },1000);\n  },\n  beforeDestroy(){\n    if (!this.disable_btn_expired) {\n    this.ch.leave();\n    //disconnect all customer when SA navigates to other page\n      for (const property in this.user_channels) {\n      this.user_channels[property].push(\"stopped_chat\", {\n          name: \"Support Agent\",\n          message: \" has ended this conversation.\",\n          });\n            this.user_channels[property].leave();\n      }\n    this.socket.disconnect(); \n    }\n  },\n  methods: {\n    join_customer(res) {\n      this.user_channels[res.channel_name].join();\n      var index = this.user_list.findIndex(obj => obj.channel_name === res.channel_name);\n      this.user_list[index].agent_username = this.agent_username;\n      this.user_list[index].is_connected = true;\n      this.user_list[index].state = \"joined\";\n      // this.user_channels[res.channel_name] = this.socket.channel(\n      //   res.channel_name\n      // );\n      \n      this.user_channels[res.channel_name].on(\"started_typing\",\n        (typing_response) => {\n          if (res.channel_name == this.current_user.channel_name) {\n            if (typing_response.sender != \"support_agent\") {\n              var name = this.user_list.filter((user) => {\n                return user.channel_name == res.channel_name;\n              });\n              if (name[0].username == \"\") {\n                this.msg_sender = typing_response.sender;\n              } else {\n                this.msg_sender = name[0].username;\n              }\n            }\n            this.is_typing_indicator_on = true;\n          }\n        }\n      );\n      this.user_channels[res.channel_name].on(\"stopped_typing\", () => {\n        this.is_typing_indicator_on = false;\n      });\n      this.user_channels[res.channel_name].on(\"new_chat_message\",\n        (response) => {\n          if (response.sender == \"customer\") {\n            this.chat_list.push({\n              received: true,\n              text: response.message,\n              current_channel: res.channel_name,\n              time: this.generate_time(),\n            });\n            this.update_scrollbar();\n            this.no_response(this);\n          }\n        }\n      );\n      this.user_channels[res.channel_name].on(\"stopped_chat\", (resp) => {\n        this.chat_list.push({\n          received: true,\n          text: resp.name + resp.message,\n          current_channel: resp.topic,\n          time: this.generate_time(),\n        });\n        this.update_scrollbar();\n        swal({\n          text: resp.name + resp.message,\n          toast: true,\n          showConfirmButton: false,\n          position: \"top-end\",\n          type: \"info\",\n          timer: 5000,\n        });\n        var index = this.user_list.findIndex(obj => obj.channel_name === resp.topic);\n        this.user_list[index].agent_username = this.agent_username;\n        this.user_list[index].is_connected = true;\n        this.user_list[index].state = \"ended\";\n      });\n    },\n    button_fill() {\n      document.querySelector(\"svg\").style.fill = \"#273679\";\n      if (this.to_send == \"\") {\n        document.querySelector(\"svg\").style.fill = \"#8a8a8a63\";\n      } else if (this.to_send != \"\") {\n        this.user_channels[this.current_user.channel_name].push(\"started_typing\");\n      }\n      this.stop_typing(this);\n    },\n    stop_typing: debounce(function (vm) {\n      vm.user_channels[vm.current_user.channel_name].push(\"stopped_typing\");\n    }, 5000),\n    no_response: debounce(function (vm) {\n      vm.user_channels[vm.current_user.channel_name].push(\"no_response\", {\n        sender: \"sender\",\n      });\n    }, 10000),\n    send_message() {\n      if (this.to_send != \"\" && this.user_list.length > 0) {\n        this.chat_list.push({\n          sent: true,\n          text: this.to_send,\n          time: this.generate_time(),\n          current_channel: this.current_user.channel_name,\n        });\n        this.user_channels[this.current_user.channel_name].push(\"new_chat_message\", {\n          message: this.to_send,\n        });\n        this.to_send = \"\";\n        this.no_response(this);\n        this.update_scrollbar();\n      }\n    },\n    disconnect_support_chat() {\n      this.user_channels[this.current_user.channel_name].push(\"stopped_chat\", {\n        name: \"Support Agent\",\n        message: \" has ended this conversation.\",\n      });\n      this.user_channels[this.current_user.channel_name].leave();\n      // this.user_list = this.user_list.filter((user) => {\n      //   return user.channel_name != this.current_user.channel_name;\n      // });\n\n      var index = this.user_list.findIndex(obj => obj.channel_name === this.current_user.channel_name);\n      this.user_list[index].agent_username = this.agent_username;\n      this.user_list[index].is_connected = true;\n      this.user_list[index].state = \"ended\";\n      // this.current_user = this.first_name;\n    },\n    update_scrollbar() {\n      setTimeout(() => {\n        this.is_typing_indicator_on = false;\n      }, 1500);\n      setTimeout(() => {\n        document.querySelector(\".chat-body\").scrollTop = document.querySelector(\n          \".chat-body\"\n        ).scrollHeight;\n      }, 200);\n    },\n    // user_list_class(channelname) {\n      // if (channelname == this.current_channel) {\n      //   return \"nav-link active\";\n      // } else {\n      //   return \"nav-link inactive\";\n      // }\n    // },\n    select_user(user) {\n      this.current_user = user;\n      this.update_scrollbar();\n    },\n    check_current_active_user(index) {\n      if (Boolean(this.current_user) === true) {\n        return this.current_user.channel_name ===\n          this.user_list[index].channel_name\n          ? \"current-active-user\"\n          : null;\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n/* ul {\n  list-style-type: none;\n  padding: 0;\n  border: 1px solid #ddd;\n} */\n\nli {\n  padding: 8px 16px;\n  border-bottom: 1px solid #ddd;\n}\n\n/* ul li:last-child {\n  border-bottom: none\n}\nul li:first-child {\n  border-top: none\n} */\n.current-active-user {\n  background: rgba(0, 0, 0, 0.1);\n}\n.darkblue-btn {\n  padding: 10px 6px;\n  font-size: 12px;\n}\n.nav-link.inactive {\n  text-align: center;\n  border: 1px solid #fff;\n}\n.nav-link.active {\n  border: 1px solid #293978;\n  text-align: center;\n}\n/* .nav-item :hover {\n  border: 1px solid #293978;\n} */\n.user-img {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  border: solid 1px #293978;\n  display: inline-block;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.chat {\n  transform: scale(0);\n  transform-origin: 0 0;\n  animation: bounce 500ms linear both;\n  border-radius: 5px;\n  padding: 5px 8px;\n  width: fit-content;\n}\n.receiver .chat {\n  color: #000 !important;\n  text-align: left;\n  /* margin-top: 3%; */\n}\n.sender {\n  color: #fff;\n  margin-left: 50%;\n  text-align: right;\n  margin-top: 3%;\n}\n.sender .chat {\n  background: #293978;\n}\n.chat-row:not(:first-child) {\n  margin: 10px 0;\n}\n#chat,\n.chat-txt input {\n  background-image: url(/img/sdk-background.png);\n}\ndiv::-webkit-scrollbar {\n  max-height: 20px;\n  width: 6px;\n  border-radius: 10px;\n}\n\n/* Track */\ndiv::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 10px;\n}\n\n/* Handle */\ndiv::-webkit-scrollbar-thumb {\n  background: #7d7d7d;\n  border-radius: 10px;\n}\n\n/* Handle on hover */\ndiv::-webkit-scrollbar-thumb:hover {\n  background: #555;\n  border-radius: 10px;\n}\n</style>\n"],"sourceRoot":"src/portal/Chatbot/Dashboard/Customer Support"}]}