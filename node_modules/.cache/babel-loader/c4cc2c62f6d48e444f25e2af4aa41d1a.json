{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/VerifyResponses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/End User Response/VerifyResponses.vue","mtime":1643027096172},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gInRpbWVycyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwppbXBvcnQgdW5hbnN3ZXJlZFJlc3BvbnNlcyBmcm9tICIuL1ZlcmlmeVJlc3BvbnNlc1VuYW5zd2VyZWQudnVlIjsKaW1wb3J0IHVuYW5zd2VyZWRGZWVkYmFjayBmcm9tICIuL1ZlcmlmeVJlc3BvbnNlc1VzZXJGZWVkYmFjay52dWUiOwppbXBvcnQgeyBmcmVlemVfcG9ydGFsLCBzaG93X3N1YnNjcmlwdGlvbl9leHBpcmVkX3N3YWwgfSBmcm9tICJAL3BvcnRhbC9taXhpbnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZlcmlmeVJlc3BvbnNlUGFnZSIsCiAgbWl4aW5zOiBbZnJlZXplX3BvcnRhbCwgc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsXSwKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QsCiAgICB1bmFuc3dlcmVkUmVzcG9uc2VzOiB1bmFuc3dlcmVkUmVzcG9uc2VzLAogICAgdW5hbnN3ZXJlZEZlZWRiYWNrOiB1bmFuc3dlcmVkRmVlZGJhY2sKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1bmFuc3dlcmVkX2xpc3Q6IFtdLAogICAgICB1c2VyX3JvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgaW50ZW50X2xpc3Q6IFtdLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBpbnRlbnRsaXN0OiAiIiwKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICBwYWdlX25vOiAxLAogICAgICB0b3RhbF9wYWdlczogMCwKICAgICAgc2hvd19sb2FkZXI6IGZhbHNlLAogICAgICBudW1iZXJfb2Zfcm93czogbnVsbCwKICAgICAgc2VhcmNoX25hbWU6ICIiLAogICAgICBwYWdlX2FycmF5OiBbXSwKICAgICAgb2xkX3F1ZXN0aW9uOiAiIiwKICAgICAgb2xkX2ludGVudDogIiIsCiAgICAgIG5ld19pbnRlbnRfbGlzdDogW10sCiAgICAgIG9sZF9kYXRhOiB7CiAgICAgICAgcXVlc3Rpb246IG51bGwsCiAgICAgICAgaW50ZW50OiBudWxsCiAgICAgIH0sCiAgICAgIHRodW1ic19kb3duX2ljb246IHJlcXVpcmUoIkAvcG9ydGFsL2Fzc2V0cy9pbWcvR3JvdXAgNjEuc3ZnIiksCiAgICAgIHRodW1ic191cF9pY29uOiByZXF1aXJlKCJAL3BvcnRhbC9hc3NldHMvaW1nL0dyb3VwIDcxLnN2ZyIpLAogICAgICB2aWV3X2NvbXBvbmVudF9uYW1lOiAidXNlcl9yZXNwb25zZXMiLAogICAgICBpc1Zpc2libGVTZWFyY2hDbGVhcjogZmFsc2UsCiAgICAgIGludGVudF9tb2RlbF9pbnByb2dyZXNzOiBmYWxzZSwKICAgICAgd2FudF9zdGF0dXM6IHRydWUsCiAgICAgIGRpc2FibGVfYnRuX2V4cGlyZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAgIH0sIDEwMDApOwogICAgdGhpcy4kcm9vdC4kb24oIlZlcmlmeVJlc3BvbnNlUGFnZURpc2FibGVkIiwgZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHsKICAgICAgICBfdGhpcy5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCgiI3NlbGVjdGFsbCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOyAvLyAkKCIjdW5hbnN3ZXJlZF9xdWVzdGlvbnMtdGFiIikuY2xpY2soKTsKCiAgICAkKCIjdXNlcl9yZXNwb25zZXMtdGFiIikuY2xpY2soKTsKCiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLm1vZGFsX29wZW5fc3dpdGNoX3RhYiA9PT0gZmFsc2UpIHsKICAgICAgLy8gdGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID0gInVzZXJfcmVzcG9uc2VzIjsKICAgICAgLy8gJCgiI3VzZXJfcmVzcG9uc2VzLXRhYiIpLmNsaWNrKCk7CiAgICAgICQoIiN1bmFuc3dlcmVkX3F1ZXN0aW9ucy10YWIiKS5jbGljaygpOwogICAgICB0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPSAidW5hbnN3ZXJlZF9xdWVzdGlvbnMiOwogICAgfQoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5zd2l0Y2ggPT09ICd0cnVlJykgewogICAgICB0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPSAidXNlcl9yZXNwb25zZXMiOwogICAgICAkKCIjdXNlcl9yZXNwb25zZXMtdGFiIikuY2xpY2soKTsKICAgIH0KCiAgICB0aGlzLiRyb290LiRlbWl0KCdjaGFuZ2Vfc2lkZWJhcl9tYWluX21lbnUnLCAnVHJhaW5pbmcgSHViJyk7CiAgICB0aGlzLiRyb290LiRvbigic2VuZF9tb2RlbF9zdGF0dXMiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PSB0cnVlKSB7CiAgICAgICAgX3RoaXMuY2hlY2tfaW50ZW50X21vZGVsX3N0YXR1cygpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuY2hlY2tfaW50ZW50X21vZGVsX3N0YXR1cygpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZF92ZXJpZnlfcmVzcG9uc2VzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGVhcl9zZWFyY2hfbmFtZTogZnVuY3Rpb24gY2xlYXJfc2VhcmNoX25hbWUoKSB7CiAgICAgIHRoaXMuc2VhcmNoX25hbWUgPSAiIjsKICAgIH0sCiAgICBjaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzOiBmdW5jdGlvbiBjaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzKCkgewogICAgICB0aGlzLm1vZGVsX3N0YXR1cyA9IHRoaXMuJHNlc3Npb24uZ2V0KCJNb2RlbFN0YXR1cyIpOwoKICAgICAgaWYgKHRoaXMubW9kZWxfc3RhdHVzID09ICJObyBGYWlsdXJlIikgewogICAgICAgIHRoaXMuaW50ZW50X21vZGVsX2lucHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmIChCb29sZWFuKHRoaXMubW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCkgPT09IHRydWUpIHsKICAgICAgICBpZiAodGhpcy5tb2RlbF9zdGF0dXMuaW50ZW50X21vZGVsID09ICJJblByb2dyZXNzIikgewogICAgICAgICAgdGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaW50ZW50X21vZGVsX2lucHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2hvd19tb2RlbF9wcm9ncmVzczogZnVuY3Rpb24gc2hvd19tb2RlbF9wcm9ncmVzcyhpbmRleCkgewogICAgICBpZiAodGhpcy5pbnRlbnRfbW9kZWxfaW5wcm9ncmVzcyA9PSB0cnVlKSB7CiAgICAgICAgaWYgKGluZGV4ID09ICdzdHlsZScpIHsKICAgICAgICAgIHJldHVybiAiY3Vyc29yOiBub3QtYWxsb3dlZCI7CiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PSAndGl0bGUnKSB7CiAgICAgICAgICByZXR1cm4gIlRyYWluaW5nIGluIFByb2dyZXNzIChUaGlzIHByb2Nlc3MgbWlnaHQgdGFrZSBhcm91bmQgNDUgbWlucyB0byBmaW5pc2gpICI7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgbG9hZF92ZXJpZnlfcmVzcG9uc2VzOiBmdW5jdGlvbiBsb2FkX3ZlcmlmeV9yZXNwb25zZXMoKSB7CiAgICAgIHRoaXMuc2hvd19sb2FkZXIgPSB0cnVlOwogICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICB0aGlzLnNlYXJjaF9uYW1lID0gIiI7CgogICAgICBpZiAodGhpcy51c2VyX3JvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgICAgaWYgKHRoaXMuJHNlc3Npb24uaGFzKCJDb21wYW55SWQiKSkgewogICAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlOYW1lIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZDsKICAgICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMudmlld19jb21wb25lbnRfbmFtZSA9PT0gInVuYW5zd2VyZWRfcXVlc3Rpb25zIikgewogICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImxvYWRfdmVyaWZ5X3Jlc3BvbnNlc191bmFuc3dlcmVkIiwgdHJ1ZSk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID09PSAidXNlcl9yZXNwb25zZXMiKSB7CiAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgibG9hZF92ZXJpZnlfcmVzcG9uc2VzX3VzZXJfZmVlZGJhY2siLCB0cnVlKTsKICAgICAgfSAvLyBpZiAodGhpcy5jb21wYW55bmFtZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIC8vICAgYXhpb3MKICAgICAgLy8gICAgIC5wb3N0KAogICAgICAvLyAgICAgICBhcGlfY2FsbHMuZ2V0X3VuYW5zd2VyZWRfdXJsKCksCiAgICAgIC8vICAgICAgIHsKICAgICAgLy8gICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgLy8gICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIC8vICAgICAgICAgaXNEZWxldGU6ICJGYWxzZSIsCiAgICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgLy8gICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgLy8gICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAgIC8vICAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UsCiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICAgIHsKICAgICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAgIC8vICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgLy8gICAgICAgICB9LAogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICApCiAgICAgIC8vICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgLy8gICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGFbMF0ubGVuZ3RoOwogICAgICAvLyAgICAgICB0aGlzLnRvdGFsX3BhZ2VzID0gcmVzcG9uc2UuZGF0YVs0XS5wYWdlY291bnQ7CiAgICAgIC8vICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgLy8gICAgICAgZm9yICh2YXIgaSBpbiBkYXRhWzBdKSB7CiAgICAgIC8vICAgICAgICAgbGV0IHRlbXBfaW50ID0gIiI7CiAgICAgIC8vICAgICAgICAgaWYgKEJvb2xlYW4oZGF0YVsyXVtpXSkpIHsKICAgICAgLy8gICAgICAgICAgIHRlbXBfaW50ID0gZGF0YVsyXVtpXS5yZXBsYWNlKHRoaXMuY29tcGFueWlkICsgIl8iLCAiIik7CiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIHRoaXMudW5hbnN3ZXJlZF9saXN0LnB1c2goewogICAgICAvLyAgICAgICAgICAgcXVlc3Rpb246IGRhdGFbMF1baV0sCiAgICAgIC8vICAgICAgICAgICBpbnRlbnQ6IHRlbXBfaW50LAogICAgICAvLyAgICAgICAgICAgc291cmNlOiBkYXRhWzFdW2ldLAogICAgICAvLyAgICAgICAgICAgdXNlcl9yZXNwb25zZTogZGF0YVsyXVtpXSwKICAgICAgLy8gICAgICAgICAgIHVzZXJfZmVlZGJhY2s6IGRhdGFbM11baV0sCiAgICAgIC8vICAgICAgICAgICBlZGl0OiBmYWxzZSwKICAgICAgLy8gICAgICAgICB9KTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgLy8gICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgICAvLyAgICAgfSkKICAgICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAvLyAgICAgICBpZiAoCiAgICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgIC8vICAgICAgICkgewogICAgICAvLyAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgIC8vICAgICAgIH0gZWxzZSB7CiAgICAgIC8vICAgICAgICAgdG9hc3RyLmVycm9yKGUubWVzc2FnZSk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgICAvLyAgICAgfSk7CiAgICAgIC8vIH0KICAgICAgLy8gYXhpb3MKICAgICAgLy8gICAucG9zdCgKICAgICAgLy8gICAgIGFwaV9jYWxscy5nZXRfdW5hbnN3ZXJlZF91cmwoKSwKICAgICAgLy8gICAgIHsKICAgICAgLy8gICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgLy8gICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgIC8vICAgICAgIGlzRHJvcGRvd246ICJUcnVlIiwKICAgICAgLy8gICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgLy8gICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgLy8gICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgIC8vICAgICB9LAogICAgICAvLyAgICAgewogICAgICAvLyAgICAgICBoZWFkZXJzOiB7CiAgICAgIC8vICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgIC8vICAgICAgIH0sCiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgKQogICAgICAvLyAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAvLyAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhWzBdKSB7CiAgICAgIC8vICAgICAgIHRoaXMuaW50ZW50X2xpc3QucHVzaCgKICAgICAgLy8gICAgICAgICByZXNwb25zZS5kYXRhWzBdW2ldLnJlcGxhY2UodGhpcy5jb21wYW55aWQgKyAiXyIsICIiKQogICAgICAvLyAgICAgICApOwogICAgICAvLyAgICAgICB0aGlzLm5ld19pbnRlbnRfbGlzdC5wdXNoKAogICAgICAvLyAgICAgICAgIHJlc3BvbnNlLmRhdGFbMF1baV0ucmVwbGFjZSh0aGlzLmNvbXBhbnlpZCArICJfIiwgIiIpCiAgICAgIC8vICAgICAgICk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSkKICAgICAgLy8gICAuY2F0Y2goKGUpID0+IHsKICAgICAgLy8gICAgIGlmICgKICAgICAgLy8gICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAvLyAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgIC8vICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgLy8gICAgICkgewogICAgICAvLyAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAvLyAgICAgfQogICAgICAvLyAgIH0pOwoKICAgIH0sCiAgICB0cmFpbl9pbnRlbnRfbW9kZWw6IGZ1bmN0aW9uIHRyYWluX2ludGVudF9tb2RlbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGlmICh0aGlzLnVuYW5zd2VyZWRfbGlzdC5sZW5ndGggPj0gMSkgewoKICAgICAgICBTd2FsKHsKICAgICAgICAgIHRpdGxlOiAiQXJlIFlvdSBTdXJlPyIsCiAgICAgICAgICB0ZXh0OiAiWW91IHdhbnQgdG8gVHJhaW4gVGhlIE1vZGVsPyIsCiAgICAgICAgICB0eXBlOiAicXVlc3Rpb24iLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIsCiAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICBhbGxvd0VzY2FwZUtleTogZmFsc2UKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMudHJhaW5faW50ZW50X21vZGVsKCksIHsKICAgICAgICAgICAgICBjb21wYW55X2lkOiBfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXMyLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgIGVtYWlsOiBfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMyLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgdG9rZW46IF90aGlzMi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICBlcG9jaHM6IDEwMCwKICAgICAgICAgICAgICB1cGRhdGVfbW9kZWw6IHRydWUKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXMyLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXMyLndhbnRfc3RhdHVzID0gdHJ1ZTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJ3YW50X21vZGVsX3N0YXR1cyIsIF90aGlzMi53YW50X3N0YXR1cyk7CgogICAgICAgICAgICAgIF90aGlzMi5jaGVja19pbnRlbnRfbW9kZWxfc3RhdHVzKCk7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSA0MDQ2KSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhyZXNwb25zZS5kYXRhLk1TRyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSAxMDM0KSB7CiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IocmVzcG9uc2UuZGF0YS5NU0cpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKCk7CiAgICAgIH0gLy8gfSBlbHNlIHsKICAgICAgLy8gICB0b2FzdHIuZXJyb3IoIllvdSBtdXN0IGhhdmUgYXRsZWFzdCBvbmUgcXVlc3Rpb24gdG8gdHJhaW4geW91ciBtb2RlbCIpOwogICAgICAvLyB9CgogICAgfSwKICAgIHNlYXJjaF9xdWVzdGlvbjogZnVuY3Rpb24gc2VhcmNoX3F1ZXN0aW9uKCkgewogICAgICBpZiAodGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID09PSAidW5hbnN3ZXJlZF9xdWVzdGlvbnMiKSB7CiAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgic2VhcmNoX3VuYW5zd2VyZWQiLCB0aGlzLnNlYXJjaF9uYW1lKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPT09ICJ1c2VyX3Jlc3BvbnNlcyIpIHsKICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJzZWFyY2hfdXNlcl9yZXNwb25zZXMiLCB0aGlzLnNlYXJjaF9uYW1lKTsKICAgICAgfSAvLyBpZih0aGlzLnNlYXJjaF9ieSE9JycpewogICAgICAvLyBjb25zb2xlLmxvZygiaGV5Iik7CiAgICAgIC8vIGlmICh0aGlzLnNlYXJjaF9uYW1lICE9ICIiKSB7CiAgICAgIC8vICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAvLyAgIGF4aW9zCiAgICAgIC8vICAgICAucG9zdCgKICAgICAgLy8gICAgICAgYXBpX2NhbGxzLmdldF91bmFuc3dlcmVkX3VybCgpLAogICAgICAvLyAgICAgICB7CiAgICAgIC8vICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgLy8gICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAvLyAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgIC8vICAgICAgICAgaXNzZWFyY2g6IHRydWUsCiAgICAgIC8vICAgICAgICAgLy8gc2VhcmNoYnk6IHRoaXMuc2VhcmNoX2J5LAogICAgICAvLyAgICAgICAgIGtleTogdGhpcy5zZWFyY2hfbmFtZSwKICAgICAgLy8gICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgICAgLy8gICAgICAgICBwYWdlX25vOiAxLAogICAgICAvLyAgICAgICB9LAogICAgICAvLyAgICAgICB7CiAgICAgIC8vICAgICAgICAgaGVhZGVyczogewogICAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgIC8vICAgICAgICAgfSwKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgKQogICAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgICAgIHRoaXMuc3Bpbm5lck9uID0gZmFsc2U7CiAgICAgIC8vICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PSAiTm8gUXVlc3Rpb25zIEZvdW5kIikgewogICAgICAvLyAgICAgICAgIHRvYXN0ci5lcnJvcigiTm8gUXVlc3Rpb24gRm91bmQiKTsKICAgICAgLy8gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgLy8gICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAvLyAgICAgICAgIH0sIDI1MDApOwogICAgICAvLyAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGFbNF0ucGFnZWNvdW50ICE9IHVuZGVmaW5lZCkgewogICAgICAvLyAgICAgICAgIHRoaXMucGFnZV9ubyA9IDE7CiAgICAgIC8vICAgICAgICAgdGhpcy51bmFuc3dlcmVkX2xpc3QgPSBbXTsKICAgICAgLy8gICAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YVswXS5sZW5ndGg7CiAgICAgIC8vICAgICAgICAgdGhpcy50b3RhbF9wYWdlcyA9IHJlc3BvbnNlLmRhdGFbNF0ucGFnZWNvdW50OwogICAgICAvLyAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgLy8gICAgICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGFbMF0pIHsKICAgICAgLy8gICAgICAgICAgIHRoaXMudW5hbnN3ZXJlZF9saXN0LnB1c2goewogICAgICAvLyAgICAgICAgICAgICBxdWVzdGlvbjogcmVzcG9uc2UuZGF0YVswXVtpXSwKICAgICAgLy8gICAgICAgICAgICAgaW50ZW50OiAiIiwKICAgICAgLy8gICAgICAgICAgICAgc291cmNlOiByZXNwb25zZS5kYXRhWzFdW2ldLAogICAgICAvLyAgICAgICAgICAgICB1c2VyX3Jlc3BvbnNlOiBkYXRhWzJdW2ldLAogICAgICAvLyAgICAgICAgICAgICB1c2VyX2ZlZWRiYWNrOiBkYXRhWzNdW2ldLAogICAgICAvLyAgICAgICAgICAgICBlZGl0OiBmYWxzZSwKICAgICAgLy8gICAgICAgICAgIH0pOwogICAgICAvLyAgICAgICAgIH0KICAgICAgLy8gICAgICAgICB0aGlzLnNldHBhZ2luYXRpb24odGhpcy5wYWdlX25vKTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICAvLyBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TRyA9PSAiTm8gUXVlc3Rpb25zIEZvdW5kIikgewogICAgICAvLyAgICAgICAvLyAgIHRvYXN0ci5lcnJvcigiTm8gUXVlc3Rpb24gRm91bmQiKTsKICAgICAgLy8gICAgICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgLy8gICAgICAgLy8gICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAvLyAgICAgICAvLyAgIH0sIDI1MDApOwogICAgICAvLyAgICAgICAvLyB9CiAgICAgIC8vICAgICAgIGVsc2UgewogICAgICAvLyAgICAgICAgIHRvYXN0ci5lcnJvcigiSW50ZXJuYWwgU2VydmVyIEVycm9yIik7CiAgICAgIC8vICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIC8vICAgICAgICAgLy8gICAgIHRoaXMuJHJvdXRlci5nbygpOwogICAgICAvLyAgICAgICAgIC8vICAgfSwgMjUwMCk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0pCiAgICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgLy8gICAgICAgaWYgKAogICAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOQogICAgICAvLyAgICAgICApIHsKICAgICAgLy8gICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICB0b2FzdHIuZXJyb3IoIkVudGVyIHByb3BlciBkYXRhIGZvciBzZWFyY2hpbmciKTsKICAgICAgLy8gfQogICAgICAvLyB9ZWxzZXsKICAgICAgLy8gICB0b2FzdHIuZXJyb3IoIlNlbGVjdCBoZWFkZXIgZm9yIHNlYXJjaGluZyIpOwogICAgICAvLyB9CgogICAgfSwKICAgIC8vIHNldHBhZ2luYXRpb24ocGFnZV9ubykgewogICAgLy8gICB0aGlzLnBhZ2VfYXJyYXkgPSBbXTsKICAgIC8vICAgaWYgKHRoaXMudG90YWxfcGFnZXMgPD0gNykgewogICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGVsc2UgaWYgKHBhZ2Vfbm8gPT0gMSkgewogICAgLy8gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAvLyAgIH0gZWxzZSBpZiAocGFnZV9ubyA9PSB0aGlzLnRvdGFsX3BhZ2VzKSB7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goMSk7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2goIi4uLnMiKTsKICAgIC8vICAgICBmb3IgKGxldCBpID0gdGhpcy50b3RhbF9wYWdlcyAtIDQ7IGkgPCB0aGlzLnRvdGFsX3BhZ2VzOyBpKyspIHsKICAgIC8vICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkgKyAxKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0gZWxzZSBpZiAocGFnZV9ubyA8PSA0KSB7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlX25vICsgMzsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5sIik7CiAgICAvLyAgICAgdGhpcy5wYWdlX2FycmF5LnB1c2godGhpcy50b3RhbF9wYWdlcyk7CiAgICAvLyAgIH0gZWxzZSBpZiAocGFnZV9ubyA+PSB0aGlzLnRvdGFsX3BhZ2VzIC0gNCkgewogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSA0OyBpIDwgdGhpcy50b3RhbF9wYWdlczsgaSsrKSB7CiAgICAvLyAgICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaChpICsgMSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKDEpOwogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKCIuLi5zIik7CiAgICAvLyAgICAgZm9yIChsZXQgaSA9IHBhZ2Vfbm8gLSAzOyBpIDw9IHBhZ2Vfbm8gKyAzOyBpKyspIHsKICAgIC8vICAgICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKGkpOwogICAgLy8gICAgIH0KICAgIC8vICAgICB0aGlzLnBhZ2VfYXJyYXkucHVzaCgiLi4ubCIpOwogICAgLy8gICAgIHRoaXMucGFnZV9hcnJheS5wdXNoKHRoaXMudG90YWxfcGFnZXMpOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gcGFnZV9yZXF1aXJlKHBhZ2UpIHsKICAgIC8vICAgaWYgKHBhZ2UgPT0gMCB8fCBwYWdlID09IHRoaXMudG90YWxfcGFnZXMgKyAxKSB7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgJCgiaW5wdXQ6Y2hlY2tib3giKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgLy8gICAgIGlmIChwYWdlID09ICIuLi5zIikgewogICAgLy8gICAgICAgdGhpcy5wYWdlX25vID0gTWF0aC5jZWlsKCgxICsgdGhpcy5wYWdlX25vKSAvIDIpOwogICAgLy8gICAgIH0gZWxzZSBpZiAocGFnZSA9PSAiLi4ubCIpIHsKICAgIC8vICAgICAgIHRoaXMucGFnZV9ubyA9IE1hdGguY2VpbCgodGhpcy50b3RhbF9wYWdlcyArIHRoaXMucGFnZV9ubykgLyAyKTsKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgdGhpcy5wYWdlX25vID0gcGFnZTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYgKHRoaXMuc2VhcmNoX25hbWUgPT0gIiIpIHsKICAgIC8vICAgICAgIGF4aW9zCiAgICAvLyAgICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICAgIGFwaV9jYWxscy5nZXRfdW5hbnN3ZXJlZF91cmwoKSwKICAgIC8vICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgLy8gICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgICAgc3Vic2NyaXB0aW9uOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgLy8gICAgICAgICAgICAgaXNEZWxldGU6ICJGYWxzZSIsCiAgICAvLyAgICAgICAgICAgICBwYWdlX25vOiB0aGlzLnBhZ2Vfbm8sCiAgICAvLyAgICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgICAgICB9LAogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgKQogICAgLy8gICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgICAgICB0aGlzLnVuYW5zd2VyZWRfbGlzdCA9IFtdOwogICAgLy8gICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgLy8gICAgICAgICAgICAgdGhpcy51bmFuc3dlcmVkX2xpc3QucHVzaCh7CiAgICAvLyAgICAgICAgICAgICAgIHF1ZXN0aW9uOiByZXNwb25zZS5kYXRhWzBdW2ldLAogICAgLy8gICAgICAgICAgICAgICBpbnRlbnQ6ICIiLAogICAgLy8gICAgICAgICAgICAgICBzb3VyY2U6IHJlc3BvbnNlLmRhdGFbMV1baV0sCiAgICAvLyAgICAgICAgICAgICAgIHVzZXJfcmVzcG9uc2U6IHJlc3BvbnNlLmRhdGFbMl1baV0sCiAgICAvLyAgICAgICAgICAgICAgIHVzZXJfZmVlZGJhY2s6IHJlc3BvbnNlLmRhdGFbM11baV0sCiAgICAvLyAgICAgICAgICAgICAgIGVkaXQ6IGZhbHNlLAogICAgLy8gICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgIHRoaXMuc2V0cGFnaW5hdGlvbih0aGlzLnBhZ2Vfbm8pOwogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIGF4aW9zCiAgICAvLyAgICAgICAgIC5wb3N0KAogICAgLy8gICAgICAgICAgIGFwaV9jYWxscy5nZXRfdW5hbnN3ZXJlZF91cmwoKSwKICAgIC8vICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgLy8gICAgICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAvLyAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgLy8gICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgLy8gICAgICAgICAgICAgaXNzZWFyY2g6IHRydWUsCiAgICAvLyAgICAgICAgICAgICAvLyBzZWFyY2hieTogdGhpcy5zZWFyY2hfYnksCiAgICAvLyAgICAgICAgICAgICBrZXk6IHRoaXMuc2VhcmNoX25hbWUsCiAgICAvLyAgICAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgIC8vICAgICAgICAgICAgIHBhZ2Vfbm86IHBhZ2UsCiAgICAvLyAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRzZXNzaW9uLmdldCgiYXQiKX1gLAogICAgLy8gICAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICAgICkKICAgIC8vICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgIC8vICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVs0XS5wYWdlY291bnQgIT0gdW5kZWZpbmVkKSB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLnBhZ2Vfbm8gPSBwYWdlOwogICAgLy8gICAgICAgICAgICAgdGhpcy51bmFuc3dlcmVkX2xpc3QgPSBbXTsKICAgIC8vICAgICAgICAgICAgIHRoaXMubnVtYmVyX29mX3Jvd3MgPSByZXNwb25zZS5kYXRhWzBdLmxlbmd0aDsKICAgIC8vICAgICAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSByZXNwb25zZS5kYXRhWzRdLnBhZ2Vjb3VudDsKICAgIC8vICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgLy8gICAgICAgICAgICAgICB0aGlzLnVuYW5zd2VyZWRfbGlzdC5wdXNoKHsKICAgIC8vICAgICAgICAgICAgICAgICBxdWVzdGlvbjogcmVzcG9uc2UuZGF0YVswXVtpXSwKICAgIC8vICAgICAgICAgICAgICAgICBpbnRlbnQ6ICIiLAogICAgLy8gICAgICAgICAgICAgICAgIHNvdXJjZTogcmVzcG9uc2UuZGF0YVsxXVtpXSwKICAgIC8vICAgICAgICAgICAgICAgICB1c2VyX3Jlc3BvbnNlOiByZXNwb25zZS5kYXRhWzJdW2ldLAogICAgLy8gICAgICAgICAgICAgICAgIHVzZXJfZmVlZGJhY2s6IHJlc3BvbnNlLmRhdGFbM11baV0sCiAgICAvLyAgICAgICAgICAgICAgICAgZWRpdDogZmFsc2UsCiAgICAvLyAgICAgICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgdGhpcy5zZXRwYWdpbmF0aW9uKHRoaXMucGFnZV9ubyk7CiAgICAvLyAgICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAgIHRvYXN0ci5lcnJvcigiSW50ZXJuYWwgU2VydmVyIEVycm9yIik7CiAgICAvLyAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICAgICAgICAgIC8vICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAvLyAgICAgICAgICAgICAvLyB9LCAyNTAwKTsKICAgIC8vICAgICAgICAgICAgIHRoaXMubG9hZF92ZXJpZnlfcmVzcG9uc2VzKCk7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgICAgICBpZiAoCiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgICAgIH0KICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gcGFnZV9jaGFuZ2UocGFnZV9ubykgewogICAgLy8gICBheGlvcwogICAgLy8gICAgIC5wb3N0KAogICAgLy8gICAgICAgYXBpX2NhbGxzLmdldF91bmFuc3dlcmVkX3VybCgpLAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgIC8vICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbiwKICAgIC8vICAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgLy8gICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZSwKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgICAgfSwKICAgIC8vICAgICAgIH0KICAgIC8vICAgICApCiAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgICB0aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YVszXS5udW1iZXJfb2Zfcm93czsKICAgIC8vICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgLy8gICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhWzBdKSB7CiAgICAvLyAgICAgICAgIHRoaXMudW5hbnN3ZXJlZF9saXN0LnB1c2goewogICAgLy8gICAgICAgICAgIHF1ZXN0aW9uOiByZXNwb25zZS5kYXRhWzBdW2ldLAogICAgLy8gICAgICAgICAgIGludGVudDogIiIsCiAgICAvLyAgICAgICAgICAgc291cmNlOiByZXNwb25zZS5kYXRhWzFdW2ldLAogICAgLy8gICAgICAgICAgIHVzZXJfcmVzcG9uc2U6IHJlc3BvbnNlLmRhdGFbMl1baV0sCiAgICAvLyAgICAgICAgICAgdXNlcl9mZWVkYmFjazogcmVzcG9uc2UuZGF0YVszXVtpXSwKICAgIC8vICAgICAgICAgICBlZGl0OiBmYWxzZSwKICAgIC8vICAgICAgICAgfSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgIC8vICAgICAgIGlmICgKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICkgewogICAgLy8gICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIC8vIHF1ZXN0aW9uX3NlbGVjdGVkKHZhbHVlKSB7CiAgICAvLyAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgLy8gICAgIGlmICh2YWx1ZSA9PSAiYWxsIikgewogICAgLy8gICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnVuYW5zd2VyZWRfbGlzdCkgewogICAgLy8gICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRoaXMudW5hbnN3ZXJlZF9saXN0W2ldKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh0aGlzLnVuYW5zd2VyZWRfbGlzdFt2YWx1ZV0pOwogICAgLy8gICAgIH0KICAgIC8vICAgfSBlbHNlIGlmICghZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgIC8vICAgICBpZiAodmFsdWUgIT0gImFsbCIpIHsKICAgIC8vICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CiAgICAvLyAgICAgICBpZiAoc2VsZWN0YWxsLmNoZWNrZWQpIHsKICAgIC8vICAgICAgICAgc2VsZWN0YWxsLmNoZWNrZWQgPSBmYWxzZTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgIHZhciB0ZW1wID0gdGhpcy5jaGVja2VkX2xpc3QuZmlsdGVyKChxdWVzdGlvbikgPT4gewogICAgLy8gICAgICAgICByZXR1cm4gcXVlc3Rpb24ucXVlc3Rpb24gIT09IHZhbHVlOwogICAgLy8gICAgICAgfSk7CiAgICAvLyAgICAgICB0aGlzLmNoZWNrZWRfbGlzdCA9IHRlbXA7CiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gZGVsZXRlX3NpbmdsZShpbmRleCkgewogICAgLy8gICBsZXQgcXVlc3Rpb25saXN0ID0gW107CiAgICAvLyAgIFN3YWwuZmlyZSh7CiAgICAvLyAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgIC8vICAgICB0ZXh0OiAiIFlvdSB3YW50IHRvIERlbGV0ZSB0aGlzIFF1ZXN0aW9uPyIsCiAgICAvLyAgICAgdHlwZTogInF1ZXN0aW9uIiwKICAgIC8vICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgLy8gICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgLy8gICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAvLyAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIENvbmZpcm0hIiwKICAgIC8vICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAvLyAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0LnZhbHVlKTsKICAgIC8vICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZygiZGVsZXRlZCIpOwogICAgLy8gICAgICAgcXVlc3Rpb25saXN0LnB1c2godGhpcy51bmFuc3dlcmVkX2xpc3RbaW5kZXhdLnF1ZXN0aW9uKTsKICAgIC8vICAgICAgIHRoaXMuZGVsZXRlX3F1ZXN0aW9uc19hcGkocXVlc3Rpb25saXN0KTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0pOwogICAgLy8gfSwKICAgIGRlbGV0ZV9tdWx0aXBsZTogZnVuY3Rpb24gZGVsZXRlX211bHRpcGxlKCkgewogICAgICBpZiAodGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID09PSAidW5hbnN3ZXJlZF9xdWVzdGlvbnMiKSB7CiAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiZGVsZXRlX211bHRpcGxlX3VuYW5zd2VyZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPT09ICJ1c2VyX3Jlc3BvbnNlcyIpIHsKICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJkZWxldGVfbXVsdGlwbGVfdXNlcl9yZXNwb25zZXMiLCB0cnVlKTsKICAgICAgfSAvLyBpZiAodGhpcy5jaGVja2VkX2xpc3QubGVuZ3RoID09IDApIHsKICAgICAgLy8gICBTd2FsLmZpcmUoIk5vIHF1ZXN0aW9uIHNlbGVjdGVkISIsICIiLCAiZXJyb3IiKTsKICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggPiAwKSB7CiAgICAgIC8vICAgbGV0IHF1ZXN0aW9ubGlzdCA9IFtdOwogICAgICAvLyAgIFN3YWwuZmlyZSh7CiAgICAgIC8vICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAvLyAgICAgdGV4dDogIiBZb3Ugd2FudCB0byBEZWxldGUgdGhpcyBRdWVzdGlvbnM/IiwKICAgICAgLy8gICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgIC8vICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAvLyAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAiIzMwODVkNiIsCiAgICAgIC8vICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAvLyAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIENvbmZpcm0hIiwKICAgICAgLy8gICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgLy8gICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgLy8gICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNoZWNrZWRfbGlzdCkgewogICAgICAvLyAgICAgICAgIHF1ZXN0aW9ubGlzdC5wdXNoKHRoaXMuY2hlY2tlZF9saXN0W2ldLnF1ZXN0aW9uKTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgICB0aGlzLmRlbGV0ZV9xdWVzdGlvbnNfYXBpKHF1ZXN0aW9ubGlzdCk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgfSk7CiAgICAgIC8vIH0KCiAgICB9LAogICAgLy8gZGVsZXRlX3F1ZXN0aW9uc19hcGkocXVlc3Rpb25saXN0KSB7CiAgICAvLyAgIGF4aW9zCiAgICAvLyAgICAgLnBvc3QoCiAgICAvLyAgICAgICBhcGlfY2FsbHMuZ2V0X3VuYW5zd2VyZWRfdXJsKCksCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAvLyAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgLy8gICAgICAgICBxdWVzdGlvbmxpc3Q6IHF1ZXN0aW9ubGlzdCwKICAgIC8vICAgICAgICAgaXNEZWxldGU6ICJUcnVlIiwKICAgIC8vICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgIC8vICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgKQogICAgLy8gICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkRlbGV0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgLy8gICAgICAgICAvLyBjb25zb2xlLmxvZygiZGVsZXRlZCBzdWNjZXNzZnVsbHkiKTsKICAgIC8vICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgIC8vICAgICAgICAgdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGFbMl0ubnVtYmVyX29mX3Jvd3M7CiAgICAvLyAgICAgICAgIHRoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwodGhpcy5udW1iZXJfb2Zfcm93cyAvIHRoaXMucGVyX3BhZ2UpOwogICAgLy8gICAgICAgICB0b2FzdHIuc3VjY2VzcygiRGVsZXRlZCBTdWNjZXNzZnVsbHkiKTsKICAgIC8vICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgICAgICAgIC8vICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAvLyAgICAgICAgIC8vIH0sIDE1MDApOwogICAgLy8gICAgICAgICB0aGlzLmxvYWRfdmVyaWZ5X3Jlc3BvbnNlcygpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICBpZiAoCiAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwKICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAvLyAgICAgICApIHsKICAgIC8vICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgIHRvYXN0ci5lcnJvcihlLm1lc3NhZ2UpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIC8vIGVkaXRfaXRlbShpbmRleCkgewogICAgLy8gICB0aGlzLnVuYW5zd2VyZWRfbGlzdFtpbmRleF0uZWRpdCA9ICF0aGlzLnVuYW5zd2VyZWRfbGlzdFtpbmRleF0uZWRpdDsKICAgIC8vICAgdGhpcy5vbGRfcXVlc3Rpb24gPSB0aGlzLnVuYW5zd2VyZWRfbGlzdFtpbmRleF0ucXVlc3Rpb247CiAgICAvLyAgIHRoaXMub2xkX2ludGVudCA9IHRoaXMudW5hbnN3ZXJlZF9saXN0W2luZGV4XS5pbnRlbnQ7CiAgICAvLyAgIHRoaXMub2xkX2RhdGEucXVlc3Rpb24gPSB0aGlzLm9sZF9xdWVzdGlvbjsKICAgIC8vICAgdGhpcy5vbGRfZGF0YS5pbnRlbnQgPSB0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMub2xkX2ludGVudDsKICAgIC8vICAgLy8gdGhpcy5xdWVzdGlvbiA9IHF1ZXN0aW9uLnF1ZXN0aW9uOwogICAgLy8gICAvLyB0aGlzLmludGVudCA9IHF1ZXN0aW9uLmludGVudDsKICAgIC8vICAgLy8gY29uc29sZS5sb2codGhpcy5vbGRfZGF0YSk7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKHRoaXMub2xkX3F1ZXN0aW9uKTsKICAgIC8vIH0sCiAgICBhZGRfcXVlc3Rpb25zOiBmdW5jdGlvbiBhZGRfcXVlc3Rpb25zKCkgewogICAgICBpZiAoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICAgIGlmICh0aGlzLnZpZXdfY29tcG9uZW50X25hbWUgPT09ICJ1bmFuc3dlcmVkX3F1ZXN0aW9ucyIpIHsKICAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoImFkZF9xdWVzdGlvbnNfdW5hbnN3ZXJlZCIsIHRydWUpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy52aWV3X2NvbXBvbmVudF9uYW1lID09PSAidXNlcl9yZXNwb25zZXMiKSB7CiAgICAgICAgICB0aGlzLiRyb290LiRlbWl0KCJhZGRfcXVlc3Rpb25zX3VzZXJfcmVzcG9uc2VzIiwgdHJ1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd19zdWJzY3JpcHRpb25fZXhwaXJlZF9zd2FsKCk7CiAgICAgIH0gLy8gdGhpcy5zaG93X2xvYWRlciA9IHRydWU7CiAgICAgIC8vIHZhciBxdWVzdGlvbmxpc3QgPSBbXTsKICAgICAgLy8gdmFyIHRlbXBfbGlzdCA9IFtdOwogICAgICAvLyB2YXIgZW1wdHkgPSB0aGlzLnVuYW5zd2VyZWRfbGlzdC5maWx0ZXIoKHVuYW5zd2VyZWQpID0+IHsKICAgICAgLy8gICByZXR1cm4gdW5hbnN3ZXJlZC5pbnRlbnQgPT0gIiI7CiAgICAgIC8vIH0pOwogICAgICAvLyBmb3IgKHZhciBpIGluIHRoaXMudW5hbnN3ZXJlZF9saXN0KSB7CiAgICAgIC8vICAgaWYgKHRoaXMudW5hbnN3ZXJlZF9saXN0W2ldLmludGVudCAhPSAiIikgewogICAgICAvLyAgICAgdGVtcF9saXN0LnB1c2goCiAgICAgIC8vICAgICAgIHRoaXMudW5hbnN3ZXJlZF9saXN0W2ldLnF1ZXN0aW9uLAogICAgICAvLyAgICAgICB0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMudW5hbnN3ZXJlZF9saXN0W2ldLmludGVudAogICAgICAvLyAgICAgKTsKICAgICAgLy8gICAgIHF1ZXN0aW9ubGlzdC5wdXNoKHRlbXBfbGlzdCk7CiAgICAgIC8vICAgfQogICAgICAvLyAgIHRlbXBfbGlzdCA9IFtdOwogICAgICAvLyB9CiAgICAgIC8vIGlmIChxdWVzdGlvbmxpc3QubGVuZ3RoID4gMCkgewogICAgICAvLyAgIGF4aW9zCiAgICAgIC8vICAgICAucG9zdCgKICAgICAgLy8gICAgICAgYXBpX2NhbGxzLmdldF91bmFuc3dlcmVkX3VybCgpLAogICAgICAvLyAgICAgICB7CiAgICAgIC8vICAgICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgIC8vICAgICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgLy8gICAgICAgICBpc0FkZDogIlRydWUiLAogICAgICAvLyAgICAgICAgIHF1ZXN0aW9uaW50ZW50OiBxdWVzdGlvbmxpc3QsCiAgICAgIC8vICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgLy8gICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAvLyAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAvLyAgICAgICB9LAogICAgICAvLyAgICAgICB7CiAgICAgIC8vICAgICAgICAgaGVhZGVyczogewogICAgICAvLyAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJHNlc3Npb24uZ2V0KCJhdCIpfWAsCiAgICAgIC8vICAgICAgICAgfSwKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgKQogICAgICAvLyAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJBZGRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgIC8vICAgICAgICAgc3dhbCh7CiAgICAgIC8vICAgICAgICAgICB0ZXh0OiAiQWRkZWQgU3VjY2Vzc2Z1bGx5IiwKICAgICAgLy8gICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgLy8gICAgICAgICB9KTsKICAgICAgLy8gICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgLy8gICAgICAgfQogICAgICAvLyAgICAgfSkKICAgICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAvLyAgICAgICBpZiAoCiAgICAgIC8vICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAvLyAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwKICAgICAgLy8gICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5CiAgICAgIC8vICAgICAgICkgewogICAgICAvLyAgICAgICAgIHRoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0pOwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHRvYXN0ci5lcnJvcigiTm8gcXVlc3Rpb24gdG8gYWRkLiBQbGVhc2UgYWRkIHNvbWUgcXVlc3Rpb25zLiIpOwogICAgICAvLyB9CiAgICAgIC8vIHRoaXMuc2hvd19sb2FkZXIgPSBmYWxzZTsKCiAgICB9IC8vIHBhZ2luYXRpb25fY2xhc3MoaW5kZXgpIHsKICAgIC8vICAgaWYgKGluZGV4ID09IHRoaXMucGFnZV9ubykgewogICAgLy8gICAgIHJldHVybiAiIGFjdGl2ZSI7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgcmV0dXJuICIiOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gc3VibWl0X3F1ZXN0aW9uKCkgewogICAgLy8gICAvLyBjb25zb2xlLmxvZygic3VibWl0Iik7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCJxdWVzdGlvbiIsIHRoaXMub2xkX3F1ZXN0aW9uKTsKICAgIC8vICAgLy8gY29uc29sZS5sb2coImludGVudCIsIHRoaXMub2xkX2ludGVudCk7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCJpbnRlbnQiLCB0aGlzLmlzZWRpdCk7CiAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyAgIGlmICh0aGlzLm9sZF9xdWVzdGlvbiA9PSAiIiB8fCB0aGlzLm9sZF9pbnRlbnQgPT0gIiIpIHsKICAgIC8vICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIGZpZWxkcy4iKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnNob3dfbG9hZGVyID0gdHJ1ZTsKICAgIC8vICAgICBheGlvcwogICAgLy8gICAgICAgLnBvc3QoCiAgICAvLyAgICAgICAgIGFwaV9jYWxscy5nZXRfdW5hbnN3ZXJlZF91cmwoKSwKICAgIC8vICAgICAgICAgewogICAgLy8gICAgICAgICAgIGlzX0VkaXQ6ICJUcnVlIiwKICAgIC8vICAgICAgICAgICBxdWVzdGlvbjogdGhpcy5vbGRfcXVlc3Rpb24sCiAgICAvLyAgICAgICAgICAgaW50ZW50OiB0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMub2xkX2ludGVudCwKICAgIC8vICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgIC8vICAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuY29tcGFueWlkLAogICAgLy8gICAgICAgICAgIG9sZF9xdWVzdGlvbl9kYXRhOiB0aGlzLm9sZF9kYXRhLAogICAgLy8gICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAvLyAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgIC8vICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgIC8vICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24sCiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIHsKICAgIC8vICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAvLyAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICApCiAgICAvLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5zaG93X2xvYWRlciA9IGZhbHNlOwogICAgLy8gICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiSW50ZXJuYWwgU2VydmVyIEVycm9yIikgewogICAgLy8gICAgICAgICAgIHRvYXN0ci5lcnJvcigiSW50ZXJuYWwgU2VydmVyIEVycm9yIik7CiAgICAvLyAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgLy8gICAgICAgICAgIFN3YWwoewogICAgLy8gICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgLy8gICAgICAgICAgICAgdGV4dDogIllvdXIgcXVlc3Rpb24gaGFzIGJlZW4gZWRpdGVkIHN1Y2Nlc3NmdWxseSIsCiAgICAvLyAgICAgICAgICAgICB0aW1lcjoyMDAwLAogICAgLy8gICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgLy8gICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgLy8gICAgICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5sb2FkX3ZlcmlmeV9yZXNwb25zZXMoKTsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVzdGlvbiBJbnRlbnQgVXBkYXRlZCIpIHsKICAgIC8vICAgICAgICAgICBTd2FsKHsKICAgIC8vICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgIC8vICAgICAgICAgICAgIHRleHQ6ICJZb3VyIHF1ZXN0aW9uIGhhcyBiZWVuIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgIC8vICAgICAgICAgICAgIHRpbWVyOjIwMDAsCiAgICAvLyAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAvLyAgICAgICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAvLyAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygpOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLmxvYWRfdmVyaWZ5X3Jlc3BvbnNlcygpOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgIH0pOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KQogICAgLy8gICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAvLyAgICAgICAgIGlmICgKICAgIC8vICAgICAgICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8CiAgICAvLyAgICAgICAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fAogICAgLy8gICAgICAgICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgIC8vICAgICAgICAgKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICB0b2FzdHIuZXJyb3IoIkludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgfQogICAgLy8gfSwKCiAgfSwKICB3YXRjaDogewogICAgdmlld19jb21wb25lbnRfbmFtZTogZnVuY3Rpb24gdmlld19jb21wb25lbnRfbmFtZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLnNlYXJjaF9uYW1lID0gIiI7CiAgICB9LAogICAgc2VhcmNoX25hbWU6IGZ1bmN0aW9uIHNlYXJjaF9uYW1lKCkgewogICAgICBpZiAodGhpcy5zZWFyY2hfbmFtZSA9PT0gIiIpIHsKICAgICAgICB0aGlzLmxvYWRfdmVyaWZ5X3Jlc3BvbnNlcygpOwogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaF9uYW1lICE9PSAiIikgewogICAgICAgIHRoaXMuaXNWaXNpYmxlU2VhcmNoQ2xlYXIgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},null]}