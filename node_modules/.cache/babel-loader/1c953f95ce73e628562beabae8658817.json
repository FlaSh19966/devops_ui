{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SupportSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Customer Support/SupportSettings.vue","mtime":1660042032563},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IEpzb25FeGNlbCBmcm9tICJ2dWUtanNvbi1leGNlbCI7CmltcG9ydCBjb3VudHJpZXMgZnJvbSAiQC9wb3J0YWwvY29tcG9uZW50cy9Db3VudHJpZXMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgU3dhbCBmcm9tICJzd2VldGFsZXJ0MiI7CmltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICJ0aW1lcnMiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCBNdWx0aXNlbGVjdCBmcm9tICJ2dWUtbXVsdGlzZWxlY3QiOwpWdWUuY29tcG9uZW50KCJkb3dubG9hZEV4Y2VsIiwgSnNvbkV4Y2VsKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzbXNfdGV4dDogIiIsCiAgICAgIHN0YXJ0X2dyZWV0aW5nczogIiIsCiAgICAgIGVuZF9ncmVldGluZ3M6ICIiLAogICAgICBiaWdfc3Bpbm5lcjogZmFsc2UsCiAgICAgIHRvdGFsX3BhZ2VzOiBudWxsLAogICAgICBudW1iZXJfb2Zfcm93czogbnVsbCwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDUsCiAgICAgIGNvdW50cnlfbGlzdDogY291bnRyaWVzLAogICAgICB1c2VyX3JvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBjb21wYW55aWQ6ICIiLAogICAgICBjb21wYW55bmFtZTogIiIsCiAgICAgIGNhbGxfaGlzdG9yeV9uYW1lOiAiIiwKICAgICAgc3VwcG9ydF9udW1iZXJzX2xpc3Q6IFtdLAogICAgICBjb250YWN0X251bWJlcnM6ICIiLAogICAgICBjb250YWN0X25hbWVzOiAiIiwKICAgICAgY291bnRyeV9uYW1lOiB7CiAgICAgICAgY29kZTogIiIsCiAgICAgICAgbmFtZTogIi0tU2VsZWN0IENvdW50cnkgTmFtZS0tIgogICAgICB9LAogICAgICBvbGRfY29udGFjdF9kYXRhOiB7CiAgICAgICAgQ29udGFjdE51bWJlcjogIiIsCiAgICAgICAgQ291bnRyeUNvZGU6ICIiLAogICAgICAgIE5hbWU6ICIiCiAgICAgIH0sCiAgICAgIG5ld19jb250YWN0X2RhdGE6IHsKICAgICAgICBDb250YWN0TnVtYmVyOiAiIiwKICAgICAgICBDb3VudHJ5Q29kZTogIiIsCiAgICAgICAgTmFtZTogIiIKICAgICAgfSwKICAgICAgY2FsbF9oaXN0b3J5X2xpc3Q6IFtdLAogICAgICBjYWxsX2hpc3RvcnlfbnVtYmVyX29mX3Jvd3M6ICIiLAogICAgICBjYWxsX2hpc3RvcnlfdG90YWxfcGFnZXM6IDAsCiAgICAgIGNhbGxfaGlzdG9yeV9wZXJfcGFnZTogMTAsCiAgICAgIHN0YXJ0X3Ntc19ncmVldGluZ3M6ICJUaGFuayB5b3UgZm9yIHJlZ2lzdGVyaW5nIHdpdGggQ2Vuc2UgQUkuIFlvdXIgb3RwIGlzIHtPVFB9LiIsCiAgICAgIGNhbGxfc3RhcnRfZ3JlZXRpbmdzOiAiVGhpcyBjYWxsIGlzIGZyb20ge2NvbXBhbnkgbmFtZX0sIHBsZWFzZSBob2xkIG9uIHdoaWxlIHdlIGNvbm5lY3QgeW91IHdpdGggb3VyIHJlc3ByZXNlbnRhdGl2ZS4iLAogICAgICBjb3VudHJ5bmFtZTogW10sCiAgICAgIGNvbnRhY3RudW1iZXJzOiBbXSwKICAgICAgY29udGFjdG5hbWVzOiBbXSwKICAgICAgcGhvbmVfbnVtYmVyX3ZhbGlkaXR5OiAvWzAtOV17OSwxMX0kLywKICAgICAgY29udGFjdF9lZGl0X251bWJlcjogImZhbHNlIgogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIE11bHRpc2VsZWN0OiBNdWx0aXNlbGVjdAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKCF0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgJiYgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIHRvYXN0ci53YXJuaW5nKCJQbGVhc2Ugc2VsZWN0IGEgY29tcGFueSBuYW1lIGZyb20gdGhlIGRyb3Bkb3duIik7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmxvYWRfc3VwcG9ydF91cmwoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBzaG93X3N1cGVyYWRtaW46ICJUcnVlIiwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgaXNTaG93OiAiVHJ1ZSIKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLm51bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YVsxXS5udW1iZXJfb2Zfcm93czsKICAgICAgICBfdGhpcy50b3RhbF9wYWdlcyA9IE1hdGguY2VpbChfdGhpcy5udW1iZXJfb2Zfcm93cyAvIF90aGlzLnBlcl9wYWdlKTsKICAgICAgICBfdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdCA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgIH0pOwogICAgfSBlbHNlIGlmICh0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdGhpcy5jb21wYW55aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueUlkIik7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiQ29tcGFueU5hbWUiKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQ7CiAgICAgIHRoaXMuY29tcGFueW5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lOwogICAgfQoKICAgIGlmICh0aGlzLiRzZXNzaW9uLmhhcygiQ29tcGFueUlkIikgfHwgdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnJvbGUgIT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmxvYWRfc3VwcG9ydF91cmwoKSwgewogICAgICAgIGNvbXBhbnlfaWQ6IHRoaXMuY29tcGFueWlkLAogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgcGFnZV9ubzogdGhpcy5wYWdlX25vLAogICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlLAogICAgICAgIGlzU2hvdzogIlRydWUiCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGFbMV0ubnVtYmVyX29mX3Jvd3M7CiAgICAgICAgX3RoaXMudG90YWxfcGFnZXMgPSBNYXRoLmNlaWwoX3RoaXMubnVtYmVyX29mX3Jvd3MgLyBfdGhpcy5wZXJfcGFnZSk7CiAgICAgICAgX3RoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3QgPSByZXNwb25zZS5kYXRhWzBdOwogICAgICB9KTsKICAgIH0KCiAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50d2lsaW9fZ3JlZXRpbmdzKCksIHsKICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgIGlzU2hvdzogdHJ1ZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMuc3RhcnRfZ3JlZXRpbmdzID0gcmVzcG9uc2UuZGF0YS5ncmVldGluZzsKICAgICAgX3RoaXMuZW5kX2dyZWV0aW5ncyA9IHJlc3BvbnNlLmRhdGEuYnVzeTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZV9ncmVldGluZ3M6IGZ1bmN0aW9uIHNhdmVfZ3JlZXRpbmdzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnR3aWxpb19ncmVldGluZ3MoKSwgewogICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgaXNFZGl0OiB0cnVlLAogICAgICAgIGdyZWV0aW5nOiB0aGlzLnN0YXJ0X2dyZWV0aW5ncywKICAgICAgICBidXN5OiB0aGlzLmVuZF9ncmVldGluZ3MKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJDYWxsIE1lc3NhZ2VzIFVwZGF0ZWQiKSB7CiAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiQ2FsbCBHcmVldGluZ3MgVXBkYXRlZCBTdWNjZXNzZnVsbHkiKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuJHJvdXRlci5nbygpOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiUXVlcnkgRXhlY3V0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIlNNUyBtZXNzYWdlIHNhdmVkIHN1Y2Nlc2Z1bGx5Iik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzbXNfc2V0dGluZ3M6IGZ1bmN0aW9uIHNtc19zZXR0aW5ncygpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuc21zX3NldHRpbmdzKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHNtc3RleHQ6IHRoaXMuc21zX3RleHQKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiU01TIG1lc3NhZ2Ugc2F2ZWQgc3VjY2VzZnVsbHkiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9zdXBwb3J0X251bWJlcjogZnVuY3Rpb24gZGVsZXRlX3N1cHBvcnRfbnVtYmVyKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLAogICAgICAgIHRleHQ6ICJZb3Ugd29uJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAiI2QzMyIsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSEhIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5hZGRfc3VwcG9ydF91cmwoKSwgewogICAgICAgICAgICBjb21wYW55X2lkOiBfdGhpczMuY29tcGFueWlkLAogICAgICAgICAgICBjb21wYW55X25hbWU6IF90aGlzMy5jb21wYW55bmFtZSwKICAgICAgICAgICAgZW1haWw6IF90aGlzMy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICB0b2tlbjogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIENvbnRhY3ROdW1iZXI6IF90aGlzMy5jaGVja2VkX2xpc3QsCiAgICAgICAgICAgIGlzRGVsZXRlOiAiVHJ1ZSIsCiAgICAgICAgICAgIGNvbnRhY3RzOiBbewogICAgICAgICAgICAgIE5hbWU6IF90aGlzMy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uTmFtZSwKICAgICAgICAgICAgICBDb250YWN0TnVtYmVyOiBfdGhpczMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdLkNvbnRhY3ROdW1iZXIKICAgICAgICAgICAgfV0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXMzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkNPTlRBQ1RTIERFTEVURUQiKSB7CiAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIkNvbnRhY3QgRGVsZXRlZCBTdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlX211bHRpcGxlX3N1cHBvcnRfbnVtYmVyOiBmdW5jdGlvbiBkZWxldGVfbXVsdGlwbGVfc3VwcG9ydF9udW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgIHRpdGxlOiAiTm8gbnVtYmVyIHNlbGVjdGVkISIsCiAgICAgICAgICB0ZXh0OiAiIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tlZF9saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICAgIHRleHQ6ICJZb3Ugd29uJ3QgYmUgYWJsZSB0byByZXZlcnQgdGhpcyEiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUhISIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYWRkX3N1cHBvcnRfdXJsKCksIHsKICAgICAgICAgICAgICBjb21wYW55X2lkOiBfdGhpczQuY29tcGFueWlkLAogICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXM0LmNvbXBhbnluYW1lLAogICAgICAgICAgICAgIGVtYWlsOiBfdGhpczQuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICB0b2tlbjogX3RoaXM0LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiBfdGhpczQuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICBpc0RlbGV0ZTogIlRydWUiLAogICAgICAgICAgICAgIGNvbnRhY3RzOiBfdGhpczQuY2hlY2tlZF9saXN0CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzNC4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJDT05UQUNUUyBERUxFVEVEIikgewogICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIkNvbnRhY3QgRGVsZXRlZCBTdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHN1cHBvcnRfbW9kYWw6IGZ1bmN0aW9uIHN1cHBvcnRfbW9kYWwoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmNhbGxfaGlzdG9yeV9uYW1lID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uTmFtZTsKICAgICAgdGhpcy5jYWxsX2hpc3RvcnlfbGlzdCA9IFtdOwoKICAgICAgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlID09ICJTdXBlckFkbWluIiAmJiAhdGhpcy4kc2Vzc2lvbi5oYXMoIkNvbXBhbnlJZCIpKSB7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2V0X2NhbGxfbG9nX3VybCgpLCB7CiAgICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBzdXBwb3J0bnVtYmVyOiB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XS5Db250YWN0TnVtYmVyLAogICAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICAgIHN1cGVyX2FkbWluX2xvZzogdHJ1ZSwKICAgICAgICAgIHBlcl9wYWdlOiB0aGlzLnBlcl9wYWdlCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczUuY2FsbF9oaXN0b3J5X251bWJlcl9vZl9yb3dzID0gcmVzcG9uc2UuZGF0YVsxXS5udW1iZXJfb2Zfcm93czsKICAgICAgICAgIF90aGlzNS5jYWxsX2hpc3RvcnlfdG90YWxfcGFnZXMgPSBNYXRoLmNlaWwoX3RoaXM1LmNhbGxfaGlzdG9yeV9udW1iZXJfb2Zfcm93cyAvIF90aGlzNS5jYWxsX2hpc3RvcnlfcGVyX3BhZ2UpOwogICAgICAgICAgX3RoaXM1LmNhbGxlcl9oaXN0b3J5X2xpc3QgPSByZXNwb25zZS5kYXRhWzBdOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gX3RoaXM1LmNhbGxlcl9oaXN0b3J5X2xpc3QpIHsKICAgICAgICAgICAgX3RoaXM1LmNhbGxfaGlzdG9yeV9saXN0LnB1c2goX3RoaXM1LmNhbGxlcl9oaXN0b3J5X2xpc3RbaV0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmdldF9jYWxsX2xvZ191cmwoKSwgewogICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgc3VwcG9ydG51bWJlcjogdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uQ29udGFjdE51bWJlciwKICAgICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgICBwZXJfcGFnZTogdGhpcy5wZXJfcGFnZQogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM1LmNhbGxfaGlzdG9yeV9udW1iZXJfb2Zfcm93cyA9IHJlc3BvbnNlLmRhdGFbMV0ubnVtYmVyX29mX3Jvd3M7CiAgICAgICAgICBfdGhpczUuY2FsbF9oaXN0b3J5X3RvdGFsX3BhZ2VzID0gTWF0aC5jZWlsKF90aGlzNS5jYWxsX2hpc3RvcnlfbnVtYmVyX29mX3Jvd3MgLyBfdGhpczUuY2FsbF9oaXN0b3J5X3Blcl9wYWdlKTsKICAgICAgICAgIF90aGlzNS5jYWxsZXJfaGlzdG9yeV9saXN0ID0gcmVzcG9uc2UuZGF0YVswXTsKCiAgICAgICAgICBmb3IgKHZhciBpIGluIF90aGlzNS5jYWxsZXJfaGlzdG9yeV9saXN0KSB7CiAgICAgICAgICAgIF90aGlzNS5jYWxsX2hpc3RvcnlfbGlzdC5wdXNoKF90aGlzNS5jYWxsZXJfaGlzdG9yeV9saXN0W2ldKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgY2FsbF9oaXN0b3J5X2xlbmd0aCA9IF90aGlzNS5jYWxsX2hpc3RvcnlfbGlzdC5sZW5ndGg7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gY2FsbF9oaXN0b3J5X2xlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIF90aGlzNS5jYWxsX2hpc3RvcnlfbGlzdFtpXS5jYWxsZXJfbmFtZSA9IF90aGlzNS5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uTmFtZTsKCiAgICAgICAgICAgIGlmIChfdGhpczUuY2FsbF9oaXN0b3J5X2xpc3RbaV0uZHVyYXRpb24gPT0gIjAiKSB7CiAgICAgICAgICAgICAgX3RoaXM1LmNhbGxfaGlzdG9yeV9saXN0W2ldLmR1cmF0aW9uID0gIk1pc3NlZCBDYWxsIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGNhbGxfaGlzdG9yeV9sZW5ndGg7IGkrKykgewogICAgICAgICAgICBfdGhpczUuY2FsbF9oaXN0b3J5X2xpc3RbaV0uY2FsbGVyX25hbWUgPSBfdGhpczUuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdLk5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBuID0gZC5nZXRNb250aCgpOyAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVtbyIpLmlubmVySFRNTCA9IG47CgogICAgICAgIHRoaXMuY3VycmVudF9tb250aCA9IG4gKyAxOwoKICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudF9tb250aCkgewogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiI2hfamFuIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiMyNzM2NzkiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2ZlYiIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaF9tYXIiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhfYXByIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiMyNzM2NzkiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX21heSIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaF9qdW4iKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhfanVsIikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiMyNzM2NzkiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX2F1ZyIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaF9zZXAiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoX29jdCIpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjMjczNjc5IjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImhfbm92Iikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiMyNzM2NzkiOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaF9kZWMiKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIzI3MzY3OSI7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2FsbF9oaXN0b3J5X3BhZ2VfcmVxdWlyZTogZnVuY3Rpb24gY2FsbF9oaXN0b3J5X3BhZ2VfcmVxdWlyZShwYWdlX251bWJlcikgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuY2FsbGVyX2hpc3RvcnlfbGlzdCA9IFtdOwogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5nZXRfY2FsbF9sb2dfdXJsKCksIHsKICAgICAgICBjb21wYW55X25hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgIHN1cHBvcnRudW1iZXI6IHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdLkNvbnRhY3ROdW1iZXIsCiAgICAgICAgcGFnZV9ubzogcGFnZV9udW1iZXIsCiAgICAgICAgcGVyX3BhZ2U6IHRoaXMucGVyX3BhZ2UKICAgICAgfSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzNi5jYWxsZXJfaGlzdG9yeV9saXN0ID0gcmVzcG9uc2UuZGF0YVswXTsKCiAgICAgICAgZm9yICh2YXIgaSBpbiBfdGhpczYuY2FsbGVyX2hpc3RvcnlfbGlzdCkgewogICAgICAgICAgX3RoaXM2LmNhbGxfaGlzdG9yeV9saXN0LnB1c2goX3RoaXM2LmNhbGxlcl9oaXN0b3J5X2xpc3RbaV0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMudG9fbnVtYmVyID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uTmFtZTsKICAgIH0sCiAgICBzdWJtaXRfbnVtYmVyczogZnVuY3Rpb24gc3VibWl0X251bWJlcnMoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLmNvbnRhY3RfbmFtZXMgPT0gIiIgfHwgdGhpcy5jb250YWN0X251bWJlcnMgPT0gIiIgfHwgdGhpcy5jb3VudHJ5X25hbWUuY29kZSA9PSAiIikgewogICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIHRoZSBibGFuayBmaWVsZHMiKTsKICAgICAgfSBlbHNlIGlmICghdGhpcy5jaGVja19udW1iZXJfdmFsaWRpdHkoKSkgewogICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIG9yIHRyeSBhZGRpbmcgbnVtYmVyIHdpdGhvdXQgc3BhY2VzIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb250YWN0bnVtYmVycy5wdXNoKHRoaXMuY29udGFjdF9udW1iZXJzLnJlcGxhY2UoL1teMC05XS9nLCAiIikpOwogICAgICAgIHRoaXMuY291bnRyeW5hbWUucHVzaCh0aGlzLmNvdW50cnlfbmFtZSk7CiAgICAgICAgdGhpcy5jb250YWN0bmFtZXMucHVzaCh0aGlzLmNvbnRhY3RfbmFtZXMpOwoKICAgICAgICBpZiAodGhpcy5jb250YWN0X2VkaXRfbnVtYmVyID09ICJmYWxzZSIpIHsKICAgICAgICAgIHRoaXMuYmlnX3NwaW5uZXIgPSB0cnVlOwogICAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuYWRkX3N1cHBvcnRfdXJsKCksIHsKICAgICAgICAgICAgY29tcGFueV9pZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIGlzSW5zZXJ0OiAiVHJ1ZSIsCiAgICAgICAgICAgIGNvbnRhY3RzOiBbewogICAgICAgICAgICAgIE5hbWU6IHRoaXMuY29udGFjdF9uYW1lcywKICAgICAgICAgICAgICBDb250YWN0TnVtYmVyOiB0aGlzLmNvbnRhY3RfbnVtYmVycywKICAgICAgICAgICAgICBDb3VudHJ5Q29kZTogdGhpcy5jb3VudHJ5X25hbWUuY29kZQogICAgICAgICAgICB9XQogICAgICAgICAgfSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXM3LmJpZ19zcGlubmVyID0gZmFsc2U7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkNvbnRhY3RzIGFkZGVkIHN1Y2Nlc3NmdWxseSIpIHsKICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiQ29udGFjdHMgYWRkZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgICAgJCgiI2FkZF9udW1iZXJfbW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM3LiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhID09ICJJTlNFUlQgRFVQTElDQVRFIENPTlRBQ1QiKSB7CiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJQbGVhc2UgVHJ5IHdpdGggYW5vdGhlciBjb250YWN0IG51bWJlci5UaGlzIGNvbnRhY3QgbnVtYmVyIGlzIGFscmVhZHkgZXhpc3QiKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1zZyA9PSAiSW52YWxpZCBjb250YWN0IG51bWJlciIpIHsKICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIlRoZSBjb250YWN0IG51bWJlciB5b3UgcHJvdmlkZWQgaXMgaW52YWxpZC4iKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRhY3RfZWRpdF9udW1iZXIgPT0gInRydWUiKSB7CiAgICAgICAgICB0aGlzLmJpZ19zcGlubmVyID0gdHJ1ZTsKICAgICAgICAgIHRoaXMubmV3X2NvbnRhY3RfZGF0YS5Db250YWN0TnVtYmVyID0gdGhpcy5jb250YWN0X251bWJlcnM7CiAgICAgICAgICB0aGlzLm5ld19jb250YWN0X2RhdGEuQ291bnRyeUNvZGUgPSB0aGlzLmNvdW50cnlfbmFtZS5jb2RlOwogICAgICAgICAgdGhpcy5uZXdfY29udGFjdF9kYXRhLk5hbWUgPSB0aGlzLmNvbnRhY3RfbmFtZXM7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5hZGRfc3VwcG9ydF91cmwoKSwgewogICAgICAgICAgICBjb21wYW55X2lkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgY29tcGFueV9uYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICBlbWFpbDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgb2xkX2NvbnRhY3RfZGF0YTogdGhpcy5vbGRfY29udGFjdF9kYXRhLAogICAgICAgICAgICBuZXdfY29udGFjdF9kYXRhOiB0aGlzLm5ld19jb250YWN0X2RhdGEsCiAgICAgICAgICAgIGlzRWRpdDogIlRydWUiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczcuYmlnX3NwaW5uZXIgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJDb250YWN0IFVwZGF0ZWQgU3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJDb250YWN0cyB1cGRhdGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICQoIiNhZGRfbnVtYmVyX21vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIF90aGlzNy4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGVtcHR5X3ZhcmlhYmxlOiBmdW5jdGlvbiBlbXB0eV92YXJpYWJsZSgpIHsKICAgICAgdGhpcy5jb250YWN0X25hbWVzID0gIiI7CiAgICAgIHRoaXMuY29udGFjdF9udW1iZXJzID0gIiI7CiAgICAgIHRoaXMuY291bnRyeV9uYW1lLmNvZGUgPSAiIjsKICAgICAgdGhpcy5jb3VudHJ5X25hbWUubmFtZSA9ICItLVNlbGVjdCBDb3VudHJ5IE5hbWUtLSI7CiAgICB9LAogICAgcGFnaW5hdGlvbl9jbGFzczogZnVuY3Rpb24gcGFnaW5hdGlvbl9jbGFzcyhpbmRleCkgewogICAgICBpZiAoaW5kZXggPT0gdGhpcy5wYWdlX25vKSB7CiAgICAgICAgcmV0dXJuICIgYWN0aXZlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X3N1cHBvcnRfbnVtYmVyOiBmdW5jdGlvbiBlZGl0X3N1cHBvcnRfbnVtYmVyKGluZGV4KSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5jb250YWN0X25hbWVzID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uTmFtZTsKICAgICAgdGhpcy5jb250YWN0X251bWJlcnMgPSB0aGlzLnN1cHBvcnRfbnVtYmVyc19saXN0W2luZGV4XS5Db250YWN0TnVtYmVyOwogICAgICB0aGlzLmNvdW50cnlfbmFtZS5jb2RlID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF0uQ291bnRyeUNvZGU7CiAgICAgIHRoaXMub2xkX2NvbnRhY3RfZGF0YS5Db250YWN0TnVtYmVyID0gdGhpcy5jb250YWN0X251bWJlcnM7CiAgICAgIHRoaXMub2xkX2NvbnRhY3RfZGF0YS5Db3VudHJ5Q29kZSA9IHRoaXMuY291bnRyeV9uYW1lLmNvZGU7CiAgICAgIHRoaXMub2xkX2NvbnRhY3RfZGF0YS5OYW1lID0gdGhpcy5jb250YWN0X25hbWVzOwogICAgICB0aGlzLmNvbnRhY3RfZWRpdF9udW1iZXIgPSAidHJ1ZSI7IC8vaGFyc2gKCiAgICAgIHZhciBzZWxlY3RfY291bnRyeSA9IHRoaXMuY291bnRyeV9saXN0LmZpbHRlcihmdW5jdGlvbiAoY291bnRyeSkgewogICAgICAgIHJldHVybiBjb3VudHJ5LmNvZGUgPT0gX3RoaXM4LmNvdW50cnlfbmFtZS5jb2RlOwogICAgICB9KTsKICAgICAgdGhpcy5jb3VudHJ5X25hbWUubmFtZSA9IHNlbGVjdF9jb3VudHJ5WzBdLm5hbWU7CiAgICB9LAogICAgY2hlY2tfbnVtYmVyX3ZhbGlkaXR5OiBmdW5jdGlvbiBjaGVja19udW1iZXJfdmFsaWRpdHkoKSB7CiAgICAgIHZhciBwaG9uZV9udW0gPSB0aGlzLmNvbnRhY3RfbnVtYmVycy5yZXBsYWNlKC9bXjAtOV0vZywgIiIpOwoKICAgICAgaWYgKHRoaXMucGhvbmVfbnVtYmVyX3ZhbGlkaXR5LnRlc3QocGhvbmVfbnVtKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGNvbnRhY3Rfc2VsZWN0OiBmdW5jdGlvbiBjb250YWN0X3NlbGVjdChpbmRleCkgewogICAgICBpZiAoaW5kZXggPT0gImFsbCIpIHsKICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdDsKICAgICAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2hlY2tlZCkgewogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgIHZhciB2YWxfaW5kZXggPSB0aGlzLmNoZWNrZWRfbGlzdC5pbmRleE9mKHRoaXMuc3VwcG9ydF9udW1iZXJzX2xpc3RbaW5kZXhdKTsKICAgICAgICAgIHZhciB0ZW1wID0gdGhpcy5zdXBwb3J0X251bWJlcnNfbGlzdFtpbmRleF07CgogICAgICAgICAgaWYgKHZhbF9pbmRleCA9PSAtMSkgewogICAgICAgICAgICB0aGlzLmNoZWNrZWRfbGlzdC5wdXNoKHRlbXApOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT0gZmFsc2UpIHsKICAgICAgICAgIHZhciBzZWxlY3RhbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2VsZWN0YWxsIik7CgogICAgICAgICAgaWYgKHNlbGVjdGFsbC5jaGVja2VkID09IHRydWUpIHsKICAgICAgICAgICAgc2VsZWN0YWxsLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuY2hlY2tlZF9saXN0LmZpbHRlcihmdW5jdGlvbiAoc3VwcG9ydF9udW1iZXJzX2xpc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHN1cHBvcnRfbnVtYmVyc19saXN0LnN1cHBvcnRfbnVtYmVyc19saXN0ICE9PSBpbmRleDsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QgPSB0ZW1wOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},null]}