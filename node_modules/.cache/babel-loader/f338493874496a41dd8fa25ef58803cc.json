{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/Chatscreen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/Chatscreen.vue","mtime":1643027096168},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgZmluZ2VycHJpbnQgZnJvbSAiQC9wb3J0YWwvY29tcG9uZW50cy9maW5nZXJwcmludCI7CmltcG9ydCBhcGlfY2FsbHMgZnJvbSAiQC9wb3J0YWwvYXBpX2NhbGxzIjsKaW1wb3J0IHsgZ2VuZXJhdGVfdGltZSwgZnJlZXplX3BvcnRhbCB9IGZyb20gIkAvcG9ydGFsL21peGlucyI7CmltcG9ydCBTd2FsIGZyb20gInN3ZWV0YWxlcnQyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjaGF0c2NyZWVuIiwKICBtaXhpbnM6IFtnZW5lcmF0ZV90aW1lLCBmcmVlemVfcG9ydGFsXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3Blbl9tb2RhbDogZmFsc2UsCiAgICAgIGNoYXQ6IFtdLAogICAgICBpbnRlbnQ6ICIiLAogICAgICBpbnRlbnRfdmFsdWU6ICIiLAogICAgICB0b19zZW5kOiAiIiwKICAgICAgaW50ZW50X2xpc3Q6IFtdLAogICAgICBpbmRleDogbnVsbCwKICAgICAgbmV3X3F1ZXN0aW9uczogMCwKICAgICAgLy8gY2hhdF93aWRnZXQ6IHsKICAgICAgLy8gICBsb2dvOiAiIiwKICAgICAgLy8gICB0aXRsZTogIiIsCiAgICAgIC8vICAgc3R5bGU6ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6NjBweCIsCiAgICAgIC8vIH0sCiAgICAgIGNoYXRfd2lkZ2V0OiB7CiAgICAgICAgbG9nbzogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHN0eWxlOiAiIiwKICAgICAgICBib3RfdGhlbWU6ICIiLAogICAgICAgIGJ1dHRvbl90aGVtZTogIiIsCiAgICAgICAgYnV0dG9uX2FsaWdubWVudDogIiIsCiAgICAgICAgYm90X2ljb246ICIiLAogICAgICAgIGJvdF9iYWNrZ3JvdW5kX2ltYWdlOiAiIiwKICAgICAgICBidXR0b25faG9yaXpvbnRhbF9zcGFjaW5nOiAiMyIsCiAgICAgICAgYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmc6ICI1IiwKICAgICAgICBoZWFkZXJfYmFja2dyb3VuZDogIiIKICAgICAgfSwKICAgICAgdXNlcl9yb2xlOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSwKICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgY29tcGFueW5hbWU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUsCiAgICAgIGludGVudF9yZXNwb25zZTogIiIsCiAgICAgIHJlc3BvbnNlc19tYXA6IHt9LAogICAgICB3YW50X3N0YXR1czogdHJ1ZSwKICAgICAgZGlzYWJsZV9idG5fZXhwaXJlZDogZmFsc2UsCiAgICAgIGludGVudF9jb3JlX21vZGVsX2lucHJvZ3Jlc3M6IGZhbHNlCiAgICB9OwogIH0sCiAgLy8gbW91bnRlZCgpIHsKICAvLyAgIGNvbnNvbGUubG9nKCJIRUxPT09PT09PTy8qICAqLyIpCiAgLy8gICAvLyB0aGlzLmZyZWV6ZV9wb3J0YWwoKTsKICAvLyAgIC8vIC8vIGNvbnNvbGUubG9nKCJjb21wYW55aWQiLCB0aGlzLmNvbXBhbnlpZCk7CiAgLy8gICAvLyB0aGlzLnNob3cgPSBmYWxzZTsKICAvLyB9LAogIHByb3BzOiB7CiAgICBpc1RleHRUb0JvdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY3NzUHJvcHM6IGZ1bmN0aW9uIGNzc1Byb3BzKCkgewogICAgICB2YXIgYm90QXR0cmlidXRlcyA9IHsKICAgICAgICBoZWFkX2NvbG9yOiB0aGlzLmNoYXRfd2lkZ2V0LmhlYWRlcl9iYWNrZ3JvdW5kCiAgICAgIH07CgogICAgICBpZiAodGhpcy5jb21wYW55aWQgPT09ICJyZXRhaWxpZ2VuY2U4NDkyNiIpIHsKICAgICAgICBib3RBdHRyaWJ1dGVzLmhlYWRfY29sb3IgPSB0aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzZXhjaGFuZ2UpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgIi0tYm90LWhlYWQtY29sb3IiOiAiI2ZmZiIsCiAgICAgICAgICAiLS1ib3Qtc2VuZGVyLWNvbG9yIjogIiMyYjMxODQiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbi1jb2xvciI6ICIjZmRjZjM4IiwKICAgICAgICAgICItLWJvdC1saW5rLWNvbG9yIjogIiMyYjMxODQiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbi1iYWNrZ3JvdW5kIjogIiMxZGFhZTEiLAogICAgICAgICAgIi0tYm90LWJ1dHRvbnMtYWxpZ25tZW50IjogImNlbnRlciIsCiAgICAgICAgICAiLS1ib3QtYnV0dG9ucy12ZXJ0aWNhbC1zcGFjaW5nIjogIjUlIiwKICAgICAgICAgICItLWJvdC1idXR0b25zLWhvcml6b250YWwtc3BhY2luZyI6ICIzJSIKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgICItLWJvdC1oZWFkLWNvbG9yIjogYm90QXR0cmlidXRlcy5oZWFkX2NvbG9yLAogICAgICAgICItLWJvdC1zZW5kZXItY29sb3IiOiB0aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSwKICAgICAgICAiLS1ib3QtYnV0dG9uLWNvbG9yIjogdGhpcy5jaGF0X3dpZGdldC5ib3RfdGhlbWUsCiAgICAgICAgIi0tYm90LWxpbmstY29sb3IiOiB0aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSwKICAgICAgICAiLS1ib3QtYnV0dG9uLWJhY2tncm91bmQiOiB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl90aGVtZSwKICAgICAgICAiLS1ib3QtYnV0dG9ucy1hbGlnbm1lbnQiOiB0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9hbGlnbm1lbnQudmFsdWUsCiAgICAgICAgIi0tYm90LWJ1dHRvbnMtdmVydGljYWwtc3BhY2luZyI6ICIiLmNvbmNhdCh0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl92ZXJ0aWNhbF9zcGFjaW5nLCAiJSIpLAogICAgICAgICItLWJvdC1idXR0b25zLWhvcml6b250YWwtc3BhY2luZyI6ICIiLmNvbmNhdCh0aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9ob3Jpem9udGFsX3NwYWNpbmcsICIlIikKICAgICAgfTsKICAgIH0sCiAgICBib3RfaW1nX2ljb246IGZ1bmN0aW9uIGJvdF9pbWdfaWNvbigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAiYmFja2dyb3VuZC1pbWFnZSI6ICJ1cmwoIi5jb25jYXQodGhpcy5jaGF0X3dpZGdldC5ib3RfaWNvbiwgIikiKQogICAgICB9OwogICAgfSwKICAgIGNoYXRfYm90X2JhY2tncm91bmRfaW1hZ2U6IGZ1bmN0aW9uIGNoYXRfYm90X2JhY2tncm91bmRfaW1hZ2UoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgImJhY2tncm91bmQtaW1hZ2UiOiAidXJsKCIuY29uY2F0KHRoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UsICIpIikKICAgICAgfTsKICAgIH0gLy8gY3NzUHJvcHMoKSB7CiAgICAvLyAgIGlmICh0aGlzLmNvbXBhbnlpZCA9PT0gInJldGFpbGlnZW5jZTg0OTI2IikgewogICAgLy8gICAgIHJldHVybiB7CiAgICAvLyAgICAgICAiLS1ib3QtaGVhZC1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgICAgIi0tYm90LWJ1dHRvbi1jb2xvciI6ICIjOTkwMDAwZDEiLAogICAgLy8gICAgICAgIi0tYm90LWxpbmstY29sb3IiOiAiIzk5MDAwMGQxIiwKICAgIC8vICAgICB9OwogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiB7CiAgICAvLyAgICAgIi0tYm90LWhlYWQtY29sb3IiOiAiI0ZGRkZGRiIsCiAgICAvLyAgICAgIi0tYm90LXNlbmRlci1jb2xvciI6ICIjMjczNjc5IiwKICAgIC8vICAgICAiLS1ib3QtYnV0dG9uLWNvbG9yIjogIiMyNzM2NzkiLAogICAgLy8gICAgICItLWJvdC1saW5rLWNvbG9yIjogIiMyNzM2NzkiLAogICAgLy8gICB9OwogICAgLy8gfSwKCiAgfSwKICB3YXRjaDogewogICAgaW50ZW50OiBmdW5jdGlvbiBpbnRlbnQobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgIT09ICJOb19pbnRlbnQiKSB7CiAgICAgICAgdGhpcy5pbnRlbnRfcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlc19tYXBbbmV3VmFsXTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZ2V0X3VuYW5zd2VyZWRfdXJsKCksIHsKICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgIGlzRHJvcGRvd246ICJUcnVlIiwKICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMKICAgIH0sIHsKICAgICAgaGVhZGVyczogewogICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vIGZvciAodmFyIGkgaW4gcmVzcG9uc2UuZGF0YVswXSkgewogICAgICAvLyAgIHRoaXMuaW50ZW50X2xpc3QucHVzaCgKICAgICAgLy8gICAgIHJlc3BvbnNlLmRhdGFbMF1baV0ucmVwbGFjZSh0aGlzLmNvbXBhbnlpZCArICJfIiwgIiIpCiAgICAgIC8vICAgKTsKICAgICAgLy8gfQogICAgICBmb3IgKHZhciBpIGluIHJlc3BvbnNlLmRhdGFbMF0pIHsKICAgICAgICBfdGhpcy5pbnRlbnRfbGlzdC5wdXNoKHJlc3BvbnNlLmRhdGFbMF1baV0pOwogICAgICB9CgogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5sb2FkX3F1ZXN0aW9uX3Jlc3BvbnNlX3VybCgpLCB7CiAgICAgICAgcm9sZTogX3RoaXMudXNlcl9yb2xlLAogICAgICAgIGNvbXBhbnluYW1lOiBfdGhpcy5jb21wYW55bmFtZSwKICAgICAgICBlbWFpbDogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBjb21wYW55aWQ6IF90aGlzLmNvbXBhbnlpZCwKICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICB0b2tlbjogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgcGFnZV9ubzogMSwKICAgICAgICBwZXJfcGFnZTogX3RoaXMuaW50ZW50X2xpc3QubGVuZ3RoCiAgICAgIH0sIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBpbnRlbnRzTGlzdCA9IHJlcy5kYXRhLnNob3dfaW50ZW50X2ZpZWxkLmludGVudF9pbnRlbnRsaXN0OwogICAgICAgIHZhciBpbnRlbnRSZXNwb25zZXMgPSByZXMuZGF0YS5zaG93X2ludGVudF9maWVsZC5pbnRlbnRfcmVzcG9uc2VsaXN0OwoKICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG4gPSBpbnRlbnRSZXNwb25zZXMubGVuZ3RoOyBfaSA8IG47IF9pICs9IDEpIHsKICAgICAgICAgIF90aGlzLnJlc3BvbnNlc19tYXBbaW50ZW50c0xpc3RbX2ldLnJlcGxhY2UoIiIuY29uY2F0KF90aGlzLmNvbXBhbnlpZCwgIl8iKSwgIiIpXSA9IGludGVudFJlc3BvbnNlc1tfaV07CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgX3RoaXMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChCb29sZWFuKGUucmVzcG9uc2UpICYmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkpIHsKICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgfQogICAgfSk7IC8vIGlmICghdGhpcy4kc2Vzc2lvbi5oYXMoIkNoYXRCb3RJbWFnZVBhcmFtZXRlcnMiKSkgewoKICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmdldF93aWRnZXRfc2V0dGluZ3MoKSwgewogICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgdG9rZW46IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgIGlzU2hvdzogdHJ1ZQogICAgfSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQudGl0bGUgPSByZXNwb25zZS5kYXRhLldpZGdldFRpdGxlOwogICAgICBfdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gcmVzcG9uc2UuZGF0YS5JbWFnZVVybDsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lID0gcmVzcG9uc2UuZGF0YS5CdXR0b25UaGVtZTsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gcmVzcG9uc2UuZGF0YS5Cb3RUaGVtZTsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2FsaWdubWVudCA9IHJlc3BvbnNlLmRhdGEuQm90U3R5bGluZzsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPSByZXNwb25zZS5kYXRhLkJvdEltYWdlVXJsOwogICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25fdmVydGljYWxfc3BhY2luZyA9IHJlc3BvbnNlLmRhdGEuQnV0dG9uU3R5bGluZy52ZXJ0aWNhbDsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZyA9IHJlc3BvbnNlLmRhdGEuQnV0dG9uU3R5bGluZy5ob3Jpem9udGFsOwogICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfYmFja2dyb3VuZF9pbWFnZSA9IHJlc3BvbnNlLmRhdGEuQmdJbWFnZVVybDsKICAgICAgX3RoaXMuY2hhdF93aWRnZXQuaGVhZGVyX2JhY2tncm91bmQgPSByZXNwb25zZS5kYXRhLkhlYWRlclRoZW1lOwoKICAgICAgaWYgKF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9hbGlnbm1lbnQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl9hbGlnbm1lbnQgPSAiZmxleC1lbmQiOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuY2hhdF93aWRnZXQuYm90X2ljb24gPT09IHVuZGVmaW5lZCkgewogICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICB9CgogICAgICBfdGhpcy4kc2Vzc2lvbi5zZXQoIkNoYXRCb3RJbWFnZVBhcmFtZXRlcnMiLCBfdGhpcy5jaGF0X3dpZGdldCk7CgogICAgICB2YXIgc3R5bGluZ192YWx1ZSA9IHJlc3BvbnNlLmRhdGEuSGVhZGVyU3R5bGluZy52YWx1ZTsKICAgICAgdmFyIHRlbXBfc3RyaW5nID0gIiI7CgogICAgICBpZiAoc3R5bGluZ192YWx1ZSA9PT0gImxlZnQiKSB7CiAgICAgICAgdGVtcF9zdHJpbmcgPSAibWFyZ2luLWxlZnQ6IDA7bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgIH0gZWxzZSBpZiAoc3R5bGluZ192YWx1ZSA9PT0gInJpZ2h0IikgewogICAgICAgIHRlbXBfc3RyaW5nID0gIm1hcmdpbi1sZWZ0OiBhdXRvO21hcmdpbi1yaWdodDogMDsiOwogICAgICB9IGVsc2UgaWYgKHN0eWxpbmdfdmFsdWUgPT09ICJjZW50ZXIiKSB7CiAgICAgICAgdGVtcF9zdHJpbmcgPSAibWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcF9zdHJpbmcgPSAibWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgIH0KCiAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LnN0eWxlID0gIm1hcmdpbi10b3A6IDVweDtoZWlnaHQ6MzBweDt3aWR0aDphdXRvO21heC13aWR0aDoxMDAlICFpbXBvcnRhbnQ7IiArIHRlbXBfc3RyaW5nOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGUucmVzcG9uc2UpIHsKICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgIF90aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUgPT0gImdvZ3liIikgewogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOjYwcHg7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvY2Vuc2VfaW1hZ2UucG5nIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmcgPSAiNSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25faG9yaXpvbnRhbF9zcGFjaW5nID0gIjMiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UgPSAiIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmhlYWRlcl9iYWNrZ3JvdW5kID0gIiNmZmZmZmYiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lID0gIiMxZGFhZTEiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gIiMyNzM2NzkiOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X25hbWUgPT0gIk1UIENhcmUiKSB7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5sb2dvID0gIi9pbWcvcm9ib21hdGVfbG9nby5wbmciOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDo1MHB4O3dpZHRoOjk1cHg7bWFyZ2luLWxlZnQ6IGF1dG87bWFyZ2luLXJpZ2h0OiBhdXRvOyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5ib3RfaWNvbiA9ICIvaW1nL0JvdF9pbWcucG5nIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl92ZXJ0aWNhbF9zcGFjaW5nID0gIjUiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX2hvcml6b250YWxfc3BhY2luZyA9ICIzIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9iYWNrZ3JvdW5kX2ltYWdlID0gIiI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5oZWFkZXJfYmFja2dyb3VuZCA9ICIjZmZmZmZmIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJ1dHRvbl90aGVtZSA9ICIjMWRhYWUxIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF90aGVtZSA9ICIjMjczNjc5IjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQubG9nbyA9ICIvaW1nL2NlbnNlX2ltYWdlLnBuZyI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5zdHlsZSA9ICJtYXJnaW4tdG9wOiA1cHg7aGVpZ2h0OjMwcHg7d2lkdGg6NjBweDttYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87IjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmJvdF9pY29uID0gIi9pbWcvQm90X2ltZy5wbmciOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3ZlcnRpY2FsX3NwYWNpbmcgPSAiNSI7CiAgICAgICAgICBfdGhpcy5jaGF0X3dpZGdldC5idXR0b25faG9yaXpvbnRhbF9zcGFjaW5nID0gIjMiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X2JhY2tncm91bmRfaW1hZ2UgPSAiIjsKICAgICAgICAgIF90aGlzLmNoYXRfd2lkZ2V0LmhlYWRlcl9iYWNrZ3JvdW5kID0gIiNmZmZmZmYiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYnV0dG9uX3RoZW1lID0gIiMxZGFhZTEiOwogICAgICAgICAgX3RoaXMuY2hhdF93aWRnZXQuYm90X3RoZW1lID0gIiMyNzM2NzkiOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuJHNlc3Npb24uc2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIiwgX3RoaXMuY2hhdF93aWRnZXQpOwogICAgICB9CiAgICB9KTsgLy8gfSBlbHNlIHsKICAgIC8vICAgdGhpcy5jaGF0X3dpZGdldCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJDaGF0Qm90SW1hZ2VQYXJhbWV0ZXJzIik7CiAgICAvLyAgIHRoaXMuY2hhdF93aWRnZXQuc3R5bGUgPSAibWFyZ2luLXRvcDogNXB4O2hlaWdodDozMHB4O3dpZHRoOmF1dG8iOwogICAgLy8gfQoKICAgIHRoaXMuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5mcmVlemVfcG9ydGFsKCk7CiAgICB9LCAxMDAwKTsgLy8gICAvLyAvLyBjb25zb2xlLmxvZygiY29tcGFueWlkIiwgdGhpcy5jb21wYW55aWQpOwoKICAgIHRoaXMuJHJvb3QuJG9uKCJjaGF0c2NyZWVuRGlzYWJsZWQiLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gdHJ1ZSkgewogICAgICAgIF90aGlzMi5kaXNhYmxlX2J0bl9leHBpcmVkID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgIHRoaXMuJHJvb3QuJG9uKCJzZW5kX21vZGVsX3N0YXR1cyIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIGlmIChkYXRhID09IHRydWUpIHsKICAgICAgICBfdGhpczIuY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tfaW50ZW50X2NvcmVfbW9kZWxfc3RhdHVzOiBmdW5jdGlvbiBjaGVja19pbnRlbnRfY29yZV9tb2RlbF9zdGF0dXMoKSB7CiAgICAgIHZhciBtb2RlbF9zdGF0dXMgPSB0aGlzLiRzZXNzaW9uLmdldCgiTW9kZWxTdGF0dXMiKTsKCiAgICAgIGlmIChtb2RlbF9zdGF0dXMgPT0gIk5vIEZhaWx1cmUiKSB7CiAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAoQm9vbGVhbihtb2RlbF9zdGF0dXMuaW50ZW50X21vZGVsKSA9PT0gdHJ1ZSB8fCBCb29sZWFuKG1vZGVsX3N0YXR1cy5kaWFsb2d1ZV9tb2RlbCkgPT09IHRydWUpIHsKICAgICAgICBpZiAobW9kZWxfc3RhdHVzLmludGVudF9tb2RlbCA9PSAiSW5Qcm9ncmVzcyIgfHwgbW9kZWxfc3RhdHVzLmRpYWxvZ3VlX21vZGVsID09ICJJblByb2dyZXNzIikgewogICAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW50ZW50X2NvcmVfbW9kZWxfaW5wcm9ncmVzcyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2hvd19tb2RlbF9wcm9ncmVzczogZnVuY3Rpb24gc2hvd19tb2RlbF9wcm9ncmVzcyhpbmRleCkgewogICAgICBpZiAodGhpcy5pbnRlbnRfY29yZV9tb2RlbF9pbnByb2dyZXNzID09IHRydWUpIHsKICAgICAgICBpZiAoaW5kZXggPT0gJ3N0eWxlJykgewogICAgICAgICAgcmV0dXJuICJjdXJzb3I6IG5vdC1hbGxvd2VkIjsKICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09ICd0aXRsZScpIHsKICAgICAgICAgIHJldHVybiAiVHJhaW5pbmcgaW4gUHJvZ3Jlc3MgKFRoaXMgcHJvY2VzcyBtaWdodCB0YWtlIGFyb3VuZCA0NSBtaW5zIHRvIGZpbmlzaCkgIjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzaG93X3BvcHVwOiBmdW5jdGlvbiBzaG93X3BvcHVwKCkgewogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zdG9wID0gZmFsc2U7CiAgICB9LAogICAgc2VuZF9tZXNzYWdlOiBmdW5jdGlvbiBzZW5kX21lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5jaGF0LnB1c2goewogICAgICAgIHNlbmRpbmc6IHRydWUsCiAgICAgICAgc2VudDogdGhpcy50b19zZW5kLAogICAgICAgIHRpbWU6IHRoaXMuZ2VuZXJhdGVfdGltZSgpCiAgICAgIH0pOwogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoKICAgICAgaWYgKHRoaXMudG9fc2VuZCAhPSAiIiAmJiB0aGlzLnRvX3NlbmQgIT0gbnVsbCkgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmNoYXRfdXJsKCksIHsKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICBxdWVzdGlvbjogdGhpcy50b19zZW5kCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzMy51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubXNnID09ICJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKSB7CiAgICAgICAgICAgIF90aGlzMy51cGRhdGVfc2Nyb2xsYmFyKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczMuY2hhdC5wdXNoKHsKICAgICAgICAgICAgICByZWNlaXZpbmc6IHRydWUsCiAgICAgICAgICAgICAgdGltZTogX3RoaXMzLmdlbmVyYXRlX3RpbWUoKSwKICAgICAgICAgICAgICAvLyByZWNlaXZlZDogcmVzcG9uc2UuZGF0YS5Nc2cuSW50ZW50LnJlcGxhY2UoCiAgICAgICAgICAgICAgLy8gICB0aGlzLmNvbXBhbnlpZCArICJfIiwKICAgICAgICAgICAgICAvLyAgICIiCiAgICAgICAgICAgICAgLy8gKSwKICAgICAgICAgICAgICByZWNlaXZlZDogcmVzcG9uc2UuZGF0YS5Nc2cuSW50ZW50LAogICAgICAgICAgICAgIEVudGl0aWVzOiByZXNwb25zZS5kYXRhLk1zZy5FbnRpdGllcywKICAgICAgICAgICAgICBjb25maWRlbmNlOiByZXNwb25zZS5kYXRhLk1zZy5JbnRlbnRfdmFsdWUKICAgICAgICAgICAgfSk7IC8vIHRoaXMuaW50ZW50X3ZhbHVlID0gcmVzcG9uc2UuZGF0YS5Nc2cuSW50ZW50LnJlcGxhY2UoCiAgICAgICAgICAgIC8vICAgdGhpcy5jb21wYW55aWQgKyAiXyIsCiAgICAgICAgICAgIC8vICAgIiIKICAgICAgICAgICAgLy8gKTsgIAoKCiAgICAgICAgICAgIF90aGlzMy5pbnRlbnRfdmFsdWUgPSByZXNwb25zZS5kYXRhLk1zZy5JbnRlbnQ7CgogICAgICAgICAgICBfdGhpczMudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgX3RoaXMzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLnRvX3NlbmQgPSAiIjsKICAgIH0sCiAgICBjbGlja19wcm9tcHQ6IGZ1bmN0aW9uIGNsaWNrX3Byb21wdCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGRpdmNsaWNrcG9wdXAgPSBldmVudC50YXJnZXQuaW5uZXJUZXh0OwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIH0sIDUwMCk7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctaW5kaWNhdG9yIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogICAgICBpZiAodHlwZSAhPSAiY29sbGFwc2libGUiKSB7CiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMucHJvbXB0X3VybCgpLCB7CiAgICAgICAgICB1aWQ6ICJjZW5zZSIsCiAgICAgICAgICBjb21wYW55aWQ6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgY2hhdDogZXZlbnQudGFyZ2V0LmlubmVyVGV4dCwKICAgICAgICAgIGxldmVsOiBldmVudC50YXJnZXQuYXR0cmlidXRlcy52YWx1ZS5ub2RlVmFsdWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29sbGFwc2libGUgPT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczQuY3JlYXRlX2NoYXQocmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBfdGhpczQudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM0LmNoYXQucHVzaChyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICAgIF90aGlzNC5sZXZlbCA9IHJlc3BvbnNlLmRhdGEubGV2ZWw7CgogICAgICAgICAgICBfdGhpczQudXBkYXRlX3Njcm9sbGJhcigpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImNvbGxhcHNpYmxlIikgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLnByb21wdF91cmwoKSwgewogICAgICAgICAgdWlkOiAiY2Vuc2UiLAogICAgICAgICAgY29tcGFueWlkOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgIGNoYXQ6ICIiCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNC5jaGF0LnB1c2gocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBpbnRlbnRfZmllbGRzOiBmdW5jdGlvbiBpbnRlbnRfZmllbGRzKGluZGV4KSB7CiAgICAgIHRoaXMuaW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5pbnRlbnQgPSB0aGlzLmNoYXRbaW5kZXhdLnJlY2VpdmVkOwoKICAgICAgaWYgKHRoaXMuY2hhdFtpbmRleF0ucmVjZWl2ZWQgPT0gIk5vX2ludGVudCIpIHsKICAgICAgICB0aGlzLmludGVudCA9ICIiOwogICAgICB9CiAgICB9LAogICAgZWRpdF9zdWJtaXQ6IGZ1bmN0aW9uIGVkaXRfc3VibWl0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAodGhpcy5pbnRlbnQgPT0gIiIgfHwgdGhpcy5pbnRlbnRfdmFsdWUgPT0gIiIpIHsKICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBFbnRlciB0aGUgdmFsdWVzIik7CiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuJHNlc3Npb24uaGFzKCJDb21wYW55SWQiKSAmJiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgICB0b2FzdHIud2FybmluZygiUGxlYXNlIHNlbGVjdCBhIGNvbXBhbnkgbmFtZSBmcm9tIHRoZSBkcm9wZG93biIpOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmVkaXRfaW50ZW50X3VybCgpLCB7CiAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZSwKICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfaWQsCiAgICAgICAgICBxdWVzdGlvbjogdGhpcy5jaGF0W3RoaXMuaW5kZXggLSAxXS5zZW50LAogICAgICAgICAgLy8gZWRpdGludGVudDogdGhpcy5jb21wYW55aWQgKyAiXyIgKyB0aGlzLmludGVudCwKICAgICAgICAgIC8vIGludGVudHZhbHVlOiB0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuaW50ZW50X3ZhbHVlLAogICAgICAgICAgZWRpdGludGVudDogdGhpcy5pbnRlbnQsCiAgICAgICAgICBpbnRlbnR2YWx1ZTogdGhpcy5pbnRlbnRfdmFsdWUsCiAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczUubmV3X3F1ZXN0aW9ucyArPSAxOwogICAgICAgICAgdmFyIGNoYXRfbmFtZSA9ICJDaGF0TWVzc2FnZSIgKyBfdGhpczUuY29tcGFueW5hbWU7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gIkludGVudCBVcGRhdGVkIikgewogICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciB2YWx1ZXMgaGF2ZSBiZWVuIHVwZGF0ZWQhIik7CgogICAgICAgICAgICBfdGhpczUuJHNlc3Npb24uc2V0KGNoYXRfbmFtZSwgX3RoaXM1Lm1ldGEpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS5jaGF0W190aGlzNS5pbmRleF0ucmVjZWl2ZWQgPSBfdGhpczUuaW50ZW50OwogICAgICAgICAgJCgiI2ludGVudG1vZGFsIikubW9kYWwoImhpZGUiKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgIF90aGlzNS4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICAkKCIjaW50ZW50bW9kYWwiKS5tb2RhbCgiaGlkZSIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYnV0dG9uX2ZpbGw6IGZ1bmN0aW9uIGJ1dHRvbl9maWxsKCkgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzdmciKS5zdHlsZS5maWxsID0gIiMyNzM2NzkiOwoKICAgICAgaWYgKHRoaXMudG9fc2VuZCA9PSAiIikgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInN2ZyIpLnN0eWxlLmZpbGwgPSAiIzhhOGE4YTYzIjsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZV9jaGF0OiBmdW5jdGlvbiBjcmVhdGVfY2hhdChtZXNzYWdlKSB7CiAgICAgIHRoaXMuY2hhdC5wdXNoKG1lc3NhZ2UpOwogICAgfSwKICAgIHVwZGF0ZV9zY3JvbGxiYXI6IGZ1bmN0aW9uIHVwZGF0ZV9zY3JvbGxiYXIodHlwZSkgewogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHlwaW5nLWluZGljYXRvciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIH0sIDEwMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hhdC1ib2R5Iikuc2Nyb2xsVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNoYXQtYm9keSIpLnNjcm9sbEhlaWdodCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGF0LWJvZHkiKS5sYXN0Q2hpbGQuc2Nyb2xsSGVpZ2h0OwogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICB0cmFpbl9pbnRlbnRfbW9kZWw6IGZ1bmN0aW9uIHRyYWluX2ludGVudF9tb2RlbCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZGlzYWJsZV9idG5fZXhwaXJlZCkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgIGlmICh0aGlzLm5ld19xdWVzdGlvbnMgPCAxKSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlZGl0IGF0bGVhc3Qgb25lIHF1ZXN0aW9uIHRvIHRyYWluIHRoZSBtb2RlbCIpOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5uZXdfcXVlc3Rpb25zID49IDEpIHsKICAgICAgICAgIFN3YWwoewogICAgICAgICAgICB0aXRsZTogIkFyZSBZb3UgU3VyZT8iLAogICAgICAgICAgICB0ZXh0OiAiWW91IHdhbnQgdG8gVHJhaW4gVGhlIE1vZGVsPyIsCiAgICAgICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogIiMzMDg1ZDYiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgQ29uZmlybSEiLAogICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50cmFpbl9pbnRlbnRfbW9kZWwoKSwgewogICAgICAgICAgICAgICAgY29tcGFueV9pZDogX3RoaXM2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9pZCwKICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogX3RoaXM2LiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgICAgICAgZW1haWw6IF90aGlzNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgdG9rZW46IF90aGlzNi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIGVwb2NoczogMTAwLAogICAgICAgICAgICAgICAgdXBkYXRlX21vZGVsOiB0cnVlCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzNi4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSA0MDQ2KSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKHJlc3BvbnNlLmRhdGEuTVNHKTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LndhbnRfc3RhdHVzID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi4kcm9vdC4kZW1pdCgid2FudF9tb2RlbF9zdGF0dXMiLCBfdGhpczYud2FudF9zdGF0dXMpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM2LmNoZWNrX2ludGVudF9jb3JlX21vZGVsX3N0YXR1cygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1TR19DT0RFID09PSAxMDM0KSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihyZXNwb25zZS5kYXRhLk1TRyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgICAgICAgICAgICBfdGhpczYuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNob3dfc3Vic2NyaXB0aW9uX2V4cGlyZWRfc3dhbCgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},null]}