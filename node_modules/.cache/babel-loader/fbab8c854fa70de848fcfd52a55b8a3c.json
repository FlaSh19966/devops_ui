{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/conference/components/VideoCallPageLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/conference/components/VideoCallPageLayout.vue","mtime":1643027096124},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAnYWRhcHRlcic7CmltcG9ydCBDdXN0b21Gb290ZXIgZnJvbSAnLi9DdXN0b21Gb290ZXIudnVlJzsKaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAncGhvZW5peC1zb2NrZXQnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvY2FsdmlkZW9TdHJlYW06IG51bGwsCiAgICAgIHZpZGVvU2VuZGVyOiBudWxsLAogICAgICBhdWRpb1NlbmRlcjogbnVsbCwKICAgICAgbG9jYWxzY3JlZW5TdHJlYW06IG51bGwsCiAgICAgIHZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdDogW3sKICAgICAgICB2aWRlbzogMSwKICAgICAgICBmZWVkSWQ6IDAKICAgICAgfV0sCiAgICAgIGxvY2FsQ29ubmVjdGlvbjogbnVsbCwKICAgICAgcmVtb3RlQ29ubmVjdGlvbjoge30sCiAgICAgIGphbnVzQ29ubmVjdGlvbjogbnVsbCwKICAgICAgcGhvZW5peENvbm5lY3Rpb246IG51bGwsCiAgICAgIHNlc3Npb25DaGFubmVsOiBudWxsLAogICAgICByb29tQ2hhbm5lbDogbnVsbCwKICAgICAgc2Vzc2lvbklkOiBudWxsLAogICAgICBoYW5kbGVJZDogbnVsbCwKICAgICAgcm9vbUlkOiBudWxsLAogICAgICByb29tX2pvaW5lZDogZmFsc2UsCiAgICAgIGZlZWRJZDogbnVsbCwKICAgICAgQ09ORklHOiB7CiAgICAgICAgYXVkaW86IHRydWUsCiAgICAgICAgdmlkZW86IHRydWUsCiAgICAgICAgaWNlU2VydmVyczogW3sKICAgICAgICAgIHVybHM6IHByb2Nlc3MuZW52LlZVRV9BUFBfVFVSTl9TRVJWRVJfRU5EX1BPSU5ULAogICAgICAgICAgdXNlcm5hbWU6ICd1c2VybmFtZTEnLAogICAgICAgICAgY3JlZGVudGlhbDogJ3Bhc3N3b3JkMScKICAgICAgICB9XQogICAgICB9LAogICAgICBwcm9jZXNzX2lkOiBudWxsLAogICAgICBzZXNzaW9uX3Byb2Nlc3NfaWQ6IG51bGwsCiAgICAgIHJvb21fY3JlYXRvcjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDdXN0b21Gb290ZXI6IEN1c3RvbUZvb3RlcgogIH0sCgogIC8qIGVzbGludC1kaXNhYmxlKi8KICBtZXRob2RzOiB7CiAgICBoYW5ndXBBY3Rpb246IGZ1bmN0aW9uIGhhbmd1cEFjdGlvbigpIHsKICAgICAgLy8gdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvdW5wdWJsaXNoLWZlZWQnLCB7CiAgICAgIC8vICAgdW5wdWJsaXNoX2ZlZWQ6IHRydWUsCiAgICAgIC8vICAgcGlkOiB0aGlzLnByb2Nlc3NfaWQKICAgICAgLy8gfSkKICAgICAgdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvbGVhdmUtZmVlZCcsIHsKICAgICAgICBsZWF2ZV9mZWVkOiB0cnVlLAogICAgICAgIHBpZDogdGhpcy5wcm9jZXNzX2lkCiAgICAgIH0pOwogICAgfSwKICAgIGludml0ZV91c2VyOiBmdW5jdGlvbiBpbnZpdGVfdXNlcigpIHsKICAgICAgd2luZG93LmxvY2FsQ29ubmVjdGlvbkRhdGEgPSB7CiAgICAgICAgbG9jYWxDb25uZWN0aW9uOiB0aGlzLmxvY2FsQ29ubmVjdGlvbiwKICAgICAgICB2aWRlb1NlbmRlcjogdGhpcy52aWRlb1NlbmRlciwKICAgICAgICBhdWRpb1NlbmRlcjogdGhpcy5hdWRpb1NlbmRlciwKICAgICAgICBzY3JlZW5TdHJlYW06IHRoaXMubG9jYWxzY3JlZW5TdHJlYW0KICAgICAgfTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdJbnZpdGF0aW9uJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHJvb21JZDogdGhpcy5yb29tSWQsCiAgICAgICAgICBmZWVkSWQ6IHRoaXMuZmVlZElkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzbGlkZUNvbG9yQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNvbG9yQ2hhbmdlKCkgewogICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlb2NhbGxzbGlkZXInKS52YWx1ZTsKICAgICAgdmFyIGNvbG9yID0gImxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiKDM5LCA2MCwgMTI1KSAiLmNvbmNhdCh4LCAiJSwgcmdiKDQxLCAzOCwgMzgpICIpLmNvbmNhdCh4LCAiJSkiKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvY2FsbHNsaWRlcicpLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjsKICAgIH0sCiAgICB2aWRlb19kcmFnX3N0YXJ0ZWQ6IGZ1bmN0aW9uIHZpZGVvX2RyYWdfc3RhcnRlZCgpIHt9LAogICAgc2hhcmVfdmlkZW86IGZ1bmN0aW9uIHNoYXJlX3ZpZGVvKCkgewogICAgICB2YXIgY2FtVmlkZW9UcmFjayA9IHRoaXMubG9jYWx2aWRlb1N0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdOwogICAgICBjYW1WaWRlb1RyYWNrLmVuYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLnZpZGVvU2VuZGVyLnJlcGxhY2VUcmFjayhjYW1WaWRlb1RyYWNrKTsKICAgIH0sCiAgICBzaGFyZV9zY3JlZW46IGZ1bmN0aW9uIHNoYXJlX3NjcmVlbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkaXNwbGF5TWVkaWFPcHRpb25zID0gewogICAgICAgIHZpZGVvOiB7CiAgICAgICAgICBjdXJzb3I6ICJhbHdheXMiCiAgICAgICAgfSwKICAgICAgICBhdWRpbzogZmFsc2UKICAgICAgfTsKICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoZGlzcGxheU1lZGlhT3B0aW9ucykudGhlbihmdW5jdGlvbiAoc3RyZWFtKSB7CiAgICAgICAgX3RoaXMubG9jYWxzY3JlZW5TdHJlYW0gPSBzdHJlYW07CgogICAgICAgIHZhciBzY3JlZW5WaWRlb1RyYWNrID0gX3RoaXMubG9jYWxzY3JlZW5TdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTsKCiAgICAgICAgc2NyZWVuVmlkZW9UcmFjay5vbmVuZGVkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGxvY2FsVmlkZW9UcmFjayA9IF90aGlzLmxvY2FsdmlkZW9TdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXTsKCiAgICAgICAgICBfdGhpcy52aWRlb1NlbmRlci5yZXBsYWNlVHJhY2sobG9jYWxWaWRlb1RyYWNrKTsKICAgICAgICB9OwoKICAgICAgICBfdGhpcy52aWRlb1NlbmRlci5yZXBsYWNlVHJhY2soc2NyZWVuVmlkZW9UcmFjayk7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZV9zZXNzaW9uOiBmdW5jdGlvbiBjcmVhdGVfc2Vzc2lvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25mZXJlbmNlX2h0dHAucG9zdCgnL2NlbnNlLXN0cmVhbWluZy9jcmVhdGUtc2Vzc2lvbicsIHsKICAgICAgICBjcmVhdGVfbmV3X3Nlc3Npb246IHRydWUsCiAgICAgICAgY3JlYXRlX3Jvb206IHRoaXMucm9vbUlkID09PSBudWxsID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgIGpvaW5fYXNfcHVibGlzaGVyOiB0cnVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiT2siKSB7CiAgICAgICAgICBfdGhpczIuc2Vzc2lvbklkID0gZGF0YS5tZXNzYWdlLnNlc3Npb25faWQ7CiAgICAgICAgICBfdGhpczIuaGFuZGxlSWQgPSBkYXRhLm1lc3NhZ2UucGx1Z2luX2lkOwogICAgICAgICAgX3RoaXMyLnByb2Nlc3NfaWQgPSBkYXRhLm1lc3NhZ2UucGlkOwogICAgICAgICAgX3RoaXMyLnNlc3Npb25fcHJvY2Vzc19pZCA9IGRhdGEubWVzc2FnZS5zaWQ7CgogICAgICAgICAgaWYgKGRhdGEubWVzc2FnZS5yb29tX2lkKSB7CiAgICAgICAgICAgIF90aGlzMi5yb29tSWQgPSBkYXRhLm1lc3NhZ2Uucm9vbV9pZDsKICAgICAgICAgICAgX3RoaXMyLnJvb21fY3JlYXRvciA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXNzaW9uSWQiLCBfdGhpczIuc2Vzc2lvbklkKTsKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaGFuZGxlSWQiLCBfdGhpczIuaGFuZGxlSWQpOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXNzaW9uX3BpZCIsIF90aGlzMi5zZXNzaW9uX3Byb2Nlc3NfaWQpOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJoYW5kbGVfcGlkIiwgX3RoaXMyLnByb2Nlc3NfaWQpOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tSWQiLCBfdGhpczIucm9vbUlkKTsKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicm9vbV9jcmVhdG9yIiwgX3RoaXMyLnJvb21fY3JlYXRvcik7CgogICAgICAgICAgX3RoaXMyLmluaXRpYWxpemVfd2Vic29ja2V0cygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmVyaWZ5X3Nlc3Npb246IGZ1bmN0aW9uIHZlcmlmeV9zZXNzaW9uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3ZlcmlmeS1zdGF0ZScsIHsKICAgICAgICB2ZXJpZnlfc2Vzc2lvbjogdHJ1ZSwKICAgICAgICBzaWQ6IHRoaXMuc2Vzc2lvbl9wcm9jZXNzX2lkLAogICAgICAgIHBpZDogdGhpcy5wcm9jZXNzX2lkLAogICAgICAgIHJvb206IHRoaXMucm9vbUlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwoKICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICJPayIpIHsKICAgICAgICAgIF90aGlzMy5pbml0aWFsaXplX3dlYnNvY2tldHMoKTsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09PSAiRXJyb3IiKSB7CiAgICAgICAgICBfdGhpczMuZmVlZElkID0gbnVsbDsKCiAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlID09PSAiSW52YWxpZCBzZXNzaW9uIikgewogICAgICAgICAgICBfdGhpczMucm9vbUlkID0gbnVsbDsKCiAgICAgICAgICAgIF90aGlzMy5jcmVhdGVfc2Vzc2lvbigpOwogICAgICAgICAgfSBlbHNlIGlmIChkYXRhLm1lc3NhZ2UgPT09ICJJbnZhbGlkIGhhbmRsZSIpIHsKICAgICAgICAgICAgX3RoaXMzLmNyZWF0ZV9oYW5kbGUoJ3B1Ymxpc2gnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXNzYWdlID09PSAiSW52YWxpZCByb29tIikgewogICAgICAgICAgICBfdGhpczMucm9vbUlkID0gZGF0YS5uZXdfcm9vbTsKICAgICAgICAgICAgX3RoaXMzLnJvb21fY3JlYXRvciA9IHRydWU7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicm9vbUlkIiwgX3RoaXMzLnJvb21JZCk7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicm9vbV9jcmVhdG9yIiwgX3RoaXMzLnJvb21fY3JlYXRvcik7CgogICAgICAgICAgICBfdGhpczMuaW5pdGlhbGl6ZV93ZWJzb2NrZXRzKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVfaGFuZGxlOiBmdW5jdGlvbiBjcmVhdGVfaGFuZGxlKHR5cGUsIGZlZWRJZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0eXBlID09PSAnc3Vic2NyaWJlJykgewogICAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2NyZWF0ZS1oYW5kbGUnLCB7CiAgICAgICAgICBjcmVhdGVfaGFuZGxlOiB0cnVlLAogICAgICAgICAgY3JlYXRlX3Jvb206IGZhbHNlLAogICAgICAgICAgcGlkOiB0aGlzLnNlc3Npb25fcHJvY2Vzc19pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CgogICAgICAgICAgX3RoaXM0LmpvaW5fYnJvYWRjYXN0KGZlZWRJZCwgZGF0YS5waWQpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdwdWJsaXNoJykgewogICAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2NyZWF0ZS1oYW5kbGUnLCB7CiAgICAgICAgICBjcmVhdGVfaGFuZGxlOiB0cnVlLAogICAgICAgICAgcGlkOiB0aGlzLnNlc3Npb25fcHJvY2Vzc19pZCwKICAgICAgICAgIGNyZWF0ZV9yb29tOiB0cnVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICAgIHZhciBkYXRhID0gX3JlZjQuZGF0YTsKICAgICAgICAgIF90aGlzNC5yb29tSWQgPSBkYXRhLnJvb207CiAgICAgICAgICBfdGhpczQucm9vbV9jcmVhdG9yID0gdHJ1ZTsKICAgICAgICAgIF90aGlzNC5wcm9jZXNzX2lkID0gZGF0YS5waWQ7CiAgICAgICAgICBfdGhpczQuaGFuZGxlSWQgPSBkYXRhLnBsdWdpbl9pZDsKICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicm9vbUlkIiwgX3RoaXM0LnJvb21JZCk7CiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImhhbmRsZV9waWQiLCBfdGhpczQucHJvY2Vzc19pZCk7CiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImhhbmRsZUlkIiwgX3RoaXM0LmhhbmRsZUlkKTsKCiAgICAgICAgICBfdGhpczQuaW5pdGlhbGl6ZV93ZWJzb2NrZXRzKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVfZmVlZDogZnVuY3Rpb24gY3JlYXRlX2ZlZWQoKSB7CiAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2NyZWF0ZS1mZWVkJywgewogICAgICAgIGNyZWF0ZV9mZWVkOiB0cnVlLAogICAgICAgIHBpZDogdGhpcy5wcm9jZXNzX2lkLAogICAgICAgIHJvb21faWQ6IHRoaXMucm9vbUlkLAogICAgICAgIHB0eXBlOiAicHVibGlzaGVyIiwKICAgICAgICBmZWVkX2lkOiBudWxsCiAgICAgIH0pOwogICAgfSwKICAgIGluaXRpYWxpemVfd2Vic29ja2V0czogZnVuY3Rpb24gaW5pdGlhbGl6ZV93ZWJzb2NrZXRzKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwgPSB0aGlzLnBob2VuaXhDb25uZWN0aW9uLmNoYW5uZWwoInNlc3Npb25faWQ6Ii5jb25jYXQodGhpcy5zZXNzaW9uSWQpKTsKICAgICAgdGhpcy5zZXNzaW9uQ2hhbm5lbC5qb2luKCk7CiAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwub24oImluaXRpYWxpemVfY29uZmVyZW5jZV9ub3ciLCBmdW5jdGlvbiAoX3JlZjUpIHsKICAgICAgICB2YXIgam9pbmVkID0gX3JlZjUuam9pbmVkOwoKICAgICAgICBpZiAoam9pbmVkKSB7CiAgICAgICAgICBfdGhpczUuc2Vzc2lvbkNoYW5uZWwub24oImZlZWRfY3JlYXRlZCIsIGZ1bmN0aW9uIChfcmVmNikgewogICAgICAgICAgICB2YXIgZmVlZF9pZCA9IF9yZWY2LmZlZWRfaWQ7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiZmVlZElkIik7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZmVlZElkIiwgZmVlZF9pZCk7CiAgICAgICAgICAgIF90aGlzNS5mZWVkSWQgPSBmZWVkX2lkOwoKICAgICAgICAgICAgX3RoaXM1LnN0YXJ0X2Jyb2FkY2FzdCgpOwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM1LnNlc3Npb25DaGFubmVsLm9uKCJzZXRfcmVtb3RlX2Rlc2NyaXB0aW9uIiwgZnVuY3Rpb24gKF9yZWY3KSB7CiAgICAgICAgICAgIHZhciBqc2VwID0gX3JlZjcuanNlcDsKCiAgICAgICAgICAgIF90aGlzNS5sb2NhbENvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihqc2VwKSk7CgogICAgICAgICAgICBfdGhpczUuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2xpc3QtcGFydGljaXBhbnRzJywgewogICAgICAgICAgICAgIGxpc3RfcGFydGljaXBhbnRzOiB0cnVlLAogICAgICAgICAgICAgIHBpZDogX3RoaXM1LnByb2Nlc3NfaWQsCiAgICAgICAgICAgICAgcm9vbV9pZDogX3RoaXM1LnJvb21JZAogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmOCkgewogICAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjguZGF0YTsKICAgICAgICAgICAgICBkYXRhLnBhcnRpY2lwYW50c19saXN0LmZvckVhY2goZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7CiAgICAgICAgICAgICAgICBpZiAocGFydGljaXBhbnQuaWQgIT09IF90aGlzNS5mZWVkSWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmFkZF92aWRlb19mcmFtZShwYXJ0aWNpcGFudC5pZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXM1LnJvb21DaGFubmVsLnB1c2goIm5ld19wdWJsaXNoZXJfam9pbmVkIiwgewogICAgICAgICAgICAgICAgZmVlZF9pZDogX3RoaXM1LmZlZWRJZCwKICAgICAgICAgICAgICAgIHNlbmRlcjogX3RoaXM1LmhhbmRsZUlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczUuc2Vzc2lvbkNoYW5uZWwub24oInVucHVibGlzaF9zdWNjZXNzZnVsIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoX3RoaXM1LnJvb21fY3JlYXRvcikgewogICAgICAgICAgICAgIF90aGlzNS4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvZGVzdHJveS1yb29tJywgewogICAgICAgICAgICAgICAgZGVzdHJveV9yb29tOiB0cnVlLAogICAgICAgICAgICAgICAgcGlkOiBfdGhpczUucHJvY2Vzc19pZCwKICAgICAgICAgICAgICAgIHJvb206IF90aGlzNS5yb29tSWQKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczUuY2xlYXJfYWxsX3ZpZGVvcygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczUuc2Vzc2lvbkNoYW5uZWwub24oImZlZWRfbGVmdF9zdWNjZXNzZnVsbHkiLCBmdW5jdGlvbiAoX3JlZjkpIHsKICAgICAgICAgICAgdmFyIGZlZWRfaWQgPSBfcmVmOS5mZWVkX2lkOwoKICAgICAgICAgICAgaWYgKF90aGlzNS5yb29tX2NyZWF0b3IpIHsKICAgICAgICAgICAgICBfdGhpczUuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2Rlc3Ryb3ktcm9vbScsIHsKICAgICAgICAgICAgICAgIGRlc3Ryb3lfcm9vbTogdHJ1ZSwKICAgICAgICAgICAgICAgIHBpZDogX3RoaXM1LnByb2Nlc3NfaWQsCiAgICAgICAgICAgICAgICByb29tOiBfdGhpczUucm9vbUlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM1LmNsZWFyX2FsbF92aWRlb3MoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM1LnNlc3Npb25DaGFubmVsLm9uKCJjbG9zZV90aGlzX2ZlZWQiLCBmdW5jdGlvbiAoX3JlZjEwKSB7CiAgICAgICAgICAgIHZhciBmZWVkX2lkID0gX3JlZjEwLmZlZWRfaWQ7CiAgICAgICAgICAgIHZhciB0ZW1wX3JlY2VpdmVyc19saXN0ID0gX3RoaXM1LnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdDsKCiAgICAgICAgICAgIGlmIChfdGhpczUucmVtb3RlQ29ubmVjdGlvbltmZWVkX2lkXSkgewogICAgICAgICAgICAgIF90aGlzNS5yZW1vdGVDb25uZWN0aW9uW2ZlZWRfaWRdLmNsb3NlKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChfdGhpczUudmlkZW9fY2FsbF9yZWNlaXZlcl9saXN0Lmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgIF90aGlzNS5jbGVhcl9hbGxfdmlkZW9zKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM1LnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdCA9IHRlbXBfcmVjZWl2ZXJzX2xpc3QuZmlsdGVyKGZ1bmN0aW9uICh2aWRlbykgewogICAgICAgICAgICAgICAgcmV0dXJuIHZpZGVvLmZlZWRJZCAhPT0gZmVlZF9pZDsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CgogICAgICAgICAgdmFyIHZtID0gX3RoaXM1OwoKICAgICAgICAgIF90aGlzNS5zZXNzaW9uQ2hhbm5lbC5vbigiZmVlZF9qb2luZWQiLCBmdW5jdGlvbiAoX3JlZjExKSB7CiAgICAgICAgICAgIHZhciBmZWVkX2lkID0gX3JlZjExLmZlZWRfaWQsCiAgICAgICAgICAgICAgICBqc2VwID0gX3JlZjExLmpzZXAsCiAgICAgICAgICAgICAgICBwaWQgPSBfcmVmMTEucGlkOwoKICAgICAgICAgICAgX3RoaXM1LnJlbW90ZUNvbm5lY3Rpb25bZmVlZF9pZF0uc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihqc2VwKSk7CgogICAgICAgICAgICBfdGhpczUucmVtb3RlQ29ubmVjdGlvbltmZWVkX2lkXS5jcmVhdGVBbnN3ZXIoKS50aGVuKGZ1bmN0aW9uIChhbnN3ZXIpIHsKICAgICAgICAgICAgICB2bS5yZW1vdGVDb25uZWN0aW9uW2ZlZWRfaWRdLnNldExvY2FsRGVzY3JpcHRpb24oYW5zd2VyKTsKICAgICAgICAgICAgICB2bS4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvc3Vic2NyaWJlLWZlZWQnLCB7CiAgICAgICAgICAgICAgICBzdWJzY3JpYmVfZmVlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIHBpZDogcGlkLAogICAgICAgICAgICAgICAgcm9vbV9pZDogdm0ucm9vbUlkLAogICAgICAgICAgICAgICAgZmVlZF9pZDogZmVlZF9pZCwKICAgICAgICAgICAgICAgIGpzZXA6IGFuc3dlcgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNS5zZXNzaW9uQ2hhbm5lbC5vbigicm9vbV9jcmVhdGVkIiwgZnVuY3Rpb24gKF9yZWYxMikgewogICAgICAgICAgICB2YXIgcm9vbV9pZCA9IF9yZWYxMi5yb29tX2lkOwogICAgICAgICAgICBfdGhpczUucm9vbUlkID0gcm9vbV9pZDsKICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tSWQiLCBfdGhpczUucm9vbUlkKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNS5yb29tQ2hhbm5lbCA9IF90aGlzNS5waG9lbml4Q29ubmVjdGlvbi5jaGFubmVsKCJyb29tX2lkOiIuY29uY2F0KF90aGlzNS5yb29tSWQpLCB7CiAgICAgICAgICAgIHNlc3Npb246IF90aGlzNS5zZXNzaW9uSWQKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzNS5yb29tQ2hhbm5lbC5qb2luKCk7CgogICAgICAgICAgX3RoaXM1LnJvb21DaGFubmVsLm9uKCJpbml0aWFsaXplX3Jvb21fbm93IiwgZnVuY3Rpb24gKF9yZWYxMykgewogICAgICAgICAgICB2YXIgam9pbmVkID0gX3JlZjEzLmpvaW5lZDsKCiAgICAgICAgICAgIGlmIChCb29sZWFuKGpvaW5lZCkgJiYgIV90aGlzNS5yb29tX2pvaW5lZCkgewogICAgICAgICAgICAgIF90aGlzNS5yb29tX2pvaW5lZCA9IHRydWU7CgogICAgICAgICAgICAgIGlmICghX3RoaXM1LmZlZWRJZCkgewogICAgICAgICAgICAgICAgX3RoaXM1LmNyZWF0ZV9mZWVkKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICghX3RoaXM1LiRyb3V0ZS5wYXJhbXMuY2xlYXJfZ2xvYmFsX3ZhcmlhYmxlcykgewogICAgICAgICAgICAgICAgICBfdGhpczUuc3RhcnRfYnJvYWRjYXN0KCdmZWVkX2FscmVhZHlfZXhpc3RzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpczUucm9vbUNoYW5uZWwub24oImFkZF90aGlzX2ZlZWQiLCBmdW5jdGlvbiAoX3JlZjE0KSB7CiAgICAgICAgICAgICAgICB2YXIgZmVlZF9pZCA9IF9yZWYxNC5mZWVkX2lkLAogICAgICAgICAgICAgICAgICAgIHNlbmRlciA9IF9yZWYxNC5zZW5kZXI7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5mZWVkSWQgJiYgZmVlZF9pZCAhPT0gX3RoaXM1LmZlZWRJZCAmJiBzZW5kZXIgIT0gX3RoaXM1LmhhbmRsZUlkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5hZGRfdmlkZW9fZnJhbWUoZmVlZF9pZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF90aGlzNS5yb29tQ2hhbm5lbC5vbigicm9vbV9kZXN0cm95ZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczUuY2xlYXJfYWxsX3ZpZGVvcygpOwoKICAgICAgICAgICAgICAgIF90aGlzNS5yb29tSWQgPSBudWxsOwogICAgICAgICAgICAgICAgX3RoaXM1LmZlZWRJZCA9IG51bGw7CgogICAgICAgICAgICAgICAgX3RoaXM1LmRpc2Nvbm5lY3Rfd2Vic29ja2V0cygpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUucm9vbV9jcmVhdG9yKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5jcmVhdGVfc2Vzc2lvbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZF92aWRlb19mcmFtZTogZnVuY3Rpb24gYWRkX3ZpZGVvX2ZyYW1lKGZlZWRJZCkgewogICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZW1vdGVWaWRlbyIuY29uY2F0KGZlZWRJZCkpKSB7CiAgICAgICAgaWYgKHRoaXMudmlkZW9fY2FsbF9yZWNlaXZlcl9saXN0Lmxlbmd0aCA9PT0gMSAmJiB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdFswXS5mZWVkSWQgPT09IDApIHsKICAgICAgICAgIHRoaXMudmlkZW9fY2FsbF9yZWNlaXZlcl9saXN0WzBdLmZlZWRJZCA9IGZlZWRJZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy52aWRlb19jYWxsX3JlY2VpdmVyX2xpc3QucHVzaCh7CiAgICAgICAgICAgIHZpZGVvOiAxLAogICAgICAgICAgICBmZWVkSWQ6IGZlZWRJZAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXRoaXMucmVtb3RlQ29ubmVjdGlvbltmZWVkSWRdKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZV9oYW5kbGUoJ3N1YnNjcmliZScsIGZlZWRJZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJfYWxsX3ZpZGVvczogZnVuY3Rpb24gY2xlYXJfYWxsX3ZpZGVvcygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgbG9jYWxfcmVjZWl2ZXJzX2xpc3QgPSB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdDsKICAgICAgbG9jYWxfcmVjZWl2ZXJzX2xpc3QuZm9yRWFjaChmdW5jdGlvbiAodmlkZW8sIGluZGV4KSB7CiAgICAgICAgaWYgKF90aGlzNi5yZW1vdGVDb25uZWN0aW9uW3ZpZGVvLmZlZWRJZF0pIHsKICAgICAgICAgIF90aGlzNi5yZW1vdGVDb25uZWN0aW9uW3ZpZGVvLmZlZWRJZF0uY2xvc2UoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdCA9IHRoaXMuJG9wdGlvbnMuZGF0YSgpLnZpZGVvX2NhbGxfcmVjZWl2ZXJfbGlzdDsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlbW90ZVZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW90ZVZpZGVvMCcpOwogICAgICAgIHJlbW90ZVZpZGVvLnBhdXNlKCk7CiAgICAgICAgcmVtb3RlVmlkZW8uc3JjT2JqZWN0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgICB0cmFjay5zdG9wKCk7CiAgICAgICAgICByZW1vdGVWaWRlby5zcmNPYmplY3QucmVtb3ZlVHJhY2sodHJhY2spOwogICAgICAgIH0pOwogICAgICAgIHJlbW90ZVZpZGVvLmxvYWQoKTsKICAgICAgfSwgNTAwKTsKICAgICAgdGhpcy5yZW1vdGVDb25uZWN0aW9uID0ge307CiAgICB9LAogICAgc3RhcnRfYnJvYWRjYXN0OiBmdW5jdGlvbiBzdGFydF9icm9hZGNhc3QobXNnKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuYXVkaW9TZW5kZXIpIHsKICAgICAgICB2YXIgY2FtQXVkaW9UcmFjayA9IHRoaXMubG9jYWx2aWRlb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdOwogICAgICAgIHRoaXMuYXVkaW9TZW5kZXIgPSB0aGlzLmxvY2FsQ29ubmVjdGlvbi5hZGRUcmFjayhjYW1BdWRpb1RyYWNrLCB0aGlzLmxvY2FsdmlkZW9TdHJlYW0pOwogICAgICAgIHZhciBjYW1WaWRlb1RyYWNrID0gdGhpcy5sb2NhbHZpZGVvU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF07CiAgICAgICAgdGhpcy52aWRlb1NlbmRlciA9IHRoaXMubG9jYWxDb25uZWN0aW9uLmFkZFRyYWNrKGNhbVZpZGVvVHJhY2ssIHRoaXMubG9jYWx2aWRlb1N0cmVhbSk7CiAgICAgICAgY2FtVmlkZW9UcmFjay5lbmFibGVkID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMubG9jYWxDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbiAob2ZmZXIpIHsKICAgICAgICB2bS5sb2NhbENvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7CgogICAgICAgIGlmIChtc2cgPT09ICdmZWVkX2FscmVhZHlfZXhpc3RzJykgewogICAgICAgICAgdm0uJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL2NvbmZpZ3VyZS1mZWVkJywgewogICAgICAgICAgICBqb2luX2ZlZWQ6IHRydWUsCiAgICAgICAgICAgIHBpZDogdm0ucHJvY2Vzc19pZCwKICAgICAgICAgICAgcm9vbV9pZDogdm0ucm9vbUlkLAogICAgICAgICAgICBqc2VwOiBvZmZlcgogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjE1KSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gX3JlZjE1LmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0uJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3B1Ymxpc2gtZmVlZCcsIHsKICAgICAgICAgICAgam9pbl9mZWVkOiB0cnVlLAogICAgICAgICAgICBwaWQ6IHZtLnByb2Nlc3NfaWQsCiAgICAgICAgICAgIHJvb21faWQ6IHZtLnJvb21JZCwKICAgICAgICAgICAganNlcDogb2ZmZXIKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYxNikgewogICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYxNi5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbl9pY2VfY2FuZGlkYXRlOiBmdW5jdGlvbiBvbl9pY2VfY2FuZGlkYXRlKGV2ZW50KSB7CiAgICAgIHRoaXMuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3RyaWNrbGUnLCB7CiAgICAgICAgcGlkOiB0aGlzLnByb2Nlc3NfaWQsCiAgICAgICAgZXZlbnQ6IGV2ZW50LmNhbmRpZGF0ZQogICAgICB9KTsKICAgIH0sCiAgICBvbl90cmFjazogZnVuY3Rpb24gb25fdHJhY2soZXZlbnQpIHsKICAgICAgdmFyIGxvY2FsVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYWxWaWRlbycpOwogICAgICBsb2NhbFZpZGVvLnNyY09iamVjdCA9IGV2ZW50LnN0cmVhbXNbMF07CiAgICB9LAogICAgam9pbl9icm9hZGNhc3Q6IGZ1bmN0aW9uIGpvaW5fYnJvYWRjYXN0KGZlZWRJZCwgcGlkKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy5yZW1vdGVDb25uZWN0aW9uW2ZlZWRJZF0gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy5DT05GSUcpOwoKICAgICAgdGhpcy5yZW1vdGVDb25uZWN0aW9uW2ZlZWRJZF0ub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBfdGhpczcuJGNvbmZlcmVuY2VfaHR0cC5wb3N0KCcvY2Vuc2Utc3RyZWFtaW5nL3RyaWNrbGUnLCB7CiAgICAgICAgICBwaWQ6IHBpZCwKICAgICAgICAgIGV2ZW50OiBldmVudC5jYW5kaWRhdGUKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHRoaXMucmVtb3RlQ29ubmVjdGlvbltmZWVkSWRdLm9udHJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgcmVtb3RlVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVtb3RlVmlkZW8iLmNvbmNhdChmZWVkSWQpKTsKICAgICAgICByZW1vdGVWaWRlby5zcmNPYmplY3QgPSBldmVudC5zdHJlYW1zWzBdOwogICAgICB9OwoKICAgICAgdGhpcy4kY29uZmVyZW5jZV9odHRwLnBvc3QoJy9jZW5zZS1zdHJlYW1pbmcvY3JlYXRlLWZlZWQnLCB7CiAgICAgICAgY3JlYXRlX2ZlZWQ6IHRydWUsCiAgICAgICAgcGlkOiBwaWQsCiAgICAgICAgcm9vbV9pZDogdGhpcy5yb29tSWQsCiAgICAgICAgcHR5cGU6ICJzdWJzY3JpYmVyIiwKICAgICAgICBmZWVkX2lkOiBmZWVkSWQKICAgICAgfSk7CiAgICB9LAogICAgZGlzcGxheV9lbmRfY2FsbF9idXR0b246IGZ1bmN0aW9uIGRpc3BsYXlfZW5kX2NhbGxfYnV0dG9uKCkgewogICAgICB2YXIgYXR0ZW5kZWVzID0gdGhpcy52aWRlb19jYWxsX3JlY2VpdmVyX2xpc3QuZmlsdGVyKGZ1bmN0aW9uICh2aWRlbykgewogICAgICAgIHJldHVybiB2aWRlby5mZWVkSWQgIT09IDA7CiAgICAgIH0pOwogICAgICByZXR1cm4gYXR0ZW5kZWVzLmxlbmd0aDsKICAgIH0sCiAgICBkaXNjb25uZWN0X3dlYnNvY2tldHM6IGZ1bmN0aW9uIGRpc2Nvbm5lY3Rfd2Vic29ja2V0cyhpc19kZXN0cm95KSB7CiAgICAgIHRoaXMuc2Vzc2lvbkNoYW5uZWwubGVhdmUoKTsKICAgICAgdGhpcy5yb29tQ2hhbm5lbC5sZWF2ZSgpOwogICAgICB0aGlzLnJvb21fam9pbmVkID0gZmFsc2U7CgogICAgICBpZiAoaXNfZGVzdHJveSkgewogICAgICAgIHRoaXMucGhvZW5peENvbm5lY3Rpb24uZGlzY29ubmVjdCgpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHZtID0gdGhpczsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHRoaXMuQ09ORklHKS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgdmFyIGxvY2FsVmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYWxWaWRlbycpOwogICAgICBsb2NhbFZpZGVvLnNyY09iamVjdCA9IHN0cmVhbS5jbG9uZSgpOwoKICAgICAgaWYgKHZtLiRyb3V0ZS5wYXJhbXMuY2xlYXJfZ2xvYmFsX3ZhcmlhYmxlcykgewogICAgICAgIHZtLmxvY2FsQ29ubmVjdGlvbiA9IHdpbmRvdy5sb2NhbENvbm5lY3Rpb25EYXRhLmxvY2FsQ29ubmVjdGlvbjsKICAgICAgICB2bS52aWRlb1NlbmRlciA9IHdpbmRvdy5sb2NhbENvbm5lY3Rpb25EYXRhLnZpZGVvU2VuZGVyOwogICAgICAgIHZtLmF1ZGlvU2VuZGVyID0gd2luZG93LmxvY2FsQ29ubmVjdGlvbkRhdGEuYXVkaW9TZW5kZXI7CiAgICAgICAgdm0ubG9jYWxzY3JlZW5TdHJlYW0gPSB3aW5kb3cubG9jYWxDb25uZWN0aW9uRGF0YS5zY3JlZW5TdHJlYW07CiAgICAgICAgd2luZG93LmxvY2FsQ29ubmVjdGlvbkRhdGEgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmxvY2FsQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih2bS5DT05GSUcpOwogICAgICB9CgogICAgICB2bS5sb2NhbENvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGUgPSB2bS5vbl9pY2VfY2FuZGlkYXRlOwogICAgICB2bS5sb2NhbENvbm5lY3Rpb24ub250cmFjayA9IHZtLm9uX3RyYWNrOwogICAgICB2bS5sb2NhbHZpZGVvU3RyZWFtID0gc3RyZWFtOwoKICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2Vzc2lvbl9waWQiKSAmJiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImhhbmRsZV9waWQiKSkgewogICAgICAgIHZtLnNlc3Npb25fcHJvY2Vzc19pZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2Vzc2lvbl9waWQiKTsKICAgICAgICB2bS5wcm9jZXNzX2lkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJoYW5kbGVfcGlkIik7CiAgICAgICAgdm0uc2Vzc2lvbklkID0gTnVtYmVyKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2Vzc2lvbklkIikpOwogICAgICAgIHZtLnJvb21JZCA9IE51bWJlcih3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInJvb21JZCIpKTsKICAgICAgICB2bS5oYW5kbGVJZCA9IE51bWJlcih3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImhhbmRsZUlkIikpOwogICAgICAgIHZtLmZlZWRJZCA9IE51bWJlcih3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oImZlZWRJZCIpKTsKICAgICAgICB2bS5yb29tX2NyZWF0b3IgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInJvb21fY3JlYXRvciIpID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZTsKICAgICAgICB2bS52ZXJpZnlfc2Vzc2lvbigpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmNyZWF0ZV9zZXNzaW9uKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMucGhvZW5peENvbm5lY3Rpb24gPSBuZXcgU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfVklERU9fQ09ORkVSRU5DSU5HX1dFQlNPQ0tFVF9FTkRQT0lOVCwgewogICAgICBwYXJhbXM6IHsKICAgICAgICB2aWRlb19zZXNzaW9uOiB0cnVlCiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5waG9lbml4Q29ubmVjdGlvbi5jb25uZWN0KCk7CgogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnJvb21JZCkgewogICAgICB0aGlzLnJvb21JZCA9IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5yb29tSWQpOwogICAgICB0aGlzLnJvb21fY3JlYXRvciA9IGZhbHNlOwogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInJvb21JZCIsIHRoaXMucm9vbUlkKTsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJyb29tX2NyZWF0b3IiLCBmYWxzZSk7CiAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5yb29tSWQpIHsKICAgICAgdGhpcy5yb29tSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucm9vbUlkOwogICAgICB0aGlzLmZlZWRJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5mZWVkSWQ7CiAgICB9CgogICAgdmFyIHZtID0gdGhpczsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmRpc2Nvbm5lY3Rfd2Vic29ja2V0cyh0cnVlKTsKICB9Cn07"},null]}