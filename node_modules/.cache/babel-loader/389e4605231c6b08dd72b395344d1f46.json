{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/DefineEndpoints.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/Data Inputs/DefineEndpoints.vue","mtime":1643027096168},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSAidGltZXJzIjsKaW1wb3J0IGFwaV9jYWxscyBmcm9tICJAL3BvcnRhbC9hcGlfY2FsbHMiOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAidnVlLW11bHRpc2VsZWN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb25maWctYXBpIiwKICBjb21wb25lbnRzOiB7CiAgICBNdWx0aXNlbGVjdDogTXVsdGlzZWxlY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93X29yX2Jsb2NrOiBmYWxzZSwKICAgICAgaW50ZW50bGlzdDogW10sCiAgICAgIHF1ZXN0aW9uOiAiIiwKICAgICAgdXJsOiAiIiwKICAgICAgbmFtZTogbnVsbCwKICAgICAgYXBpX2xpc3Q6IFtdLAogICAgICBjb21wYW55bmFtZTogbnVsbCwKICAgICAgY29tcGFueWlkOiBudWxsLAogICAgICBpbmRleDogbnVsbCwKICAgICAgdG90YWxfcGFnZXM6ICIiLAogICAgICBzaG93X2pzb25fcmVxdWVzdF9kYXRhOiAiIiwKICAgICAgc2hvd19qc29uX3Jlc3BvbnNlX2RhdGE6ICIiLAogICAgICBzdWNjZXNzZnVsX21lc3NhZ2U6ICIiLAogICAgICBqc29uX3JlcXVlc3RfZGF0YTogW10sCiAgICAgIGpzb25fcmVzcG9uc2VfZGF0YTogW10sCiAgICAgIHR5cGU6IG51bGwsCiAgICAgIHRhc2tfZnJvbTogIiIsCiAgICAgIGVudGl0eV9saXN0OiBbXSwKICAgICAgcG9zdF9tZXRob2RfcmVxdWVzdF9saXN0OiBbXSwKICAgICAgcG9zdF9tZXRob2RfcmVxdWVzdF92YWx1ZTogIiIsCiAgICAgIGFwaV9tZXRob2Q6IG51bGwsCiAgICAgIHJlc3BvbnNlX2tleV9lZGl0X21lc3NhZ2U6ICIiLAogICAgICBlbmR1c2VyX21zZ190eXBlOiBudWxsLAogICAgICB1bnN1Y2Nlc3NmdWxfbWVzc2FnZTogbnVsbCwKICAgICAgcmVxdWVzdF9qc29uX2VkaXRhYmxlOiBudWxsLAogICAgICByZXNwb25zZV9qc29uX2VkaXRhYmxlOiBudWxsLAogICAgICBlbmRfdXNlcl9tZXNzYWdlOiBudWxsLAogICAgICBlZGl0YWJsZV92YWx1ZXM6ICIiLAogICAgICBjaGVja2VkX2xpc3Q6IFtdLAogICAgICBpc0VkaXQ6IGZhbHNlLAogICAgICBpbnRlbnRzOiAiIiwKICAgICAgcGFnZV9ubzogMSwKICAgICAgcGVyX3BhZ2U6IDEwLAogICAgICBzcGlubmVyT246IGZhbHNlLAogICAgICB1c2VyX3JvbGU6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5yb2xlLAogICAgICByZXF1ZXN0X2pzb25fY2FzZV8xOiAie1xuICAgICAgICAgIFwiY29tcGFueWlkXCI6IFwiPENvbXBhbnlfSUQ+XCIsXG4gICAgICAgICAgXCJlbWFpbFwiOiBcIjxFbWFpbD5cIixcbiAgICAgICAgICBcInJvbGVcIjogXCI8Um9sZT5cIixcbiAgICAgICAgICBcInN1YmplY3RcIjogXCIgXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIiBcIlxufSIsCiAgICAgIGlucHV0X2Zyb21fdXNlcl9jYXNlXzE6ICJzdWJqZWN0O2Rlc2NyaXB0aW9uIiwKICAgICAgcmVxdWVzdF9qc29uX2Nhc2VfMjogIntcblx0XCJ1c2VyXCI6IHtcblx0XHRcImNvbXBhbnlpZFwiOiBcIjxDb21wYW55X0lEPlwiLFxuICAgIFwiZW1haWxcIjogXCI8RW1haWw+XCIsXG4gICAgXCJyb2xlXCI6IFwiPFJvbGU+XCIsXG5cdFx0XCJpbmZvXCI6IHtcblx0XHRcdFwibmlja25hbWVcIjogXCJcIlxuXHRcdH1cblx0fSxcblx0XCJzZWFyY2hwYXJhbWV0ZXJcIjoge1xuXHRcdFwic3RhdHVzXCI6IFwiXCIsXG5cdFx0XCJvcmRlcmJ5XCI6IFwiXCIsXG5cdFx0XCJmcm9tZGF0ZVwiOiBcIjAxLzAxLzIwMThcIixcblx0XHRcImNvdW50XCI6IDEwLFxuXHRcdFwic2VhcmNodGV4dFwiOiBcIlwiLFxuXHRcdFwidHlwZW9mdmlzaXRcIjogXCJBTExcIixcblx0XHRcInNvcnRvcmRlclwiOiBcImFwcG9pbnRtZW50XCIsXG5cdFx0XCJzdGFydGluZGV4XCI6IFwiMVwiLFxuXHRcdFwiZW5kaW5kZXhcIjogXCIxMFwiLFxuXHRcdFwidG9kYXRlXCI6IFwiMDgvMDYvMjAxOFwiXG5cdH1cblxufSIsCiAgICAgIGlucHV0X2Zyb21fdXNlcl9jYXNlXzI6ICJ1c2VyLGluZm8sbmlja25hbWU7c2VhcmNocGFyYW1ldGVyLGZyb21kYXRlO3NlYXJjaHBhcmFtZXRlcix0b2RhdGUiLAogICAgICByZXF1ZXN0X2pzb25fY2FzZV8zOiAieyBcbiAgICAgICAgICBcImNvbXBhbnlpZFwiOlwic2Vzc2lvbi5nZXQoJ2NvbXBhbnlpZCcpXCIsXG4gICAgICAgICAgXCJlbWFpbFwiOlwic2Vzc2lvbi5nZXQoJ2VtYWlsJylcIixcbiAgICAgICAgICBcInJvbGVcIjpcInNlc3Npb24uZ2V0KCdyb2xlJylcIiBcbn0iLAogICAgICByZXNwb25zZV9qc29uX2Nhc2VfMTogIntcbiAgJ21lc3NhZ2UnOidZb3VyIGFwcG9pbnRtZW50IGhhcyBiZWVuIHNjaGVkdWxlZCcsXG4gICd1c2VybmFtZSc6J0NlbnNlJyxcbiAgJ2VtYWlsJzondXNlckBjZW5zZS5haSdcbn0iLAogICAgICByZXNwb25zZV9qc29uX2Nhc2VfMTE6ICJ7XG4gICdtZXNzYWdlJzonQVBJIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseScsXG4gICdjb3VudCc6JzgnXG4gICd1c2VybmFtZSc6J0NlbnNlJyxcbiAgJ2VtYWlsJzondXNlckBjZW5zZS5haSdcbn0iLAogICAgICBjdXJyZW50X3N0ZXA6IDEsCiAgICAgIHRvdGFsX3N0ZXBzOiAyLAogICAgICAvLyB0YXNrX25hbWU6ICIiLAogICAgICB0YXNrX2lucHV0X3ZhbHVlczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAoIXRoaXMuJHNlc3Npb24uaGFzKCJDb21wYW55SWQiKSAmJiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikucm9sZSA9PSAiU3VwZXJBZG1pbiIpIHsKICAgICAgdG9hc3RyLndhcm5pbmcoIlBsZWFzZSBzZWxlY3QgYSBjb21wYW55IG5hbWUgZnJvbSB0aGUgZHJvcGRvd24iKTsKICAgIH0gZWxzZSBpZiAodGhpcy51c2VyX3JvbGUgPT0gIlN1cGVyQWRtaW4iKSB7CiAgICAgIHRoaXMuY29tcGFueWlkID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlJZCIpOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIkNvbXBhbnlOYW1lIik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmNvbXBhbnlpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkOwogICAgICB0aGlzLmNvbXBhbnluYW1lID0gdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmNvbXBhbnlfbmFtZTsKICAgIH0KCiAgICBheGlvcy5nZXQoYXBpX2NhbGxzLmdldF9uZXJfdGFncygpLCB7CiAgICAgIHBhcmFtczogewogICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICAgIH0sCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5lbnRpdHlfbGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIF90aGlzLnBvc3RfbWV0aG9kX3JlcXVlc3RfbGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgfQogICAgfSk7CiAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5nZXRfbGlzdF9saW5rKCksIHsKICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zCiAgICB9LCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICB9CiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5hcGlfbGlzdF91cGRhdGUocmVzcG9uc2UuZGF0YSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICBfdGhpcy4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgfQogICAgfSk7CiAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5zaG93X2ludGVudHNfdXJsKCksIHsKICAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24sCiAgICAgIHNob3dpbnRlbnQ6ICJUcnVlIgogICAgfSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0aGlzLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgZm9yICh2YXIgaSBpbiByZXNwb25zZS5kYXRhKSB7CiAgICAgICAgX3RoaXMuaW50ZW50bGlzdC5wdXNoKHJlc3BvbnNlLmRhdGFbaV0ucmVwbGFjZShfdGhpcy5jb21wYW55aWQgKyAiXyIsICIiKSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDEwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0NDAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQwOSkgewogICAgICAgIF90aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAkKCdbZGF0YS10b29sdGlwPSJ0b29sdGlwIl0nKS50b29sdGlwKCk7CiAgICB2YXIgdm0gPSB0aGlzOwogICAgJCgiI3NlbGVjdGFsbCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCQodGhpcykuaXMoIjpjaGVja2VkIikpIHsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jaGVja2VkX2xpc3QgPSBbXTsKICAgICAgICAkKCJpbnB1dDpjaGVja2JveCIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgIH0KICAgIH0pOwogICAgdmFyIHZtID0gdGhpczsKICAgICQoIiNjb25maWdhcGltb2RhbDQiKS5vbigic2hvd24uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjY29uZmlnYXBpbW9kYWwiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjY29uZmlnYXBpbW9kYWw0Iikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKICAgICQoIiNjb25maWdhcGltb2RhbDIiKS5vbigic2hvd24uYnMubW9kYWwiLCBmdW5jdGlvbiAoZSkgewogICAgICAkKCIjY29uZmlnYXBpbW9kYWwiKS5jc3MoIm9wYWNpdHkiLCAiLTAuNSIpOwogICAgfSk7CiAgICAkKCIjY29uZmlnYXBpbW9kYWwyIikub24oImhpZGRlbi5icy5tb2RhbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLmNzcygib3BhY2l0eSIsICIxIik7CiAgICB9KTsKICAgICQoIiNjb25maWdhcGltb2RhbF9qc29uX2VkaXRhYmxlIikub24oInNob3duLmJzLm1vZGFsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgJCgiI2NvbmZpZ2FwaW1vZGFsIikuY3NzKCJvcGFjaXR5IiwgIi0wLjUiKTsKICAgIH0pOwogICAgJCgiI2NvbmZpZ2FwaW1vZGFsX2pzb25fZWRpdGFibGUiKS5vbigiaGlkZGVuLmJzLm1vZGFsIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgJCgiI2NvbmZpZ2FwaW1vZGFsIikuY3NzKCJvcGFjaXR5IiwgIjEiKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlX3RvdGFsX3N0ZXBzOiBmdW5jdGlvbiBjaGFuZ2VfdG90YWxfc3RlcHMoc3RlcF92YWx1ZSkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09ICJUcnVlIikgewogICAgICAgIHRoaXMudG90YWxfc3RlcHMgPSAzOwogICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PSAiRmFsc2UiKSB7CiAgICAgICAgdGhpcy50b3RhbF9zdGVwcyA9IDI7CiAgICAgIH0gZWxzZSBpZiAoc3RlcF92YWx1ZSA9PSAzICYmIHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJGYWxzZSIpIHsKICAgICAgICB0aGlzLmN1cnJlbnRfc3RlcCA9IDE7CiAgICAgIH0gZWxzZSBpZiAoc3RlcF92YWx1ZSA+IDEgJiYgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIlRydWUiKSB7CiAgICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgLT0gMTsKICAgICAgfQogICAgfSwKICAgIHJlcV9qc29uOiBmdW5jdGlvbiByZXFfanNvbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBKU09OLnBhcnNlKHRoaXMuc2hvd19qc29uX3JlcXVlc3RfZGF0YSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHRyYWluX2ludGVudF9tb2RlbDogZnVuY3Rpb24gdHJhaW5faW50ZW50X21vZGVsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIFN3YWwoewogICAgICAgIHRpdGxlOiAiQXJlIFlvdSBTdXJlPyIsCiAgICAgICAgdGV4dDogIllvdSB3YW50IHRvIFRyYWluIFRoZSBNb2RlbD8iLAogICAgICAgIHR5cGU6ICJxdWVzdGlvbiIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBDb25maXJtISIsCiAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LnZhbHVlKSB7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy50cmFpbl9jb252ZXJzYXRpb25fbW9kZWxzKCksIHsKICAgICAgICAgICAgZW1haWw6IF90aGlzMi4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMyLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiBfdGhpczIuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogX3RoaXMyLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuc3Vic2NyaXB0aW9uLAogICAgICAgICAgICBjb21wYW55X2RldGFpbHM6IHsKICAgICAgICAgICAgICBjb21wYW55X25hbWU6IF90aGlzMi5jb21wYW55bmFtZSwKICAgICAgICAgICAgICBjb21wYW55X2lkOiBfdGhpczIuY29tcGFueWlkCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoX3RoaXMyLiRzZXNzaW9uLmdldCgiYXQiKSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuTVNHX0NPREUgPT09IDQwNDYpIHsKICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhyZXNwb25zZS5kYXRhLk1TRyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5NU0dfQ09ERSA9PT0gMTAzNCkgewogICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihyZXNwb25zZS5kYXRhLk1TRyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9hcGk6IGZ1bmN0aW9uIGRlbGV0ZV9hcGkoaW50ZW50bGlzdCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgdGl0bGU6ICJBcmUgeW91IHN1cmU/IiwKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogIiNkMzMiLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBkZWxldGUhISIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgX3RoaXMzLnNwaW5uZXJPbiA9IHRydWU7CiAgICAgICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5kZWxldGVfYXBpX3VybCgpLCB7CiAgICAgICAgICAgIGNvbXBhbnlpZDogX3RoaXMzLmNvbXBhbnlpZCwKICAgICAgICAgICAgY29tcGFueW5hbWU6IF90aGlzMy5jb21wYW55bmFtZSwKICAgICAgICAgICAgZW1haWw6IF90aGlzMy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmVtYWlsLAogICAgICAgICAgICBsaWNlbnNlX2tleTogX3RoaXMzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgIHRva2VuOiBfdGhpczMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICAgIGludGVudF9saXN0OiBpbnRlbnRsaXN0CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KF90aGlzMy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzMy5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09ICJRdWVyeSBFeGVjdXRlZCBTdWNjZXNzZnVsbHkiKSB7CiAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoIkFQSXMgaGF2ZSBiZWVuIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Iik7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICBfdGhpczMuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlX2luZGl2aWR1YWw6IGZ1bmN0aW9uIGRlbGV0ZV9pbmRpdmlkdWFsKGluZGV4KSB7CiAgICAgIHZhciBpbnRlbnRsaXN0ID0gW107CiAgICAgIGludGVudGxpc3QucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuYXBpX2xpc3RbaW5kZXhdLmludGVudCk7CiAgICAgIHRoaXMuZGVsZXRlX2FwaShpbnRlbnRsaXN0KTsKICAgIH0sCiAgICBkZWxldGVfc2VsZWN0ZWQ6IGZ1bmN0aW9uIGRlbGV0ZV9zZWxlY3RlZCgpIHsKICAgICAgdmFyIGludGVudGxpc3QgPSBbXTsKCiAgICAgIGlmICh0aGlzLmNoZWNrZWRfbGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICB0aXRsZTogIk5vIGVuZHBvaW50IHNlbGVjdGVkISIsCiAgICAgICAgICB0ZXh0OiAiIiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICB0aW1lcjogMjAwMAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5jaGVja2VkX2xpc3QpIHsKICAgICAgICAgIGludGVudGxpc3QucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuY2hlY2tlZF9saXN0W2ldLmludGVudCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRlbGV0ZV9hcGkoaW50ZW50bGlzdCk7CiAgICAgIH0KICAgIH0sCiAgICBlZGl0X2FwaTogZnVuY3Rpb24gZWRpdF9hcGkoaW5kZXgpIHsKICAgICAgdGhpcy5pc0VkaXQgPSB0cnVlOwogICAgICB0aGlzLnF1ZXN0aW9uID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucXVlc3Rpb247CiAgICAgIHRoaXMuaW50ZW50cyA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLmludGVudDsKICAgICAgdGhpcy5hcGlfbWV0aG9kID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ubWV0aG9kOwogICAgICB0aGlzLmVkaXRhYmxlX3ZhbHVlcyA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLmVkaXRhYmxlX3ZhbHVlczsKICAgICAgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5lZGl0YWJsZTsKCiAgICAgIGlmICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIpIHsKICAgICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMzsKICAgICAgfQoKICAgICAgdGhpcy51cmwgPSB0aGlzLmFwaV9saXN0W2luZGV4XS51cmw7CiAgICAgIHRoaXMuc2hvd19qc29uX3JlcXVlc3RfZGF0YSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnJlcV9qc29uOwogICAgICB0aGlzLnNob3dfanNvbl9yZXNwb25zZV9kYXRhID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucmVzcF9qc29uOwogICAgICB0aGlzLmVuZHVzZXJfbXNnX3R5cGUgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5tZXNzYWdlX3R5cGU7CiAgICAgIHRoaXMuZW5kX3VzZXJfbWVzc2FnZSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLmVuZF91c2VyX21lc3NhZ2U7CiAgICAgIHRoaXMuc3VjY2Vzc2Z1bF9tZXNzYWdlID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucmVzcG9uc2Vfa2V5OwogICAgICB0aGlzLnJlc3BvbnNlX2pzb25fZWRpdGFibGUgPSB0aGlzLmFwaV9saXN0W2luZGV4XS5yZXNwb25zZV9rZXlfZWRpdGFibGU7CiAgICAgIHRoaXMucmVzcG9uc2Vfa2V5X2VkaXRfbWVzc2FnZSA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnJlc3BvbnNlX2tleV9tZXNzYWdlOwogICAgICB0aGlzLnVuc3VjY2Vzc2Z1bF9tZXNzYWdlID0gdGhpcy5hcGlfbGlzdFtpbmRleF0ucmVzcG9uc2Vfa2V5X3Vuc3VjY2Vzc2Z1bDsgLy8gdGhpcy50YXNrX25hbWUgPSB0aGlzLmFwaV9saXN0W2luZGV4XS50YXNrX25hbWU7CgogICAgICBmb3IgKHZhciBpIGluIHRoaXMuYXBpX2xpc3RbaW5kZXhdLnRhc2tzX2xpc3QpIHsKICAgICAgICB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzLnB1c2goewogICAgICAgICAga2V5X25hbWU6IHRoaXMuYXBpX2xpc3RbaW5kZXhdLnRhc2tzX2xpc3RbaV0uUmF3U2xvdE5hbWUsCiAgICAgICAgICBpbnB1dF90ZXh0OiB0aGlzLmFwaV9saXN0W2luZGV4XS50YXNrc19saXN0W2ldLlRleHQsCiAgICAgICAgICBkcm9wZG93bl92YWx1ZTogIiIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkX2xpc3Q6IGZ1bmN0aW9uIHNlbGVjdGVkX2xpc3QoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID09ICJhbGwiKSB7CiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IHRydWUpIHRoaXMuY2hlY2tlZF9saXN0ID0gdGhpcy5jO2Vsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB0aGlzLmNoZWNrZWRfbGlzdCA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICB2YXIgdmFsX2luZGV4ID0gdGhpcy5jaGVja2VkX2xpc3QuaW5kZXhPZih0aGlzLmFwaV9saXN0W2luZGV4XSk7CiAgICAgICAgICB2YXIgdGVtcCA9IHRoaXMuYXBpX2xpc3RbaW5kZXhdOwoKICAgICAgICAgIGlmICh2YWxfaW5kZXggPT0gLTEpIHsKICAgICAgICAgICAgdGhpcy5jaGVja2VkX2xpc3QucHVzaCh0ZW1wKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09IGZhbHNlKSB7CiAgICAgICAgICB2YXIgc2VsZWN0YWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGVjdGFsbCIpOwoKICAgICAgICAgIGlmIChzZWxlY3RhbGwuY2hlY2tlZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIHNlbGVjdGFsbC5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHRlbXAgPSB0aGlzLmNoZWNrZWRfbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGFwaV9saXN0KSB7CiAgICAgICAgICAgIHJldHVybiBhcGlfbGlzdC5hcGlfbGlzdCAhPT0gaW5kZXg7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuY2hlY2tlZF9saXN0ID0gdGVtcDsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRfYXBpOiBmdW5jdGlvbiBhZGRfYXBpKGN1cnJlbnRfc3RlcCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICBpZiAoY3VycmVudF9zdGVwID09IDEpIHsKICAgICAgICBpZiAodGhpcy5xdWVzdGlvbiA9PSAiIiB8fCB0aGlzLnVybCA9PSAiIiB8fCB0aGlzLmFwaV9tZXRob2QgPT0gbnVsbCB8fCB0aGlzLmludGVudHMgPT0gIiIgfHwgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gbnVsbCB8fCB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIgJiYgdGhpcy5lZGl0YWJsZV92YWx1ZXMgPT0gIiIpIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigiUGxlYXNlIGVudGVyIGFsbCB0aGUgcmVxdWlyZWQgdmFsdWVzIik7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcV9qc29uKCkgPT0gZmFsc2UpIHsKICAgICAgICAgIHRvYXN0ci5lcnJvcigiWW91ciBSZXF1ZXN0IEpTT04gaXMgaW52YWxpZC4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJUcnVlIiAmJiAhdGhpcy5pc0VkaXQpIHsKICAgICAgICAgICAgdmFyIGNzdiA9IHRoaXMuZWRpdGFibGVfdmFsdWVzLnNwbGl0KCI7Iik7CiAgICAgICAgICAgIHZhciBpbnB1dF92YWx1ZTsKICAgICAgICAgICAgdGhpcy50YXNrX2lucHV0X3ZhbHVlcyA9IFtdOwoKICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBjc3YpIHsKICAgICAgICAgICAgICB2YXIgdGVtcF9saXN0ID0gY3N2W2ldLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgaW5wdXRfdmFsdWUgPSB0ZW1wX2xpc3RbdGVtcF9saXN0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgIHRoaXMudGFza19pbnB1dF92YWx1ZXMucHVzaCh7CiAgICAgICAgICAgICAgICBrZXlfbmFtZTogaW5wdXRfdmFsdWUsCiAgICAgICAgICAgICAgICBpbnB1dF90ZXh0OiAiIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIlRydWUiKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudF9zdGVwICs9IDE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRfc3RlcCA9IDM7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGN1cnJlbnRfc3RlcCA9PSAyKSB7CiAgICAgICAgdmFyIGVtcHR5X3ZhcnMgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzKSB7CiAgICAgICAgICBpZiAodGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5pbnB1dF90ZXh0ID09ICIiKSB7CiAgICAgICAgICAgIGVtcHR5X3ZhcnMucHVzaCh0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlbXB0eV92YXJzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRfc3RlcCArPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIHZhbHVlcy4iKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChjdXJyZW50X3N0ZXAgPT0gMykgewogICAgICAgIHZhciBleGlzdGluZ19pbnRlbnRfbGlzdCA9IHRoaXMuYXBpX2xpc3QuZmlsdGVyKGZ1bmN0aW9uIChhcGkpIHsKICAgICAgICAgIHJldHVybiBhcGkuaW50ZW50ID09IF90aGlzNC5pbnRlbnRzOwogICAgICAgIH0pOwogICAgICAgIHZhciBwb3N0X21ldGhvZF9kYXRhLCBnZXRfbWV0aG9kX2RhdGE7CiAgICAgICAgcG9zdF9tZXRob2RfZGF0YSA9IHt9OwoKICAgICAgICBpZiAodGhpcy5hcGlfbWV0aG9kID09ICJQT1NUIiAmJiB0aGlzLnRhc2tfZnJvbSA9PSAiZnJvbV9lbnRpdHkiKSB7CiAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGFza19pbnB1dF92YWx1ZXMpIHsKICAgICAgICAgICAgcG9zdF9tZXRob2RfZGF0YVt0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmtleV9uYW1lXSA9IHsKICAgICAgICAgICAgICBmcm9tX3RleHQ6IHRydWUsCiAgICAgICAgICAgICAgZnJvbV9lbnRpdHk6IHRoaXMudGFza19pbnB1dF92YWx1ZXNbaV0uZHJvcGRvd25fdmFsdWUgIT0gIiIgPyB0cnVlIDogZmFsc2UsCiAgICAgICAgICAgICAgZW50aXR5OiB0aGlzLnRhc2tfaW5wdXRfdmFsdWVzW2ldLmRyb3Bkb3duX3ZhbHVlLAogICAgICAgICAgICAgIGludGVudDogdGhpcy5jb21wYW55aWQgKyAiXyIgKyB0aGlzLmFwaV9saXN0W2ldLmludGVudCwKICAgICAgICAgICAgICBub3RfaW50ZW50OiBudWxsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5hcGlfbWV0aG9kID09ICJHRVQiKSB7CiAgICAgICAgICBnZXRfbWV0aG9kX2RhdGEgPSB7fTsKCiAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGFza19pbnB1dF92YWx1ZXMpIHsKICAgICAgICAgICAgZ2V0X21ldGhvZF9kYXRhW3RoaXMudGFza19pbnB1dF92YWx1ZXNbaV0ua2V5X25hbWVdID0gewogICAgICAgICAgICAgIEVudGl0eTogdGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5pbnB1dF90ZXh0LAogICAgICAgICAgICAgIFNsb3Q6IG51bGwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChleGlzdGluZ19pbnRlbnRfbGlzdC5sZW5ndGggPiAwICYmICF0aGlzLmlzRWRpdCkgewogICAgICAgICAgdG9hc3RyLmVycm9yKCJUaGUgaW50ZW50IGFscmVhZHkgZXhpc3RzLiBQbGVhc2UgdHJ5IHdpdGggYW5vdGhlciBpbnRlbnQiKTsKICAgICAgICB9IGVsc2UgaWYgKCh0aGlzLmVuZF91c2VyX21lc3NhZ2UgIT0gIiIgfHwgdGhpcy5lbmR1c2VyX21zZ190eXBlID09ICJUaHJvdWdoX0FQSSIpICYmICh0aGlzLnJlc3BvbnNlX2pzb25fZWRpdGFibGUgIT0gbnVsbCB8fCB0aGlzLmVuZHVzZXJfbXNnX3R5cGUgPT0gIkN1c3RvbSIpICYmIHRoaXMuZW5kdXNlcl9tc2dfdHlwZSAhPSBudWxsICYmIHRoaXMuc3VjY2Vzc2Z1bF9tZXNzYWdlICE9IG51bGwgJiYgKHRoaXMuc2hvd19qc29uX3Jlc3BvbnNlX2RhdGEgIT0gIiIgfHwgdGhpcy5lbmR1c2VyX21zZ190eXBlID09ICJDdXN0b20iKSkgewogICAgICAgICAgaWYgKHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24gPT0gIlNpbHZlciIpIHsKICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICB0ZXh0OiAiWW91J3JlIG5vdCBhdmFpbCB0byB1c2UgdGhpcyBzZXJ2aWNlLCBkdWUgdG8geW91ciBzdWJzY3JpcHRpb24gcGxhbi4gS2luZGx5IHVwZ3JhZGUgeW91ciBwbGFuLiIsCiAgICAgICAgICAgICAgdGltZXI6IDMwMDAKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICAgICAgICB2YXIgdGFza3MgPSB7fTsKCiAgICAgICAgICAgIGlmICh0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9PSAiVHJ1ZSIgJiYgdGhpcy50YXNrX2lucHV0X3ZhbHVlcy5sZW5ndGggPiAwIHx8IHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJGYWxzZSIpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGFza19pbnB1dF92YWx1ZXMpIHsKICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gW107CiAgICAgICAgICAgICAgICB0ZW1wLnB1c2goewogICAgICAgICAgICAgICAgICBUeXBlOiAiQXNrIiwKICAgICAgICAgICAgICAgICAgVGV4dDogdGhpcy50YXNrX2lucHV0X3ZhbHVlc1tpXS5pbnB1dF90ZXh0CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRhc2tzW3RoaXMudGFza19pbnB1dF92YWx1ZXNbaV0ua2V5X25hbWVdID0gdGVtcDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGF4aW9zLnBvc3QoYXBpX2NhbGxzLmFkZF9jb25maWdfYXBpX3VybCgpLCB7CiAgICAgICAgICAgICAgICBjb21wYW55bmFtZTogdGhpcy5jb21wYW55bmFtZSwKICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICBxdWVzdGlvbjogdGhpcy5xdWVzdGlvbiwKICAgICAgICAgICAgICAgIHJlcXVlc3RfanNvbl9rZXlfbWFwcGluZzogZ2V0X21ldGhvZF9kYXRhLAogICAgICAgICAgICAgICAgdXJsOiB0aGlzLnVybCwKICAgICAgICAgICAgICAgIGludGVudDogdGhpcy5jb21wYW55aWQgKyAiXyIgKyB0aGlzLmludGVudHMsCiAgICAgICAgICAgICAgICByZXF1ZXN0anNvbjogdGhpcy5zaG93X2pzb25fcmVxdWVzdF9kYXRhLAogICAgICAgICAgICAgICAgYXBpX21ldGhvZDogdGhpcy5hcGlfbWV0aG9kLAogICAgICAgICAgICAgICAgZW5kX3VzZXJfbWVzc2FnZTogdGhpcy5lbmRfdXNlcl9tZXNzYWdlLAogICAgICAgICAgICAgICAgbXNnX3R5cGU6IHRoaXMuZW5kdXNlcl9tc2dfdHlwZSwKICAgICAgICAgICAgICAgIHJlc3BvbnNla2V5OiB0aGlzLnN1Y2Nlc3NmdWxfbWVzc2FnZSwKICAgICAgICAgICAgICAgIGFwaV9lZGl0OiB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSwKICAgICAgICAgICAgICAgIGFwaV9lZGl0YWJsZV92YWx1ZTogdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIlRydWUiID8gdGhpcy5lZGl0YWJsZV92YWx1ZXMgOiAiIiwKICAgICAgICAgICAgICAgIHJlc3BvbnNlanNvbjogdGhpcy5lbmR1c2VyX21zZ190eXBlID09ICJUaHJvdWdoX0FQSSIgPyB0aGlzLnNob3dfanNvbl9yZXNwb25zZV9kYXRhIDogIiIsCiAgICAgICAgICAgICAgICByZXNwb25zZV9tc2dfZWRpdGFibGU6IHRoaXMucmVzcG9uc2VfanNvbl9lZGl0YWJsZSwKICAgICAgICAgICAgICAgIHJlc3BvbnNlX21zZ19lZGl0YWJsZV92YWx1ZTogdGhpcy5yZXNwb25zZV9qc29uX2VkaXRhYmxlID09ICJUcnVlIiA/IHRoaXMucmVzcG9uc2Vfa2V5X2VkaXRfbWVzc2FnZSA6ICIiLAogICAgICAgICAgICAgICAgc2xvdF9tYXBwaW5nX2RhdGE6IHBvc3RfbWV0aG9kX2RhdGEsCiAgICAgICAgICAgICAgICB1bnN1Y2Nlc3NmdWxfbXNnOiB0aGlzLnVuc3VjY2Vzc2Z1bF9tZXNzYWdlLAogICAgICAgICAgICAgICAgbGljZW5zZV9rZXk6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5saWNlbnNlX2tleSwKICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnRva2VucywKICAgICAgICAgICAgICAgIHRhc2tfZGV0YWlsczogdGFza3MsCiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb246IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5zdWJzY3JpcHRpb24KICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodGhpcy4kc2Vzc2lvbi5nZXQoImF0IikpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzNC5zcGlubmVyT24gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkpzb24gYWRkZWQiKSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJZb3VyIEFQSSBoYXMgYmVlbiBhZGRlZCBzdWNjZXNzZnVsbHkiKTsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuTXNnID09ICJKc29uIHVwZGF0ZWQiKSB7CiAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCJZb3VyIEFQSSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5Nc2cgPT0gIkludGVybmFsIFNlcnZlciBFcnJvciIpIHsKICAgICAgICAgICAgICAgICAgU3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiVGhlcmUgd2FzIGFuIGludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLk1zZyA9PSAiRW5kcG9pbnQgbGltaXQgZXhjZWVkIikgewogICAgICAgICAgICAgICAgICBTd2FsKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICJZb3VyIExpbWl0IGhhcyBiZWVuIGV4Y2VlZGVkLCBLaW5kbHkgdXBncmFkZSB5b3VyIHBsYW4iLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyNTAwCiAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC4kcm91dGVyLmdvKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgaWYgKGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MTAgfHwgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQ0MCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC4kcm9vdC4kZW1pdCgiU2Vzc2lvbl9FeHBpcmVkIiwgZS5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsgLy8gYXhpb3MKICAgICAgICAgICAgICAvLyAgIC5wb3N0KGFwaV9jYWxscy50YXNrX2xpc3RfdXJsKCksIHsKICAgICAgICAgICAgICAvLyAgICAgY29tcGFueWlkOiB0aGlzLmNvbXBhbnlpZCwKICAgICAgICAgICAgICAvLyAgICAgY29tcGFueW5hbWU6IHRoaXMuY29tcGFueW5hbWUsCiAgICAgICAgICAgICAgLy8gICAgIGVtYWlsOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICAgICAgLy8gICAgIGxpY2Vuc2Vfa2V5OiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXksCiAgICAgICAgICAgICAgLy8gICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgIC8vICAgICBpbnRlbnQ6IHRoaXMuaW50ZW50cywKICAgICAgICAgICAgICAvLyAgICAgdGFza19kZXRhaWxzOiB0YXNrcywKICAgICAgICAgICAgICAvLyAgICAgLy8gdGFza19uYW1lOiB0aGlzLnRhc2tfbmFtZQogICAgICAgICAgICAgIC8vICAgfSwgewogICAgICAgICAgICAgIC8vICAgaGVhZGVyczogewogICAgICAgICAgICAgIC8vICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc2Vzc2lvbi5nZXQoImF0Iil9YCwKICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgIC8vICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIC8vICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIC8vICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVGFzayBBZGRlZCIpIHsKICAgICAgICAgICAgICAvLyAgICAgICB0b2FzdHIuc3VjY2VzcygiWW91ciB0YXNrIGhhcyBiZWVuIGFkZGVkIHN1Y2Nlc3NmdWxseSIpOwogICAgICAgICAgICAgIC8vICAgICAgICQoIiNjb25maWdhcGltb2RhbCIpLm1vZGFsKCJoaWRlIik7CiAgICAgICAgICAgICAgLy8gICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICAvLyAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgLy8gICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAvLyAgIGlmICgKICAgICAgICAgICAgICAvLyAgICAgZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fAogICAgICAgICAgICAgIC8vICAgICBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8CiAgICAgICAgICAgICAgLy8gICAgIGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkKICAgICAgICAgICAgICAvLyAgICkgewogICAgICAgICAgICAgIC8vICAgICB0aGlzLiRyb290LiRlbWl0KCJTZXNzaW9uX0V4cGlyZWQiLCBlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVxdWVzdF9qc29uX2VkaXRhYmxlID09ICJGYWxzZSIgJiYgdGhpcy50YXNrX2lucHV0X3ZhbHVlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgICAgICB2YXIgaW50ZW50cyA9IFtdOwogICAgICAgICAgICAgIGludGVudHMucHVzaCh0aGlzLmNvbXBhbnlpZCArICJfIiArIHRoaXMuaW50ZW50cyk7CgogICAgICAgICAgICAgIGlmICh0aGlzLnRhc2tfaW5wdXRfdmFsdWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGF4aW9zLmRlbGV0ZShhcGlfY2FsbHMudGFza19saXN0X3VybCgpLCB7CiAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpbnRlbnRzOiBpbnRlbnRzLAogICAgICAgICAgICAgICAgICAgIGNvbXBhbnluYW1lOiB0aGlzLmNvbXBhbnluYW1lLAogICAgICAgICAgICAgICAgICAgIGNvbXBhbnlpZDogdGhpcy5jb21wYW55aWQsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBsaWNlbnNlX2tleTogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLmxpY2Vuc2Vfa2V5LAogICAgICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikudG9rZW5zLAogICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogdGhpcy4kc2Vzc2lvbi5nZXQoIlVzZXJJbmZvcm1hdGlvbiIpLnN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHRoaXMuJHNlc3Npb24uZ2V0KCJhdCIpKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiVGFzayhzKSBEZWxldGVkIikgewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogIkRlbGV0ZWQhIiwKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICJZb3VyIHRhc2socykgaGF2ZSBiZWVuIGRlbGV0ZWQuIiwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5nbygpOwogICAgICAgICAgICAgICAgICAgIH0sIDI1MDApOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5zdGF0dXMgPT09IDQxMCB8fCBlLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDQwIHx8IGUucmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJHJvb3QuJGVtaXQoIlNlc3Npb25fRXhwaXJlZCIsIGUucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIuZ28oKTsKICAgICAgICAgICAgICB9LCAyNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2FzdHIuZXJyb3IoIlBsZWFzZSBlbnRlciBhbGwgdGhlIHJlcXVpcmVkIHZhbHVlcyIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyX2ZpZWxkczogZnVuY3Rpb24gY2xlYXJfZmllbGRzKCkgewogICAgICB0aGlzLnF1ZXN0aW9uID0gIiI7CiAgICAgIHRoaXMuaW50ZW50cyA9ICIiOwogICAgICB0aGlzLmFwaV9tZXRob2QgPSBudWxsOwogICAgICB0aGlzLmVkaXRhYmxlX3ZhbHVlcyA9ICIiOwogICAgICB0aGlzLnJlcXVlc3RfanNvbl9lZGl0YWJsZSA9IG51bGw7CiAgICAgIHRoaXMudXJsID0gIiI7CiAgICAgIHRoaXMuc2hvd19qc29uX3JlcXVlc3RfZGF0YSA9ICIiOwogICAgICB0aGlzLnNob3dfanNvbl9yZXNwb25zZV9kYXRhID0gIiI7CiAgICAgIHRoaXMuZW5kX3VzZXJfbWVzc2FnZSA9ICIiOwogICAgICB0aGlzLmlzRWRpdCA9IGZhbHNlOwogICAgICB0aGlzLmVuZHVzZXJfbXNnX3R5cGUgPSBudWxsOwogICAgICB0aGlzLnJlc3BvbnNlX2pzb25fZWRpdGFibGUgPSBudWxsOwogICAgICB0aGlzLnJlc3BvbnNlX2tleV9lZGl0X21lc3NhZ2UgPSBudWxsOwogICAgICB0aGlzLnVuc3VjY2Vzc2Z1bF9tZXNzYWdlID0gbnVsbDsKICAgICAgdGhpcy5jdXJyZW50X3N0ZXAgPSAxOwogICAgICB0aGlzLnRvdGFsX3N0ZXBzID0gMjsKICAgICAgdGhpcy50YXNrX2lucHV0X3ZhbHVlcyA9IFtdOyAvLyB0aGlzLnRhc2tfbmFtZSA9ICIiOwogICAgfSwKICAgIGFwaV9saXN0X3VwZGF0ZTogZnVuY3Rpb24gYXBpX2xpc3RfdXBkYXRlKG1lc3NhZ2UpIHsKICAgICAgZm9yICh2YXIgaSBpbiBtZXNzYWdlKSB7CiAgICAgICAgdGhpcy5hcGlfbGlzdC5wdXNoKHsKICAgICAgICAgIGludGVudDogaS5yZXBsYWNlKHRoaXMuY29tcGFueWlkICsgIl8iLCAiIiksCiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlW2ldLk1TRywKICAgICAgICAgIG1ldGhvZDogbWVzc2FnZVtpXS5NRVRIT0QsCiAgICAgICAgICByZXFfanNvbjogbWVzc2FnZVtpXS5SZXF1ZXN0SnNvbiwKICAgICAgICAgIHJlc3BfanNvbjogbWVzc2FnZVtpXS5SZXNwb25zZUpzb24sCiAgICAgICAgICB1cmw6IG1lc3NhZ2VbaV0uVVJMLAogICAgICAgICAgZWRpdGFibGVfdmFsdWVzOiBtZXNzYWdlW2ldLlZhbHVlc1RvRWRpdCwKICAgICAgICAgIHF1ZXN0aW9uOiBtZXNzYWdlW2ldLlF1ZXN0aW9uLAogICAgICAgICAgZWRpdGFibGU6IG1lc3NhZ2VbaV0uaXNFZGl0LAogICAgICAgICAgbWVzc2FnZV90eXBlOiBtZXNzYWdlW2ldLk1zZ190eXBlLAogICAgICAgICAgZW5kX3VzZXJfbWVzc2FnZTogbWVzc2FnZVtpXS5NZXNzYWdlVG9FbmRVc2VyLAogICAgICAgICAgcmVzcG9uc2Vfa2V5OiBtZXNzYWdlW2ldLlJlc3BvbnNlS2V5VG9FbmRVc2VyLAogICAgICAgICAgcmVzcG9uc2Vfa2V5X2VkaXRhYmxlOiBtZXNzYWdlW2ldLlJlc3BvbnNlS2V5RWRpdGFibGUsCiAgICAgICAgICByZXNwb25zZV9rZXlfbWVzc2FnZTogbWVzc2FnZVtpXS5SZXNwb25zZUtleU1lc3NhZ2VUb0VuZFVzZXIsCiAgICAgICAgICByZXNwb25zZV9rZXlfdW5zdWNjZXNzZnVsOiBtZXNzYWdlW2ldLlVuU3VjY2Vzc2Z1bE1lc3NhZ2UsCiAgICAgICAgICB0YXNrX25hbWU6IG1lc3NhZ2VbaV0uVGFza3MgIT0gdW5kZWZpbmVkID8gbWVzc2FnZVtpXS5UYXNrTmFtZSA6ICIiLAogICAgICAgICAgdGFza3NfbGlzdDogbWVzc2FnZVtpXS5UYXNrcyAhPSB1bmRlZmluZWQgPyBtZXNzYWdlW2ldLlRhc2tzLlV0dGVyYW5jZXMgOiBbXQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAganNvbl9yZXF1ZXN0X2NsYXNzOiBmdW5jdGlvbiBqc29uX3JlcXVlc3RfY2xhc3MoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgSlNPTi5wYXJzZSh0aGlzLmpzb25fcmVxdWVzdF9kYXRhW3RoaXMuaW5kZXhdKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiAiaXMtaW52YWxpZCI7CiAgICAgIH0KCiAgICAgIHJldHVybiAiaXMtdmFsaWQiOwogICAgfSwKICAgIGpzb25fcmVzcG9uc2VfY2xhc3M6IGZ1bmN0aW9uIGpzb25fcmVzcG9uc2VfY2xhc3MoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgSlNPTi5wYXJzZSh0aGlzLmpzb25fcmVzcG9uc2VfZGF0YVt0aGlzLmluZGV4XSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gImlzLWludmFsaWQiOwogICAgICB9CgogICAgICByZXR1cm4gImlzLXZhbGlkIjsKICAgIH0sCiAgICBzaG93X2Jsb2NrOiBmdW5jdGlvbiBzaG93X2Jsb2NrKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSAidXAiKSB7CiAgICAgICAgdGhpcy5zaG93X29yX2Jsb2NrID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gImRvd24iKSB7CiAgICAgICAgdGhpcy5zaG93X29yX2Jsb2NrID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGRvdF9jbGFzczogZnVuY3Rpb24gZG90X2NsYXNzKHN0ZXApIHsKICAgICAgaWYgKHN0ZXAgPT0gdGhpcy5jdXJyZW50X3N0ZXAgfHwgc3RlcCA9PSB0aGlzLnRvdGFsX3N0ZXBzICYmIHRoaXMuY3VycmVudF9zdGVwID09IDMgJiYgdGhpcy5yZXF1ZXN0X2pzb25fZWRpdGFibGUgPT0gIkZhbHNlIikgewogICAgICAgIHJldHVybiAiZG90IHN1Y2Nlc3MiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiZG90IjsKICAgICAgfQogICAgfQogIH0KfTs="},null]}