{"remainingRequest":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js!/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/StripePaymentHandling/PaymentRedirect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/CENSE/chatbot-portal/src/portal/Chatbot/Dashboard/StripePaymentHandling/PaymentRedirect.vue","mtime":1663910265478},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/CENSE/chatbot-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscyI7CmltcG9ydCB7IHVwZGF0ZV9zaWRlYmFyX21lbnUsIHVwZGF0ZV9yZXN0cmljdGlvbl9saXN0IH0gZnJvbSAiQC9wb3J0YWwvbWl4aW5zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQYXltZW50UmVkaXJlY3QiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXltZW50X3N0YXR1czogbnVsbCwKICAgICAgY2Vuc2Vfc2Vzc2lvbjogbnVsbCwKICAgICAgcGF5bWVudF90eXBlOiBudWxsLAogICAgICBzdWJzY3JpcHRpb25fdHlwZXNfY2hlY2s6IFsnc3Vic2NyaXB0aW9uJywgJ1Nob3BpZnknXQogICAgfTsKICB9LAogIG1peGluczogW3VwZGF0ZV9zaWRlYmFyX21lbnUsIHVwZGF0ZV9yZXN0cmljdGlvbl9saXN0XSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLnBheW1lbnRfc3RhdHVzID0gdGhpcy4kcm91dGUucXVlcnkuc3RhdHVzOwogICAgdGhpcy5jZW5zZV9zZXNzaW9uID0gdGhpcy4kcm91dGUucXVlcnkuY2Vuc2Vfc2Vzc2lvbjsKICAgIHRoaXMucGF5bWVudF90eXBlID0gdGhpcy4kcm91dGUucXVlcnkucGF5bWVudF90eXBlOwoKICAgIGlmIChCb29sZWFuKHRoaXMucGF5bWVudF9zdGF0dXMpICYmIEJvb2xlYW4odGhpcy5jZW5zZV9zZXNzaW9uKSAmJiBCb29sZWFuKHRoaXMucGF5bWVudF90eXBlKSkgewogICAgICBheGlvcy5wb3N0KGFwaV9jYWxscy5zdHJpcGVfcGF5bWVudF9nYXRld2F5KCksIHsKICAgICAgICBzdG9yZV9wYXltZW50X3Jlc3BvbnNlOiB0cnVlLAogICAgICAgIHBheW1lbnRfcmVzcG9uc2VfY2Vuc2VfcmVmZXJlbmNlX2lkOiB0aGlzLmNlbnNlX3Nlc3Npb24sCiAgICAgICAgcGF5bWVudF9yZXNwb25zZV9kYXRhOiB0aGlzLnBheW1lbnRfc3RhdHVzLAogICAgICAgIHBheW1lbnRfdHlwZTogdGhpcy5wYXltZW50X3R5cGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpcy5hcGlfc3RhdHVzX2NvZGUuREFUQV9BVkFJTEFCTEUuTVNHX0NPREUpIHsKICAgICAgICAgIGlmIChfdGhpcy5zdWJzY3JpcHRpb25fdHlwZXNfY2hlY2suaW5jbHVkZXMoX3RoaXMucGF5bWVudF90eXBlKSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLlVzZXJNZW51ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhLmRhdGEuVXNlck1lbnU7CgogICAgICAgICAgICAgIF90aGlzLnVwZGF0ZV9zaWRlYmFyX21lbnUobWVzc2FnZSk7CiAgICAgICAgICAgIH0gLy8gaWYgKHJlc3BvbnNlLmRhdGEuUmVzdHJpY3Rpb25MaXN0ICE9PSBudWxsKSB7CgoKICAgICAgICAgICAgX3RoaXMudXBkYXRlX3Jlc3RyaWN0aW9uX2xpc3QocmVzcG9uc2UuZGF0YS5kYXRhLlJlc3RyaWN0aW9uTGlzdCwgcmVzcG9uc2UuZGF0YS5kYXRhLlN1YnNjcmliZWRQbGFuKTsgLy8gfQoKICAgICAgICAgIH0KCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAiRGFzaGJvYXJkIiwKICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgIHN0cmlwZV9wYXltZW50X3JlZGlyZWN0OiB0cnVlLAogICAgICAgICAgICAgICAgcGF5bWVudF9yZXNwb25zZV9kYXRhOiBfdGhpcy5wYXltZW50X3N0YXR1cywKICAgICAgICAgICAgICAgIHBheW1lbnRfcmVzcG9uc2VfY2Vuc2VfcmVmZXJlbmNlX2lkOiBfdGhpcy5jZW5zZV9zZXNzaW9uLAogICAgICAgICAgICAgICAgcGF5bWVudF90eXBlOiBfdGhpcy5wYXltZW50X3R5cGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlLk1TR19DT0RFID09PSBfdGhpcy5hcGlfc3RhdHVzX2NvZGUuU1RBVFVTX1NVQ0NFU1MuTVNHX0NPREUpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIG5hbWU6ICJEYXNoYm9hcmQiLAogICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgc3RyaXBlX3BheW1lbnRfcmVkaXJlY3Q6IHRydWUsCiAgICAgICAgICAgICAgICBwYXltZW50X3Jlc3BvbnNlX2RhdGE6IF90aGlzLnBheW1lbnRfc3RhdHVzLAogICAgICAgICAgICAgICAgcGF5bWVudF9yZXNwb25zZV9jZW5zZV9yZWZlcmVuY2VfaWQ6IF90aGlzLmNlbnNlX3Nlc3Npb24sCiAgICAgICAgICAgICAgICBwYXltZW50X3R5cGU6IF90aGlzLnBheW1lbnRfdHlwZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgc3RyaXBlX3BheW1lbnRfcmVkaXJlY3Q6IHRydWUsCiAgICAgICAgICAgIHBheW1lbnRfcmVzcG9uc2VfZGF0YTogIkZhaWx1cmUiLAogICAgICAgICAgICBwYXltZW50X3Jlc3BvbnNlX2NlbnNlX3JlZmVyZW5jZV9pZDogX3RoaXMuY2Vuc2Vfc2Vzc2lvbiwKICAgICAgICAgICAgcGF5bWVudF90eXBlOiBfdGhpcy5wYXltZW50X3R5cGUKICAgICAgICAgIH0sCiAgICAgICAgICBuYW1lOiAiRGFzaGJvYXJkIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHN0cmlwZV9wYXltZW50X3JlZGlyZWN0OiB0cnVlLAogICAgICAgICAgcGF5bWVudF9yZXNwb25zZV9kYXRhOiAiRmFpbHVyZSIsCiAgICAgICAgICBwYXltZW50X3Jlc3BvbnNlX2NlbnNlX3JlZmVyZW5jZV9pZDogdGhpcy5jZW5zZV9zZXNzaW9uCiAgICAgICAgfSwKICAgICAgICBuYW1lOiAiRGFzaGJvYXJkIgogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["PaymentRedirect.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div style=\"background-color: #fafafa; padding-top: 20px\">\n      <div\n        class=\"modal-body\"\n        style=\"\n          width: 900px;\n          margin: auto;\n          text-align: justify;\n          border: 1px solid rgb(219, 219, 219);\n          border-radius: 9px;\n          background-color: #fff;\n          height: 90vh;\n        \"\n      >\n        <div class=\"modal-head d-flex align-items-center pb-0\">\n          <h3>Cense AI</h3>\n          <img\n            src=\"/img/cense_image.png\"\n            style=\"width: 25%; margin-left: auto\"\n            alt\n          />\n        </div>\n        <br />\n        <div class=\"card-body\" style=\"padding: 0px 10px\">\n          <div class=\"d-flex\">\n            <p class=\"mx-auto\">\n              Please wait while we redirect you back to our portal!!\n            </p>\n          </div>\n          <div class=\"container-spinner mx-auto\">\n            <span class=\"circle\"></span>\n            <span class=\"circle\"></span>\n            <span class=\"circle\"></span>\n            <span class=\"circle\"></span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport api_calls from \"@/portal/api_calls\";\nimport { update_sidebar_menu, update_restriction_list} from \"@/portal/mixins\";\n\nexport default {\n  name: \"PaymentRedirect\",\n  data() {\n    return {\n      payment_status: null,\n      cense_session: null,\n      payment_type: null,\n      subscription_types_check: ['subscription', 'Shopify']\n    };\n  },\n  mixins: [\n    update_sidebar_menu,\n    update_restriction_list\n  ],\n  created() {\n    this.payment_status = this.$route.query.status;\n    this.cense_session = this.$route.query.cense_session;\n    this.payment_type = this.$route.query.payment_type;\n    if(Boolean(this.payment_status) && Boolean(this.cense_session) && Boolean(this.payment_type)){\n      axios.post(api_calls.stripe_payment_gateway(), {\n        store_payment_response: true,\n        payment_response_cense_reference_id: this.cense_session,\n        payment_response_data: this.payment_status,\n        payment_type: this.payment_type\n      }).then((response) => {\n          if (response.data.message.MSG_CODE === this.api_status_code.DATA_AVAILABLE.MSG_CODE) {\n            if (this.subscription_types_check.includes(this.payment_type)){\n              if (response.data.data.UserMenu !== null) {\n                  let message = response.data.data.UserMenu;\n                  this.update_sidebar_menu(message)\n                }\n                // if (response.data.RestrictionList !== null) {\n                  this.update_restriction_list(response.data.data.RestrictionList, response.data.data.SubscribedPlan)\n                // }\n            }\n            setTimeout(() => {\n            this.$router.push({\n              name: \"Dashboard\",\n              params: {\n                stripe_payment_redirect: true,\n                payment_response_data: this.payment_status,\n                payment_response_cense_reference_id: this.cense_session,\n                payment_type: this.payment_type\n              },\n            });\n          }, 2000);\n          }\n          if (response.data.message.MSG_CODE === this.api_status_code.STATUS_SUCCESS.MSG_CODE) {\n            setTimeout(() => {\n            this.$router.push({\n              name: \"Dashboard\",\n              params: {\n                stripe_payment_redirect: true,\n                payment_response_data: this.payment_status,\n                payment_response_cense_reference_id: this.cense_session,\n                payment_type: this.payment_type\n              },\n            });\n          }, 2000);\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n          this.$router.push({\n            params: {\n              stripe_payment_redirect: true,\n              payment_response_data: \"Failure\",\n              payment_response_cense_reference_id: this.cense_session,\n              payment_type: this.payment_type\n            },\n            name: \"Dashboard\",\n          });\n        });\n    } else {\n      this.$router.push({\n        params: {\n          stripe_payment_redirect: true,\n          payment_response_data: \"Failure\",\n          payment_response_cense_reference_id: this.cense_session,\n        },\n        name: \"Dashboard\",\n      });\n    }\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.container-spinner {\n  height: 15px;\n  width: 105px;\n  display: flex;\n  position: relative;\n  .circle {\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    background-color: #293677;\n    animation: move 500ms linear 0ms infinite;\n    margin-right: 30px;\n\n    &:first-child {\n      position: absolute;\n      top: 0;\n      left: 0;\n      animation: grow 500ms linear 0ms infinite;\n    }\n\n    &:last-child {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin-right: 0;\n      animation: grow 500ms linear 0s infinite reverse;\n    }\n  }\n}\n\n@keyframes grow {\n  from {\n    transform: scale(0, 0);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1, 1);\n    opacity: 1;\n  }\n}\n\n@keyframes move {\n  from {\n    transform: translateX(0px);\n  }\n  to {\n    transform: translateX(45px);\n  }\n}\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard/StripePaymentHandling"}]}