{"remainingRequest":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js!/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Apps/EducationBot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vimalesh/Learning/devops_ui/src/portal/Chatbot/Dashboard/Apps/EducationBot.vue","mtime":1643027096148},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vimalesh/Learning/devops_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHN3YWwgZnJvbSAic3dlZXRhbGVydDIiOwppbXBvcnQgYXBpX2NhbGxzIGZyb20gIkAvcG9ydGFsL2FwaV9jYWxscy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRWR1Y2F0aW9uQm90IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3Bpbm5lck9uOiBmYWxzZSwKICAgICAgZmlsZV9sYWJlbDogIkNob29zZSBmaWxlIiwKICAgICAgaXNfZmlsZV91cGxvYWRlZDogZmFsc2UsCiAgICAgIGZpbGU6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRGaWxlOiBmdW5jdGlvbiBnZXRGaWxlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB0aGlzLmZpbGVfbGFiZWwgPSBmaWxlLm5hbWU7IC8vIGNvbnNvbGUubG9nKGZpbGUpOwoKICAgICAgaWYgKGZpbGUudHlwZSAhPSAiYXBwbGljYXRpb24vcGRmIikgewogICAgICAgIHN3YWwoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIHRleHQ6ICJPbmx5IFBERiBmaWxlcyBjYW4gYmUgdXBsb2FkZWQuIiwKICAgICAgICAgIHRpbWVyOiAzNTAwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5maWxlX2xhYmVsID0gIkNob29zZSBmaWxlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgICB0aGlzLmlzX2ZpbGVfdXBsb2FkZWQgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgdXBsb2FkX2ZpbGU6IGZ1bmN0aW9uIHVwbG9hZF9maWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gbGV0IGZpbGVuYW1lID0gIiI7CiAgICAgIHZhciBmaWxlZGF0YSA9ICIiOwogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5maWxlLm5hbWU7CiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZSk7CgogICAgICByZWFkZXIub25sb2Fkc3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gdGhpcy4kcm9vdC4kZW1pdCgnc2hvd19sb2FkZXInLCB0cnVlKTsKICAgICAgICBfdGhpcy5zcGlubmVyT24gPSB0cnVlOwogICAgICB9OwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyB0aGlzLiRyb290LiRlbWl0KCdzaG93X2xvYWRlcicsIHRydWUpOwogICAgICAgIGZpbGVkYXRhID0gcmVhZGVyLnJlc3VsdC5zcGxpdCgiYmFzZTY0LCIpWzFdOwogICAgICB9OwoKICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICB2YXIgdXNlcl9kZXRhaWxzID0gewogICAgICAgICAgZW1haWw6IF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuZW1haWwsCiAgICAgICAgICB0b2tlbjogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS50b2tlbnMsCiAgICAgICAgICBjb21wYW55X25hbWU6IF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikuY29tcGFueV9uYW1lLAogICAgICAgICAgY29tcGFueV9pZDogX3RoaXMuJHNlc3Npb24uZ2V0KCJVc2VySW5mb3JtYXRpb24iKS5jb21wYW55X2lkLAogICAgICAgICAgbGljZW5zZV9rZXk6IF90aGlzLiRzZXNzaW9uLmdldCgiVXNlckluZm9ybWF0aW9uIikubGljZW5zZV9rZXkKICAgICAgICB9OwogICAgICAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkodXNlcl9kZXRhaWxzKTsKICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtqc29uXSwgewogICAgICAgICAgdHlwZTogImFwcGxpY2F0aW9uL2pzb24iCiAgICAgICAgfSk7CiAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZmQuYXBwZW5kKCJmaWxlIiwgX3RoaXMuZmlsZSwgZmlsZW5hbWUpOwogICAgICAgIGZkLmFwcGVuZCgianNvbiIsIGJsb2IpOwogICAgICAgIF90aGlzLnNwaW5uZXJPbiA9IHRydWU7IC8vIGNvbnNvbGUubG9nKGZkKTsKCiAgICAgICAgYXhpb3MucG9zdChhcGlfY2FsbHMuZmFxX3BkZl9tYWtlcigpLCBmZCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKCiAgICAgICAgICBpZiAoZGF0YSA9PT0gImZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5IikgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICB0aXRsZTogIkZpbGUgUHJvY2Vzc2VkIFN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIHRleHQ6ICJQbGVhc2UgcHJvY2VlZCB0byBJbnRlbnRzIHBhZ2UgdW5kZXIgRGF0YSBJbnB1dHMgYW5kIGNsaWNrIG9uICdUcmFpbiBNb2RlbCcgYWZ0ZXIgeW91IGFyZSBkb25lIHdpdGggdXBsb2FkaW5nIGFsbCB0aGUgUERGcy4iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgdGl0bGU6ICJTb21lIEVycm9yIE9jY3VycmVkLiBQbGVhc2UgVHJ5IEFnYWluIiwKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLnNwaW5uZXJPbiA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLnJlc2V0X2ZpbGVfaW5wdXQoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgICAgIHN3YWwoewogICAgICAgICAgICB0aXRsZTogIlNvbWUgRXJyb3IgT2NjdXJyZWQuIFBsZWFzZSBUcnkgQWdhaW4iLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpcy5yZXNldF9maWxlX2lucHV0KCk7CgogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICByZXNldF9maWxlX2lucHV0OiBmdW5jdGlvbiByZXNldF9maWxlX2lucHV0KCkgewogICAgICB0aGlzLmZpbGVfbGFiZWwgPSAiQ2hvb3NlIGZpbGUiOwogICAgICB0aGlzLmlzX2ZpbGVfdXBsb2FkZWQgPSBmYWxzZTsKICAgICAgdGhpcy5maWxlID0gbnVsbDsKICAgICAgdGhpcy5zcGlubmVyT24gPSBmYWxzZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0R3JvdXBGaWxlMDEiKS52YWx1ZSA9ICIiOwogICAgfQogIH0KfTs="},{"version":3,"sources":["EducationBot.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"dash-cont\">\n      <div class=\"spinner\" id=\"spinner\" v-show=\"spinnerOn\"></div>\n      <div class=\"container-fluid\">\n        <div class=\"card dash-card\">\n          <div\n            class=\"card-header d-block d-sm-flex flex-wrap justify-content-between\"\n          ></div>\n          <div class=\"card-body\">\n            <h5>Upload a PDF to get started</h5>\n            <div class=\"container\">\n              <div class=\"row\">\n                <div class=\"col-sm-12 pl-0\">\n                  <div class=\"col-sm-4 pl-0\">\n                    <form id=\"filedata\" @submit.prevent=\"upload_file\">\n                      <div>\n                        <!-- <input type=\"file\" name=\"pdf_uploaded\" id=\"pdf_uploaded\"> -->\n                        <input\n                          @change=\"getFile($event)\"\n                          accept=\".pdf\"\n                          type=\"file\"\n                          class=\"custom-file-input\"\n                          id=\"inputGroupFile01\"\n                        />\n                        <label\n                          class=\"custom-file-label\"\n                          for=\"inputGroupFile01\"\n                          placeholder=\"Choose File\"\n                          style=\"overflow: hidden; white-space: nowrap\"\n                          >{{ file_label }}</label\n                        >\n                      </div>\n                    </form>\n                    <div class=\"mt-2\">\n                      <button\n                        class=\"btn darkblue-btn\"\n                        type=\"submit\"\n                        v-show=\"is_file_uploaded\"\n                        @click=\"upload_file\"\n                      >\n                        Upload\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport swal from \"sweetalert2\";\nimport api_calls from \"@/portal/api_calls.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"EducationBot\",\n  data() {\n    return {\n      spinnerOn: false,\n      file_label: \"Choose file\",\n      is_file_uploaded: false,\n      file: null,\n    };\n  },\n  methods: {\n    getFile(e) {\n      e.preventDefault();\n      const file = e.target.files[0];\n      this.file_label = file.name;\n      // console.log(file);\n      if (file.type != \"application/pdf\") {\n        swal({\n          type: \"error\",\n          text: \"Only PDF files can be uploaded.\",\n          timer: 3500,\n        });\n        this.file_label = \"Choose file\";\n      } else {\n        this.file = e.target.files[0];\n        this.is_file_uploaded = true;\n      }\n    },\n    upload_file() {\n      // let filename = \"\";\n      let filedata = \"\";\n      const reader = new FileReader();\n      let filename = this.file.name;\n      reader.readAsDataURL(this.file);\n      reader.onloadstart = () => {\n        // this.$root.$emit('show_loader', true);\n        this.spinnerOn = true;\n      };\n      reader.onload = () => {\n        // this.$root.$emit('show_loader', true);\n        filedata = reader.result.split(\"base64,\")[1];\n      };\n      reader.onloadend = () => {\n        this.spinnerOn = false;\n        var user_details = {\n          email: this.$session.get(\"UserInformation\").email,\n          token: this.$session.get(\"UserInformation\").tokens,\n          company_name: this.$session.get(\"UserInformation\").company_name,\n          company_id: this.$session.get(\"UserInformation\").company_id,\n          license_key: this.$session.get(\"UserInformation\").license_key,\n        };\n        var json = JSON.stringify(user_details);\n        var blob = new Blob([json], {\n          type: \"application/json\",\n        });\n        const fd = new FormData();\n        fd.append(\"file\", this.file, filename);\n        fd.append(\"json\", blob);\n        this.spinnerOn = true;\n        // console.log(fd);\n        axios\n          .post(api_calls.faq_pdf_maker(), fd)\n          .then(({ data }) => {\n            console.log(data);\n            if (data === \"file uploaded successfully\") {\n              swal({\n                title: \"File Processed Successfully\",\n                type: \"success\",\n                text:\n                  \"Please proceed to Intents page under Data Inputs and click on 'Train Model' after you are done with uploading all the PDFs.\",\n              });\n            } else {\n              swal({\n                title: \"Some Error Occurred. Please Try Again\",\n                type: \"error\",\n              });\n            }\n            this.spinnerOn = false;\n            this.reset_file_input();\n          })\n          .catch((err) => {\n            this.spinnerOn = false;\n            swal({\n              title: \"Some Error Occurred. Please Try Again\",\n              type: \"error\",\n            });\n            this.reset_file_input();\n            console.log(err);\n          });\n      };\n    },\n    reset_file_input() {\n      this.file_label = \"Choose file\";\n      this.is_file_uploaded = false;\n      this.file = null;\n      this.spinnerOn = false;\n      document.getElementById(\"inputGroupFile01\").value = \"\";\n    },\n  },\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/portal/Chatbot/Dashboard/Apps"}]}