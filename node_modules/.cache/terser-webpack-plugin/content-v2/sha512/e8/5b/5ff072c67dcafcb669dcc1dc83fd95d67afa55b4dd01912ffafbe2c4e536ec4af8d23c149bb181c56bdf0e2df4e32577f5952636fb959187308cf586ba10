{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4ef1326e\"],{\"0ada\":function(t,e,s){},\"3dc4\":function(t,e,s){\"use strict\";var i=s(\"8705\"),a=s.n(i);a.a},\"5e35\":function(t,e,s){\"use strict\";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"dash-cont\"},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.show_spinner,expression:\"show_spinner\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"container-fluid scheduler-page\"},[s(\"div\",{staticClass:\"card dash-card\"},[s(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[s(\"p\",{staticClass:\"mb-sm-0\"},[t._v(\"Appointments\")]),s(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[s(\"div\",{staticClass:\"custom-scheduler-select\"},[s(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_calendar_view,expression:\"current_calendar_view\"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.current_calendar_view=e.target.multiple?s:s[0]}}},[s(\"option\",{attrs:{value:\"\"}},[t._v(\"Select View\")]),s(\"option\",{attrs:{value:\"day\",id:\"option_daily\"}},[t._v(\"Daily\")]),s(\"option\",{attrs:{value:\"week\",id:\"option_week\"}},[t._v(\"Weekly\")]),s(\"option\",{attrs:{value:\"month\",id:\"option_month\"}},[t._v(\"Month\")])])]),s(\"div\",[s(\"a\",{staticClass:\"darkblue-btn text-uppercase\",attrs:{href:\"#\",\"data-toggle\":\"modal\",id:\"change_status_btn\"},on:{click:t.new_schedule}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"13.997\",viewBox:\"0 0 14 13.997\"}},[s(\"path\",{attrs:{id:\"Union_13\",\"data-name\":\"Union 13\",d:\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\",transform:\"translate(12690.001 -2045.002)\",fill:\"#fff\"}})]),t._v(\" New Schedule \")])]),s(\"div\",{staticClass:\"form-group\",staticStyle:{cursor:\"pointer\"}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"30\",height:\"30\",viewBox:\"0 0 20 20\",\"data-toggle\":\"modal\",\"data-target\":\"#scheduling_modal\"},on:{click:t.open_scheduling_modal}},[s(\"path\",{attrs:{fill:\"none\",d:\"M0 0h20v20H0V0z\"}}),s(\"path\",{attrs:{d:\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"}})])])])]),s(\"div\",{staticClass:\"card-body\",attrs:{id:\"page\"}},[s(\"div\",{staticClass:\"d-flex justify-content-between\"},[s(\"div\",{staticClass:\"prev-button\",staticStyle:{cursor:\"pointer\",color:\"#283877\",font:\"14px/19px 'Segoe UI Semibold'\"},on:{click:function(e){return t.switch_calendar(\"prev\")}}},[s(\"img\",{attrs:{src:\"/img/Path 190.svg\"}}),t._v(\" Previous\")]),s(\"div\",{staticClass:\"text-uppercase\",staticStyle:{color:\"#283877\",font:\"16px/21px 'Segoe UI Semibold'\"},attrs:{id:\"renderRange\"}}),s(\"div\",{staticClass:\"next-button\",staticStyle:{cursor:\"pointer\",color:\"#283877\",font:\"14px/19px 'Segoe UI Semibold'\"},on:{click:function(e){return t.switch_calendar(\"next\")}}},[t._v(\"Next \"),s(\"img\",{attrs:{src:\"/img/Path 230.svg\"}})])]),s(\"div\",{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{id:\"menu\"}},[\"day\"==t.current_calendar_view?s(\"div\",{staticClass:\"d-inline-flex w-100 justify-content-between\",staticStyle:{\"overflow-x\":\"auto\"}},t._l(t.daysInMonth,(function(e,i){return s(\"div\",{key:i,staticClass:\"text-center day-list-box\"},[s(\"div\",{staticClass:\"day-box\"},[t._v(t._s(e.day))]),e.is_active?s(\"div\",{staticClass:\"date-box active\"},[t._v(\" \"+t._s(e.date)+\" \")]):s(\"div\",{staticClass:\"date-box\",on:{click:function(s){return t.switch_calendar(\"custom\",e.date)}}},[t._v(\" \"+t._s(e.date)+\" \")])])})),0):t._e()]),s(\"div\",{attrs:{id:\"calendar\"}})])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"scheduling_modal\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered justify-content-center\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content scheduler-settings-modal\"},[t._m(0),s(\"div\",{staticClass:\"modal-body\",staticStyle:{width:\"inherit\"}},[s(\"form\",{on:{submit:function(e){return e.preventDefault(),t.send_scheduling(e)}}},[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"col\"},[s(\"h5\",{staticClass:\"time-slots-title\"},[t._v(\"Phone Number\")]),s(\"div\",{staticClass:\"form-group create-schedule-settings\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.scheduling_contact_number,expression:\"scheduling_contact_number\"}],staticClass:\"form-control mr-0 ml-0\",attrs:{placeholder:\"Phone Number\"},domProps:{value:t.scheduling_contact_number},on:{input:function(e){e.target.composing||(t.scheduling_contact_number=e.target.value)}}})]),1!=t.validPhoneNumber&&\"\"!=t.scheduling_contact_number?s(\"div\",{staticClass:\"is-invalid\",staticStyle:{color:\"red\"}},[t._v(\" \"+t._s(t.validPhoneNumber)+\" \")]):t._e()]),s(\"div\",{staticClass:\"col\",staticStyle:{\"padding-right\":\"23px\"}},[s(\"h5\",{staticClass:\"time-slots-title\"},[t._v(\"Time Slots\")]),s(\"div\",{staticClass:\"time-slots-block d-flex justify-space-between\"},[s(\"div\",{staticClass:\"time-slot\",class:{active:30===t.selected_time_slot},on:{click:function(e){t.selected_time_slot=30}}},[t._v(\"30 minutes\")]),s(\"div\",{staticClass:\"time-slot\",class:{active:60===t.selected_time_slot},on:{click:function(e){t.selected_time_slot=60}}},[t._v(\"1 hour\")]),s(\"div\",{staticClass:\"time-slot\",class:{active:120===t.selected_time_slot},on:{click:function(e){t.selected_time_slot=120}}},[t._v(\"2 hours\")]),s(\"div\",{staticClass:\"time-slot\",class:{active:180===t.selected_time_slot},on:{click:function(e){t.selected_time_slot=180}}},[t._v(\"3 hours\")])])])]),s(\"div\",{staticClass:\"container\",staticStyle:{\"margin-top\":\"20px\"}},[s(\"div\",{staticClass:\"row justify-content-center working-hrs-row\"},[s(\"h4\",{staticClass:\"w-100 working-hrs-title\"},[t._v(\" Working Hours \")]),t._l(t.week_days,(function(e,i){return s(\"div\",{key:i,staticClass:\"workday-box\"},[s(\"span\",{staticClass:\"workday-box-title\"},[t._v(t._s(e))]),s(\"div\",{staticClass:\"d-flex\",staticStyle:{\"justify-content\":\"space-evenly\"}},[s(\"div\",[t._v(\" From \"),s(\"div\",{staticClass:\"form-group create-schedule-settings d-flex select-id-from\",staticStyle:{width:\"120px\",height:\"36px\"}},[s(\"select\",{staticClass:\"form-control\",attrs:{id:\"from_\"+e}},t._l(t.timeSlotsList,(function(e,i){return s(\"option\",{key:i,domProps:{value:e.value}},[t._v(t._s(e.display))])})),0)])]),s(\"div\",[t._v(\" To \"),s(\"div\",{staticClass:\"form-group create-schedule-settings d-flex select-id-to\",staticStyle:{width:\"120px\",height:\"36px\"}},[s(\"select\",{staticClass:\"form-control\",attrs:{id:\"to_\"+e}},t._l(t.timeSlotsList,(function(e,i){return s(\"option\",{key:i,domProps:{value:e.value}},[t._v(t._s(e.display))])})),0)])])])])}))],2),s(\"div\",{staticClass:\"custom-settings-box\",staticStyle:{height:\"125px\",\"margin-top\":\"37px\",width:\"103%\",\"margin-left\":\"-15px\"}},[s(\"span\",{staticClass:\"workday-box-title\",staticStyle:{top:\"-10px\"}},[t._v(\"Voice Greetings\")]),s(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.sch_voice_greetings,expression:\"sch_voice_greetings\"}],staticClass:\"form-control\",attrs:{type:\"text\",\"resize:none\":\"\"},domProps:{value:t.sch_voice_greetings},on:{input:function(e){e.target.composing||(t.sch_voice_greetings=e.target.value)}}})]),s(\"div\",{staticClass:\"custom-settings-box\",staticStyle:{height:\"125px\",\"margin-top\":\"37px\",width:\"103%\",\"margin-left\":\"-15px\"}},[s(\"span\",{staticClass:\"workday-box-title\",staticStyle:{top:\"-10px\"}},[t._v(\"Scheduling SMS\")]),s(\"div\",{staticClass:\"form-group\"},[s(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.sch_sms_greetings,expression:\"sch_sms_greetings\"}],staticClass:\"form-control\",attrs:{type:\"text\",\"resize:none\":\"\"},domProps:{value:t.sch_sms_greetings},on:{input:function(e){e.target.composing||(t.sch_sms_greetings=e.target.value)}}})])]),s(\"div\",{staticClass:\"row\",staticStyle:{\"margin-top\":\"37px\",\"justify-content\":\"space-evenly\"}},[s(\"div\",{staticClass:\"custom-settings-box ml-0 my-auto\"},[s(\"span\",{staticClass:\"workday-box-title\",staticStyle:{top:\"-10px\"}},[t._v(\"Holiday List\")]),s(\"div\",{staticClass:\"custom-file\"},[s(\"input\",{staticClass:\"custom-file-input\",attrs:{type:\"file\",accept:\".csv\",id:\"inputGroupFile01\",\"aria-describedby\":\"inputGroupFileAddon01\"},on:{change:t.fileinput}}),s(\"label\",{staticClass:\"custom-file-label form-control\",attrs:{for:\"inputGroupFile01\"}},[t._v(t._s(t.file_label))])]),s(\"div\",{staticClass:\"custom-file\"},[s(\"a\",{staticStyle:{color:\"#5090FF !important\",\"margin-left\":\"20px\",font:\"10px 'Segoe UI'\"},attrs:{href:\"#\"},on:{click:t.sample_holiday}},[t._v(\" Download Sample File \"),s(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"fa fa-spinner fa-spin\"})])])]),s(\"div\",{staticClass:\"custom-settings-box mr-0 my-auto\"},[s(\"span\",{staticClass:\"workday-box-title\",staticStyle:{top:\"-10px\"}},[t._v(\"Call Reminder in\")]),s(\"div\",{staticClass:\"form-group pl-0 d-flex\",staticStyle:{\"justify-content\":\"space-around\"}},[s(\"div\",{staticClass:\"form-group create-schedule-settings d-flex\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.call_reminder_hrs,expression:\"call_reminder_hrs\"}],staticClass:\"form-control\",staticStyle:{width:\"70px\"},attrs:{type:\"number\",max:\"24\",min:\"0\",placeholder:\"Hours\"},domProps:{value:t.call_reminder_hrs},on:{input:function(e){e.target.composing||(t.call_reminder_hrs=e.target.value)}}})]),s(\"div\",{staticClass:\"form-group create-schedule-settings d-flex\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.call_reminder_mins,expression:\"call_reminder_mins\"}],staticClass:\"form-control\",staticStyle:{width:\"70px\"},attrs:{type:\"number\",max:\"60\",min:\"0\",placeholder:\"Minutes\"},domProps:{value:t.call_reminder_mins},on:{input:function(e){e.target.composing||(t.call_reminder_mins=e.target.value)}}})])])])])]),t._m(1)])])])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"schedule_details\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"title\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered justify-content-center\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content scheduler-modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[s(\"div\",{staticClass:\"modal-head d-flex align-items-center justify-content-center\"},[s(\"div\",{staticClass:\"title-box\"},[s(\"p\",{staticClass:\"title-txt\"},[t._v(t._s(t.createModalTitle))])])]),t._m(2),s(\"div\",[s(\"p\",{staticClass:\"appointment-title\"},[t._v(t._s(t.patient_name))])]),s(\"form\",{on:{submit:t.create_appointment}},[s(\"div\",{staticClass:\"container\"},[s(\"div\",{staticClass:\"row scheduler-row\"},[s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\"},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Phone No.\")]),s(\"h6\",{staticClass:\"card-subtitle mb-2 text-muted\"},[t._v(t._s(t.visitor_number))])])]),s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\"},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Reason For Visit\")]),s(\"h6\",{staticClass:\"card-subtitle mb-2 text-muted\"},[t._v(t._s(t.visit_reason))])])])]),s(\"div\",{staticClass:\"row scheduler-row\"},[s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\"},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Symptoms\")]),s(\"h6\",{staticClass:\"card-subtitle mb-2 text-muted\"},[t._v(t._s(t.visitor_symptoms))])])]),s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\"},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Appointment Date\")]),s(\"h6\",{staticClass:\"card-subtitle mb-2 text-muted\"},[t._v(t._s(t.temp_appointment_date))])])])]),s(\"div\",{staticClass:\"row scheduler-row\"},[s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\"},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Appointment Time\")]),s(\"h6\",{staticClass:\"card-subtitle mb-2 text-muted\"},[t._v(t._s(t.display_selected_time))])])]),s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\"},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Appointment Status\")]),s(\"h6\",{staticClass:\"card-subtitle mb-2 text-muted\"},[t._v(t._s(t.convert_casing(t.appointmentStatus)))])])])]),s(\"div\",{staticClass:\"row scheduler-row\"},[s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\",staticStyle:{\"flex-direction\":\"inherit\"}},[s(\"div\",{staticClass:\"radio text-center\"},[s(\"label\",{staticStyle:{\"vertical-align\":\"text-top\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.visitStatus,expression:\"visitStatus\"}],attrs:{type:\"radio\",value:\"visited\"},domProps:{checked:t._q(t.visitStatus,\"visited\")},on:{change:[function(e){t.visitStatus=\"visited\"},t.changeSingleVisitStatus]}}),s(\"span\",{staticClass:\"icn\",attrs:{id:\"radio\"}})])]),t._m(3)])]),s(\"div\",{staticClass:\"col scheduler-col\"},[s(\"div\",{staticClass:\"card\",staticStyle:{\"flex-direction\":\"inherit\"}},[s(\"div\",{staticClass:\"radio text-center\"},[s(\"label\",{staticStyle:{\"vertical-align\":\"text-top\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.visitStatus,expression:\"visitStatus\"}],attrs:{type:\"radio\",value:\"not-visited\"},domProps:{checked:t._q(t.visitStatus,\"not-visited\")},on:{change:[function(e){t.visitStatus=\"not-visited\"},t.changeSingleVisitStatus]}}),s(\"span\",{staticClass:\"icn\",attrs:{id:\"radio\"}})])]),t._m(4)])])])]),s(\"div\",{staticClass:\"btn-wrap text-right d-flex\",staticStyle:{\"border-top\":\"none\",\"justify-content\":\"space-around\"}},[\"confirmed\"==t.appointmentStatus||\"visited\"==t.visitStatus?s(\"button\",{staticClass:\"reminder-btn\",attrs:{type:\"click\"},on:{click:function(e){return t.send_reminder(t.AppointmentID)}}},[t._v(\"Send Reminder\")]):t._e()]),s(\"div\",{staticClass:\"btn-wrap text-right d-flex\",staticStyle:{\"border-top\":\"none\"}},[t.isEdit?s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\"}},[t._v(\"Update\")]):t._e(),s(\"button\",{staticClass:\"green-btn text-uppercase ml-auto mr-auto\",on:{click:t.confirmAppointment}},[t._v(\" Confirm \")]),s(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.isReschedule,expression:\"!isReschedule\"}],staticClass:\"darkblue-btn text-uppercase ml-auto mr-auto\",attrs:{type:\"button\"},on:{click:function(e){t.isReschedule=!t.isReschedule}}},[t._v(\"Reschedule\")]),s(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.isReschedule,expression:\"isReschedule\"}],staticClass:\"darkblue-btn text-uppercase ml-auto mr-auto\",attrs:{type:\"button\"},on:{click:function(e){return t.get_time_slots(t.temp_data,\"#schedule_create\",t.selected_time,\"is_rescheduling\")}}},[t._v(\"Reschedule\")]),t.isReschedule?s(\"button\",{staticClass:\"delete-btn btn text-uppercase ml-auto mr-auto\",attrs:{type:\"button\"},on:{click:t.delete_appointment}},[t._v(\"Delete \")]):t._e()])])])])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"schedule_create\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"title\",\"aria-hidden\":\"true\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered justify-content-center\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content scheduler-create-modal\"},[s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t.edit_scheduling?t._e():s(\"p\",{staticClass:\"scheduler-modal-title\"},[t._v(\" Create Schedule \")]),t.edit_scheduling?s(\"p\",{staticClass:\"scheduler-modal-title\"},[t._v(\" Reschedule \")]):t._e(),t._m(5)]),s(\"div\",{staticClass:\"modal-body\"},[s(\"div\",{staticClass:\"form-group create-schedule-input d-flex\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.patient_name,expression:\"patient_name\"}],staticClass:\"form-control required\",attrs:{type:\"text\",placeholder:\"Patient Name\",required:\"\",disabled:t.edit_scheduling},domProps:{value:t.patient_name},on:{input:function(e){e.target.composing||(t.patient_name=e.target.value)}}}),s(\"div\",{staticClass:\"required-box \",class:{disabled:t.edit_scheduling}},[s(\"span\",{staticClass:\"required-text\"},[t._v(\"*\")])])]),s(\"div\",{staticClass:\"form-group create-schedule-input d-flex\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.visitor_number,expression:\"visitor_number\"}],staticClass:\"form-control\",attrs:{placeholder:\"Phone Number\",required:\"\",disabled:t.edit_scheduling},domProps:{value:t.visitor_number},on:{input:function(e){e.target.composing||(t.visitor_number=e.target.value)}}}),s(\"div\",{staticClass:\"required-box \",class:{disabled:t.edit_scheduling}},[s(\"span\",{staticClass:\"required-text\"},[t._v(\"*\")])])]),s(\"div\",{staticClass:\"form-group create-schedule-input d-flex\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.visit_reason,expression:\"visit_reason\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:\"Reason For Visit\",disabled:t.edit_scheduling},domProps:{value:t.visit_reason},on:{input:function(e){e.target.composing||(t.visit_reason=e.target.value)}}}),s(\"div\",{staticClass:\"required-box \",class:{disabled:t.edit_scheduling}})]),s(\"div\",{staticClass:\"form-group create-schedule-input d-flex\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.visitor_symptoms,expression:\"visitor_symptoms\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:\"Symptoms\",disabled:t.edit_scheduling},domProps:{value:t.visitor_symptoms},on:{input:function(e){e.target.composing||(t.visitor_symptoms=e.target.value)}}}),s(\"div\",{staticClass:\"required-box \",class:{disabled:t.edit_scheduling}})]),t._m(6),s(\"div\",{staticClass:\"form-group create-schedule-input d-flex\"},[s(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.selected_time,expression:\"selected_time\"}],staticClass:\"form-control\",attrs:{required:\"\"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.selected_time=e.target.multiple?s:s[0]}}},[t.time_slots.length>0?s(\"option\",{attrs:{value:\"\"}},[t._v(\"Select Time Slot\")]):s(\"option\",{attrs:{value:\"\"}},[t._v(\" No Time Slot Availabe\")]),t._l(t.time_slots,(function(e,i){return s(\"option\",{key:i,domProps:{value:e.value}},[t._v(t._s(e.text))])}))],2),t._m(7)]),s(\"span\",{staticStyle:{color:\"red\"}},[t._v(\"*\")]),s(\"span\",[t._v(\"- Required\")]),s(\"div\",{staticClass:\"btn-wrap d-flex justify-content-between\"},[s(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.edit_scheduling,expression:\"!edit_scheduling\"}],staticClass:\"darkblue-btn ml-auto mr-auto text-uppercase\",on:{click:t.create_appointment}},[t._v(\"Save\")]),s(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.edit_scheduling,expression:\"edit_scheduling\"}],staticClass:\"darkblue-btn ml-auto mr-auto text-uppercase\",attrs:{type:\"button\"},on:{click:t.confirmReschedule}},[t._v(\"Update\")])])])])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"patientdatamodel\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"patientdatamodeltitle\",\"aria-hidden\":\"true\",\"data-keyboard\":\"false\",\"data-backdrop\":\"static\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered justify-content-center\"},[s(\"div\",{staticClass:\"modal-content scheduler-modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[s(\"p\",{staticClass:\"scheduler-modal-title\"},[t._v(\" Change Status for Visit on \"+t._s(t.daily_date)+\" \")])]),t._m(8),s(\"div\",{staticClass:\"title-box\"},[s(\"p\",{staticClass:\"title-txt\"},[t._v(t._s(t.patient_name.slice(0,1)))])]),s(\"form\",{on:{submit:t.changeVisitStatus}},[s(\"div\",{staticClass:\"table-responsive\"},[s(\"table\",{staticClass:\"table\"},[t._m(9),s(\"tbody\",t._l(t.visit_status_data,(function(e,i){return s(\"tr\",{key:i},[s(\"td\",{staticStyle:{\"text-align\":\"left\"},attrs:{\"v-model\":e.VisitorName}},[t._v(\" \"+t._s(e.VisitorName)+\" \")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"},attrs:{\"v-model\":e.VisitSlot}},[t._v(\" \"+t._s(e.VisitSlot)+\" \")]),s(\"td\",[s(\"div\",{staticClass:\"radio text-center\"},[s(\"label\",{staticStyle:{\"vertical-align\":\"text-top\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.VisitStatus,expression:\"person.VisitStatus\"}],attrs:{type:\"radio\",name:e.name,value:\"visited\"},domProps:{checked:t._q(e.VisitStatus,\"visited\")},on:{change:function(s){return t.$set(e,\"VisitStatus\",\"visited\")}}}),s(\"span\",{staticClass:\"icn\",attrs:{id:\"radio\"}})])])]),s(\"td\",[s(\"div\",{staticClass:\"radio text-center\"},[s(\"label\",{staticStyle:{\"vertical-align\":\"text-top\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.VisitStatus,expression:\"person.VisitStatus\"}],attrs:{type:\"radio\",value:\"not-visited\",name:e.name},domProps:{checked:t._q(e.VisitStatus,\"not-visited\")},on:{change:function(s){return t.$set(e,\"VisitStatus\",\"not-visited\")}}}),s(\"span\",{staticClass:\"icn\",attrs:{id:\"radio\"}})])])]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.convert_casing(e.AppointmentStatus))+\" \")]),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s(\"button\",{staticClass:\"darkblue-btn\",attrs:{disabled:\"confirmed\"==e.AppointmentStatus||\"visited\"==e.VisitStatus},on:{click:function(s){return t.send_reminder(e.AppointmentID)}}},[t._v(\" Send \")])])])})),0)])]),t._m(10)])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"modal-head d-flex align-items-center mb-0\"},[s(\"p\",{staticClass:\"scheduler-modal-title\"},[t._v(\"Scheduler Settings \")]),s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/Scheduler_Close.svg\",alt:\"\"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"btn-wrap text-right d-flex\",staticStyle:{\"border-top\":\"none\"}},[s(\"button\",{staticClass:\"darkblue-btn text-uppercase mx-auto\",attrs:{type:\"submit\"}},[t._v(\"Save\")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/Scheduler_Close.svg\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Visited\")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticStyle:{cursor:\"pointer\"}},[s(\"h5\",{staticClass:\"card-title\"},[t._v(\"Not Visited\")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/Scheduler_Close.svg\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"form-group create-schedule-input d-flex\"},[s(\"input\",{staticClass:\"form-control\",attrs:{type:\"text\",id:\"datepicker-input\",\"aria-label\":\"Date-Time\",autocomplete:\"off\",required:\"\"}}),s(\"div\",{staticStyle:{\"margin-top\":\"-1px\"},attrs:{id:\"datepicker\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"required-box\"},[s(\"span\",{staticClass:\"required-text\"},[t._v(\"*\")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/Scheduler_Close.svg\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"left\"},attrs:{scope:\"col\"}},[t._v(\" Name \")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"},attrs:{scope:\"col\"}},[t._v(\" Time Slot \")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"},attrs:{scope:\"col\"}},[t._v(\"Visited\")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"},attrs:{scope:\"col\"}},[t._v(\"Not Visited\")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"},attrs:{scope:\"col\"}},[t._v(\"Appointment Status\")]),s(\"th\",{staticStyle:{\"text-align\":\"center\"},attrs:{scope:\"col\"}},[t._v(\"Send Reminder\")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\"}},[t._v(\"Save\")])])}],n=(s(\"99af\"),s(\"4de4\"),s(\"caad\"),s(\"c975\"),s(\"a15b\"),s(\"d81d\"),s(\"fb6a\"),s(\"b0c0\"),s(\"a9e3\"),s(\"d3b7\"),s(\"ac1f\"),s(\"25f0\"),s(\"2532\"),s(\"3ca3\"),s(\"5319\"),s(\"1276\"),s(\"ddb0\"),s(\"2b3d\"),s(\"ea54\")),o=s.n(n),r=s(\"bc3a\"),l=s.n(r),c=s(\"c1df\"),d=s.n(c),m=s(\"3d20\"),u=s.n(m),_=s(\"2563\"),h=s.n(_),p=s(\"0366d\"),v=s.n(p),f=(s(\"6ca0\"),s(\"152b\"),s(\"492b\"),{name:\"Scheduler\",data:function(){return{calendarInstance:null,current_calendar_view:\"day\",show_spinner:!1,selected_time:\"\",display_selected_time:\"\",scheduled_time:\"\",selected_date:\"\",patient_name:\"\",visitor_number:\"\",visit_reason:\"\",visitor_symptoms:\"\",schedule_list:[],selected_schedule_id:\"\",selected_schedule_visit_slot:\"\",isEdit:!1,spinnerOn:!1,phone_number_validity:/\\+[0-9]{9,14}$/,full_time_slots:[],time_slots:[],selected_time_slot:\"\",user_role:this.$session.get(\"UserInformation\").role,scheduling_contact_number:\"\",file_label:\"Choose File\",week_days:[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"],daysInMonth:[],activeMonthYear:\"\",csv_file:\"\",sch_voice_greetings:\"\",sch_sms_greetings:\"\",show_check_and_change_status:!0,user_type:null,visit_status_data:null,visit_status_comparison_data:[],daily_date:\"\",isReschedule:!0,datepickerInstance:null,new_selected_date:\"\",call_reminder_hrs:Number,call_reminder_mins:Number,edit_scheduling:!1,temp_data:\"\",isAppointmentConfirmed:!1,appointmentStatus:\"\",visitStatus:\"\",AppointmentID:\"\",isRescheduletime:!1,temp_name:\"\",temp_reason:\"\",temp_symptoms:\"\",temp_appointment_date:\"\",temp_appointment_time:\"\",temp_time_slots:[],companyid:\"\",companyname:\"\",support_numbers_list:[],filled_time_slots_selected_date:[]}},components:{},computed:{validPhoneNumber:function(){return!!this.phone_number_validity.test(this.scheduling_contact_number.replace(/\\s+/g,\"\"))||\"Please enter a valid phone number in the format: +CountryCode Number\"},createModalTitle:function(){return this.patient_name.split(\" \").slice(0,1).map((function(t){return t.charAt(0)})).join(\"\").toUpperCase()},timeSlotsList:function(){for(var t=[],e=0;e<=23;e+=1)t.push({display:d()(e,[\"h\"]).format(\"h:mm A\"),value:d()(e,[\"h\"]).format(\"H:mm\")});return t}},watch:{current_calendar_view:function(t){this.toggle_view(t)}},created:function(){var t=this;this.$session.has(\"CompanyId\")||\"SuperAdmin\"!=this.$session.get(\"UserInformation\").role?\"SuperAdmin\"==this.$session.get(\"UserInformation\").role?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name):(toastr.warning(\"Please select a company name from the dropdown\"),l.a.post(o.a.load_support_url(),{companyname:this.companyname,companyid:this.companyid,show_superadmin:\"True\",email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,isShow:\"True\"},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.support_numbers_list=e.data[0].map((function(t){return t[\"ContactNumber\"]}))}))),(this.$session.has(\"CompanyId\")||\"SuperAdmin\"!=this.$session.get(\"UserInformation\").role)&&l.a.post(o.a.load_support_url(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,license_key:this.$session.get(\"UserInformation\").license_key,isShow:\"True\"},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.support_numbers_list=e.data[0].map((function(t){return t[\"ContactNumber\"]}))}))},mounted:function(){var t=this;this.show_spinner=!0;var e=this;this.calendarInstance=new h.a(\"#calendar\",{defaultView:\"day\",taskView:!1,scheduleView:[\"time\"],theme:{\"month.dayname.textAlign\":\"center\",\"month.dayname.textTransform\":\"uppercase\",\"week.dayname.borderLeft\":\"1px solid #DFDFDF\",\"month.schedule.borderRadius\":\"2px\",\"month.schedule.marginTop\":\"2px\",\"month.schedule.marginLeft\":\"8px\",\"month.schedule.marginRight\":\"8px\",\"week.daygrid.backgroundColor\":\"none\",\"week.dayname.textAlign\":\"center\",\"week.dayname.textTransform\":\"uppercase\",\"week.timegridHorizontalLine.borderBottom\":\"1px dashed #F1F1F1\",\"week.timegrid.borderRight\":\"1px solid #DFDFDF\"},template:{monthGridHeader:function(t){var e=d()(t.date,[\"YYYY-MM-DD\"]).format(\"DD\"),s=[\"tui-full-calendar-weekday-grid-date \"];return t.isToday&&s.push(\"tui-full-calendar-weekday-grid-date-decorator\"),'<span class=\"'+s.join(\" \")+'\">'+e+\"</span>\"},monthDayname:function(t){return'<span style=\"color:#959595\">'.concat(t.label.toString().toLocaleUpperCase(),\"</span>\")},weekDayname:function(t){return'<span class=\"tui-full-calendar-dayname-date\"></span>&nbsp;&nbsp;<span class=\"tui-full-calendar-dayname-name\">'+t.dayName.toLocaleUpperCase()+\"</span>\"}},useCreationPopup:!1,useDetailPopup:!1}),this.current_calendar_view=\"day\",this.calendarInstance.on(\"clickDayname\",(function(t){\"week\"===e.calendarInstance.getViewName()&&(e.calendarInstance.setDate(new Date(t.date)),e.calendarInstance.changeView(\"day\",!0),this.current_calendar_view=\"day\",e.setRenderRangeText())})),this.calendarInstance.on(\"afterRenderSchedule\",(function(t){})),this.setRenderRangeText(),this.calendarInstance.on(\"beforeCreateSchedule\",(function(e){t.new_schedule(e.start._date),e.guide.clearGuideElement()})),this.calendarInstance.on(\"clickSchedule\",(function(t){if(t.schedule.raw.isHoliday)toastr.error(\"You cannot enter a schedule for this date. \\n Reason: \"+t.schedule.raw.reason);else{var s=t.schedule;e.patient_name=s.title,e.visit_reason=s.raw.reason,e.visitor_symptoms=s.raw.symptoms,e.visitor_number=s.raw.phone_number;var i=s.raw.start+\"-\"+s.raw.end,a=d()(s.raw.start,[\"HH:mm\"]).format(\"hh:mm A\"),n=d()(s.raw.end,[\"HH:mm\"]).format(\"hh:mm A\");e.display_selected_time=\"\".concat(a,\" - \").concat(n),e.selected_schedule_id=s.id,e.selected_schedule_visit_slot=s.raw.visit_slot,e.get_time_slots(s.start._date,\"#schedule_details\",i),e.appointmentStatus=s.raw.appointment_status,e.AppointmentID=s.raw.appointment_id,e.visitStatus=s.raw.visit_status,e.openCheckAndChangeStatusModal(s.raw.appointment_id,s.start._date)}})),this.update_schedules_list(),$(\"#schedule_details\").on(\"hidden.bs.modal\",(function(){e.edit_scheduling||(e.patient_name=\"\",e.visit_reason=\"\",e.visitor_symptoms=\"\",e.visitor_number=\"\",e.selected_time=\"\",e.isEdit=!1,e.selected_schedule_id=\"\",e.selected_schedule_visit_slot=\"\",e.isRescheduletime=!1,e.edit_scheduling=!1)})),$(\"#schedule_create\").on(\"hidden.bs.modal\",(function(){e.patient_name=\"\",e.visit_reason=\"\",e.visitor_symptoms=\"\",e.visitor_number=\"\",e.selected_time=\"\"})),$(\"#scheduling_modal\").on(\"hidden.bs.modal\",(function(){e.scheduling_contact_number=\"\",e.sch_voice_greetings=\"\",e.sch_sms_greetings=\"\",e.csv_file=\"\",e.file_label=\"Choose File\"}));var s,i,a,n,o,r,l,c,m;e=this;for(s=document.getElementsByClassName(\"custom-scheduler-select\"),n=s.length,i=0;i<n;i++){for(r=s[i].getElementsByTagName(\"select\")[0],o=r.length,l=document.createElement(\"DIV\"),l.setAttribute(\"class\",\"select-selected\"),l.innerHTML=r.options[r.selectedIndex].innerHTML,s[i].appendChild(l),c=document.createElement(\"DIV\"),c.setAttribute(\"class\",\"select-items select-hide\"),a=1;a<o;a++)m=document.createElement(\"DIV\"),m.innerHTML=r.options[a].innerHTML,m.addEventListener(\"click\",(function(t){var s,i,a,n,o,l,c;for(n=this.parentNode.parentNode.getElementsByTagName(\"select\")[0],l=n.length,o=this.parentNode.previousSibling,i=0;i<l;i++)if(n.options[i].innerHTML==this.innerHTML){for(n.selectedIndex=i,o.innerHTML=this.innerHTML,s=this.parentNode.getElementsByClassName(\"same-as-selected\"),c=s.length,a=0;a<c;a++)s[a].removeAttribute(\"class\");this.setAttribute(\"class\",\"same-as-selected\");break}o.click(),e.current_calendar_view=r.value})),c.appendChild(m);s[i].appendChild(c),l.addEventListener(\"click\",(function(t){t.stopPropagation(),u(this),this.nextSibling.classList.toggle(\"select-hide\"),this.classList.toggle(\"select-arrow-active\")}))}function u(t){var e,s,i,a,n,o=[];for(e=document.getElementsByClassName(\"select-items\"),s=document.getElementsByClassName(\"select-selected\"),a=e.length,n=s.length,i=0;i<n;i++)t==s[i]?o.push(i):s[i].classList.remove(\"select-arrow-active\");for(i=0;i<a;i++)o.indexOf(i)&&e[i].classList.add(\"select-hide\")}document.addEventListener(\"click\",u)},methods:{open_scheduling_modal:function(){var t=this;this.show_spinner=!0,this.edit_scheduling=!1,l.a.post(o.a.scheduling_settings_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,getSchedulingInfo:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.show_spinner=!1,null!=e.data&&void 0!=e.data.Scheduling_info){for(var s in t.scheduling_contact_number=e.data.Scheduling_info.phone_number,t.sch_voice_greetings=e.data.Scheduling_info.voice_text,t.sch_sms_greetings=e.data.Scheduling_info.sms_text,null==e.data.Scheduling_info.eta_to_call?(t.call_reminder_mins=15,t.call_reminder_hrs=0):(t.call_reminder_mins=e.data.Scheduling_info.eta_to_call.minutes,t.call_reminder_hrs=e.data.Scheduling_info.eta_to_call.hours),t.selected_time_slot=null!==e.data.Scheduling_info.time_slot?e.data.Scheduling_info.time_slot:\"\",\"\"==e.data.Scheduling_info.Holiday_list_file_name||e.data.Scheduling_info.Holiday_list_file_name,e.data.Scheduling_info.working_hrs)document.querySelector(\"#from_\"+s).value=e.data.Scheduling_info.working_hrs[s].StartTime,document.querySelector(\"#to_\"+s).value=e.data.Scheduling_info.working_hrs[s].EndTime;$(\"#scheduling_modal\").modal(\"show\")}})).catch((function(e){t.show_spinner=!1,$(\"#scheduling_modal\").modal(\"hide\"),toastr.error(\"Internal Server Error\")}))},get_time_slots:function(t,e,s,i){var a=this;this.show_spinner=!0,this.edit_scheduling=\"is_rescheduling\"===i,\"is_rescheduling\"===i&&this.hide_modal(\"schedule_details\"),l.a.post(o.a.schedule_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,Date:d()(t).format(\"YYYY-MM-D\"),appointment_date:d()(t).format(\"YYYY-MM-DD\")},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(i){if(a.show_spinner=!1,null==i.data);else if(\"Please update your scheduler settings\"==i.data.msg)toastr.error(\"Please update your scheduler settings\");else if(\"Internal Server Error\"==i.data.msg)toastr.error(\"Internal Server Error\");else if(void 0!=i.data.full_time_slots){var n=new Date;a.full_time_slots=[];var o=!0,r=new Date(t);if(r.getFullYear()>n.getFullYear()||r.getFullYear()==n.getFullYear()&&(r.getMonth()>n.getMonth()||r.getMonth()==n.getMonth()&&(r.getDate()>n.getDate()||r.getDate()==n.getDate()&&(o=!1))),o)for(var l in i.data.full_time_slots)a.full_time_slots.push({value:i.data.full_time_slots[l],text:a.generate_time(i.data.full_time_slots[l].split(\"-\")[0],i.data.full_time_slots[l].split(\"-\")[1])});else for(var l in i.data.full_time_slots)n.getHours()<Number(i.data.full_time_slots[l].split(\"-\")[0].split(\":\")[0])&&a.full_time_slots.push({value:i.data.full_time_slots[l],text:a.generate_time(i.data.full_time_slots[l].split(\"-\")[0],i.data.full_time_slots[l].split(\"-\")[1])});if(Boolean(s))for(var l in a.isEdit=!1,a.selected_time=s,a.scheduled_time=a.generate_time(s.split(\"-\")[0],s.split(\"-\")[1]),a.time_slots=[],a.full_time_slots)-1!=i.data.filled_time_slots.indexOf(a.full_time_slots[l].value)&&a.selected_time!=a.full_time_slots[l].value||a.time_slots.push(a.full_time_slots[l]);else if(!Boolean(s))if(0==i.data.filled_time_slots.length)a.time_slots=a.full_time_slots;else for(var l in a.time_slots=[],a.full_time_slots)-1==i.data.filled_time_slots.indexOf(a.full_time_slots[l].value)&&a.time_slots.push(a.full_time_slots[l]);if(0===a.time_slots.length&&\"schedule_details\"==e)toastr.error(\"No Free Slots for this Date\");else{$(e).modal(\"show\"),a.temp_name=a.patient_name,a.temp_reason=a.visit_reason,a.temp_symptoms=a.visitor_symptoms,a.temp_appointment_time=a.selected_time,a.isReschedule=!0;var c=new Date(t.getFullYear()+\"-\"+(t.getMonth()<9?\"0\"+(t.getMonth()+1):t.getMonth()+1)+\"-\"+t.getDate());a.temp_data=c,a.previous_visit_date=c,a.temp_appointment_date=d()(c).format(\"MM-DD-YYYY\");var m=new Date;a.datepickerInstance=new v.a(\"#datepicker\",{date:c,minDate:m,input:{element:\"#datepicker-input\",format:\"yyyy-MM-dd\"},setRanges:[[new Date,new Date(2050,12,12)]]});var u=a;a.datepickerInstance.on(\"close\",(function(){u.checkdate()}))}}})).catch((function(t){a.show_spinner=!1,toastr.error(\"Internal Server Error\")}))},sample_holiday:function(){var t=this;event.preventDefault(),this.spinnerOn=!0,this.show_spinner=!0,l()({method:\"post\",url:o.a.holiday_file_download(),responseType:\"blob\",headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))},data:{isHolidayFile:!0,company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,email:this.$session.get(\"UserInformation\").email}}).then((function(e){if(t.show_spinner=!1,t.spinnerOn=!1,\"Not able to download file\"===e.data.message)u.a.fire({title:\"Some Error Occurred. Please Try Again\",type:\"error\",timer:2500});else{var s=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement(\"a\");i.href=s,i.setAttribute(\"download\",\"holidaySampleFile.csv\"),document.body.appendChild(i),i.click()}})).catch((function(e){t.show_spinner=!1,t.spinnerOn=!1,u.a.fire({title:\"Some Error Occurred. Please Try Again\",type:\"error\",timer:2500}),410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},fileinput:function(t){var e=t.target.files||t.dataTransfer.files;e[0].size<1e6?e[0].name.includes(\"csv\")&&(this.file_label=e[0].name,this.createCSV(e[0])):toastr.error(\"Upload only .csv file with size less than 1MB\"),e.length},createCSV:function(t,e){var s=this,i=new FileReader;i.onload=function(t){s.csv_file=t.target.result.split(\"base64,\")[1]},i.readAsDataURL(t)},send_scheduling:function(){var t=this,e={};for(var s in this.week_days)e[this.week_days[s]]={StartTime:document.querySelector(\"#from_\"+this.week_days[s]).value,EndTime:document.querySelector(\"#to_\"+this.week_days[s]).value};\"\"!=this.sch_voice_greetings&&\"\"!=this.sch_sms_greetings&&\"\"!=this.selected_time_slot&&\"\"!=this.scheduling_contact_number&&1==this.validPhoneNumber?(this.show_spinner=!0,l.a.post(o.a.scheduling_settings_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,getSchedulingInfo:!1,isupdate:!0,ContactNumber:this.scheduling_contact_number,timeslot:Number(this.selected_time_slot),working_hrs:e,isupdateHoliday:\"\"!=this.csv_file,holiday_list_file_name:this.file_label,holiday_list_file_data:\"\"==this.csv_file?null:this.csv_file,voicetext:this.sch_voice_greetings,smstext:this.sch_sms_greetings,eta_to_call:{hours:Number(this.call_reminder_hrs),minutes:Number(this.call_reminder_mins)}},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,t.hide_modal(\"scheduling_modal\"),null!=e.data&&\"Scheduling info updated\"==e.data.msg?(toastr.success(\"Your scheduling information has been updated successfully\"),t.update_schedules_list()):\"Invalid Header\"==e.data.msg?toastr.error(\"Please enter your headers as provided in the sample file below.\"):\"\"==e.data.msg||(null==e.data||toastr.error(\"Internal Server Error\"),$(\"#scheduling_modal\").modal(\"hide\"))}))):1!=this.validPhoneNumber&&\"\"!=this.scheduling_contact_number?toastr.error(\"Mobile number is invalid, please enter in format: + CountryCode Number\"):toastr.error(\"Please enter all the required fields.\")},generate_time:function(t,e){var s=d()(t,[\"hh:mm\"]).format(\"hh:mm A\"),i=d()(e,[\"hh:mm\"]).format(\"hh:mm A\");return\"\".concat(s,\"-\").concat(i)},new_schedule:function(t){var e=\"\";e=d()(t,\"YYYY-MM-DD\",!0).isValid()?t:this.calendarInstance.getDate();var s=this.schedule_list.filter((function(t){return d()(t.start).format(\"YYYY MMMM DD\")==d()(e).format(\"YYYY MMMM DD\")&&1==t.raw.isHoliday})),i=new Date,a=e;this.selected_date=a,a.setHours(0,0,0,0),this.date_condition(i,a)&&0==s.length&&\"Sunday\"!=d()(a).format(\"dddd\")?this.get_time_slots(e,\"#schedule_create\"):s.length>0&&toastr.error(\"You cannot enter a schedule for this date. \\n Reason: \"+s[0].raw.reason)},create_appointment:function(){var t=this,e=/\\+[0-9]{9,14}$/,s=this.visitor_number.replace(/\\s+/g,\"\");if(event.preventDefault(),\"\"!=this.patient_name&&\"\"!=this.visitor_number&&\"\"!=this.selected_time)if(e.test(s))if(this.isEdit){var i={VisitorName:this.patient_name,VisitReason:this.visit_reason,Symptoms:this.visitor_symptoms,VisitSlot:this.selected_time,PhoneNumber:this.visitor_number,VisitDate:this.selected_schedule_visit_slot.split(\" \")[0]};this.show_spinner=!0,l.a.post(o.a.schedule_edit_delete_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,date:this.selected_schedule_visit_slot.split(\" \")[0],is_edit:this.isEdit,appointment_id:this.selected_schedule_id,appointment_info:i},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,void 0!=e.data.msg&&\"Edit Appointment\"==e.data.msg?(toastr.success(\"Your appointment has been edited successfully.\"),t.hide_modal(\"schedule_create\"),t.update_schedules_list()):\"Internal Server Error\"==e.data.msg&&(toastr.error(\"Internal Server Error\"),t.hide_modal(\"schedule_details\"))})).catch((function(e){toastr.error(\"Internal Server Error\"),t.hide_modal(\"schedule_details\")}))}else this.show_spinner=!0,l.a.post(o.a.schedule_appointment_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,phone_number:this.visitor_number,visitor_name:this.patient_name,visit_reason:this.visit_reason,symptoms:this.visitor_symptoms,visit_slot:this.selected_time,visit_date:$(\"#datepicker-input\")[0].value},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,void 0!=e.data.msg&&\"Appointment Added Successfully\"==e.data.msg?(toastr.success(\"Your appointment has been created successfully.\"),t.hide_modal(\"schedule_create\"),t.update_schedules_list()):\"Internal Server Error\"==e.data.msg&&(toastr.error(\"Internal Server Error\"),t.hide_modal(\"schedule_create\"))})).catch((function(e){toastr.error(\"Internal Server Error\"),t.hide_modal(\"schedule_create\"),t.show_spinner=!1}));else toastr.error(\"Mobile number is invalid, please enter in format: + CountryCode Number\");else toastr.error(\"Please enter all the required fields.\")},delete_appointment:function(){var t=this;event.preventDefault(),u.a.fire({title:\"Are you sure?\",text:\"You won't be able to revert this!\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete!!\"}).then((function(e){e.value&&(t.show_spinner=!0,l.a.post(o.a.schedule_edit_delete_url(),{company_name:t.$session.get(\"UserInformation\").company_name,company_id:t.$session.get(\"UserInformation\").company_id,email:t.$session.get(\"UserInformation\").email,license_key:t.$session.get(\"UserInformation\").license_key,token:t.$session.get(\"UserInformation\").tokens,is_delete:!0,date:t.selected_schedule_visit_slot.split(\" \")[0],appointment_id:t.selected_schedule_id},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,t.hide_modal(\"schedule_details\"),\"Deleted Successfully\"==e.data.msg?(toastr.success(\"Your appointment has been deleted successfully.\"),t.update_schedules_list()):\"Internal Server Error\"==e.data.msg&&(toastr.error(\"Internal Server Error\"),t.hide_modal(\"schedule_details\"))})).catch((function(e){toastr.error(\"Internal Server Error\"),t.hide_modal(\"schedule_details\")})))}))},render_schedule:function(t){var e=[];for(var s in t)for(var i in t[s])\"Holiday\"==i?e.push({id:i,calendarId:\"1\",title:\"Holiday\",category:\"time\",dueDateClass:\"\",raw:{reason:t[s][i].Reason,isHoliday:!0},start:this.set_time_intervals(s,\"00:00\"),end:this.set_time_intervals(s,\"23:59\")}):e.push({id:i,calendarId:\"1\",title:t[s][i].VisitorName,category:\"time\",dueDateClass:\"\",raw:{phone_number:t[s][i].PhoneNumber,reason:t[s][i].VisitReason,symptoms:t[s][i].Symptoms,visit_slot:t[s][i].VisitSlot,start:t[s][i].VisitSlot.split(\" \")[1].split(\"-\")[0],end:t[s][i].VisitSlot.split(\" \")[1].split(\"-\")[1],isHoliday:!1,appointment_status:t[s][i].AppointmentStatus,visit_status:t[s][i].VisitStatus,appointment_id:i},start:this.set_time_intervals(t[s][i].VisitSlot.split(\" \")[0],t[s][i].VisitSlot.split(\" \")[1].split(\"-\")[0]),end:\"00:00\"==t[s][i].VisitSlot.split(\" \")[1].split(\"-\")[1]?this.set_time_intervals(t[s][i].VisitSlot.split(\" \")[0],\"23:59\"):this.set_time_intervals(t[s][i].VisitSlot.split(\" \")[0],t[s][i].VisitSlot.split(\" \")[1].split(\"-\")[1])});this.schedule_list=e,this.calendarInstance.clear(),this.calendarInstance.createSchedules(e),this.calendarInstance.render()},setRenderRangeText:function(){this.show_spinner=!1;var t=document.getElementById(\"renderRange\"),e=this.calendarInstance.getOptions(),s=this.calendarInstance.getViewName(),i=[];if(\"month\"===s&&(!e.month.visibleWeeksCount||e.month.visibleWeeksCount>4)||\"day\"===s)i.push(d()(this.calendarInstance.getDate().getTime()).format(\"MMMM YYYY\"));else{var a=this.calendarInstance.getDateRangeStart().getTime(),n=this.calendarInstance.getDateRangeEnd().getTime();d()(n).subtract(a,\"year\")?i.push(\"\".concat(d()(a).format(\"D MMMM YYYY\"),\" to \").concat(d()(n).format(\"D MMMM YYYY\"))):d()(n).subtract(a,\"month\")?i.push(\"\".concat(d()(a).format(\"D MMMM\"),\" to \").concat(d()(n).format(\"D MMMM YYYY\"))):i.push(\"\".concat(d()(a).format(\"D\"),\" to \").concat(d()(n).format(\"D MMMM YYYY\")))}this.generate_days_in_month(d()(this.calendarInstance.getDate().getTime()).format(\"D\"),d()(this.calendarInstance.getDate().getTime()).format(\"MMMM\"),d()(this.calendarInstance.getDate().getTime()).format(\"YYYY\")),t.innerHTML=i.join(\"\"),this.daily_date=t.innerHTML},date_condition:function(t,e){return null!==t&&null!==e?e.getFullYear()>t.getFullYear()||e.getFullYear()==t.getFullYear()&&(e.getMonth()>t.getMonth()||e.getMonth()==t.getMonth()&&Number(e.getDate())>=Number(t.getDate())):null===t&&null===e},toggle_view:function(t){this.show_check_and_change_status=\"day\"==t,this.calendarInstance.changeView(t,!0),this.setRenderRangeText()},switch_calendar:function(t,e){var s=this;\"today\"==t?(this.current_calendar_view=\"day\",this.calendarInstance.today()):\"week\"==this.calendarInstance._viewName||\"day\"==this.calendarInstance._viewName?\"next\"==t?this.calendarInstance.next():\"prev\"==t?this.calendarInstance.prev():\"custom\"==t&&this.calendarInstance.setDate(new Date(this.calendarInstance.getDate().setDate(e))):\"month\"==this.calendarInstance._viewName&&(this.show_spinner=!0,\"next\"==t?this.calendarInstance.next():\"prev\"==t&&this.calendarInstance.prev()),this.show_spinner=!0,l.a.post(o.a.schedule_info_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,first_day:this.month_range(\"start_time\"),last_day:this.month_range(\"end_time\")},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){s.show_spinner=!1,s.render_schedule(t.data.Scheduling_info)})),this.setRenderRangeText(),this.show_spinner=!1},month_range:function(t){var e=d()(this.calendarInstance.getDate().getTime());if(e=d()(e).daysInMonth(),\"start_time\"==t){var s=null;return s=\"week\"==this.calendarInstance._viewName?this.calendarInstance._renderRange.start._date:new Date(this.calendarInstance.getDate()._date.getFullYear(),this.calendarInstance.getDate()._date.getMonth(),1),s=s.getFullYear()+\"-\"+(s.getMonth()<9?\"0\"+(s.getMonth()+1):s.getMonth()+1)+\"-\"+(s.getDate()<10?\"0\"+s.getDate():s.getDate()),s}if(\"end_time\"==t){var i=null;return i=\"week\"==this.calendarInstance._viewName?this.calendarInstance._renderRange.end._date:new Date(this.calendarInstance.getDate()._date.getFullYear(),this.calendarInstance.getDate()._date.getMonth(),e),i=i.getFullYear()+\"-\"+(i.getMonth()<9?\"0\"+(i.getMonth()+1):i.getMonth()+1)+\"-\"+(i.getDate()<10?\"0\"+i.getDate():i.getDate()),i}},generate_days_in_month:function(t,e,s){var i=d()(\"\".concat(e,\" \").concat(s),[\"MMMM YYYY\"]).daysInMonth();this.daysInMonth=[];for(var a=1,n=i;a<=n;a++)this.daysInMonth.push({day:d()(\"\".concat(a,\" \").concat(e,\" \").concat(s),[\"D MMMM YYYY\"]).format(\"dd\"),date:a,is_active:d()(\"\".concat(t,\" \").concat(e,\" \").concat(s),[\"D MMMM YYYY\"]).isSame(d()(\"\".concat(a,\" \").concat(e,\" \").concat(s),[\"D MMMM YYYY\"]),\"day\")})},set_time_intervals:function(t,e){var s=new Date(t.split(\"-\")[0],t.split(\"-\")[1]-1,t.split(\"-\")[2],e.split(\":\")[0],e.split(\":\")[1]);return s=d()(s).format(),s},openCheckAndChangeStatusModal:function(t,e){var s=this;this.show_spinner=!0;var i=d()(e).format(\"YYYY-MM-DD\");l.a.post(o.a.visit_status_info(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,date:i,is_get:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(s.show_spinner=!1,0!=e.data.data.length){var i=e.data.data.filter((function(e){return e[\"AppointmentID\"]==t}));1===i.length&&(s.visitStatus=i[0][\"VisitStatus\"]),s.visit_status_data=e.data.data;for(var a=[],n=[],o=[],r=[],l=0;l<s.visit_status_data.length;l++)for(var c=0;c<s.schedule_list.length;c++)s.visit_status_data[l].AppointmentID===s.schedule_list[c].id&&(s.visit_status_data[l][\"AppointmentStatus\"]=s.schedule_list[c].raw.appointment_status,\"confirmed\"===s.visit_status_data[l][\"AppointmentStatus\"]&&a.push(s.visit_status_data[l]),\"none\"===s.visit_status_data[l][\"AppointmentStatus\"]&&n.push(s.visit_status_data[l]),\"rescheduled\"===s.visit_status_data[l][\"AppointmentStatus\"]&&o.push(s.visit_status_data[l]),\"deleted\"===s.visit_status_data[l][\"AppointmentStatus\"]&&r.push(s.visit_status_data[l])),s.visit_status_data[l][\"CompareVisitStatus\"]=e.data.data[l].VisitStatus;s.visit_status_data=[],s.visit_status_data=s.visit_status_data.concat(n,a,o,r)}else\"No Appointments Scheduled\"!==e.data.msg&&0!==e.data.data.length||(s.visit_status_data=[],u.a.fire({text:\"No Appointments have been scheduled for  \"+s.daily_date,type:\"warning\",confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Okay\"}).then((function(t){s.hide_modal(\"patientdatamodel\")})))})).catch((function(t){s.show_spinner=!1,toastr.error(\"Internal Server Error\")}))},changeSingleVisitStatus:function(){var t=this;this.show_spinner=!0,event.preventDefault();for(var e=$(\"#datepicker-input\")[0].value,s=this.visit_status_data.length,i=[],a=0;a<s;a++)this.visit_status_data[a].AppointmentID===this.AppointmentID&&i.push({AppointmentID:this.visit_status_data[a].AppointmentID,VisitorName:this.visit_status_data[a].VisitorName,VisitSlot:this.visit_status_data[a].VisitSlot,AppointmentStatus:this.visit_status_data[a].AppointmentStatus,VisitStatus:this.visitStatus});i.length>0&&l.a.post(o.a.visit_status_info(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,response_visit_status:i,is_edit:!0,date:e},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,\"Visit Status Edited\"==e.data.msg?(toastr.success(\"Visit Status Changed Successfully\"),t.hide_modal(\"patientdatamodel\")):(t.show_spinner=!1,toastr.error(\"Some Error Occurred\"))})).catch((function(e){t.show_spinner=!1,toastr.error(\"Some Error Occurred\")}))},changeVisitStatus:function(){var t=this;this.show_spinner=!0,event.preventDefault();for(var e=$(\"#datepicker-input\")[0].value,s=this.visit_status_data.length,i=[],a=0;a<s;a++)this.visit_status_data[a].CompareVisitStatus===this.visitStatus||i.push({AppointmentID:this.visit_status_data[a].AppointmentID,VisitorName:this.visit_status_data[a].VisitorName,VisitSlot:this.visit_status_data[a].VisitSlot,AppointmentStatus:this.visit_status_data[a].AppointmentStatus,VisitStatus:this.visitStatus});i.length>0&&l.a.post(o.a.visit_status_info(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,response_visit_status:i,is_edit:!0,date:e},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,\"Visit Status Edited\"==e.data.msg?(toastr.success(\"Visit Status Changed Successfully\"),t.hide_modal(\"patientdatamodel\")):(t.show_spinner=!1,toastr.error(\"Some Error Occurred\"))})).catch((function(e){t.show_spinner=!1,toastr.error(\"Some Error Occurred\")}))},confirmReschedule:function(){var t=this,e=0===d()(this.temp_appointment_date,[\"MM-DD-YYYY\"]).diff(d()($(\"#datepicker-input\")[0].value,[\"YYYY-MM-DD\"]),\"day\")&&this.temp_appointment_time==this.selected_time;if(e&&u.a.fire({type:\"warning\",text:\"It looks like you have not made any change to the appointment date and appointment time\",showConfirmButton:!0,timer:9e3}).then((function(t){})),this.filled_time_slots_selected_date.includes(this.selected_time)||\"\"==this.selected_time)toastr.error(\"Please enter all the required fields.\");else{this.show_spinner=!0;var s=document.getElementById(\"datepicker-input\").value,i=d()(this.temp_appointment_date,[\"MM-DD-YYYY\"]).format(\"YYYY-MM-DD\");l.a.post(o.a.reschedule_appointment(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,phone_number:this.visitor_number,visitor_name:this.patient_name,visit_reason:this.visit_reason,visit_slot:this.selected_time,symptoms:this.visitor_symptoms,visit_date:s,previous_visit_date:i,token:this.$session.get(\"UserInformation\").tokens,appointment_id:this.selected_schedule_id},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.edit_scheduling=!1,t.hide_modal(\"schedule_create\"),\"Appointment Rescheduled Successfully\"==e.data.msg?(t.show_spinner=!1,toastr.success(\"Appointment Has Been Rescheduled Successfully\"),t.update_schedules_list()):(t.show_spinner=!1,toastr.error(\"Something Went Wrong\"),setTimeout((function(){t.$router.go()}),1e3))})).catch((function(e){t.show_spinner=!1,toastr.error(\"Some Error Occurred\")}))}},keepcheckingdate:function(){var t=this;this.show_spinner=!0,this.datepickerInstance.on(\"close\",(function(){t.checkdate()}))},checkdate:function(){var t=this,e=new Date;if(this.date_condition(e,new Date($(\"#datepicker-input\")[0].value))){this.selected_date=$(\"#datepicker-input\")[0].value;var s=$(\"#datepicker-input\")[0].value;this.selected_time,e.getHours(),e.getMinutes(),e.getSeconds();l.a.post(o.a.schedule_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,phone_number:this.visitor_number,Date:this.selected_date,appointment_date:this.selected_date,email:this.$session.get(\"UserInformation\").email},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.new_selected_date=$(\"#datepicker-input\")[0].value,null==e.data);else if(\"Please update your scheduler settings\"==e.data.msg)toastr.error(\"Please update your scheduler settings\");else if(\"Internal Server Error\"==e.data.msg)toastr.error(\"Internal Server Error\");else if(t.isRescheduletime=!0,t.full_time_slots=[],t.time_slots=[],void 0!=e.data.full_time_slots){var i=new Date;t.full_time_slots=[];var a=!0,n=new Date(s);if(n.getFullYear()>i.getFullYear()||n.getFullYear()==i.getFullYear()&&(n.getMonth()>i.getMonth()||n.getMonth()==i.getMonth()&&(n.getDate()>i.getDate()||n.getDate()==i.getDate()&&(a=!1))),a)for(var o in e.data.full_time_slots)t.full_time_slots.push({value:e.data.full_time_slots[o],text:t.generate_time(e.data.full_time_slots[o].split(\"-\")[0],e.data.full_time_slots[o].split(\"-\")[1])});else for(var o in e.data.full_time_slots)i.getHours()<Number(e.data.full_time_slots[o].split(\"-\")[0].split(\":\")[0])&&t.full_time_slots.push({value:e.data.full_time_slots[o],text:t.generate_time(e.data.full_time_slots[o].split(\"-\")[0],e.data.full_time_slots[o].split(\"-\")[1])});if(t.filled_time_slots_selected_date=e.data.filled_time_slots,0==e.data.filled_time_slots.length)t.time_slots=t.full_time_slots;else for(var o in t.time_slots=[],t.full_time_slots)-1==e.data.filled_time_slots.indexOf(t.full_time_slots[o].value)&&t.time_slots.push(t.full_time_slots[o])}t.show_spinner=!1}))}else toastr.error(\"Please Select A Valid Date\"),this.datepickerInstance.open(),$(\"#datepicker-input\")[0].value=this.new_selected_date},send_reminder:function(t){var e=this;event.preventDefault(),u.a.fire({title:\"Are you sure?\",text:\" You want to Send the Reminder\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Send!!\"}).then((function(s){if(s.value){e.show_spinner=!0;var i=new Date(e.temp_appointment_date),a=i.getFullYear()+\"-\"+(i.getMonth()+1)+\"-\"+i.getDate();l.a.post(o.a.send_reminder(),{company_name:e.$session.get(\"UserInformation\").company_name,company_id:e.$session.get(\"UserInformation\").company_id,email:e.$session.get(\"UserInformation\").email,license_key:e.$session.get(\"UserInformation\").license_key,token:e.$session.get(\"UserInformation\").tokens,appointment_id:t,date:a,visit_slot:e.display_selected_time},{headers:{Authorization:\"Bearer \".concat(e.$session.get(\"at\"))}}).then((function(t){e.show_spinner=!1,1==t.data.success?toastr.success(\"Notification Has been sent\"):0==t.data.success&&toastr.error(\"Could Not Send Notification\")})).catch((function(t){e.show_spinner=!1,toastr.error(\"Internal Server Error\")}))}}))},confirmAppointment:function(){var t=this;event.preventDefault();var e=d()().diff(d()(\"\".concat(this.temp_appointment_time,\" \").concat(this.temp_appointment_date),[\"HH:mm MM-DD-YYYY\"]),\"minute\")>=0;e?u.a.fire({type:\"warning\",text:\"It looks like you have made change to the appointment date and appointment time, so please reschedule the appointment first\",showConfirmButton:!0,timer:5e3}).then((function(t){})):u.a.fire({title:\"Are you sure?\",text:\" You want to Confirm the Apppointment? This will send a message to the patient\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\"}).then((function(e){if(e.value){if(t.temp_name!=t.patient_name||t.temp_reason!=t.visit_reason||t.temp_symptoms!=t.visitor_symptoms){var s={VisitorName:t.patient_name,VisitReason:t.visit_reason,Symptoms:t.visitor_symptoms,VisitSlot:t.selected_time,PhoneNumber:t.visitor_number,VisitDate:t.selected_schedule_visit_slot.split(\" \")[0]};t.show_spinner=!0,l.a.post(o.a.schedule_edit_delete_url(),{company_name:t.$session.get(\"UserInformation\").company_name,company_id:t.$session.get(\"UserInformation\").company_id,email:t.$session.get(\"UserInformation\").email,license_key:t.$session.get(\"UserInformation\").license_key,token:t.$session.get(\"UserInformation\").tokens,date:t.selected_schedule_visit_slot.split(\" \")[0],is_edit:!0,appointment_id:t.selected_schedule_id,appointment_info:s},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){t.show_spinner=!1,void 0!=e.data.msg&&\"Edit Appointment\"==e.data.msg?toastr.success(\"Your appointment has been edited successfully.\"):\"Internal Server Error\"==e.data.msg&&(toastr.error(\"Internal Server Error\"),$(\"#schedule_details\").modal(\"hide\"))})).catch((function(t){toastr.error(\"Internal Server Error\"),$(\"#schedule_details\").modal(\"hide\")}))}t.show_spinner=!0;var i=d()(t.temp_appointment_date,[\"MM-DD-YYYY\"]).format(\"YYYY-MM-DD\"),a=t.previous_visit_date;d()(a).format(\"YYYY-MM-DD\");l.a.post(o.a.confirm_appointment(),{company_name:t.$session.get(\"UserInformation\").company_name,company_id:t.$session.get(\"UserInformation\").company_id,phone_number:t.visitor_number,visitor_name:t.patient_name,visit_reason:t.visit_reason,visit_slot:t.selected_time,symptoms:t.visitor_symptoms,visit_date:i,token:t.$session.get(\"UserInformation\").tokens,appointment_id:t.selected_schedule_id},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){t.hide_modal(\"schedule_details\"),\"Appointment Confirmed Successfully\"==e.data.msg?(t.show_spinner=!1,toastr.success(\"Appointment has been Confirmed\"),t.update_schedules_list()):\"Appointment Confirmation Failed\"==e.data.msg?(t.show_spinner=!1,toastr.success(\"Appointment Confirmation Failed\"),t.update_schedules_list()):\"An Error Occurred\"==e.data.msg&&(t.show_spinner=!1,toastr.error(\"Something Went Wrong\"),t.update_schedules_list())})).catch((function(e){t.show_spinner=!1,toastr.error(\"Internal Server Error\")}))}}))},cancel_reschedule:function(){this.isReschedule=!this.isReschedule},convert_casing:function(t){return\"none\"===t&&(t=\"scheduled\"),t=t.toString(),t.replace(/\\w\\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},hide_modal:function(t){$(\"#\".concat(t)).modal(\"hide\")},update_schedules_list:function(){var t=this;l.a.post(o.a.schedule_info_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,token:this.$session.get(\"UserInformation\").tokens,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,first_day:this.month_range(\"start_time\"),last_day:this.month_range(\"end_time\")},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.render_schedule(e.data.Scheduling_info)})).catch((function(t){})),l.a.post(o.a.scheduling_settings_url(),{getTimeSlot:!0,company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(null!=e.data)for(var s in t.full_time_slots=[],e.data){e.data[s].split(\"-\");t.full_time_slots.push({value:e.data[s],text:t.generate_time(e.data[s].split(\"-\")[0],e.data[s].split(\"-\")[1])})}})).catch((function(t){toastr.error(\"Internal Server Error\")}))}}}),g=f,y=(s(\"3dc4\"),s(\"cd96\"),s(\"2877\")),b=Object(y[\"a\"])(g,i,a,!1,null,\"594a177e\",null);e[\"default\"]=b.exports},8705:function(t,e,s){},cd96:function(t,e,s){\"use strict\";var i=s(\"0ada\"),a=s.n(i);a.a}}]);","extractedComments":[]}