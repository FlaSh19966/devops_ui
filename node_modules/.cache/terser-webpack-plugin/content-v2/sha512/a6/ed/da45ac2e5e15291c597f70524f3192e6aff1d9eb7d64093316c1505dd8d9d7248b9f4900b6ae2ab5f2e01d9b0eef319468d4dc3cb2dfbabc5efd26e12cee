{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1d5b8ee6\"],{\"83a6\":function(t,e,a){\"use strict\";var s=a(\"a58c\"),i=a.n(s);i.a},a58c:function(t,e,a){},a971:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"dash-cont\"},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),a(\"div\",{staticClass:\"container-fluid\"},[a(\"div\",{staticClass:\"card dash-card\"},[a(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[a(\"h4\",{staticClass:\"mb-sm-0\"},[t._v(t._s(t.tlt(\"Whatsapp Campaign\")))]),a(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.search_name,expression:\"search_name\",modifiers:{trim:!0}}],staticClass:\"form-control search-bar\",attrs:{id:\"search_bar_id\",placeholder:t.tlt(\"Search campaign here\")},domProps:{value:t.search_name},on:{keyup:t.callsearch,input:function(e){e.target.composing||(t.search_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isVisibleSearchClear?a(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0\",staticStyle:{\"margin-left\":\"-40px\",\"z-index\":\"10\"},attrs:{type:\"button\"},on:{click:t.clear_search_name}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):t._e(),a(\"a\",{staticClass:\"darkblue-btn `\",staticStyle:{\"font-size\":\"15px\"},attrs:{href:\"javascript:void(0)\",id:\"custom_template\",\"data-toggle\":\"modal\",\"data-target\":\"#addcustomtemplate\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"Custom Campaign\"))+\" \")]),a(\"a\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.templatelist.length>0&&!1===t.is_notification_template&&!t.disable_btn_expired,expression:\"\\n              templatelist.length > 0 &&\\n              is_notification_template === false &&\\n              !disable_btn_expired\\n            \"}],staticClass:\"darkblue-btn\",attrs:{id:\"send_template_btn\",href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#sendtemplate\",title:\"Send Template\"}},[t._v(\" \"+t._s(t.tlt(\"Publish Campaign\"))+\" \")]),t.disable_btn_expired?a(\"a\",{staticClass:\"darkblue-btn\",attrs:{id:\"add_template_btn\",href:\"#\",title:\"Add new Template\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"Create Campaign\"))+\" \")]):a(\"a\",{staticClass:\"darkblue-btn\",attrs:{id:\"add_template_btn\",href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#addtemplatemodel\",title:\"Add new Template\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"Create Campaign\"))+\" \")]),a(\"a\",{staticClass:\"red-btn\",staticStyle:{\"font-size\":\"15px\"},attrs:{href:\"javascript:void(0)\",id:\"delete_intent\"},on:{click:t.delete_template}},[t._v(\" \"+t._s(t.tlt(\"delete_btn\"))+\" \")])])]),a(\"div\",{staticClass:\"card-body py-0\",attrs:{id:\"page\"}},[t.templatelist.length>0?a(\"div\",{staticClass:\"col-sm-12 d-flex px-0\"},[a(\"div\",{staticClass:\"col-sm-4 pl-0\",staticStyle:{height:\"80vh\",\"overflow-y\":\"auto\"}},[a(\"div\",{staticClass:\"table-box\"},[a(\"div\",{staticClass:\"table-responsive\"},[a(\"table\",{staticClass:\"table\",staticStyle:{\"overflow-y\":\"auto\"}},[a(\"thead\",[a(\"th\",{attrs:{scope:\"row\"}},[a(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[a(\"label\",{staticClass:\"form-check-label\"},[a(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"},on:{change:function(e){return t.selected_templates(\"all\")}}}),a(\"span\",{staticClass:\"icn\"})])])]),a(\"th\",{staticClass:\"text-left\",staticStyle:{font:\"normal normal normal 16px/22px Roboto\",\"letter-spacing\":\"0px\",color:\"#414141\"},attrs:{scope:\"row\"}},[t._v(\" \"+t._s(t.tlt(\"Campaigns\"))+\" \")])]),a(\"tbody\",t._l(t.templatelist,(function(e,s){return a(\"tr\",{key:s,class:t.check_current_template_active(s)},[a(\"td\",{attrs:{scope:\"row\"}},[a(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[a(\"label\",{staticClass:\"form-check-label\"},[a(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\",id:s},on:{change:function(a){return t.selected_templates(e.template_id)}}}),a(\"span\",{staticClass:\"icn\"})])])]),a(\"td\",{staticStyle:{cursor:\"pointer\"},attrs:{title:e.template_name},on:{click:function(e){return t.show_template(s)}}},[[a(\"p\",{staticStyle:{\"margin-bottom\":\"0\"}},[t._v(\" \"+t._s(e.template_name)+\" \")])]],2)])})),0)])])])]),t.templatelist.length>0?a(\"div\",{staticClass:\"col-sm-8 pr-0\",staticStyle:{\"overflow-y\":\"auto\"}},[a(\"div\",{staticStyle:{border:\"1px solid #dbe2e8\"}},[a(\"div\",{staticClass:\"col-sm-12\"},[a(\"div\",{staticClass:\"d-flex\",staticStyle:{color:\"#414141\"}},[a(\"h5\",{staticClass:\"pt-2\"},[t._v(t._s(t.tlt(\"Campaign Details\")))]),a(\"span\",{staticClass:\"ml-auto mr-2 mt-2\",staticStyle:{cursor:\"pointer\"},domProps:{innerHTML:t._s(t.pencil_svg)},on:{click:t.edit_template_details}})])]),a(\"hr\",{staticStyle:{\"margin-top\":\"0\"}}),a(\"div\",{staticClass:\"col-sm-12\",staticStyle:{\"margin-bottom\":\"1rem\"}},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(\" \"+t._s(t.tlt(\"Campaign Name\"))+\" \")])]),t.isEditTemplate?a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.current_template.template_name,expression:\"current_template.template_name\",modifiers:{trim:!0}}],staticClass:\"form-control edit\",staticStyle:{padding:\"0.375rem 0.75rem\"},attrs:{id:\"edit_template_name_id\",type:\"text\",placeholder:t.tlt(\"Campaign Name\")},domProps:{value:t.current_template.template_name},on:{keyup:t.validate_edit_template_name,input:function(e){e.target.composing||t.$set(t.current_template,\"template_name\",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.edit_template_name_already_exist,expression:\"edit_template_name_already_exist\"}],staticStyle:{color:\"red\"}},[t._v(t._s(t.tlt(\"A Campaign with this name already exists.\")))])]):a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_name))])])]),a(\"div\",{staticClass:\"col-sm-12\",staticStyle:{\"margin-bottom\":\"1rem\"}},[t.isEditTemplate?a(\"div\",{staticStyle:{width:\"100%\"}},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(\" \"+t._s(t.tlt(\"template_variable_label\"))+\" \")])]),t.current_template.variable_dict[\"HEADER\"]?a(\"div\",[a(\"p\",{staticClass:\"template-input-title\"},[t._v(\" \"+t._s(t.current_template.variable_dict[\"HEADER\"].component_name)+\" \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_template.variable_dict[\"HEADER\"].url,expression:\"current_template.variable_dict['HEADER'].url\"}],staticClass:\"form-control edit\",attrs:{placeholder:\"IMAGE\"==t.current_template.variable_dict[\"HEADER\"].type?t.tlt(\"current_temp_img_url_path\"):t.tlt(\"current_temp_header_text\"),type:\"text\"},domProps:{value:t.current_template.variable_dict[\"HEADER\"].url},on:{input:function(e){e.target.composing||t.$set(t.current_template.variable_dict[\"HEADER\"],\"url\",e.target.value)}}})]):t._e(),t.current_template.variable_dict[\"BODY\"]?a(\"div\",t._l(t.current_template.variable_dict[\"BODY\"].variables,(function(e,s,i){return a(\"div\",{key:i},[a(\"p\",{staticClass:\"template-input-title\"},[t._v(\" \"+t._s(t.current_template.variable_dict[\"BODY\"].component_name)+\" : \"+t._s(s)+\" \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_template.variable_dict[\"BODY\"].variables[s],expression:\"\\n                          current_template.variable_dict['BODY'].variables[\\n                            name\\n                          ]\\n                        \"}],staticClass:\"form-control edit\",attrs:{placeholder:t.tlt(\"current_temp_body_text\"),type:\"text\"},domProps:{value:t.current_template.variable_dict[\"BODY\"].variables[s]},on:{input:function(e){e.target.composing||t.$set(t.current_template.variable_dict[\"BODY\"].variables,s,e.target.value)}}})])})),0):t._e(),t.current_template.variable_dict[\"BUTTONS\"]?a(\"div\",t._l(t.current_template.variable_dict[\"BUTTONS\"].buttons_list,(function(e,s,i){return a(\"div\",{key:i},[\"URL\"==e.type?a(\"div\",[a(\"p\",{staticClass:\"template-input-title\"},[t._v(\" \"+t._s(t.current_template.variable_dict[\"BUTTONS\"].component_name)+\" : {1} \")]),a(\"div\",{staticClass:\"input-group mb-3\"},[a(\"div\",{staticClass:\"input-group-prepend\"},[a(\"span\",{staticClass:\"input-group-text\",attrs:{id:\"basic-addon3\"}},[t._v(t._s(e.base_url))])]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.variables[\"1\"],expression:\"btn.variables['1']\"}],staticClass:\"form-control edit\",attrs:{type:\"text\",placeholder:t.tlt(\"url_path\")},domProps:{value:e.variables[\"1\"]},on:{input:function(a){a.target.composing||t.$set(e.variables,\"1\",a.target.value)}}})])]):t._e()])})),0):t._e()]):t._e(),a(\"div\",{staticClass:\"col-sm-12 p-0\"},[a(\"h5\",[a(\"p\",{staticClass:\"my-3 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(\" \"+t._s(t.tlt(\"Campaign Preview\"))+\" \")])]),Boolean(t.preview_template_data)?a(\"div\",{staticClass:\"cards\",staticStyle:{width:\"50%\",margin:\"0 auto\"}},[Boolean(t.preview_template_data[\"HEADER\"])?a(\"div\",[\"IMAGE\"==t.preview_template_data[\"HEADER\"].type?a(\"div\",[a(\"img\",{attrs:{src:t.preview_template_data[\"HEADER\"].body,width:\"100%\"}})]):a(\"div\",[a(\"p\",[t._v(t._s(t.preview_template_data[\"HEADER\"].body))])])]):t._e(),Boolean(t.preview_template_data[\"BODY\"])?a(\"div\",{staticClass:\"mt-4\"},[\"text\"==t.preview_template_data[\"BODY\"].type?a(\"label\",{staticStyle:{\"line-height\":\"1.5\"}},[t._v(\" \"+t._s(t.preview_template_data[\"BODY\"].body)+\" \")]):t._e()]):t._e(),Boolean(t.preview_template_data[\"FOOTER\"])?a(\"div\",[\"text\"==t.preview_template_data[\"FOOTER\"].type?a(\"span\",{staticStyle:{\"font-size\":\"10px\",\"line-height\":\"1.5\",\"font-weight\":\"300\"}},[t._v(\" \"+t._s(t.preview_template_data[\"FOOTER\"].body)+\" \")]):t._e()]):t._e()]):t._e(),Boolean(t.preview_template_data)&&Boolean(t.preview_template_data[\"BUTTON\"])?a(\"div\",t._l(t.preview_template_data[\"BUTTON\"].body,(function(e,s){return a(\"div\",{key:s},[\"QUICK_REPLY\"===e[\"type\"]?a(\"div\",{staticClass:\"preview-button-div\",staticStyle:{width:\"50%\",margin:\"0 auto\"}},[a(\"button\",{staticClass:\"btn preview-button\",attrs:{color:\"rgba(11,103,170,1)\"}},[a(\"span\",{attrs:{color:\"rgba(11,103,170,1)\"}},[t._v(t._s(e[\"text\"])+\" \")])])]):\"URL\"===e[\"type\"]?a(\"div\",{staticClass:\"preview-button-div\",staticStyle:{width:\"50%\",margin:\"0 auto\"}},[a(\"a\",{staticClass:\"btn preview-button\",attrs:{href:e.url,target:\"_blank\"}},[a(\"span\",{attrs:{color:\"#0b67aa\"}},[a(\"svg\",{staticClass:\"mr-2\",attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"17\",height:\"17\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#0b67aa\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[a(\"path\",{attrs:{d:\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"}}),a(\"polyline\",{attrs:{points:\"15 3 21 3 21 9\"}}),a(\"line\",{attrs:{x1:\"10\",y1:\"14\",x2:\"21\",y2:\"3\"}})]),t._v(t._s(e[\"text\"]))])])]):t._e()])})),0):t._e()])]),t.isEditTemplate?a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"dash-modal\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",staticStyle:{\"border-radius\":\"0\"},attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.edit_template_details}},[t._v(\" \"+t._s(t.tlt(\"cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"res_n_int_save\"},on:{click:function(e){return t.edit_template()}}},[t._v(\" \"+t._s(t.tlt(\"save_btn\"))+\" \")])])])]):t._e()])]):t._e()]):\"\"==t.search_name?a(\"div\",{staticClass:\"col-sm-12 d-flex px-0 py-5\"},[a(\"h4\",{staticClass:\"mx-auto\"},[t._v(\" \"+t._s(t.tlt(\"no_template_added_msg\"))+\" \")])]):0==t.templatelist.length&&\"\"!=t.search_name?a(\"div\",{staticClass:\"col-sm-12 d-flex px-0 py-5\"},[a(\"h4\",{staticClass:\"mx-auto\"},[t._v(\"Searched Template not found.\")])]):t._e(),t.templatelist.length>0?a(\"div\",{staticClass:\"pagin-table pb-3\",staticStyle:{\"margin-top\":\"2%\"}},[a(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[a(\"ul\",{staticClass:\"pagination justify-content-center\"},[a(\"li\",{staticClass:\"page-item\"},[a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(t.page_no-1)}}},[a(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[a(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[a(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),t._l(t.page_array,(function(e){return a(\"li\",{key:e,class:\"page-item \"+t.pagination_class(e)},[\"...s\"==e||\"...l\"==e?a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(a){return t.page_require(e)}}},[t._v(\"...\")]):t._e(),\"...s\"!=e&&\"...l\"!=e?a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(a){return t.page_require(e)}}},[t._v(t._s(e))]):t._e()])})),a(\"li\",{staticClass:\"page-item\"},[a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(t.page_no+1)}}},[a(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[a(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[a(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])]):t._e()])])]),a(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"addtemplatemodel\",role:\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[a(\"div\",{staticClass:\"modal-dialog modal-xl\"},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-body\"},[a(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t._m(0),a(\"h3\",[t._v(t._s(t.tlt(\"Create Campaign\")))]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",{staticClass:\"heading\"},[t._v(t._s(t.tlt(\"Campaign Name\")))]),a(\"div\",{staticClass:\"ml-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.template_name,expression:\"template_name\",modifiers:{trim:!0}}],staticClass:\"form-control\",attrs:{id:\"template_name_add_id\",type:\"text\",placeholder:t.tlt(\"Campaign Name\")},domProps:{value:t.template_name},on:{keyup:t.validate_template_name,input:function(e){e.target.composing||(t.template_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.template_name_already_exist,expression:\"template_name_already_exist\"}],staticStyle:{color:\"red\"}},[t._v(t._s(t.tlt(\"template_name_already_exist_msg\")))])])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",{staticClass:\"heading\"},[t._v(t._s(t.tlt(\"Select from Pre-approved Templates\")))]),a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"row\"},t._l(t.default_templatelist,(function(e,s){return a(\"div\",{key:s,staticClass:\"col-3 radio my-auto\"},[a(\"label\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.choosen_template,expression:\"choosen_template\"}],attrs:{type:\"radio\",id:\"template_radio_id\",required:\"\"},domProps:{value:e,checked:t._q(t.choosen_template,e)},on:{change:function(a){t.choosen_template=e}}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"template_radio_icon_id\"}}),t._v(\" \"+t._s(e.template_name)+\" \")])])})),0)])]),null!=t.choosen_template?a(\"div\",[a(\"div\",{staticClass:\"form-group\"},[a(\"div\",{staticClass:\"col-sm-12 p-0 d-flex\"},[Boolean(t.choosen_template)?a(\"div\",{staticClass:\"col-sm-7 p-0 pr-3\"},[a(\"h5\",{staticClass:\"heading mb-2\"},[t._v(t._s(t.tlt(\"template_variable_label\")))]),Boolean(t.choosen_template.variable_dict[\"HEADER\"])?a(\"div\",[a(\"p\",{staticClass:\"template-input-title\"},[t._v(\" \"+t._s(t.choosen_template.variable_dict[\"HEADER\"].component_name)+\" \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.choosen_template.variable_dict[\"HEADER\"].url,expression:\"choosen_template.variable_dict['HEADER'].url\"}],staticClass:\"form-control\",attrs:{placeholder:\"IMAGE\"==t.choosen_template.variable_dict[\"HEADER\"].type?t.tlt(\"current_temp_img_url_path\"):t.tlt(\"current_temp_header_text\"),type:\"text\"},domProps:{value:t.choosen_template.variable_dict[\"HEADER\"].url},on:{input:function(e){e.target.composing||t.$set(t.choosen_template.variable_dict[\"HEADER\"],\"url\",e.target.value)}}})]):t._e(),Boolean(t.choosen_template.variable_dict[\"BODY\"])?a(\"div\",t._l(t.choosen_template.variable_dict[\"BODY\"].variables,(function(e,s,i){return a(\"div\",{key:i},[a(\"p\",{staticClass:\"template-input-title\"},[t._v(\" \"+t._s(t.choosen_template.variable_dict[\"BODY\"].component_name)+\" : \"+t._s(s)+\" \")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.choosen_template.variable_dict[\"BODY\"].variables[s],expression:\"\\n                          choosen_template.variable_dict['BODY'].variables[\\n                            name\\n                          ]\\n                        \"}],staticClass:\"form-control\",attrs:{placeholder:t.tlt(\"current_temp_body_text\"),type:\"text\"},domProps:{value:t.choosen_template.variable_dict[\"BODY\"].variables[s]},on:{input:function(e){e.target.composing||t.$set(t.choosen_template.variable_dict[\"BODY\"].variables,s,e.target.value)}}})])})),0):t._e(),Boolean(t.choosen_template.variable_dict[\"BUTTONS\"])?a(\"div\",t._l(t.choosen_template.variable_dict[\"BUTTONS\"].buttons_list,(function(e,s,i){return a(\"div\",{key:i},[\"URL\"==e.type?a(\"div\",[a(\"p\",{staticClass:\"template-input-title\"},[t._v(\" \"+t._s(t.choosen_template.variable_dict[\"BUTTONS\"].component_name)+\" : {1} \")]),a(\"div\",{staticClass:\"input-group mb-3\"},[a(\"div\",{staticClass:\"input-group-prepend\"},[a(\"span\",{staticClass:\"input-group-text\",attrs:{id:\"basic-addon3\"}},[t._v(t._s(e.base_url))])]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.variables[\"1\"],expression:\"btn.variables['1']\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:t.tlt(\"url_path\")},domProps:{value:e.variables[\"1\"]},on:{input:function(a){a.target.composing||t.$set(e.variables,\"1\",a.target.value)}}})])]):t._e()])})),0):t._e()]):t._e(),a(\"div\",{staticClass:\"col-sm-5 p-0 pl-3\"},[a(\"h5\",{staticClass:\"sub_heading mb-4\"},[t._v(t._s(t.tlt(\"preview_label\")))]),Boolean(t.preview_template_data)?a(\"div\",[a(\"div\",{staticClass:\"cards\"},[Boolean(t.preview_template_data[\"HEADER\"])?a(\"div\",[\"IMAGE\"==t.preview_template_data[\"HEADER\"].type?a(\"div\",[a(\"img\",{attrs:{src:t.preview_template_data[\"HEADER\"].body,width:\"100%\"}})]):a(\"div\",[a(\"p\",[t._v(t._s(t.preview_template_data[\"HEADER\"].body))])])]):t._e(),Boolean(t.preview_template_data[\"BODY\"])?a(\"div\",{staticClass:\"mt-4\"},[\"text\"==t.preview_template_data[\"BODY\"].type?a(\"label\",{staticStyle:{\"line-height\":\"1.5\"}},[t._v(\" \"+t._s(t.preview_template_data[\"BODY\"].body)+\" \")]):t._e()]):t._e(),Boolean(t.preview_template_data[\"FOOTER\"])?a(\"div\",[\"text\"==t.preview_template_data[\"FOOTER\"].type?a(\"span\",{staticStyle:{\"font-size\":\"10px\",\"line-height\":\"1.5\",\"font-weight\":\"300\"}},[t._v(\" \"+t._s(t.preview_template_data[\"FOOTER\"].body)+\" \")]):t._e()]):t._e()]),Boolean(t.preview_template_data[\"BUTTON\"])?a(\"div\",t._l(t.preview_template_data[\"BUTTON\"].body,(function(e,s){return a(\"div\",{key:s},[\"QUICK_REPLY\"===e[\"type\"]?a(\"div\",{staticClass:\"preview-button-div\"},[a(\"button\",{staticClass:\"btn preview-button\",attrs:{color:\"rgba(11,103,170,1)\"}},[a(\"span\",{attrs:{color:\"rgba(11,103,170,1)\"}},[t._v(t._s(e[\"text\"])+\" \")])])]):\"URL\"===e[\"type\"]?a(\"div\",{staticClass:\"preview-button-div\"},[a(\"a\",{staticClass:\"btn preview-button\",attrs:{href:e.url,target:\"_blank\"}},[a(\"span\",{attrs:{color:\"#0b67aa\"}},[a(\"svg\",{staticClass:\"mr-2\",attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"17\",height:\"17\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#0b67aa\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[a(\"path\",{attrs:{d:\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"}}),a(\"polyline\",{attrs:{points:\"15 3 21 3 21 9\"}}),a(\"line\",{attrs:{x1:\"10\",y1:\"14\",x2:\"21\",y2:\"3\"}})]),t._v(t._s(e[\"text\"]))])])]):t._e()])})),0):t._e()]):t._e()])])])]):t._e()]),a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:function(e){return t.empty_variable()}}},[t._v(\" \"+t._s(t.tlt(\"cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"res_n_int_save\"},on:{click:function(e){return t.save_template()}}},[t._v(\" \"+t._s(t.tlt(\"save_btn\"))+\" \")])])])])])]),a(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"sendtemplate\",role:\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[a(\"div\",{staticClass:\"modal-dialog\"},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-body\"},[a(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t._m(1),a(\"h3\",[t._v(t._s(t.tlt(\"Publish Campaign\")))]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"Campaign Name\")))])]),a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_name))])])]),a(\"div\",{staticClass:\"form-group m-0\"},[a(\"div\",{staticClass:\"d-flex\"},[a(\"h5\",[a(\"p\",{staticClass:\"mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"Send Campaign to\")))])])])]),a(\"div\",{staticClass:\"radio my-auto\",staticStyle:{\"padding-left\":\"20px\"}},[a(\"label\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.send_to,expression:\"send_to\"}],attrs:{type:\"radio\",value:\"all\",id:\"send_sms_all_customer_true_id\"},domProps:{checked:t._q(t.send_to,\"all\")},on:{change:function(e){t.send_to=\"all\"}}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"filter_portal_user_radio\"}}),t._v(\" \"+t._s(t.tlt(\"sms_template_model_all_cust_label\"))+\" \")]),a(\"label\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.send_to,expression:\"send_to\"}],attrs:{type:\"radio\",value:\"specific\",id:\"send_sms_all_customer_false_id\"},domProps:{checked:t._q(t.send_to,\"specific\")},on:{change:function(e){t.send_to=\"specific\"}}}),a(\"span\",{staticClass:\"icn\"}),t._v(\" \"+t._s(t.tlt(\"sms_template_model_specific_cust_label\"))+\" \")]),a(\"label\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.send_to,expression:\"send_to\"}],attrs:{type:\"radio\",value:\"broadcast\",id:\"send_sms_all_customer_false_id\"},domProps:{checked:t._q(t.send_to,\"broadcast\")},on:{change:function(e){t.send_to=\"broadcast\"}}}),a(\"span\",{staticClass:\"icn\"}),t._v(\" \"+t._s(t.tlt(\"Broadcast\"))+\" \")])]),\"specific\"===t.send_to?a(\"div\",{staticClass:\"form-group\",staticStyle:{\"padding-left\":\"20px\"}},[a(\"label\",[t._v(\" \"+t._s(t.tlt(\"add_new_customer_text\"))+\" \")]),a(\"div\",{staticClass:\"d-flex mb-3\"},[a(\"vue-phone-number-input\",{staticStyle:{width:\"-webkit-fill-available !important\"},attrs:{\"only-countries\":t.cont,\"default-country-code\":\"IN\"},on:{update:function(e){t.phoneNumber=e}},model:{value:t.add_customer_contact_number,callback:function(e){t.add_customer_contact_number=e},expression:\"add_customer_contact_number\"}}),a(\"button\",{staticClass:\"darkblue-btn ml-2\",attrs:{id:\"alternate_product_name_add_btn\"},on:{click:t.add_customer}},[t._v(\" \"+t._s(t.tlt(\"add_btn\"))+\" \")])],1),a(\"div\",{attrs:{id:\"list_id\"}},[a(\"multiselect\",{attrs:{options:t.contacts_list,id:\"specific_contact_list_id\",searchable:!0,\"hide-selected\":!0,\"close-on-select\":!1,multiple:!0,taggable:!0,\"tag-position\":\"top\",\"tag-placeholder\":\"Add this as new number\",placeholder:\"Search customer number\",\"max-height\":400,label:\"profile_name\",\"track-by\":\"whatsapp_phone_number\",\"open-direction\":\"below\"},on:{\"search-change\":t.search_customer_list},model:{value:t.specific_contact_list,callback:function(e){t.specific_contact_list=e},expression:\"specific_contact_list\"}})],1)]):t._e(),\"broadcast\"===t.send_to?a(\"div\",{staticClass:\"form-group mt-3\",staticStyle:{\"padding-left\":\"20px\"}},[a(\"div\",{attrs:{id:\"broadcast_list_id\"}},[a(\"multiselect\",{attrs:{options:t.broadcast_list,id:\"select_broadcast_id\",searchable:!0,\"hide-selected\":!0,\"close-on-select\":!1,multiple:!0,taggable:!0,placeholder:\"Search broadcast\",\"max-height\":400,label:\"name\",\"track-by\":\"id\",\"open-direction\":\"up\"},on:{\"search-change\":function(e){t.search_broadcast(t.search_broadcast_name=e)}},model:{value:t.select_broadcast_list,callback:function(e){t.select_broadcast_list=e},expression:\"select_broadcast_list\"}})],1)]):t._e(),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"Campaign Preview\")))])]),Boolean(t.preview_template_data)?a(\"div\",[a(\"div\",{staticClass:\"cards\",staticStyle:{width:\"50%\",margin:\"0px auto\"}},[Boolean(t.preview_template_data[\"HEADER\"])?a(\"div\",[\"IMAGE\"==t.preview_template_data[\"HEADER\"].type?a(\"div\",[a(\"img\",{attrs:{src:t.preview_template_data[\"HEADER\"].body,width:\"100%\"}})]):a(\"div\",[a(\"p\",[t._v(t._s(t.preview_template_data[\"HEADER\"].body))])])]):t._e(),Boolean(t.preview_template_data[\"BODY\"])?a(\"div\",{staticClass:\"mt-4\"},[\"text\"==t.preview_template_data[\"BODY\"].type?a(\"label\",{staticStyle:{\"line-height\":\"1.5\"}},[t._v(\" \"+t._s(t.preview_template_data[\"BODY\"].body)+\" \")]):t._e()]):t._e(),Boolean(t.preview_template_data[\"FOOTER\"])?a(\"div\",[\"text\"==t.preview_template_data[\"FOOTER\"].type?a(\"span\",{staticStyle:{\"font-size\":\"10px\",\"line-height\":\"1.5\",\"font-weight\":\"300\"}},[t._v(\" \"+t._s(t.preview_template_data[\"FOOTER\"].body)+\" \")]):t._e()]):t._e()]),Boolean(t.preview_template_data[\"BUTTON\"])?a(\"div\",t._l(t.preview_template_data[\"BUTTON\"].body,(function(e,s){return a(\"div\",{key:s},[\"QUICK_REPLY\"===e[\"type\"]?a(\"div\",{staticClass:\"preview-button-div\",staticStyle:{width:\"50%\",margin:\"0px auto\"}},[a(\"button\",{staticClass:\"btn preview-button\",attrs:{color:\"rgba(11,103,170,1)\"}},[a(\"span\",{attrs:{color:\"rgba(11,103,170,1)\"}},[t._v(t._s(e[\"text\"])+\" \")])])]):\"URL\"===e[\"type\"]?a(\"div\",{staticClass:\"preview-button-div\",staticStyle:{width:\"50%\",margin:\"0px auto\"}},[a(\"a\",{staticClass:\"btn preview-button\",attrs:{href:e.url,target:\"_blank\"}},[a(\"span\",{attrs:{color:\"#0b67aa\"}},[a(\"svg\",{staticClass:\"mr-2\",attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"17\",height:\"17\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"#0b67aa\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}},[a(\"path\",{attrs:{d:\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"}}),a(\"polyline\",{attrs:{points:\"15 3 21 3 21 9\"}}),a(\"line\",{attrs:{x1:\"10\",y1:\"14\",x2:\"21\",y2:\"3\"}})]),t._v(t._s(e[\"text\"]))])])]):t._e()])})),0):t._e()]):t._e()])]),a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"send_template\"},on:{click:function(e){return t.send_template()}}},[t._v(\" \"+t._s(t.tlt(\"send_btn\"))+\" \")])])])])])]),a(\"div\",{staticClass:\"modal fade\",attrs:{id:\"checkbalance\",role:\"dialog\",\"aria-labelledby\":\"checkbalance\",\"aria-hidden\":\"true\"}},[a(\"div\",{staticClass:\"modal-dialog modal-dialog-centered modal\",staticStyle:{\"max-width\":\"600px !important\"},attrs:{role:\"document\"}},[a(\"div\",{staticClass:\"modal-content\"},[t._m(2),a(\"div\",{staticClass:\"modal-body\"},[a(\"div\"),a(\"p\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=t.credits_balance,expression:\"credits_balance != null\"}],domProps:{innerHTML:t._s(t.credits_balance)}})])])])]),a(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"addcustomtemplate\",role:\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[a(\"div\",{staticClass:\"modal-dialog modal-xl\"},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-body\"},[a(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t._m(3),a(\"h3\",[t._v(t._s(t.tlt(\"Custom Campaign\")))]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",{staticClass:\"heading\"},[t._v(t._s(t.tlt(\"Campaign Name\")))]),a(\"div\",{staticClass:\"ml-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.template_name,expression:\"template_name\",modifiers:{trim:!0}}],staticClass:\"form-control\",attrs:{id:\"template_name_add_id\",type:\"text\",placeholder:t.tlt(\"Campaign Name\")},domProps:{value:t.template_name},on:{keyup:t.validate_template_name,input:function(e){e.target.composing||(t.template_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.template_name_already_exist,expression:\"template_name_already_exist\"}],staticStyle:{color:\"red\"}},[t._v(t._s(t.tlt(\"template_name_already_exist_msg\")))])])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",{staticClass:\"heading\"},[t._v(t._s(t.tlt(\"custom_temp_body\")))]),a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-sm-12 input_text_box\"},[a(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.custom_text_box_content,expression:\"custom_text_box_content\"}],staticClass:\"input form-control\",attrs:{id:\"custom_text_box\",placeholder:t.tlt(\"Campaign Body\")},domProps:{value:t.custom_text_box_content},on:{keydown:function(e){return t.expand_textbox(\"#custom_text_box\")},input:function(e){e.target.composing||(t.custom_text_box_content=e.target.value)}}})])])])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",{staticClass:\"heading\"},[t._v(t._s(t.tlt(\"custom_temp_media_option\")))]),a(\"div\",{staticClass:\"radio ml-4 mb-2 \"},[a(\"label\",{staticStyle:{\"vertical-align\":\"text-top\",\"font-size\":\"17px\"}},[t._v(\" \"+t._s(t.tlt(\"custom_temp_media_option_img\"))+\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.custom_template_option,expression:\"custom_template_option\"}],attrs:{type:\"radio\",value:\"image\"},domProps:{checked:t._q(t.custom_template_option,\"image\")},on:{change:function(e){t.custom_template_option=\"image\"}}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"display_product_type_id\"}})]),a(\"label\",{staticStyle:{\"vertical-align\":\"text-top\",\"font-size\":\"17px\"}},[t._v(\" \"+t._s(t.tlt(\"custom_temp_media_option_vid\"))+\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.custom_template_option,expression:\"custom_template_option\"}],attrs:{type:\"radio\",value:\"video\"},domProps:{checked:t._q(t.custom_template_option,\"video\")},on:{change:function(e){t.custom_template_option=\"video\"}}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"display_product_type_id\"}})])]),\"\"!=t.custom_template_option?a(\"div\",{staticClass:\"radio ml-4 mb-2\"},[a(\"label\",{staticClass:\"ml-0\",staticStyle:{\"vertical-align\":\"text-top\",\"font-size\":\"17px\"}},[t._v(\" \"+t._s(t.tlt(\"custom_temp_media_option_file\"))+\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.custom_template_type,expression:\"custom_template_type\"}],attrs:{type:\"radio\",value:\"file\"},domProps:{checked:t._q(t.custom_template_type,\"file\")},on:{change:function(e){t.custom_template_type=\"file\"}}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"display_product_type_id\"}})])]):t._e(),a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"col-sm-12\"},[\"image\"===t.custom_template_option?a(\"label\",[t._v(\"(\"+t._s(t.tlt(\"custom_temp_label_img\"))+\")\")]):t._e(),a(\"label\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"video\"===t.custom_template_option,expression:\"custom_template_option ==='video'\"}]},[t._v(\"(\"+t._s(t.tlt(\"custom_temp_label_vid\"))+\") \")]),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"image\"==t.custom_template_option,expression:\"custom_template_option == 'image'\"}]},[\"file\"==t.custom_template_type?a(\"div\",[a(\"input\",{staticClass:\"form-control mt-1\",staticStyle:{padding:\"5px\"},attrs:{type:\"file\",placeholder:t.tlt(\"enter_website_url\"),id:\"customimagefile\",disabled:t.disable_btn_expired},on:{change:t.upload_image_custom_temp}})]):a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.custom_template_img_url,expression:\"custom_template_img_url\",modifiers:{trim:!0}}],staticClass:\"form-control input-tag\",staticStyle:{width:\"100% !important\",padding:\"0.375rem 0.5rem\"},attrs:{type:\"text\",placeholder:t.tlt(\"img_url\")},domProps:{value:t.custom_template_img_url},on:{input:function(e){e.target.composing||(t.custom_template_img_url=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"p\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1===t.check_img_url(t.custom_template_img_url)&&Boolean(t.custom_template_img_url),expression:\"\\n                          check_img_url(custom_template_img_url) ===\\n                            false && Boolean(custom_template_img_url)\\n                        \"}],staticStyle:{color:\"red !important\",\"margin-bottom\":\"0px !important\",\"padding-top\":\"8px !important\"}},[t._v(\" \"+t._s(t.tlt(\"custom_temp_image_condition_text\"))+\" \")])])]),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"video\"==t.custom_template_option,expression:\"custom_template_option == 'video'\"}]},[\"file\"==t.custom_template_type?a(\"div\",[a(\"input\",{staticClass:\"form-control mt-1\",staticStyle:{padding:\"5px\"},attrs:{type:\"file\",accept:\"video/mp4\",id:\"customvideofile\",placeholder:t.tlt(\"enter_website_url\"),disabled:t.disable_btn_expired},on:{change:t.upload_video_custom_temp}})]):a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.custom_template_video_url,expression:\"custom_template_video_url\",modifiers:{trim:!0}}],staticClass:\"form-control input-tag\",staticStyle:{width:\"100% !important\",padding:\"0.375rem 0.5rem\"},attrs:{type:\"text\",placeholder:t.tlt(\"video_url\")},domProps:{value:t.custom_template_video_url},on:{input:function(e){e.target.composing||(t.custom_template_video_url=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"p\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1===t.check_video_url(t.custom_template_video_url)&&Boolean(t.custom_template_video_url),expression:\"\\n                          check_video_url(custom_template_video_url) ===\\n                            false && Boolean(custom_template_video_url)\\n                        \"}],staticStyle:{color:\"red !important\",\"margin-bottom\":\"0px !important\",\"padding-top\":\"8px !important\"}},[t._v(\" \"+t._s(t.tlt(\"card_response_video_condition_text\"))+\" \")])])])])])])]),a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:function(e){return t.empty_variable()}}},[t._v(\" \"+t._s(t.tlt(\"cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",\"data-dismiss\":\"mode\",id:\"save_btn_custom\"},on:{click:function(e){return t.save_custome_template()}}},[t._v(\" \"+t._s(t.tlt(\"save_btn\"))+\" \")])])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"head-icn\"},[a(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"head-icn\"},[a(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"modal-header\"},[a(\"h5\",{staticClass:\"modal-title\"},[t._v(\"Your Add-ons Balance\")]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"head-icn\"},[a(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})])}],o=(a(\"4de4\"),a(\"b0c0\"),a(\"ac1f\"),a(\"1276\"),a(\"5873\")),n=a(\"bc3a\"),l=a.n(n),_=a(\"3d20\"),r=a.n(_),p=a(\"ea54\"),c=a.n(p),m=a(\"61b2\"),d=a(\"8e5f\"),u=a.n(d),h=a(\"7bec\"),v=a.n(h),g=(a(\"4413\"),{name:\"WhatsappCampaignPage\",components:{VueEditor:o[\"a\"],Multiselect:u.a,VuePhoneNumberInput:v.a},mixins:[m[\"e\"],m[\"h\"],m[\"c\"]],data:function(){return{approved:!1,imgFile:null,cont:[\"IN\"],pencil_svg:' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,spinnerOn:!1,template_name:\"\",save_subject:\"\",is_publish_template:!0,verification_status:null,default_templatelist:[],templatelist:[],checked_list:[],current_template:[],old_template_name:\"\",isEditTemplate:!1,number_of_rows:null,total_pages:null,page_no:1,per_page:10,preview_template_data:null,preview_template_data1:{HEADER:{type:\"IMAGE\",body:\"https://storage.cense.ai/codearray/cense_website_static_assets/retail/AvailableDiscounts.svg\"},BODY:{type:\"text\",body:\"Hello WOrld\"},FOOTER:{type:\"text\",body:\"World, hello !\"},BUTTON:{body:[{type:\"URL\",label:\"Know more\",body:\"https://test.com\"},{type:\"URL\",label:\"Know more\",body:\"https://test.com\"}]}},template_name_already_exist:!1,edit_template_name_already_exist:!1,page_array:[],send_template_all_customer:!0,contacts_list:[],contacts_list_pagination:1,contacts_list_pagination_count:0,broadcast_list_search_pagination:1,broadcast_list_search_pagination_count:0,broadcast_list_pagination:1,broadcast_list_pagination_count:0,search_broadcast_name:\"\",broadcast_list:[],select_broadcast_list:[],search_customer:\"\",specific_contact_list:[],disable_btn_expired:!1,choosen_template:null,isVisibleSearchClear:!1,search_name:\"\",add_customer_contact_number:null,add_customer_name:null,phoneNumber:null,credits_balance:null,send_to:\"specific\",custom_template_type:\"file\",reg_video_url:/https:\\/\\/[(www\\.)?a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,reg_image:/(https:\\/\\/)([^\\s([\"<,>/]*)(\\/)[^\\s[\",><]*(.png|.jpg|.jpeg|.gif)(\\?[^\\s[\",><]*)?/,custom_template_name:\"\",custom_text_box_content:\"\",custom_template_option:\"\",custom_template_img_file:null,custom_template_img_file_name:\"\",custom_template_video_file:null,custom_template_video_file_name:\"\",custom_template_img_url:\"\",custom_template_video_url:\"\"}},props:{is_notification_template:Boolean},created:function(){\"SuperAdmin\"==this.$session.get(\"UserInformation\").role?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name)},watch:{search_name:function(){\"\"===this.search_name?(this.load_templates(),this.isVisibleSearchClear=!1):\"\"!==this.search_name&&(this.isVisibleSearchClear=!0)},choosen_template:{handler:function(t,e){null!=this.choosen_template&&this.preview_template(\"new\")},deep:!0},current_template:{handler:function(t,e){0!=this.current_template.length&&this.preview_template(\"old\")},deep:!0}},mounted:function(){var t=this;setTimeout((function(){t.freeze_portal()}),2e3),this.load_templates(),!1===this.is_notification_template&&(this.load_customer_list(),this.get_broadcast());var e=this;$(\"#selectall\").click((function(){this.isEditTemplate=!1,$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(e.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))}));var a=document.querySelector(\"#list_id\");a.onwheel=this.handleWheel;var s=document.querySelector(\"#broadcast_list_id\");s.onwheel=this.handleWheel_broadcast},methods:{handleWheel_broadcast:function(t,e,a){t.deltaY>0&&(\"\"!=this.search_broadcast_name?this.broadcast_list_search_pagination<this.broadcast_list_search_pagination_count&&(this.broadcast_list_search_pagination+=1,this.search_broadcast(this.search_broadcast_name,\"scroll\")):this.broadcast_list_pagination<this.broadcast_list_pagination_count&&(this.broadcast_list_pagination+=1,this.get_broadcast(\"scroll\")))},handleWheel:function(t,e,a){t.deltaY>0&&(this.contacts_list_pagination<this.contacts_list_pagination_count?(this.contacts_list_pagination+=1,this.load_customer_list()):\"\"!=this.search_customer&&this.search_customer_list())},add_customer:function(){null!=this.phoneNumber&&1==this.phoneNumber.isValid?(this.contacts_list.push({whatsapp_phone_number:this.phoneNumber.formattedNumber,profile_name:this.phoneNumber.formattedNumber}),this.specific_contact_list.push({whatsapp_phone_number:this.phoneNumber.formattedNumber,profile_name:this.phoneNumber.formattedNumber})):r()({text:\"Please enter a valid phone number\",toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})},check_addons_balance:function(){var t=this;l.a.post(c.a.check_addons_balance(),{company_name:this.companyname,company_id:this.companyid,check_balance:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.api_status_code.CHECK_BALANCE.MSG_CODE===e.data.message.MSG_CODE){var a=e.data.data.credits.sms_count;t.credits_balance=\"Your current SMS credits are <strong> for US region :\"+a.us+\" | for Non-US region: \"+a.non_us+\"</strong>\",$(\"#checkbalance\").modal(\"show\")}else r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},clear_search_name:function(){this.search_name=\"\"},callsearch:function(){var t=this;\"\"!=this.search_name&&(this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_search:!0,page_no:1,per_page:this.per_page,is_notification:this.is_notification_template,search_key:this.search_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,t.templatelist=[],t.api_status_code.DATA_AVAILABLE.MSG_CODE===e.data.message.MSG_CODE)t.templatelist=e.data.templates,t.templatelist.length>0&&t.show_template(0),t.number_of_rows=e.data.pagination.total_data,t.total_pages=e.data.pagination.total_page,t.setpagination(1);else{if(t.api_status_code.NO_WHATSAPP_TEMPLATE.MSG_CODE===e.data.message.MSG_CODE)return void(t.templatelist=[]);r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})}t.isEditTemplate=!1})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})))},save_template:function(){var t=this;if(\"\"!=this.template_name){if(null!=this.choosen_template){var e=!1;for(var a in this.choosen_template.variable_list)\"\"==this.choosen_template.variable_list[a]&&(e=!0);if(e)return void r()({text:this.tlt(\"variable_value_msg\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})}if(1!=this.template_name_already_exist){var s={template_name:this.template_name,parent_template_id:this.choosen_template.template_id,variable_dict:this.choosen_template.variable_dict};this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_save:!0,is_notification:this.is_notification_template,template_details:s},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE===e.data.message.MSG_CODE?($(\"#addtemplatemodel\").modal(\"hide\"),r()({type:\"success\",text:t.tlt(\"template_data_added\"),timer:2500}).then((function(e){t.empty_variable(),t.load_templates()}))):t.api_status_code.PARENT_TEMPLATE_NOT_FOUND.MSG_CODE===e.data.message.MSG_CODE?r()({type:\"error\",text:t.tlt(\"parent_template_not_found\"),timer:2500}):t.api_status_code.UNSUCCESSFUL_DB_OPERATION.MSG_CODE===e.data.message.MSG_CODE?r()({type:\"error\",text:t.tlt(\"db_operation_unsuccess\"),timer:2500}):t.api_status_code.TEMPLATE_DETAILS_MISSING.MSG_CODE===e.data.message.MSG_CODE?r()({type:\"warning\",text:t.tlt(\"template_detail_missing\"),timer:2500}):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),this.close_modal(\"res_n_int_save\")}}else r()({text:this.tlt(\"template_name_msg\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})},edit_template_details:function(){this.isEditTemplate?(this.isEditTemplate=!1,this.load_templates(),this.edit_template_name_already_exist=!1):this.isEditTemplate=!0},edit_template:function(){var t=this;if(\"\"!=this.current_template.template_name){if(null!=this.current_template){var e=!1;for(var a in this.current_template.variable_dict)\"\"==this.current_template.variable_dict[a]&&(e=!0);if(e)return void r()({text:this.tlt(\"edit_template_value_empty_msg\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})}if(1!=this.edit_template_name_already_exist){this.spinnerOn=!0;var s={template_name:this.current_template.template_name,template_id:this.current_template.template_id,variable_dict:this.current_template.variable_dict};l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,template_details:s,is_edit:!0,is_notification:this.is_notification_template},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,e.data.message.MSG_CODE===t.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE?($(\"#addtemplatemodel\").modal(\"hide\"),r()({type:\"success\",text:t.tlt(\"edit_template_data_edited\"),timer:2500}).then((function(e){t.empty_variable(),t.load_templates()}))):e.data.message.MSG_CODE==t.api_status_code.SELECTED_TEMPLATE_NOT_FOUND.MSG_CODE?r()({type:\"error\",text:t.tlt(\"edit_template_selected_template\"),timer:2500}):e.data.message.MSG_CODE==t.api_status_code.UNSUCCESSFUL_DB_OPERATION.MSG_CODE?r()({type:\"error\",text:t.tlt(\"edit_template_operation_unsuccessful\"),timer:2500}):e.data.message.MSG_CODE==t.api_status_code.TEMPLATE_DETAILS_MISSING.MSG_CODE?r()({type:\"error\",text:t.tlt(\"edit_template_detail_missing\"),timer:2500}):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))}}else r()({text:this.tlt(\"edit_template_name_blank\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})},load_customer_list:function(){var t=this;this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,get_contacts_list:!0,per_page:5,page_no:this.contacts_list_pagination},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,e.data.message.MSG_CODE===t.api_status_code.DATA_AVAILABLE.MSG_CODE){for(var a in e.data.contacts_list)t.contacts_list.push(e.data.data.contacts_list[a]);t.contacts_list_pagination_count=e.data.pagination.total_page}else e.data.message.MSG_CODE===t.api_status_code.NO_CONTACTS_DATA_AVAILABLE.MSG_CODE?t.contacts_list=[]:r()({text:t.tlt(\"some_error_msg\"),type:\"error\",showConfirmButton:!1,timer:2500})})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},search_customer_list:function(t){var e=this;\"\"!=t?(this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,get_contacts_list:!0,search_key:t,per_page:5,page_no:1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){if(e.spinnerOn=!1,e.contacts_list=[],e.spinnerOn=!1,t.data.message.MSG_CODE===e.api_status_code.DATA_AVAILABLE.MSG_CODE){for(var a in t.data.contacts_list)e.contacts_list.push(t.data.data.contacts_list[a]);e.contacts_list_pagination_count=t.data.pagination.total_page}else t.data.message.MSG_CODE===e.api_status_code.NO_CONTACTS_DATA_AVAILABLE.MSG_CODE?e.contacts_list=[]:r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"info\",toast:!0})})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):(this.contacts_list_pagination=1,this.contacts_list=[],this.load_customer_list())},get_broadcast:function(t){var e=this;\"scroll\"!==t&&(this.broadcast_list_pagination=1),l.a.post(c.a.whatsapp_broadcasts(),{company_id:this.company_id,company_name:this.company_name,is_get:!0,page_no:this.broadcast_list_pagination,per_page:this.page_no},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(a){if(e.spinnerOn=!1,\"scroll\"!==t&&(e.broadcast_list=[]),a.data.message.MSG_CODE===e.api_status_code.DATA_AVAILABLE.MSG_CODE){for(var s in a.data.data.broadcasts)e.broadcast_list.push(a.data.data.broadcasts[s]);e.broadcast_list_pagination_count=a.data.pagination.total_page}else a.data.message.MSG_CODE===e.api_status_code.NO_DATA_AVAILABLE.MSG_CODE?e.broadcast_list=[]:r()({title:a.data.message.MSG_CODE,text:a.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))},search_broadcast:function(t,e){var a=this;\"\"!=t?(\"scroll\"!==e&&(this.broadcast_list_search_pagination=1),l.a.post(c.a.whatsapp_broadcasts(),{company_id:this.company_id,company_name:this.company_name,is_search:!0,page_no:this.broadcast_list_search_pagination,search_key:t,per_page:this.page_no},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){if(a.spinnerOn=!1,\"scroll\"!==e&&(a.broadcast_list=[]),t.data.message.MSG_CODE===a.api_status_code.DATA_AVAILABLE.MSG_CODE){for(var s in t.data.data.broadcasts)a.broadcast_list.push(t.data.data.broadcasts[s]);a.broadcast_list_search_pagination_count=t.data.pagination.total_page}else t.data.message.MSG_CODE===a.api_status_code.NO_WHATSAPP_TEMPLATE.MSG_CODE?a.broadcast_list=[]:r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(t){a.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||a.$root.$emit(\"Session_Expired\",t.response.data)}))):this.get_broadcast()},send_template:function(){var t=this,e=[],a=[];if(\"specific\"===this.send_to){if(0==this.specific_contact_list.length)return void r()({title:this.tlt(\"send_template_select_contact\"),type:\"warning\",toast:!0,position:\"top-end\",showConfirmButton:!1,timer:2e3});for(var s in this.specific_contact_list)e.push(this.specific_contact_list[s].whatsapp_phone_number)}if(\"broadcast\"===this.send_to){if(0==this.select_broadcast_list.length)return void r()({title:this.tlt(\"Select atleast one broadcast\"),type:\"warning\",toast:!0,position:\"top-end\",showConfirmButton:!1,timer:2e3});for(var s in this.select_broadcast_list)a.push(this.select_broadcast_list[s].id)}this.disable_btn_expired?this.show_subscription_expired_swal():(l.a.post(c.a.whatsapp_template(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,is_notification:this.is_notification_template,template_id:\"broadcast\"===this.send_to?[this.current_template.template_id]:this.current_template.template_id,contacts_list:e,broadcast_ids:a,publish_template:!0,send_to:this.send_to},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.api_status_code.EMPTY_CONTACT_LIST.MSG_CODE!==e.data.message.MSG_CODE&&t.api_status_code.WHATSAPP_MEDIA_SEND_FAILURE.MSG_CODE!==e.data.message.MSG_CODE?t.api_status_code.WHATSAPP_USER_LIMIT_REACHED.MSG_CODE!==e.data.message.MSG_CODE?t.api_status_code.MESSAGE_SENDING_LIMIT_REACHED.MSG_CODE!==e.data.message.MSG_CODE?t.api_status_code.SENDING_TEMPLATE.MSG_CODE===e.data.message.MSG_CODE?(r()({title:t.tlt(\"send_template_sent_msg\"),type:\"success\",showConfirmButton:!1,timer:2500}),t.empty_variable(),$(\"#sendtemplate\").modal(\"hide\")):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}):r()({type:\"warning\",text:\"Message Sending Limit Reached\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",confirmButtonText:t.tlt(\"email_temp_swal_upgrade_now_msg\"),cancelButtonText:t.tlt(\"email_temp_swal_upgrade_later_msg\"),cancelButtonColor:\"#d33\"}).then((function(e){1==e.value&&t.$router.push({name:\"Settings\",params:{Subscription:!0}})})):r()({title:t.tlt(\"tier_specific_user_limit_reached\"),text:t.tlt(\"tier_specific_user_limit_reached_msg\"),type:\"warning\",showConfirmButton:!1,timer:4e3}):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),this.close_modal(\"send_template\"))},validate_template_name:function(){var t=this;l.a.post(c.a.whatsapp_template(),{company_name:this.companyname,company_id:this.companyid,is_template_name_exists:!0,is_notification:this.is_notification_template,template_name:this.template_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.api_status_code.WHATSAPP_TEMPLATE_NAME_DOES_NOT_EXISTS.MSG_CODE===e.data.message.MSG_CODE?(t.template_name_already_exist=!1,document.getElementById(\"template_name_add_id\").style.border=null,t.template_name):t.api_status_code.WHATSAPP_TEMPLATE_NAME_EXISTS.MSG_CODE===e.data.message.MSG_CODE?(t.template_name_already_exist=!0,document.getElementById(\"template_name_add_id\").style.border=\"1px solid red\"):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},validate_edit_template_name:function(){var t=this;l.a.post(c.a.whatsapp_template(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,is_template_name_exists:!0,is_notification:this.is_notification_template,template_name:this.current_template.template_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.api_status_code.WHATSAPP_TEMPLATE_NAME_DOES_NOT_EXISTS.MSG_CODE===e.data.message.MSG_CODE?(t.edit_template_name_already_exist=!1,document.getElementById(\"edit_template_name_id\").style.border=null,t.current_template.template_name):t.api_status_code.WHATSAPP_TEMPLATE_NAME_EXISTS.MSG_CODE===e.data.message.MSG_CODE?t.old_template_name==t.current_template.template_name?(t.edit_template_name_already_exist=!1,document.getElementById(\"edit_template_name_id\").style.border=null):(t.edit_template_name_already_exist=!0,document.getElementById(\"edit_template_name_id\").style.border=\"1px solid red\"):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},preview_template:function(t){var e=this;if(this.spinnerOn=!0,\"old\"==t)var a=this.current_template.template_id,s=this.current_template.variable_dict,i=!1;else if(\"new\"==t)a=this.choosen_template.template_id,s=this.choosen_template.variable_dict,i=!0;void 0!=a&&l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_notification:this.is_notification_template,is_preview:!0,is_parent_template:i,template_id:a,variable_dict:s},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,e.api_status_code.DATA_AVAILABLE.MSG_CODE===t.data.message.MSG_CODE?e.preview_template_data=t.data.data.body:r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))},send_email_confirm_prompt_text:function(t){return t?this.tlt(\"send_bulk_msg\"):this.tlt(\"email_to_specific_customer\")},selected_templates:function(t){if(\"all\"==t)if(event.target.checked){for(var e in this.checked_list=[],this.templatelist)this.checked_list.push(this.templatelist[e].template_id);$(\"input:checkbox\").prop(\"checked\",!1);for(var a=0;a<this.checked_list.length;a++)$(\"#\"+[a]).prop(\"checked\",!0),$(\"#selectall\").prop(\"checked\",!0)}else event.target.checked||(this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1));else if(event.target.checked)this.checked_list.push(t);else if(!event.target.checked){var s=document.querySelector(\"#selectall\");s.checked&&(s.checked=!1);var i=this.checked_list.filter((function(e){return e!=t}));this.checked_list=i}},delete_template:function(){var t=this;this.checked_list.length<1?r()({text:this.tlt(\"select_one_template\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500}):(this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_notification:this.is_notification_template,is_delete:!0,template_list:this.checked_list},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,t.empty_variable(),t.load_templates(),e.data.message.MSG_CODE===t.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE)return t.checked_list=[],r()({text:t.tlt(\"template_deleted_msg\"),type:\"success\",showConfirmButton:!1,timer:2500}),void $(\"input:checkbox\").prop(\"checked\",!1);e.data.message.MSG_CODE==t.api_status_code.UNSUCCESSFUL_DB_OPERATION.MSG_CODE?(t.checked_list=[],r()({text:t.tlt(\"query_executed_msg\"),type:\"error\",showConfirmButton:!1,timer:2500})):(r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),$(\"input:checkbox\").prop(\"checked\",!1)),t.isEditTemplate=!1})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})))},load_templates:function(){var t=this;this.current_template={},this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_notification:this.is_notification_template,is_get_default_templates:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.api_status_code.DATA_AVAILABLE.MSG_CODE===e.data.message.MSG_CODE?t.default_templatelist=e.data.data.default_templates:t.api_status_code.NO_DEFAULT_WHATSAPP_TEMPLATE.MSG_CODE===e.data.message.MSG_CODE?t.default_templatelist=[]:r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_get:!0,is_notification:this.is_notification_template,page_no:this.page_no,per_page:this.per_page},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,e.data.message.MSG_CODE===t.api_status_code.DATA_AVAILABLE.MSG_CODE?(t.templatelist=[],t.templatelist=e.data.data.templates,t.number_of_rows=e.data.pagination.total_data,t.total_pages=e.data.pagination.total_page,t.templatelist.length>0&&t.show_template(0),t.setpagination(t.page_no),t.isEditTemplate=!1):e.data.message.MSG_CODE===t.api_status_code.NO_WHATSAPP_TEMPLATE.MSG_CODE?t.templatelist=[]:r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},page_require:function(t){var e=this;0==t||t==this.total_pages+1||(\"\"==this.search_name?(this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,$(\"input:checkbox\").prop(\"checked\",!1),this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_get:!0,is_notification:this.is_notification_template,page_no:this.page_no,per_page:this.per_page},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,t.data.message.MSG_CODE===e.api_status_code.DATA_AVAILABLE.MSG_CODE?(e.templatelist=[],e.templatelist=t.data.data.templates,e.number_of_rows=t.data.pagination.total_data,e.total_pages=t.data.pagination.total_page,e.templatelist.length>0&&e.show_template(0),e.setpagination(e.page_no),e.isEditTemplate=!1):t.data.message.MSG_CODE===e.api_status_code.NO_WHATSAPP_TEMPLATE.MSG_CODE?e.templatelist=[]:r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):(this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,$(\"input:checkbox\").prop(\"checked\",!1),this.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:this.company_id,company_name:this.company_name,is_search:!0,page_no:this.page_no,per_page:this.per_page,is_notification:this.is_notification_template,search_key:this.search_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){if(e.spinnerOn=!1,e.templatelist=[],e.isEditTemplate=!1,e.api_status_code.DATA_AVAILABLE.MSG_CODE===t.data.message.MSG_CODE)e.templatelist=t.data.templates,e.templatelist.length>0&&e.show_template(0),e.number_of_rows=t.data.pagination.total_data,e.total_pages=t.data.pagination.total_page,e.setpagination(1);else{if(e.api_status_code.NO_WHATSAPP_TEMPLATE.MSG_CODE===t.data.message.MSG_CODE)return void(e.templatelist=[]);r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})}})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))))},setpagination:function(t){if(this.page_array=[],this.total_pages<=7)for(var e=0;e<this.total_pages;e++)this.page_array.push(e+1);else if(1==t){for(var a=0;a<4;a++)this.page_array.push(a+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var s=this.total_pages-4;s<this.total_pages;s++)this.page_array.push(s+1)}else if(t<=4){for(var i=0;i<t+3;i++)this.page_array.push(i+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var o=t-4;o<this.total_pages;o++)this.page_array.push(o+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var n=t-3;n<=t+3;n++)this.page_array.push(n);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}},pagination_class:function(t){return t==this.page_no?\" active\":\"\"},show_template:function(t){this.current_template=JSON.parse(JSON.stringify(this.templatelist[t])),this.old_template_name=this.current_template.template_name,this.current_template_index=t,this.isEditTemplate=!1,this.preview_template(\"old\")},empty_variable:function(){this.disable_btn_expired?this.show_subscription_expired_swal():(this.choosen_template=null,this.specific_contact_list=[],this.template_name=\"\",this.old_template_name=\"\",this.custom_template_type=\"file\",this.custom_template_name=\"\",this.custom_text_box_content=\"\",this.custom_template_option=\"\",this.custom_template_img_file=null,this.custom_template_img_file_name=\"\",this.custom_template_video_file=null,this.custom_template_video_file_name=\"\",this.custom_template_img_url=\"\",this.custom_template_video_url=\"\",null!=document.getElementById(\"customimagefile\")&&\"\"!=document.getElementById(\"customimagefile\").value&&(document.getElementById(\"customimagefile\").value=\"\"),null!=document.getElementById(\"customvideofile\")&&\"\"!=document.getElementById(\"customvideofile\").value&&(document.getElementById(\"customvideofile\").value=\"\"),0!=this.current_template.length?this.preview_template(\"old\"):this.preview_template_data=null,this.template_name_already_exist=!1,document.getElementById(\"template_name_add_id\").style.border=null),this.spinnerOn=!1},check_current_template_active:function(t){if(!0===Boolean(this.templatelist[t]))return this.templatelist[t].template_name===this.current_template.template_name?\"current-active-template\":null},expand_textbox:function(t,e){var a=document.querySelector(t);a.addEventListener(\"keydown\",(function(t){var e=t.target.scrollHeight;a.style.height=\"\".concat(e,\"px\")}))},upload_image_custom_temp:function(t){var e=t.target.files||t.dataTransfer.files;this.imgFile=t.target.files||t.dataTransfer.files,e.length&&(e[0].size>2097152?r()({text:\"Upload image with size less than 2MB\",toast:!0,position:\"top-end\",type:\"error\",showConfirmButton:!1,timer:1e4}):\"image/png\"===e[0].type||\"image/jpeg\"===e[0].type?(this.custom_template_img_file_name=e[0].name,this.create_image(e[0])):toastr.error(\"Please Select an Image of type PNG or JPEG\"))},upload_video_custom_temp:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(e[0].size>2097152?r()({text:\"Upload image with size less than 2MB\",toast:!0,position:\"top-end\",type:\"error\",showConfirmButton:!1,timer:1e4}):\"video/mp4\"===e[0].type?(this.custom_template_video_file_name=e[0].name,this.create_video(e[0])):toastr.error(\"Please Select an Video of type MP4upload_image_custom_temp\"))},create_image:function(t,e){var a=this,s=new FileReader;s.onload=function(t){a.custom_template_img_file=t.target.result.split(\"base64,\")[1]},s.readAsDataURL(t)},create_video:function(t,e){var a=this,s=new FileReader;s.onload=function(t){a.custom_template_video_file=t.target.result.split(\"base64,\")[1]},s.readAsDataURL(t)},check_video_url:function(t){return!0===this.reg_video_url.test(t)},check_img_url:function(t){return!0===this.reg_image.test(t)},save_custome_template:function(){var t=this;if(\"\"!=this.template_name)if(\"\"!=this.custom_text_box_content&&0!=this.custom_text_box_content.length)if(null!=this.custom_template_img_file||null!=this.custom_template_video_file||\"\"==this.custom_template_option||\"file\"!=this.custom_template_type)if(\"\"!=this.custom_template_img_url||\"\"!=this.custom_template_video_url||\"\"==this.custom_template_option||\"file\"==this.custom_template_type){if(\"url\"==this.custom_template_type){var e=this.check_video_url(this.custom_template_video_url),a=this.check_img_url(this.custom_template_img_url);if(1!=e&&1!=a)return void r()({text:\"Please enter valid url\",toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:3e3})}var s={is_file_type:this.custom_template_option,is_file:\"file\"==this.custom_template_type,template_name:this.template_name,template_body:this.custom_text_box_content,custom_template_img_file:this.custom_template_img_file,custom_template_img_file_name:this.custom_template_img_file_name,custom_template_video_file:this.custom_template_video_file,custom_template_video_file_name:this.custom_template_video_file_name,custom_template_img_url:this.custom_template_img_url,custom_template_video_url:this.custom_template_video_url},i=new FileReader;i.readAsDataURL(t.imgFile[0]),i.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=this.height,a=this.width;if(a>330||e>173)return r()({title:\"Oops\",text:\"Please upload image in given dimensions (330 x 170px)\",type:\"error\",showCancelButton:!1}),void(t.approved=!1);t.approved=!0,t.spinnerOn=!0},setTimeout((function(){!0===t.approved&&(t.spinnerOn=!0,l.a.post(c.a.whatsapp_template(),{company_id:t.company_id,company_name:t.company_name,is_custom_template:!0,template_details:s},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,t.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE!==e.data.message.MSG_CODE)return t.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE===e.data.message.MSG_CODE?void r()({type:\"error\",text:t.tlt(\"db_operation_unsuccess\"),timer:2500}):t.api_status_code.TEMPLATE_DETAILS_MISSING.MSG_CODE===e.data.message.MSG_CODE?void r()({type:\"warning\",text:t.tlt(\"template_detail_missing\"),timer:2500}):void r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"});r()({type:\"success\",text:t.tlt(\"template_data_added\"),timer:2500}).then((function(e){t.empty_variable(),t.load_templates()})),t.isEditTemplate=!1,t.approved=!1})).catch((function(e){t.spinnerOn=!1,t.empty_variable(),410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),t.local_close_modal())}),100)}}else r()({text:\"Please enter valid url\",toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:3e3});else r()({text:\"Please choose a file\",toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:3e3});else r()({text:\"Template body can not be empty\",toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:3e3});else r()({text:this.tlt(\"template_name_msg\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:3e3})},local_close_modal:function(){this.close_modal(\"save_btn_custom\")}}}),f=g,b=(a(\"83a6\"),a(\"2877\")),y=Object(b[\"a\"])(f,s,i,!1,null,\"790c29ce\",null);e[\"default\"]=y.exports}}]);","extractedComments":[]}