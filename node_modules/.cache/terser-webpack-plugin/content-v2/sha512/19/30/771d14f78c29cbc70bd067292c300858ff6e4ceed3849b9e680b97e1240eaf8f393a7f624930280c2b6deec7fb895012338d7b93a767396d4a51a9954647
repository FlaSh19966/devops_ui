{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4b8d0288\"],{7504:function(t,e,a){},bfb4:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"dash-cont\"},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),a(\"div\",{staticClass:\"container-fluid\"},[a(\"div\",{staticClass:\"card dash-card\"},[a(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[a(\"h4\",{staticClass:\"mb-sm-0\"},[t._v(t._s(t.tlt(\"SMS Campaign\")))]),a(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.search_name,expression:\"search_name\",modifiers:{trim:!0}}],staticClass:\"form-control search-bar\",staticStyle:{padding:\"0px 15px\",height:\"36px !important\"},attrs:{id:\"search_bar_id\",placeholder:t.tlt(\"search_template\")},domProps:{value:t.search_name},on:{keyup:t.callsearch,input:function(e){e.target.composing||(t.search_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isVisibleSearchClear?a(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0\",staticStyle:{\"margin-left\":\"-40px\",\"z-index\":\"10\"},attrs:{type:\"button\"},on:{click:t.clear_search_name}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):t._e(),a(\"a\",{staticClass:\"darkblue-btn\",attrs:{id:\"check_balance_btn\",href:\"#\",\"data-toggle\":\"modal\",title:\"Check your SMS credits\"},on:{click:t.check_addons_balance}},[t._v(\" \"+t._s(t.tlt(\"sms_check_balance_btn\"))+\" \")]),a(\"a\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.disable_btn_expired,expression:\"disable_btn_expired\"}],staticClass:\"darkblue-btn\",attrs:{id:\"send_sms_btn1\",href:\"#\",title:\"Send SMS\"},on:{click:t.show_subscription_expired_swal}},[t._v(\" \"+t._s(t.tlt(\"send_sms_expiry_btn\"))+\" \")]),a(\"a\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.templatelist.length>0&&!1===t.is_notification_template&&!t.disable_btn_expired,expression:\"templatelist.length > 0 && is_notification_template === false && !disable_btn_expired\"}],staticClass:\"darkblue-btn\",attrs:{id:\"send_sms_btn\",href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#sendsms\",title:\"Send SMS\"}},[t._v(\" \"+t._s(t.tlt(\"send_sms_btn\"))+\" \")]),t.disable_btn_expired?a(\"a\",{staticClass:\"darkblue-btn\",attrs:{id:\"add_template_btn\",href:\"#\",title:\"Add new Template\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"sms_add_template_expiry_btn\"))+\" \")]):a(\"a\",{staticClass:\"darkblue-btn\",attrs:{id:\"add_template_btn\",href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#addtemplatemodel\",title:\"Add new Template\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"sms_add_template_btn\"))+\" \")]),a(\"a\",{staticClass:\"red-btn\",attrs:{href:\"javascript:void(0)\",id:\"delete_intent\"},on:{click:t.delete_template}},[t._v(\" \"+t._s(t.tlt(\"sms_delete_btn\"))+\" \")])])]),a(\"div\",{staticClass:\"card-body py-0\",attrs:{id:\"page\"}},[t.templatelist.length>0?a(\"div\",{staticClass:\"col-sm-12 d-flex px-0\"},[a(\"div\",{staticClass:\"col-sm-4 pl-0\",staticStyle:{height:\"80vh\",\"overflow-y\":\"auto\"}},[a(\"div\",{staticClass:\"table-box\"},[a(\"div\",{staticClass:\"table-responsive\"},[a(\"table\",{staticClass:\"table\",staticStyle:{\"overflow-y\":\"auto\"}},[a(\"thead\",[a(\"th\",{attrs:{scope:\"row\"}},[a(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[a(\"label\",{staticClass:\"form-check-label\"},[a(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"},on:{change:function(e){return t.selected_templates(\"all\")}}}),a(\"span\",{staticClass:\"icn\"})])])]),a(\"th\",{staticClass:\"text-left\",staticStyle:{font:\"normal normal normal 16px/22px Roboto\",\"letter-spacing\":\"0px\",color:\"#414141\"},attrs:{scope:\"row\"}},[t._v(\" \"+t._s(t.tlt(\"sms_template_header\"))+\" \")])]),a(\"tbody\",t._l(t.templatelist,(function(e,s){return a(\"tr\",{key:s,class:t.check_current_template_active(s)},[a(\"td\",{attrs:{scope:\"row\"}},[a(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[a(\"label\",{staticClass:\"form-check-label\"},[a(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\",id:s},on:{change:function(a){return t.selected_templates(e.template_id)}}}),a(\"span\",{staticClass:\"icn\"})])])]),a(\"td\",{staticStyle:{cursor:\"pointer\"},attrs:{title:e.template_name},on:{click:function(e){return t.show_template(s)}}},[[a(\"p\",{staticStyle:{\"margin-bottom\":\"0\"}},[t._v(\" \"+t._s(e.template_name)+\" \")])]],2)])})),0)])])])]),t.templatelist.length>0?a(\"div\",{staticClass:\"col-sm-8 pr-0\",staticStyle:{\"overflow-y\":\"auto\"}},[a(\"div\",{staticStyle:{border:\"1px solid #dbe2e8\"}},[a(\"div\",{staticClass:\"col-sm-12\"},[a(\"div\",{staticStyle:{color:\"#414141\"}},[a(\"h5\",{staticClass:\"mb-0 pt-2 d-flex\"},[a(\"span\",{staticClass:\"mt-2 mb-0\"},[t._v(t._s(t.tlt(\"sms_template_details_header\")))]),a(\"a\",{staticClass:\"ml-auto mt-2 mb-0\",staticStyle:{color:\"rgb(39, 54, 121)\"},attrs:{href:\"javascript:void(0)\",title:\"Click Here for Preview\",\"data-toggle\":\"modal\"},on:{click:function(e){return t.preview_template(\"old\")}}},[a(\"p\",{staticClass:\"labe1\",staticStyle:{\"margin-right\":\"1rem\",\"font-size\":\"1.25rem\"}},[t._v(\" \"+t._s(t.tlt(\"sms_preview_btn\"))+\" \")])]),a(\"span\",{staticClass:\"mr-2 mt-2\",staticStyle:{cursor:\"pointer\"},domProps:{innerHTML:t._s(t.pencil_svg)},on:{click:t.edit_template_details}})])])]),a(\"hr\",{staticStyle:{\"margin-top\":\"0\"}}),a(\"div\",{staticClass:\"col-sm-12\",staticStyle:{\"margin-bottom\":\"1rem\"}},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(\" \"+t._s(t.tlt(\"sms_template_name_label\"))+\" \")])]),t.isEditTemplate?a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.current_template.template_name,expression:\"current_template.template_name\",modifiers:{trim:!0}}],staticClass:\"form-control\",staticStyle:{padding:\"0.375rem 0.75rem\"},attrs:{id:\"edit_template_name_id\",type:\"text\",placeholder:t.tlt(\"template_name_label\")},domProps:{value:t.current_template.template_name},on:{keyup:t.validate_edit_template_name,input:function(e){e.target.composing||t.$set(t.current_template,\"template_name\",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.edit_template_name_already_exist,expression:\"edit_template_name_already_exist\"}],staticStyle:{color:\"red\"}},[t._v(t._s(t.tlt(\"template_name_exist_msg\")))])]):a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_name))])])]),a(\"div\",{staticClass:\"col-sm-12\",staticStyle:{\"margin-bottom\":\"1rem\"}},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_body_label\")))])]),a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_body))])])]),a(\"div\",{staticClass:\"col-sm-12\",staticStyle:{\"margin-bottom\":\"1rem\"}},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_example_label\")))])]),a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_example))])])]),a(\"div\",{staticClass:\"col-sm-12\",staticStyle:{\"margin-bottom\":\"1rem\"}},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_variable_header\")))])]),t.isEditTemplate?a(\"table\",{staticStyle:{width:\"100%\"}},[a(\"tbody\",[a(\"tr\",[a(\"th\",{staticClass:\"col-sm-4\",staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.tlt(\"sms_model_variable_label\"))+\" \")]),a(\"th\",{staticClass:\"col-sm-8\",staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.tlt(\"sms_model_values_label\"))+\" \")])]),t._l(t.current_template.variable_list,(function(e,s){return a(\"tr\",{key:s},[t._l(e,(function(e,s){return a(\"td\",{key:s},[t._v(\" \"+t._s(s)+\" \")])})),a(\"td\",t._l(e,(function(e,i){return a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_template.variable_list[s][i],expression:\"current_template.variable_list[j][d]\"}],key:i,staticClass:\"form-control\",staticStyle:{width:\"100%\",height:\"25px\",\"margin-left\":\"10px\",padding:\"0px 10px\"},attrs:{type:\"text\",title:\"customer_name\"==i?\"Customers Name will be picked from customers list while sending SMS\":\"\",disabled:\"customer_name\"==i},domProps:{value:t.current_template.variable_list[s][i]},on:{input:function(e){e.target.composing||t.$set(t.current_template.variable_list[s],i,e.target.value)}}})})),0)],2)}))],2)]):a(\"table\",{staticStyle:{width:\"100%\"}},[a(\"tbody\",[a(\"tr\",{staticStyle:{border:\"1px solid black\"}},[a(\"th\",{staticClass:\"col-sm-4\",staticStyle:{\"text-align\":\"center\",border:\"1px solid black\"}},[t._v(\" \"+t._s(t.tlt(\"sms_template_variable_label\"))+\" \")]),a(\"th\",{staticClass:\"col-sm-8\",staticStyle:{\"text-align\":\"center\",border:\"1px solid black\"}},[t._v(\" \"+t._s(t.tlt(\"sms_template_values_label\"))+\" \")])]),t._l(t.current_template.variable_list,(function(e,s){return a(\"tr\",{key:s,staticStyle:{border:\"1px solid black\"}},[t._l(e,(function(e,s){return a(\"td\",{key:s,staticStyle:{border:\"1px solid black\"}},[t._v(\" \"+t._s(s)+\" \")])})),t._l(e,(function(e,i){return a(\"td\",{key:i,staticStyle:{border:\"1px solid black\"}},[t._v(\" \"+t._s(t.current_template.variable_list[s][i])+\" \")])}))],2)}))],2)])]),t.isEditTemplate?a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"dash-modal\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",staticStyle:{\"border-radius\":\"0\"},attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.edit_template_details}},[t._v(\" \"+t._s(t.tlt(\"sms_model_cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"res_n_int_save\"},on:{click:function(e){return t.edit_template()}}},[t._v(\" \"+t._s(t.tlt(\"sms_model_save_btn\"))+\" \")])])])]):t._e()])]):t._e()]):\"\"==t.search_name?a(\"div\",{staticClass:\"col-sm-12 d-flex px-0 py-5\"},[a(\"h4\",{staticClass:\"mx-auto\"},[t._v(\" \"+t._s(t.tlt(\"sms_msg_no_template_present\"))+\" \")])]):0==t.templatelist.length&&\"\"!=t.search_name?a(\"div\",{staticClass:\"col-sm-12 d-flex px-0 py-5\"},[a(\"h4\",{staticClass:\"mx-auto\"},[t._v(\" \"+t._s(t.tlt(\"sms_msg_no_template_not_found\"))+\" \")])]):t._e(),t.templatelist.length>0?a(\"div\",{staticClass:\"pagin-table pb-3\",staticStyle:{\"margin-top\":\"2%\"}},[a(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[a(\"ul\",{staticClass:\"pagination justify-content-center\"},[a(\"li\",{staticClass:\"page-item\"},[a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(t.page_no-1)}}},[a(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[a(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[a(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),t._l(t.page_array,(function(e){return a(\"li\",{key:e,class:\"page-item \"+t.pagination_class(e)},[\"...s\"==e||\"...l\"==e?a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(a){return t.page_require(e)}}},[t._v(\"...\")]):t._e(),\"...s\"!=e&&\"...l\"!=e?a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(a){return t.page_require(e)}}},[t._v(t._s(e))]):t._e()])})),a(\"li\",{staticClass:\"page-item\"},[a(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(t.page_no+1)}}},[a(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[a(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[a(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])]):t._e()])])]),a(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"addtemplatemodel\",role:\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[a(\"div\",{staticClass:\"modal-dialog\"},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-body\"},[a(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t._m(0),a(\"h3\",[t._v(t._s(t.tlt(\"sms_model_add_template_header\")))]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_model_name_label\")))])]),a(\"div\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.template_name,expression:\"template_name\",modifiers:{trim:!0}}],staticClass:\"form-control\",staticStyle:{padding:\"0.375rem 0.75rem\"},attrs:{id:\"template_name_add_id\",type:\"text\",placeholder:t.tlt(\"template_name_label\")},domProps:{value:t.template_name},on:{keyup:t.validate_template_name,input:function(e){e.target.composing||(t.template_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a(\"span\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.template_name_already_exist,expression:\"template_name_already_exist\"}],staticStyle:{color:\"red\"}},[t._v(t._s(t.tlt(\"template_name_exist_msg\")))])])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_model_promotional_template_header\")))])]),a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"row\"},t._l(t.default_templatelist,(function(e,s){return a(\"div\",{key:s,staticClass:\"col-6\"},[a(\"label\",{staticStyle:{cursor:\"pointer\"}},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.choosen_template,expression:\"choosen_template\"}],attrs:{type:\"radio\",id:\"template_radio_id\",required:\"\"},domProps:{value:e,checked:t._q(t.choosen_template,e)},on:{change:[function(a){t.choosen_template=e},function(e){t.preview_template_data=\"\"}]}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"template_radio_icon_id\"}}),t._v(\" \"+t._s(e.template_name)+\" \")])])})),0)]),a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_model_template_example_label\")))])]),null!=t.choosen_template?a(\"p\",[t._v(t._s(t.choosen_template.template_example))]):a(\"p\",[t._v(t._s(t.tlt(\"sms_model_select_a_template_text\")))])]),null!=t.choosen_template?a(\"div\",[a(\"div\",{staticClass:\"form-group\"},[t._m(1),a(\"div\",{staticStyle:{\"padding-left\":\"15px\"}},[a(\"p\",[t._v(t._s(t.choosen_template.template_body))])])]),\"\"!=t.preview_template_data?a(\"div\",{staticClass:\"form-group\"},[t._m(2),a(\"div\",{staticStyle:{\"padding-left\":\"15px\"}},[a(\"p\",[t._v(t._s(t.preview_template_data))])])]):t._e(),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"template_variable_label\")))])]),a(\"table\",[a(\"tbody\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.tlt(\"sms_model_variable_label1\"))+\" \")]),a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.tlt(\"sms_model_values_label1\"))+\" \")])]),t._l(t.choosen_template.variable_list,(function(e,s){return a(\"tr\",{key:s},[t._l(e,(function(e,s){return a(\"td\",{key:s},[t._v(\" \"+t._s(s)+\": \")])})),a(\"td\",t._l(e,(function(e,i){return a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.choosen_template.variable_list[s][i],expression:\"choosen_template.variable_list[k][f]\"}],key:i,staticClass:\"form-control\",staticStyle:{width:\"100%\",height:\"25px\",\"margin-left\":\"10px\"},attrs:{type:\"text\",title:\"customer_name\"==i?\"Customers Name will be picked from customers list while sending SMS\":\"\",disabled:\"customer_name\"==i},domProps:{value:t.choosen_template.variable_list[s][i]},on:{keyup:function(e){return t.preview_template(\"new\")},input:function(e){e.target.composing||t.$set(t.choosen_template.variable_list[s],i,e.target.value)}}})})),0)],2)}))],2)])])]):t._e()]),a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"sms_model_cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"res_n_int_save\",\"data-dismiss\":\"\"},on:{click:function(e){return t.save_template()}}},[t._v(\" \"+t._s(t.tlt(\"sms_model_add_btn\"))+\" \")])])])])])]),a(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"sendsms\",role:\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[a(\"div\",{staticClass:\"modal-dialog\"},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-body\"},[a(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t._m(3),a(\"h3\",[t._v(t._s(t.tlt(\"sms_template_model_send_header\")))]),a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_model_name_label\")))])]),a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_name))])])]),a(\"div\",{staticClass:\"form-group\"},[a(\"div\",{staticClass:\"d-flex\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_model_sendto_label\")))])]),t.send_sms_all_customer?t._e():a(\"span\",{staticStyle:{\"margin-left\":\"12px\",\"margin-top\":\"10px !important\",color:\"#0645ad\"}},[a(\"i\",{staticClass:\"fa fa-info-circle\",staticStyle:{\"font-size\":\"16px\"},attrs:{\"aria-hidden\":\"true\",title:\"you can also specify name while adding new number in this way (+91 9999999999,John Doe), note this would only work in the case where you add new number.\"}})])]),a(\"div\",{staticClass:\"radio my-auto\",staticStyle:{\"padding-left\":\"20px\"}},[a(\"label\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.send_sms_all_customer,expression:\"send_sms_all_customer\"}],attrs:{type:\"radio\",id:\"send_sms_all_customer_true_id\"},domProps:{value:!0,checked:t._q(t.send_sms_all_customer,!0)},on:{change:function(e){t.send_sms_all_customer=!0}}}),a(\"span\",{staticClass:\"icn\",attrs:{id:\"filter_portal_user_radio\"}}),t._v(\" \"+t._s(t.tlt(\"sms_template_model_all_cust_label\"))+\" \")]),a(\"label\",[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.send_sms_all_customer,expression:\"send_sms_all_customer\"}],attrs:{type:\"radio\",id:\"send_sms_all_customer_false_id\"},domProps:{value:!1,checked:t._q(t.send_sms_all_customer,!1)},on:{change:function(e){t.send_sms_all_customer=!1}}}),a(\"span\",{staticClass:\"icn\"}),t._v(\" \"+t._s(t.tlt(\"sms_template_model_specific_cust_label\"))+\" \")])])]),t.send_sms_all_customer?t._e():a(\"div\",{staticClass:\"form-group\"},[a(\"label\",[t._v(\" \"+t._s(t.tlt(\"sms_template_model_add_customer_text\"))+\" \")]),a(\"div\",{staticClass:\"d-flex mb-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.add_customer_name,expression:\"add_customer_name\"}],staticClass:\"form-control\",staticStyle:{width:\"12rem\",\"margin-right\":\"9px\"},attrs:{type:\"text\",placeholder:t.tlt(\"customer_name\")},domProps:{value:t.add_customer_name},on:{input:function(e){e.target.composing||(t.add_customer_name=e.target.value)}}}),a(\"vue-phone-number-input\",{attrs:{\"no-use-browser-locale\":!0},on:{update:function(e){t.phoneNumber=e}},model:{value:t.add_customer_contact_number,callback:function(e){t.add_customer_contact_number=e},expression:\"add_customer_contact_number\"}}),a(\"button\",{staticClass:\"darkblue-btn ml-2\",attrs:{id:\"alternate_product_name_add_btn\"},on:{click:t.add_customer}},[t._v(\" \"+t._s(t.tlt(\"sms_model_add_btn\"))+\" \")])],1),a(\"multiselect\",{attrs:{options:t.customers_list,id:\"specific_customer_list_id\",searchable:!0,\"close-on-select\":!1,multiple:!0,taggable:!0,\"tag-position\":\"top\",\"tag-placeholder\":\"Add this as new email\",placeholder:t.tlt(\"customer_numer\"),\"max-height\":400,label:\"customer_name\",\"track-by\":\"phone\",\"open-direction\":\"below\"},model:{value:t.specific_customer_list,callback:function(e){t.specific_customer_list=e},expression:\"specific_customer_list\"}})],1),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_model_body_label\")))])]),a(\"div\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"p\",[t._v(t._s(t.current_template.template_body))])])]),a(\"div\",{staticClass:\"form-group\"},[a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(t._s(t.tlt(\"sms_template_model_variables_header\")))])]),a(\"table\",[a(\"tbody\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.tlt(\"sms_template_model_variable_label\"))+\" \")]),a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\" \"+t._s(t.tlt(\"sms_template_model_values_label\"))+\" \")])]),t._l(t.current_template.variable_list,(function(e,s){return a(\"tr\",{key:s},[t._l(e,(function(e,s){return a(\"td\",{key:s,staticClass:\"col-4\"},[t._v(\" \"+t._s(s)+\" \")])})),a(\"td\",{staticClass:\"col-8\"},t._l(e,(function(e,i){return a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.current_template.variable_list[s][i],expression:\"current_template.variable_list[l][h]\"}],key:i,staticClass:\"form-control\",staticStyle:{width:\"100%\",height:\"25px\",\"margin-left\":\"10px\"},attrs:{type:\"text\",title:\"customer_name\"==i?\"Customers Name will be picked from customers list while sending SMS\":\"\",disabled:\"customer_name\"==i},domProps:{value:t.current_template.variable_list[s][i]},on:{input:function(e){e.target.composing||t.$set(t.current_template.variable_list[s],i,e.target.value)}}})})),0)],2)}))],2)])])]),a(\"div\",{staticClass:\"modal-footer\"},[a(\"div\",{staticClass:\"btn-wrap text-right mt-0 py-0 border-top-0\"},[a(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.empty_variable}},[t._v(\" \"+t._s(t.tlt(\"sms_model_cancel_btn\"))+\" \")]),a(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"save_sms_button\"},on:{click:function(e){return t.send_sms()}}},[t._v(\" \"+t._s(t.tlt(\"sms_model_send_btn\"))+\" \")])])])])])]),a(\"div\",{staticClass:\"modal fade\",staticStyle:{\"z-index\":\"2000\"},attrs:{id:\"preview_template_visible\",role:\"dialog\",\"aria-labelledby\":\"preview_template_visible\",\"aria-hidden\":\"true\"}},[a(\"div\",{staticClass:\"modal-dialog modal-dialog-centered modal\",attrs:{role:\"document\"}},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-header\"},[a(\"i\",{staticClass:\"far\",staticStyle:{\"font-size\":\"24px\",\"padding-right\":\"10px\",\"padding-top\":\"3px\"}},[t._v(\"ï‰º\")]),a(\"h5\",{staticClass:\"modal-title\"},[t._v(\" \"+t._s(t.tlt(\"sms_model_preview_header\"))+\" \")]),t._m(4)]),a(\"div\",{staticClass:\"modal-body\"},[a(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.preview_template_data,expression:\"preview_template_data\"}],staticClass:\"text-area\",attrs:{disabled:\"\",name:\"msg\"},domProps:{value:t.preview_template_data},on:{input:function(e){e.target.composing||(t.preview_template_data=e.target.value)}}})])])])]),a(\"div\",{staticClass:\"modal fade\",attrs:{id:\"checkbalance\",role:\"dialog\",\"aria-labelledby\":\"checkbalance\",\"aria-hidden\":\"true\"}},[a(\"div\",{staticClass:\"modal-dialog modal-dialog-centered modal\",staticStyle:{\"max-width\":\"600px !important\"},attrs:{role:\"document\"}},[a(\"div\",{staticClass:\"modal-content\"},[a(\"div\",{staticClass:\"modal-header\"},[a(\"h5\",{staticClass:\"modal-title\"},[t._v(\" \"+t._s(t.tlt(\"sms_model_add_on_header\"))+\" \")]),t._m(5)]),a(\"div\",{staticClass:\"modal-body\"},[a(\"div\"),a(\"p\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=t.credits_balance,expression:\"credits_balance != null\"}],domProps:{innerHTML:t._s(t.credits_balance)}})])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"head-icn\"},[a(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(\"Template Body\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"h5\",[a(\"p\",{staticClass:\"mt-2 mb-0\",staticStyle:{color:\"#414141\"}},[t._v(\"Template Preview\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"head-icn\"},[a(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[a(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])}],n=(a(\"4de4\"),a(\"5873\")),l=a(\"bc3a\"),o=a.n(l),_=a(\"3d20\"),r=a.n(_),m=a(\"ea54\"),c=a.n(m),p=a(\"61b2\"),d=a(\"8e5f\"),h=a.n(d),u=a(\"7bec\"),g=a.n(u),v=(a(\"4413\"),{name:\"SmsCampaignPage\",components:{VueEditor:n[\"a\"],Multiselect:h.a,VuePhoneNumberInput:g.a},mixins:[p[\"e\"],p[\"h\"],p[\"c\"]],data:function(){return{pencil_svg:' <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15.546\" height=\"15.461\" viewBox=\"0 0 15.546 15.461\"><defs><style>.a{fill:#9e9e9e;}</style></defs><g transform=\"translate(-747.888 -356.769)\"><path class=\"a\" d=\"M759.416,356.769a2.358,2.358,0,0,1,1.777.662c.534.513,1.072,1.025,1.567,1.575a2.3,2.3,0,0,1-.071,3.325c-2.736,2.76-5.494,5.5-8.238,8.251a1.381,1.381,0,0,1-.758.288c-.719.174-1.429.379-2.144.572-.932.251-1.862.5-2.795.751-.6.158-.989-.213-.832-.807q.689-2.595,1.406-5.182a1.164,1.164,0,0,1,.289-.487q4.091-4.107,8.2-8.2A2.265,2.265,0,0,1,759.416,356.769Zm-1.989,2.956-6.54,6.538,3.025,3.024,6.538-6.537Zm4.023,2.165c.118-.135.225-.269.343-.392a1.134,1.134,0,0,0,0-1.734c-.46-.466-.926-.925-1.388-1.39a1.166,1.166,0,0,0-.861-.368c-.578,0-.881.4-1.214.76Zm-12.084,8.863,3.2-.863-2.337-2.331Z\" transform=\"translate(0)\"/><path class=\"a\" d=\"M813.942,422.6l-.789-.8,3.821-3.819.784.8Z\" transform=\"translate(-59.648 -55.947)\"/></g></svg>',company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,spinnerOn:!1,template_name:\"\",save_sms:\"\",is_sms:!1,is_email:!0,save_subject:\"\",is_publish_sms:!0,verification_status:null,default_templatelist:[],templatelist:[],checked_list:[],current_template:[],old_template_name:\"\",isEditTemplate:!1,number_of_rows:null,total_pages:null,page_no:1,per_page:10,preview_template_data:\"\",template_name_already_exist:!1,edit_template_name_already_exist:!1,page_array:[],send_sms_all_customer:!0,customers_list:[],specific_customer_list:[],disable_btn_expired:!1,choosen_template:null,isVisibleSearchClear:!1,search_name:\"\",add_customer_contact_number:null,add_customer_name:null,phoneNumber:null,credits_balance:null}},props:{is_notification_template:Boolean},created:function(){\"SuperAdmin\"==this.$session.get(\"UserInformation\").role?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name)},watch:{search_name:function(){\"\"===this.search_name?(this.load_templates(),this.isVisibleSearchClear=!1):\"\"!==this.search_name&&(this.isVisibleSearchClear=!0)}},mounted:function(){var t=this;setTimeout((function(){t.freeze_portal()}),2e3),this.$root.$on(\"SmsTemplatePageDisabled\",(function(e){!0===e&&(t.disable_btn_expired=!0)})),this.load_templates(),!1===this.is_notification_template&&this.load_customer_list();var e=this;$(\"#selectall\").click((function(){this.isEditTemplate=!1,this.is_sms=!1,this.is_email=!0,$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(e.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))}))},methods:{add_customer:function(){1==this.phoneNumber.isValid&&\"\"!=this.add_customer_name?(this.customers_list.push({phone:this.phoneNumber.formattedNumber,country:this.phoneNumber.countryCode,customer_name:this.add_customer_name}),this.specific_customer_list.push({phone:this.phoneNumber.formattedNumber,country:this.phoneNumber.countryCode,customer_name:this.add_customer_name}),this.add_customer_name=\"\"):r()({text:this.tlt(\"sms_template_valid_phone_no\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})},check_addons_balance:function(){var t=this;o.a.post(c.a.check_addons_balance(),{company_name:this.companyname,company_id:this.companyid,check_balance:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.api_status_code.CHECK_BALANCE.MSG_CODE===e.data.message.MSG_CODE){var a=e.data.data.credits.sms_count;t.credits_balance=\"Your current SMS credits are <strong> for US region :\"+a.us+\" | for Non-US region: \"+a.non_us+\"</strong>\",$(\"#checkbalance\").modal(\"show\")}else r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},clear_search_name:function(){this.search_name=\"\"},callsearch:function(){var t=this;\"\"!=this.search_name&&(this.spinnerOn=!0,o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_search:!0,page_no:1,per_page:this.per_page,is_notification:this.is_notification_template,search_key:this.search_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.templatelist=[],t.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE!==e.data.message.MSG_CODE?t.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE===e.data.message.MSG_CODE?(t.templatelist=e.data.data.templates,t.templatelist.length>0&&t.show_template(0),t.number_of_rows=void 0==e.data.pagination.total_data?0:e.data.pagination.total_data,t.total_pages=void 0==e.data.pagination.total_page?0:e.data.pagination.total_page,t.setpagination(t.page_no)):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}):t.templatelist=[]})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})))},save_template:function(){var t=this;if(\"\"!=this.template_name)if(null!=this.choosen_template){if(null!=this.choosen_template){var e=!1;for(var a in this.choosen_template.variable_list)\"\"==this.choosen_template.variable_list[a]&&(e=!0);if(e)return void r()({text:this.tlt(\"sms_template_values_cannot_blank\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})}if(1!=this.template_name_already_exist){this.spinnerOn=!0;var s={template_name:this.template_name,parent_template_id:this.choosen_template.template_id,template_body:this.choosen_template.template_body,variable_list:this.choosen_template.variable_list,template_example:this.choosen_template.template_example};o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_save:!0,is_notification:this.is_notification_template,template_details:s},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,t.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE!=e.data.message.MSG_CODE)return t.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE,e.data.message.MSG_CODE,r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),void(t.isEditTemplate=!1);$(\"#addtemplatemodel\").modal(\"hide\"),r()({type:\"success\",text:t.tlt(\"template_data_added_msg\"),timer:2500}).then((function(e){t.empty_variable(),t.load_templates()})),t.isEditTemplate=!1})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),this.close_modal(\"res_n_int_save\")}}else r()({text:\"Please select the template\",toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500});else r()({text:this.tlt(\"sms_template_name_blank_msg\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})},edit_template_details:function(){this.isEditTemplate?(this.isEditTemplate=!1,this.load_templates(),this.edit_template_name_already_exist=!1):this.isEditTemplate=!0},edit_template:function(){var t=this;if(\"\"!=this.current_template.template_name){if(null!=this.current_template){var e=!1;for(var a in this.current_template.variable_list)\"\"==this.current_template.variable_list[a]&&(e=!0);if(e)return void r()({text:this.tlt(\"sms_edit_template_values_cannot_blank\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})}if(1!=this.edit_template_name_already_exist){this.spinnerOn=!0;var s={template_name:this.current_template.template_name,parent_template_id:this.current_template.parent_template_id,template_id:this.current_template.template_id,template_body:this.current_template.template_body,variable_list:this.current_template.variable_list,template_example:this.current_template.template_example};o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,template_details:s,template_id:this.current_template.template_id,is_edit:!0,is_notification:this.is_notification_template},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE==e.data.message.MSG_CODE?($(\"#addtemplatemodel\").modal(\"hide\"),r()({type:\"success\",text:t.tlt(\"template_data_edit_msg\"),timer:2500}).then((function(e){t.empty_variable(),t.load_templates()})),t.isEditTemplate=!1):(t.api_status_code.UNSUCCESSFUL_DB_QUERY.MSG_CODE,e.data.message.MSG_CODE,r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1)})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))}}else r()({text:this.tlt(\"sms_edit_template_name_blank_msg\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500})},load_customer_list:function(){var t=this;this.spinnerOn=!0,o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,get_customers_list:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE===e.data.message.MSG_CODE?t.customers_list=e.data.data.customer_list:t.api_status_code.NO_CUSTOMER_DATA_AVAILABLE_MODELS.MSG_CODE===e.data.message.MSG_CODE?t.customers_list=[]:r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},send_sms:function(){var t=this;this.disable_btn_expired?this.show_subscription_expired_swal():o.a.post(c.a.template_promotional_sms_campaign(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,is_notification:this.is_notification_template,template_id:this.current_template.template_id,send_sms_all_customer:this.send_sms_all_customer,specific_customers_list:this.specific_customer_list,send_sms:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.api_status_code.SMS_TEMPLATE_NOT_FOUND_MODELS.MSG_CODE===e.data.message.MSG_CODE?r()({title:t.tlt(\"send_sms_credit1\"),text:t.tlt(\"no_credits_left_msg\"),type:\"warning\",showConfirmButton:!1,timer:2500}):t.api_status_code.NO_CUSTOMER_DATA_AVAILABLE_MODELS.MSG_CODE===e.data.message.MSG_CODE?r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"info\",toast:!0}):t.api_status_code.NON_US_SMS_CREDITS_EXCEEDS_MODELS.MSG_CODE===e.data.message.MSG_CODE?r()({title:t.tlt(\"send_sms_credit1\"),text:t.tlt(\"no_credits_left_msg\"),type:\"warning\",showConfirmButton:!0,timer:4e3}):t.api_status_code.SENDING_SMS_MODELS.MSG_CODE===e.data.message.MSG_CODE?(r()({title:t.tlt(\"sms_is_sent_msg\"),type:\"success\",showConfirmButton:!0,timer:2500}),t.empty_variable()):t.api_status_code.US_SMS_CREDITS_EXCEEDS_MODELS.MSG_CODE===e.data.message.MSG_CODE?r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,type:\"warning\",showConfirmButton:!1,timer:4e3}):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!0,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),this.close_modal(\"save_sms_button\")},validate_template_name:function(){var t=this;o.a.post(c.a.template_promotional_sms_campaign(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,is_template_name_exists:!0,is_notification:this.is_notification_template,template_name:this.template_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.api_status_code.SMS_TEMPLATE_NAME_DOES_NOT_EXISTS_MODELS.MSG_CODE===e.data.message.MSG_CODE?(t.template_name_already_exist=!1,document.getElementById(\"template_name_add_id\").style.border=null,t.template_name):t.api_status_code.SMS_TEMPLATE_NAME_EXISTS_MODELS.MSG_CODE===e.data.message.MSG_CODE?(t.template_name_already_exist=!0,document.getElementById(\"template_name_add_id\").style.border=\"1px solid red\"):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},validate_edit_template_name:function(){var t=this;o.a.post(c.a.template_promotional_sms_campaign(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,is_template_name_exists:!0,is_notification:this.is_notification_template,template_name:this.current_template.template_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.api_status_code.SMS_TEMPLATE_NAME_DOES_NOT_EXISTS_MODELS.MSG_CODE===e.data.message.MSG_CODE?(t.edit_template_name_already_exist=!1,document.getElementById(\"edit_template_name_id\").style.border=null,t.current_template.template_name):t.api_status_code.SMS_TEMPLATE_NAME_EXISTS_MODELS.MSG_CODE===e.data.message.MSG_CODE?t.old_template_name==t.current_template.template_name?(t.edit_template_name_already_exist=!1,document.getElementById(\"edit_template_name_id\").style.border=null):(t.edit_template_name_already_exist=!0,document.getElementById(\"edit_template_name_id\").style.border=\"1px solid red\"):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},preview_template:function(t){var e=this;if(this.spinnerOn=!0,\"old\"==t)var a=this.current_template.template_body,s=this.current_template.variable_list;else if(\"new\"==t)a=this.choosen_template.template_body,s=this.choosen_template.variable_list;o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_notification:this.is_notification_template,is_preview:!0,template_body:a,variables_list:s},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(a){e.spinnerOn=!1,e.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE===a.data.message.MSG_CODE&&(e.preview_template_data=a.data.data.body,\"old\"==t&&$(\"#preview_template_visible\").modal(\"show\"))})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))},send_email_confirm_prompt_text:function(t){return t?this.tlt(\"send_bulk_msg\"):this.tlt(\"email_to_specific_customer\")},selected_templates:function(t){if(\"all\"==t)if(event.target.checked){for(var e in this.checked_list=[],this.templatelist)this.checked_list.push(this.templatelist[e].template_id);$(\"input:checkbox\").prop(\"checked\",!1);for(var a=0;a<this.checked_list.length;a++)$(\"#\"+[a]).prop(\"checked\",!0),$(\"#selectall\").prop(\"checked\",!0)}else event.target.checked||(this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1));else if(event.target.checked)this.checked_list.push(t);else if(!event.target.checked){var s=document.querySelector(\"#selectall\");s.checked&&(s.checked=!1);var i=this.checked_list.filter((function(e){return e!=t}));this.checked_list=i}},delete_template:function(){var t=this;this.checked_list.length<1?r()({text:this.tlt(\"select_one_template\"),toast:!0,position:\"top-end\",type:\"warning\",showConfirmButton:!1,timer:2500}):(this.spinnerOn=!0,o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_notification:this.is_notification_template,is_delete:!0,template_list:this.checked_list},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.load_templates(),t.empty_variable(),t.checked_list=[],t.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE!=e.data.message.MSG_CODE?(t.api_status_code.UNSUCCESSFUL_DB_QUERY_MODELS.MSG_CODE==e.data.message.MSG_CODE?r()({text:t.tlt(\"sms_internal_server\"),type:\"error\",showConfirmButton:!1,timer:2500}):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1):r()({text:t.tlt(\"template_deleted_msg\"),type:\"success\",showConfirmButton:!1,timer:2500})})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})))},load_templates:function(){var t=this;this.spinnerOn=!0,o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_notification:this.is_notification_template,is_get_default_templates:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,null!=e.data){if(t.default_templatelist=[],t.api_status_code.STATUS_SUCCESS_MODELS.MSG_CODE==e.data.message.MSG_CODE)return void(t.default_templatelist=e.data.data.default_templates);t.api_status_code.NO_DEFAULT_SMS_TEMPLATE_MODELS.MSG_CODE,e.data.message.MSG_CODE,r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1}})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_get:!0,is_notification:this.is_notification_template,page_no:this.page_no,per_page:this.per_page},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,t.templatelist=[],t.number_of_rows=void 0==e.data.pagination.total_data?0:e.data.pagination.total_data,t.total_pages=void 0==e.data.pagination.total_page?0:e.data.pagination.total_page,t.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE!=e.data.message.MSG_CODE?(t.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE==e.data.message.MSG_CODE?(t.templatelist=e.data.data.templates,t.templatelist.length>0&&t.show_template(0)):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),t.isEditTemplate=!1,t.setpagination(t.page_no)):t.templatelist=[]})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},page_require:function(t){var e=this;0==t||t==this.total_pages+1||(\"\"==this.search_name?(this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,$(\"input:checkbox\").prop(\"checked\",!1),this.spinnerOn=!0,o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_get:!0,is_notification:this.is_notification_template,page_no:this.page_no,per_page:this.per_page},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,e.number_of_rows=void 0==t.data.pagination.total_data?0:t.data.pagination.total_data,e.total_pages=void 0==t.data.pagination.total_page?0:t.data.pagination.total_page,e.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE!=t.data.message.MSG_CODE?(e.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE==t.data.message.MSG_CODE?(e.templatelist=t.data.data.templates,e.templatelist.length>0&&(e.current_template=e.templatelist[0],e.show_template(0))):r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),e.setpagination(e.page_no)):e.templatelist=[]})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):(this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,$(\"input:checkbox\").prop(\"checked\",!1),o.a.post(c.a.template_promotional_sms_campaign(),{company_id:this.company_id,company_name:this.company_name,is_search:!0,page_no:this.page_no,per_page:this.per_page,is_notification:this.is_notification_template,search_key:this.search_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,e.templatelist=[],e.api_status_code.NO_SMS_TEMPLATE_MODELS.MSG_CODE!==t.data.message.MSG_CODE?(e.api_status_code.TEMPLATE_SEARCH_RESULT_MODELS.MSG_CODE===t.data.message.MSG_CODE?(e.templatelist=t.data.data.templates,e.templatelist.length>0&&e.show_template(0),e.number_of_rows=void 0==t.data.pagination.total_data?0:t.data.pagination.total_data,e.total_pages=void 0==t.data.pagination.total_page?0:t.data.pagination.total_page,e.setpagination(e.page_no)):r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"}),e.isEditTemplate=!1):e.templatelist=[]})).catch((function(t){e.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))))},setpagination:function(t){if(this.page_array=[],this.total_pages<=7)for(var e=0;e<this.total_pages;e++)this.page_array.push(e+1);else if(1==t){for(var a=0;a<4;a++)this.page_array.push(a+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var s=this.total_pages-4;s<this.total_pages;s++)this.page_array.push(s+1)}else if(t<=4){for(var i=0;i<t+3;i++)this.page_array.push(i+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var n=t-4;n<this.total_pages;n++)this.page_array.push(n+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var l=t-3;l<=t+3;l++)this.page_array.push(l);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}},pagination_class:function(t){return t==this.page_no?\" active\":\"\"},show_template:function(t){this.current_template=JSON.parse(JSON.stringify(this.templatelist[t])),this.old_template_name=this.current_template.template_name,this.current_template_index=t,this.isEditTemplate=!1},empty_variable:function(){this.disable_btn_expired?this.show_subscription_expired_swal():(this.choosen_template=null,this.current_step=1,this.specific_customer_list=[],this.save_sms=\"\",this.template_name=\"\",this.old_template_name=\"\",this.template_name_already_exist=!1,document.getElementById(\"template_name_add_id\").style.border=null)},check_current_template_active:function(t){if(!0===Boolean(this.templatelist[t]))return this.templatelist[t].template_name===this.old_template_name?\"current-active-template\":null}}}),f=v,b=(a(\"fc4d\"),a(\"2877\")),y=Object(b[\"a\"])(f,s,i,!1,null,\"df5485d6\",null);e[\"default\"]=y.exports},fc4d:function(t,e,a){\"use strict\";var s=a(\"7504\"),i=a.n(s);i.a}}]);","extractedComments":[]}