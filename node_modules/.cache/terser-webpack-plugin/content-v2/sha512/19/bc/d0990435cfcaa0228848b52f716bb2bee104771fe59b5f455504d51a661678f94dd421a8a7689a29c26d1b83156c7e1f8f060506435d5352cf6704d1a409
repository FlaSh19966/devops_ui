{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2189a190\"],{8022:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"div\",{staticClass:\"log-wrap d-flex align-items-center\",attrs:{id:\"body\"}},[s(\"div\",{staticClass:\"container\",staticStyle:{padding:\"50px 50px 0px\"},attrs:{id:\"login_card\"}},[s(\"div\",{staticClass:\"log-blk\",staticStyle:{\"border-radius\":\"20px\",\"box-shadow\":\"0px 1px 22px #00000014\"}},[s(\"div\",{staticClass:\"row no-gutters\"},[s(\"div\",{staticClass:\"col-lg-6\",staticStyle:{height:\"450px\"}},[s(\"div\",{staticClass:\"title-sec d-flex\"},[s(\"div\",{staticClass:\"inner-title\"},[e._m(0),s(\"h2\",[e._v(\"Welcome Back!\")]),e._m(1),s(\"a\",{staticClass:\"white-btn\",staticStyle:{padding:\"5px 20px\",width:\"50%\",height:\"40px\"},attrs:{href:\"javascript: void(0)\"},on:{click:function(t){return e.$router.push({name:\"Register\"})}}},[e._v(\"Sign Up\")])])])]),s(\"div\",{staticClass:\"col-lg-6\",staticStyle:{height:\"450px\"}},[s(\"div\",{staticClass:\"log-sec d-flex\"},[s(\"div\",{staticClass:\"log-frm\"},[s(\"h2\",[e._v(\"Log in\")]),s(\"br\"),s(\"center\",[s(\"div\",{staticClass:\"radio\",staticStyle:{\"margin-bottom\":\"30px\"}},[s(\"label\",{staticStyle:{\"margin-right\":\"65px\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.login_type,expression:\"login_type\"}],attrs:{type:\"radio\",value:\"Portal\"},domProps:{checked:e._q(e.login_type,\"Portal\")},on:{change:function(t){e.login_type=\"Portal\"}}}),s(\"span\",{staticClass:\"icn\"}),e._v(\" Portal \")]),s(\"label\",[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.login_type,expression:\"login_type\"}],attrs:{type:\"radio\",value:\"Bot\"},domProps:{checked:e._q(e.login_type,\"Bot\")},on:{change:function(t){e.login_type=\"Bot\"}}}),s(\"span\",{staticClass:\"icn\"}),e._v(\" Bot \")])])]),s(\"form\",{staticStyle:{padding:\"0px 10px 0px\"},on:{submit:function(t){return t.preventDefault(),e.create(t)}}},[s(\"div\",{staticClass:\"form-group\",staticStyle:{\"margin-top\":\"30px\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.user.email,expression:\"user.email\"}],staticClass:\"form-control email\",class:{invalid:e.is_submitting&&!e.user.email.trim()},staticStyle:{\"border-radius\":\"29px\",padding:\"3px 30px 3px 43px\",\"font-size\":\"15px\"},attrs:{type:\"email\",placeholder:\"E-Mail\",id:\"login_username\",required:\"\"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,\"email\",t.target.value)}}})]),s(\"div\",{staticClass:\"form-group\",staticStyle:{\"margin-bottom\":\"5px\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.user.password,expression:\"user.password\"}],staticClass:\"form-control pass\",class:{invalid:e.is_submitting&&!e.user.password.trim()},staticStyle:{\"border-radius\":\"29px\",padding:\"3px 0px 3px 43px\",\"font-size\":\"15px\"},attrs:{type:\"password\",id:\"form_password\",placeholder:\"Password\"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,\"password\",t.target.value)}}}),s(\"a\",{staticClass:\"view-pass\",staticStyle:{top:\"7px\"},attrs:{href:\"javascript:void(0)\"},on:{click:e.password_toggle}},[s(\"img\",{attrs:{src:\"/img/eye-icn.png\",alt:\"\"}})])]),e._m(2),s(\"div\",{staticClass:\"btn-wrap\"},[s(\"button\",{staticClass:\"darkblue-btn\",staticStyle:{width:\"170px\",padding:\"0px 20px\",height:\"40px\"},attrs:{type:\"submit\"}},[s(\"span\",{staticStyle:{font:\"normal normal 600 17px/27px Poppins\"}},[e._v(\" Log In \"),e.login_button_spinner?s(\"i\",{staticClass:\"fa fa-spinner fa-spin\",attrs:{id:\"spinner\"}}):e._e()])])]),null!=e.allowed_attempts_remaining&&e.allowed_attempts_remaining>0?s(\"div\",{staticClass:\"text-center\"},[s(\"span\",{staticStyle:{color:\"red\",\"font-size\":\"14px\"}},[e._v(\" You have \"+e._s(e.allowed_attempts_remaining)+\" attempt\"+e._s(e.allowed_attempts_remaining>1?\"s\":\"\")+\" remaining before your account gets locked. \")])]):e._e(),e.is_user_locked?s(\"div\",{staticClass:\"text-center\"},[s(\"span\",{staticStyle:{color:\"red\",\"font-size\":\"14px\"}},[e._v(\" Whoops! Too many failed login attempts. Please try again \"+e._s(e.user_locked_date_allowed)+\". \"),s(\"a\",{staticClass:\"ctct-us\",attrs:{href:\"mailto:support@cense.ai?subject=Help%20Required%20-%20Cense%20Portal%20Account%20Locked\"}},[e._v(\"Contact Us\")]),e._v(\" if you think this was a mistake. \")])]):e._e()])],1)])])])]),s(\"div\",[s(\"footer\",[s(\"p\",{staticStyle:{\"margin-top\":\"50px\",\"text-align\":\"center\"}},[e._v(\" â’¸ \"+e._s((new Date).getFullYear())+\" Cense AI Inc. All rights reserved. \"),s(\"a\",{attrs:{href:\"https://cense.ai/privacy-policy\"}},[e._v(\"Privacy Policy\")])])])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"usermodal\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"usermodeltitle\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[e._m(3),s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{click:e.clear_fields}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]),s(\"form\",{on:{submit:e.forgot_password}},[s(\"div\",{staticClass:\"form-group\"},[s(\"label\",[e._v(\"Email\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.forgot_password_email,expression:\"forgot_password_email\"}],staticClass:\"form-control\",attrs:{id:\"email_forgot_pwd\",type:\"email\",placeholder:\"Enter Your Email Here\"},domProps:{value:e.forgot_password_email},on:{input:[function(t){t.target.composing||(e.forgot_password_email=t.target.value)},e.email_validate]}})]),e.show_validation_string&&\"\"!=e.forgot_password_email?s(\"div\",{staticStyle:{color:\"red\"}},[e._v(\" Please enter a valid email address \")]):e._e(),s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:e.clear_fields}},[e._v(\" Cancel \")]),s(\"button\",{staticClass:\"darkblue-btn\",staticStyle:{width:\"20%\"},attrs:{type:\"submit\"}},[e._v(\"Send\")])])])])])])])])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"sec-logo\"},[s(\"img\",{staticStyle:{width:\"100%\",padding:\"0px 70px 0px\"},attrs:{src:\"/img/logonew.png\",alt:\"\"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"p\",{staticStyle:{\"margin-bottom\":\"50px\",opacity:\"0.9\"}},[e._v(\"Cense develops powerful AI solutions\"),s(\"br\"),e._v(\"for your business\")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"checkbox\",staticStyle:{\"margin-right\":\"15px\"}},[s(\"a\",{staticClass:\"forgot\",attrs:{href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#usermodal\"}},[e._v(\"Forgot password?\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[s(\"div\",{staticClass:\"head-icn\"},[s(\"img\",{attrs:{src:\"/img/user-blue.png\",alt:\"\"}})]),s(\"h3\",[e._v(\"Forgot Password\")])])}],o=(s(\"4de4\"),s(\"caad\"),s(\"b0c0\"),s(\"07ac\"),s(\"ac1f\"),s(\"2532\"),s(\"5319\"),s(\"bc3a\")),r=s.n(o),n=s(\"3d20\"),l=s.n(n),d=s(\"9a2a\"),c=(s(\"5118\"),s(\"ea54\")),p=s.n(c),u=s(\"ab70\"),m=s(\"a78e\"),_=s.n(m),h=s(\"c1df\"),g=s.n(h),y={data:function(){return{user:{email:\"\",password:\"\",date:\"\"},open_modal:!1,forgot_password_email:\"\",reg_email:/^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,show_validation_string:!1,login_type:\"Portal\",is_super_admin:!1,open_bot_api_response_received:!1,login_button_spinner:!1,is_submitting:!1,allowed_attempts_remaining:null,is_user_locked:!1,user_locked_date_allowed:null}},beforeCreate:function(){this.$session.has(\"UserInformation\")&&Boolean(this.$route.query.is_shopify_billing_redirect)?this.$router.push({name:\"Dashboard\",params:{is_shopify_billing_redirect:!0}}):!this.$session.has(\"UserInformation\")||Boolean(this.$route.query.email)&&Boolean(this.$route.query.token)||this.$router.push(\"/bot/dashboard\")},created:function(){var e=_.a.get(\"login_type\");void 0!==e&&\"undefined\"!==e&&(this.login_type=_.a.get(\"login_type\")),void 0==this.login_type&&(this.login_type=\"Portal\")},beforeMount:function(){var e=this.$route.query.email,t=this.$route.query.token;e&&t&&(this.$router.replace(\"login\"),r.a.post(p.a.validate_login(),{email:e,token:t}).then((function(e){\"Email already verified\"==e.data?l()({html:\"<h6>This Email verification link is Expired. You already Verified your account. Kindly login</h6>\"}):\"Email verification successful\"==e.data?l()({type:\"success\",html:\"<h6>Your email verification is successfully done . Please use Email id as your username and password for login</h6>\",timer:3e3}):\"User Doesn't Exist\"==e.data&&l()({html:\"<h6>User Doesn't Exist</h6>\",type:\"error\",timer:2e3})})))},methods:{email_validate:function(){this.reg_email.test(this.forgot_password_email)?this.show_validation_string=!1:this.show_validation_string=!0},clear_fields:function(){this.forgot_password=\"\",$(\"#usermodal\").modal(\"hide\")},forgot_password:function(){event.preventDefault(),0==this.show_validation_string&&\"\"!=this.forgot_password_email&&(l()({toast:!0,text:\"Please wait while we submit your details\",showConfirmButton:!1,type:\"info\"}),r.a.post(p.a.forgot_password(),{email:this.forgot_password_email}).then((function(e){e.data.includes(\"email address\")?l()({html:e.data,type:\"error\"}):\"A mail has been sent to your email\"==e.data?(l()({html:\"<h6>We have sent a link to reset your password. Kindly check your e-mail</h6>\",timer:3e3}),$(\"#usermodal\").modal(\"hide\")):(l()({html:\"<h6>Some Error Occurred. Please Try Again</h6>\",timer:2500}),$(\"#usermodal\").modal(\"hide\"))})))},password_toggle:function(){var e=document.getElementById(\"form_password\");\"text\"==e.type?e.type=\"password\":\"password\"==e.type&&(e.type=\"text\")},create:function(){this.is_submitting=!0,\"\"==this.user.name||\"\"==this.user.password?l()({type:\"warning\",title:\"<h4>Kindly enter the email and password</h4>\",timer:2500}):(this.is_submitting=!1,this.login_button_spinner=!0,$('button[type=\"submit\"]').prop(\"disabled\",!0),this.call_api())},redir:function(e){var t=this,s=!0;this.login_button_spinner=!1,document.getElementById(\"body\").style.opacity=\"0.5\",\"Email hasn't been verified.\"==e.MSG?(l()({html:\"<h6>Your account has not been validated for login.<br>Please check your e-mail for details.</h6>\",type:\"error\"}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Your account has been locked due incorrect login attempts\"==e.MSG?(s=!1,l()({html:\"<h6>Your account has been locked for exceeding the number of allowed attempts.</h6>\",type:\"error\"}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Internal Server Error\"==e.MSG?(l()({type:\"error\",html:\"<h6>There was an internal server error. Please try again.</h6>\"}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"User has not been approved yet.\"==e.MSG?(l()({type:\"warning\",html:\"<h6>Your registration has not been approved or it has been declined by Admin. Kindly check your mail</h6>\",timer:3e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"You are already logged in!\"==e.MSG?(l()({type:\"error\",html:\"<h6>This user is already logged in</h6>\",timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Invalid Credentials\"==e.MSG?(s=!1,isNaN(e.allowed_attempts)?l()({type:\"error\",html:\"<h6>Invalid Credentials!</h6>\",showConfirmButton:!0}):(this.allowed_attempts_remaining=e.allowed_attempts,l()({type:\"error\",html:\"<h6>Invalid Credentials!</h6>\",text:\"You have \".concat(this.allowed_attempts_remaining,\" attempts remaining before your account gets locked.\"),showConfirmButton:!0})),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"API LIMIT EXCEEDED\"==e.MSG?(l()({type:\"error\",html:\"<h6>Your monthly api requests has exceeded. Please Upgrade your plans to login</h6>\",timer:3e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Password should be Renewed\"==e.MSG?(l()({type:\"error\",html:\"<h6>Your password has been expired. Please Renew your password</h6>\",timer:2500}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):Boolean(e.is_super_admin_login)?(this.$router.push({name:\"SuperAdminIntermediateScreen\",params:{data:e.all_users_list}}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"rt\",e.userinformation.refresh_token)):\"Bot\"==this.login_type?(_.a.remove(\"login_type\"),_.a.set(\"login_type\",this.login_type,{expires:365}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"rt\",e.userinformation.refresh_token),this.check_template_subscription(\"push_direct_response_bot\")):\"User Is Locked\"==e.MSG?(s=!1,null!=e.locked_at&&void 0!=e.locked_at&&(this.is_user_locked=!0,this.user_locked_date_allowed=g()(g()(new Date(e.locked_at)).add(1,\"d\")).calendar()),l()({type:\"error\",title:\"Account Locked!\",html:\"This user has been locked for exceeding the allowed number of failed login attempts. Please try again \".concat(this.user_locked_date_allowed,'. <a href=\"mailto:support@cense.ai?subject=Help%20Required%20-%20Cense%20Portal%20Account%20Locked\" class=\"ctct-us\">Contact Us</a> if you think this was a mistake.')}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):(_.a.remove(\"login_type\"),_.a.set(\"login_type\",this.login_type,{expires:365}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"retail_web_framework\",e.retail_web_framework),r.a.post(p.a.bot_response_token(),{license_key:this.$session.get(\"UserInformation\").license_key,username:this.$session.get(\"UserInformation\").email}).then((function(e){t.$session.set(\"BotToken\",e.data),t.$session.remove(\"TemporaryBotToken\"),u[\"bus\"].$emit(\"Token changed\",\"True\")})),this.$session.set(\"UserFirstName\",e.userinformation.first_name),this.$session.set(\"UserLastName\",e.userinformation.last_name),this.$session.set(\"rt\",e.userinformation.refresh_token),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"RestrictionList\",e.restriction_list),document.cookie=\"company_id=\"+this.$session.get(\"UserInformation\").company_id,document.cookie=\"company_name=\"+this.$session.get(\"UserInformation\").company_name,document.cookie=\"company_email=\"+this.$session.get(\"UserInformation\").email,this.login_button_spinner=!0,this.check_template_subscription(null,e.menubind)),s&&(this.user.email=\"\"),this.user.password=\"\"},check_template_subscription:function(e,t){var s=this;r.a.get(p.a.open_bot_template_subscription_api(),{params:{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id},headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(a){var i=a.data;s.open_bot_api_response_received=!0,null===e&&s.update_menu_list(t),\"Success\"===i.status?(s.$session.set(\"BotTemplates\",i.templates),\"push_direct_response_bot\"===e&&s.$router.push({name:\"Direct Response Bot\",params:{reload:!0}})):\"push_direct_response_bot\"===e&&s.$router.push({name:\"Direct Response Bot\",params:{reload:!0}})})).catch((function(a){s.open_bot_api_response_received=!0,null===e&&s.update_menu_list(t),\"push_direct_response_bot\"===e&&s.$router.push({name:\"Direct Response Bot\",params:{reload:!0}}),console.log(a)}))},call_api:function(){var e=this;this.user.date=g()().toISOString(),this.allowed_attempts_remaining=0,this.is_user_locked=!1,this.user_locked_date_allowed=null,r.a.post(p.a.login(),this.user).then((function(t){e.redir(t.data)})).catch((function(t){e.login_button_spinner=!1,$('button[type=\"submit\"]').prop(\"disabled\",!1),l()({html:\"<h4>Some Error Occurred.<br>Please Try Again!</h4>\",type:\"error\",showConfirmButton:!1,timer:2500})}))},update_menu_list:function(e){for(var t={},s=e.filter((function(e){return 1==e.IsMasterMenu&&1==e.Enabled})),a=[],i=e.filter((function(e){return 0==e.HasSubMenus&&1==e.Enabled&&1==e.IsSubMenu})),o=function(e,i){var o=d[\"a\"].filter((function(t){return t.name===s[e].MenuItem&&Boolean(t.svg_html)}));o.length>0&&(a.push(o[0]),t[o[0].name]={main_menu:o[0],sub_menu_list:[]})},r=0,n=s.length;r<n;r+=1)o(r,n);try{for(var l=0,c=i.length;l<c;l+=1)for(var p in d[\"a\"])d[\"a\"][p].name===i[l].MenuItem&&Boolean(d[\"a\"][p].page_path&&d[\"a\"][p].master_menu===i[l].MasterMenu)&&t[i[l].MasterMenu].sub_menu_list.push(d[\"a\"][p])}catch(u){console.log(u)}t=Object.values(t),this.$session.set(\"ChatbotMenu\",t),this.$router.push(\"/bot/dashboard\")}}},f=y,b=(s(\"8f11\"),s(\"e84f\"),s(\"2877\")),v=Object(b[\"a\"])(f,a,i,!1,null,\"f5b157e0\",null);t[\"default\"]=v.exports},8970:function(e,t,s){},\"8f11\":function(e,t,s){\"use strict\";var a=s(\"eaf1\"),i=s.n(a);i.a},e84f:function(e,t,s){\"use strict\";var a=s(\"8970\"),i=s.n(a);i.a},eaf1:function(e,t,s){}}]);","extractedComments":[]}