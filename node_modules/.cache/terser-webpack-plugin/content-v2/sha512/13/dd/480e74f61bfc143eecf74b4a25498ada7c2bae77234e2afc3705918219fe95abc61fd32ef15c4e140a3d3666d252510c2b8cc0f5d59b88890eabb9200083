{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-0ec75bc1\"],{\"0b45\":function(e,t,s){e.exports=s.p+\"img/Group 61.0e43b367.svg\"},\"302f\":function(e,t,s){},\"60bc\":function(e,t,s){\"use strict\";var a=s(\"7bf2\"),n=s.n(a);n.a},6109:function(e,t,s){},\"71ed\":function(e,t,s){\"use strict\";var a=s(\"6109\"),n=s.n(a);n.a},7495:function(e,t,s){\"use strict\";var a=s(\"302f\"),n=s.n(a);n.a},\"7bed\":function(e,t,s){e.exports=s.p+\"img/Group 71.6d35d1d6.svg\"},\"7bf2\":function(e,t,s){},b1b7:function(e,t,s){\"use strict\";var a=s(\"da42\"),n=s.n(a);n.a},d0e9:function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"dash-cont\"},[s(\"div\",{staticClass:\"container-fluid\"},[s(\"div\",{staticClass:\"card dash-card\"},[s(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[s(\"h4\",{staticClass:\"mb-sm-0\"},[e._v(\"Verify Responses\")]),s(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.search_name,expression:\"search_name\",modifiers:{trim:!0}}],staticClass:\"form-control search-bar\",attrs:{id:\"search_bar\",placeholder:\"Search here\"},domProps:{value:e.search_name},on:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.search_question(t)},input:function(t){t.target.composing||(e.search_name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isVisibleSearchClear?s(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0\",staticStyle:{\"margin-left\":\"-40px\",\"z-index\":\"10\"},attrs:{type:\"button\"},on:{click:e.clear_search_name}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):e._e(),s(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",id:\"search_btn\"},on:{click:e.search_question}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",width:\"14\",height:\"14\"}},[s(\"path\",{attrs:{d:\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\",fill:\"#fff\"}})])]),s(\"button\",{staticClass:\"darkblue-btn\",style:e.show_model_progress(\"style\"),attrs:{id:\"verify_response_train_model_btn\",type:\"submit\",disabled:1==e.intent_model_inprogress,title:e.show_model_progress(\"title\")},on:{click:e.train_intent_model}},[s(\"i\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.intent_model_inprogress,expression:\"intent_model_inprogress\"}],staticClass:\"fa fa-spinner fa-spin\"}),e._v(\" Train Model \")]),s(\"button\",{staticClass:\"darkblue-btn\",attrs:{id:\"verify_response_save_btn\",type:\"submit\"},on:{click:e.add_questions}},[e._v(\" Save \")]),s(\"a\",{staticClass:\"red-btn\",attrs:{href:\"javascript:void(0)\",id:\"delete_role\"},on:{click:e.delete_multiple}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"14\",viewBox:\"0 0 14 14\"}},[s(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\",transform:\"translate(-4 -3)\",fill:\"#fff\"}})]),e._v(\" Delete \")])])]),s(\"div\",{staticClass:\"card-body\",attrs:{id:\"page\"}},[s(\"ul\",{staticClass:\"nav nav-tabs mb-3\",attrs:{id:\"myTab\",role:\"tablist\"}},[s(\"li\",{staticClass:\"nav-item\"},[s(\"a\",{staticClass:\"nav-link pl-5 pr-5\",attrs:{id:\"user_responses-tab\",\"data-toggle\":\"tab\",href:\"#user_responses\",role:\"tab\",\"aria-controls\":\"user_responses\"},on:{click:function(t){e.view_component_name=\"user_responses\"}}},[e._v(\"User Responses\")])]),s(\"li\",{staticClass:\"nav-item\"},[s(\"a\",{staticClass:\"nav-link pl-5 pr-5\",attrs:{id:\"unanswered_questions-tab\",\"data-toggle\":\"tab\",href:\"#unanswered_questions\",role:\"tab\",\"aria-controls\":\"unanswered_questions\"},on:{click:function(t){e.view_component_name=\"unanswered_questions\"}}},[e._v(\"Unanswered Questions\")])])]),s(\"div\",{staticClass:\"tab-content\",attrs:{id:\"myTabContent\"}},[s(\"div\",{staticClass:\"tab-pane fade\",attrs:{id:\"unanswered_questions\",role:\"tabpanel\",\"aria-labelledby\":\"unanswered_questions-tab\"}},[\"unanswered_questions\"===e.view_component_name?[s(\"unanswered-responses\")]:e._e()],2),s(\"div\",{staticClass:\"tab-pane fade\",attrs:{id:\"user_responses\",role:\"tabpanel\",\"aria-labelledby\":\"user_responses-tab\"}},[\"user_responses\"===e.view_component_name?[s(\"unanswered-feedback\")]:e._e()],2)])])])])])},n=[],i=s(\"bc3a\"),o=s.n(i),r=s(\"3d20\"),l=s.n(r),c=s(\"ea54\"),_=s.n(c),u=s(\"5118\"),d=s(\"8e5f\"),h=s.n(d),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"table-box\"},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.show_loader,expression:\"show_loader\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"table-responsive mb-0\",staticStyle:{overflow:\"visible\"}},[s(\"table\",{staticClass:\"table\"},[s(\"thead\",[s(\"tr\",[s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"},on:{change:function(t){return e.question_selected(\"all\")}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"th\",{staticStyle:{width:\"5%\"},attrs:{scope:\"col\"}},[e._v(\"ACTION\")]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(\"QUESTIONS\")]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(\"INTENT\")])])]),s(\"tbody\",e._l(e.unanswered_list,(function(t,a){return s(\"tr\",{key:a,attrs:{id:\"list-group\"}},[[s(\"th\",{staticClass:\"table-head\",attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\"},on:{change:function(t){return e.question_selected(a)}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"td\",{staticClass:\"action\"},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(t){return e.edit_item(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"15.392\",height:\"15.392\",viewBox:\"0 0 15.392 15.392\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModalCenter\"}},[s(\"path\",{attrs:{id:\"square-edit-outline\",d:\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\",transform:\"translate(-3 -3)\",fill:\"#9499ae\"}})])]),s(\"a\",{attrs:{href:\"#\"},on:{click:function(t){return e.delete_single(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"13.682\",height:\"15.392\",viewBox:\"0 0 13.682 15.392\"}},[s(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\",transform:\"translate(-4 -3)\",fill:\"#f23d3d\"}})])])]),s(\"td\",[e._v(e._s(t.question))]),s(\"td\",{staticStyle:{width:\"50%\"}},[s(\"div\",{staticClass:\"form-group\"},[s(\"multiselect\",{attrs:{searchable:!0,\"close-on-select\":!0,\"show-labels\":!1,options:e.intent_list},model:{value:t.intent,callback:function(s){e.$set(t,\"intent\",s)},expression:\"row.intent\"}},[s(\"span\",[e._v(e._s(t.intent))])])],1)])]],2)})),0)])]),s(\"div\",{staticClass:\"pagin-table\",staticStyle:{\"margin-top\":\"0%\"}},[s(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[s(\"ul\",{staticClass:\"pagination justify-content-center\"},[s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(t){return e.page_require(e.page_no-1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),e._l(e.page_array,(function(t){return s(\"li\",{key:t,class:\"page-item \"+e.pagination_class(t)},[\"...s\"==t||\"...l\"==t?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return e.page_require(t)}}},[e._v(\"...\")]):e._e(),\"...s\"!=t&&\"...l\"!=t?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return e.page_require(t)}}},[e._v(e._s(t))]):e._e()])})),s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(t){return e.page_require(e.page_no+1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"exampleModalCenter\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[e._m(0),e._m(1),s(\"form\",{on:{submit:e.submit_question}},[s(\"div\",{staticClass:\"form-group\"},[s(\"label\",[e._v(\"Your Question\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.old_question,expression:\"old_question\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:\"Enter your question\",id:\"add_question_question\"},domProps:{value:e.old_question},on:{input:function(t){t.target.composing||(e.old_question=t.target.value)}}})]),e._m(2)])])])])])])},m=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[s(\"div\",{staticClass:\"head-icn\"},[s(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})]),s(\"h3\",[e._v(\"Edit Question\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"}},[e._v(\" Cancel \")]),s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"add_quesn_save\"}},[e._v(\" Save \")])])}],f=(s(\"4de4\"),{name:\"verify_responses_unanswered\",components:{Multiselect:h.a},data:function(){return{unanswered_list:[],user_role:this.$session.get(\"UserInformation\").role,companyname:this.$session.get(\"UserInformation\").company_name,companyid:this.$session.get(\"UserInformation\").company_id,intent_list:[],checked_list:[],intentlist:\"\",per_page:15,page_no:1,total_pages:0,show_loader:!1,number_of_rows:null,search_name:\"\",page_array:[],old_question:\"\",old_intent:\"\",new_intent_list:[],old_data:{question:null,intent:null},thumbs_down_icon:s(\"0b45\"),thumbs_up_icon:s(\"7bed\")}},mounted:function(){var e=this,t=this;$(\"#selectall\").click((function(){$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(t.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))})),this.$root.$on(\"add_questions_unanswered\",(function(t){e.add_questions()})),this.$root.$on(\"search_unanswered\",(function(t){e.search_name=t,e.search_question()})),this.$root.$on(\"delete_multiple_unanswered\",(function(t){e.delete_multiple()})),this.$root.$on(\"load_verify_responses_unanswered\",(function(t){e.load_verify_responses_unanswered()}))},beforeDestroy:function(){this.$root.$off(\"add_questions_unanswered\"),this.$root.$off(\"search_unanswered\"),this.$root.$off(\"delete_multiple_unanswered\"),this.$root.$off(\"load_verify_responses_unanswered\")},created:function(){this.load_verify_responses_unanswered()},methods:{load_verify_responses_unanswered:function(){var e=this;this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1),this.show_loader=!0,this.intent_list=[],this.new_intent_list=[],this.unanswered_list=[],this.search_name=\"\",\"SuperAdmin\"==this.user_role&&this.$session.has(\"CompanyId\")?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name),void 0!==this.companyname&&o.a.post(_.a.get_unanswered_url(),{companyname:this.companyname,companyid:this.companyid,email:this.$session.get(\"UserInformation\").email,isDelete:\"False\",license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,page_no:this.page_no,per_page:this.per_page,is_get_user_response:!1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.number_of_rows=t.data[0].length,e.total_pages=t.data[4].pagecount;var s=t.data;for(var a in e.unanswered_list=[],s[0]){var n=\"\";Boolean(s[2][a])&&(n=s[2][a]),e.unanswered_list.push({question:s[0][a],intent:n,source:s[1][a],user_response:s[2][a],user_feedback:s[3][a],edit:!1})}e.setpagination(e.page_no),e.show_loader=!1})).catch((function(t){410===t.response.status||440===t.response.status||409===t.response.status?e.$root.$emit(\"Session_Expired\",t.response.data):toastr.error(t.message),e.show_loader=!1})),o.a.post(_.a.get_unanswered_url(),{companyid:this.companyid,companyname:this.companyname,isDropdown:\"True\",email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){for(var s in t.data[0])e.intent_list.push(t.data[0][s]),e.new_intent_list.push(t.data[0][s])})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))},setpagination:function(e){if(this.page_array=[],this.total_pages<=7)for(var t=0;t<this.total_pages;t++)this.page_array.push(t+1);else if(1==e){for(var s=0;s<4;s++)this.page_array.push(s+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(e==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var a=this.total_pages-4;a<this.total_pages;a++)this.page_array.push(a+1)}else if(e<=4){for(var n=0;n<e+3;n++)this.page_array.push(n+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(e>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var i=e-4;i<this.total_pages;i++)this.page_array.push(i+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var o=e-3;o<=e+3;o++)this.page_array.push(o);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}},page_require:function(e){var t=this;this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1),0==e||e==this.total_pages+1||($(\"input:checkbox\").prop(\"checked\",!1),this.page_no=\"...s\"==e?Math.ceil((1+this.page_no)/2):\"...l\"==e?Math.ceil((this.total_pages+this.page_no)/2):e,\"\"==this.search_name?(this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyname:this.companyname,companyid:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,isDelete:\"False\",page_no:this.page_no,per_page:this.per_page,is_get_user_response:!1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){for(var s in t.show_loader=!1,t.unanswered_list=[],e.data[0]){var a=\"\";Boolean(e.data[2][s])&&(a=e.data[2][s]),t.unanswered_list.push({question:e.data[0][s],intent:a,source:e.data[1][s],user_response:e.data[2][s],user_feedback:e.data[3][s],edit:!1})}t.setpagination(t.page_no)})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))):(this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyid:this.$session.get(\"UserInformation\").company_id,companyname:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:this.page_no,is_get_user_response:!1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){if(t.show_loader=!1,void 0!=s.data[4].pagecount){t.page_no=e,t.unanswered_list=[],t.number_of_rows=s.data[0].length,t.total_pages=s.data[4].pagecount;var a=s.data;for(var n in s.data[0]){var i=\"\";Boolean(a[2][n])&&(i=a[2][n]),t.unanswered_list.push({question:s.data[0][n],intent:i,source:s.data[1][n],user_response:s.data[2][n],user_feedback:s.data[3][n],edit:!1})}t.setpagination(t.page_no)}else toastr.error(\"Internal Server Error\"),t.load_verify_responses_unanswered()})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))))},question_selected:function(e){var t=this;if(event.target.checked)if(\"all\"==e)for(var s in this.checked_list=[],this.unanswered_list)this.checked_list.push(this.unanswered_list[s]);else this.checked_list.push(this.unanswered_list[e]);else if(!event.target.checked&&\"all\"!=e){var a=document.querySelector(\"#selectall\");a.checked&&(a.checked=!1);var n=this.checked_list.filter((function(s){return s!==t.unanswered_list[e]}));this.checked_list=n}},delete_single:function(e){var t=this,s=[];l.a.fire({title:\"Are you sure?\",text:\" You want to Delete this Question?\",type:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\"}).then((function(a){a.value&&(s.push(t.unanswered_list[e].question),t.delete_questions_api(s))}))},delete_multiple:function(){var e=this;if(0==this.checked_list.length)l.a.fire({title:\"No question selected!\",text:\"\",type:\"error\",timer:2e3});else if(this.checked_list.length>0){var t=[];l.a.fire({title:\"Are you sure?\",text:\" You want to Delete this Questions?\",type:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\"}).then((function(s){if(s.value){for(var a in e.checked_list)t.push(e.checked_list[a].question);e.delete_questions_api(t)}}))}},delete_questions_api:function(e){var t=this;this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyid:this.companyid,companyname:this.companyname,questionlist:e,isDelete:\"True\",email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){if(t.show_loader=!1,\"Deleted Successfully\"==s.data){t.checked_list=[],t.number_of_rows=s.data[2].number_of_rows,t.total_pages=Math.ceil(t.number_of_rows/t.per_page),toastr.success(\"Deleted Successfully\"),e.length===t.unanswered_list.length&&t.page_no>1&&(t.page_no=t.page_no-1);while(t.page_no>1&&t.page_no>t.total_pages)t.page_no=t.page_no-1;t.load_verify_responses_unanswered()}t.show_loader=!1})).catch((function(e){410===e.response.status||440===e.response.status||409===e.response.status?t.$root.$emit(\"Session_Expired\",e.response.data):toastr.error(e.message),t.show_loader=!1}))},edit_item:function(e){this.unanswered_list[e].edit=!this.unanswered_list[e].edit,this.old_question=this.unanswered_list[e].question,this.old_data.question=this.old_question},submit_question:function(){var e=this;event.preventDefault(),\"\"==this.old_question?toastr.error(\"Please enter all the fields.\"):($(\"#exampleModalCenter\").modal(\"hide\"),this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{is_Edit:\"True\",question:this.old_question,companyname:this.companyname,companyid:this.companyid,old_question_data:this.old_data,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.show_loader=!1,\"Internal Server Error\"==t.data?toastr.error(\"Internal Server Error\"):\"Edited Successfully\"==t.data&&l()({type:\"success\",text:\"Your question has been edited successfully\",timer:2500}).then((function(t){e.load_verify_responses_unanswered()}))})).catch((function(t){410===t.response.status||440===t.response.status||409===t.response.status?e.$root.$emit(\"Session_Expired\",t.response.data):toastr.error(\"Internal Server Error\")})))},pagination_class:function(e){return e==this.page_no?\" active\":\"\"},add_questions:function(){var e=this;this.show_loader=!0;var t=[],s=[];this.unanswered_list.filter((function(e){return\"\"==e.intent}));for(var a in this.unanswered_list)\"\"!=this.unanswered_list[a].intent&&(s.push(this.unanswered_list[a].question,this.unanswered_list[a].intent),t.push(s)),s=[];t.length>0?(this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyname:this.companyname,companyid:this.companyid,isAdd:\"True\",questionintent:t,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){e.show_loader=!1,\"Added Successfully\"==s.data&&(l()({text:\"Added Successfully\",type:\"success\",timer:3e3}),t.length===e.unanswered_list.length&&e.page_no>1&&(e.page_no=e.page_no-1),e.load_verify_responses_unanswered())})).catch((function(t){e.show_loader=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):toastr.error(\"No question to add. Please add some questions.\"),this.show_loader=!1},search_question:function(){var e=this;\"\"!=this.search_name?(this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1),this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyid:this.$session.get(\"UserInformation\").company_id,companyname:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:1,is_get_user_response:!1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){if(e.show_loader=!1,\"No Questions Found\"==t.data.MSG)toastr.error(\"No Question Found\"),e.load_verify_responses_unanswered();else if(void 0!=t.data[4].pagecount){e.page_no=1,e.unanswered_list=[],e.number_of_rows=t.data[0].length,e.total_pages=t.data[4].pagecount;var s=t.data;for(var a in t.data[0]){var n=\"\";Boolean(s[2][a])&&(n=s[2][a]),e.unanswered_list.push({question:t.data[0][a],intent:n,source:t.data[1][a],user_response:s[2][a],user_feedback:s[3][a],edit:!1})}e.setpagination(e.page_no)}else toastr.error(\"Internal Server Error\"),e.load_verify_responses_unanswered()})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):toastr.error(\"Enter proper data for searching\")}}}),g=f,v=(s(\"7495\"),s(\"2877\")),w=Object(v[\"a\"])(g,p,m,!1,null,\"b0d46098\",null),y=w.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.show_loader,expression:\"show_loader\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"table-box\"},[s(\"div\",{staticClass:\"table-responsive mb-0\",staticStyle:{overflow:\"visible\"}},[s(\"table\",{staticClass:\"table\"},[s(\"thead\",[s(\"tr\",[s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"},on:{change:function(t){return e.question_selected(\"all\")}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"th\",{staticStyle:{width:\"5%\"},attrs:{scope:\"col\"}},[e._v(\"ACTION\")]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(\"QUESTIONS\")]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(\"PREDICTED INTENT\")]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(\"NEW INTENT\")]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(\"USER RESPONSES \"),s(\"i\",{staticClass:\"fa fa-filter \",staticStyle:{cursor:\"pointer\"},attrs:{\"aria-hidden\":\"true\",\"data-toggle\":\"dropdown\"}}),s(\"ul\",{staticClass:\"dropdown-menu p-0\",staticStyle:{\"margin-top\":\".6rem\"}},[s(\"table\",{staticStyle:{width:\"100%\"}},e._l(e.user_list,(function(t,a){return s(\"tr\",{key:a},[s(\"td\",{staticStyle:{display:\"flex\",width:\"auto\",\"text-align\":\"center\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.selected_user_list,expression:\"selected_user_list\"}],staticStyle:{\"margin-top\":\"auto\",\"margin-bottom\":\"auto\"},attrs:{type:\"checkbox\",id:t.replace(/\\s/g,\"\")+\"_checkbox\"},domProps:{value:t,checked:Array.isArray(e.selected_user_list)?e._i(e.selected_user_list,t)>-1:e.selected_user_list},on:{change:function(s){var a=e.selected_user_list,n=s.target,i=!!n.checked;if(Array.isArray(a)){var o=t,r=e._i(a,o);n.checked?r<0&&(e.selected_user_list=a.concat([o])):r>-1&&(e.selected_user_list=a.slice(0,r).concat(a.slice(r+1)))}else e.selected_user_list=i}}}),s(\"label\",{staticStyle:{margin:\"auto\"},attrs:{for:t.replace(/\\s/g,\"\")+\"_checkbox\",title:t}},[e._v(\" \"+e._s(t))])])])})),0)])])])]),s(\"tbody\",e._l(e.unanswered_list,(function(t,a){return s(\"tr\",{key:a,attrs:{id:\"list-group\"}},[null!==t.user_feedback?[s(\"th\",{staticClass:\"table-col_1\",attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label\"},[s(\"input\",{staticClass:\"form-check-input checking\",attrs:{id:\"checking\",type:\"checkbox\"},on:{change:function(t){return e.question_selected(a)}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"td\",{staticClass:\"action\"},[s(\"a\",{attrs:{href:\"#\"},on:{click:function(t){return e.edit_item(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"15.392\",height:\"15.392\",viewBox:\"0 0 15.392 15.392\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModalCenter\"}},[s(\"path\",{attrs:{id:\"square-edit-outline\",d:\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\",transform:\"translate(-3 -3)\",fill:\"#9499ae\"}})])]),s(\"a\",{attrs:{href:\"#\"},on:{click:function(t){return e.delete_single(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"13.682\",height:\"15.392\",viewBox:\"0 0 13.682 15.392\"}},[s(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\",transform:\"translate(-4 -3)\",fill:\"#f23d3d\"}})])])]),s(\"td\",[e._v(e._s(t.question))]),s(\"td\",[e._v(e._s(t.intent))]),s(\"td\",{staticStyle:{width:\"20%\"}},[s(\"div\",{staticClass:\"form-group\"},[s(\"multiselect\",{attrs:{searchable:!0,\"close-on-select\":!0,\"show-labels\":!1,options:e.intent_list},model:{value:t.new_intent,callback:function(s){e.$set(t,\"new_intent\",s)},expression:\"row.new_intent\"}},[s(\"span\",[e._v(e._s(t.new_intent))])])],1)]),s(\"td\",{staticClass:\"text-center\"},[\"like\"==t.user_feedback?s(\"a\",[s(\"strong\",[e._v(\"Yes\")])]):\"dislike\"==t.user_feedback?s(\"a\",[s(\"strong\",[e._v(\"No\")])]):e._e()])]:e._e()],2)})),0)])]),s(\"div\",{staticClass:\"pagin-table\",staticStyle:{\"margin-top\":\"0%\"}},[s(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[s(\"ul\",{staticClass:\"pagination justify-content-center\"},[s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(t){return e.page_require(e.page_no-1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),e._l(e.page_array,(function(t){return s(\"li\",{key:t,class:\"page-item \"+e.pagination_class(t)},[\"...s\"==t||\"...l\"==t?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return e.page_require(t)}}},[e._v(\"...\")]):e._e(),\"...s\"!=t&&\"...l\"!=t?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return e.page_require(t)}}},[e._v(e._s(t))]):e._e()])})),s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(t){return e.page_require(e.page_no+1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"exampleModalCenter\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[e._m(0),e._m(1),s(\"form\",{on:{submit:e.submit_question}},[s(\"div\",{staticClass:\"form-group\"},[s(\"label\",[e._v(\"Your Question\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.old_question,expression:\"old_question\"}],staticClass:\"form-control\",attrs:{type:\"text\",placeholder:\"Enter your question\",id:\"add_question_question\"},domProps:{value:e.old_question},on:{input:function(t){t.target.composing||(e.old_question=t.target.value)}}})]),e._m(2)])])])])])])},b=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[s(\"div\",{staticClass:\"head-icn\"},[s(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})]),s(\"h3\",[e._v(\"Edit Question\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"}},[e._v(\" Cancel \")]),s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"add_quesn_save\"}},[e._v(\" Save \")])])}],C={name:\"VerifyResponsesUserFeedback\",components:{Multiselect:h.a},watch:{selected_user_list:function(e,t){var s=this;0===e.length?Object(u[\"setTimeout\"])((function(){s.selected_user_list=[\"No\"]}),200):(this.page_no=1,$(\"#selectall\").prop(\"checked\",!1),this.load_verify_responses_user_feedback())}},data:function(){return{unanswered_list:[],user_role:this.$session.get(\"UserInformation\").role,companyname:this.$session.get(\"UserInformation\").company_name,companyid:this.$session.get(\"UserInformation\").company_id,intent_list:[],checked_list:[],user_list:[\"Yes\",\"No\"],selected_user_list:[\"No\"],intentlist:\"\",per_page:10,page_no:1,total_pages:0,show_loader:!1,number_of_rows:null,search_name:\"\",page_array:[],old_question:\"\",old_intent:\"\",new_intent_list:[],old_data:{question:null,intent:null},thumbs_down_icon:s(\"0b45\"),thumbs_up_icon:s(\"7bed\")}},mounted:function(){var e=this,t=this;$(\"#selectall\").click((function(){$(this).is(\":checked\")?$(\".checking\").prop(\"checked\",!0):(t.checked_list=[],$(\".checking\").prop(\"checked\",!1))})),this.$root.$on(\"add_questions_user_responses\",(function(t){e.add_questions()})),this.$root.$on(\"search_user_responses\",(function(t){e.search_name=t,e.search_question()})),this.$root.$on(\"delete_multiple_user_responses\",(function(t){e.delete_multiple()})),this.$root.$on(\"load_verify_responses_user_feedback\",(function(t){e.load_verify_responses_user_feedback()}))},beforeDestroy:function(){this.$root.$off(\"add_questions_user_responses\"),this.$root.$off(\"search_user_responses\"),this.$root.$off(\"delete_multiple_user_responses\"),this.$root.$off(\"load_verify_responses_user_feedback\")},created:function(){this.load_verify_responses_user_feedback()},methods:{load_verify_responses_user_feedback:function(){var e=this;this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1),this.show_loader=!0,this.unanswered_list=[],this.intent_list=[],this.new_intent_list=[],this.search_name=\"\",\"SuperAdmin\"==this.user_role&&this.$session.has(\"CompanyId\")?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name),void 0!==this.companyname&&o.a.post(_.a.get_unanswered_url(),{companyname:this.companyname,companyid:this.companyid,email:this.$session.get(\"UserInformation\").email,isDelete:\"False\",license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,page_no:this.page_no,per_page:this.per_page,is_get_user_response:!0,status:this.selected_user_list},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.number_of_rows=t.data[0].length,e.total_pages=t.data[4].pagecount;var s=t.data;for(var a in e.unanswered_list=[],s[0]){var n=\"\";Boolean(s[2][a])&&(n=s[2][a]),e.unanswered_list.push({question:s[0][a],intent:n,new_intent:\"\",source:s[1][a],user_response:s[2][a],user_feedback:s[3][a],edit:!1})}e.setpagination(e.page_no),e.show_loader=!1})).catch((function(t){410===t.response.status||440===t.response.status||409===t.response.status?e.$root.$emit(\"Session_Expired\",t.response.data):toastr.error(t.message),e.show_loader=!1})),o.a.post(_.a.get_unanswered_url(),{companyid:this.companyid,companyname:this.companyname,isDropdown:\"True\",email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){for(var s in t.data[0])e.intent_list.push(t.data[0][s]),e.new_intent_list.push(t.data[0][s])})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))},setpagination:function(e){if(this.page_array=[],this.total_pages<=7)for(var t=0;t<this.total_pages;t++)this.page_array.push(t+1);else if(1==e){for(var s=0;s<4;s++)this.page_array.push(s+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(e==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var a=this.total_pages-4;a<this.total_pages;a++)this.page_array.push(a+1)}else if(e<=4){for(var n=0;n<e+3;n++)this.page_array.push(n+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(e>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var i=e-4;i<this.total_pages;i++)this.page_array.push(i+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var o=e-3;o<=e+3;o++)this.page_array.push(o);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}},page_require:function(e){var t=this;this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1),0==e||e==this.total_pages+1||($(\".checking\").prop(\"checked\",!1),$(\"#selectall\").prop(\"checked\",!1),this.page_no=\"...s\"==e?Math.ceil((1+this.page_no)/2):\"...l\"==e?Math.ceil((this.total_pages+this.page_no)/2):e,\"\"==this.search_name?(this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyname:this.companyname,companyid:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,isDelete:\"False\",page_no:this.page_no,per_page:this.per_page,is_get_user_response:!0,status:this.selected_user_list},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){for(var s in t.show_loader=!1,t.unanswered_list=[],e.data[0]){var a=\"\";Boolean(e.data[2][s])&&(a=e.data[2][s]),t.unanswered_list.push({question:e.data[0][s],intent:a,source:e.data[1][s],user_response:e.data[2][s],user_feedback:e.data[3][s],edit:!1})}t.setpagination(t.page_no)})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))):(this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyid:this.$session.get(\"UserInformation\").company_id,companyname:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:this.page_no,is_get_user_response:!0,status:this.selected_user_list},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){if(t.show_loader=!1,void 0!=s.data[4].pagecount){t.page_no=e,t.unanswered_list=[],t.number_of_rows=s.data[0].length,t.total_pages=s.data[4].pagecount;var a=s.data;for(var n in s.data[0]){var i=\"\";Boolean(a[2][n])&&(i=a[2][n]),t.unanswered_list.push({question:s.data[0][n],intent:i,source:s.data[1][n],user_response:s.data[2][n],user_feedback:s.data[3][n],edit:!1})}t.setpagination(t.page_no)}else toastr.error(\"Internal Server Error\"),t.load_verify_responses_user_feedback()})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))))},question_selected:function(e){var t=this;if(event.target.checked)if(\"all\"==e)for(var s in this.checked_list=[],this.unanswered_list)this.checked_list.push(this.unanswered_list[s]);else this.checked_list.push(this.unanswered_list[e]);else if(!event.target.checked&&\"all\"!=e){var a=document.querySelector(\"#selectall\");a.checked&&(a.checked=!1);var n=this.checked_list.filter((function(s){return s!==t.unanswered_list[e]}));this.checked_list=n}},delete_single:function(e){var t=this,s=[];l.a.fire({title:\"Are you sure?\",text:\" You want to Delete this Question?\",type:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\"}).then((function(a){a.value&&(s.push(t.unanswered_list[e].question),t.delete_questions_api(s))}))},delete_multiple:function(){var e=this;if(0==this.checked_list.length)l.a.fire({title:\"No question selected!\",text:\"\",type:\"error\",timer:2e3});else if(this.checked_list.length>0){var t=[];l.a.fire({title:\"Are you sure?\",text:\" You want to Delete this Questions?\",type:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\"}).then((function(s){if(s.value){for(var a in e.checked_list)t.push(e.checked_list[a].question);e.delete_questions_api(t)}}))}},delete_questions_api:function(e){var t=this;this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyid:this.companyid,companyname:this.companyname,questionlist:e,isDelete:\"True\",email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){if(t.show_loader=!1,\"Deleted Successfully\"==s.data){t.checked_list=[],t.number_of_rows=s.data[2].number_of_rows,t.total_pages=Math.ceil(t.number_of_rows/t.per_page),toastr.success(\"Deleted Successfully\"),e.length===t.unanswered_list.length&&t.page_no>1&&(t.page_no=t.page_no-1);while(t.page_no>1&&t.page_no>t.total_pages)t.page_no=t.page_no-1;t.load_verify_responses_user_feedback()}t.show_loader=!1})).catch((function(e){410===e.response.status||440===e.response.status||409===e.response.status?t.$root.$emit(\"Session_Expired\",e.response.data):toastr.error(e.message),t.show_loader=!1}))},edit_item:function(e){this.unanswered_list[e].edit=!this.unanswered_list[e].edit,this.old_question=this.unanswered_list[e].question,this.old_data.question=this.old_question},submit_question:function(){var e=this;event.preventDefault(),\"\"==this.old_question?toastr.error(\"Please enter all the fields.\"):($(\"#exampleModalCenter\").modal(\"hide\"),this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{is_Edit:\"True\",question:this.old_question,companyname:this.companyname,companyid:this.companyid,old_question_data:this.old_data,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.show_loader=!1,\"Internal Server Error\"==t.data?toastr.error(\"Internal Server Error\"):\"Edited Successfully\"==t.data&&l()({type:\"success\",text:\"Your question has been edited successfully\",timer:2500}).then((function(t){e.load_verify_responses_user_feedback()}))})).catch((function(t){410===t.response.status||440===t.response.status||409===t.response.status?e.$root.$emit(\"Session_Expired\",t.response.data):toastr.error(\"Internal Server Error\")})))},pagination_class:function(e){return e==this.page_no?\" active\":\"\"},add_questions:function(){var e=this;this.show_loader=!0;var t=[],s=[];this.unanswered_list.filter((function(e){return\"\"==e.new_intent}));for(var a in this.unanswered_list)\"\"!=this.unanswered_list[a].new_intent&&(s.push(this.unanswered_list[a].question,this.unanswered_list[a].new_intent),t.push(s)),s=[];t.length>0?(this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyname:this.companyname,companyid:this.companyid,isAdd:\"True\",questionintent:t,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){e.show_loader=!1,\"Added Successfully\"==s.data&&(l()({text:\"Added Successfully\",type:\"success\",timer:2e3}),t.length===e.unanswered_list.length&&e.page_no>1&&(e.page_no=e.page_no-1),e.load_verify_responses_user_feedback())})).catch((function(t){e.show_loader=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):toastr.error(\"No question to add. Please add some questions.\"),this.show_loader=!1},search_question:function(){var e=this;\"\"!=this.search_name?(this.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1),this.show_loader=!0,o.a.post(_.a.get_unanswered_url(),{companyid:this.$session.get(\"UserInformation\").company_id,companyname:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:1,is_get_user_response:!0,status:this.selected_user_list},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){if(e.show_loader=!1,\"No Questions Found\"==t.data.MSG)toastr.error(\"No Question Found\"),e.load_verify_responses_user_feedback();else if(void 0!=t.data[4].pagecount){e.page_no=1,e.unanswered_list=[],e.number_of_rows=t.data[0].length,e.total_pages=t.data[4].pagecount;var s=t.data;for(var a in t.data[0]){var n=\"\";Boolean(s[2][a])&&(n=s[2][a]),e.unanswered_list.push({question:s[0][a],intent:n,source:s[1][a],user_response:s[2][a],user_feedback:s[3][a],edit:!1})}e.setpagination(e.page_no)}else toastr.error(\"Internal Server Error\"),e.load_verify_responses_user_feedback()})).catch((function(t){console.log(t),410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):toastr.error(\"Enter proper data for searching\")}}},q=C,x=(s(\"71ed\"),Object(v[\"a\"])(q,k,b,!1,null,\"3bfff689\",null)),I=x.exports,U=s(\"61b2\"),S={name:\"VerifyResponsePage\",mixins:[U[\"b\"],U[\"d\"]],components:{Multiselect:h.a,unansweredResponses:y,unansweredFeedback:I},data:function(){return{unanswered_list:[],user_role:this.$session.get(\"UserInformation\").role,companyname:this.$session.get(\"UserInformation\").company_name,companyid:this.$session.get(\"UserInformation\").company_id,intent_list:[],checked_list:[],intentlist:\"\",per_page:10,page_no:1,total_pages:0,show_loader:!1,number_of_rows:null,search_name:\"\",page_array:[],old_question:\"\",old_intent:\"\",new_intent_list:[],old_data:{question:null,intent:null},thumbs_down_icon:s(\"0b45\"),thumbs_up_icon:s(\"7bed\"),view_component_name:\"user_responses\",isVisibleSearchClear:!1,intent_model_inprogress:!1,want_status:!0,disable_btn_expired:!1}},mounted:function(){var e=this;Object(u[\"setTimeout\"])((function(){e.freeze_portal()}),1e3),this.$root.$on(\"VerifyResponsePageDisabled\",(function(t){!0===t&&(e.disable_btn_expired=!0)}));var t=this;$(\"#selectall\").click((function(){$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(t.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))})),$(\"#user_responses-tab\").click(),!1===this.$route.params.modal_open_switch_tab&&($(\"#unanswered_questions-tab\").click(),this.view_component_name=\"unanswered_questions\"),\"true\"===this.$route.query.switch&&(this.view_component_name=\"user_responses\",$(\"#user_responses-tab\").click()),this.$root.$emit(\"change_sidebar_main_menu\",\"Training Hub\"),this.$root.$on(\"send_model_status\",(function(t){1==t&&e.check_intent_model_status()})),this.check_intent_model_status()},created:function(){this.load_verify_responses()},methods:{clear_search_name:function(){this.search_name=\"\"},check_intent_model_status:function(){this.model_status=this.$session.get(\"ModelStatus\"),\"No Failure\"==this.model_status?this.intent_model_inprogress=!1:!0===Boolean(this.model_status.intent_model)&&\"InProgress\"==this.model_status.intent_model?this.intent_model_inprogress=!0:this.intent_model_inprogress=!1},show_model_progress:function(e){return 1!=this.intent_model_inprogress?null:\"style\"==e?\"cursor: not-allowed\":\"title\"==e?\"Training in Progress (This process might take around 45 mins to finish) \":void 0},load_verify_responses:function(){this.show_loader=!0,this.checked_list=[],this.search_name=\"\",\"SuperAdmin\"==this.user_role&&this.$session.has(\"CompanyId\")?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name),\"unanswered_questions\"===this.view_component_name?this.$root.$emit(\"load_verify_responses_unanswered\",!0):\"user_responses\"===this.view_component_name&&this.$root.$emit(\"load_verify_responses_user_feedback\",!0)},train_intent_model:function(){var e=this;this.disable_btn_expired?this.show_subscription_expired_swal():(event.preventDefault(),l()({title:\"Are You Sure?\",text:\"You want to Train The Model?\",type:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\",allowOutsideClick:!1,allowEscapeKey:!1}).then((function(t){t.value&&o.a.post(_.a.train_intent_model(),{company_id:e.$session.get(\"UserInformation\").company_id,company_name:e.$session.get(\"UserInformation\").company_name,email:e.$session.get(\"UserInformation\").email,license_key:e.$session.get(\"UserInformation\").license_key,token:e.$session.get(\"UserInformation\").tokens,epochs:100,update_model:!0},{headers:{Authorization:\"Bearer \".concat(e.$session.get(\"at\"))}}).then((function(t){e.want_status=!0,e.$root.$emit(\"want_model_status\",e.want_status),e.check_intent_model_status(),4046===t.data.MSG_CODE?toastr.success(t.data.MSG):1034===t.data.MSG_CODE&&toastr.error(t.data.MSG)})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))})))},search_question:function(){\"unanswered_questions\"===this.view_component_name?this.$root.$emit(\"search_unanswered\",this.search_name):\"user_responses\"===this.view_component_name&&this.$root.$emit(\"search_user_responses\",this.search_name)},delete_multiple:function(){\"unanswered_questions\"===this.view_component_name?this.$root.$emit(\"delete_multiple_unanswered\",!0):\"user_responses\"===this.view_component_name&&this.$root.$emit(\"delete_multiple_user_responses\",!0)},add_questions:function(){this.disable_btn_expired?this.show_subscription_expired_swal():\"unanswered_questions\"===this.view_component_name?this.$root.$emit(\"add_questions_unanswered\",!0):\"user_responses\"===this.view_component_name&&this.$root.$emit(\"add_questions_user_responses\",!0)}},watch:{view_component_name:function(e,t){this.search_name=\"\"},search_name:function(){\"\"===this.search_name?(this.load_verify_responses(),this.isVisibleSearchClear=!1):\"\"!==this.search_name&&(this.isVisibleSearchClear=!0)}}},E=S,B=(s(\"60bc\"),s(\"b1b7\"),Object(v[\"a\"])(E,a,n,!1,null,\"275e4e7c\",null));t[\"default\"]=B.exports},da42:function(e,t,s){}}]);","extractedComments":[]}