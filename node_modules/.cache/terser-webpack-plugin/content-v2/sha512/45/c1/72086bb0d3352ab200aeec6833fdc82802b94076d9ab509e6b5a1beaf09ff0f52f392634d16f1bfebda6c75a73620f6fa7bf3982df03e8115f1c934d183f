{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-38512344\"],{\"0703\":function(e,t,s){\"use strict\";var n=s(\"097b\"),a=s.n(n);a.a},\"097b\":function(e,t,s){},e153e:function(e,t,s){\"use strict\";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[\"Workflow\"!=e.$route.name&&\"OpenBot\"!=e.$route.name?s(\"top-navbar\"):e._e(),s(\"div\",{staticClass:\"container\",staticStyle:{\"margin-top\":\"5rem\"}},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:void 0!=e.spinnerOn&&1==e.spinnerOn,expression:\"spinnerOn != undefined && spinnerOn == true\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"col-sm-8 ml-auto mr-auto\"},[s(\"div\",{staticClass:\"d-flex\"},[e._m(0),s(\"div\",{staticClass:\"search-container ml-auto\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.searchQuery,expression:\"searchQuery\",modifiers:{trim:!0}}],staticClass:\"input-field\",attrs:{type:\"text\",name:\"search\",id:\"search_bar\",placeholder:\"Search here\"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isVisibleSearchClear?s(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0 btn-submit\",attrs:{type:\"button\"},on:{click:e.clear_search_name}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):e._e()])]),s(\"table\",{staticClass:\"table\",staticStyle:{border:\"1px solid #e6e6e6\"}},[s(\"tbody\",[e._m(1),e._l(e.resultQuery,(function(t,n){return s(\"tr\",{key:n},[s(\"td\",[e._v(e._s(n+1))]),s(\"td\",[e._v(e._s(t.CompanyName))]),s(\"td\",[e._v(e._s(t.Email))]),s(\"td\",[s(\"a\",{attrs:{href:\"javascript: void(0)\"},on:{click:function(t){return e.login_account(n)}}},[e._v(\"Go\")])])])}))],2)])])])])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"h3\",[e._v(\"Hello Cense Admin,\")]),s(\"p\",[e._v(\"Please select the account into which you want to login:\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"tr\",[s(\"th\",[e._v(\"#\")]),s(\"th\",[e._v(\"Company Name\")]),s(\"th\",[e._v(\"Email\")]),s(\"th\",[e._v(\"Login\")])])}],i=(s(\"99af\"),s(\"a623\"),s(\"4de4\"),s(\"caad\"),s(\"b0c0\"),s(\"07ac\"),s(\"ac1f\"),s(\"2532\"),s(\"1276\"),s(\"9ac8\")),o=s(\"3d20\"),r=s.n(o),u=s(\"bc3a\"),c=s.n(u),m=s(\"ea54\"),l=s.n(m),_=s(\"c1df\"),h=s.n(_),d=s(\"ab70\"),p=s(\"9a2a\"),y=s(\"a78e\"),b=s.n(y),f={name:\"SuperAdminIntermediateScreen\",data:function(){return{searchQuery:null,super_admin_login_data:[],is_super_admin:!0,super_admin_chosen_account_data:null,spinnerOn:!1,retail_web_framework:null,isVisibleSearchClear:!1}},computed:{resultQuery:function(){var e=this;return this.searchQuery?this.super_admin_login_data.filter((function(t){return e.searchQuery.toLowerCase().split(\" \").every((function(e){return t.CompanyName.toLowerCase().includes(e)||t.Email.toLowerCase().includes(e)}))})):this.super_admin_login_data}},watch:{searchQuery:function(){\"\"===this.searchQuery||null===this.searchQuery?this.isVisibleSearchClear=!1:null==this.searchQuery&&\"\"==this.searchQuery||(this.isVisibleSearchClear=!0)}},components:{TopNavbar:i[\"a\"]},mounted:function(){Boolean(this.$route.params)?this.super_admin_login_data=this.$route.params.data:this.$router.push({name:\"Login\"})},methods:{login_account:function(e){var t=this;r()({type:\"question\",text:\"Are you sure you want to login into the account of \".concat(this.resultQuery[e].Email,\" which belongs to \").concat(this.resultQuery[e].CompanyName)}).then((function(s){s.value&&(t.spinnerOn=!0,c.a.post(l.a.super_admin_login(),{email:t.resultQuery[e].Email,date:h()().toISOString()},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){e.data.message.MSG_CODE===t.api_status_code.LOGIN_SUCCESSFUL.MSG_CODE?(t.super_admin_chosen_account_data=e.data.data,t.retail_web_framework=e.data.data.retail_web_framework,t.signout_api()):e.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE?r()({type:\"error\",text:t.tlt(\"add_role_internal_server_msg\"),timer:3e3}):r()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){console.log(e)})))}))},clear_search_name:function(){this.searchQuery=null},signout_api:function(){var e=this;d[\"bus\"].$emit(\"Logout has been clicked\",\"True\"),this.spinnerOn=!0,c.a.post(l.a.clear_access_token_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(){e.execute_signout()})).catch((function(){e.execute_signout()}))},execute_signout:function(){var e=this;c.a.post(l.a.signout_url(),{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"rt\"))}}).then((function(t){t.data.message.MSG_CODE==e.api_status_code.USER_LOGGED_OUT_1032.MSG_CODE||t.data.message.MSG_CODE==e.api_status_code.TOKEN_INVALID_0001.MSG_CODE||t.data.message.MSG_CODE==e.api_status_code.INVALID_CREDENTIALS_0005.MSG_CODE?(e.$session.destroy(),e.$session.set(\"retail_web_framework\",e.retail_web_framework),e.spinnerOn=!1,e.$root.$emit(\"Clear_Refresh_Token_Interval\",{clear_interval:!0}),d[\"bus\"].$emit(\"Logged out\",\"True\"),d[\"bus\"].$emit(\"Disable the bot chat now\",\"True\",\"Loggedout\"),e.redir(e.super_admin_chosen_account_data)):(e.spinnerOn=!1,e.redir(e.super_admin_chosen_account_data),r()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"success\"}))})).catch((function(){e.$session.destroy(),e.spinnerOn=!1,d[\"bus\"].$emit(\"Logged out\",\"True\"),d[\"bus\"].$emit(\"Disable the bot chat now\",\"True\",\"Loggedout\"),e.redir(e.super_admin_chosen_account_data)}))},redir:function(e){var t=this;\"Email hasn't been verified.\"==e?(swal({html:\"<h6>Your account has not been validated for login.<br>Please visit your e-mail</h6>\",timer:3e3,type:\"error\"}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Internal Server Error\"==e?(swal({type:\"error\",html:\"<h6>There was an internal server error. Please try again.</h6>\",timer:2500}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"User has not been approved yet.\"==e?(swal({type:\"warning\",html:\"<h6>Your registration has not been approved or it has been declined by Admin. Kindly check your mail</h6>\",timer:3e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"You are already logged in!\"==e?(swal({type:\"error\",html:\"<h6>This user is already logged in</h6>\",timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Invalid Credentials\"==e?(swal({type:\"error\",html:\"<h6>Invalid Credentials!</h6>\",showConfirmButton:!1,timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"API LIMIT EXCEEDED\"==e?(swal({type:\"error\",html:\"<h6>Your monthly api requests has exceeded. Please Upgrade your plans to login</h6>\",timer:3e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Password should be Renewed\"==e.MSG?(swal({type:\"error\",html:\"<h6>Your password has been expired. Please Renew your password</h6>\",timer:2500}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):Boolean(e.is_super_admin_login)?(this.$router.push({name:\"SuperAdminIntermediateScreen\",params:{data:e.all_users_list}}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"rt\",e.userinformation.refresh_token),this.$session.set(\"whatsapp_subscription\",e.userinformation.whatsapp_subscription)):\"Bot\"==this.login_type?(b.a.remove(\"login_type\"),b.a.set(\"login_type\",this.login_type,{expires:365}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"rt\",e.userinformation.refresh_token),this.$session.set(\"whatsapp_subscription\",e.userinformation.whatsapp_subscription),this.check_template_subscription(\"push_direct_response_bot\")):\"User Is Locked\"==e.MSG?(swal({type:\"error\",html:\"<h6>This user has been locked</h6>\",timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):(b.a.remove(\"login_type\"),b.a.set(\"login_type\",this.login_type,{expires:365}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"whatsapp_subscription\",e.userinformation.whatsapp_subscription),this.is_super_admin?c.a.post(l.a.super_admin_bot_login(),{license_key:this.$session.get(\"UserInformation\").license_key,username:this.$session.get(\"UserInformation\").email}).then((function(e){t.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE===e.data.message.MSG_CODE&&(t.$session.set(\"BotToken\",e.data.data),t.$session.remove(\"TemporaryBotToken\"),d[\"bus\"].$emit(\"Token changed\",\"True\"))})):c.a.post(l.a.bot_response_token(),{license_key:this.$session.get(\"UserInformation\").license_key,username:this.$session.get(\"UserInformation\").email}).then((function(e){t.api_status_code.STATUS_SUCCESS_CORE.MSG_CODE===e.data.message.MSG_CODE&&(t.$session.set(\"BotToken\",e.data.data),t.$session.remove(\"TemporaryBotToken\"),d[\"bus\"].$emit(\"Token changed\",\"True\"))})),this.$session.set(\"UserFirstName\",e.userinformation.first_name),this.$session.set(\"UserLastName\",e.userinformation.last_name),this.$session.set(\"rt\",e.userinformation.refresh_token),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"RestrictionList\",e.restriction_list),document.cookie=\"company_id=\"+this.$session.get(\"UserInformation\").company_id,document.getElementById(\"spinner\").style.opacity=\"1\",this.check_template_subscription(null),this.update_menu_list(e.menubind))},check_template_subscription:function(e){var t=this;c.a.get(l.a.open_bot_template_subscription_api(),{params:{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id},headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){var n=s.data;n.message.MSG_CODE===t.api_status_code.SUCCESSFUL_DB_QUERY_MODELS.MSG_CODE?(t.$session.set(\"BotTemplates\",n.data.templates),\"push_direct_response_bot\"===e&&t.$router.push(\"/bot/directresponsebot\")):\"push_direct_response_bot\"===e&&t.$router.push(\"/bot/directresponsebot\")})).catch((function(s){\"push_direct_response_bot\"===e&&t.$router.push(\"/bot/directresponsebot\"),console.log(s)})),this.$session.set(\"is_super_admin\",!0)},update_menu_list:function(e){for(var t={},s=e.filter((function(e){return 1==e.IsMasterMenu&&1==e.Enabled})),n=[],a=e.filter((function(e){return 0==e.HasSubMenus&&1==e.Enabled&&1==e.IsSubMenu})),i=function(e,a){var i=p[\"a\"].filter((function(t){return t.name===s[e].MenuItem&&Boolean(t.svg_html)}));i.length>0&&(n.push(i[0]),t[i[0].name]={main_menu:i[0],sub_menu_list:[]})},o=0,r=s.length;o<r;o+=1)i(o,r);try{for(var u=0,c=a.length;u<c;u+=1)for(var m in p[\"a\"])p[\"a\"][m].name===a[u].MenuItem&&Boolean(p[\"a\"][m].page_path&&p[\"a\"][m].master_menu===a[u].MasterMenu)&&t[a[u].MasterMenu].sub_menu_list.push(p[\"a\"][m])}catch(l){console.log(l)}t=Object.values(t),this.$session.set(\"ChatbotMenu\",t),this.$router.push(\"/bot/dashboard\")}}},g=f,v=(s(\"0703\"),s(\"2877\")),C=Object(v[\"a\"])(g,n,a,!1,null,\"805c49b2\",null);t[\"default\"]=C.exports}}]);","extractedComments":[]}