{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0ae525\"],{\"0a20\":function(e,t,s){\"use strict\";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"dash-cont\"},[s(\"div\",{staticClass:\"container-fluid\"},[s(\"div\",{staticClass:\"card dash-card\"},[s(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[s(\"h4\",{staticClass:\"mb-sm-0\"},[e._v(e._s(e.tlt(\"role_list_heading\")))]),s(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.search_name,expression:\"search_name\",modifiers:{trim:!0}}],staticClass:\"form-control search-bar\",attrs:{id:\"search_bar\",placeholder:e.tlt(\"search_here\")},domProps:{value:e.search_name},on:{keyup:e.callsearch,input:function(t){t.target.composing||(e.search_name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isVisibleSearchClear?s(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0\",staticStyle:{\"margin-left\":\"-40px\",\"z-index\":\"10\"},attrs:{type:\"button\"},on:{click:e.clear_search_name}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):e._e(),s(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",id:\"search_btn\"},on:{click:e.search_product}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",width:\"14\",height:\"14\"}},[s(\"path\",{attrs:{d:\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\",fill:\"#fff\"}})])]),s(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#usermodel\",id:\"add_role_btn\"}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"13.997\",viewBox:\"0 0 14 13.997\"}},[s(\"path\",{attrs:{id:\"Union_13\",\"data-name\":\"Union 13\",d:\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\",transform:\"translate(12690.001 -2045.002)\",fill:\"#fff\"}})]),e._v(\" \"+e._s(e.tlt(\"role_list_add_role_btn\"))+\" \")]),s(\"a\",{staticClass:\"red-btn\",attrs:{href:\"javascript:void(0)\",id:\"delete_role\"},on:{click:e.delete_multiple_role}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"14\",viewBox:\"0 0 14 14\"}},[s(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\",transform:\"translate(-4 -3)\",fill:\"#fff\"}})]),e._v(\" \"+e._s(e.tlt(\"role_list_delete_btn\"))+\" \")])])]),s(\"div\",{staticClass:\"card-body\"},[s(\"div\",{staticClass:\"table-box\"},[s(\"div\",{staticClass:\"table-responsive\"},[s(\"table\",{staticClass:\"table\"},[s(\"thead\",[s(\"tr\",[s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label checkbox checkbox-success\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"},on:{click:function(t){return e.check_list_array(\"all\")}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"th\",{staticStyle:{width:\"10%\"},attrs:{scope:\"col\"}},[e._v(e._s(e.tlt(\"role_list_action\")))]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(e._s(e.tlt(\"role_list_user_type\")))]),s(\"th\",{attrs:{scope:\"col\"}},[e._v(e._s(e.tlt(\"role_list_role_name\")))])])]),s(\"tbody\",e._l(e.role_name,(function(t,a){return s(\"tr\",{key:a},[s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label checkbox checkbox-success\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\"},on:{change:function(t){return e.check_list_array(a)}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"td\",{staticClass:\"action\"},[s(\"a\",{attrs:{href:\"#\",id:\"edit_role_id\"}},[s(\"svg\",{staticStyle:{cursor:\"pointer\"},attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"15.392\",height:\"15.392\",viewBox:\"0 0 15.392 15.392\",\"data-toggle\":\"modal\",\"data-target\":\"#usermodel\"},on:{click:function(t){return e.edit_role(a)}}},[s(\"path\",{attrs:{id:\"square-edit-outline\",d:\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\",transform:\"translate(-3 -3)\",fill:\"#9499ae\"}})])]),s(\"a\",{attrs:{href:\"#\",id:\"single_delete_role_id\"},on:{click:function(t){return e.delete_role(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"13.682\",height:\"15.392\",viewBox:\"0 0 13.682 15.392\"}},[s(\"path\",{attrs:{d:\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\",transform:\"translate(-4 -3)\",fill:\"#f23d3d\"}})])])]),s(\"td\",[e._v(e._s(e.user_type_list[a]))]),s(\"td\",[e._v(e._s(t))])])})),0)])]),0==e.role_name.length?s(\"div\",{staticStyle:{\"text-align\":\"center\"}},[e._v(\"No role is available currently. Please add role in order to continue.\")]):e._e(),s(\"div\",{staticClass:\"pagin-table\",staticStyle:{margin:\"0\"}},[s(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[s(\"ul\",{staticClass:\"pagination justify-content-center\"},[s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(t){return e.page_change(e.page_no-1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),e._l(e.page_array,(function(t){return s(\"li\",{key:t,class:\"page-item \"+e.pagination_class(t)},[\"...s\"==t||\"...l\"==t?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return e.page_change(t)}}},[e._v(\"...\")]):e._e(),\"...s\"!=t&&\"...l\"!=t?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return e.page_change(t)}}},[e._v(e._s(t))]):e._e()])})),s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(t){return e.page_change(e.page_no+1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"usermodel\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"usermodeltitle\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[e._m(0),s(\"h3\",[e._v(e._s(e.tlt(\"role_list_model_role_header\")))])]),e._m(1),s(\"form\",[s(\"div\",{staticClass:\"radio\",staticStyle:{\"margin-left\":\"25%\"}},[s(\"label\",[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.user_type,expression:\"user_type\"}],attrs:{type:\"radio\",id:\"portal_user\",value:\"Portal User\",disabled:\"false\"==this.add_edit},domProps:{checked:e._q(e.user_type,\"Portal User\")},on:{change:function(t){e.user_type=\"Portal User\"}}}),s(\"span\",{staticClass:\"icn\",attrs:{id:\"portal_user_radio\"}}),e._v(\" \"+e._s(e.tlt(\"role_list_model_portal_label\"))+\" \")]),s(\"label\",[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.user_type,expression:\"user_type\"}],attrs:{type:\"radio\",value:\"Bot User\",disabled:\"false\"==this.add_edit},domProps:{checked:e._q(e.user_type,\"Bot User\")},on:{change:function(t){e.user_type=\"Bot User\"}}}),s(\"span\",{staticClass:\"icn\",attrs:{id:\"bot_user_radio\"}}),e._v(\" \"+e._s(e.tlt(\"role_list_model_bot_label\"))+\" \")])]),s(\"div\",{staticClass:\"form-group\",staticStyle:{\"padding-top\":\"10px\"}},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.role_names,expression:\"role_names\",modifiers:{trim:!0}}],staticClass:\"form-control\",attrs:{id:\"add_role_text\",type:\"text\",placeholder:e.tlt(\"enter_role\")},domProps:{value:e.role_names},on:{input:function(t){t.target.composing||(e.role_names=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),s(\"span\",{staticStyle:{color:\"#ff0000\"}}),s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"}},[e._v(\" \"+e._s(e.tlt(\"role_list_cancel_btn\"))+\" \")]),s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"save_and_close_btn\"},on:{click:e.add_roles}},[e._v(\" \"+e._s(e.tlt(\"role_list_save_close_btn\"))+\" \")])])])])])])])])])])])])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"head-icn\"},[s(\"img\",{attrs:{src:\"/img/user-blue.png\",alt:\"\"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])}],o=(s(\"4de4\"),s(\"caad\"),s(\"2532\"),s(\"ade3\")),i=s(\"bc3a\"),n=s.n(i),_=s(\"3d20\"),l=s.n(_),d=s(\"ea54\"),c=s.n(d),h=s(\"61b2\"),p={mixins:[h[\"c\"]],data:function(){var e;return e={checkedUser:!1,checked_list:[],role_names:\"\",delete_list:[],role_name:[],user_type_list:[],user_type:\"Portal User\",page_no:1,per_page:10,total_pages:0,add_edit:\"true\",old_role_name:\"\"},Object(o[\"a\"])(e,\"delete_list\",[]),Object(o[\"a\"])(e,\"page_array\",[]),Object(o[\"a\"])(e,\"search_name\",\"\"),Object(o[\"a\"])(e,\"spinnerOn\",!1),Object(o[\"a\"])(e,\"isVisibleSearchClear\",!1),e},mounted:function(){var e=this;$(\"#selectall\").click((function(){$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(e.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))})),$(\"#usermodel\").on(\"hidden.bs.modal\",(function(t){e.add_edit=\"true\",e.user_type=\"Portal User\",e.role_names=\"\"}))},created:function(){this.load_role()},watch:{search_name:function(){\"\"===this.search_name?(this.load_role(),this.isVisibleSearchClear=!1):\"\"!==this.search_name&&(this.isVisibleSearchClear=!0)}},methods:{clear_search_name:function(){this.search_name=\"\"},load_role:function(){var e=this;this.spinnerOn=!0,this.checked_list=[],this.delete_list=[],this.add_edit=\"true\",$(\"input:checkbox\").prop(\"checked\",!1),n.a.post(c.a.main_role_url(),{company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,page_no:this.page_no,per_page:this.per_page,isShow:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,t.data.message.MSG_CODE==e.api_status_code.DATA_AVAILABLE.MSG_CODE?e.organize_roles(t.data):t.data.message.MSG_CODE==e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE?l()({type:\"error\",text:e.tlt(\"add_role_internal_server_msg\"),timer:3e3}):t.data.message.MSG_CODE==e.api_status_code.EMPTY_DATA.MSG_CODE&&l()({type:\"info\",text:e.tlt(\"no_data_text\"),timer:3e3,toast:!0,position:\"top-end\",showConfirmButton:!1})})).catch((function(t){console.log(t),410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))},check_list_array:function(e){if(\"all\"==e){this.checked_list=[];for(var t=this.role_name.length,s=0;s<t;s++)this.checked_list.push(s)}else if(1==event.target.checked)this.checked_list.includes(e)||this.checked_list.push(e);else if(0==event.target.checked){var a=document.querySelector(\"#selectall\");1==a.checked&&(a.checked=!1);var r=this.checked_list.filter((function(t){return t!==e}));this.checked_list=r}},edit_role:function(e){this.old_role_name=this.role_name[e],this.role_names=this.role_name[e],this.user_type=this.user_type_list[e],this.add_edit=\"false\"},delete_role:function(e){var t=this;this.delete_list=[],this.delete_list.push(this.role_name[e]),this.role_names=this.role_name[e],this.user_type=this.user_type_list[e],l.a.fire({title:this.tlt(\"add_role_delete_swal_alert_msg\"),text:this.tlt(\"add_role_no_revert_msg\"),type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:this.tlt(\"add_role_swal_delete_msg\")}).then((function(e){\"cancel\"===e.dismiss?t.delete_list=[]:e.value&&n.a.post(c.a.main_role_url(),{company_id:t.$session.get(\"UserInformation\").company_id,company_name:t.$session.get(\"UserInformation\").company_name,license_key:t.$session.get(\"UserInformation\").license_key,email:t.$session.get(\"UserInformation\").email,token:t.$session.get(\"UserInformation\").tokens,delete_roles:[{Role:t.role_names,UserType:t.user_type}],isDelete:!0},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){t.delete_list=[],e.data.message.MSG_CODE==t.api_status_code.USER_ROLES_DELETED_SUCCESSFULLY_2002.MSG_CODE?(l.a.fire({title:t.tlt(\"add_role_swal_deleted_msg\"),text:t.tlt(\"add_role_your_role_deleted_msg\"),type:\"success\",timer:2e3}),1===t.role_name.length&&1===t.delete_list.length&&t.page_no>1&&(t.page_no=t.page_no-1),t.load_role()):e.data.message.MSG_CODE==t.api_status_code.USER_EXIST.MSG_CODE?(l()({type:\"error\",text:t.tlt(\"add_role_user_exist_given_role_msg\"),timer:2500}),t.load_role()):e.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&l()({type:\"error\",text:t.tlt(\"add_role_internal_server_msg\"),timer:3e3})})).catch((function(e){t.delete_list=[],410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))}))},delete_multiple_role:function(){var e=this;this.delete_list=[];for(var t=this.checked_list.length,s=0;s<t;s++){var a=this.checked_list[s];this.delete_list.push({Role:this.role_name[a],UserType:this.user_type_list[a]})}0!=this.delete_list.length?l.a.fire({title:this.tlt(\"add_role_swal_delete_msg\"),text:this.tlt(\"add_role_no_revert_msg2\"),type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:this.tlt(\"add_role_swal_delete_msg2\")}).then((function(t){\"cancel\"===t.dismiss?e.delete_list=[]:t.value&&(e.spinnerOn=!0,n.a.post(c.a.main_role_url(),{company_id:e.$session.get(\"UserInformation\").company_id,company_name:e.$session.get(\"UserInformation\").company_name,license_key:e.$session.get(\"UserInformation\").license_key,email:e.$session.get(\"UserInformation\").email,token:e.$session.get(\"UserInformation\").tokens,delete_roles:e.delete_list,isDelete:!0},{headers:{Authorization:\"Bearer \".concat(e.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,e.checked_list=[],e.delete_list=[],t.data.message.MSG_CODE==e.api_status_code.USER_ROLES_DELETED_SUCCESSFULLY_2002.MSG_CODE?(l.a.fire({title:e.tlt(\"add_role_swal_deleted_msg2\"),text:e.tlt(\"add_role_your_role_deleted_msg2\"),type:\"success\",timer:2e3}),e.delete_list.length===e.role_name.length&&e.page_no>1&&(e.page_no=e.page_no-1),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.USER_EXIST.MSG_CODE&&(e.spinnerOn=!1,e.checked_list=[],l()({type:\"error\",text:e.tlt(\"add_role_user_exist_given_role_msg2\"),timer:2500}),e.load_role())})).catch((function(t){e.delete_list=[],410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)})))})):l.a.fire({title:this.tlt(\"add_role_no_role_selected_msg\"),text:\"\",type:\"error\",timer:2e3})},add_roles:function(){var e=this;event.preventDefault(),\"true\"==this.add_edit?null===this.user_type?toastr.error(this.tlt(\"add_role_select_user_type_msg\")):\"\"==this.role_names?toastr.error(this.tlt(\"add_role_enter_role_msg\")):\"admin\"==this.role_names.toLocaleLowerCase()?toastr.error(this.tlt(\"add_role_cannot_add_role_msg\")):\"superadmincense\"==this.role_names.toLocaleLowerCase()?toastr.error(this.tlt(\"add_role_cannot_add_role_super_admin_msg\")):(\"Portal User\"==this.user_type&&(this.role_names=this.role_names.toLocaleLowerCase().includes(\"support\")?\"support agent\":this.role_names),n.a.post(c.a.main_role_url(),{company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,user_type:this.user_type,role_name:this.role_names,isInsert:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){t.data.message.MSG_CODE!=e.api_status_code.USER_ROLE_SET_ALREADY_EXISTS_2002.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.EMPTY_DATA.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.SUPER_ADMIN_EXISTS_ERROR.MSG_CODE?t.data.message.MSG_CODE==e.api_status_code.USER_ROLE_SET_SUCCESSFULLY_2002.MSG_CODE&&(l()({text:e.tlt(\"add_role_added_successful_msg\"),type:\"success\",timer:2e3}),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.USER_ROLE_SET_ALREADY_EXISTS_2002.MSG_CODE?(l()({text:e.tlt(\"add_role_already_exists_msg\"),type:\"warning\",timer:2e3}),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.SUPER_ADMIN_EXISTS_ERROR.MSG_CODE?(l()({text:e.tlt(\"add_role_super_admin_role_cannot_add_msg\"),type:\"warning\",timer:2e3}),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&(l()({type:\"error\",text:e.tlt(\"add_role_internal_server_msg\"),timer:3e3}),e.load_role())})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)})),this.close_modal(\"save_and_close_btn\")):\"false\"==this.add_edit?\"\"==this.role_names?toastr.error(this.tlt(\"add_role_enter_role_msg2\")):\"admin\"==this.role_names.toLocaleLowerCase()?toastr.error(this.tlt(\"add_role_cannot_add_role_msg2\")):\"superadmincense\"==this.role_names.toLocaleLowerCase()?toastr.error(this.tlt(\"add_role_cannot_add_role_super_admin_msg2\")):(\"Portal User\"==this.user_type&&(this.role_names=this.role_names.toLocaleLowerCase().includes(\"support\")?\"support agent\":this.role_names),n.a.post(c.a.main_role_url(),{company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,user_type:this.user_type,role_name:this.role_names,old_role_name:this.old_role_name,isEdit:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.add_edit=\"true\",t.data.message.MSG_CODE!=e.api_status_code.USER_ROLE_SET_ALREADY_EXISTS_2002.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.EMPTY_DATA.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.SUPER_ADMIN_EXISTS_ERROR.MSG_CODE?t.data.message.MSG_CODE==e.api_status_code.USER_ROLE_EDITED_SUCCESSFULLY_2002.MSG_CODE&&(l()({text:e.tlt(\"add_role_edited_successful_msg\"),type:\"success\",timer:2e3}),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.USER_ROLE_SET_ALREADY_EXISTS_2002.MSG_CODE?(l()({text:e.tlt(\"add_role_already_exists_msg2\"),type:\"warning\",timer:2e3}),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.SUPER_ADMIN_EXISTS_ERROR.MSG_CODE?(l()({text:e.tlt(\"add_role_super_admin_msg2\"),type:\"warning\",timer:2e3}),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&(l()({type:\"error\",text:e.tlt(\"add_role_internal_server_msg2\"),timer:3e3}),e.load_role())})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)})),this.close_modal(\"save_and_close_btn\")):null==this.user_type&&toastr.error(this.tlt(\"add_role_select_user_type_msg2\"))},page_change:function(e){var t=this;this.checked_list=[],this.delete_list=[],this.add_edit=\"true\",$(\"input:checkbox\").prop(\"checked\",!1),0==e||e==this.total_pages+1||(\"\"==this.search_name?(this.page_no=\"...s\"==e?Math.ceil((1+this.page_no)/2):\"...l\"==e?Math.ceil((this.total_pages+this.page_no)/2):e,this.spinnerOn=!0,n.a.post(c.a.main_role_url(),{company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,page_no:this.page_no,per_page:this.per_page,isShow:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,e.data.message.MSG_CODE!=t.api_status_code.EMPTY_DATA.MSG_CODE?t.organize_roles(e.data):e.data.message.MSG_CODE==t.api_status_code.EMPTY_DATA.MSG_CODE?(toastr.error(t.tlt(\"add_role_no_role_found_msg\")),t.load_role()):e.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&(toastr.error(t.tlt(\"add_role_internal_server_msg3\")),t.load_role())})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))):(this.page_no=\"...s\"==e?Math.ceil((1+this.page_no)/2):\"...l\"==e?Math.ceil((this.total_pages+this.page_no)/2):e,this.spinnerOn=!0,n.a.post(c.a.main_role_url(),{company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,page_no:this.page_no,per_page:this.per_page,issearch:!0,searchstring:this.search_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,e.data.message.MSG_CODE!=t.api_status_code.EMPTY_DATA.MSG_CODE&&t.organize_roles(e.data)})).catch((function(e){410===e.response.status||440===e.response.status||409===e.response.status?t.$root.$emit(\"Session_Expired\",e.response.data):response.data.message.MSG_CODE==t.api_status_code.EMPTY_DATA.MSG_CODE?(toastr.error(t.tlt(\"add_role_no_role_found_msg\")),t.load_role()):response.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&(toastr.error(t.tlt(\"add_role_internal_server_msg3\")),t.load_role())}))))},organize_roles:function(e){this.role_name=[],this.user_type_list=[],this.total_pages=void 0==e.pagination.total_page?0:e.pagination.total_page;for(var t=e.data.Portal.length,s=0;s<t;s++)this.user_type_list.push(\"Portal User\"),this.role_name.push(e.data.Portal[s]);var a=e.data.Bot.length;for(s=0;s<a;s++)this.user_type_list.push(\"Bot User\"),this.role_name.push(e.data.Bot[s]);this.setpagination(this.page_no)},pagination_class:function(e){return e==this.page_no?\" active\":\"\"},callsearch:function(){13===event.keyCode&&this.search_product()},search_product:function(){var e=this;\"\"!=this.search_name?(this.checked_list=[],this.delete_list=[],this.add_edit=\"true\",$(\"input:checkbox\").prop(\"checked\",!1),this.spinnerOn=!0,n.a.post(c.a.main_role_url(),{company_id:this.$session.get(\"UserInformation\").company_id,company_name:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,searchstring:this.search_name,per_page:this.per_page,page_no:1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,e.show_loader=!1,t.data.message.MSG_CODE!=e.api_status_code.EMPTY_DATA.MSG_CODE&&t.data.message.MSG_CODE!=e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE?(e.page_no=1,e.organize_roles(t.data)):t.data.message.MSG_CODE==e.api_status_code.EMPTY_DATA.MSG_CODE?(toastr.error(e.tlt(\"add_role_no_role_found_msg\")),e.load_role()):t.data.message.MSG_CODE==e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&(toastr.error(e.tlt(\"add_role_internal_server_msg3\")),e.load_role())})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):toastr.error(this.tlt(\"add_role_data_for_search_msg\"))},setpagination:function(e){if(this.page_array=[],this.total_pages<=7)for(var t=0;t<this.total_pages;t++)this.page_array.push(t+1);else if(1==e){for(var s=0;s<4;s++)this.page_array.push(s+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(e==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var a=this.total_pages-4;a<this.total_pages;a++)this.page_array.push(a+1)}else if(e<=4){for(var r=0;r<e+3;r++)this.page_array.push(r+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(e>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var o=e-4;o<this.total_pages;o++)this.page_array.push(o+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var i=e-3;i<=e+3;i++)this.page_array.push(i);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}}}},m=p,u=s(\"2877\"),g=Object(u[\"a\"])(m,a,r,!1,null,null,null);t[\"default\"]=g.exports}}]);","extractedComments":[]}