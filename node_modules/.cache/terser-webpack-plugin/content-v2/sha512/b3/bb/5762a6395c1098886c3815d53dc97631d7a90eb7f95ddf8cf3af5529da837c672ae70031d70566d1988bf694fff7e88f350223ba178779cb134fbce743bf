{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7f5feaf4\"],{\"41a8\":function(e,t,s){\"use strict\";var n=s(\"a27f\"),i=s.n(n);i.a},a27f:function(e,t,s){},e153e:function(e,t,s){\"use strict\";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[\"Workflow\"!=e.$route.name&&\"OpenBot\"!=e.$route.name?s(\"top-navbar\"):e._e(),s(\"div\",{staticClass:\"container\",staticStyle:{\"margin-top\":\"5rem\"}},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:void 0!=e.spinnerOn&&1==e.spinnerOn,expression:\"spinnerOn != undefined && spinnerOn == true\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"col-sm-8 ml-auto mr-auto\"},[s(\"div\",{staticClass:\"d-flex\"},[e._m(0),s(\"div\",{staticClass:\"search-container ml-auto\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:e.searchQuery,expression:\"searchQuery\",modifiers:{trim:!0}}],staticClass:\"input-field\",attrs:{type:\"text\",name:\"search\",id:\"search_bar\",placeholder:\"Search here\"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.isVisibleSearchClear?s(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0 btn-submit\",attrs:{type:\"button\"},on:{click:e.clear_search_name}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):e._e()])]),s(\"table\",{staticClass:\"table\",staticStyle:{border:\"1px solid #e6e6e6\"}},[s(\"tbody\",[e._m(1),e._l(e.resultQuery,(function(t,n){return s(\"tr\",{key:n},[s(\"td\",[e._v(e._s(n+1))]),s(\"td\",[e._v(e._s(t.CompanyName))]),s(\"td\",[e._v(e._s(t.Email))]),s(\"td\",[s(\"a\",{attrs:{href:\"javascript: void(0)\"},on:{click:function(t){return e.login_account(n)}}},[e._v(\"Go\")])])])}))],2)])])])])],1)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",[s(\"h3\",[e._v(\"Hello Cense Admin,\")]),s(\"p\",[e._v(\"Please select the account into which you want to login:\")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"tr\",[s(\"th\",[e._v(\"#\")]),s(\"th\",[e._v(\"Company Name\")]),s(\"th\",[e._v(\"Email\")]),s(\"th\",[e._v(\"Login\")])])}],o=(s(\"99af\"),s(\"a623\"),s(\"4de4\"),s(\"caad\"),s(\"b0c0\"),s(\"07ac\"),s(\"ac1f\"),s(\"2532\"),s(\"1276\"),s(\"9ac8\")),a=s(\"3d20\"),r=s.n(a),u=s(\"bc3a\"),c=s.n(u),l=s(\"ea54\"),m=s.n(l),h=s(\"c1df\"),d=s.n(h),p=s(\"ab70\"),_=s(\"9a2a\"),y=s(\"a78e\"),b=s.n(y),f={name:\"SuperAdminIntermediateScreen\",data:function(){return{searchQuery:null,super_admin_login_data:[],is_super_admin:!0,super_admin_chosen_account_data:null,spinnerOn:!1,retail_web_framework:null,isVisibleSearchClear:!1}},computed:{resultQuery:function(){var e=this;return this.searchQuery?this.super_admin_login_data.filter((function(t){return e.searchQuery.toLowerCase().split(\" \").every((function(e){return t.CompanyName.toLowerCase().includes(e)||t.Email.toLowerCase().includes(e)}))})):this.super_admin_login_data}},watch:{searchQuery:function(){\"\"===this.searchQuery||null===this.searchQuery?this.isVisibleSearchClear=!1:null==this.searchQuery&&\"\"==this.searchQuery||(this.isVisibleSearchClear=!0)}},components:{TopNavbar:o[\"a\"]},mounted:function(){Boolean(this.$route.params)?this.super_admin_login_data=this.$route.params.data:this.$router.push({name:\"Login\"})},methods:{login_account:function(e){var t=this;r()({type:\"question\",text:\"Are you sure you want to login into the account of \".concat(this.resultQuery[e].Email,\" which belongs to \").concat(this.resultQuery[e].CompanyName)}).then((function(s){s.value&&(t.spinnerOn=!0,c.a.post(m.a.super_admin_login(),{email:t.resultQuery[e].Email,date:d()().toISOString()},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){var s=e.data;t.super_admin_chosen_account_data=s,t.retail_web_framework=s.retail_web_framework,t.signout_api()})).catch((function(e){console.log(e)})))}))},clear_search_name:function(){this.searchQuery=null},signout_api:function(){var e=this;p[\"bus\"].$emit(\"Logout has been clicked\",\"True\"),this.spinnerOn=!0,c.a.post(m.a.clear_access_token_url(),{companyname:this.$session.get(\"UserInformation\").company_name,companyid:this.$session.get(\"UserInformation\").company_id,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(){e.execute_signout()})).catch((function(){e.execute_signout()}))},execute_signout:function(){var e=this;c.a.post(m.a.signout_url(),{companyname:this.$session.get(\"UserInformation\").company_name,companyid:this.$session.get(\"UserInformation\").company_id,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"rt\"))}}).then((function(t){\"Signed Out!\"==t.data||\"sign out\"==t.data||\"token invalid\"==t.data||\"Invalid Credentials\"==t.data?(e.$session.destroy(),e.$session.set(\"retail_web_framework\",e.retail_web_framework),e.spinnerOn=!1,e.$root.$emit(\"Clear_Refresh_Token_Interval\",{clear_interval:!0}),p[\"bus\"].$emit(\"Logged out\",\"True\"),p[\"bus\"].$emit(\"Disable the bot chat now\",\"True\",\"Loggedout\"),e.redir(e.super_admin_chosen_account_data)):(e.spinnerOn=!1,e.redir(e.super_admin_chosen_account_data))})).catch((function(){e.$session.destroy(),e.spinnerOn=!1,p[\"bus\"].$emit(\"Logged out\",\"True\"),p[\"bus\"].$emit(\"Disable the bot chat now\",\"True\",\"Loggedout\"),e.redir(e.super_admin_chosen_account_data)}))},redir:function(e){var t=this;\"Email hasn't been verified.\"==e?(swal({html:\"<h6>Your account has not been validated for login.<br>Please visit your e-mail</h6>\",timer:3e3,type:\"error\"}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Internal Server Error\"==e?(swal({type:\"error\",html:\"<h6>There was an internal server error. Please try again.</h6>\",timer:2500}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"User has not been approved yet.\"==e?(swal({type:\"warning\",html:\"<h6>Your registration has not been approved or it has been declined by Admin. Kindly check your mail</h6>\",timer:3e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"You are already logged in!\"==e?(swal({type:\"error\",html:\"<h6>This user is already logged in</h6>\",timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Invalid Credentials\"==e?(swal({type:\"error\",html:\"<h6>Invalid Credentials!</h6>\",showConfirmButton:!1,timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"API LIMIT EXCEEDED\"==e?(swal({type:\"error\",html:\"<h6>Your monthly api requests has exceeded. Please Upgrade your plans to login</h6>\",timer:3e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):\"Password should be Renewed\"==e.MSG?(swal({type:\"error\",html:\"<h6>Your password has been expired. Please Renew your password</h6>\",timer:2500}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):Boolean(e.is_super_admin_login)?(this.$router.push({name:\"SuperAdminIntermediateScreen\",params:{data:e.all_users_list}}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"rt\",e.userinformation.refresh_token)):\"Bot\"==this.login_type?(b.a.remove(\"login_type\"),b.a.set(\"login_type\",this.login_type,{expires:365}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"rt\",e.userinformation.refresh_token),this.check_template_subscription(\"push_direct_response_bot\")):\"User Is Locked\"==e.MSG?(swal({type:\"error\",html:\"<h6>This user has been locked</h6>\",timer:2e3}),document.getElementById(\"body\").style.opacity=\"1\",$('button[type=\"submit\"]').prop(\"disabled\",!1)):(b.a.remove(\"login_type\"),b.a.set(\"login_type\",this.login_type,{expires:365}),this.$session.start(),this.$session.set(\"UserInformation\",e.userinformation),this.is_super_admin?c.a.post(m.a.super_admin_bot_login(),{license_key:this.$session.get(\"UserInformation\").license_key,username:this.$session.get(\"UserInformation\").email}).then((function(e){t.$session.set(\"BotToken\",e.data),t.$session.remove(\"TemporaryBotToken\"),p[\"bus\"].$emit(\"Token changed\",\"True\")})):c.a.post(m.a.bot_response_token(),{license_key:this.$session.get(\"UserInformation\").license_key,username:this.$session.get(\"UserInformation\").email}).then((function(e){t.$session.set(\"BotToken\",e.data),t.$session.remove(\"TemporaryBotToken\"),p[\"bus\"].$emit(\"Token changed\",\"True\")})),this.$session.set(\"UserFirstName\",e.userinformation.first_name),this.$session.set(\"UserLastName\",e.userinformation.last_name),this.$session.set(\"rt\",e.userinformation.refresh_token),this.$session.set(\"at\",e.userinformation.access_token),this.$session.set(\"RestrictionList\",e.restriction_list),document.cookie=\"company_id=\"+this.$session.get(\"UserInformation\").company_id,document.getElementById(\"spinner\").style.opacity=\"1\",this.check_template_subscription(null),this.update_menu_list(e.menubind))},check_template_subscription:function(e){var t=this;c.a.get(m.a.open_bot_template_subscription_api(),{params:{company_name:this.$session.get(\"UserInformation\").company_name,company_id:this.$session.get(\"UserInformation\").company_id},headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){var n=s.data;\"Success\"===n.status?(t.$session.set(\"BotTemplates\",n.templates),\"push_direct_response_bot\"===e&&t.$router.push(\"/bot/directresponsebot\")):\"push_direct_response_bot\"===e&&t.$router.push(\"/bot/directresponsebot\")})).catch((function(s){\"push_direct_response_bot\"===e&&t.$router.push(\"/bot/directresponsebot\"),console.log(s)})),this.$session.set(\"is_super_admin\",!0)},update_menu_list:function(e){for(var t={},s=e.filter((function(e){return 1==e.IsMasterMenu&&1==e.Enabled})),n=[],i=e.filter((function(e){return 0==e.HasSubMenus&&1==e.Enabled&&1==e.IsSubMenu})),o=function(e,i){var o=_[\"a\"].filter((function(t){return t.name===s[e].MenuItem&&Boolean(t.svg_html)}));o.length>0&&(n.push(o[0]),t[o[0].name]={main_menu:o[0],sub_menu_list:[]})},a=0,r=s.length;a<r;a+=1)o(a,r);try{for(var u=0,c=i.length;u<c;u+=1)for(var l in _[\"a\"])_[\"a\"][l].name===i[u].MenuItem&&Boolean(_[\"a\"][l].page_path&&_[\"a\"][l].master_menu===i[u].MasterMenu)&&t[i[u].MasterMenu].sub_menu_list.push(_[\"a\"][l])}catch(m){console.log(m)}t=Object.values(t),this.$session.set(\"ChatbotMenu\",t),this.$router.push(\"/bot/dashboard\")}}},g=f,v=(s(\"41a8\"),s(\"2877\")),k=Object(v[\"a\"])(g,n,i,!1,null,\"57ec6e6a\",null);t[\"default\"]=k.exports}}]);","extractedComments":[]}