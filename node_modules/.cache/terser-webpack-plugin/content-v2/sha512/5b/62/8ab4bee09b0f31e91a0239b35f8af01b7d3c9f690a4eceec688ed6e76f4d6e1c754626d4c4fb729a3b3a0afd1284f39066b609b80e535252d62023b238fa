{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-61795e02\"],{\"2b8b\":function(t,s,e){\"use strict\";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",[e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),e(\"div\",{staticClass:\"dash-cont\"},[e(\"div\",{staticClass:\"container-fluid\"},[e(\"div\",{staticClass:\"card dash-card\"},[e(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[e(\"h4\",{staticClass:\"mb-sm-0\"},[t._v(\"Tasks\")]),e(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.search_name,expression:\"search_name\"}],staticClass:\"form-control search-bar\",attrs:{id:\"search_bar\",placeholder:\"Search here\"},domProps:{value:t.search_name},on:{keyup:t.callsearch,input:function(s){s.target.composing||(t.search_name=s.target.value)}}}),t.isVisibleSearchClear?e(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0\",staticStyle:{\"margin-left\":\"-40px\",\"z-index\":\"10\"},attrs:{type:\"button\"},on:{click:t.clear_search_name}},[e(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):t._e(),e(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",id:\"search_btn\"},on:{click:t.search_product}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",width:\"14\",height:\"14\"}},[e(\"path\",{attrs:{d:\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\",fill:\"#fff\"}})])]),e(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#taskmodal\",id:\"task_add_btn\"},on:{click:function(s){return t.add_task()}}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"13.997\",viewBox:\"0 0 14 13.997\"}},[e(\"path\",{attrs:{id:\"Union_13\",\"data-name\":\"Union 13\",d:\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\",transform:\"translate(12690.001 -2045.002)\",fill:\"#fff\"}})]),t._v(\" Add Tasks \")]),e(\"a\",{staticClass:\"red-btn\",attrs:{href:\"javascript:void(0)\",id:\"delete_task\"},on:{click:t.delete_selected}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"14\",viewBox:\"0 0 14 14\"}},[e(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\",transform:\"translate(-4 -3)\",fill:\"#fff\"}})]),t._v(\" Delete \")])])]),e(\"div\",{staticClass:\"card-body\"},[e(\"div\",{staticClass:\"table-box\"},[e(\"div\",{staticClass:\"table-responsive\"},[e(\"table\",{staticClass:\"table\"},[e(\"thead\",[e(\"tr\",[e(\"th\",{attrs:{scope:\"col\"}},[e(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[e(\"label\",{staticClass:\"form-check-label\"},[e(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\",value:\"\",required:\"\"},on:{change:function(s){return t.selected_tasks(\"all\")}}}),e(\"span\",{staticClass:\"icn\"})])])]),e(\"th\",{staticStyle:{width:\"2%\"},attrs:{scope:\"col\"}},[t._v(\"ACTION\")]),e(\"th\",{attrs:{scope:\"col\"}},[t._v(\"TASK NAME\")]),e(\"th\",{attrs:{scope:\"col\"}},[t._v(\"TYPE\")]),e(\"th\",{attrs:{scope:\"col\"}},[t._v(\"INTENT\")])])]),e(\"tbody\",t._l(t.task_list,(function(s,a){return e(\"tr\",{key:a},[e(\"th\",{attrs:{scope:\"row\"}},[e(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[e(\"label\",{staticClass:\"form-check-label\"},[e(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\"},on:{change:function(s){return t.selected_tasks(a)}}}),e(\"span\",{staticClass:\"icn\"})])])]),e(\"td\",{staticClass:\"action\"},[e(\"a\",{staticClass:\"#\",staticStyle:{cursor:\"pointer\"},on:{click:function(s){return t.openpreview(a)}}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"15.392\",height:\"15.392\",viewBox:\"0 0 15.392 15.392\"}},[e(\"path\",{attrs:{id:\"square-edit-outline\",d:\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\",transform:\"translate(-3 -3)\",fill:\"#9499ae\"}})])]),e(\"a\",{staticClass:\"trash\",attrs:{href:\"#\",id:\"single_delete_task_id\"},on:{click:function(s){return t.delete_single(a)}}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"13.682\",height:\"15.392\",viewBox:\"0 0 13.682 15.392\"}},[e(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\",transform:\"translate(-4 -3)\",fill:\"#f23d3d\"}})])])]),e(\"td\",[t._v(t._s(s.TaskName))]),e(\"td\",[t._v(\" \"+t._s(s.Task_Type)+\" \")]),e(\"td\",[t._v(t._s(s.Intent))])])})),0)])]),e(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"taskmodal\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"intentmodeltitle\",\"aria-hidden\":\"true\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\"}},[t._v(\" > \"),e(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[e(\"div\",{staticClass:\"modal-content\"},[e(\"div\",{staticClass:\"modal-body\"},[t._m(0),e(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{click:t.clear_fields}},[e(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]),e(\"form\",{on:{submit:function(s){return s.preventDefault(),t.add_edit_tasks(s)}}},[e(\"div\",{staticClass:\"radio\",staticStyle:{\"margin-left\":\"25%\"}},[e(\"label\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.task_type,expression:\"task_type\"}],attrs:{disabled:t.isEdit||t.preview,type:\"radio\",id:\"portal_user\",value:\"Default\"},domProps:{checked:t._q(t.task_type,\"Default\")},on:{change:function(s){t.task_type=\"Default\"}}}),e(\"span\",{staticClass:\"icn\",attrs:{id:\"portal_user_radio\"}}),t._v(\" Questions \")]),e(\"label\",[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.task_type,expression:\"task_type\"}],attrs:{disabled:t.isEdit||t.preview,type:\"radio\",value:\"Email\"},domProps:{checked:t._q(t.task_type,\"Email\")},on:{change:function(s){t.task_type=\"Email\"}}}),e(\"span\",{staticClass:\"icn\",attrs:{id:\"bot_user_radio\"}}),t._v(\" Email \")])]),e(\"div\",{staticClass:\"form-group\"},[e(\"label\",[t._v(\"Task Name\")]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.input_list.task_name,expression:\"input_list.task_name\"}],staticClass:\"form-control\",attrs:{id:\"task_name_id\",type:\"text\",disabled:t.isEdit||t.preview,placeholder:\"Enter the task name...\"},domProps:{value:t.input_list.task_name},on:{input:function(s){s.target.composing||t.$set(t.input_list,\"task_name\",s.target.value)}}})]),e(\"div\",{staticClass:\"form-group\"},[e(\"label\",[t._v(\"Select Intent\")]),e(\"multiselect\",{attrs:{id:\"select_role_name\",searchable:!0,\"close-on-select\":!0,\"show-labels\":!1,options:t.intentlist,disabled:t.preview},on:{change:t.intent_selected_api},model:{value:t.input_list.intent,callback:function(s){t.$set(t.input_list,\"intent\",s)},expression:\"input_list.intent\"}},[e(\"span\",[t._v(t._s(t.input_list.intent))])])],1),\"Email\"==t.task_type?e(\"div\",{staticClass:\"form-group\"},[e(\"div\",{staticClass:\"d-flex justify-space-between\"},[e(\"label\",[t._v(\"Send To:\")]),e(\"div\",{staticClass:\"form-check checkbox checkbox-success d-flex\",staticStyle:{position:\"absolute\",right:\"0px\"}},[e(\"label\",{staticClass:\"form-check-label\",attrs:{title:\"User interacting with the bot\"}},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.email_to_user,expression:\"email_to_user\"}],staticClass:\"form-check-input\",attrs:{disabled:t.preview,type:\"checkbox\",value:\"User\"},domProps:{checked:Array.isArray(t.email_to_user)?t._i(t.email_to_user,\"User\")>-1:t.email_to_user},on:{click:t.send_msg_to_user,change:function(s){var e=t.email_to_user,a=s.target,i=!!a.checked;if(Array.isArray(e)){var n=\"User\",o=t._i(e,n);a.checked?o<0&&(t.email_to_user=e.concat([n])):o>-1&&(t.email_to_user=e.slice(0,o).concat(e.slice(o+1)))}else t.email_to_user=i}}}),e(\"span\",{staticClass:\"icn\"})]),e(\"div\",[t._v(\"End User\")])])]),t.add_customs_email?e(\"div\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_custom_email,expression:\"new_custom_email\"}],staticClass:\"form-control\",attrs:{disabled:t.preview,type:\"text\",placeholder:\"Add Email\"},domProps:{value:t.new_custom_email},on:{keydown:function(s){return!s.type.indexOf(\"key\")&&t._k(s.keyCode,\"tab\",9,s.key,\"Tab\")?null:t.add_email(\"add\")},input:function(s){s.target.composing||(t.new_custom_email=s.target.value)}}})]):t._e(),t.add_customs_email&&t.custom_emails.length>0||t.email_to_user?e(\"div\",{staticStyle:{\"padding-bottom\":\"0px\"}},t._l(t.custom_emails,(function(s,a){return e(\"div\",{key:a,staticClass:\"bootstrap-tagsinput\",staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"span\",{staticClass:\"badge\"},[t._v(\" \"+t._s(s)+\" \"),e(\"span\",{attrs:{\"data-role\":\"remove\"},on:{click:function(s){return t.add_email(\"remove\",a)}}})])])})),0):t._e()]):t._e(),\"Email\"==t.task_type?e(\"div\",[t._v(\" Subject \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.email_title,expression:\"email_title\"}],staticClass:\"form-control\",staticStyle:{margin:\"0 0 15px\"},attrs:{disabled:t.preview,type:\"text\",placeholder:\"Enter Email Subject here\"},domProps:{value:t.email_title},on:{input:function(s){s.target.composing||(t.email_title=s.target.value)}}}),t._v(\" Body \"),e(\"span\",{staticStyle:{\"margin-left\":\"8px\"}},[e(\"svg\",{staticClass:\"question-mark\",attrs:{\"data-tooltip\":\"tooltip\",\"data-placement\":\"bottom\",title:\"Help\",\"data-toggle\":\"modal\",\"data-target\":\"#info_email\",fill:\"#273679\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",height:\"24\",width:\"24\",version:\"1.1\"}},[e(\"g\",{attrs:{transform:\"translate(0 -1028.4)\"}},[e(\"path\",{attrs:{d:\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\",transform:\"translate(0 1029.4)\",fill:\"#2980b9\"}}),e(\"path\",{attrs:{d:\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\",transform:\"translate(0 1028.4)\",fill:\"#273679\"}}),e(\"path\",{attrs:{d:\"m12 1035.4c-1.727-0.1-3.4306 1.1-3.8438 2.8-0.0403 0.3-0.0546 0.4-0.1562 1.2h2c-0.0526-1.3 1.306-2.3 2.5-2 1.021 0.3 1.763 1.5 1.406 2.5-0.294 0.6-0.998 1-1.562 1.4-0.577 0.5-1.074 1.1-1.313 1.8-0.039 0.4-0.034 0.8-0.031 1.3h2v-1c0.172-0.7 0.688-1.1 1.25-1.4 0.634-0.3 1.087-0.8 1.406-1.4 0.543-1 0.454-2.2-0.125-3.1-0.705-1.3-2.067-2.2-3.531-2.1zm0 10c-0.552 0-1 0.4-1 1 0 0.5 0.448 1 1 1s1-0.5 1-1c0-0.6-0.448-1-1-1z\",fill:\"#2980b9\"}}),e(\"path\",{attrs:{d:\"m12 6c-1.727-0.0274-3.4306 1.1749-3.8438 2.875-0.0403 0.2941-0.0546 0.3281-0.1562 1.125h2c-0.0526-1.2477 1.306-2.289 2.5-1.9375 1.021 0.2374 1.763 1.4281 1.406 2.4375-0.294 0.684-0.998 0.992-1.562 1.406-0.577 0.482-1.074 1.094-1.313 1.813-0.039 0.42-0.034 0.859-0.031 1.281h2v-1c0.172-0.624 0.688-1.042 1.25-1.312 0.634-0.312 1.087-0.835 1.406-1.469 0.543-0.974 0.454-2.1746-0.125-3.094-0.705-1.2699-2.067-2.1438-3.531-2.125zm0 10c-0.552 0-1 0.448-1 1s0.448 1 1 1 1-0.448 1-1-0.448-1-1-1z\",transform:\"translate(0 1028.4)\",fill:\"#ecf0f1\"}})])])]),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.email_body,expression:\"email_body\"}],staticClass:\"form-control\",staticStyle:{resize:\"none\",\"overflow-y\":\"auto\",margin:\"0 0 15px\"},attrs:{disabled:t.preview,rows:\"4\",cols:\"50\",type:\"text\",placeholder:\"Enter email body here\"},domProps:{value:t.email_body},on:{keyup:t.checkforemailvariables,input:function(s){s.target.composing||(t.email_body=s.target.value)}}}),t.email_variables.length>0?e(\"div\",[t._v(\" Variables: \"),t._l(t.email_variables,(function(s,a){return e(\"div\",{key:a},[t._v(\" \"+t._s(s.variable_name)+\" \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.email_variables[a].variable_description,expression:\"\\n                                email_variables[index].variable_description\\n                              \"}],staticClass:\"form-control\",attrs:{disabled:t.preview,type:\"text\",placeholder:\"Description\",required:\"\"},domProps:{value:t.email_variables[a].variable_description},on:{input:function(s){s.target.composing||t.$set(t.email_variables[a],\"variable_description\",s.target.value)}}})])}))],2):t._e()]):t._e(),\"SMS\"==t.task_type?e(\"div\",{staticClass:\"form-group\"},[e(\"div\",{staticStyle:{display:\"flex\"}},[e(\"label\",[t._v(\"Send To:\")]),e(\"div\",{staticClass:\"form-check checkbox checkbox-success\",staticStyle:{position:\"absolute\",right:\"0px\",display:\"flex\"}},[e(\"label\",{staticClass:\"form-check-label\",attrs:{title:\"User interacting with the bot\"}},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.sms_to_user,expression:\"sms_to_user\"}],staticClass:\"form-check-input\",attrs:{disabled:t.preview,type:\"checkbox\",value:\"User\"},domProps:{checked:Array.isArray(t.sms_to_user)?t._i(t.sms_to_user,\"User\")>-1:t.sms_to_user},on:{click:t.send_sms_to_user,change:function(s){var e=t.sms_to_user,a=s.target,i=!!a.checked;if(Array.isArray(e)){var n=\"User\",o=t._i(e,n);a.checked?o<0&&(t.sms_to_user=e.concat([n])):o>-1&&(t.sms_to_user=e.slice(0,o).concat(e.slice(o+1)))}else t.sms_to_user=i}}}),e(\"span\",{staticClass:\"icn\"})]),e(\"div\",[t._v(\"End User\")])])]),t.add_customs_number?e(\"div\",{staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.new_custom_number,expression:\"new_custom_number\"}],staticClass:\"form-control\",attrs:{disabled:t.preview,type:\"text\",placeholder:\"Add Number\"},domProps:{value:t.new_custom_number},on:{keyup:function(s){return t.add_number(\"add\")},input:function(s){s.target.composing||(t.new_custom_number=s.target.value)}}})]):t._e(),t.add_customs_number&&t.custom_number.length>0||t.sms_to_user?e(\"div\",{staticStyle:{\"padding-bottom\":\"0px\"}},[t.sms_to_user?e(\"div\",{staticClass:\"bootstrap-tagsinput\",staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"span\",{staticClass:\"badge\"},[t._v(\" User \")])]):t._e(),t._l(t.custom_number,(function(s,a){return e(\"div\",{key:a,staticClass:\"bootstrap-tagsinput\",staticStyle:{\"margin-bottom\":\"10px\"}},[e(\"span\",{staticClass:\"badge\"},[t._v(\" \"+t._s(s)+\" \"),e(\"span\",{attrs:{\"data-role\":\"remove\"},on:{click:function(s){return t.add_number(\"remove\",a)}}})])])}))],2):t._e(),t._v(\" Body \"),e(\"span\",{staticStyle:{\"margin-left\":\"8px\"}},[e(\"svg\",{staticClass:\"question-mark\",attrs:{\"data-tooltip\":\"tooltip\",\"data-placement\":\"bottom\",title:\"Help\",\"data-toggle\":\"modal\",\"data-target\":\"#info_email\",fill:\"#273679\",\"xmlns:rdf\":\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:cc\":\"http://creativecommons.org/ns#\",\"xmlns:dc\":\"http://purl.org/dc/elements/1.1/\",height:\"24\",width:\"24\",version:\"1.1\"}},[e(\"g\",{attrs:{transform:\"translate(0 -1028.4)\"}},[e(\"path\",{attrs:{d:\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\",transform:\"translate(0 1029.4)\",fill:\"#2980b9\"}}),e(\"path\",{attrs:{d:\"m22 12c0 5.523-4.477 10-10 10-5.5228 0-10-4.477-10-10 0-5.5228 4.4772-10 10-10 5.523 0 10 4.4772 10 10z\",transform:\"translate(0 1028.4)\",fill:\"#273679\"}}),e(\"path\",{attrs:{d:\"m12 1035.4c-1.727-0.1-3.4306 1.1-3.8438 2.8-0.0403 0.3-0.0546 0.4-0.1562 1.2h2c-0.0526-1.3 1.306-2.3 2.5-2 1.021 0.3 1.763 1.5 1.406 2.5-0.294 0.6-0.998 1-1.562 1.4-0.577 0.5-1.074 1.1-1.313 1.8-0.039 0.4-0.034 0.8-0.031 1.3h2v-1c0.172-0.7 0.688-1.1 1.25-1.4 0.634-0.3 1.087-0.8 1.406-1.4 0.543-1 0.454-2.2-0.125-3.1-0.705-1.3-2.067-2.2-3.531-2.1zm0 10c-0.552 0-1 0.4-1 1 0 0.5 0.448 1 1 1s1-0.5 1-1c0-0.6-0.448-1-1-1z\",fill:\"#2980b9\"}}),e(\"path\",{attrs:{d:\"m12 6c-1.727-0.0274-3.4306 1.1749-3.8438 2.875-0.0403 0.2941-0.0546 0.3281-0.1562 1.125h2c-0.0526-1.2477 1.306-2.289 2.5-1.9375 1.021 0.2374 1.763 1.4281 1.406 2.4375-0.294 0.684-0.998 0.992-1.562 1.406-0.577 0.482-1.074 1.094-1.313 1.813-0.039 0.42-0.034 0.859-0.031 1.281h2v-1c0.172-0.624 0.688-1.042 1.25-1.312 0.634-0.312 1.087-0.835 1.406-1.469 0.543-0.974 0.454-2.1746-0.125-3.094-0.705-1.2699-2.067-2.1438-3.531-2.125zm0 10c-0.552 0-1 0.448-1 1s0.448 1 1 1 1-0.448 1-1-0.448-1-1-1z\",transform:\"translate(0 1028.4)\",fill:\"#ecf0f1\"}})])])]),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.sms_body,expression:\"sms_body\"}],staticClass:\"form-control\",staticStyle:{resize:\"none\",\"overflow-y\":\"auto\",margin:\"0 0 15px\"},attrs:{disabled:t.preview,rows:\"4\",cols:\"50\",type:\"text\",placeholder:\"Enter sms message here\"},domProps:{value:t.sms_body},on:{keyup:t.checkforsmsvariables,input:function(s){s.target.composing||(t.sms_body=s.target.value)}}}),t.sms_varibles.length>0?e(\"div\",[t._v(\" Variables: \"),t._l(t.sms_varibles,(function(s,a){return e(\"div\",{key:a},[t._v(\" \"+t._s(s.variable_name)+\" \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.sms_varibles[a].variable_description,expression:\"\\n                                sms_varibles[index].variable_description\\n                              \"}],staticClass:\"form-control\",attrs:{disabled:t.preview,type:\"text\",placeholder:\"Description\",required:\"\"},domProps:{value:t.sms_varibles[a].variable_description},on:{input:function(s){s.target.composing||t.$set(t.sms_varibles[a],\"variable_description\",s.target.value)}}})])}))],2):t._e()]):t._e(),e(\"div\",{staticClass:\"row\"}),e(\"br\"),\"Default\"==t.task_type?e(\"div\",{staticClass:\"form-group\"},[e(\"label\",[t._v(\"Questions to be asked to the user\")]),e(\"br\"),e(\"br\"),t._v(\"Question Number 1 \"),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.input_list.question,expression:\"input_list.question\"}],staticClass:\"form-control\",attrs:{disabled:t.preview,type:\"text\",placeholder:\"Enter the Question...\"},domProps:{value:t.input_list.question},on:{input:function(s){s.target.composing||t.$set(t.input_list,\"question\",s.target.value)}}})]):t._e(),\"Default\"==t.task_type?e(\"div\",t._l(t.questions_list,(function(s,a){return e(\"div\",{key:a,staticClass:\"form-group\"},[t._v(\" Question Number \"+t._s(a+2)+\" \"),e(\"span\",{staticStyle:{float:\"right\",cursor:\"pointer\"},on:{click:function(s){return t.add_question(\"remove\",a)}}},[e(\"i\",{staticClass:\"fa\",staticStyle:{\"font-size\":\"16px\"}},[t._v(\"\")])]),e(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:s.Text,expression:\"question.Text\",modifiers:{trim:!0}}],staticClass:\"form-control\",attrs:{disabled:t.preview,type:\"text\",placeholder:\"Enter the Question...\"},domProps:{value:s.Text},on:{input:function(e){e.target.composing||t.$set(s,\"Text\",e.target.value.trim())},blur:function(s){return t.$forceUpdate()}}})])})),0):t._e(),\"Default\"==t.task_type?e(\"div\",{staticClass:\"form-group\",staticStyle:{float:\"left\"}},[e(\"a\",{staticClass:\"darkblue-btn\",staticStyle:{padding:\"5px 10px\"},attrs:{href:\"#\"},on:{click:function(s){return t.add_question(\"add\")}}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"13.997\",viewBox:\"0 0 14 13.997\"}},[e(\"path\",{attrs:{id:\"Union_13\",\"data-name\":\"Union 13\",d:\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\",transform:\"translate(12690.001 -2045.002)\",fill:\"#fff\"}})]),t._v(\" Add Question \")])]):t._e(),e(\"br\"),e(\"div\",{staticClass:\"btn-wrap text-right\"},[e(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"},on:{click:t.clear_fields}},[t._v(\" Cancel \")]),e(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\",id:\"add_task_save\"}},[t._v(\" Save \")])])])])])])]),e(\"div\",{staticClass:\"pagin-table\"},[e(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[e(\"ul\",{staticClass:\"pagination justify-content-center\"},[e(\"li\",{staticClass:\"page-item\"},[e(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return t.page_require(t.page_no-1)}}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[e(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[e(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),t._l(t.page_array,(function(s){return e(\"li\",{key:s,class:{\"page-item active\":s===t.page_no,\"page-item\":s!==t.page_no}},[\"...s\"==s||\"...l\"==s?e(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(s)}}},[t._v(\"...\")]):t._e(),\"...s\"!=s&&\"...l\"!=s?e(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(s)}}},[t._v(t._s(s))]):t._e()])})),e(\"li\",{staticClass:\"page-item\"},[e(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return t.page_require(t.page_no+1)}}},[e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[e(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[e(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])]),e(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"info_email\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"configapimodaltitle\",\"aria-hidden\":\"true\",\"data-backdrop\":\"true\"}},[e(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[e(\"div\",{staticClass:\"modal-content\",staticStyle:{width:\"220%\",\"margin-left\":\"-35%\"}},[e(\"div\",{staticClass:\"modal-body\",staticStyle:{width:\"1000px\"}},[t._m(1),e(\"div\",[e(\"h6\",[t._v(\" If you want to add variables you can add them using the following syntax \"+t._s(t.variable)+\" in the email body. \")])]),e(\"div\",[e(\"div\",[e(\"br\"),e(\"label\",[t._v(\"For Example, If you want to use the user's name in the email you can write it in the following manner:\")]),e(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.body_content,expression:\"body_content\"}],staticClass:\"form-control\",staticStyle:{color:\"black\"},attrs:{disabled:\"\",id:\"configapi_req_json\",placeholder:\"response\",rows:\"10\"},domProps:{value:t.body_content},on:{input:function(s){s.target.composing||(t.body_content=s.target.value)}}})]),e(\"br\")]),e(\"br\"),e(\"br\"),t._m(2)])])])])])])])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[e(\"div\",{staticClass:\"head-icn\"},[e(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})]),e(\"h3\",[t._v(\"Tasks\")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[e(\"div\",{staticClass:\"head-icn\"},[e(\"img\",{attrs:{src:\"/img/msg-blue.png\",alt:\"\"}})]),e(\"h3\",[t._v(\"Help\")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[e(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])}],n=(e(\"4de4\"),e(\"caad\"),e(\"c975\"),e(\"a434\"),e(\"ac1f\"),e(\"2532\"),e(\"1276\"),e(\"bc3a\")),o=e.n(n),r=e(\"3d20\"),l=e.n(r),c=e(\"5118\"),_=e(\"ea54\"),d=e.n(_),m=e(\"8e5f\"),h=e.n(m),p=(e(\"252a\"),e(\"61b2\")),u={name:\"AddTaskPage\",mixins:[p[\"b\"],p[\"d\"]],components:{Multiselect:h.a},data:function(){return{input_list:{task_name:\"\",intent:\"\",fields:[],question:\"\",question_id:\"\"},total_pages:1,per_page:10,page_no:1,question_text:!1,question_entered:\"\",intentlist:[],task_list:[],original_intent_list:[],checked_list:[],isEdit:!1,questions_list:[],search_name:\"\",page_array:[],task_type:\"Default\",task_types:[\"Email\",\"SMS\",\"Default\"],email_to_user:!0,add_customs_email:!0,new_custom_email:null,custom_emails:[],email_title:null,email_body:null,email_variables:[],sms_to_user:!0,add_customs_number:!0,new_custom_number:null,custom_number:[],sms_body:null,sms_varibles:[],selected_task:null,spinnerOn:!1,isVisibleSearchClear:!1,disable_btn_expired:!1,companyid:\"SuperAdmin\"==this.$session.get(\"UserInformation\").role?this.$session.get(\"CompanyId\"):this.$session.get(\"UserInformation\").company_id,companyname:\"SuperAdmin\"==this.$session.get(\"UserInformation\").role?this.$session.get(\"CompanyName\"):this.$session.get(\"UserInformation\").company_name,variable:\"{{name}}\",preview:!1,delete_task_ids:[],body_content:\"Hi {{name}},\\n        You are receiving this email because you (or someone else) have requested to reset the password of {{name}} account.\\n        Please click on the following link, or paste this into your browser to complete the process:\\n        https://cense.ai/change-password\\n        If you did not request this, please ignore this email and your password will remain unchanged.\\n\\n        Regards,\\n        Admin\"}},created:function(){this.load_task()},mounted:function(){var t=this;Object(c[\"setTimeout\"])((function(){t.freeze_portal()}),1e3),this.$root.$on(\"NerTrainingPageDisabled\",(function(s){!0===s&&(t.disable_btn_expired=!0)}));var s=this;$(\"#taskmodal\").on(\"hidden.bs.modal\",(function(t){s.clear_fields()})),$(\"#selectall\").click((function(){$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(s.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))}))},watch:{search_name:function(){\"\"===this.search_name?(this.load_task(),this.isVisibleSearchClear=!1):\"\"!==this.search_name&&(this.isVisibleSearchClear=!0)}},methods:{add_task:function(){this.disable_btn_expired?this.show_subscription_expired_swal():$(\"#taskmodal\").modal(\"show\")},clear_search_name:function(){this.search_name=\"\"},load_task:function(){var t=this;this.$session.has(\"CompanyId\")||\"SuperAdmin\"!=this.$session.get(\"UserInformation\").role?(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name):toastr.warning(\"Please select a company name from the dropdown\"),o.a.post(d.a.show_intent_url(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,get_intents:!0,showintent:\"True\"},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){for(var e in s.data)t.intentlist.push(s.data[e])})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)})),o.a.post(d.a.open_form_tasks(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,isShow:!0,per_page:this.per_page,page_no:this.page_no},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){for(var e in t.task_list=[],s.data.TasksList)if(\"default\"==s.data.TasksList[e].TaskType){var a=[];for(var i in s.data.TasksList[e].Utterances)a.push({QuestionId:s.data.TasksList[e].Utterances[i].SlotName,Text:s.data.TasksList[e].Utterances[i].Text});0!=a.length&&t.task_list.push({Intent:s.data.TasksList[e].Intent,TaskName:s.data.TasksList[e].TaskName,Task_Description:a,Task_Id:s.data.TasksList[e].TaskID,Task_Type:s.data.TasksList[e].TaskType})}else if(\"Email\"==s.data.TasksList[e].TaskType)t.task_list.push({Intent:\"None\",TaskName:s.data.TasksList[e].TaskName,Task_Description:s.data.TasksList[e].TaskDetails,Task_Id:s.data.TasksList[e].TaskID,Task_Type:s.data.TasksList[e].TaskType});else if(\"SMS\"==s.data.TasksList[e].TaskType)t.task_list.push({Intent:\"None\",TaskName:s.data.TasksList[e].TaskName,Task_Description:s.data.TasksList[e].TaskDetails,Task_Id:s.data.TasksList[e].TaskID,Task_Type:s.data.TasksList[e].TaskType});else if(s.data.TasksList[e]){var n=[];for(var i in s.data.TasksList[e].Utterances)n.push({QuestionId:s.data.TasksList[e].Utterances[i].SlotName,Text:s.data.TasksList[e].Utterances[i].Text});0!=n.length&&t.task_list.push({Intent:s.data.TasksList[e].Intent,TaskName:s.data.TasksList[e].TaskName,Task_Description:n,Task_Id:s.data.TasksList[e].TaskID,Task_Type:s.data.TasksList[e].TaskType})}t.original_intent_list=t.task_list,t.total_pages=s.data.pagecount,t.setpagination(t.page_no)})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)}))},add_question:function(t,s){if(\"add\"==t)if(1==this.isEdit){var e=this.questions_list.length+2;this.questions_list.push({Text:\"\",QuestionId:\"Question_Number_\"+e+\"_\"+(new Date).getTime()}),e+=1}else this.questions_list.push({Text:\"\"});else\"remove\"==t&&this.questions_list.splice(s,1)},add_email:function(t,s){\"add\"==t?(this.custom_emails.push(this.new_custom_email),this.new_custom_email=null):\"remove\"==t&&this.custom_emails.splice(s,1)},add_number:function(t,s){\"add\"==t&&13===event.keyCode?(this.custom_number.push(this.new_custom_number),this.new_custom_number=null):\"remove\"==t&&this.custom_number.splice(s,1)},intent_selected_api:function(){},edit_modal:function(){event.preventDefault();this.selected_task;this.isEdit=!0,this.preview=!1},selected_tasks:function(t){if(\"all\"==t)event.target.checked?this.checked_list=this.task_list:event.target.checked||(this.checked_list=[]);else if(1==event.target.checked)this.checked_list.push(t);else if(0==event.target.checked){var s=this.checked_list.indexOf(t);this.checked_list.splice(s,1)}},add_edit_tasks:function(){var t=this;if(\"Default\"==this.task_type){var s=this.questions_list.filter((function(t){return\"\"==t.Text}));if(!this.empty_fields_check()||0!=this.questions_list.length&&0!=s.length)toastr.error(\"Please enter all the required fields.\");else if(1==this.isEdit){var e={},a={},i=1,n=[];for(n.push({Type:\"Ask\",Text:this.input_list.question}),e[this.input_list.question_id]=n[0],a[this.input_list.question_id]={from_text:!0,from_entity:!1,intent:!0,not_intent:!1},i=2;i<this.questions_list.length+2;i++)n.push({Type:\"Ask\",Text:this.questions_list[i-2].Text}),e[this.questions_list[i-2].QuestionId]=n[i-1],a[this.questions_list[i-2].QuestionId]={from_text:!0,from_entity:!1,intent:!0,not_intent:!1};o.a.put(d.a.task_list_url(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,intent:this.input_list.intent,task_details:e,task_id:this.task_list[this.selected_task].Task_Id,task_type:\"Default\"},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){\"Task Edit\"==s.data?l()({text:\"The saved changes would be reflected once the model is trained.\",showConfirmButton:!0,timer:3e3}).then((function(s){s.value&&t.load_task()})):\"Internal Server Error\"==s.data&&toastr.error(\"Internal Server Error\"),$(\"#taskmodal\").modal(\"hide\")})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)}))}else if(0==this.isEdit){var r={},_={},m=1;n=[];n.push({Type:\"Ask\",Text:this.input_list.question});var h=(new Date).getTime();for(r[\"Question_Number_1_\"+h]=n[0],_[\"Question_Number_1_\"+h]={from_text:!0,from_entity:!1,intent:!0,not_intent:!1},m=2;m<this.questions_list.length+2;m++){n.push({Type:\"Ask\",Text:this.questions_list[m-2].Text});var p=(new Date).getTime();r[\"Question_Number_\"+m+\"_\"+p]=n[m-1],_[\"Question_Number_\"+m+\"_\"+p]={from_text:!0,from_entity:!1,intent:!0,not_intent:!1}}o.a.post(d.a.task_list_url(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,intent:this.input_list.intent,task_details:r,slot_mapping_data:_,task_name:this.input_list.task_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){\"Task Added\"==s.data?(toastr.success(\"Your task has been added successfully\"),$(\"#taskmodal\").modal(\"hide\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500)):\"Internal Server Error\"==s.data&&toastr.error(\"Internal Server Error\"),$(\"#taskmodal\").modal(\"hide\")})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)}))}}else if(\"Email\"==this.task_type){r={};var u=!0;if(null!=this.email_title&&\"\"!=this.email_title&&null!=this.email_body&&\"\"!=this.email_body||(u=!1),\"\"==this.input_list.task_name&&(u=!1),this.email_variables.length>0)for(var k=0;k<this.email_variables.length;k++)\"\"!=this.email_variables[k].variable_description&&null!=this.email_variables[k].variable_description&&\" \"!=this.email_variables[k].variable_description||(u=!1);u?(r[\"subject\"]=this.email_title,r[\"body\"]=this.email_body,r[\"user_email\"]=this.email_to_user,r[\"custom_emails\"]=this.custom_emails,r[\"email_variables\"]=this.email_variables,0==this.isEdit?o.a.post(d.a.open_form_tasks(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,intent:this.input_list.intent,task_name:this.input_list.task_name,task_type:\"Email\",task_details:r},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){(s.data=\"Task Added\")&&(toastr.success(\"Your task has been added successfully\"),$(\"#taskmodal\").modal(\"hide\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500))})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)})):1==this.isEdit&&o.a.put(d.a.open_form_tasks(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,intent:this.input_list.intent,task_name:this.input_list.task_name,task_type:\"Email\",task_details:r,task_id:this.task_list[this.selected_task].Task_Id},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){(s.data=\"Task Edit\")&&(toastr.success(\"Your task has been edited successfully\"),$(\"#taskmodal\").modal(\"hide\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500))})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)}))):toastr.error(\"Please enter all the required fields.\")}else if(\"SMS\"==this.task_type){r={},u=!0;if(null!=this.sms_body&&\"\"!=this.sms_body||(u=!1),\"\"==this.input_list.task_name&&(u=!1),this.sms_varibles.length>0)for(var v=0;v<this.sms_varibles.length;v++)\"\"!=this.sms_varibles[v].variable_description&&null!=this.sms_varibles[v].variable_description&&\" \"!=this.sms_varibles[v].variable_description||(u=!1);u&&(r[\"body\"]=this.sms_body,r[\"user_number\"]=this.sms_to_user,r[\"custom_numbers\"]=this.custom_number,r[\"sms_variables\"]=this.sms_varibles,0==this.isEdit?o.a.post(d.a.open_form_tasks(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,task_name:this.input_list.task_name,task_type:\"SMS\",task_details:r},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){(s.data=\"Task Added\")&&(toastr.success(\"Your task has been added successfully\"),$(\"#taskmodal\").modal(\"hide\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500))})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)})):1==this.isEdit&&o.a.put(d.a.open_form_tasks(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,task_name:this.input_list.task_name,task_type:\"SMS\",task_details:r,task_id:this.task_list[this.selected_task].Task_Id},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){(s.data=\"Task Edit\")&&(toastr.success(\"Your task has been edited successfully\"),$(\"#taskmodal\").modal(\"hide\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500))})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)})))}},delete_selected:function(){if(0==this.checked_list.length)l.a.fire({title:\"No task selected!\",text:\"\",type:\"error\",timer:2e3});else{this.delete_task_ids=[];for(var t=0;t<this.checked_list.length;t++)this.delete_task_ids.push(this.task_list[this.checked_list[t]].Task_Id);this.delete_tasks_api()}},delete_single:function(t){this.delete_task_ids=[],this.delete_task_ids.push(this.task_list[t].Task_Id),this.delete_tasks_api()},delete_tasks_api:function(){var t=this;l.a.fire({title:\"Are you sure?\",text:\"You won't be able to revert this!\",type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete it!\"}).then((function(s){s.value&&(t.spinnerOn=!0,o.a.delete(d.a.open_form_tasks(),{params:{companyid:t.$session.get(\"UserInformation\").company_id,companyname:t.$session.get(\"UserInformation\").company_name,license_key:t.$session.get(\"UserInformation\").license_key,email:t.$session.get(\"UserInformation\").email,token:t.$session.get(\"UserInformation\").tokens,task_ids:t.delete_task_ids}},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(s){t.spinnerOn=!1,\"Failure\"==s.data.status?toastr.error(\"Failed to delete task.\"):\"Success\"==s.data.status&&(toastr.success(\"Task was deleted successfully\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500))})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)})))}))},empty_fields_check:function(){return\"\"!=this.input_list.intent&&\"\"!=this.input_list.task_name&&\"\"!=this.input_list.question||(toastr.error(\"Please enter all the fields\"),!1)},clear_fields:function(){this.input_list.intent=\"\",this.input_list.task_name=\"\",this.input_list.fields=[],this.input_list.question=\"\",this.questions_list=[],this.isEdit=!1,this.preview=!1,this.question_text=!1,this.task_list[this.selected_task]=this.original_intent_list[this.selected_task]},callsearch:function(){13===event.keyCode&&this.search_product()},search_product:function(){var t=this;\"\"!=this.search_name?(this.spinnerOn=!0,o.a.post(d.a.task_list_url(),{companyid:this.$session.get(\"UserInformation\").company_id,companyname:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){if(t.spinnerOn=!1,void 0!=s.data.pagecount){for(var e in t.page_no=1,t.task_list=[],t.original_intent_list=s.data.TasksList,s.data.TasksList){var a=[];for(var i in s.data.TasksList[e].Utterances)a.push({Text:s.data.TasksList[e].Utterances[i].Text});0!=a.length&&t.task_list.push({Intent:s.data.TasksList[e].Intent,TaskName:s.data.TasksList[e].TaskName,Task_Description:a})}t.total_pages=s.data.pagecount,t.setpagination(t.page_no)}else\"No Tasks Found\"==s.data.MSG?(toastr.error(\"No Task Found\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500)):(toastr.error(\"Intrnal Server Error\"),Object(c[\"setTimeout\"])((function(){t.load_task()}),2500))})).catch((function(s){410!==s.response.status&&440!==s.response.status&&409!==s.response.status||t.$root.$emit(\"Session_Expired\",s.response.data)}))):toastr.error(\"Enter proper data for searching\")},page_require:function(t){var s=this;0==t||t==this.total_pages+1?event.preventDefault():\"\"==this.search_name?($(\"input:checkbox\").prop(\"checked\",!1),this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,o.a.post(d.a.task_list_url(),{companyid:this.companyid,companyname:this.companyname,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,isShow:!0,per_page:this.per_page,page_no:this.page_no},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){for(var e in s.task_list=[],s.original_intent_list=t.data.TasksList,t.data.TasksList){var a=[];for(var i in t.data.TasksList[e].Utterances)a.push({Text:t.data.TasksList[e].Utterances[i].Text});0!=a.length&&s.task_list.push({Intent:t.data.TasksList[e].Intent,TaskName:t.data.TasksList[e].TaskName,Task_Description:a})}s.total_pages=t.data.pagecount,s.setpagination(s.page_no)})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||s.$root.$emit(\"Session_Expired\",t.response.data)}))):($(\"input:checkbox\").prop(\"checked\",!1),\"...s\"==pageno?this.page_no=Math.ceil((1+this.page_no)/2):\"...l\"==pageno?this.page_no=Math.ceil((this.total_pages+this.page_no)/2):this.page_no=pageno,o.a.post(d.a.task_list_url(),{companyid:this.$session.get(\"UserInformation\").company_id,companyname:this.$session.get(\"UserInformation\").company_name,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:t},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(void 0!=e.data.pagecount){for(var a in s.page_no=t,s.task_list=[],s.original_intent_list=e.data.TasksList,e.data.TasksList){var i=[];for(var n in e.data.TasksList[a].Utterances)i.push({Text:e.data.TasksList[a].Utterances[n].Text});0!=i.length&&s.task_list.push({Intent:e.data.TasksList[a].Intent,TaskName:e.data.TasksList[a].TaskName,Task_Description:i})}s.total_pages=e.data.pagecount,s.setpagination(s.page_no)}else toastr.error(\"Intrnal Server Error\"),Object(c[\"setTimeout\"])((function(){s.load_task()}),2500)})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||s.$root.$emit(\"Session_Expired\",t.response.data)})))},setpagination:function(t){if(this.page_array=[],this.total_pages<=7)for(var s=0;s<this.total_pages;s++)this.page_array.push(s+1);else if(1==t){for(var e=0;e<4;e++)this.page_array.push(e+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var a=this.total_pages-4;a<this.total_pages;a++)this.page_array.push(a+1)}else if(t<=4){for(var i=0;i<t+3;i++)this.page_array.push(i+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var n=t-4;n<this.total_pages;n++)this.page_array.push(n+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var o=t-3;o<=t+3;o++)this.page_array.push(o);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}},send_msg_to_user:function(){this.add_customs_email||!this.add_customs_email&&!this.email_to_user?this.email_to_user=!this.email_to_user:!this.add_customs_email&&this.email_to_user&&(event.preventDefault(),toastr.error(\"Please select atleast one type of recipient\"))},send_msg_to_custom_user:function(){this.email_to_user||!this.add_customs_email&&!this.email_to_user?this.add_customs_email=!this.add_customs_email:this.add_customs_email&&!this.email_to_user&&(event.preventDefault(),toastr.error(\"Please select atleast one type of recipient\"))},send_sms_to_user:function(){this.add_customs_number||!this.add_customs_number&&!this.sms_to_user?this.sms_to_user=!this.sms_to_user:!this.add_customs_number&&this.sms_to_user&&(event.preventDefault(),toastr.error(\"Please select atleast one type of recipient\"))},send_sms_to_custom_user:function(){this.sms_to_user||!this.add_customs_number&&!this.sms_to_user?this.add_customs_number=!this.add_customs_number:this.add_customs_number&&!this.sms_to_user&&(event.preventDefault(),toastr.error(\"Please select atleast one type of recipient\"))},checkforemailvariables:function(){for(var t=this.email_body.split(\"{{\"),s=[],e=[],a=[],i=1;i<t.length;i++)t[i].includes(\"}}\")&&(s.push(t[i].split(\"}}\")[0]),-1==e.indexOf(t[i].split(\"}}\")[0])&&(e.push(t[i].split(\"}}\")[0]),a.push(\"add\")));for(var n=0;n<this.email_variables.length;n++)e.indexOf(this.email_variables[n].variable_name)>-1?a[e.indexOf(this.email_variables[n].variable_name)]=\"keep\":-1==e.indexOf(this.email_variables[n].variable_name)&&(e.push(this.email_variables[n].variable_name),a.push(\"remove\"));for(var o=0;o<e.length;o++)if(\"add\"==a[o])this.email_variables.push({variable_name:e[o],variable_description:null});else if(\"remove\"==a[o])for(var r=0;r<this.email_variables.length;r++)this.email_variables[r].variable_name==e[o]&&this.email_variables.splice(r,1)},checkforsmsvariables:function(){for(var t=this.sms_body.split(\"{{\"),s=[],e=[],a=[],i=1;i<t.length;i++)t[i].includes(\"}}\")&&(s.push(t[i].split(\"}}\")[0]),-1==e.indexOf(t[i].split(\"}}\")[0])&&(e.push(t[i].split(\"}}\")[0]),a.push(\"add\")));for(var n=0;n<this.sms_varibles.length;n++)e.indexOf(this.sms_varibles[n].variable_name)>-1?a[e.indexOf(this.sms_varibles[n].variable_name)]=\"keep\":-1==e.indexOf(this.sms_varibles[n].variable_name)&&(e.push(this.sms_varibles[n].variable_name),a.push(\"remove\"));for(var o=0;o<e.length;o++)if(\"add\"==a[o])this.sms_varibles.push({variable_name:e[o],variable_description:null});else if(\"remove\"==a[o])for(var r=0;r<this.sms_varibles.length;r++)this.sms_varibles[r].variable_name==e[o]&&this.sms_varibles.splice(r,1)},openpreview:function(t){if($(\"#taskmodal\").modal(\"show\"),this.task_type=this.task_list[t].Task_Type,this.isEdit=!0,this.preview=!1,this.selected_task=t,this.input_list.task_name=this.task_list[t].TaskName,\"default\"!=this.task_list[t].Task_Type&&Boolean(this.task_list[t].Task_Type)){if(\"Email\"==this.task_list[t].Task_Type){this.custom_emails=[];for(var s=0;s<this.task_list[t].Task_Description.custom_emails.length;s++)this.custom_emails.push(this.task_list[t].Task_Description.custom_emails[s]);for(var e in this.email_title=this.task_list[t].Task_Description.subject,this.email_body=this.task_list[t].Task_Description.body,this.email_variables=[],this.task_list[t].Task_Description.email_variables)this.email_variables.push({variable_name:this.task_list[t].Task_Description.email_variables[e].variable_name,variable_description:this.task_list[t].Task_Description.email_variables[e].variable_description})}else if(\"SMS\"==this.task_list[t].Task_Type){this.custom_number=[];for(var a=0;a<this.task_list[t].Task_Description.custom_numbers.length;a++)this.custom_number.push(this.task_list[t].Task_Description.custom_numbers[a]);for(var e in this.sms_body=this.task_list[t].Task_Description.body,this.sms_varibles=[],this.task_list[t].Task_Description.sms_variables)this.sms_varibles.push({variable_name:this.task_list[t].Task_Description.sms_variables[e].variable_name,variable_description:this.task_list[t].Task_Description.sms_variables[e].variable_description})}}else{this.task_type=\"Default\",this.input_list.intent=this.task_list[t].Intent,this.input_list.question=this.task_list[t].Task_Description[0].Text,this.input_list.question_id=this.task_list[t].Task_Description[0].QuestionId;for(var i=1;i<this.task_list[t].Task_Description.length;i++)this.questions_list.push(this.task_list[t].Task_Description[i])}}}},k=u,v=(e(\"60bc\"),e(\"465a\"),e(\"2877\")),f=Object(v[\"a\"])(k,a,i,!1,null,\"feead278\",null);s[\"default\"]=f.exports},\"465a\":function(t,s,e){\"use strict\";var a=e(\"cee8\"),i=e.n(a);i.a},\"60bc\":function(t,s,e){\"use strict\";var a=e(\"7bf2\"),i=e.n(a);i.a},\"7bf2\":function(t,s,e){},cee8:function(t,s,e){}}]);","extractedComments":[]}