{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d22c162\"],{f277:function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"dash-cont\"},[s(\"div\",{staticClass:\"container-fluid\"},[s(\"div\",{staticClass:\"card dash-card\"},[s(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[s(\"h4\",{staticClass:\"mb-sm-0\"},[t._v(\"Create A Blog\")]),s(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[s(\"a\",{staticClass:\"red-btn\",attrs:{href:\"#\"},on:{click:t.clear_all}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"14\",viewBox:\"0 0 14 14\"}},[s(\"path\",{attrs:{d:\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\",transform:\"translate(-4 -3)\",fill:\"#fff\"}})]),t._v(\" Clear \")]),s(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#usermodel\"},on:{click:t.show_blogs}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"13.997\",viewBox:\"0 0 14 13.997\"}},[s(\"path\",{attrs:{id:\"Union_13\",\"data-name\":\"Union 13\",d:\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\",transform:\"translate(12690.001 -2045.002)\",fill:\"#fff\"}})]),t._v(\" Show Blogs \")])])]),s(\"div\",{staticClass:\"card-body\"},[s(\"form\",{on:{submit:t.submit_blog}},[s(\"div\",{staticClass:\"form-group\"},[s(\"label\",[t._v(\"Blog Title\")]),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.blog.title,expression:\"blog.title\"}],staticClass:\"form-control\",attrs:{type:\"text\",disabled:t.isEdit,placeholder:\"Enter Blog Title\"},domProps:{value:t.blog.title},on:{input:function(e){e.target.composing||t.$set(t.blog,\"title\",e.target.value)}}})]),s(\"div\",{staticClass:\"form-group\"},[s(\"label\",[t._v(\"Blog Type\")]),s(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.blog.type,expression:\"blog.type\"}],staticClass:\"form-control\",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e=\"_value\"in t?t._value:t.value;return e}));t.$set(t.blog,\"type\",e.target.multiple?s:s[0])}}},[s(\"option\",{attrs:{value:\"\"}},[t._v(\"Select a blog type\")]),t._l(t.blog_types,(function(e,a){return s(\"option\",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),s(\"div\",{staticClass:\"form-group\",staticStyle:{width:\"25%\"}},[s(\"label\",[t._v(\"Upload an image\")]),s(\"div\",{staticClass:\"custom-file\"},[s(\"input\",{staticClass:\"custom-file-input form-control\",attrs:{id:\"file\",type:\"file\"},on:{change:t.fileinput}}),s(\"label\",{staticClass:\"custom-file-label form-control\",staticStyle:{\"font-weight\":\"400\"},attrs:{for:\"file\"}},[t._v(t._s(t.file_label))])])]),t._m(0),t._m(1)])])])])]),s(\"div\",{staticClass:\"modal fade dash-modal\",staticStyle:{\"margin-left\":\"-620px\"},attrs:{id:\"usermodel\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"usermodeltitle\",\"aria-hidden\":\"true\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content\",staticStyle:{width:\"205%\"}},[s(\"div\",{staticClass:\"modal-body\",staticStyle:{width:\"1220px\"}},[t._m(2),t._m(3),s(\"table\",{staticClass:\"table\"},[t._m(4),s(\"tbody\",t._l(t.blog_list,(function(e,a){return s(\"tr\",{key:a},[t._m(5,!0),s(\"th\",{attrs:{scope:\"col\"}},[s(\"a\",{staticStyle:{\"margin-left\":\"22%\"},attrs:{href:\"#\"},on:{click:function(e){return t.edit_blog(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"15.392\",height:\"15.392\",viewBox:\"0 0 15.392 15.392\",\"data-toggle\":\"modal\",\"data-target\":\"#usermodel\"}},[s(\"path\",{attrs:{id:\"square-edit-outline\",d:\"M4.71,3A1.7,1.7,0,0,0,3,4.71V16.682a1.71,1.71,0,0,0,1.71,1.71H16.682a1.71,1.71,0,0,0,1.71-1.71V10.7h-1.71v5.986H4.71V4.71H10.7V3H4.71m10.928.855a.591.591,0,0,0-.41.171L14.185,5.061,16.322,7.2l1.043-1.035a.578.578,0,0,0,0-.812L16.04,4.026a.571.571,0,0,0-.4-.171M13.578,5.668l-6.3,6.311v2.138H9.413l6.3-6.311Z\",transform:\"translate(-3 -3)\",fill:\"#9499ae\"}})])]),s(\"a\",{attrs:{href:\"#\",\"data-dismiss\":\"modal\"},on:{click:function(s){return t.delete_blog(e.title)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"14\",viewBox:\"0 0 14 14\"}},[s(\"path\",{attrs:{d:\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\",transform:\"translate(-4 -3)\",fill:\"#ff0000\"}})])])]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(t._s(e.title))]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(t._s(e.type))]),s(\"th\",{attrs:{scope:\"col\"}},[s(\"img\",{attrs:{src:e.img_src,alt:\"...\",height:\"60\",width:\"60\"}})]),s(\"th\",{attrs:{scope:\"col\"},domProps:{innerHTML:t._s(e.short_desc)}},[t._v(t._s(e.short_desc)+\"...\")]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(t._s(e.date))])])})),0)])])])])])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"form-group\"},[s(\"div\",{attrs:{id:\"editor\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\"}},[t._v(\"Submit\")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[s(\"div\",{staticClass:\"head-icn\"},[s(\"img\",{attrs:{src:\"/img/user-blue.png\",alt:\"\"}})]),s(\"h3\",[t._v(\"Blogs\")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"thead\",[s(\"tr\",[s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(\"Actions\")]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(\"BLOG TITLE\")]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(\"BLOG TYPE\")]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(\"IMAGE\")]),s(\"th\",{staticStyle:{width:\"35%\"},attrs:{scope:\"col\"}},[t._v(\"BLOG CONTENT\")]),s(\"th\",{staticStyle:{width:\"20%\"},attrs:{scope:\"col\"}},[t._v(\"BLOG DATE\")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\"}}),s(\"span\",{staticClass:\"icn\"})])])])}],i=(s(\"fb6a\"),s(\"b0c0\"),s(\"ac1f\"),s(\"466d\"),s(\"1276\"),s(\"bc3a\")),o=s.n(i),r=s(\"5118\"),n=s(\"ea54\"),c=s.n(n),d={components:{},data:function(){return{quill:\"\",blog_text:\"\",blog:{title:\"\",type:\"\",content:\"\",img_file:\"\"},file_label:\"Choose file\",blog_types:[\"Marketing\",\"Technology\",\"Consultancy\",\"Finance\"],blog_list:[],isEdit:!1,old_file_name:null,spinnerOn:!1,image_edit:!1,blog_submit_url:Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).BLOG_CREATE_URL,show_blogs_url:Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).SHOW_BLOGS_URL,blog_update_url:Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).BLOG_UPDATE_URL}},mounted:function(){var t=this;this.quill=new Quill(\"#editor\",{modules:{toolbar:[[{header:[1,2,!1]}],[\"bold\",\"italic\",\"underline\"],[\"image\",\"code-block\"]]},theme:\"snow\"}),this.quill.on(\"text-change\",(function(){t.$emit(\"input\",t.quill.getText()?t.quill.root.innerHTML:\"\"),t.blog_text=t.quill.getText()?t.quill.root.innerHTML:\"\"}))},methods:{submit_blog:function(){var t=this;event.preventDefault(),\"\"!=this.blog.title&&\"\"!=this.blog.type&&\"\"!=this.blog_text&&\"Choose file\"!=this.file_label?(this.spinnerOn=!0,0==this.isEdit&&o.a.post(c.a.blog_submit_url(),{token:this.$session.get(\"UserInformation\").tokens,email:this.$session.get(\"UserInformation\").email,blog_title:this.blog.title,blog_type:this.blog.type,blog_content:this.blog_text,blog_image:this.blog.img_file,image_name:this.file_label}).then((function(e){\"blog added\"==e.data?(toastr.success(\"Your blog has been added successfully\"),t.clear_all()):\"Duplicate Blog Name\"==e.data?toastr.error(\"This blog title already exists. Please enter another title.\"):\"Duplicate image\"==e.data&&toastr.error(\"Image already exists. Please upload a unique image\"),t.clear_all()})),1==this.isEdit&&(this.spinnerOn=!0,document.getElementById(\"spinner\").parentElement.style.opacity=.5,o.a.post(c.a.blog_update_url(),{token:this.$session.get(\"UserInformation\").tokens,email:this.$session.get(\"UserInformation\").email,blog_title:this.blog.title,blog_type:this.blog.type,blog_content:this.blog_text,blog_image:this.blog.img_file,image_name:this.file_label,isImageEdit:this.image_edit?\"True\":\"False\",old_image_name:this.old_file_name},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){\"blog updated\"==e.data?(toastr.success(\"Your blog has been updated successfully\"),t.clear_all()):\"Duplicate Blog Name\"==e.data?toastr.error(\"This blog title already exists. Please enter another title.\"):\"Duplicate image\"==e.data&&toastr.error(\"Image already exists. Please upload a unique image\"),t.clear_all()})))):toastr.error(\"Please enter all the required details\")},clear_all:function(){var t=this;this.blog.title=\"\",this.blog.type=\"\",this.blog.content=\"\",this.file_label=\"Choose file\",this.quill.root.innerHTML=\"\",this.isEdit=!1,this.image_edit=!1,Object(r[\"setTimeout\"])((function(){t.spinnerOn=!1,t.$router.go()}),1500)},show_blogs:function(){var t=this;o.a.post(c.a.show_blogs_url(),{token:this.$session.get(\"UserInformation\").tokens,email:this.$session.get(\"UserInformation\").email,getAll:\"True\"}).then((function(e){for(var s in t.blog_list=[],e.data[0])t.blog_list.push({title:e.data[0][s],type:e.data[1][s],img_src:e.data[2][s],content:e.data[3][s],short_desc:e.data[3][s].slice(0,.01*e.data[3][s].length),date:e.data[4][s]})}))},delete_blog:function(t){var e=this;o.a.post(c.a.show_blogs_url(),{blog_title:t,isDelete:\"True\",email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens}).then((function(t){\"Query Executed Successfully\"==t.data&&(toastr.success(\"Deleted Successfully\"),e.clear_all())}))},edit_blog:function(t){this.blog.title=this.blog_list[t].title,this.blog.type=this.blog_list[t].type,this.quill.root.innerHTML=this.blog_list[t].content,this.file_label=String(this.blog_list[t].img_src.match(/[a-zA-Z0-9\\-]{0,}\\.[a-zA-Z0-9]{0,}$/)),this.isEdit=!0,$(\"#usermodel\").modal(\"hide\")},fileinput:function(t){var e=t.target.files||t.dataTransfer.files;\"Choose file\"!=this.file_label&&(this.old_file_name=this.file_label,this.image_edit=!0),e.length&&(this.file_label=e[0].name,this.createImage(e[0]))},createImage:function(t,e){var s=this,a=new FileReader;a.onload=function(t){s.blog.img_file=t.target.result.split(\"base64,\")[1]},a.readAsDataURL(t)}}},h=d,g=s(\"2877\"),u=Object(g[\"a\"])(h,a,l,!1,null,\"1f2fd92f\",null);e[\"default\"]=u.exports}}]);","extractedComments":[]}