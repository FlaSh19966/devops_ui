{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"video-calling\"],{\"0aae\":function(e,t,n){e.exports=n.p+\"img/Group 1.1786e49b.svg\"},\"0e57\":function(e,t,n){e.exports=n.p+\"img/Path 73.66b1ce44.svg\"},\"0f77\":function(e,t,n){e.exports=n.p+\"img/Path 109.03f722ac.svg\"},\"159b\":function(e,t,n){var i=n(\"da84\"),o=n(\"fdbc\"),r=n(\"17c2\"),s=n(\"9112\");for(var a in o){var c=i[a],l=c&&c.prototype;if(l&&l.forEach!==r)try{s(l,\"forEach\",r)}catch(u){l.forEach=r}}},\"17c2\":function(e,t,n){\"use strict\";var i=n(\"b727\").forEach,o=n(\"a640\"),r=n(\"ae40\"),s=o(\"forEach\"),a=r(\"forEach\");e.exports=s&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},\"1dde\":function(e,t,n){var i=n(\"d039\"),o=n(\"b622\"),r=n(\"2d00\"),s=o(\"species\");e.exports=function(e){return r>=51||!i((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},\"23f5\":function(e,t,n){\"use strict\";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(t){r(t)}}function a(e){try{c(i[\"throw\"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},\"function\"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError(\"Generator is already executing.\");while(s)try{if(n=1,i&&(o=2&r[0]?i[\"return\"]:r[0]?i[\"throw\"]||((o=i[\"return\"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this;Object.defineProperty(t,\"__esModule\",{value:!0}),t.makeAdapter=function(e,t){void 0===t&&(t=null);var n={then:function(e){return e},catch:function(e){throw e},input:function(e){return Promise.reject(new Error('Input \"'+e+'\" must be supplied'))},output:function(){},inputBatch:function(e,t){return i(r,void 0,void 0,(function(){var t,i,r,s,a,c,l,u,d,h;return o(this,(function(o){switch(o.label){case 0:for(r in t={},i=[],e)i.push(r);s=0,o.label=1;case 1:return s<i.length?(a=i[s],c=e[a],l=\"object\"===typeof c?c.type:c,u=\"object\"===typeof c?c.options:void 0,d=t,h=a,[4,n.input(a,l,u)]):[3,4];case 2:d[h]=o.sent(),o.label=3;case 3:return s++,[3,1];case 4:return[2,t]}}))}))}},s=function(){var e=n.input;return e.batch=n.inputBatch,e},a=function(){return e(s(),n.output).then(n.then).catch(n.catch)};return{exec:a,promise:a,then:function(e){return n.then=e,this},catch:function(e){return n.catch=e,this},output:function(e){return n.output=e,this},input:function(e){if(\"function\"!==typeof e){var t=e;e=function(e){return Promise.resolve(t[e])}}return n.input=e,this},inputBatch:function(e){return n.inputBatch=e,this},attach:function(e){return Object.assign(n,e),this},meta:t}}},\"26d6\":function(e,t,n){e.exports=n.p+\"img/Group 10.bad8c1a3.svg\"},\"32aa\":function(e,t,n){e.exports=n.p+\"img/user.214e1c3e.svg\"},\"360f\":function(e,t,n){},3610:function(e,t,n){e.exports=n.p+\"img/music.98779fb0.svg\"},\"38bd\":function(e,t,n){e.exports=n.p+\"img/Group 152.8bcacc20.svg\"},4160:function(e,t,n){\"use strict\";var i=n(\"23e7\"),o=n(\"17c2\");i({target:\"Array\",proto:!0,forced:[].forEach!=o},{forEach:o})},\"4de4\":function(e,t,n){\"use strict\";var i=n(\"23e7\"),o=n(\"b727\").filter,r=n(\"1dde\"),s=n(\"ae40\"),a=r(\"filter\"),c=s(\"filter\");i({target:\"Array\",proto:!0,forced:!a||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,t){e.exports=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\"},\"58a8\":function(e,t,n){var i=n(\"1d80\"),o=n(\"5899\"),r=\"[\"+o+\"]\",s=RegExp(\"^\"+r+r+\"*\"),a=RegExp(r+r+\"*$\"),c=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(s,\"\")),2&e&&(n=n.replace(a,\"\")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},\"58ad\":function(e,t,n){e.exports=n.p+\"img/Group 8.452383dc.svg\"},\"59ea\":function(e,t,n){e.exports=n.p+\"img/Group 3.5ba0b576.svg\"},\"63ed\":function(e,t,n){e.exports=n.p+\"img/Group 154.ac2a0d5d.svg\"},\"65f0\":function(e,t,n){var i=n(\"861d\"),o=n(\"e8b5\"),r=n(\"b622\"),s=r(\"species\");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,\"function\"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},\"6ad4\":function(e,t,n){e.exports=n.p+\"img/Group 5.d3d73e96.svg\"},7156:function(e,t,n){var i=n(\"861d\"),o=n(\"d2bb\");e.exports=function(e,t,n){var r,s;return o&&\"function\"==typeof(r=t.constructor)&&r!==n&&i(s=r.prototype)&&s!==n.prototype&&o(e,s),e}},\"71f9\":function(e,t,n){\"use strict\";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"footer\",{staticClass:\"fixed-footer\",staticStyle:{display:\"table\"}},[i(\"div\",{staticClass:\"container text-center\",staticStyle:{display:\"table-row\"}},[i(\"div\",{staticClass:\"footer-icon\",staticStyle:{width:\"22%\"}},[i(\"input\",{staticClass:\"slider\",attrs:{type:\"range\",min:\"1\",max:\"100\",value:\"70\",id:\"myRange\"},on:{mousemove:e.slideColorChange}})]),i(\"div\",{staticClass:\"footer-icon\",staticStyle:{width:\"10%\"},on:{click:e.invite_user}},[i(\"img\",{staticStyle:{height:\"26px\",width:\"28%\",\"margin-bottom\":\"4px\"},attrs:{src:n(\"0aae\"),alt:\"\"}}),i(\"p\",{staticStyle:{color:\"white\",\"font-size\":\"x-small\"}},[e._v(\"Invite Attendee\")])]),i(\"div\",{staticClass:\"footer-icon\",staticStyle:{width:\"10%\"},on:{click:e.return_to_chat}},[i(\"img\",{staticStyle:{height:\"26px\",width:\"28%\",\"margin-bottom\":\"4px\"},attrs:{src:n(\"59ea\"),alt:\"\"}}),i(\"p\",{staticStyle:{color:\"white\",\"font-size\":\"x-small\"}},[e._v(\"Attendees\")])]),e._m(0),e._m(1),e._m(2)])])},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"footer-icon\",staticStyle:{width:\"10%\"}},[i(\"img\",{staticStyle:{height:\"26px\",width:\"35%\",\"margin-bottom\":\"4px\"},attrs:{src:n(\"6ad4\"),alt:\"\"}}),i(\"p\",{staticStyle:{color:\"white\",\"font-size\":\"x-small\"}},[e._v(\"Chat\")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"footer-icon\",staticStyle:{width:\"10%\"}},[i(\"img\",{staticStyle:{height:\"26px\",width:\"28%\",\"margin-bottom\":\"4px\"},attrs:{src:n(\"58ad\"),alt:\"\"}}),i(\"p\",{staticStyle:{color:\"white\",\"font-size\":\"x-small\"}},[e._v(\"Lock meeting\")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"footer-icon\",staticStyle:{width:\"10%\"}},[i(\"img\",{staticStyle:{height:\"26px\",width:\"28%\",\"margin-bottom\":\"4px\"},attrs:{src:n(\"26d6\"),alt:\"\"}}),i(\"p\",{staticStyle:{color:\"white\",\"font-size\":\"x-small\"}},[e._v(\"Start Recording\")])])}],r=(n(\"99af\"),n(\"b0c0\"),{data:function(){return{value:null}},methods:{slideColorChange:function(){var e=document.getElementById(\"myRange\").value,t=\"linear-gradient(90deg, rgb(255,255,255) \".concat(e,\"%, rgb(19, 176, 204) \").concat(e,\"%)\");document.getElementById(\"myRange\").style.background=t},share_screen_video_call_page:function(){this.$router.push({name:\"Video-Call\",params:{startsharescreen:!0}})},invite_user:function(){this.$emit(\"invite_attendee\")},return_to_chat:function(){window.localStorage.sessionId&&\"Video-Call\"!==this.$route.name&&this.$router.push({name:\"Video-Call\",params:{roomId:window.localStorage.roomId,feedId:window.localStorage.feedId,clear_global_variables:!0}})}}}),s=r,a=(n(\"c6e3\"),n(\"2877\")),c=Object(a[\"a\"])(s,i,o,!1,null,\"9cb9a542\",null);t[\"a\"]=c.exports},\"79b9\":function(e,t,n){e.exports=n.p+\"img/home.b30e0881.svg\"},\"7c4b\":function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"container-fluid pl-0 pr-0\",staticStyle:{\"min-height\":\"580px\",display:\"table\"}},[e._m(0),i(\"div\",{staticClass:\"container-fluid pt-0 pl-0 pr-0\"},[i(\"div\",{staticClass:\"row\",staticStyle:{height:\"105vh\",width:\"100%\",\"margin-left\":\"0px\"}},[i(\"div\",{staticStyle:{width:\"75%\"}},[i(\"div\",{staticStyle:{display:\"flex\",width:\"100%\"}},[e._l(e.video_call_receiver_list,(function(t,n){return[n<2?[i(\"div\",{key:n,staticClass:\"video-elements-wrap\"},[i(\"div\",{staticClass:\"video-box\"},[i(\"video\",{attrs:{\"max-width\":\"100%\",width:\"100%\",\"max-height\":\"455px\",height:\"455px\",id:\"remoteVideo\"+t.feedId,autoplay:\"\"}})])])]:e._e()]}))],2),i(\"div\",{staticStyle:{display:\"flex\",width:\"100%\",height:\"125px\"}},[i(\"div\",{staticStyle:{display:\"flex\",width:\"100%\",height:\"125px\"}},[i(\"div\",{staticStyle:{height:\"125px\",width:\"82%\"}},[i(\"div\",{staticStyle:{height:\"50px\",display:\"flex\",width:\"100%\"}},[i(\"div\",{staticStyle:{display:\"flex\",width:\"100%\"}},[i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"44%\"}},[i(\"input\",{staticClass:\"slider\",staticStyle:{\"margin-left\":\"48px\"},attrs:{type:\"range\",min:\"1\",max:\"100\",value:\"70\",id:\"videocallslider\"},on:{mousemove:e.slideColorChange}})]),e._m(1),e._m(2),e._m(3),e.display_end_call_button()?i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\",staticStyle:{\"background-color\":\"rgb(214, 28, 28)\"},attrs:{id:\"hangupButton\"},on:{click:e.hangupAction}},[i(\"img\",{staticStyle:{height:\"46%\"},attrs:{src:n(\"b6227\"),alt:\"\"}})])]):e._e(),i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\",on:{click:e.share_video}},[i(\"img\",{staticStyle:{height:\"46%\",\"margin-top\":\"10px\"},attrs:{src:n(\"0e57\"),alt:\"\"}})])]),i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\",on:{click:e.share_screen}},[i(\"img\",{staticStyle:{height:\"46%\",\"margin-top\":\"10px\"},attrs:{src:n(\"ad9b\"),alt:\"\"}})])]),e._m(4),i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"20%\"}})])])]),i(\"div\",{staticStyle:{display:\"table-cell\",width:\"18%\",height:\"125px\"}},[i(\"video\",{attrs:{\"max-width\":\"80%\",width:\"80%\",height:\"103px\",id:\"localVideo\",autoplay:\"\",playsinline:\"\",muted:\"\"},domProps:{muted:!0}})])])])]),i(\"div\",{staticClass:\"col-md-3 pl-0 pr-0\",staticStyle:{width:\"25%\",\"border-left\":\"1px solid #bfc8c5\"}},[e._l(e.video_call_receiver_list,(function(t,n){return i(\"div\",{key:n,staticClass:\"right-side-bar\"},[n>=2?[i(\"video\",{staticStyle:{height:\"131px\",width:\"100px\"},attrs:{autoplay:\"\",draggable:\"true\",id:\"remoteVideo\"+t.feedId},on:{dragstart:e.video_drag_started}})]:e._e()],2)})),e.video_call_receiver_list.length<=2?i(\"div\",{staticClass:\"right-side-bar\"},[i(\"div\",{staticClass:\"right-side-box\",on:{click:e.invite_user}},[e._m(5)])]):e._e(),e.video_call_receiver_list.length<=3?i(\"div\",{staticClass:\"right-side-bar\"},[i(\"div\",{staticClass:\"right-side-box\",on:{click:e.invite_user}},[e._m(6)])]):e._e(),e.video_call_receiver_list.length<=4?i(\"div\",{staticClass:\"right-side-bar\"},[i(\"div\",{staticClass:\"right-side-box\",on:{click:e.invite_user}},[e._m(7)])]):e._e(),e.video_call_receiver_list.length<=5?i(\"div\",{staticClass:\"right-side-bar\"},[i(\"div\",{staticClass:\"right-side-box\",on:{click:e.invite_user}},[e._m(8)])]):e._e()],2)])]),i(\"custom-footer\",{on:{invite_attendee:e.invite_user}})],1)},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"nav\",{staticClass:\"navbar navbar-light pt-0 pb-0\"},[i(\"div\",{staticStyle:{display:\"table-row\",width:\"100%\"}},[i(\"div\",{staticStyle:{display:\"table-cell\",width:\"12%\"}},[i(\"a\",{staticClass:\"navbar-brand\",staticStyle:{\"font-weight\":\"600\"},attrs:{href:\"javascript:void(0)\"}},[e._v(\"COLLABORATION\")])]),i(\"div\",{staticClass:\"navbar-text\"},[i(\"small\",[e._v(\"Amit's Meeting Room\")])]),i(\"div\",{staticClass:\"top-bar-icon\",staticStyle:{width:\"5%\",height:\"5%\"}},[i(\"img\",{staticStyle:{height:\"19%\"},attrs:{src:n(\"79b9\"),alt:\"\"}})]),i(\"div\",{staticClass:\"top-bar-icon\",staticStyle:{width:\"5%\",height:\"5%\"}},[i(\"img\",{staticStyle:{height:\"19%\"},attrs:{src:n(\"9c99\"),alt:\"\"}})]),i(\"div\",{staticClass:\"top-bar-icon\",staticStyle:{width:\"5%\",height:\"5%\"}},[i(\"img\",{staticStyle:{height:\"19%\"},attrs:{src:n(\"ec0a\"),alt:\"\"}})]),i(\"div\",{staticClass:\"top-bar-icon\",staticStyle:{width:\"5%\",height:\"5%\"}},[i(\"img\",{staticStyle:{height:\"19%\"},attrs:{src:n(\"3610\"),alt:\"\"}})]),i(\"div\",{staticClass:\"top-bar-icon\",staticStyle:{width:\"5%\",height:\"5%\"}},[i(\"img\",{staticStyle:{height:\"19%\"},attrs:{src:n(\"b8ce7\"),alt:\"\"}})]),i(\"div\",{staticClass:\"top-bar-icon\",staticStyle:{width:\"5%\",height:\"5%\"}},[i(\"img\",{staticStyle:{height:\"19%\"},attrs:{src:n(\"32aa\"),alt:\"\"}})]),i(\"div\",{staticClass:\"top-bar-icon\"},[i(\"div\",{staticStyle:{float:\"right\",height:\"22px\",\"margin-right\":\"10px\",\"margin-bottom\":\"8px\"}},[i(\"img\",{staticStyle:{height:\"151%\",\"margin-top\":\"6px\"},attrs:{src:n(\"38bd\"),alt:\"\"}})])])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\"},[i(\"img\",{staticStyle:{height:\"46%\",\"margin-top\":\"10px\"},attrs:{src:n(\"a769\"),alt:\"\"}})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\"},[i(\"img\",{staticStyle:{height:\"46%\",\"margin-top\":\"10px\"},attrs:{src:n(\"e19c\"),alt:\"\"}})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\"},[i(\"img\",{staticStyle:{height:\"46%\",\"margin-top\":\"10px\"},attrs:{src:n(\"f4ec\"),alt:\"\"}})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-circle-icon\",staticStyle:{width:\"6%\"}},[i(\"div\",{staticClass:\"blue-circle\"},[i(\"img\",{staticStyle:{height:\"46%\",\"margin-top\":\"10px\"},attrs:{src:n(\"0f77\"),alt:\"\"}})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-right-box\"},[i(\"img\",{staticStyle:{height:\"64%\",\"margin-top\":\"23px\"},attrs:{src:n(\"63ed\"),alt:\"\"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-right-box\"},[i(\"img\",{staticStyle:{height:\"64%\",\"margin-top\":\"23px\"},attrs:{src:n(\"63ed\"),alt:\"\"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-right-box\"},[i(\"img\",{staticStyle:{height:\"64%\",\"margin-top\":\"23px\"},attrs:{src:n(\"63ed\"),alt:\"\"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"blue-right-box\"},[i(\"img\",{staticStyle:{height:\"64%\",\"margin-top\":\"23px\"},attrs:{src:n(\"63ed\"),alt:\"\"}})])}],r=(n(\"99af\"),n(\"4de4\"),n(\"4160\"),n(\"a15b\"),n(\"a9e3\"),n(\"159b\"),n(\"23f5\"),n(\"71f9\")),s=n(\"9aed\"),a={data:function(){return{localvideoStream:null,videoSender:null,audioSender:null,localscreenStream:null,video_call_receiver_list:[{video:1,feedId:0}],localConnection:null,remoteConnection:{},janusConnection:null,phoenixConnection:null,sessionChannel:null,roomChannel:null,sessionId:null,handleId:null,roomId:null,room_joined:!1,feedId:null,CONFIG:{audio:!0,video:!0,iceServers:[{urls:Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_TURN_SERVER_END_POINT,username:\"username1\",credential:\"password1\"}]},process_id:null,session_process_id:null,room_creator:!1}},components:{CustomFooter:r[\"a\"]},methods:{hangupAction:function(){this.$conference_http.post(\"/cense-streaming/leave-feed\",{leave_feed:!0,pid:this.process_id})},invite_user:function(){window.localConnectionData={localConnection:this.localConnection,videoSender:this.videoSender,audioSender:this.audioSender,screenStream:this.localscreenStream},this.$router.push({name:\"Invitation\",params:{roomId:this.roomId,feedId:this.feedId}})},slideColorChange:function(){var e=document.getElementById(\"videocallslider\").value,t=\"linear-gradient(90deg, rgb(39, 60, 125) \".concat(e,\"%, rgb(41, 38, 38) \").concat(e,\"%)\");document.getElementById(\"videocallslider\").style.background=t},video_drag_started:function(){},share_video:function(){var e=this.localvideoStream.getVideoTracks()[0];e.enabled=!0,this.videoSender.replaceTrack(e)},share_screen:function(){var e=this,t={video:{cursor:\"always\"},audio:!1};navigator.mediaDevices.getDisplayMedia(t).then((function(t){e.localscreenStream=t;var n=e.localscreenStream.getVideoTracks()[0];n.onended=function(){var t=e.localvideoStream.getVideoTracks()[0];e.videoSender.replaceTrack(t)},e.videoSender.replaceTrack(n)}))},create_session:function(){var e=this;this.$conference_http.post(\"/cense-streaming/create-session\",{create_new_session:!0,create_room:null===this.roomId,join_as_publisher:!0}).then((function(t){var n=t.data;\"Ok\"===n.status&&(e.sessionId=n.message.session_id,e.handleId=n.message.plugin_id,e.process_id=n.message.pid,e.session_process_id=n.message.sid,n.message.room_id&&(e.roomId=n.message.room_id,e.room_creator=!0),window.localStorage.setItem(\"sessionId\",e.sessionId),window.localStorage.setItem(\"handleId\",e.handleId),window.localStorage.setItem(\"session_pid\",e.session_process_id),window.localStorage.setItem(\"handle_pid\",e.process_id),window.localStorage.setItem(\"roomId\",e.roomId),window.localStorage.setItem(\"room_creator\",e.room_creator),e.initialize_websockets())}))},verify_session:function(){var e=this;this.$conference_http.post(\"/cense-streaming/verify-state\",{verify_session:!0,sid:this.session_process_id,pid:this.process_id,room:this.roomId}).then((function(t){var n=t.data;\"Ok\"===n.status?e.initialize_websockets():\"Error\"===n.status&&(e.feedId=null,\"Invalid session\"===n.message?(e.roomId=null,e.create_session()):\"Invalid handle\"===n.message?e.create_handle(\"publish\"):\"Invalid room\"===n.message&&(e.roomId=n.new_room,e.room_creator=!0,window.localStorage.setItem(\"roomId\",e.roomId),window.localStorage.setItem(\"room_creator\",e.room_creator),e.initialize_websockets()))}))},create_handle:function(e,t){var n=this;\"subscribe\"===e?this.$conference_http.post(\"/cense-streaming/create-handle\",{create_handle:!0,create_room:!1,pid:this.session_process_id}).then((function(e){var i=e.data;n.join_broadcast(t,i.pid)})):\"publish\"===e&&this.$conference_http.post(\"/cense-streaming/create-handle\",{create_handle:!0,pid:this.session_process_id,create_room:!0}).then((function(e){var t=e.data;n.roomId=t.room,n.room_creator=!0,n.process_id=t.pid,n.handleId=t.plugin_id,window.localStorage.setItem(\"roomId\",n.roomId),window.localStorage.setItem(\"handle_pid\",n.process_id),window.localStorage.setItem(\"handleId\",n.handleId),n.initialize_websockets()}))},create_feed:function(){this.$conference_http.post(\"/cense-streaming/create-feed\",{create_feed:!0,pid:this.process_id,room_id:this.roomId,ptype:\"publisher\",feed_id:null})},initialize_websockets:function(){var e=this;this.sessionChannel=this.phoenixConnection.channel(\"session_id:\".concat(this.sessionId)),this.sessionChannel.join(),this.sessionChannel.on(\"initialize_conference_now\",(function(t){var n=t.joined;if(n){e.sessionChannel.on(\"feed_created\",(function(t){var n=t.feed_id;window.localStorage.removeItem(\"feedId\"),window.localStorage.setItem(\"feedId\",n),e.feedId=n,e.start_broadcast()})),e.sessionChannel.on(\"set_remote_description\",(function(t){var n=t.jsep;e.localConnection.setRemoteDescription(new RTCSessionDescription(n)),e.$conference_http.post(\"/cense-streaming/list-participants\",{list_participants:!0,pid:e.process_id,room_id:e.roomId}).then((function(t){var n=t.data;n.participants_list.forEach((function(t){t.id!==e.feedId&&e.add_video_frame(t.id)}))})),setTimeout((function(){e.roomChannel.push(\"new_publisher_joined\",{feed_id:e.feedId,sender:e.handleId})}),500)})),e.sessionChannel.on(\"unpublish_successful\",(function(){e.room_creator?e.$conference_http.post(\"/cense-streaming/destroy-room\",{destroy_room:!0,pid:e.process_id,room:e.roomId}):e.clear_all_videos()})),e.sessionChannel.on(\"feed_left_successfully\",(function(t){t.feed_id;e.room_creator?e.$conference_http.post(\"/cense-streaming/destroy-room\",{destroy_room:!0,pid:e.process_id,room:e.roomId}):e.clear_all_videos()})),e.sessionChannel.on(\"close_this_feed\",(function(t){var n=t.feed_id,i=e.video_call_receiver_list;e.remoteConnection[n]&&e.remoteConnection[n].close(),1===e.video_call_receiver_list.length?e.clear_all_videos():e.video_call_receiver_list=i.filter((function(e){return e.feedId!==n}))}));var i=e;e.sessionChannel.on(\"feed_joined\",(function(t){var n=t.feed_id,o=t.jsep,r=t.pid;e.remoteConnection[n].setRemoteDescription(new RTCSessionDescription(o)),e.remoteConnection[n].createAnswer().then((function(e){i.remoteConnection[n].setLocalDescription(e),i.$conference_http.post(\"/cense-streaming/subscribe-feed\",{subscribe_feed:!0,pid:r,room_id:i.roomId,feed_id:n,jsep:e})}))})),e.sessionChannel.on(\"room_created\",(function(t){var n=t.room_id;e.roomId=n,window.localStorage.setItem(\"roomId\",e.roomId)})),e.roomChannel=e.phoenixConnection.channel(\"room_id:\".concat(e.roomId),{session:e.sessionId}),e.roomChannel.join(),e.roomChannel.on(\"initialize_room_now\",(function(t){var n=t.joined;Boolean(n)&&!e.room_joined&&(e.room_joined=!0,e.feedId?e.$route.params.clear_global_variables||e.start_broadcast(\"feed_already_exists\"):e.create_feed(),e.roomChannel.on(\"add_this_feed\",(function(t){var n=t.feed_id,i=t.sender;e.feedId&&n!==e.feedId&&i!=e.handleId&&e.add_video_frame(n)})),e.roomChannel.on(\"room_destroyed\",(function(){e.clear_all_videos(),e.roomId=null,e.feedId=null,e.disconnect_websockets(),e.room_creator&&e.create_session()})))}))}}))},add_video_frame:function(e){document.getElementById(\"remoteVideo\".concat(e))||(1===this.video_call_receiver_list.length&&0===this.video_call_receiver_list[0].feedId?this.video_call_receiver_list[0].feedId=e:this.video_call_receiver_list.push({video:1,feedId:e}),this.remoteConnection[e]||this.create_handle(\"subscribe\",e))},clear_all_videos:function(){var e=this,t=this.video_call_receiver_list;t.forEach((function(t,n){e.remoteConnection[t.feedId]&&e.remoteConnection[t.feedId].close()})),this.video_call_receiver_list=this.$options.data().video_call_receiver_list,setTimeout((function(){var e=document.getElementById(\"remoteVideo0\");e.pause(),e.srcObject.getTracks().forEach((function(t){t.stop(),e.srcObject.removeTrack(t)})),e.load()}),500),this.remoteConnection={}},start_broadcast:function(e){var t=this;if(!this.audioSender){var n=this.localvideoStream.getAudioTracks()[0];this.audioSender=this.localConnection.addTrack(n,this.localvideoStream);var i=this.localvideoStream.getVideoTracks()[0];this.videoSender=this.localConnection.addTrack(i,this.localvideoStream),i.enabled=!1}this.localConnection.createOffer().then((function(n){t.localConnection.setLocalDescription(n),\"feed_already_exists\"===e?t.$conference_http.post(\"/cense-streaming/configure-feed\",{join_feed:!0,pid:t.process_id,room_id:t.roomId,jsep:n}).then((function(e){e.data})):t.$conference_http.post(\"/cense-streaming/publish-feed\",{join_feed:!0,pid:t.process_id,room_id:t.roomId,jsep:n}).then((function(e){e.data}))}))},on_ice_candidate:function(e){this.$conference_http.post(\"/cense-streaming/trickle\",{pid:this.process_id,event:e.candidate})},on_track:function(e){var t=document.getElementById(\"localVideo\");t.srcObject=e.streams[0]},join_broadcast:function(e,t){var n=this;this.remoteConnection[e]=new RTCPeerConnection(this.CONFIG),this.remoteConnection[e].onicecandidate=function(e){n.$conference_http.post(\"/cense-streaming/trickle\",{pid:t,event:e.candidate})},this.remoteConnection[e].ontrack=function(t){var n=document.getElementById(\"remoteVideo\".concat(e));n.srcObject=t.streams[0]},this.$conference_http.post(\"/cense-streaming/create-feed\",{create_feed:!0,pid:t,room_id:this.roomId,ptype:\"subscriber\",feed_id:e})},display_end_call_button:function(){var e=this.video_call_receiver_list.filter((function(e){return 0!==e.feedId}));return e.length},disconnect_websockets:function(e){this.sessionChannel.leave(),this.roomChannel.leave(),this.room_joined=!1,e&&this.phoenixConnection.disconnect()}},mounted:function(){var e=this;navigator.mediaDevices.getUserMedia(this.CONFIG).then((function(t){var n=document.getElementById(\"localVideo\");n.srcObject=t.clone(),e.$route.params.clear_global_variables?(e.localConnection=window.localConnectionData.localConnection,e.videoSender=window.localConnectionData.videoSender,e.audioSender=window.localConnectionData.audioSender,e.localscreenStream=window.localConnectionData.screenStream,window.localConnectionData=null):e.localConnection=new RTCPeerConnection(e.CONFIG),e.localConnection.onicecandidate=e.on_ice_candidate,e.localConnection.ontrack=e.on_track,e.localvideoStream=t,window.localStorage.getItem(\"session_pid\")&&window.localStorage.getItem(\"handle_pid\")?(e.session_process_id=window.localStorage.getItem(\"session_pid\"),e.process_id=window.localStorage.getItem(\"handle_pid\"),e.sessionId=Number(window.localStorage.getItem(\"sessionId\")),e.roomId=Number(window.localStorage.getItem(\"roomId\")),e.handleId=Number(window.localStorage.getItem(\"handleId\")),e.feedId=Number(window.localStorage.getItem(\"feedId\")),e.room_creator=\"true\"==window.localStorage.getItem(\"room_creator\"),e.verify_session()):e.create_session()}))},created:function(){this.phoenixConnection=new s[\"Socket\"](Object({NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_VIDEO_CONFERENCING_WEBSOCKET_ENDPOINT,{params:{video_session:!0}}),this.phoenixConnection.connect(),this.$route.query.roomId?(this.roomId=Number(this.$route.query.roomId),this.room_creator=!1,window.localStorage.setItem(\"roomId\",this.roomId),window.localStorage.setItem(\"room_creator\",!1)):this.$route.params.roomId&&(this.roomId=this.$route.params.roomId,this.feedId=this.$route.params.feedId)},beforeDestroy:function(){this.disconnect_websockets(!0)}},c=a,l=(n(\"bba4\"),n(\"2877\")),u=Object(l[\"a\"])(c,i,o,!1,null,\"722b168c\",null);t[\"default\"]=u.exports},8418:function(e,t,n){\"use strict\";var i=n(\"c04e\"),o=n(\"9bf2\"),r=n(\"5c6c\");e.exports=function(e,t,n){var s=i(t);s in e?o.f(e,s,r(0,n)):e[s]=n}},\"99af\":function(e,t,n){\"use strict\";var i=n(\"23e7\"),o=n(\"d039\"),r=n(\"e8b5\"),s=n(\"861d\"),a=n(\"7b0b\"),c=n(\"50c4\"),l=n(\"8418\"),u=n(\"65f0\"),d=n(\"1dde\"),h=n(\"b622\"),f=n(\"2d00\"),p=h(\"isConcatSpreadable\"),m=9007199254740991,v=\"Maximum allowed index exceeded\",g=f>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),_=d(\"concat\"),y=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:r(e)},b=!g||!_;i({target:\"Array\",proto:!0,forced:b},{concat:function(e){var t,n,i,o,r,s=a(this),d=u(s,0),h=0;for(t=-1,i=arguments.length;t<i;t++)if(r=-1===t?s:arguments[t],y(r)){if(o=c(r.length),h+o>m)throw TypeError(v);for(n=0;n<o;n++,h++)n in r&&l(d,h,r[n])}else{if(h>=m)throw TypeError(v);l(d,h++,r)}return d.length=h,d}})},\"9aed\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var a=\"1.0.0\",c={connecting:0,open:1,closing:2,closed:3},l=1e4,u={closed:\"closed\",errored:\"errored\",joined:\"joined\",joining:\"joining\",leaving:\"leaving\"},d={close:\"phx_close\",error:\"phx_error\",join:\"phx_join\",reply:\"phx_reply\",leave:\"phx_leave\"},h={longpoll:\"longpoll\",websocket:\"websocket\"},f=function(){function e(t,n,i,o){s(this,e),this.channel=t,this.event=n,this.payload=i||{},this.receivedResp=null,this.timeout=o,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return o(e,[{key:\"resend\",value:function(e){this.timeout=e,this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:\"send\",value:function(){this.hasReceived(\"timeout\")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}},{key:\"receive\",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:\"matchReceive\",value:function(e){var t=e.status,n=e.response;e.ref;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(n)}))}},{key:\"cancelRefEvent\",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:\"cancelTimeout\",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:\"startTimeout\",value:function(){var e=this;this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger(\"timeout\",{})}),this.timeout))}},{key:\"hasReceived\",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:\"trigger\",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),p=t.Channel=function(){function e(t,n,i){var o=this;s(this,e),this.state=u.closed,this.topic=t,this.params=n||{},this.socket=i,this.bindings=[],this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new f(this,d.join,this.params,this.timeout),this.pushBuffer=[],this.rejoinTimer=new g((function(){return o.rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive(\"ok\",(function(){o.state=u.joined,o.rejoinTimer.reset(),o.pushBuffer.forEach((function(e){return e.send()})),o.pushBuffer=[]})),this.onClose((function(){o.rejoinTimer.reset(),o.socket.log(\"channel\",\"close \"+o.topic+\" \"+o.joinRef()),o.state=u.closed,o.socket.remove(o)})),this.onError((function(e){o.isLeaving()||o.isClosed()||(o.socket.log(\"channel\",\"error \"+o.topic,e),o.state=u.errored,o.rejoinTimer.scheduleTimeout())})),this.joinPush.receive(\"timeout\",(function(){o.isJoining()&&(o.socket.log(\"channel\",\"timeout \"+o.topic,o.joinPush.timeout),o.state=u.errored,o.rejoinTimer.scheduleTimeout())})),this.on(d.reply,(function(e,t){o.trigger(o.replyEventName(t),e)}))}return o(e,[{key:\"rejoinUntilConnected\",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:\"join\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw\"tried to join multiple times. 'join' can only be called a single time per channel instance\";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}},{key:\"onClose\",value:function(e){this.on(d.close,e)}},{key:\"onError\",value:function(e){this.on(d.error,(function(t){return e(t)}))}},{key:\"on\",value:function(e,t){this.bindings.push({event:e,callback:t})}},{key:\"off\",value:function(e){this.bindings=this.bindings.filter((function(t){return t.event!==e}))}},{key:\"canPush\",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:\"push\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw\"tried to push '\"+e+\"' to '\"+this.topic+\"' before joining. Use channel.join() before pushing events\";var i=new f(this,e,t,n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:\"leave\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=u.leaving;var n=function(){e.socket.log(\"channel\",\"leave \"+e.topic),e.trigger(d.close,\"leave\",e.joinRef())},i=new f(this,d.leave,{},t);return i.receive(\"ok\",(function(){return n()})).receive(\"timeout\",(function(){return n()})),i.send(),this.canPush()||i.trigger(\"ok\",{}),i}},{key:\"onMessage\",value:function(e,t,n){return t}},{key:\"isMember\",value:function(e){return this.topic===e}},{key:\"joinRef\",value:function(){return this.joinPush.ref}},{key:\"sendJoin\",value:function(e){this.state=u.joining,this.joinPush.resend(e)}},{key:\"rejoin\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||this.sendJoin(e)}},{key:\"trigger\",value:function(e,t,n){var i=d.close,o=d.error,r=d.leave,s=d.join;if(!(n&&[i,o,r,s].indexOf(e)>=0&&n!==this.joinRef())){var a=this.onMessage(e,t,n);if(t&&!a)throw\"channel onMessage callbacks must return the payload, modified or unmodified\";this.bindings.filter((function(t){return t.event===e})).map((function(e){return e.callback(a,n)}))}}},{key:\"replyEventName\",value:function(e){return\"chan_reply_\"+e}},{key:\"isClosed\",value:function(){return this.state===u.closed}},{key:\"isErrored\",value:function(){return this.state===u.errored}},{key:\"isJoined\",value:function(){return this.state===u.joined}},{key:\"isJoining\",value:function(){return this.state===u.joining}},{key:\"isLeaving\",value:function(){return this.state===u.leaving}}]),e}(),m=(t.Socket=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||l,this.transport=i.transport||window.WebSocket||m,this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.reconnectAfterMs=i.reconnectAfterMs||function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.logger=i.logger||function(){},this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=i.params||{},this.endPoint=t+\"/\"+h.websocket,this.reconnectTimer=new g((function(){n.disconnect((function(){return n.connect()}))}),this.reconnectAfterMs)}return o(e,[{key:\"protocol\",value:function(){return location.protocol.match(/^https/)?\"wss\":\"ws\"}},{key:\"endPointURL\",value:function(){var e=v.appendParams(v.appendParams(this.endPoint,this.params),{vsn:a});return\"/\"!==e.charAt(0)?e:\"/\"===e.charAt(1)?this.protocol()+\":\"+e:this.protocol()+\"://\"+location.host+e}},{key:\"disconnect\",value:function(e,t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n||\"\"):this.conn.close(),this.conn=null),e&&e()}},{key:\"connect\",value:function(e){var t=this;e&&(console&&console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"),this.params=e),this.conn||(this.conn=new this.transport(this.endPointURL()),this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:\"log\",value:function(e,t,n){this.logger(e,t,n)}},{key:\"onOpen\",value:function(e){this.stateChangeCallbacks.open.push(e)}},{key:\"onClose\",value:function(e){this.stateChangeCallbacks.close.push(e)}},{key:\"onError\",value:function(e){this.stateChangeCallbacks.error.push(e)}},{key:\"onMessage\",value:function(e){this.stateChangeCallbacks.message.push(e)}},{key:\"onConnOpen\",value:function(){var e=this;this.log(\"transport\",\"connected to \"+this.endPointURL(),this.transport.prototype),this.flushSendBuffer(),this.reconnectTimer.reset(),this.conn.skipHeartbeat||(clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e.sendHeartbeat()}),this.heartbeatIntervalMs)),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:\"onConnClose\",value:function(e){this.log(\"transport\",\"close\",e),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:\"onConnError\",value:function(e){this.log(\"transport\",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:\"triggerChanError\",value:function(){this.channels.forEach((function(e){return e.trigger(d.error)}))}},{key:\"connectionState\",value:function(){switch(this.conn&&this.conn.readyState){case c.connecting:return\"connecting\";case c.open:return\"open\";case c.closing:return\"closing\";default:return\"closed\"}}},{key:\"isConnected\",value:function(){return\"open\"===this.connectionState()}},{key:\"remove\",value:function(e){this.channels=this.channels.filter((function(t){return t.joinRef()!==e.joinRef()}))}},{key:\"channel\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new p(e,t,this);return this.channels.push(n),n}},{key:\"push\",value:function(e){var t=this,n=e.topic,i=e.event,o=e.payload,r=e.ref,s=function(){return t.conn.send(JSON.stringify(e))};this.log(\"push\",n+\" \"+i+\" (\"+r+\")\",o),this.isConnected()?s():this.sendBuffer.push(s)}},{key:\"makeRef\",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:\"sendHeartbeat\",value:function(){this.isConnected()&&this.push({topic:\"phoenix\",event:\"heartbeat\",payload:{},ref:this.makeRef()})}},{key:\"flushSendBuffer\",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:\"onConnMessage\",value:function(e){var t=JSON.parse(e.data),n=t.topic,i=t.event,o=t.payload,r=t.ref;this.log(\"receive\",(o.status||\"\")+\" \"+n+\" \"+i+\" \"+(r&&\"(\"+r+\")\"||\"\"),o),this.channels.filter((function(e){return e.isMember(n)})).forEach((function(e){return e.trigger(i,o,r)})),this.stateChangeCallbacks.message.forEach((function(e){return e(t)}))}}]),e}(),t.LongPoll=function(){function e(t){s(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=c.connecting,this.poll()}return o(e,[{key:\"normalizeEndpoint\",value:function(e){return e.replace(\"ws://\",\"http://\").replace(\"wss://\",\"https://\").replace(new RegExp(\"(.*)/\"+h.websocket),\"$1/\"+h.longpoll)}},{key:\"endpointURL\",value:function(){return v.appendParams(this.pollEndpoint,{token:this.token})}},{key:\"closeAndRetry\",value:function(){this.close(),this.readyState=c.connecting}},{key:\"ontimeout\",value:function(){this.onerror(\"timeout\"),this.closeAndRetry()}},{key:\"poll\",value:function(){var e=this;this.readyState!==c.open&&this.readyState!==c.connecting||v.request(\"GET\",this.endpointURL(),\"application/json\",null,this.timeout,this.ontimeout.bind(this),(function(t){if(t){var n=t.status,i=t.token,o=t.messages;e.token=i}else n=0;switch(n){case 200:o.forEach((function(t){return e.onmessage({data:JSON.stringify(t)})})),e.poll();break;case 204:e.poll();break;case 410:e.readyState=c.open,e.onopen(),e.poll();break;case 0:case 500:e.onerror(),e.closeAndRetry();break;default:throw\"unhandled poll status \"+n}}))}},{key:\"send\",value:function(e){var t=this;v.request(\"POST\",this.endpointURL(),\"application/json\",e,this.timeout,this.onerror.bind(this,\"timeout\"),(function(e){e&&200===e.status||(t.onerror(status),t.closeAndRetry())}))}},{key:\"close\",value:function(e,t){this.readyState=c.closed,this.onclose()}}]),e}()),v=t.Ajax=function(){function e(){s(this,e)}return o(e,null,[{key:\"request\",value:function(e,t,n,i,o,r,s){if(window.XDomainRequest){var a=new XDomainRequest;this.xdomainRequest(a,e,t,i,o,r,s)}else{var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject(\"Microsoft.XMLHTTP\");this.xhrRequest(c,e,t,n,i,o,r,s)}}},{key:\"xdomainRequest\",value:function(e,t,n,i,o,r,s){var a=this;e.timeout=o,e.open(t,n),e.onload=function(){var t=a.parseJSON(e.responseText);s&&s(t)},r&&(e.ontimeout=r),e.onprogress=function(){},e.send(i)}},{key:\"xhrRequest\",value:function(e,t,n,i,o,r,s,a){var c=this;e.timeout=r,e.open(t,n,!0),e.setRequestHeader(\"Content-Type\",i),e.onerror=function(){a&&a(null)},e.onreadystatechange=function(){if(e.readyState===c.states.complete&&a){var t=c.parseJSON(e.responseText);a(t)}},s&&(e.ontimeout=s),e.send(o)}},{key:\"parseJSON\",value:function(e){return e&&\"\"!==e?JSON.parse(e):null}},{key:\"serialize\",value:function(e,t){var n=[];for(var o in e)if(e.hasOwnProperty(o)){var r=t?t+\"[\"+o+\"]\":o,s=e[o];\"object\"===(\"undefined\"===typeof s?\"undefined\":i(s))?n.push(this.serialize(s,r)):n.push(encodeURIComponent(r)+\"=\"+encodeURIComponent(s))}return n.join(\"&\")}},{key:\"appendParams\",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\\?/)?\"&\":\"?\";return\"\"+e+n+this.serialize(t)}}]),e}();v.states={complete:4};t.Presence={syncState:function(e,t,n,i){var o=this,r=this.clone(e),s={},a={};return this.map(r,(function(e,n){t[e]||(a[e]=n)})),this.map(t,(function(e,t){var n=r[e];if(n){var i=t.metas.map((function(e){return e.phx_ref})),c=n.metas.map((function(e){return e.phx_ref})),l=t.metas.filter((function(e){return c.indexOf(e.phx_ref)<0})),u=n.metas.filter((function(e){return i.indexOf(e.phx_ref)<0}));l.length>0&&(s[e]=t,s[e].metas=l),u.length>0&&(a[e]=o.clone(n),a[e].metas=u)}else s[e]=t})),this.syncDiff(r,{joins:s,leaves:a},n,i)},syncDiff:function(e,t,n,i){var o=t.joins,s=t.leaves,a=this.clone(e);return n||(n=function(){}),i||(i=function(){}),this.map(o,(function(e,t){var i,o=a[e];(a[e]=t,o)&&(i=a[e].metas).unshift.apply(i,r(o.metas));n(e,o,t)})),this.map(s,(function(e,t){var n=a[e];if(n){var o=t.metas.map((function(e){return e.phx_ref}));n.metas=n.metas.filter((function(e){return o.indexOf(e.phx_ref)<0})),i(e,n,t),0===n.metas.length&&delete a[e]}})),a},list:function(e,t){return t||(t=function(e,t){return t}),this.map(e,(function(e,n){return t(e,n)}))},map:function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return t(n,e[n])}))},clone:function(e){return JSON.parse(JSON.stringify(e))}};var g=function(){function e(t,n){s(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return o(e,[{key:\"reset\",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:\"scheduleTimeout\",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}()},\"9c99\":function(e,t,n){e.exports=n.p+\"img/msg.f9f64883.svg\"},a15b:function(e,t,n){\"use strict\";var i=n(\"23e7\"),o=n(\"44ad\"),r=n(\"fc6a\"),s=n(\"a640\"),a=[].join,c=o!=Object,l=s(\"join\",\",\");i({target:\"Array\",proto:!0,forced:c||!l},{join:function(e){return a.call(r(this),void 0===e?\",\":e)}})},a640:function(e,t,n){\"use strict\";var i=n(\"d039\");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){throw 1},1)}))}},a769:function(e,t,n){e.exports=n.p+\"img/Path 123.0e544d3d.svg\"},a9e3:function(e,t,n){\"use strict\";var i=n(\"83ab\"),o=n(\"da84\"),r=n(\"94ca\"),s=n(\"6eeb\"),a=n(\"5135\"),c=n(\"c6b6\"),l=n(\"7156\"),u=n(\"c04e\"),d=n(\"d039\"),h=n(\"7c73\"),f=n(\"241c\").f,p=n(\"06cf\").f,m=n(\"9bf2\").f,v=n(\"58a8\").trim,g=\"Number\",_=o[g],y=_.prototype,b=c(h(y))==g,w=function(e){var t,n,i,o,r,s,a,c,l=u(e,!1);if(\"string\"==typeof l&&l.length>2)if(l=v(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+l}for(r=l.slice(2),s=r.length,a=0;a<s;a++)if(c=r.charCodeAt(a),c<48||c>o)return NaN;return parseInt(r,i)}return+l};if(r(g,!_(\" 0o1\")||!_(\"0b1\")||_(\"+0x1\"))){for(var C,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(b?d((function(){y.valueOf.call(n)})):c(n)!=g)?l(new _(w(t)),n,S):w(t)},k=i?f(_):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),I=0;k.length>I;I++)a(_,C=k[I])&&!a(S,C)&&m(S,C,p(_,C));S.prototype=y,y.constructor=S,s(o,g,S)}},ad9b:function(e,t,n){e.exports=n.p+\"img/Group 151.a5fd493e.svg\"},ae40:function(e,t,n){var i=n(\"83ab\"),o=n(\"d039\"),r=n(\"5135\"),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var n=[][e],l=!!r(t,\"ACCESSORS\")&&t.ACCESSORS,u=r(t,0)?t[0]:c,d=r(t,1)?t[1]:void 0;return a[e]=!!n&&!o((function(){if(l&&!i)return!0;var e={length:-1};l?s(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,u,d)}))}},b0c0:function(e,t,n){var i=n(\"83ab\"),o=n(\"9bf2\").f,r=Function.prototype,s=r.toString,a=/^\\s*function ([^ (]*)/,c=\"name\";i&&!(c in r)&&o(r,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return\"\"}}})},b56f:function(e,t,n){},b6227:function(e,t,n){e.exports=n.p+\"img/Group 102.159d3a32.svg\"},b727:function(e,t,n){var i=n(\"0366\"),o=n(\"44ad\"),r=n(\"7b0b\"),s=n(\"50c4\"),a=n(\"65f0\"),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d;return function(f,p,m,v){for(var g,_,y=r(f),b=o(y),w=i(p,m,3),C=s(b.length),S=0,k=v||a,I=t?k(f,C):n?k(f,0):void 0;C>S;S++)if((h||S in b)&&(g=b[S],_=w(g,S,y),e))if(t)I[S]=_;else if(_)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(I,g)}else if(u)return!1;return d?-1:l||u?u:I}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b8ce7:function(e,t,n){e.exports=n.p+\"img/time.757e5669.svg\"},bba4:function(e,t,n){\"use strict\";var i=n(\"360f\"),o=n.n(i);o.a},c6e3:function(e,t,n){\"use strict\";var i=n(\"b56f\"),o=n.n(i);o.a},e19c:function(e,t,n){e.exports=n.p+\"img/Group 100.9af53bbc.svg\"},e8b5:function(e,t,n){var i=n(\"c6b6\");e.exports=Array.isArray||function(e){return\"Array\"==i(e)}},ec0a:function(e,t,n){e.exports=n.p+\"img/heart.197df0a1.svg\"},f4ec:function(e,t,n){e.exports=n.p+\"img/Group 101.814e23cc.svg\"},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);","extractedComments":[]}