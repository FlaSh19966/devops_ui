{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7f8ade3b\"],{\"0b34\":function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"dash-cont\"},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),s(\"div\",{staticClass:\"container-fluid\"},[s(\"div\",{staticClass:\"card dash-card\"},[s(\"div\",{staticClass:\"card-header d-block d-sm-flex flex-wrap justify-content-between\"},[s(\"h4\",{staticClass:\"mb-sm-0\"},[t._v(t._s(t.tlt(\"user_list_heading\")))]),s(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model.trim\",value:t.search_name,expression:\"search_name\",modifiers:{trim:!0}}],staticClass:\"form-control search-bar\",attrs:{id:\"search_bar\",placeholder:t.tlt(\"search_here\")},domProps:{value:t.search_name},on:{keyup:t.callsearch,input:function(e){e.target.composing||(t.search_name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isVisibleSearchClear?s(\"a\",{staticClass:\"btn bg-transparent mt-auto mb-auto py-0\",staticStyle:{\"margin-left\":\"-40px\",\"z-index\":\"10\"},attrs:{type:\"button\"},on:{click:t.clear_search_name}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})]):t._e(),s(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",id:\"search_btn\"},on:{click:t.search_product}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",width:\"14\",height:\"14\"}},[s(\"path\",{attrs:{d:\"M13.809011327100071,12.965505435601472 L9.30910012117823,8.49330664854199 C10.007392079586584,7.596111589605521 10.38512817619458,6.499157170138106 10.38512817619458,5.345374656726532 c0,-1.3810948891881802 -0.5423458634784514,-2.676086605733705 -1.523073527148749,-3.6524965835014083 c-0.9807276636702976,-0.9764099777677033 -2.287209392305289,-1.5136937750578685 -3.6751296371814526,-1.5136937750578685 s-2.6944019735111544,0.5390058607430178 -3.6751296371814526,1.5136937750578685 C0.5293349766245179,2.667565987539975 -0.011278152465820316,3.9642797675383576 -0.011278152465820316,5.345374656726532 c0,1.3793728257353273 0.5423458634784514,2.6778086691865575 1.523073527148749,3.6524965835014083 C2.492523038353222,9.974281217995648 3.7972720326001044,10.51156501528581 5.18692501186438,10.51156501528581 c1.160932040033745,0 2.2629511108717475,-0.37540983272197437 3.165705727077092,-1.0676793407689171 l4.499911205921844,4.470476723606628 a0.1420842198250257,0.14120920313395363 0 0 0 0.20099718902076805,0 l0.7554721932159904,-0.7490976019910955 a0.1420842198250257,0.14120920313395363 0 0 0 0,-0.19975936053095905 zM7.931576282630728,8.073123166045836 C7.196896902072058,8.80155600660269 6.2231001759542055,9.20279679111746 5.18692501186438,9.20279679111746 s-2.0099718902076775,-0.4012407845147706 -2.744651270766347,-1.1296736250716286 C1.709327094927478,7.342968262036121 1.3055999824978375,6.37516860153268 1.3055999824978375,5.345374656726532 s0.4037271124296458,-1.99931566876244 1.1366737586002036,-2.727748509319298 C3.1769531216567026,1.8891933068503817 4.150749847774562,1.4879525223356067 5.18692501186438,1.4879525223356067 s2.0117046245957884,0.3995187210619175 2.744651270766347,1.1296736250716286 S9.06825004123093,4.315580711920385 9.06825004123093,5.345374656726532 s-0.4037271124296458,1.99931566876244 -1.1366737586002036,2.727748509319298 z\",fill:\"#fff\"}})])]),s(\"a\",{staticClass:\"darkblue-btn\",attrs:{href:\"#\",id:\"add_user_btn\"},on:{click:function(e){return t.open_usermodel()}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"13.997\",viewBox:\"0 0 14 13.997\"}},[s(\"path\",{attrs:{id:\"Union_13\",\"data-name\":\"Union 13\",d:\"M-12684,2058v-5h-5a1,1,0,0,1-1-1,1,1,0,0,1,1-1h5v-5a1,1,0,0,1,1-1,1,1,0,0,1,1,1v5h5a1,1,0,0,1,1,1,1,1,0,0,1-1,1h-5v5a1,1,0,0,1-1,1A1,1,0,0,1-12684,2058Z\",transform:\"translate(12690.001 -2045.002)\",fill:\"#fff\"}})]),t._v(\" \"+t._s(t.tlt(\"user_list_add_user_btn\"))+\" \")]),s(\"a\",{staticClass:\"red-btn\",attrs:{href:\"javascript:void(0)\",id:\"delete_user\"},on:{click:function(e){return t.delete_user(\"all\")}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"14\",viewBox:\"0 0 14 14\"}},[s(\"path\",{attrs:{id:\"trash-can-outline\",d:\"M8.375,3v.778H4V5.333h.875V15.444A1.661,1.661,0,0,0,6.625,17h8.75a1.661,1.661,0,0,0,1.75-1.556V5.333H18V3.778H13.625V3H8.375M6.625,5.333h8.75V15.444H6.625V5.333m1.75,1.556v7h1.75v-7H8.375m3.5,0v7h1.75v-7Z\",transform:\"translate(-4 -3)\",fill:\"#fff\"}})]),t._v(\" \"+t._s(t.tlt(\"user_list_delete_btn\"))+\" \")])])]),s(\"div\",{staticClass:\"card-body\"},[s(\"div\",{staticClass:\"table-box\"},[s(\"div\",{staticClass:\"table-responsive\"},[s(\"table\",{staticClass:\"table\"},[s(\"thead\",[s(\"tr\",[s(\"th\",{attrs:{scope:\"col\"}},[s(\"div\",{staticClass:\"form-check checkbox checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label checkbox checkbox-success\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{id:\"selectall\",type:\"checkbox\"},on:{change:function(e){return t.check_list_array(e,\"all\")}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"th\",{staticStyle:{width:\"50px\"},attrs:{scope:\"col\"}},[t._v(t._s(t.tlt(\"user_list_action_label\")))]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(t._s(t.tlt(\"user_list_role_name_label\")))]),s(\"th\",{attrs:{scope:\"col\"}},[t._v(t._s(t.tlt(\"user_list_email_label\")))])])]),s(\"tbody\",t._l(t.users,(function(e,a){return s(\"tr\",{key:a},[s(\"th\",{attrs:{scope:\"row\"}},[s(\"div\",{staticClass:\"form-check checkbox-success\"},[s(\"label\",{staticClass:\"form-check-label checkbox checkbox-success\"},[s(\"input\",{staticClass:\"form-check-input\",attrs:{type:\"checkbox\"},on:{change:function(e){return t.check_list_array(e,a)}}}),s(\"span\",{staticClass:\"icn\"})])])]),s(\"td\",{staticClass:\"action\"},[s(\"a\",{attrs:{href:\"#\",id:\"single_delete_user_id\"},on:{click:function(e){return t.delete_user(a)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"13.682\",height:\"15.392\",viewBox:\"0 0 13.682 15.392\"}},[s(\"path\",{attrs:{d:\"M8.276,3v.855H4v1.71h.855V16.682a1.71,1.71,0,0,0,1.71,1.71h8.551a1.71,1.71,0,0,0,1.71-1.71V5.565h.855V3.855H13.406V3H8.276M6.565,5.565h8.551V16.682H6.565V5.565m1.71,1.71v7.7h1.71v-7.7H8.276m3.42,0v7.7h1.71v-7.7Z\",transform:\"translate(-4 -3)\",fill:\"#f23d3d\"}})])])]),s(\"td\",[t._v(t._s(e.role))]),s(\"td\",[t._v(t._s(e.email))])])})),0)])]),0==t.users.length?s(\"div\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"No User data is available currently. Please add User Data.\")]):t._e(),s(\"div\",{staticClass:\"pagin-table\",staticStyle:{margin:\"0\"}},[s(\"nav\",{attrs:{\"aria-label\":\"Page navigation example\"}},[s(\"ul\",{staticClass:\"pagination justify-content-center\"},[s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(t.page_no-1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-left\",transform:\"translate(105.806 15.204) rotate(180)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])]),t._l(t.page_array,(function(e){return s(\"li\",{key:e,class:\"page-item \"+t.pagination_class(e)},[\"...s\"==e||\"...l\"==e?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return t.page_require(e)}}},[t._v(\"...\")]):t._e(),\"...s\"!=e&&\"...l\"!=e?s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(s){return t.page_require(e)}}},[t._v(t._s(e))]):t._e()])})),s(\"li\",{staticClass:\"page-item\"},[s(\"a\",{staticClass:\"page-link\",attrs:{href:\"#\"},on:{click:function(e){return t.page_require(t.page_no+1)}}},[s(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"8.667\",height:\"15.204\",viewBox:\"0 0 8.667 15.204\"}},[s(\"g\",{attrs:{id:\"arrow-point-to-right\",transform:\"translate(-97.139 0)\"}},[s(\"path\",{attrs:{id:\"Path_1136\",\"data-name\":\"Path 1136\",d:\"M105.493,8.354l-6.537,6.537a1.065,1.065,0,1,1-1.506-1.506L103.235,7.6,97.45,1.817A1.065,1.065,0,0,1,98.956.312l6.537,6.537a1.065,1.065,0,0,1,0,1.505Z\",transform:\"translate(0 0)\",fill:\"#9499ae\"}})])])])])],2)])]),s(\"div\",{staticClass:\"modal fade dash-modal\",attrs:{id:\"usermodel\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"usermodeltitle\",\"aria-hidden\":\"true\",\"data-keyboard\":\"false\",\"data-backdrop\":\"static\"}},[s(\"div\",{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{role:\"document\"}},[s(\"div\",{staticClass:\"modal-content\"},[s(\"div\",{staticClass:\"modal-body\"},[s(\"div\",{staticClass:\"modal-head d-flex align-items-center\"},[t._m(0),s(\"h3\",[t._v(t._s(t.tlt(\"user_list_model_user_header\")))])]),t._m(1),s(\"form\",{on:{submit:t.add_user}},[s(\"div\",{staticClass:\"form-group\"},[s(\"label\",[t._v(t._s(t.tlt(\"user_list_model_role_name_label\")))]),s(\"multiselect\",{attrs:{id:\"role_select\",\"close-on-select\":!0,taggable:!1,multiple:!1,options:t.roles_dropwdown,placeholder:t.tlt(\"select_role\"),\"group-values\":\"list\",\"group-label\":\"title\",\"group-select\":!1,\"track-by\":\"name\",label:\"name\"},on:{select:t.show_field},model:{value:t.selected_role,callback:function(e){t.selected_role=e},expression:\"selected_role\"}})],1),t.show_email_field?s(\"div\",{staticClass:\"form-group\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.email,expression:\"email\"}],staticClass:\"form-control email\",staticStyle:{padding:\"14px 8px 14px 50px\"},attrs:{type:\"email\",placeholder:t.tlt(\"email_text\"),id:\"form_email\"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]):t._e(),s(\"div\",{staticClass:\"btn-wrap text-right\"},[s(\"button\",{staticClass:\"btn btn-link\",attrs:{type:\"button\",\"data-dismiss\":\"modal\"}},[t._v(\" \"+t._s(t.tlt(\"user_list_cancel_btn\"))+\" \")]),s(\"button\",{staticClass:\"darkblue-btn\",attrs:{type:\"submit\"}},[t._v(\" \"+t._s(t.tlt(\"user_list_save_close_btn\"))+\" \")])])])])])])])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"head-icn\"},[s(\"img\",{attrs:{src:\"/img/user-blue.png\",alt:\"\"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"button\",{staticClass:\"close\",attrs:{type:\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[s(\"img\",{attrs:{src:\"/img/close-icn.png\",alt:\"\"}})])}],o=(s(\"c975\"),s(\"d81d\"),s(\"a434\"),s(\"b0c0\"),s(\"bc3a\")),r=s.n(o),n=s(\"3d20\"),l=s.n(n),_=s(\"ea54\"),c=s.n(_),d=s(\"8e5f\"),h=s.n(d),p=s(\"aff8\"),u={name:\"add-user\",components:{Multiselect:h.a,PasswordValidator:p[\"a\"]},data:function(){return{isVisibleSearchClear:!1,portal_roles:[],correct_password:!1,selected_role:\"\",checked_list:[],emaillist:[],password:\"\",email:\"\",per_page:10,total_pages:null,number_of_rows:null,page_no:1,companyname:\"\",companyid:\"\",users:[],roles:[],role:\"\",reg_email:/^([0-9a-zA-Z]([-.\\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\\w]*[0-9a-zA-Z]\\.)+[a-zA-Z]{2,9})$/,reg_pwd:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#@!%*?&$])[A-Za-z\\d#@!%*?&$]{8,}/,show_loader:!1,page_array:[],search_name:\"\",spinnerOn:!1,show_email_field:!1,show_password_field:!1,roles_dropwdown:[{title:\"Portal Role\",list:[]},{title:\"Bot Role\",list:[]}],role_selected:null,role_type_selected:null}},computed:{validPassword:function(){return!!this.reg_pwd.test(this.password)||this.tlt(\"user_list_pwd_condition\")},validEmail:function(){return!!this.reg_email.test(this.email)}},created:function(){this.load_user()},mounted:function(){var t=this;$(\"#selectall\").click((function(){$(this).is(\":checked\")?$(\"input:checkbox\").prop(\"checked\",!0):(t.checked_list=[],$(\"input:checkbox\").prop(\"checked\",!1))})),$(\"#usermodel\").on(\"hidden.bs.modal\",(function(){t.clear_fields()}))},watch:{search_name:function(){\"\"===this.search_name?(this.load_user(),this.isVisibleSearchClear=!1):\"\"!==this.search_name&&(this.isVisibleSearchClear=!0)}},_methods:{open_usermodel:function(){this.portal_roles.length>0?$(\"#usermodel\").modal(\"show\"):l.a.fire({text:this.tlt(\"add_user_no_roles_added_msg\"),type:\"warning\",showConfirmButton:!0,timer:6e3})},checkpassword:function(t){this.correct_password=t},clear_search_name:function(){this.search_name=\"\"},load_user:function(){var t=this;this.spinnerOn=!0,this.checked_list=[],this.emaillist=[],this.role_selected=null,this.portal_roles=[],this.roles_dropwdown=[{title:\"Portal Role\",list:[]},{title:\"Bot Role\",list:[]}],this.selected_role=\"\",$(\"input:checkbox\").prop(\"checked\",!1),this.$session.has(\"CompanyId\")||\"SuperAdmin\"!=this.$session.get(\"UserInformation\").role||toastr.warning(this.tlt(\"add_user_load_user_select_company\")),\"SuperAdmin\"==this.$session.get(\"UserInformation\").role?this.$session.has(\"CompanyId\")?(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):toastr.warning(this.tlt(\"add_user_load_user_select_company2\")):(this.companyid=this.$session.get(\"UserInformation\").company_id,this.companyname=this.$session.get(\"UserInformation\").company_name),r.a.post(c.a.load_users_url(),{company_id:this.companyid,company_name:this.companyname,license_key:this.$session.get(\"UserInformation\").license_key,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,page_no:this.page_no,per_page:this.per_page},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,e.data.message.MSG_CODE==t.api_status_code.DATA_AVAILABLE.MSG_CODE?(t.number_of_rows=void 0==e.data.pagination.total_data?0:e.data.pagination.total_data,t.total_pages=void 0==e.data.pagination.total_page?0:e.data.pagination.total_page,t.update_users(e.data.data.Email,e.data.data.Role),t.setpagination(t.page_no)):e.data.message.MSG_CODE==t.api_status_code.EMPTY_DATA.MSG_CODE?l()({text:e.data.message.MSG,toast:!0,position:\"top-end\",showCancelButton:!1,showConfirmButton:!1,type:\"warning\",timer:2500}):l()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\",timer:2500})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)})),r.a.post(c.a.main_role_url(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,isShow:!0,per_page:1e3},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(e.data.message.MSG_CODE==t.api_status_code.DATA_AVAILABLE.MSG_CODE){if(e.data.data.Portal.length>0)for(var s=0;s<e.data.data.Portal.length;s++)t.portal_roles.push({role:e.data.data.Portal[s],type:\"Portal\"});if(e.data.data.Bot.length>0)for(var a=0;a<e.data.data.Bot.length;a++)t.portal_roles.push({role:e.data.data.Bot[a],type:\"Bot\"});for(var i=0;i<t.portal_roles.length;i++){if(\"Portal\"===t.portal_roles[i].type)for(var o=0;o<t.roles_dropwdown.length;o++)\"Portal Role\"===t.roles_dropwdown[o].title&&t.roles_dropwdown[o].list.push({name:t.portal_roles[i].role,type:\"Portal User\"});if(\"Bot\"===t.portal_roles[i].type)for(var r=0;r<t.roles_dropwdown.length;r++)\"Bot Role\"===t.roles_dropwdown[r].title&&t.roles_dropwdown[r].list.push({name:t.portal_roles[i].role,type:\"Bot User\"})}}else l()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))},pagination_class:function(t){return t==this.page_no?\" active\":\"\"},check_list_array:function(t,e){if(\"all\"==e)1==t.target.checked?this.checked_list=this.users.map((function(t){return t.email})):0==t.target.checked&&(this.checked_list=[]);else if(1==t.target.checked){var s=this.checked_list.indexOf(this.users[e].email),a=this.users[e].email;-1==s&&this.checked_list.push(a)}else if(0==t.target.checked){var i=document.querySelector(\"#selectall\");i.checked=!1;var o=this.checked_list.indexOf(this.users[e].email);this.checked_list.splice(o,1)}},delete_user:function(t){if(this.emaillist=[],\"all\"==t){if(0==this.checked_list.length)l.a.fire({title:this.tlt(\"add_user_no_user_select_msg\"),text:\"\",type:\"error\",timer:2e3});else if(this.checked_list.length>0){for(var e=0,s=this.checked_list.length;e<s;e++)this.emaillist.push(this.checked_list[e]);this.delete_user_api()}}else this.emaillist.push(this.users[t].email),this.delete_user_api()},delete_user_api:function(){var t=this;l.a.fire({title:this.tlt(\"add_user_swal_alert_msg\"),text:this.tlt(\"add_user_no_revert_msg\"),type:\"warning\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:this.tlt(\"add_user_swal_delete_msg\")}).then((function(e){\"cancel\"===e.dismiss?t.emaillist=[]:e.value&&r.a.post(c.a.delete_user_url(),{emaillist:t.emaillist,company_name:t.companyname,company_id:t.companyid,email:t.$session.get(\"UserInformation\").email,license_key:t.$session.get(\"UserInformation\").license_key,token:t.$session.get(\"UserInformation\").tokens,subscription:t.$session.get(\"UserInformation\").subscription},{headers:{Authorization:\"Bearer \".concat(t.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1;var s=[];for(var a in t.emaillist)s.push({username:t.emaillist[a].email});e.data.message.MSG_CODE==t.api_status_code.SUCCESSFUL_DB_QUERY.MSG_CODE?(toastr.success(t.tlt(\"add_user_deleted_successful_msg\")),(1===t.emaillist.length&&1===t.users.length||t.emaillist.length===t.users.length)&&t.page_no>1&&(t.page_no=t.page_no-1)):e.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&(toastr.error(t.tlt(\"search_product_internal_server_msg1\")),t.load_user()),t.checked_list=[],t.emaillist=[],t.load_user()})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))}))},password_toggle:function(t){t.preventDefault();var e=document.getElementById(\"form_password\");\"text\"==e.type?e.type=\"password\":\"password\"==e.type&&(e.type=\"text\")},update_users:function(t,e){if(null==t||null==e);else for(var s in this.users=[],t)this.users.push({email:t[s],role:e[s]})},page_require:function(t){var e=this;$(\"input:checkbox\").prop(\"checked\",!1),this.checked_list=[],this.emaillist=[],0==t||t==this.total_pages+1?event.preventDefault():\"\"!=this.search_name?(this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,this.spinnerOn=!0,r.a.post(c.a.load_users_url(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:this.page_no},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(s){if(e.spinnerOn=!1,s.data.message.MSG_CODE!=e.api_status_code.USER_ROLE_SET_ALREADY_EXISTS_2002.MSG_CODE&&s.data.message.MSG_CODE!=e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&s.data.message.MSG_CODE!=e.api_status_code.EMPTY_DATA.MSG_CODE&&s.data.message.MSG_CODE!=e.api_status_code.SUPER_ADMIN_EXISTS_ERROR.MSG_CODE){if(0!=s.data.data.Email.length){e.number_of_rows=void 0==s.data.pagination.total_data?0:s.data.pagination.total_data,e.total_pages=void 0==s.data.pagination.total_page?0:s.data.pagination.total_page,e.users=[];for(var a=0;a<e.number_of_rows;a++)e.users.push({email:s.data.data[a].Email,role:s.data.data[a].Role});e.page_no=t,e.setpagination(e.page_no)}}else s.data.message.MSG_CODE==e.api_status_code.EMPTY_DATA.MSG_CODE?(toastr.error(e.tlt(\"add_user_no_user_found_msg\")),e.load_user()):s.data.message.MSG_CODE==e.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE?(toastr.error(e.tlt(\"search_product_internal_server_msg1\")),e.load_user()):l()({title:s.data.message.MSG_CODE,text:s.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\"})})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)}))):($(\"input:checkbox\").prop(\"checked\",!1),this.page_no=\"...s\"==t?Math.ceil((1+this.page_no)/2):\"...l\"==t?Math.ceil((this.total_pages+this.page_no)/2):t,this.spinnerOn=!0,r.a.post(c.a.load_users_url(),{intent:this.new_intents,company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,subscription:this.$session.get(\"UserInformation\").subscription,page_no:this.page_no,per_page:this.per_page},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(t){e.spinnerOn=!1,t.data.message.MSG_CODE==e.api_status_code.DATA_AVAILABLE.MSG_CODE?(e.number_of_rows=void 0==t.data.pagination.total_data?0:t.data.pagination.total_data,e.total_pages=void 0==t.data.pagination.total_page?0:t.data.pagination.total_page,e.update_users(t.data.data.Email,t.data.data.Role),e.setpagination(e.page_no)):l()({title:t.data.message.MSG_CODE,text:t.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\",timer:2500})})).catch((function(t){410!==t.response.status&&440!==t.response.status&&409!==t.response.status||e.$root.$emit(\"Session_Expired\",t.response.data)})))},add_user:function(){var t=this;if(event.preventDefault(),\"\"==this.email||1!=this.validEmail)toastr.error(this.tlt(\"add_user_enter_valid_email_msg\"));else if(\"\"==this.selected_role)toastr.error(this.tlt(\"add_user_select_role_name_msg\"));else{this.show_loader=!0,this.spinnerOn=!0,$(\"#usermodel\").modal(\"hide\");var e=new Date;r.a.post(c.a.add_user_url(),{role:this.role_selected,staffemail:this.email,email:this.$session.get(\"UserInformation\").email,password:this.password,company_id:this.companyid,company_name:this.companyname,domain:this.$session.get(\"UserInformation\").domain,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,date:e,user_type:this.role_type_selected},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){t.spinnerOn=!1,e.data.message.MSG_CODE==t.api_status_code.NEW_USER_REGISTERED_SUCCESS_2004.MSG_CODE?l()({title:t.tlt(\"add_user_added_successful_msg\"),type:\"success\",text:t.tlt(\"add_user_user_verification_msg\")}):e.data.message.MSG_CODE==t.api_status_code.DUPLICATE_EMAIL_1015.MSG_CODE?l()({type:\"error\",text:t.tlt(\"add_user_email_already_registered_msg\")}):e.data.message.MSG_CODE==t.api_status_code.CHAT_AGENT_LIMIT_REACHED.MSG_CODE?l()({type:\"warning\",text:t.tlt(\"add_user_upgrade_plan_for_live_chat_msg\"),timer:3e3}):e.data.message.MSG_CODE==t.api_status_code.EMAIL_REGISTERED_WITH_OTHER_COMPANY.MSG_CODE?l()({type:\"error\",text:t.tlt(\"user_registered_with_other_company\"),timer:3e3}):e.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE?l()({type:\"error\",text:t.tlt(\"add_role_internal_server_msg\"),timer:3e3}):e.data.message.MSG_CODE==t.api_status_code.EMAIL_REGISTERED_WITH_OTHER_COMPANY.MSG_CODE?l()({type:\"error\",text:e.data.message.MSG,timer:3e3}):l()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\",timer:2500}),t.load_user()})).catch((function(e){t.spinnerOn=!1,410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))}},clear_fields:function(){this.email=\"\",this.password=\"\",this.selected_role=\"\"},callsearch:function(){13===event.keyCode&&this.search_product()},search_product:function(){var t=this;\"\"!=this.search_name?($(\"input:checkbox\").prop(\"checked\",!1),this.checked_list=[],this.emaillist=[],this.spinnerOn=!0,r.a.post(c.a.load_users_url(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,license_key:this.$session.get(\"UserInformation\").license_key,token:this.$session.get(\"UserInformation\").tokens,issearch:!0,key:this.search_name,per_page:this.per_page,page_no:1},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(e){if(t.spinnerOn=!1,e.data.message.MSG_CODE!=t.api_status_code.USER_ROLE_SET_ALREADY_EXISTS_2002.MSG_CODE&&e.data.message.MSG_CODE!=t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE&&e.data.message.MSG_CODE!=t.api_status_code.EMPTY_DATA.MSG_CODE&&e.data.message.MSG_CODE!=t.api_status_code.SUPER_ADMIN_EXISTS_ERROR.MSG_CODE){if(e.data.message.MSG_CODE==t.api_status_code.DATA_AVAILABLE.MSG_CODE){t.number_of_rows=void 0==e.data.pagination.total_data?0:e.data.pagination.total_data,t.total_pages=void 0==e.data.pagination.total_page?0:e.data.pagination.total_page,t.users=[];for(var s=0;s<t.number_of_rows;s++)t.users.push({email:e.data.data[s].Email,role:e.data.data[s].Role});t.page_no=1,t.setpagination(t.page_no)}}else e.data.message.MSG_CODE==t.api_status_code.EMPTY_DATA.MSG_CODE?(toastr.error(t.tlt(\"add_user_no_user_found_msg\")),t.load_user()):e.data.message.MSG_CODE==t.api_status_code.INTERNAL_SERVER_ERROR.MSG_CODE?(toastr.error(t.tlt(\"search_product_internal_server_msg1\")),t.load_user()):l()({title:e.data.message.MSG_CODE,text:e.data.message.MSG,showCancelButton:!1,showConfirmButton:!1,type:\"error\",timer:2500})})).catch((function(e){410!==e.response.status&&440!==e.response.status&&409!==e.response.status||t.$root.$emit(\"Session_Expired\",e.response.data)}))):toastr.error(this.tlt(\"add_user_data_for_search_msg\"))},setpagination:function(t){if(this.page_array=[],this.total_pages<=7)for(var e=0;e<this.total_pages;e++)this.page_array.push(e+1);else if(1==t){for(var s=0;s<4;s++)this.page_array.push(s+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t==this.total_pages){this.page_array.push(1),this.page_array.push(\"...s\");for(var a=this.total_pages-4;a<this.total_pages;a++)this.page_array.push(a+1)}else if(t<=4){for(var i=0;i<t+3;i++)this.page_array.push(i+1);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}else if(t>=this.total_pages-4){this.page_array.push(1),this.page_array.push(\"...s\");for(var o=t-4;o<this.total_pages;o++)this.page_array.push(o+1)}else{this.page_array.push(1),this.page_array.push(\"...s\");for(var r=t-3;r<=t+3;r++)this.page_array.push(r);this.page_array.push(\"...l\"),this.page_array.push(this.total_pages)}},show_field:function(t,e){this.role_selected=t.name,this.role_type_selected=t.type,this.show_email_field=!1,this.show_password_field=!1;for(var s=0;s<this.portal_roles.length;s++)this.portal_roles[s].role===t.name&&(\"Bot\"===this.portal_roles[s].type?this.show_email_field=!0:\"Portal\"===this.portal_roles[s].type&&(this.show_email_field=!0,this.show_password_field=!0))}},get methods(){return this._methods},set methods(t){this._methods=t}},m=u,g=(s(\"b7a3\"),s(\"2877\")),f=Object(g[\"a\"])(m,a,i,!1,null,\"00110d0a\",null);e[\"default\"]=f.exports},\"2c50\":function(t,e,s){},b7a3:function(t,e,s){\"use strict\";var a=s(\"2c50\"),i=s.n(a);i.a}}]);","extractedComments":[]}