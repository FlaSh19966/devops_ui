{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-22934f80\"],{\"03f6\":function(t,a,e){\"use strict\";var s=e(\"c533\"),n=e.n(s);n.a},c533:function(t,a,e){},ed09:function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",[e(\"div\",{staticClass:\"dash-cont\"},[e(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.spinnerOn,expression:\"spinnerOn\"}],staticClass:\"spinner\",attrs:{id:\"spinner\"}}),e(\"div\",{staticClass:\"container-fluid\",attrs:{id:\"dashboard-chart\"}},[e(\"div\",{staticClass:\"card dash-card\"},[e(\"div\",{staticClass:\"card-header d-flex flex-wrap justify-content-between pb-0\"},[e(\"h3\",{staticClass:\"mab-3 mb-md-0\"},[t._v(\" Welcome \"+t._s(t.$session.get(\"UserFirstName\"))+\" \")])]),e(\"ul\",{staticClass:\"list-group mb-2\",staticStyle:{width:\"auto\"},style:t.display_list_dynamic_class()},t._l(t.display_list,(function(a,s){return e(\"li\",{key:s,staticClass:\"list-group-item\",class:t.list_group_dynamic_class(a.entity)},[e(\"span\",{domProps:{innerHTML:t._s(a.message)}}),e(\"a\",{staticStyle:{float:\"right\"},attrs:{href:\"#\"},on:{click:function(e){return t.go_to_page(a.entity)}}},[t._v(\" \"+t._s(a.click_text))])])})),0)]),e(\"div\",{staticClass:\"card dash-card\"},[e(\"div\",{staticClass:\"card-header d-flex flex-wrap justify-content-between\"},[e(\"h4\",{staticClass:\"mab-3 mb-md-0\"},[t._v(\"ChatBot Request - Response\")]),e(\"div\",{staticClass:\"card-act d-flex flex-wrap\"},[e(\"div\",{staticClass:\"form-group mb-0\"},[e(\"select\",{staticClass:\"form-control\",attrs:{id:\"exampleFormControlSelect1\"},on:{change:t.bar_chart_dropdown}},[e(\"option\",[t._v(\"Last 7 days\")]),e(\"option\",[t._v(\"Last 30 days\")]),e(\"option\",[t._v(\"Last 3 months\")]),e(\"option\",[t._v(\"Last 9 months\")]),e(\"option\",[t._v(\"Last 12 months\")])])])])]),e(\"div\",{staticClass:\"card-body\"},[e(\"div\",{staticClass:\"chart-box\"},[e(\"request-chart\",{attrs:{Successful:t.API_data.Successful,Total:t.API_data.Total,Unsuccessful:t.API_data.Unsuccessful,labels:t.API_data.labels,scaleLabel:t.bar_chart_dropdown_value}})],1)])])])])])},n=[],i=(e(\"caad\"),e(\"b0c0\"),e(\"2532\"),e(\"bc3a\")),o=e.n(i),r=e(\"ab70\"),l=e(\"ea54\"),d=e.n(l),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"canvas\",{attrs:{height:\"80%\",id:\"canvas1\"}})},u=[],h=(e(\"cb29\"),e(\"30ef\")),p=e.n(h),_={name:\"request-chart\",data:function(){return{BarChart:null}},props:{Successful:{type:Array,default:[]},Unsuccessful:{type:Array,default:[]},Total:{type:Array,default:[]},labels:{type:Array,default:[]},scaleLabel:{type:String,default:\"Last 7 days\"}},watch:{Successful:function(t){this.BarChart.config.data.datasets[0].data=t,this.BarChart.update()},Total:function(t){this.BarChart.config.data.datasets[1].data=t,this.BarChart.update()},Unsuccessful:function(t){this.BarChart.config.data.datasets[2].data=t,this.BarChart.update()},labels:function(t){this.BarChart.config.data.labels=t,this.BarChart.update()},scaleLabel:function(t){this.BarChart.options.scales.xAxes[0].scaleLabel.labelString=t,this.BarChart.update()}},mounted:function(){var t={red:\"rgb(255, 99, 132)\",orange:\"rgb(255, 159, 64)\",yellow:\"rgb(255, 216, 62)\",green:\"rgb(83, 185, 99)\",blue:\"rgb(29, 170, 225)\",purple:\"rgb(153, 102, 255)\",grey:\"rgb(231,233,237)\"};p.a.helpers.drawRoundedTopRectangle=function(t,a,e,s,n,i){t.beginPath(),t.moveTo(a+i,e),t.lineTo(a+s-i,e),t.quadraticCurveTo(a+s,e,a+s,e+i),t.lineTo(a+s,e+n),t.lineTo(a,e+n),t.lineTo(a,e+i),t.quadraticCurveTo(a,e,a+i,e),t.closePath()},p.a.defaults.global.legend.labels.boxWidth=20,p.a.elements.RoundedTopRectangle=p.a.elements.Rectangle.extend({draw:function(){var t,a,e,s,n,i,o,r=this._chart.ctx,l=this._view,d=l.borderWidth;if(l.horizontal?(t=l.base,a=l.x,e=l.y-l.height/4,s=l.y+l.height/4,n=a>t?1:-1,i=1,o=l.borderSkipped||\"left\"):(t=l.x-l.width/3,a=l.x+l.width/3,e=l.y,s=l.base,n=1,i=s>e?1:-1,o=l.borderSkipped||\"bottom\"),d){var c=Math.max(Math.abs(t-a),Math.abs(e-s));d=d>c?c:d;var u=d/4,h=t+(\"left\"!==o?u*n:0),_=a+(\"right\"!==o?-u*n:0),m=e+(\"top\"!==o?u*i:0),f=s+(\"bottom\"!==o?-u*i:0);h!==_&&(e=m,s=f),m!==f&&(t=h,a=_)}var b=Math.abs(t-a),g=this._chart.config.options.barRoundness||.8,y=b*g*.5,C=e;e=C+y;var v=e-C;r.beginPath(),r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=d,p.a.helpers.drawRoundedTopRectangle(r,t,e-v+1,b,s-C,v),r.fill(),d&&r.stroke(),e=C}}),p.a.defaults.roundedBar=p.a.helpers.clone(p.a.defaults.bar),p.a.controllers.roundedBar=p.a.controllers.bar.extend({dataElementType:p.a.elements.RoundedTopRectangle});var a=document.getElementById(\"canvas1\").getContext(\"2d\");this.BarChart=new p.a(a,{type:\"roundedBar\",data:{labels:this.labels,datasets:[{label:\"Successful Response\",backgroundColor:t.blue,data:[]},{label:\"Total Requests\",backgroundColor:t.green,data:[]},{label:\"Unsuccessful Response\",backgroundColor:t.yellow,data:[]}]},options:{responsive:!0,barRoundness:1,title:{display:!1},scales:{yAxes:[{position:\"left\",scaleLabel:{display:!0,fontSize:18,labelString:\"Total Requests Count\"},ticks:{display:!0,beginAtZero:!0,precision:0}}],xAxes:[{position:\"bottom\",scaleLabel:{display:!0,fontSize:18,labelString:this.scaleLabel}}]}}})}},m=_,f=e(\"2877\"),b=Object(f[\"a\"])(m,c,u,!1,null,null,null),g=b.exports,y=e(\"fe33\"),C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"canvas\",{attrs:{height:\"80%\",id:\"canvas2\"}})},v=[],x={name:\"billing-chart\",data:function(){return{BarChart:null}},props:{CallsCount:{type:Array,default:[]},MsgExchange:{type:Array,default:[]},TasksExecuted:{type:Array,default:[]},labels:{type:Array,default:[]},scaleLabel:{type:String,default:\"Last 7 days\"}},watch:{CallsCount:function(t){this.BarChart.config.data.datasets[0].data=t,this.BarChart.update()},MsgExchange:function(t){this.BarChart.config.data.datasets[1].data=t,this.BarChart.update()},TasksExecuted:function(t){this.BarChart.config.data.datasets[2].data=t,this.BarChart.update()},labels:function(t){this.BarChart.config.data.labels=t,this.BarChart.update()},scaleLabel:function(t){this.BarChart.options.scales.xAxes[0].scaleLabel.labelString=t,this.BarChart.update()}},mounted:function(){var t={red:\"rgb(255, 99, 132)\",orange:\"rgb(255, 159, 64)\",yellow:\"rgb(255, 216, 62)\",green:\"rgb(83, 185, 99)\",blue:\"rgb(29, 170, 225)\",purple:\"rgb(153, 102, 255)\",grey:\"rgb(231,233,237)\"};p.a.helpers.drawRoundedTopRectangle=function(t,a,e,s,n,i){t.beginPath(),t.moveTo(a+i,e),t.lineTo(a+s-i,e),t.quadraticCurveTo(a+s,e,a+s,e+i),t.lineTo(a+s,e+n),t.lineTo(a,e+n),t.lineTo(a,e+i),t.quadraticCurveTo(a,e,a+i,e),t.closePath()},p.a.defaults.global.legend.labels.boxWidth=20,p.a.defaults.global.legend.labels.padding=40,p.a.elements.RoundedTopRectangle=p.a.elements.Rectangle.extend({draw:function(){var t,a,e,s,n,i,o,r=this._chart.ctx,l=this._view,d=l.borderWidth;if(l.horizontal?(t=l.base,a=l.x,e=l.y-l.height/4,s=l.y+l.height/4,n=a>t?1:-1,i=1,o=l.borderSkipped||\"left\"):(t=l.x-l.width/3,a=l.x+l.width/3,e=l.y,s=l.base,n=1,i=s>e?1:-1,o=l.borderSkipped||\"bottom\"),d){var c=Math.max(Math.abs(t-a),Math.abs(e-s));d=d>c?c:d;var u=d/4,h=t+(\"left\"!==o?u*n:0),_=a+(\"right\"!==o?-u*n:0),m=e+(\"top\"!==o?u*i:0),f=s+(\"bottom\"!==o?-u*i:0);h!==_&&(e=m,s=f),m!==f&&(t=h,a=_)}var b=Math.abs(t-a),g=this._chart.config.options.barRoundness||.8,y=b*g*.5,C=e;e=C+y;var v=e-C;r.beginPath(),r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=d,p.a.helpers.drawRoundedTopRectangle(r,t,e-v+1,b,s-C,v),r.fill(),d&&r.stroke(),e=C}}),p.a.defaults.roundedBar=p.a.helpers.clone(p.a.defaults.bar),p.a.controllers.roundedBar=p.a.controllers.bar.extend({dataElementType:p.a.elements.RoundedTopRectangle});var a=document.getElementById(\"canvas2\").getContext(\"2d\");this.BarChart=new p.a(a,{type:\"roundedBar\",data:{labels:this.labels,datasets:[{label:\"Calls Count\",backgroundColor:t.blue,data:this.CallsCount},{label:\"Messages Exchanged\",backgroundColor:t.green,data:this.MsgExchange},{label:\"Tasks Executed\",backgroundColor:t.yellow,data:this.TasksExecuted}]},options:{responsive:!0,barRoundness:1,title:{display:!1},scales:{yAxes:[{position:\"left\",scaleLabel:{display:!0,fontSize:18,labelString:\"Count\"},ticks:{display:!0,beginAtZero:!0}}],xAxes:[{position:\"bottom\",scaleLabel:{display:!0,fontSize:18,labelString:this.scaleLabel}}]}}})}},w=x,$=Object(f[\"a\"])(w,C,v,!1,null,null,null),S=$.exports,k=e(\"3d20\"),B=e.n(k),T={props:{},components:{RequestChart:g,AreaChart:y[\"a\"],BillingChart:S},created:function(){var t=this;!this.$session.has(\"CompanyId\")&&this.$session.has(\"UserInformation\").role&&\"SuperAdmin\"==this.$session.get(\"UserInformation\").role&&toastr.warning(\"Please select a company name from the dropdown\"),\"SuperAdmin\"==this.user_role?this.$session.has(\"CompanyId\")&&(this.companyid=this.$session.get(\"CompanyId\"),this.companyname=this.$session.get(\"CompanyName\")):(this.companyid=this.$session.has(\"UserInformation\")?this.$session.get(\"UserInformation\").company_id:\"\",this.companyname=this.$session.has(\"UserInformation\")?this.$session.get(\"UserInformation\").company_name:\"\"),o.a.post(d.a.dashboard_chart_url(),{companyname:this.companyname,companyid:this.companyid,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,load_data_by:\"Last 7 days\",license_key:this.$session.get(\"UserInformation\").license_key},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(a){t.update_chart_data(a.data)})).catch((function(a){410!==a.response.status&&440!==a.response.status&&409!==a.response.status||t.$root.$emit(\"Session_Expired\",a.response.data)})),this.spinnerOn=!0,o.a.post(d.a.dashboard_bot_details_count(),{company_name:this.companyname,company_id:this.companyid,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,license_key:this.$session.get(\"UserInformation\").license_key,is_get:!0},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(a){for(var e in t.spinnerOn=!1,t.$session.get(\"ChatbotMenu\"))for(var s in t.permission_list.push(t.$session.get(\"ChatbotMenu\")[e].main_menu.name),t.$session.get(\"ChatbotMenu\")[e].sub_menu_list)t.permission_list.push(t.$session.get(\"ChatbotMenu\")[e].sub_menu_list[s].name);if(\"Success\"===a.data.Status){var n=!1,i=!1;for(var o in t.permission_list)\"Verify Bot Response\"==t.permission_list[o]&&(n=!0),\"Store\"===t.permission_list[o]&&(i=!0);for(var e in a.data.data){var r=!1;for(var s in t.permission_list)a.data.data[e].entity==t.permission_list[s]&&(a.data.data[e].list_belong=t.list_group_dynamic_type(a.data.data[e].entity),t.display_list.push(a.data.data[e]),r=!0),1==n&&\"Verify Responses Unanswered\"==a.data.data[e].entity&&(r=!0,a.data.data[e].list_belong=t.list_group_dynamic_type(a.data.data[e].entity),t.display_list.push(a.data.data[e]),n=!1),1==i&&\"Products\"==a.data.data[e].entity&&(r=!0,a.data.data[e].list_belong=t.list_group_dynamic_type(a.data.data[e].entity),t.display_list.push(a.data.data[e]),i=!1);r||\"Training\"===a.data.data[e].entity&&(a.data.data[e].list_belong=t.list_group_dynamic_type(a.data.data[e].entity),t.display_list.push(a.data.data[e]),r=!0),r||\"Synonyms\"===a.data.data[e].entity&&(a.data.data[e].list_belong=t.list_group_dynamic_type(a.data.data[e].entity),t.display_list.push(a.data.data[e]),r=!0),r||\"Accounts\"===a.data.data[e].entity&&(a.data.data[e].list_belong=t.list_group_dynamic_type(a.data.data[e].entity),t.display_list.push(a.data.data[e]),r=!0)}t.display_list.sort((function(t,a){return t.list_belong>a.list_belong?1:-1}))}})).catch((function(a){t.spinnerOn=!1,410!==a.response.status&&440!==a.response.status&&409!==a.response.status||t.$root.$emit(\"Session_Expired\",a.response.data)}))},updated:function(){var t=this;r[\"bus\"].$on(\"company attributes updated\",(function(t){\"True\"==t&&r[\"bus\"].$emit(\"send company attributes\")})),r[\"bus\"].$on(\"company name and company id\",(function(a,e){t.$router.go()}))},data:function(){return{show:!1,bar_chart_dropdown_value:\"Last 7 days\",bar_chart2_dropdown_value:\"Last 7 days\",companyname:null,companyid:null,permission_list:[],API_data:{labels:[],Successful:[],Total:[],Unsuccessful:[],xAxisLabel:\"\"},Second_chart:{labels:[],CallCount:[],MsgExchange:[],TaskExecution:[]},Concurrent_Users_Data:{labels:[],data:[]},concurrent_users_month:\"\",user_role:this.$session.has(\"UserInformation\")?this.$session.get(\"UserInformation\").role:\"\",intent_count:53,intent_count_display:0,display_list:[],primary_item_entities_list:[\"Intents\",\"Questions\",\"Responses\",\"Training\"],danger_item_entities_list:[\"Verify Responses Unanswered\",\"Verify Bot Response\",\"Products\",\"Synonyms\",\"Accounts\"],info_item_entities_list:[],success_item_info_list:[\"Check Bot Response\",\"Bot Configuration\"],item_list_order:[\"danger_item_entities_list\",\"success_item_info_list\",\"primary_item_entities_list\"],spinnerOn:!1}},methods:{bar_chart_dropdown:function(){var t=this;this.bar_chart_dropdown_value=event.target.value,o.a.post(d.a.dashboard_chart_url(),{companyname:this.companyname,companyid:this.companyid,email:this.$session.get(\"UserInformation\").email,token:this.$session.get(\"UserInformation\").tokens,load_data_by:this.bar_chart_dropdown_value,license_key:this.$session.get(\"UserInformation\").license_key},{headers:{Authorization:\"Bearer \".concat(this.$session.get(\"at\"))}}).then((function(a){t.update_chart_data(a.data)})).catch((function(a){410!==a.response.status&&440!==a.response.status&&409!==a.response.status||t.$root.$emit(\"Session_Expired\",a.response.data)}))},update_chart_data:function(t){if(this.API_data.labels=[],this.API_data.Successful=[],this.API_data.Total=[],this.API_data.Unsuccessful=[],\"No Data available\"==t);else for(var a in t)this.API_data.labels.push(a),this.API_data.Successful.push(t[a].Successful),this.API_data.Total.push(t[a].Total),this.API_data.Unsuccessful.push(t[a].Unsuccessful)},go_to_page:function(t){var a=this;\"Verify Responses Unanswered\"==t?this.$router.push({name:\"Verify Bot Response\",params:{modal_open_switch_tab:!1}}):\"Synonyms\"==t?B()({title:\"Are You Sure?\",text:\"You want to Train The Model?\",type:\"question\",showCancelButton:!0,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, Confirm!\",allowOutsideClick:!1,allowEscapeKey:!1}).then((function(t){t.value&&(a.spinnerOn=!0,o.a.post(d.a.train_intent_ner_model(),{email:a.$session.get(\"UserInformation\").email,license_key:a.$session.get(\"UserInformation\").license_key,token:a.$session.get(\"UserInformation\").tokens,subscription:a.$session.get(\"UserInformation\").subscription,company_name:a.$session.get(\"UserInformation\").company_name,company_id:a.$session.get(\"UserInformation\").company_id,update_model:!0,update_model_status:!0},{headers:{Authorization:\"Bearer \".concat(a.$session.get(\"at\"))}}).then((function(t){a.spinnerOn=!1,a.$root.$emit(\"want_model_status\",!0),4046===t.data.MSG_CODE?toastr.success(t.data.MSG):1034===t.data.MSG_CODE?toastr.error(t.data.MSG):toastr.error(\"Internal Server Error\")})).catch((function(t){a.spinnerOn=!1,410!==t.response.status&&440!==t.response.status&&409!==t.response.status||a.$root.$emit(\"Session_Expired\",t.response.data),toastr.error(\"Some error occurred. Please try again.\")})))})):\"Products\"==t?this.$router.push({path:\"/bot/store-configuration\"}):\"Accounts\"==t?this.$router.push({name:\"Settings\",params:{Subscription:!0}}):this.$router.push({name:t,params:{modal_open_switch_tab:!0}})},intents_count_function:function(){var t=this,a=null,e=2e3,s=this.intent_count,n=0,i=function i(o){a||(a=o);var r=Math.min((o-a)/e,1);t.intent_count_display=Math.floor(r*(s-n)+n),r<1&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)},list_group_dynamic_class:function(t){return this.primary_item_entities_list.includes(t)?\"list-group-item-primary\":this.danger_item_entities_list.includes(t)?\"list-group-item-danger\":this.info_item_entities_list.includes(t)?\"list-group-item-info\":this.success_item_info_list.includes(t)?\"list-group-item-success\":void 0},list_group_dynamic_type:function(t){return this.primary_item_entities_list.includes(t)?\"d-primary\":this.danger_item_entities_list.includes(t)?\"a-danger\":this.info_item_entities_list.includes(t)?\"b-info\":this.success_item_info_list.includes(t)?\"c-success\":void 0},display_list_dynamic_class:function(){return this.display_list.length>0?\"padding: 20px 25px;\":\"padding: 10px 25px;\"}}},A=T,I=(e(\"03f6\"),Object(f[\"a\"])(A,s,n,!1,null,\"b47d7680\",null));a[\"default\"]=I.exports}}]);","extractedComments":[]}